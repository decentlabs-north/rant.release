var _qe=Object.create;var Xv=Object.defineProperty;var xqe=Object.getOwnPropertyDescriptor;var wqe=Object.getOwnPropertyNames;var Aqe=Object.getPrototypeOf,Eqe=Object.prototype.hasOwnProperty;var a=(e,t)=>Xv(e,"name",{value:t,configurable:!0}),Hi=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var gy=(e,t)=>()=>(e&&(t=e(e=0)),t);var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),JX=(e,t)=>{for(var r in t)Xv(e,r,{get:t[r],enumerable:!0})},ZX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wqe(t))!Eqe.call(e,i)&&i!==r&&Xv(e,i,{get:()=>t[i],enumerable:!(n=xqe(t,i))||n.enumerable});return e};var wn=(e,t,r)=>(r=e!=null?_qe(Aqe(e)):{},ZX(t||!e||!e.__esModule?Xv(r,"default",{value:e,enumerable:!0}):r,e)),w6=e=>ZX(Xv({},"__esModule",{value:!0}),e);var rJ=j(A6=>{"use strict";d();A6.byteLength=kqe;A6.toByteArray=Iqe;A6.fromByteArray=Bqe;var cl=[],_c=[],Sqe=typeof Uint8Array<"u"?Uint8Array:Array,VB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(_p=0,eJ=VB.length;_p<eJ;++_p)cl[_p]=VB[_p],_c[VB.charCodeAt(_p)]=_p;var _p,eJ;_c["-".charCodeAt(0)]=62;_c["_".charCodeAt(0)]=63;function tJ(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}a(tJ,"getLens");function kqe(e){var t=tJ(e),r=t[0],n=t[1];return(r+n)*3/4-n}a(kqe,"byteLength");function Cqe(e,t,r){return(t+r)*3/4-r}a(Cqe,"_byteLength");function Iqe(e){var t,r=tJ(e),n=r[0],i=r[1],s=new Sqe(Cqe(e,n,i)),o=0,u=i>0?n-4:n,l;for(l=0;l<u;l+=4)t=_c[e.charCodeAt(l)]<<18|_c[e.charCodeAt(l+1)]<<12|_c[e.charCodeAt(l+2)]<<6|_c[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=_c[e.charCodeAt(l)]<<2|_c[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=_c[e.charCodeAt(l)]<<10|_c[e.charCodeAt(l+1)]<<4|_c[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}a(Iqe,"toByteArray");function Tqe(e){return cl[e>>18&63]+cl[e>>12&63]+cl[e>>6&63]+cl[e&63]}a(Tqe,"tripletToBase64");function Mqe(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Tqe(n));return i.join("")}a(Mqe,"encodeChunk");function Bqe(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,u=r-n;o<u;o+=s)i.push(Mqe(e,o,o+s>u?u:o+s));return n===1?(t=e[r-1],i.push(cl[t>>2]+cl[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(cl[t>>10]+cl[t>>4&63]+cl[t<<2&63]+"=")),i.join("")}a(Bqe,"fromByteArray")});var nJ=j(jB=>{d();jB.read=function(e,t,r,n,i){var s,o,u=i*8-n-1,l=(1<<u)-1,f=l>>1,h=-7,p=r?i-1:0,g=r?-1:1,y=e[t+p];for(p+=g,s=y&(1<<-h)-1,y>>=-h,h+=u;h>0;s=s*256+e[t+p],p+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=o*256+e[t+p],p+=g,h-=8);if(s===0)s=1-f;else{if(s===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(y?-1:1)*o*Math.pow(2,s-n)};jB.write=function(e,t,r,n,i,s){var o,u,l,f=s*8-i-1,h=(1<<f)-1,p=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,E=n?1:-1,M=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?t+=g/l:t+=g*Math.pow(2,1-p),t*l>=2&&(o++,l/=2),o+p>=h?(u=0,o=h):o+p>=1?(u=(t*l-1)*Math.pow(2,i),o=o+p):(u=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+y]=u&255,y+=E,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;e[r+y]=o&255,y+=E,o/=256,f-=8);e[r+y-E]|=M*128}});var Ei=j(my=>{"use strict";d();var GB=rJ(),yy=nJ(),iJ=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;my.Buffer=Ht;my.SlowBuffer=qqe;my.INSPECT_MAX_BYTES=50;var E6=2147483647;my.kMaxLength=E6;Ht.TYPED_ARRAY_SUPPORT=Rqe();!Ht.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Rqe(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}a(Rqe,"typedArraySupport");Object.defineProperty(Ht.prototype,"parent",{enumerable:!0,get:function(){if(!!Ht.isBuffer(this))return this.buffer}});Object.defineProperty(Ht.prototype,"offset",{enumerable:!0,get:function(){if(!!Ht.isBuffer(this))return this.byteOffset}});function kf(e){if(e>E6)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Ht.prototype),t}a(kf,"createBuffer");function Ht(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return JB(e)}return oJ(e,t,r)}a(Ht,"Buffer");Ht.poolSize=8192;function oJ(e,t,r){if(typeof e=="string")return Dqe(e,t);if(ArrayBuffer.isView(e))return Nqe(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ul(e,ArrayBuffer)||e&&ul(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ul(e,SharedArrayBuffer)||e&&ul(e.buffer,SharedArrayBuffer)))return $B(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return Ht.from(n,t,r);var i=Oqe(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return Ht.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}a(oJ,"from");Ht.from=function(e,t,r){return oJ(e,t,r)};Object.setPrototypeOf(Ht.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ht,Uint8Array);function cJ(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}a(cJ,"assertSize");function Lqe(e,t,r){return cJ(e),e<=0?kf(e):t!==void 0?typeof r=="string"?kf(e).fill(t,r):kf(e).fill(t):kf(e)}a(Lqe,"alloc");Ht.alloc=function(e,t,r){return Lqe(e,t,r)};function JB(e){return cJ(e),kf(e<0?0:ZB(e)|0)}a(JB,"allocUnsafe");Ht.allocUnsafe=function(e){return JB(e)};Ht.allocUnsafeSlow=function(e){return JB(e)};function Dqe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Ht.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=uJ(e,t)|0,n=kf(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}a(Dqe,"fromString");function KB(e){for(var t=e.length<0?0:ZB(e.length)|0,r=kf(t),n=0;n<t;n+=1)r[n]=e[n]&255;return r}a(KB,"fromArrayLike");function Nqe(e){if(ul(e,Uint8Array)){var t=new Uint8Array(e);return $B(t.buffer,t.byteOffset,t.byteLength)}return KB(e)}a(Nqe,"fromArrayView");function $B(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,Ht.prototype),n}a($B,"fromArrayBuffer");function Oqe(e){if(Ht.isBuffer(e)){var t=ZB(e.length)|0,r=kf(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||eR(e.length)?kf(0):KB(e);if(e.type==="Buffer"&&Array.isArray(e.data))return KB(e.data)}a(Oqe,"fromObject");function ZB(e){if(e>=E6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E6.toString(16)+" bytes");return e|0}a(ZB,"checked");function qqe(e){return+e!=e&&(e=0),Ht.alloc(+e)}a(qqe,"SlowBuffer");Ht.isBuffer=a(function(t){return t!=null&&t._isBuffer===!0&&t!==Ht.prototype},"isBuffer");Ht.compare=a(function(t,r){if(ul(t,Uint8Array)&&(t=Ht.from(t,t.offset,t.byteLength)),ul(r,Uint8Array)&&(r=Ht.from(r,r.offset,r.byteLength)),!Ht.isBuffer(t)||!Ht.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0},"compare");Ht.isEncoding=a(function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");Ht.concat=a(function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ht.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=Ht.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(ul(o,Uint8Array))s+o.length>i.length?Ht.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(Ht.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i},"concat");function uJ(e,t){if(Ht.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ul(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return XB(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return gJ(e).length;default:if(i)return n?-1:XB(e).length;t=(""+t).toLowerCase(),i=!0}}a(uJ,"byteLength");Ht.byteLength=uJ;function Pqe(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Gqe(this,t,r);case"utf8":case"utf-8":return fJ(this,t,r);case"ascii":return Vqe(this,t,r);case"latin1":case"binary":return jqe(this,t,r);case"base64":return Qqe(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kqe(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}a(Pqe,"slowToString");Ht.prototype._isBuffer=!0;function xp(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}a(xp,"swap");Ht.prototype.swap16=a(function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)xp(this,r,r+1);return this},"swap16");Ht.prototype.swap32=a(function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)xp(this,r,r+3),xp(this,r+1,r+2);return this},"swap32");Ht.prototype.swap64=a(function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)xp(this,r,r+7),xp(this,r+1,r+6),xp(this,r+2,r+5),xp(this,r+3,r+4);return this},"swap64");Ht.prototype.toString=a(function(){var t=this.length;return t===0?"":arguments.length===0?fJ(this,0,t):Pqe.apply(this,arguments)},"toString");Ht.prototype.toLocaleString=Ht.prototype.toString;Ht.prototype.equals=a(function(t){if(!Ht.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:Ht.compare(this,t)===0},"equals");Ht.prototype.inspect=a(function(){var t="",r=my.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect");iJ&&(Ht.prototype[iJ]=Ht.prototype.inspect);Ht.prototype.compare=a(function(t,r,n,i,s){if(ul(t,Uint8Array)&&(t=Ht.from(t,t.offset,t.byteLength)),!Ht.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,u=n-r,l=Math.min(o,u),f=this.slice(i,s),h=t.slice(r,n),p=0;p<l;++p)if(f[p]!==h[p]){o=f[p],u=h[p];break}return o<u?-1:u<o?1:0},"compare");function lJ(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,eR(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=Ht.from(t,n)),Ht.isBuffer(t))return t.length===0?-1:aJ(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):aJ(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}a(lJ,"bidirectionalIndexOf");function aJ(e,t,r,n,i){var s=1,o=e.length,u=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,u/=2,r/=2}function l(y,E){return s===1?y[E]:y.readUInt16BE(E*s)}a(l,"read");var f;if(i){var h=-1;for(f=r;f<o;f++)if(l(e,f)===l(t,h===-1?0:f-h)){if(h===-1&&(h=f),f-h+1===u)return h*s}else h!==-1&&(f-=f-h),h=-1}else for(r+u>o&&(r=o-u),f=r;f>=0;f--){for(var p=!0,g=0;g<u;g++)if(l(e,f+g)!==l(t,g)){p=!1;break}if(p)return f}return-1}a(aJ,"arrayIndexOf");Ht.prototype.includes=a(function(t,r,n){return this.indexOf(t,r,n)!==-1},"includes");Ht.prototype.indexOf=a(function(t,r,n){return lJ(this,t,r,n,!0)},"indexOf");Ht.prototype.lastIndexOf=a(function(t,r,n){return lJ(this,t,r,n,!1)},"lastIndexOf");function Fqe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(o*2,2),16);if(eR(u))return o;e[r+o]=u}return o}a(Fqe,"hexWrite");function Uqe(e,t,r,n){return S6(XB(t,e.length-r),e,r,n)}a(Uqe,"utf8Write");function Yqe(e,t,r,n){return S6(Jqe(t),e,r,n)}a(Yqe,"asciiWrite");function Hqe(e,t,r,n){return S6(gJ(t),e,r,n)}a(Hqe,"base64Write");function zqe(e,t,r,n){return S6(Zqe(t,e.length-r),e,r,n)}a(zqe,"ucs2Write");Ht.prototype.write=a(function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Fqe(this,t,r,n);case"utf8":case"utf-8":return Uqe(this,t,r,n);case"ascii":case"latin1":case"binary":return Yqe(this,t,r,n);case"base64":return Hqe(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zqe(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},"write");Ht.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Qqe(e,t,r){return t===0&&r===e.length?GB.fromByteArray(e):GB.fromByteArray(e.slice(t,r))}a(Qqe,"base64Slice");function fJ(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,u=s>239?4:s>223?3:s>191?2:1;if(i+u<=r){var l,f,h,p;switch(u){case 1:s<128&&(o=s);break;case 2:l=e[i+1],(l&192)===128&&(p=(s&31)<<6|l&63,p>127&&(o=p));break;case 3:l=e[i+1],f=e[i+2],(l&192)===128&&(f&192)===128&&(p=(s&15)<<12|(l&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:l=e[i+1],f=e[i+2],h=e[i+3],(l&192)===128&&(f&192)===128&&(h&192)===128&&(p=(s&15)<<18|(l&63)<<12|(f&63)<<6|h&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=u}return Wqe(n)}a(fJ,"utf8Slice");var sJ=4096;function Wqe(e){var t=e.length;if(t<=sJ)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=sJ));return r}a(Wqe,"decodeCodePointsArray");function Vqe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}a(Vqe,"asciiSlice");function jqe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}a(jqe,"latin1Slice");function Gqe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=ePe[e[s]];return i}a(Gqe,"hexSlice");function Kqe(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(Kqe,"utf16leSlice");Ht.prototype.slice=a(function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,Ht.prototype),i},"slice");function Wa(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}a(Wa,"checkOffset");Ht.prototype.readUintLE=Ht.prototype.readUIntLE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i},"readUIntLE");Ht.prototype.readUintBE=Ht.prototype.readUIntBE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i},"readUIntBE");Ht.prototype.readUint8=Ht.prototype.readUInt8=a(function(t,r){return t=t>>>0,r||Wa(t,1,this.length),this[t]},"readUInt8");Ht.prototype.readUint16LE=Ht.prototype.readUInt16LE=a(function(t,r){return t=t>>>0,r||Wa(t,2,this.length),this[t]|this[t+1]<<8},"readUInt16LE");Ht.prototype.readUint16BE=Ht.prototype.readUInt16BE=a(function(t,r){return t=t>>>0,r||Wa(t,2,this.length),this[t]<<8|this[t+1]},"readUInt16BE");Ht.prototype.readUint32LE=Ht.prototype.readUInt32LE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},"readUInt32LE");Ht.prototype.readUint32BE=Ht.prototype.readUInt32BE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},"readUInt32BE");Ht.prototype.readIntLE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},"readIntLE");Ht.prototype.readIntBE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o},"readIntBE");Ht.prototype.readInt8=a(function(t,r){return t=t>>>0,r||Wa(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},"readInt8");Ht.prototype.readInt16LE=a(function(t,r){t=t>>>0,r||Wa(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},"readInt16LE");Ht.prototype.readInt16BE=a(function(t,r){t=t>>>0,r||Wa(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},"readInt16BE");Ht.prototype.readInt32LE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},"readInt32LE");Ht.prototype.readInt32BE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},"readInt32BE");Ht.prototype.readFloatLE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),yy.read(this,t,!0,23,4)},"readFloatLE");Ht.prototype.readFloatBE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),yy.read(this,t,!1,23,4)},"readFloatBE");Ht.prototype.readDoubleLE=a(function(t,r){return t=t>>>0,r||Wa(t,8,this.length),yy.read(this,t,!0,52,8)},"readDoubleLE");Ht.prototype.readDoubleBE=a(function(t,r){return t=t>>>0,r||Wa(t,8,this.length),yy.read(this,t,!1,52,8)},"readDoubleBE");function go(e,t,r,n,i,s){if(!Ht.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}a(go,"checkInt");Ht.prototype.writeUintLE=Ht.prototype.writeUIntLE=a(function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;go(this,t,r,n,s,0)}var o=1,u=0;for(this[r]=t&255;++u<n&&(o*=256);)this[r+u]=t/o&255;return r+n},"writeUIntLE");Ht.prototype.writeUintBE=Ht.prototype.writeUIntBE=a(function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;go(this,t,r,n,s,0)}var o=n-1,u=1;for(this[r+o]=t&255;--o>=0&&(u*=256);)this[r+o]=t/u&255;return r+n},"writeUIntBE");Ht.prototype.writeUint8=Ht.prototype.writeUInt8=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,1,255,0),this[r]=t&255,r+1},"writeUInt8");Ht.prototype.writeUint16LE=Ht.prototype.writeUInt16LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},"writeUInt16LE");Ht.prototype.writeUint16BE=Ht.prototype.writeUInt16BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},"writeUInt16BE");Ht.prototype.writeUint32LE=Ht.prototype.writeUInt32LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},"writeUInt32LE");Ht.prototype.writeUint32BE=Ht.prototype.writeUInt32BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},"writeUInt32BE");Ht.prototype.writeIntLE=a(function(t,r,n,i){if(t=+t,r=r>>>0,!i){var s=Math.pow(2,8*n-1);go(this,t,r,n,s-1,-s)}var o=0,u=1,l=0;for(this[r]=t&255;++o<n&&(u*=256);)t<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(t/u>>0)-l&255;return r+n},"writeIntLE");Ht.prototype.writeIntBE=a(function(t,r,n,i){if(t=+t,r=r>>>0,!i){var s=Math.pow(2,8*n-1);go(this,t,r,n,s-1,-s)}var o=n-1,u=1,l=0;for(this[r+o]=t&255;--o>=0&&(u*=256);)t<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(t/u>>0)-l&255;return r+n},"writeIntBE");Ht.prototype.writeInt8=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},"writeInt8");Ht.prototype.writeInt16LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},"writeInt16LE");Ht.prototype.writeInt16BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},"writeInt16BE");Ht.prototype.writeInt32LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},"writeInt32LE");Ht.prototype.writeInt32BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},"writeInt32BE");function hJ(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}a(hJ,"checkIEEE754");function dJ(e,t,r,n,i){return t=+t,r=r>>>0,i||hJ(e,t,r,4,34028234663852886e22,-34028234663852886e22),yy.write(e,t,r,n,23,4),r+4}a(dJ,"writeFloat");Ht.prototype.writeFloatLE=a(function(t,r,n){return dJ(this,t,r,!0,n)},"writeFloatLE");Ht.prototype.writeFloatBE=a(function(t,r,n){return dJ(this,t,r,!1,n)},"writeFloatBE");function pJ(e,t,r,n,i){return t=+t,r=r>>>0,i||hJ(e,t,r,8,17976931348623157e292,-17976931348623157e292),yy.write(e,t,r,n,52,8),r+8}a(pJ,"writeDouble");Ht.prototype.writeDoubleLE=a(function(t,r,n){return pJ(this,t,r,!0,n)},"writeDoubleLE");Ht.prototype.writeDoubleBE=a(function(t,r,n){return pJ(this,t,r,!1,n)},"writeDoubleBE");Ht.prototype.copy=a(function(t,r,n,i){if(!Ht.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),s},"copy");Ht.prototype.fill=a(function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Ht.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var u=Ht.isBuffer(t)?t:Ht.from(t,i),l=u.length;if(l===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=u[o%l]}return this},"fill");var $qe=/[^+/0-9A-Za-z-_]/g;function Xqe(e){if(e=e.split("=")[0],e=e.trim().replace($qe,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}a(Xqe,"base64clean");function XB(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}a(XB,"utf8ToBytes");function Jqe(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}a(Jqe,"asciiToBytes");function Zqe(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}a(Zqe,"utf16leToBytes");function gJ(e){return GB.toByteArray(Xqe(e))}a(gJ,"base64ToBytes");function S6(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}a(S6,"blitBuffer");function ul(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}a(ul,"isInstance");function eR(e){return e!==e}a(eR,"numberIsNaN");var ePe=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()});var Tf=j((IKt,vJ)=>{d();var Zi=vJ.exports={},ll,fl;function tR(){throw new Error("setTimeout has not been defined")}a(tR,"defaultSetTimout");function rR(){throw new Error("clearTimeout has not been defined")}a(rR,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?ll=setTimeout:ll=tR}catch{ll=tR}try{typeof clearTimeout=="function"?fl=clearTimeout:fl=rR}catch{fl=rR}})();function yJ(e){if(ll===setTimeout)return setTimeout(e,0);if((ll===tR||!ll)&&setTimeout)return ll=setTimeout,setTimeout(e,0);try{return ll(e,0)}catch{try{return ll.call(null,e,0)}catch{return ll.call(this,e,0)}}}a(yJ,"runTimeout");function tPe(e){if(fl===clearTimeout)return clearTimeout(e);if((fl===rR||!fl)&&clearTimeout)return fl=clearTimeout,clearTimeout(e);try{return fl(e)}catch{try{return fl.call(null,e)}catch{return fl.call(this,e)}}}a(tPe,"runClearTimeout");var Cf=[],by=!1,wp,k6=-1;function rPe(){!by||!wp||(by=!1,wp.length?Cf=wp.concat(Cf):k6=-1,Cf.length&&mJ())}a(rPe,"cleanUpNextTick");function mJ(){if(!by){var e=yJ(rPe);by=!0;for(var t=Cf.length;t;){for(wp=Cf,Cf=[];++k6<t;)wp&&wp[k6].run();k6=-1,t=Cf.length}wp=null,by=!1,tPe(e)}}a(mJ,"drainQueue");Zi.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Cf.push(new bJ(e,t)),Cf.length===1&&!by&&yJ(mJ)};function bJ(e,t){this.fun=e,this.array=t}a(bJ,"Item");bJ.prototype.run=function(){this.fun.apply(null,this.array)};Zi.title="browser";Zi.browser=!0;Zi.env={};Zi.argv=[];Zi.version="";Zi.versions={};function If(){}a(If,"noop");Zi.on=If;Zi.addListener=If;Zi.once=If;Zi.off=If;Zi.removeListener=If;Zi.removeAllListeners=If;Zi.emit=If;Zi.prependListener=If;Zi.prependOnceListener=If;Zi.listeners=function(e){return[]};Zi.binding=function(e){throw new Error("process.binding is not supported")};Zi.cwd=function(){return"/"};Zi.chdir=function(e){throw new Error("process.chdir is not supported")};Zi.umask=function(){return 0}});var b,_,nPe,w,d=gy(()=>{b=wn(Ei()),_=wn(Tf()),nPe=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(a(t,"get"),typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),w=nPe});var yo=j((NKt,I6)=>{d();var nR=Symbol.for("piconeuro:Error");I6.exports={ERROR:nR,get:pPe,next:gPe,until:yPe,write:_J,writable:_J,notEqual:iR,notEqualDeep:C6,memo:iPe,mute:lPe,init:aPe,when:sPe,combine:dPe,isSync:fPe,_isSync:hPe,gate:cPe,settle:uPe,iter:AJ,nfo:xJ};function iPe(e){let t,r=new Set,n=null;return a(function(o){return r.add(o),n?o(t):n=e(i),()=>{r.delete(o),!r.size&&(n&&n(),n=null)}},"NeuronMemory");function i(s){t=s;for(let o of r)o(s)}}a(iPe,"memo");function aPe(e,t){return a(function(n){let i=!1,s=a(function(){},"noop"),o=!1;return typeof t=="function"&&(s=t(u=>{o=!0,i||n(u)})),o||n(wJ(e)),()=>{i=!0,s()}},"InitialValue")}a(aPe,"init");function sPe(e){if(!e||typeof e.then!="function")throw new Error("Expected a Promise");return a(function(r){return e.then(r).catch(n=>{console.error("n:when() failed: ",n),r(nR,n)}),a(function(){},"NOOPunsub")},"WhenResolved")}a(sPe,"when");var oPe=0;I6.exports.V=1;function xJ(e,t){if(!I6.exports.V)return e;let r=oPe++;t||(t=`NFO${s(r)}`);let n=console.info.bind(null,o(t,0,r)),i=0;return u=>{let l=0,f=n.bind(null,o(`SYN${s(i++)}`,0,r));f(`>>${s(l)}>> connected`);let h=e(p=>{f(`!!${s(l++)}!! `,p),u(p)});return()=>{h(),f(`<<${s(l)}<< disconnected`)}};function s(u,l=2){return(u+"").padStart(l,"0")}function o(u){return u}}a(xJ,"nfo");function cPe(e,t=!1){let r=typeof t=="function"?t:t?iR:C6;return a(function(i){let s,o=!0;return e(u=>{let l=r(u,s);(o||l)&&(o=!1,s=wJ(u),i(u))})},"NoiseGate")}a(cPe,"gate");function uPe(e,t=10,r=!1){return a(function(i){let s,o,u=!0,l=e(f=>{s=f,r&&u&&(u=!1,i(s)),o&&clearTimeout(o),o=setTimeout(()=>{o=null,i(s)},t)});return()=>{l&&l(),o&&clearTimeout(o)}},"DebouncedSignal")}a(uPe,"settle");function wJ(e){return Array.isArray(e)?[...e]:typeof e=="object"&&e!==null?{...e}:e}a(wJ,"clone");function lPe(e,t){if(typeof t!="function")throw new Error("expected a mutation function");return a(function(n){let i=Promise.resolve(0);return e(s=>{let o=t(s);o&&typeof o.then=="function"&&typeof o.catch=="function"?i=i.then(()=>o.then(n).catch(u=>{console.error("n:mute() failed: ",u),n(nR,u)})):n(o)})},"Mutate")}a(lPe,"mute");async function fPe(e,t=100){let r=!1,n=!1,i=a(()=>{r=!0},"set");e(()=>i())();let s=null,o=new Promise(l=>{s=l});i=a(()=>{n=!0,s()},"set");let u=setTimeout(()=>{u=null,s()},t);if(await o,u)clearTimeout(u);else if(!r&&!n)throw new Error("Neuron did not fire during grace period");return r&&!n}a(fPe,"isSync");function hPe(e){let t=!1,r=a(()=>{t=!0},"set");return e(()=>r())(),r=a(()=>{throw new Error("NeuronNotSync, subscription invoked after unsubscribe()")},"set"),t}a(hPe,"_isSync");function dPe(...e){if(!Array.isArray(e)||!e.length)throw new Error("A list of neurons is required");let t=[];if(e.length===1&&typeof e[0]!="function"){let r=e[0];e=[];for(let n in r)e.push(r[n]),t.push(n)}return a(function(n){if(typeof n!="function")throw new Error("Derivation function required");let i=[],s=[],o=e.length,u=[];for(let f=0;f<e.length;f++)u.push(e[f](l.bind(null,f)));return()=>{for(let f of u)f()};function l(f,h){i[f]||(i[f]=!0,o--),s[f]=h,o||(t.length?n(s.reduce((p,g,y)=>(p[t[y]]=g,p),{})):n(s))}},"NeuronCombine")}a(dPe,"combine");function iR(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find((r,n)=>t[n]!==r):e instanceof Date||t instanceof Date?(e instanceof Date&&e.getTime())!==(t instanceof Date&&t.getTime()):typeof e=="object"&&typeof t=="object"&&e!==null&&t!==null?!!((r,n)=>r.length!==n||r.find(i=>e[i]!==t[i]))(Object.keys(e),Object.keys(t).length):e!==t}a(iR,"notEqual");function C6(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find((r,n)=>C6(t[n],r)):typeof e=="object"&&typeof t=="object"&&e!==null&&t!==null?!!((r,n)=>r.length!==n||r.find(i=>C6(e[i],t[i])))(Object.keys(e),Object.keys(t).length):e!==t}a(C6,"notEqualDeep");function _J(e){let t=new Set;return[a(function(n){return t.add(n),n(e),()=>{t.delete(n)}},"WritableSubscribe"),a(function(n){if(iR(e,n)){e=n;for(let i of t)i(n)}return n},"WritableSet")]}a(_J,"writable");function pPe(e){let t=null;return e(r=>{t=r})(),t}a(pPe,"get");async function gPe(e,t=1,r=!1){let n=null;r&&(e=xJ(e,r));for await(let i of AJ(e,t+1))n=i;return n}a(gPe,"next");async function*AJ(e,t=5){let r=[],n=[];u();let i=0,o=e(a(l=>{(t===-1||++i<t)&&u();let f=r.shift();f&&f(l)},"handler"));for(;n.length;)yield await n.shift();o();function u(){let l=null,f=new Promise(h=>{l=h});r.push(l),n.push(f)}a(u,"oneMore")}a(AJ,"iter");async function yPe(e,t,r=-1){let n,i,s=new Promise((l,f)=>{n=l,i=f}),o=null;r>0&&(o=setTimeout(()=>{i(new Error("until($n) timed out"))},r));let u=e(l=>{t(l)&&(o&&clearTimeout(o),n(l))});return s.finally(u),s}a(yPe,"until")});var jn=j((PKt,SJ)=>{d();SJ.exports=EJ;var Jv=class extends Error{};a(Jv,"AssertionError");Jv.prototype.name="AssertionError";function EJ(e,t){if(!e){var r=new Jv(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,EJ),r}}a(EJ,"assert")});var nn=j((aR,CJ)=>{d();var T6=Ei(),hl=T6.Buffer;function kJ(e,t){for(var r in e)t[r]=e[r]}a(kJ,"copyProps");hl.from&&hl.alloc&&hl.allocUnsafe&&hl.allocUnsafeSlow?CJ.exports=T6:(kJ(T6,aR),aR.Buffer=Ap);function Ap(e,t,r){return hl(e,t,r)}a(Ap,"SafeBuffer");Ap.prototype=Object.create(hl.prototype);kJ(hl,Ap);Ap.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return hl(e,t,r)};Ap.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=hl(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Ap.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hl(e)};Ap.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return T6.SlowBuffer(e)}});var Mf=j((zKt,oR)=>{"use strict";d();var sR=65536,mPe=4294967295;function bPe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}a(bPe,"oldBrowser");var vPe=nn().Buffer,M6=w.crypto||w.msCrypto;M6&&M6.getRandomValues?oR.exports=_Pe:oR.exports=bPe;function _Pe(e,t){if(e>mPe)throw new RangeError("requested too many random bytes");var r=vPe.allocUnsafe(e);if(e>0)if(e>sR)for(var n=0;n<e;n+=sR)M6.getRandomValues(r.slice(n,n+sR));else M6.getRandomValues(r);return typeof t=="function"?_.default.nextTick(function(){t(null,r)}):r}a(_Pe,"randomBytes")});var kr=j((VKt,cR)=>{d();typeof Object.create=="function"?cR.exports=a(function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):cR.exports=a(function(t,r){if(r){t.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},"inherits")});var ea=j((KKt,uR)=>{"use strict";d();var vy=typeof Reflect=="object"?Reflect:null,IJ=vy&&typeof vy.apply=="function"?vy.apply:a(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),B6;vy&&typeof vy.ownKeys=="function"?B6=vy.ownKeys:Object.getOwnPropertySymbols?B6=a(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):B6=a(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function xPe(e){console&&console.warn&&console.warn(e)}a(xPe,"ProcessEmitWarning");var MJ=Number.isNaN||a(function(t){return t!==t},"NumberIsNaN");function ni(){ni.init.call(this)}a(ni,"EventEmitter");uR.exports=ni;uR.exports.once=SPe;ni.EventEmitter=ni;ni.prototype._events=void 0;ni.prototype._eventsCount=0;ni.prototype._maxListeners=void 0;var TJ=10;function R6(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}a(R6,"checkListener");Object.defineProperty(ni,"defaultMaxListeners",{enumerable:!0,get:function(){return TJ},set:function(e){if(typeof e!="number"||e<0||MJ(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");TJ=e}});ni.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ni.prototype.setMaxListeners=a(function(t){if(typeof t!="number"||t<0||MJ(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function BJ(e){return e._maxListeners===void 0?ni.defaultMaxListeners:e._maxListeners}a(BJ,"_getMaxListeners");ni.prototype.getMaxListeners=a(function(){return BJ(this)},"getMaxListeners");ni.prototype.emit=a(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=s[t];if(l===void 0)return!1;if(typeof l=="function")IJ(l,this,r);else for(var f=l.length,h=OJ(l,f),n=0;n<f;++n)IJ(h[n],this,r);return!0},"emit");function RJ(e,t,r,n){var i,s,o;if(R6(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=BJ(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,xPe(u)}return e}a(RJ,"_addListener");ni.prototype.addListener=a(function(t,r){return RJ(this,t,r,!1)},"addListener");ni.prototype.on=ni.prototype.addListener;ni.prototype.prependListener=a(function(t,r){return RJ(this,t,r,!0)},"prependListener");function wPe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(wPe,"onceWrapper");function LJ(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=wPe.bind(n);return i.listener=r,n.wrapFn=i,i}a(LJ,"_onceWrap");ni.prototype.once=a(function(t,r){return R6(r),this.on(t,LJ(this,t,r)),this},"once");ni.prototype.prependOnceListener=a(function(t,r){return R6(r),this.prependListener(t,LJ(this,t,r)),this},"prependOnceListener");ni.prototype.removeListener=a(function(t,r){var n,i,s,o,u;if(R6(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():APe(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,u||r)}return this},"removeListener");ni.prototype.off=ni.prototype.removeListener;ni.prototype.removeAllListeners=a(function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this},"removeAllListeners");function DJ(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?EPe(i):OJ(i,i.length)}a(DJ,"_listeners");ni.prototype.listeners=a(function(t){return DJ(this,t,!0)},"listeners");ni.prototype.rawListeners=a(function(t){return DJ(this,t,!1)},"rawListeners");ni.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):NJ.call(e,t)};ni.prototype.listenerCount=NJ;function NJ(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}a(NJ,"listenerCount");ni.prototype.eventNames=a(function(){return this._eventsCount>0?B6(this._events):[]},"eventNames");function OJ(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}a(OJ,"arrayClone");function APe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}a(APe,"spliceOne");function EPe(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}a(EPe,"unwrapListeners");function SPe(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}a(i,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}a(s,"resolver"),qJ(e,t,s,{once:!0}),t!=="error"&&kPe(e,i,{once:!0})})}a(SPe,"once");function kPe(e,t,r){typeof e.on=="function"&&qJ(e,"error",t,r)}a(kPe,"addErrorHandlerIfEventEmitter");function qJ(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,a(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}a(qJ,"eventTargetAgnosticAddListener")});var lR=j((JKt,PJ)=>{d();PJ.exports=ea().EventEmitter});var fR=j((e$t,FJ)=>{"use strict";d();FJ.exports=a(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},"hasSymbols")});var Zv=j((n$t,UJ)=>{"use strict";d();var CPe=fR();UJ.exports=a(function(){return CPe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var zJ=j((s$t,HJ)=>{"use strict";d();var YJ=typeof Symbol<"u"&&Symbol,IPe=fR();HJ.exports=a(function(){return typeof YJ!="function"||typeof Symbol!="function"||typeof YJ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:IPe()},"hasNativeSymbols")});var WJ=j((u$t,QJ)=>{"use strict";d();var TPe="Function.prototype.bind called on incompatible ",hR=Array.prototype.slice,MPe=Object.prototype.toString,BPe="[object Function]";QJ.exports=a(function(t){var r=this;if(typeof r!="function"||MPe.call(r)!==BPe)throw new TypeError(TPe+r);for(var n=hR.call(arguments,1),i,s=a(function(){if(this instanceof i){var h=r.apply(this,n.concat(hR.call(arguments)));return Object(h)===h?h:this}else return r.apply(t,n.concat(hR.call(arguments)))},"binder"),o=Math.max(0,r.length-n.length),u=[],l=0;l<o;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=a(function(){},"Empty");f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},"bind")});var L6=j((h$t,VJ)=>{"use strict";d();var RPe=WJ();VJ.exports=Function.prototype.bind||RPe});var GJ=j((p$t,jJ)=>{"use strict";d();var LPe=L6();jJ.exports=LPe.call(Function.call,Object.prototype.hasOwnProperty)});var O6=j((y$t,JJ)=>{"use strict";d();var Rn,Ey=SyntaxError,XJ=Function,wy=TypeError,dR=a(function(e){try{return XJ('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),Ep=Object.getOwnPropertyDescriptor;if(Ep)try{Ep({},"")}catch{Ep=null}var pR=a(function(){throw new wy},"throwTypeError"),DPe=Ep?function(){try{return arguments.callee,pR}catch{try{return Ep(arguments,"callee").get}catch{return pR}}}():pR,_y=zJ()(),wd=Object.getPrototypeOf||function(e){return e.__proto__},xy={},NPe=typeof Uint8Array>"u"?Rn:wd(Uint8Array),Ay={"%AggregateError%":typeof AggregateError>"u"?Rn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Rn:ArrayBuffer,"%ArrayIteratorPrototype%":_y?wd([][Symbol.iterator]()):Rn,"%AsyncFromSyncIteratorPrototype%":Rn,"%AsyncFunction%":xy,"%AsyncGenerator%":xy,"%AsyncGeneratorFunction%":xy,"%AsyncIteratorPrototype%":xy,"%Atomics%":typeof Atomics>"u"?Rn:Atomics,"%BigInt%":typeof BigInt>"u"?Rn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Rn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Rn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Rn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Rn:FinalizationRegistry,"%Function%":XJ,"%GeneratorFunction%":xy,"%Int8Array%":typeof Int8Array>"u"?Rn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Rn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Rn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_y?wd(wd([][Symbol.iterator]())):Rn,"%JSON%":typeof JSON=="object"?JSON:Rn,"%Map%":typeof Map>"u"?Rn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_y?Rn:wd(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Rn:Promise,"%Proxy%":typeof Proxy>"u"?Rn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Rn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Rn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_y?Rn:wd(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Rn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_y?wd(""[Symbol.iterator]()):Rn,"%Symbol%":_y?Symbol:Rn,"%SyntaxError%":Ey,"%ThrowTypeError%":DPe,"%TypedArray%":NPe,"%TypeError%":wy,"%Uint8Array%":typeof Uint8Array>"u"?Rn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Rn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Rn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Rn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Rn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Rn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Rn:WeakSet},OPe=a(function e(t){var r;if(t==="%AsyncFunction%")r=dR("async function () {}");else if(t==="%GeneratorFunction%")r=dR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=dR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=wd(i.prototype))}return Ay[t]=r,r},"doEval"),KJ={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},e_=L6(),D6=GJ(),qPe=e_.call(Function.call,Array.prototype.concat),PPe=e_.call(Function.apply,Array.prototype.splice),$J=e_.call(Function.call,String.prototype.replace),N6=e_.call(Function.call,String.prototype.slice),FPe=e_.call(Function.call,RegExp.prototype.exec),UPe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,YPe=/\\(\\)?/g,HPe=a(function(t){var r=N6(t,0,1),n=N6(t,-1);if(r==="%"&&n!=="%")throw new Ey("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ey("invalid intrinsic syntax, expected opening `%`");var i=[];return $J(t,UPe,function(s,o,u,l){i[i.length]=u?$J(l,YPe,"$1"):o||s}),i},"stringToPath"),zPe=a(function(t,r){var n=t,i;if(D6(KJ,n)&&(i=KJ[n],n="%"+i[0]+"%"),D6(Ay,n)){var s=Ay[n];if(s===xy&&(s=OPe(n)),typeof s>"u"&&!r)throw new wy("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ey("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");JJ.exports=a(function(t,r){if(typeof t!="string"||t.length===0)throw new wy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wy('"allowMissing" argument must be a boolean');if(FPe(/^%?[^%]*%?$/,t)===null)throw new Ey("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=HPe(t),i=n.length>0?n[0]:"",s=zPe("%"+i+"%",r),o=s.name,u=s.value,l=!1,f=s.alias;f&&(i=f[0],PPe(n,qPe([0,1],f)));for(var h=1,p=!0;h<n.length;h+=1){var g=n[h],y=N6(g,0,1),E=N6(g,-1);if((y==='"'||y==="'"||y==="`"||E==='"'||E==="'"||E==="`")&&y!==E)throw new Ey("property names with quotes must have matching quotes");if((g==="constructor"||!p)&&(l=!0),i+="."+g,o="%"+i+"%",D6(Ay,o))u=Ay[o];else if(u!=null){if(!(g in u)){if(!r)throw new wy("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ep&&h+1>=n.length){var M=Ep(u,g);p=!!M,p&&"get"in M&&!("originalValue"in M.get)?u=M.get:u=u[g]}else p=D6(u,g),u=u[g];p&&!l&&(Ay[o]=u)}}return u},"GetIntrinsic")});var iZ=j((v$t,q6)=>{"use strict";d();var gR=L6(),Sy=O6(),tZ=Sy("%Function.prototype.apply%"),rZ=Sy("%Function.prototype.call%"),nZ=Sy("%Reflect.apply%",!0)||gR.call(rZ,tZ),ZJ=Sy("%Object.getOwnPropertyDescriptor%",!0),Sp=Sy("%Object.defineProperty%",!0),QPe=Sy("%Math.max%");if(Sp)try{Sp({},"a",{value:1})}catch{Sp=null}q6.exports=a(function(t){var r=nZ(gR,rZ,arguments);if(ZJ&&Sp){var n=ZJ(r,"length");n.configurable&&Sp(r,"length",{value:1+QPe(0,t.length-(arguments.length-1))})}return r},"callBind");var eZ=a(function(){return nZ(gR,tZ,arguments)},"applyBind");Sp?Sp(q6.exports,"apply",{value:eZ}):q6.exports.apply=eZ});var P6=j((w$t,oZ)=>{"use strict";d();var aZ=O6(),sZ=iZ(),WPe=sZ(aZ("String.prototype.indexOf"));oZ.exports=a(function(t,r){var n=aZ(t,!!r);return typeof n=="function"&&WPe(t,".prototype.")>-1?sZ(n):n},"callBoundIntrinsic")});var lZ=j((S$t,uZ)=>{"use strict";d();var VPe=Zv()(),jPe=P6(),yR=jPe("Object.prototype.toString"),F6=a(function(t){return VPe&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:yR(t)==="[object Arguments]"},"isArguments"),cZ=a(function(t){return F6(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&yR(t)!=="[object Array]"&&yR(t.callee)==="[object Function]"},"isArguments"),GPe=function(){return F6(arguments)}();F6.isLegacyArguments=cZ;uZ.exports=GPe?F6:cZ});var dZ=j((I$t,hZ)=>{"use strict";d();var KPe=Object.prototype.toString,$Pe=Function.prototype.toString,XPe=/^\s*(?:function)?\*/,fZ=Zv()(),mR=Object.getPrototypeOf,JPe=a(function(){if(!fZ)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),bR;hZ.exports=a(function(t){if(typeof t!="function")return!1;if(XPe.test($Pe.call(t)))return!0;if(!fZ){var r=KPe.call(t);return r==="[object GeneratorFunction]"}if(!mR)return!1;if(typeof bR>"u"){var n=JPe();bR=n?mR(n):!1}return mR(t)===bR},"isGeneratorFunction")});var mZ=j((B$t,yZ)=>{"use strict";d();var gZ=Function.prototype.toString,ky=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_R,U6;if(typeof ky=="function"&&typeof Object.defineProperty=="function")try{_R=Object.defineProperty({},"length",{get:function(){throw U6}}),U6={},ky(function(){throw 42},null,_R)}catch(e){e!==U6&&(ky=null)}else ky=null;var ZPe=/^\s*class\b/,xR=a(function(t){try{var r=gZ.call(t);return ZPe.test(r)}catch{return!1}},"isES6ClassFunction"),vR=a(function(t){try{return xR(t)?!1:(gZ.call(t),!0)}catch{return!1}},"tryFunctionToStr"),Y6=Object.prototype.toString,eFe="[object Object]",tFe="[object Function]",rFe="[object GeneratorFunction]",nFe="[object HTMLAllCollection]",iFe="[object HTML document.all class]",aFe="[object HTMLCollection]",sFe=typeof Symbol=="function"&&!!Symbol.toStringTag,oFe=!(0 in[,]),wR=a(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(pZ=document.all,Y6.call(pZ)===Y6.call(document.all)&&(wR=a(function(t){if((oFe||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Y6.call(t);return(r===nFe||r===iFe||r===aFe||r===eFe)&&t("")==null}catch{}return!1},"isDocumentDotAll")));var pZ;yZ.exports=a(ky?function(t){if(wR(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{ky(t,null,_R)}catch(r){if(r!==U6)return!1}return!xR(t)&&vR(t)}:function(t){if(wR(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(sFe)return vR(t);if(xR(t))return!1;var r=Y6.call(t);return r!==tFe&&r!==rFe&&!/^\[object HTML/.test(r)?!1:vR(t)},"isCallable")});var AR=j((D$t,vZ)=>{"use strict";d();var cFe=mZ(),uFe=Object.prototype.toString,bZ=Object.prototype.hasOwnProperty,lFe=a(function(t,r,n){for(var i=0,s=t.length;i<s;i++)bZ.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},"forEachArray"),fFe=a(function(t,r,n){for(var i=0,s=t.length;i<s;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},"forEachString"),hFe=a(function(t,r,n){for(var i in t)bZ.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},"forEachObject"),dFe=a(function(t,r,n){if(!cFe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),uFe.call(t)==="[object Array]"?lFe(t,r,i):typeof t=="string"?fFe(t,r,i):hFe(t,r,i)},"forEach");vZ.exports=dFe});var SR=j((q$t,_Z)=>{"use strict";d();var ER=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],pFe=typeof globalThis>"u"?w:globalThis;_Z.exports=a(function(){for(var t=[],r=0;r<ER.length;r++)typeof pFe[ER[r]]=="function"&&(t[t.length]=ER[r]);return t},"availableTypedArrays")});var kR=j((U$t,xZ)=>{"use strict";d();var gFe=O6(),H6=gFe("%Object.getOwnPropertyDescriptor%",!0);if(H6)try{H6([],"length")}catch{H6=null}xZ.exports=H6});var TR=j((H$t,kZ)=>{"use strict";d();var wZ=AR(),yFe=SR(),IR=P6(),mFe=IR("Object.prototype.toString"),AZ=Zv()(),z6=kR(),bFe=typeof globalThis>"u"?w:globalThis,EZ=yFe(),vFe=IR("Array.prototype.indexOf",!0)||a(function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},"indexOf"),_Fe=IR("String.prototype.slice"),SZ={},CR=Object.getPrototypeOf;AZ&&z6&&CR&&wZ(EZ,function(e){var t=new bFe[e];if(Symbol.toStringTag in t){var r=CR(t),n=z6(r,Symbol.toStringTag);if(!n){var i=CR(r);n=z6(i,Symbol.toStringTag)}SZ[e]=n.get}});var xFe=a(function(t){var r=!1;return wZ(SZ,function(n,i){if(!r)try{r=n.call(t)===i}catch{}}),r},"tryAllTypedArrays");kZ.exports=a(function(t){if(!t||typeof t!="object")return!1;if(!AZ||!(Symbol.toStringTag in t)){var r=_Fe(mFe(t),8,-1);return vFe(EZ,r)>-1}return z6?xFe(t):!1},"isTypedArray")});var LZ=j((W$t,RZ)=>{"use strict";d();var IZ=AR(),wFe=SR(),TZ=P6(),MR=kR(),AFe=TZ("Object.prototype.toString"),MZ=Zv()(),CZ=typeof globalThis>"u"?w:globalThis,EFe=wFe(),SFe=TZ("String.prototype.slice"),BZ={},BR=Object.getPrototypeOf;MZ&&MR&&BR&&IZ(EFe,function(e){if(typeof CZ[e]=="function"){var t=new CZ[e];if(Symbol.toStringTag in t){var r=BR(t),n=MR(r,Symbol.toStringTag);if(!n){var i=BR(r);n=MR(i,Symbol.toStringTag)}BZ[e]=n.get}}});var kFe=a(function(t){var r=!1;return IZ(BZ,function(n,i){if(!r)try{var s=n.call(t);s===i&&(r=s)}catch{}}),r},"tryAllTypedArrays"),CFe=TR();RZ.exports=a(function(t){return CFe(t)?!MZ||!(Symbol.toStringTag in t)?SFe(AFe(t),8,-1):kFe(t):!1},"whichTypedArray")});var jZ=j(mn=>{"use strict";d();var IFe=lZ(),TFe=dZ(),uu=LZ(),DZ=TR();function Cy(e){return e.call.bind(e)}a(Cy,"uncurryThis");var NZ=typeof BigInt<"u",OZ=typeof Symbol<"u",xc=Cy(Object.prototype.toString),MFe=Cy(Number.prototype.valueOf),BFe=Cy(String.prototype.valueOf),RFe=Cy(Boolean.prototype.valueOf);NZ&&(qZ=Cy(BigInt.prototype.valueOf));var qZ;OZ&&(PZ=Cy(Symbol.prototype.valueOf));var PZ;function r_(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}a(r_,"checkBoxedPrimitive");mn.isArgumentsObject=IFe;mn.isGeneratorFunction=TFe;mn.isTypedArray=DZ;function LFe(e){return typeof Promise<"u"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}a(LFe,"isPromise");mn.isPromise=LFe;function DFe(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):DZ(e)||UZ(e)}a(DFe,"isArrayBufferView");mn.isArrayBufferView=DFe;function NFe(e){return uu(e)==="Uint8Array"}a(NFe,"isUint8Array");mn.isUint8Array=NFe;function OFe(e){return uu(e)==="Uint8ClampedArray"}a(OFe,"isUint8ClampedArray");mn.isUint8ClampedArray=OFe;function qFe(e){return uu(e)==="Uint16Array"}a(qFe,"isUint16Array");mn.isUint16Array=qFe;function PFe(e){return uu(e)==="Uint32Array"}a(PFe,"isUint32Array");mn.isUint32Array=PFe;function FFe(e){return uu(e)==="Int8Array"}a(FFe,"isInt8Array");mn.isInt8Array=FFe;function UFe(e){return uu(e)==="Int16Array"}a(UFe,"isInt16Array");mn.isInt16Array=UFe;function YFe(e){return uu(e)==="Int32Array"}a(YFe,"isInt32Array");mn.isInt32Array=YFe;function HFe(e){return uu(e)==="Float32Array"}a(HFe,"isFloat32Array");mn.isFloat32Array=HFe;function zFe(e){return uu(e)==="Float64Array"}a(zFe,"isFloat64Array");mn.isFloat64Array=zFe;function QFe(e){return uu(e)==="BigInt64Array"}a(QFe,"isBigInt64Array");mn.isBigInt64Array=QFe;function WFe(e){return uu(e)==="BigUint64Array"}a(WFe,"isBigUint64Array");mn.isBigUint64Array=WFe;function Q6(e){return xc(e)==="[object Map]"}a(Q6,"isMapToString");Q6.working=typeof Map<"u"&&Q6(new Map);function VFe(e){return typeof Map>"u"?!1:Q6.working?Q6(e):e instanceof Map}a(VFe,"isMap");mn.isMap=VFe;function W6(e){return xc(e)==="[object Set]"}a(W6,"isSetToString");W6.working=typeof Set<"u"&&W6(new Set);function jFe(e){return typeof Set>"u"?!1:W6.working?W6(e):e instanceof Set}a(jFe,"isSet");mn.isSet=jFe;function V6(e){return xc(e)==="[object WeakMap]"}a(V6,"isWeakMapToString");V6.working=typeof WeakMap<"u"&&V6(new WeakMap);function GFe(e){return typeof WeakMap>"u"?!1:V6.working?V6(e):e instanceof WeakMap}a(GFe,"isWeakMap");mn.isWeakMap=GFe;function LR(e){return xc(e)==="[object WeakSet]"}a(LR,"isWeakSetToString");LR.working=typeof WeakSet<"u"&&LR(new WeakSet);function KFe(e){return LR(e)}a(KFe,"isWeakSet");mn.isWeakSet=KFe;function j6(e){return xc(e)==="[object ArrayBuffer]"}a(j6,"isArrayBufferToString");j6.working=typeof ArrayBuffer<"u"&&j6(new ArrayBuffer);function FZ(e){return typeof ArrayBuffer>"u"?!1:j6.working?j6(e):e instanceof ArrayBuffer}a(FZ,"isArrayBuffer");mn.isArrayBuffer=FZ;function G6(e){return xc(e)==="[object DataView]"}a(G6,"isDataViewToString");G6.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&G6(new DataView(new ArrayBuffer(1),0,1));function UZ(e){return typeof DataView>"u"?!1:G6.working?G6(e):e instanceof DataView}a(UZ,"isDataView");mn.isDataView=UZ;var RR=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function t_(e){return xc(e)==="[object SharedArrayBuffer]"}a(t_,"isSharedArrayBufferToString");function YZ(e){return typeof RR>"u"?!1:(typeof t_.working>"u"&&(t_.working=t_(new RR)),t_.working?t_(e):e instanceof RR)}a(YZ,"isSharedArrayBuffer");mn.isSharedArrayBuffer=YZ;function $Fe(e){return xc(e)==="[object AsyncFunction]"}a($Fe,"isAsyncFunction");mn.isAsyncFunction=$Fe;function XFe(e){return xc(e)==="[object Map Iterator]"}a(XFe,"isMapIterator");mn.isMapIterator=XFe;function JFe(e){return xc(e)==="[object Set Iterator]"}a(JFe,"isSetIterator");mn.isSetIterator=JFe;function ZFe(e){return xc(e)==="[object Generator]"}a(ZFe,"isGeneratorObject");mn.isGeneratorObject=ZFe;function eUe(e){return xc(e)==="[object WebAssembly.Module]"}a(eUe,"isWebAssemblyCompiledModule");mn.isWebAssemblyCompiledModule=eUe;function HZ(e){return r_(e,MFe)}a(HZ,"isNumberObject");mn.isNumberObject=HZ;function zZ(e){return r_(e,BFe)}a(zZ,"isStringObject");mn.isStringObject=zZ;function QZ(e){return r_(e,RFe)}a(QZ,"isBooleanObject");mn.isBooleanObject=QZ;function WZ(e){return NZ&&r_(e,qZ)}a(WZ,"isBigIntObject");mn.isBigIntObject=WZ;function VZ(e){return OZ&&r_(e,PZ)}a(VZ,"isSymbolObject");mn.isSymbolObject=VZ;function tUe(e){return HZ(e)||zZ(e)||QZ(e)||WZ(e)||VZ(e)}a(tUe,"isBoxedPrimitive");mn.isBoxedPrimitive=tUe;function rUe(e){return typeof Uint8Array<"u"&&(FZ(e)||YZ(e))}a(rUe,"isAnyArrayBuffer");mn.isAnyArrayBuffer=rUe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(mn,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var KZ=j((X$t,GZ)=>{d();GZ.exports=a(function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},"isBuffer")});var Bf=j(bn=>{d();var $Z=Object.getOwnPropertyDescriptors||a(function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},"getOwnPropertyDescriptors"),nUe=/%[sdj%]/g;bn.format=function(e){if(!tA(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Ad(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(nUe,function(u){if(u==="%%")return"%";if(r>=i)return u;switch(u){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return u}}),o=n[r];r<i;o=n[++r])eA(o)||!Iy(o)?s+=" "+o:s+=" "+Ad(o);return s};bn.deprecate=function(e,t){if(typeof _.default<"u"&&_.default.noDeprecation===!0)return e;if(typeof _.default>"u")return function(){return bn.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(_.default.throwDeprecation)throw new Error(t);_.default.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return a(n,"deprecated"),n};var K6={},XZ=/^$/;_.default.env.NODE_DEBUG&&($6=_.default.env.NODE_DEBUG,$6=$6.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),XZ=new RegExp("^"+$6+"$","i"));var $6;bn.debuglog=function(e){if(e=e.toUpperCase(),!K6[e])if(XZ.test(e)){var t=_.default.pid;K6[e]=function(){var r=bn.format.apply(bn,arguments);console.error("%s %d: %s",e,t,r)}}else K6[e]=function(){};return K6[e]};function Ad(e,t){var r={seen:[],stylize:aUe};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),qR(t)?r.showHidden=t:t&&bn._extend(r,t),Cp(r.showHidden)&&(r.showHidden=!1),Cp(r.depth)&&(r.depth=2),Cp(r.colors)&&(r.colors=!1),Cp(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=iUe),J6(r,e,r.depth)}a(Ad,"inspect");bn.inspect=Ad;Ad.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ad.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function iUe(e,t){var r=Ad.styles[t];return r?"\x1B["+Ad.colors[r][0]+"m"+e+"\x1B["+Ad.colors[r][1]+"m":e}a(iUe,"stylizeWithColor");function aUe(e,t){return e}a(aUe,"stylizeNoColor");function sUe(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}a(sUe,"arrayToHash");function J6(e,t,r){if(e.customInspect&&t&&X6(t.inspect)&&t.inspect!==bn.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return tA(n)||(n=J6(e,n,r)),n}var i=oUe(e,t);if(i)return i;var s=Object.keys(t),o=sUe(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),i_(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return DR(t);if(s.length===0){if(X6(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(n_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Z6(t))return e.stylize(Date.prototype.toString.call(t),"date");if(i_(t))return DR(t)}var l="",f=!1,h=["{","}"];if(JZ(t)&&(f=!0,h=["[","]"]),X6(t)){var p=t.name?": "+t.name:"";l=" [Function"+p+"]"}if(n_(t)&&(l=" "+RegExp.prototype.toString.call(t)),Z6(t)&&(l=" "+Date.prototype.toUTCString.call(t)),i_(t)&&(l=" "+DR(t)),s.length===0&&(!f||t.length==0))return h[0]+l+h[1];if(r<0)return n_(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var g;return f?g=cUe(e,t,r,o,s):g=s.map(function(y){return OR(e,t,r,o,y,f)}),e.seen.pop(),uUe(g,l,h)}a(J6,"formatValue");function oUe(e,t){if(Cp(t))return e.stylize("undefined","undefined");if(tA(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(ZZ(t))return e.stylize(""+t,"number");if(qR(t))return e.stylize(""+t,"boolean");if(eA(t))return e.stylize("null","null")}a(oUe,"formatPrimitive");function DR(e){return"["+Error.prototype.toString.call(e)+"]"}a(DR,"formatError");function cUe(e,t,r,n,i){for(var s=[],o=0,u=t.length;o<u;++o)eee(t,String(o))?s.push(OR(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(OR(e,t,r,n,l,!0))}),s}a(cUe,"formatArray");function OR(e,t,r,n,i,s){var o,u,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?l.set?u=e.stylize("[Getter/Setter]","special"):u=e.stylize("[Getter]","special"):l.set&&(u=e.stylize("[Setter]","special")),eee(n,i)||(o="["+i+"]"),u||(e.seen.indexOf(l.value)<0?(eA(r)?u=J6(e,l.value,null):u=J6(e,l.value,r-1),u.indexOf(`
`)>-1&&(s?u=u.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):u=`
`+u.split(`
`).map(function(f){return"   "+f}).join(`
`))):u=e.stylize("[Circular]","special")),Cp(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}a(OR,"formatProperty");function uUe(e,t,r){var n=0,i=e.reduce(function(s,o){return n++,o.indexOf(`
`)>=0&&n++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}a(uUe,"reduceToSingleString");bn.types=jZ();function JZ(e){return Array.isArray(e)}a(JZ,"isArray");bn.isArray=JZ;function qR(e){return typeof e=="boolean"}a(qR,"isBoolean");bn.isBoolean=qR;function eA(e){return e===null}a(eA,"isNull");bn.isNull=eA;function lUe(e){return e==null}a(lUe,"isNullOrUndefined");bn.isNullOrUndefined=lUe;function ZZ(e){return typeof e=="number"}a(ZZ,"isNumber");bn.isNumber=ZZ;function tA(e){return typeof e=="string"}a(tA,"isString");bn.isString=tA;function fUe(e){return typeof e=="symbol"}a(fUe,"isSymbol");bn.isSymbol=fUe;function Cp(e){return e===void 0}a(Cp,"isUndefined");bn.isUndefined=Cp;function n_(e){return Iy(e)&&PR(e)==="[object RegExp]"}a(n_,"isRegExp");bn.isRegExp=n_;bn.types.isRegExp=n_;function Iy(e){return typeof e=="object"&&e!==null}a(Iy,"isObject");bn.isObject=Iy;function Z6(e){return Iy(e)&&PR(e)==="[object Date]"}a(Z6,"isDate");bn.isDate=Z6;bn.types.isDate=Z6;function i_(e){return Iy(e)&&(PR(e)==="[object Error]"||e instanceof Error)}a(i_,"isError");bn.isError=i_;bn.types.isNativeError=i_;function X6(e){return typeof e=="function"}a(X6,"isFunction");bn.isFunction=X6;function hUe(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(hUe,"isPrimitive");bn.isPrimitive=hUe;bn.isBuffer=KZ();function PR(e){return Object.prototype.toString.call(e)}a(PR,"objectToString");function NR(e){return e<10?"0"+e.toString(10):e.toString(10)}a(NR,"pad");var dUe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pUe(){var e=new Date,t=[NR(e.getHours()),NR(e.getMinutes()),NR(e.getSeconds())].join(":");return[e.getDate(),dUe[e.getMonth()],t].join(" ")}a(pUe,"timestamp");bn.log=function(){console.log("%s - %s",pUe(),bn.format.apply(bn,arguments))};bn.inherits=kr();bn._extend=function(e,t){if(!t||!Iy(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function eee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(eee,"hasOwnProperty");var kp=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;bn.promisify=a(function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(kp&&t[kp]){var r=t[kp];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,kp,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(l,f){n=l,i=f}),o=[],u=0;u<arguments.length;u++)o.push(arguments[u]);o.push(function(l,f){l?i(l):n(f)});try{t.apply(this,o)}catch(l){i(l)}return s}return a(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(t)),kp&&Object.defineProperty(r,kp,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,$Z(t))},"promisify");bn.promisify.custom=kp;function gUe(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}a(gUe,"callbackifyOnRejected");function yUe(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=a(function(){return i.apply(s,arguments)},"cb");e.apply(this,r).then(function(u){_.default.nextTick(o.bind(null,null,u))},function(u){_.default.nextTick(gUe.bind(null,u,o))})}return a(t,"callbackified"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,$Z(e)),t}a(yUe,"callbackify");bn.callbackify=yUe});var iee=j((nXt,nee)=>{"use strict";d();function tee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}a(tee,"ownKeys");function mUe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tee(Object(r),!0).forEach(function(n){bUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}a(mUe,"_objectSpread");function bUe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a(bUe,"_defineProperty");function vUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(vUe,"_classCallCheck");function ree(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a(ree,"_defineProperties");function _Ue(e,t,r){return t&&ree(e.prototype,t),r&&ree(e,r),e}a(_Ue,"_createClass");var xUe=Ei(),rA=xUe.Buffer,wUe=Bf(),FR=wUe.inspect,AUe=FR&&FR.custom||"inspect";function EUe(e,t,r){rA.prototype.copy.call(e,t,r)}a(EUe,"copyBuffer");nee.exports=function(){function e(){vUe(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),_Ue(e,[{key:"push",value:a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:a(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:a(function(r){if(this.length===0)return rA.alloc(0);for(var n=rA.allocUnsafe(r>>>0),i=this.head,s=0;i;)EUe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:a(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:a(function(){return this.head.data},"first")},{key:"_getString",value:a(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:a(function(r){var n=rA.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(u));break}++s}return this.length-=s,n},"_getBuffer")},{key:AUe,value:a(function(r,n){return FR(this,mUe({},n,{depth:0,customInspect:!1}))},"value")}]),e}()});var YR=j((sXt,see)=>{"use strict";d();function SUe(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.default.nextTick(UR,this,e)):_.default.nextTick(UR,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?_.default.nextTick(nA,r):(r._writableState.errorEmitted=!0,_.default.nextTick(aee,r,s)):_.default.nextTick(aee,r,s):t?(_.default.nextTick(nA,r),t(s)):_.default.nextTick(nA,r)}),this)}a(SUe,"destroy");function aee(e,t){UR(e,t),nA(e)}a(aee,"emitErrorAndCloseNT");function nA(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}a(nA,"emitCloseNT");function kUe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(kUe,"undestroy");function UR(e,t){e.emit("error",t)}a(UR,"emitErrorNT");function CUe(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}a(CUe,"errorOrDestroy");see.exports={destroy:SUe,undestroy:kUe,errorOrDestroy:CUe}});var Ip=j((uXt,uee)=>{"use strict";d();function IUe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a(IUe,"_inheritsLoose");var cee={};function wc(e,t,r){r||(r=Error);function n(s,o,u){return typeof t=="string"?t:t(s,o,u)}a(n,"getMessage");var i=function(s){IUe(o,s);function o(u,l,f){return s.call(this,n(u,l,f))||this}return a(o,"NodeError"),o}(r);i.prototype.name=r.name,i.prototype.code=e,cee[e]=i}a(wc,"createErrorType");function oee(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}a(oee,"oneOf");function TUe(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}a(TUe,"startsWith");function MUe(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}a(MUe,"endsWith");function BUe(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}a(BUe,"includes");wc("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);wc("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&TUe(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(MUe(e," argument"))i="The ".concat(e," ").concat(n," ").concat(oee(t,"type"));else{var s=BUe(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(oee(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);wc("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wc("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});wc("ERR_STREAM_PREMATURE_CLOSE","Premature close");wc("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});wc("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wc("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wc("ERR_STREAM_WRITE_AFTER_END","write after end");wc("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wc("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);wc("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");uee.exports.codes=cee});var HR=j((hXt,lee)=>{"use strict";d();var RUe=Ip().codes.ERR_INVALID_OPT_VALUE;function LUe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}a(LUe,"highWaterMarkFrom");function DUe(e,t,r,n){var i=LUe(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new RUe(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}a(DUe,"getHighWaterMark");lee.exports={getHighWaterMark:DUe}});var a_=j((gXt,fee)=>{d();fee.exports=NUe;function NUe(e,t){if(zR("noDeprecation"))return e;var r=!1;function n(){if(!r){if(zR("throwDeprecation"))throw new Error(t);zR("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return a(n,"deprecated"),n}a(NUe,"deprecate");function zR(e){try{if(!w.localStorage)return!1}catch{return!1}var t=w.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}a(zR,"config")});var sA=j((bXt,mee)=>{"use strict";d();mee.exports=zi;function dee(e){var t=this;this.next=null,this.entry=null,this.finish=function(){cYe(t,e)}}a(dee,"CorkedRequest");var Ty;zi.WritableState=o_;var OUe={deprecate:a_()},pee=lR(),aA=Ei().Buffer,qUe=w.Uint8Array||function(){};function PUe(e){return aA.from(e)}a(PUe,"_uint8ArrayToBuffer");function FUe(e){return aA.isBuffer(e)||e instanceof qUe}a(FUe,"_isUint8Array");var WR=YR(),UUe=HR(),YUe=UUe.getHighWaterMark,Ed=Ip().codes,HUe=Ed.ERR_INVALID_ARG_TYPE,zUe=Ed.ERR_METHOD_NOT_IMPLEMENTED,QUe=Ed.ERR_MULTIPLE_CALLBACK,WUe=Ed.ERR_STREAM_CANNOT_PIPE,VUe=Ed.ERR_STREAM_DESTROYED,jUe=Ed.ERR_STREAM_NULL_VALUES,GUe=Ed.ERR_STREAM_WRITE_AFTER_END,KUe=Ed.ERR_UNKNOWN_ENCODING,My=WR.errorOrDestroy;kr()(zi,pee);function $Ue(){}a($Ue,"nop");function o_(e,t,r){Ty=Ty||Sd(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ty),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=YUe(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){nYe(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new dee(this)}a(o_,"WritableState");o_.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(o_.prototype,"buffer",{get:OUe.deprecate(a(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var iA;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(iA=Function.prototype[Symbol.hasInstance],Object.defineProperty(zi,Symbol.hasInstance,{value:a(function(t){return iA.call(this,t)?!0:this!==zi?!1:t&&t._writableState instanceof o_},"value")})):iA=a(function(t){return t instanceof this},"realHasInstance");function zi(e){Ty=Ty||Sd();var t=this instanceof Ty;if(!t&&!iA.call(zi,this))return new zi(e);this._writableState=new o_(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),pee.call(this)}a(zi,"Writable");zi.prototype.pipe=function(){My(this,new WUe)};function XUe(e,t){var r=new GUe;My(e,r),_.default.nextTick(t,r)}a(XUe,"writeAfterEnd");function JUe(e,t,r,n){var i;return r===null?i=new jUe:typeof r!="string"&&!t.objectMode&&(i=new HUe("chunk",["string","Buffer"],r)),i?(My(e,i),_.default.nextTick(n,i),!1):!0}a(JUe,"validChunk");zi.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&FUe(e);return s&&!aA.isBuffer(e)&&(e=PUe(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=$Ue),n.ending?XUe(this,r):(s||JUe(this,n,e,r))&&(n.pendingcb++,i=eYe(this,n,s,e,t,r)),i};zi.prototype.cork=function(){this._writableState.corked++};zi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&gee(this,e))};zi.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new KUe(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");Object.defineProperty(zi.prototype,"writableBuffer",{enumerable:!1,get:a(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function ZUe(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=aA.from(t,r)),t}a(ZUe,"decodeChunk");Object.defineProperty(zi.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function eYe(e,t,r,n,i,s){if(!r){var o=ZUe(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else QR(e,t,!1,u,n,i,s);return l}a(eYe,"writeOrBuffer");function QR(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new VUe("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(QR,"doWrite");function tYe(e,t,r,n,i){--t.pendingcb,r?(_.default.nextTick(i,n),_.default.nextTick(s_,e,t),e._writableState.errorEmitted=!0,My(e,n)):(i(n),e._writableState.errorEmitted=!0,My(e,n),s_(e,t))}a(tYe,"onwriteError");function rYe(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(rYe,"onwriteStateUpdate");function nYe(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new QUe;if(rYe(r),t)tYe(e,r,n,t,i);else{var s=yee(r)||e.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&gee(e,r),n?_.default.nextTick(hee,e,r,s,i):hee(e,r,s,i)}}a(nYe,"onwrite");function hee(e,t,r,n){r||iYe(e,t),t.pendingcb--,n(),s_(e,t)}a(hee,"afterWrite");function iYe(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(iYe,"onwriteDrain");function gee(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,QR(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new dee(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:l.length;if(QR(e,t,!1,p,l,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(gee,"clearBuffer");zi.prototype._write=function(e,t,r){r(new zUe("_write()"))};zi.prototype._writev=null;zi.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||oYe(this,n,r),this};Object.defineProperty(zi.prototype,"writableLength",{enumerable:!1,get:a(function(){return this._writableState.length},"get")});function yee(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(yee,"needFinish");function aYe(e,t){e._final(function(r){t.pendingcb--,r&&My(e,r),t.prefinished=!0,e.emit("prefinish"),s_(e,t)})}a(aYe,"callFinal");function sYe(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,_.default.nextTick(aYe,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(sYe,"prefinish");function s_(e,t){var r=yee(t);if(r&&(sYe(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}a(s_,"finishMaybe");function oYe(e,t,r){t.ending=!0,s_(e,t),r&&(t.finished?_.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(oYe,"endWritable");function cYe(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}a(cYe,"onCorkedFinish");Object.defineProperty(zi.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:a(function(t){!this._writableState||(this._writableState.destroyed=t)},"set")});zi.prototype.destroy=WR.destroy;zi.prototype._undestroy=WR.undestroy;zi.prototype._destroy=function(e,t){t(e)}});var Sd=j((xXt,vee)=>{"use strict";d();var uYe=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};vee.exports=dl;var bee=uA(),jR=sA();kr()(dl,bee);for(VR=uYe(jR.prototype),oA=0;oA<VR.length;oA++)cA=VR[oA],dl.prototype[cA]||(dl.prototype[cA]=jR.prototype[cA]);var VR,cA,oA;function dl(e){if(!(this instanceof dl))return new dl(e);bee.call(this,e),jR.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",lYe)))}a(dl,"Duplex");Object.defineProperty(dl.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(dl.prototype,"writableBuffer",{enumerable:!1,get:a(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(dl.prototype,"writableLength",{enumerable:!1,get:a(function(){return this._writableState.length},"get")});function lYe(){this._writableState.ended||_.default.nextTick(fYe,this)}a(lYe,"onend");function fYe(e){e.end()}a(fYe,"onEndNT");Object.defineProperty(dl.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:a(function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)},"set")})});var u_=j(xee=>{"use strict";d();var KR=nn().Buffer,_ee=KR.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function hYe(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(hYe,"_normalizeEncoding");function dYe(e){var t=hYe(e);if(typeof t!="string"&&(KR.isEncoding===_ee||!_ee(e)))throw new Error("Unknown encoding: "+e);return t||e}a(dYe,"normalizeEncoding");xee.StringDecoder=c_;function c_(e){this.encoding=dYe(e);var t;switch(this.encoding){case"utf16le":this.text=vYe,this.end=_Ye,t=4;break;case"utf8":this.fillLast=yYe,t=4;break;case"base64":this.text=xYe,this.end=wYe,t=3;break;default:this.write=AYe,this.end=EYe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=KR.allocUnsafe(t)}a(c_,"StringDecoder");c_.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};c_.prototype.end=bYe;c_.prototype.text=mYe;c_.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function GR(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(GR,"utf8CheckByte");function pYe(e,t,r){var n=t.length-1;if(n<r)return 0;var i=GR(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=GR(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=GR(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(pYe,"utf8CheckIncomplete");function gYe(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(gYe,"utf8CheckExtraBytes");function yYe(e){var t=this.lastTotal-this.lastNeed,r=gYe(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(yYe,"utf8FillLast");function mYe(e,t){var r=pYe(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(mYe,"utf8Text");function bYe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(bYe,"utf8End");function vYe(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(vYe,"utf16Text");function _Ye(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(_Ye,"utf16End");function xYe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(xYe,"base64Text");function wYe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(wYe,"base64End");function AYe(e){return e.toString(this.encoding)}a(AYe,"simpleWrite");function EYe(e){return e&&e.length?this.write(e):""}a(EYe,"simpleEnd")});var l_=j((CXt,Eee)=>{"use strict";d();var wee=Ip().codes.ERR_STREAM_PREMATURE_CLOSE;function SYe(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}a(SYe,"once");function kYe(){}a(kYe,"noop");function CYe(e){return e.setHeader&&typeof e.abort=="function"}a(CYe,"isRequest");function Aee(e,t,r){if(typeof t=="function")return Aee(e,null,t);t||(t={}),r=SYe(r||kYe);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=a(function(){e.writable||u()},"onlegacyfinish"),o=e._writableState&&e._writableState.finished,u=a(function(){i=!1,o=!0,n||r.call(e)},"onfinish"),l=e._readableState&&e._readableState.endEmitted,f=a(function(){n=!1,l=!0,i||r.call(e)},"onend"),h=a(function(E){r.call(e,E)},"onerror"),p=a(function(){var E;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(E=new wee),r.call(e,E);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(E=new wee),r.call(e,E)},"onclose"),g=a(function(){e.req.on("finish",u)},"onrequest");return CYe(e)?(e.on("complete",u),e.on("abort",p),e.req?g():e.on("request",g)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",f),e.on("finish",u),t.error!==!1&&e.on("error",h),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",u),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",u),e.removeListener("end",f),e.removeListener("error",h),e.removeListener("close",p)}}a(Aee,"eos");Eee.exports=Aee});var kee=j((MXt,See)=>{"use strict";d();var lA;function kd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a(kd,"_defineProperty");var IYe=l_(),Cd=Symbol("lastResolve"),Tp=Symbol("lastReject"),f_=Symbol("error"),fA=Symbol("ended"),Mp=Symbol("lastPromise"),$R=Symbol("handlePromise"),Bp=Symbol("stream");function Id(e,t){return{value:e,done:t}}a(Id,"createIterResult");function TYe(e){var t=e[Cd];if(t!==null){var r=e[Bp].read();r!==null&&(e[Mp]=null,e[Cd]=null,e[Tp]=null,t(Id(r,!1)))}}a(TYe,"readAndResolve");function MYe(e){_.default.nextTick(TYe,e)}a(MYe,"onReadable");function BYe(e,t){return function(r,n){e.then(function(){if(t[fA]){r(Id(void 0,!0));return}t[$R](r,n)},n)}}a(BYe,"wrapForNext");var RYe=Object.getPrototypeOf(function(){}),LYe=Object.setPrototypeOf((lA={get stream(){return this[Bp]},next:a(function(){var t=this,r=this[f_];if(r!==null)return Promise.reject(r);if(this[fA])return Promise.resolve(Id(void 0,!0));if(this[Bp].destroyed)return new Promise(function(o,u){_.default.nextTick(function(){t[f_]?u(t[f_]):o(Id(void 0,!0))})});var n=this[Mp],i;if(n)i=new Promise(BYe(n,this));else{var s=this[Bp].read();if(s!==null)return Promise.resolve(Id(s,!1));i=new Promise(this[$R])}return this[Mp]=i,i},"next")},kd(lA,Symbol.asyncIterator,function(){return this}),kd(lA,"return",a(function(){var t=this;return new Promise(function(r,n){t[Bp].destroy(null,function(i){if(i){n(i);return}r(Id(void 0,!0))})})},"_return")),lA),RYe),DYe=a(function(t){var r,n=Object.create(LYe,(r={},kd(r,Bp,{value:t,writable:!0}),kd(r,Cd,{value:null,writable:!0}),kd(r,Tp,{value:null,writable:!0}),kd(r,f_,{value:null,writable:!0}),kd(r,fA,{value:t._readableState.endEmitted,writable:!0}),kd(r,$R,{value:a(function(s,o){var u=n[Bp].read();u?(n[Mp]=null,n[Cd]=null,n[Tp]=null,s(Id(u,!1))):(n[Cd]=s,n[Tp]=o)},"value"),writable:!0}),r));return n[Mp]=null,IYe(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Tp];s!==null&&(n[Mp]=null,n[Cd]=null,n[Tp]=null,s(i)),n[f_]=i;return}var o=n[Cd];o!==null&&(n[Mp]=null,n[Cd]=null,n[Tp]=null,o(Id(void 0,!0))),n[fA]=!0}),t.on("readable",MYe.bind(null,n)),n},"createReadableStreamAsyncIterator");See.exports=DYe});var Iee=j((LXt,Cee)=>{d();Cee.exports=function(){throw new Error("Readable.from is not available in the browser")}});var uA=j((OXt,Pee)=>{"use strict";d();Pee.exports=On;var By;On.ReadableState=Ree;var NXt=ea().EventEmitter,Bee=a(function(t,r){return t.listeners(r).length},"EElistenerCount"),d_=lR(),hA=Ei().Buffer,NYe=w.Uint8Array||function(){};function OYe(e){return hA.from(e)}a(OYe,"_uint8ArrayToBuffer");function qYe(e){return hA.isBuffer(e)||e instanceof NYe}a(qYe,"_isUint8Array");var XR=Bf(),pn;XR&&XR.debuglog?pn=XR.debuglog("stream"):pn=a(function(){},"debug");var PYe=iee(),iL=YR(),FYe=HR(),UYe=FYe.getHighWaterMark,dA=Ip().codes,YYe=dA.ERR_INVALID_ARG_TYPE,HYe=dA.ERR_STREAM_PUSH_AFTER_EOF,zYe=dA.ERR_METHOD_NOT_IMPLEMENTED,QYe=dA.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ry,JR,ZR;kr()(On,d_);var h_=iL.errorOrDestroy,eL=["error","close","destroy","pause","resume"];function WYe(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(WYe,"prependListener");function Ree(e,t,r){By=By||Sd(),e=e||{},typeof r!="boolean"&&(r=t instanceof By),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=UYe(this,e,"readableHighWaterMark",r),this.buffer=new PYe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ry||(Ry=u_().StringDecoder),this.decoder=new Ry(e.encoding),this.encoding=e.encoding)}a(Ree,"ReadableState");function On(e){if(By=By||Sd(),!(this instanceof On))return new On(e);var t=this instanceof By;this._readableState=new Ree(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),d_.call(this)}a(On,"Readable");Object.defineProperty(On.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:a(function(t){!this._readableState||(this._readableState.destroyed=t)},"set")});On.prototype.destroy=iL.destroy;On.prototype._undestroy=iL.undestroy;On.prototype._destroy=function(e,t){t(e)};On.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=hA.from(e,t),t=""),n=!0),Lee(this,e,t,!1,n)};On.prototype.unshift=function(e){return Lee(this,e,null,!0,!1)};function Lee(e,t,r,n,i){pn("readableAddChunk",t);var s=e._readableState;if(t===null)s.reading=!1,GYe(e,s);else{var o;if(i||(o=VYe(s,t)),o)h_(e,o);else if(s.objectMode||t&&t.length>0)if(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==hA.prototype&&(t=OYe(t)),n)s.endEmitted?h_(e,new QYe):tL(e,s,t,!0);else if(s.ended)h_(e,new HYe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?tL(e,s,t,!1):nL(e,s)):tL(e,s,t,!1)}else n||(s.reading=!1,nL(e,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}a(Lee,"readableAddChunk");function tL(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&pA(e)),nL(e,t)}a(tL,"addChunk");function VYe(e,t){var r;return!qYe(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new YYe("chunk",["string","Buffer","Uint8Array"],t)),r}a(VYe,"chunkInvalid");On.prototype.isPaused=function(){return this._readableState.flowing===!1};On.prototype.setEncoding=function(e){Ry||(Ry=u_().StringDecoder);var t=new Ry(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Tee=1073741824;function jYe(e){return e>=Tee?e=Tee:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(jYe,"computeNewHighWaterMark");function Mee(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=jYe(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Mee,"howMuchToRead");On.prototype.read=function(e){pn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return pn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?rL(this):pA(this),null;if(e=Mee(e,t),e===0&&t.ended)return t.length===0&&rL(this),null;var n=t.needReadable;pn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,pn("length less than watermark",n)),t.ended||t.reading?(n=!1,pn("reading or ended",n)):n&&(pn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Mee(r,t)));var i;return e>0?i=Oee(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&rL(this)),i!==null&&this.emit("data",i),i};function GYe(e,t){if(pn("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?pA(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Dee(e)))}}a(GYe,"onEofChunk");function pA(e){var t=e._readableState;pn("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(pn("emitReadable",t.flowing),t.emittedReadable=!0,_.default.nextTick(Dee,e))}a(pA,"emitReadable");function Dee(e){var t=e._readableState;pn("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,aL(e)}a(Dee,"emitReadable_");function nL(e,t){t.readingMore||(t.readingMore=!0,_.default.nextTick(KYe,e,t))}a(nL,"maybeReadMore");function KYe(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(pn("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}a(KYe,"maybeReadMore_");On.prototype._read=function(e){h_(this,new zYe("_read()"))};On.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,pn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?u:M;n.endEmitted?_.default.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(z,P){pn("onunpipe"),z===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,h())}a(o,"onunpipe");function u(){pn("onend"),e.end()}a(u,"onend");var l=$Ye(r);e.on("drain",l);var f=!1;function h(){pn("cleanup"),e.removeListener("close",y),e.removeListener("finish",E),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",M),r.removeListener("data",p),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}a(h,"cleanup"),r.on("data",p);function p(z){pn("ondata");var P=e.write(z);pn("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&qee(n.pipes,e)!==-1)&&!f&&(pn("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}a(p,"ondata");function g(z){pn("onerror",z),M(),e.removeListener("error",g),Bee(e,"error")===0&&h_(e,z)}a(g,"onerror"),WYe(e,"error",g);function y(){e.removeListener("finish",E),M()}a(y,"onclose"),e.once("close",y);function E(){pn("onfinish"),e.removeListener("close",y),M()}a(E,"onfinish"),e.once("finish",E);function M(){pn("unpipe"),r.unpipe(e)}return a(M,"unpipe"),e.emit("pipe",r),n.flowing||(pn("pipe resume"),r.resume()),e};function $Ye(e){return a(function(){var r=e._readableState;pn("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Bee(e,"data")&&(r.flowing=!0,aL(e))},"pipeOnDrainFunctionResult")}a($Ye,"pipeOnDrain");On.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=qee(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};On.prototype.on=function(e,t){var r=d_.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,pn("on readable",n.length,n.reading),n.length?pA(this):n.reading||_.default.nextTick(XYe,this)),r};On.prototype.addListener=On.prototype.on;On.prototype.removeListener=function(e,t){var r=d_.prototype.removeListener.call(this,e,t);return e==="readable"&&_.default.nextTick(Nee,this),r};On.prototype.removeAllListeners=function(e){var t=d_.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&_.default.nextTick(Nee,this),t};function Nee(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}a(Nee,"updateReadableListening");function XYe(e){pn("readable nexttick read 0"),e.read(0)}a(XYe,"nReadingNextTick");On.prototype.resume=function(){var e=this._readableState;return e.flowing||(pn("resume"),e.flowing=!e.readableListening,JYe(this,e)),e.paused=!1,this};function JYe(e,t){t.resumeScheduled||(t.resumeScheduled=!0,_.default.nextTick(ZYe,e,t))}a(JYe,"resume");function ZYe(e,t){pn("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),aL(e),t.flowing&&!t.reading&&e.read(0)}a(ZYe,"resume_");On.prototype.pause=function(){return pn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function aL(e){var t=e._readableState;for(pn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(aL,"flow");On.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(pn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(pn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=t.push(o);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=a(function(u){return a(function(){return e[u].apply(e,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<eL.length;s++)e.on(eL[s],this.emit.bind(this,eL[s]));return this._read=function(o){pn("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(On.prototype[Symbol.asyncIterator]=function(){return JR===void 0&&(JR=kee()),JR(this)});Object.defineProperty(On.prototype,"readableHighWaterMark",{enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(On.prototype,"readableBuffer",{enumerable:!1,get:a(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(On.prototype,"readableFlowing",{enumerable:!1,get:a(function(){return this._readableState.flowing},"get"),set:a(function(t){this._readableState&&(this._readableState.flowing=t)},"set")});On._fromList=Oee;Object.defineProperty(On.prototype,"readableLength",{enumerable:!1,get:a(function(){return this._readableState.length},"get")});function Oee(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}a(Oee,"fromList");function rL(e){var t=e._readableState;pn("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,_.default.nextTick(eHe,t,e))}a(rL,"endReadable");function eHe(e,t){if(pn("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}a(eHe,"endReadableNT");typeof Symbol=="function"&&(On.from=function(e,t){return ZR===void 0&&(ZR=Iee()),ZR(On,e,t)});function qee(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(qee,"indexOf")});var mA=j((FXt,Uee)=>{"use strict";d();Uee.exports=Rf;var gA=Ip().codes,tHe=gA.ERR_METHOD_NOT_IMPLEMENTED,rHe=gA.ERR_MULTIPLE_CALLBACK,nHe=gA.ERR_TRANSFORM_ALREADY_TRANSFORMING,iHe=gA.ERR_TRANSFORM_WITH_LENGTH_0,yA=Sd();kr()(Rf,yA);function aHe(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new rHe);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(aHe,"afterTransform");function Rf(e){if(!(this instanceof Rf))return new Rf(e);yA.call(this,e),this._transformState={afterTransform:aHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",sHe)}a(Rf,"Transform");function sHe(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Fee(e,t,r)}):Fee(this,null,null)}a(sHe,"prefinish");Rf.prototype.push=function(e,t){return this._transformState.needTransform=!1,yA.prototype.push.call(this,e,t)};Rf.prototype._transform=function(e,t,r){r(new tHe("_transform()"))};Rf.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Rf.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Rf.prototype._destroy=function(e,t){yA.prototype._destroy.call(this,e,function(r){t(r)})};function Fee(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new iHe;if(e._transformState.transforming)throw new nHe;return e.push(null)}a(Fee,"done")});var sL=j((HXt,Hee)=>{"use strict";d();Hee.exports=p_;var Yee=mA();kr()(p_,Yee);function p_(e){if(!(this instanceof p_))return new p_(e);Yee.call(this,e)}a(p_,"PassThrough");p_.prototype._transform=function(e,t,r){r(null,e)}});var cL=j((WXt,Vee)=>{"use strict";d();var oL;function oHe(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}a(oHe,"once");var Wee=Ip().codes,cHe=Wee.ERR_MISSING_ARGS,uHe=Wee.ERR_STREAM_DESTROYED;function zee(e){if(e)throw e}a(zee,"noop");function lHe(e){return e.setHeader&&typeof e.abort=="function"}a(lHe,"isRequest");function fHe(e,t,r,n){n=oHe(n);var i=!1;e.on("close",function(){i=!0}),oL===void 0&&(oL=l_()),oL(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,lHe(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new uHe("pipe"))}}}a(fHe,"destroyer");function Qee(e){e()}a(Qee,"call");function hHe(e,t){return e.pipe(t)}a(hHe,"pipe");function dHe(e){return!e.length||typeof e[e.length-1]!="function"?zee:e.pop()}a(dHe,"popCallback");function pHe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=dHe(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new cHe("streams");var i,s=t.map(function(o,u){var l=u<t.length-1,f=u>0;return fHe(o,l,f,function(h){i||(i=h),h&&s.forEach(Qee),!l&&(s.forEach(Qee),n(i))})});return t.reduce(hHe)}a(pHe,"pipeline");Vee.exports=pHe});var Rp=j((Ac,jee)=>{d();Ac=jee.exports=uA();Ac.Stream=Ac;Ac.Readable=Ac;Ac.Writable=sA();Ac.Duplex=Sd();Ac.Transform=mA();Ac.PassThrough=sL();Ac.finished=l_();Ac.pipeline=cL()});var uL=j((KXt,Kee)=>{"use strict";d();var bA=nn().Buffer,Gee=Rp().Transform,gHe=kr();function yHe(e,t){if(!bA.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}a(yHe,"throwIfNotStringOrBuffer");function Td(e){Gee.call(this),this._block=bA.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(Td,"HashBase");gHe(Td,Gee);Td.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};Td.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};Td.prototype.update=function(e,t){if(yHe(e,"Data"),this._finalized)throw new Error("Digest already called");bA.isBuffer(e)||(e=bA.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,o=e.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Td.prototype._update=function(){throw new Error("_update is not implemented")};Td.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Td.prototype._digest=function(){throw new Error("_digest is not implemented")};Kee.exports=Td});var xA=j((JXt,Xee)=>{"use strict";d();var mHe=kr(),$ee=uL(),bHe=nn().Buffer,vHe=new Array(16);function vA(){$ee.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(vA,"MD5");mHe(vA,$ee);vA.prototype._update=function(){for(var e=vHe,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=_s(r,n,i,s,e[0],3614090360,7),s=_s(s,r,n,i,e[1],3905402710,12),i=_s(i,s,r,n,e[2],606105819,17),n=_s(n,i,s,r,e[3],3250441966,22),r=_s(r,n,i,s,e[4],4118548399,7),s=_s(s,r,n,i,e[5],1200080426,12),i=_s(i,s,r,n,e[6],2821735955,17),n=_s(n,i,s,r,e[7],4249261313,22),r=_s(r,n,i,s,e[8],1770035416,7),s=_s(s,r,n,i,e[9],2336552879,12),i=_s(i,s,r,n,e[10],4294925233,17),n=_s(n,i,s,r,e[11],2304563134,22),r=_s(r,n,i,s,e[12],1804603682,7),s=_s(s,r,n,i,e[13],4254626195,12),i=_s(i,s,r,n,e[14],2792965006,17),n=_s(n,i,s,r,e[15],1236535329,22),r=xs(r,n,i,s,e[1],4129170786,5),s=xs(s,r,n,i,e[6],3225465664,9),i=xs(i,s,r,n,e[11],643717713,14),n=xs(n,i,s,r,e[0],3921069994,20),r=xs(r,n,i,s,e[5],3593408605,5),s=xs(s,r,n,i,e[10],38016083,9),i=xs(i,s,r,n,e[15],3634488961,14),n=xs(n,i,s,r,e[4],3889429448,20),r=xs(r,n,i,s,e[9],568446438,5),s=xs(s,r,n,i,e[14],3275163606,9),i=xs(i,s,r,n,e[3],4107603335,14),n=xs(n,i,s,r,e[8],1163531501,20),r=xs(r,n,i,s,e[13],2850285829,5),s=xs(s,r,n,i,e[2],4243563512,9),i=xs(i,s,r,n,e[7],1735328473,14),n=xs(n,i,s,r,e[12],2368359562,20),r=ws(r,n,i,s,e[5],4294588738,4),s=ws(s,r,n,i,e[8],2272392833,11),i=ws(i,s,r,n,e[11],1839030562,16),n=ws(n,i,s,r,e[14],4259657740,23),r=ws(r,n,i,s,e[1],2763975236,4),s=ws(s,r,n,i,e[4],1272893353,11),i=ws(i,s,r,n,e[7],4139469664,16),n=ws(n,i,s,r,e[10],3200236656,23),r=ws(r,n,i,s,e[13],681279174,4),s=ws(s,r,n,i,e[0],3936430074,11),i=ws(i,s,r,n,e[3],3572445317,16),n=ws(n,i,s,r,e[6],76029189,23),r=ws(r,n,i,s,e[9],3654602809,4),s=ws(s,r,n,i,e[12],3873151461,11),i=ws(i,s,r,n,e[15],530742520,16),n=ws(n,i,s,r,e[2],3299628645,23),r=As(r,n,i,s,e[0],4096336452,6),s=As(s,r,n,i,e[7],1126891415,10),i=As(i,s,r,n,e[14],2878612391,15),n=As(n,i,s,r,e[5],4237533241,21),r=As(r,n,i,s,e[12],1700485571,6),s=As(s,r,n,i,e[3],2399980690,10),i=As(i,s,r,n,e[10],4293915773,15),n=As(n,i,s,r,e[1],2240044497,21),r=As(r,n,i,s,e[8],1873313359,6),s=As(s,r,n,i,e[15],4264355552,10),i=As(i,s,r,n,e[6],2734768916,15),n=As(n,i,s,r,e[13],1309151649,21),r=As(r,n,i,s,e[4],4149444226,6),s=As(s,r,n,i,e[11],3174756917,10),i=As(i,s,r,n,e[2],718787259,15),n=As(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};vA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=bHe.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function _A(e,t){return e<<t|e>>>32-t}a(_A,"rotl");function _s(e,t,r,n,i,s,o){return _A(e+(t&r|~t&n)+i+s|0,o)+t|0}a(_s,"fnF");function xs(e,t,r,n,i,s,o){return _A(e+(t&n|r&~n)+i+s|0,o)+t|0}a(xs,"fnG");function ws(e,t,r,n,i,s,o){return _A(e+(t^r^n)+i+s|0,o)+t|0}a(ws,"fnH");function As(e,t,r,n,i,s,o){return _A(e+(r^(t|~n))+i+s|0,o)+t|0}a(As,"fnI");Xee.exports=vA});var AA=j((tJt,ite)=>{"use strict";d();var lL=Ei().Buffer,_He=kr(),nte=uL(),xHe=new Array(16),g_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],v_=[0,1518500249,1859775393,2400959708,2840853838],__=[1352829926,1548603684,1836072691,2053994217,0];function wA(){nte.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}a(wA,"RIPEMD160");_He(wA,nte);wA.prototype._update=function(){for(var e=xHe,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,u=this._a|0,l=this._b|0,f=this._c|0,h=this._d|0,p=this._e|0,g=0;g<80;g+=1){var y,E;g<16?(y=Jee(r,n,i,s,o,e[g_[g]],v_[0],m_[g]),E=rte(u,l,f,h,p,e[y_[g]],__[0],b_[g])):g<32?(y=Zee(r,n,i,s,o,e[g_[g]],v_[1],m_[g]),E=tte(u,l,f,h,p,e[y_[g]],__[1],b_[g])):g<48?(y=ete(r,n,i,s,o,e[g_[g]],v_[2],m_[g]),E=ete(u,l,f,h,p,e[y_[g]],__[2],b_[g])):g<64?(y=tte(r,n,i,s,o,e[g_[g]],v_[3],m_[g]),E=Zee(u,l,f,h,p,e[y_[g]],__[3],b_[g])):(y=rte(r,n,i,s,o,e[g_[g]],v_[4],m_[g]),E=Jee(u,l,f,h,p,e[y_[g]],__[4],b_[g])),r=o,o=s,s=Lp(i,10),i=n,n=y,u=p,p=h,h=Lp(f,10),f=l,l=E}var M=this._b+i+h|0;this._b=this._c+s+p|0,this._c=this._d+o+u|0,this._d=this._e+r+l|0,this._e=this._a+n+f|0,this._a=M};wA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=lL.alloc?lL.alloc(20):new lL(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function Lp(e,t){return e<<t|e>>>32-t}a(Lp,"rotl");function Jee(e,t,r,n,i,s,o,u){return Lp(e+(t^r^n)+s+o|0,u)+i|0}a(Jee,"fn1");function Zee(e,t,r,n,i,s,o,u){return Lp(e+(t&r|~t&n)+s+o|0,u)+i|0}a(Zee,"fn2");function ete(e,t,r,n,i,s,o,u){return Lp(e+((t|~r)^n)+s+o|0,u)+i|0}a(ete,"fn3");function tte(e,t,r,n,i,s,o,u){return Lp(e+(t&n|r&~n)+s+o|0,u)+i|0}a(tte,"fn4");function rte(e,t,r,n,i,s,o,u){return Lp(e+(t^(r|~n))+s+o|0,u)+i|0}a(rte,"fn5");ite.exports=wA});var Dp=j((iJt,ste)=>{d();var ate=nn().Buffer;function EA(e,t){this._block=ate.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}a(EA,"Hash");EA.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=ate.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var u=s%n,l=Math.min(i-o,n-u),f=0;f<l;f++)r[u+f]=e[o+f];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this};EA.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};EA.prototype._update=function(){throw new Error("_update must be implemented by subclass")};ste.exports=EA});var ute=j((oJt,cte)=>{d();var wHe=kr(),ote=Dp(),AHe=nn().Buffer,EHe=[1518500249,1859775393,-1894007588,-899497514],SHe=new Array(80);function x_(){this.init(),this._w=SHe,ote.call(this,64,56)}a(x_,"Sha");wHe(x_,ote);x_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function kHe(e){return e<<5|e>>>27}a(kHe,"rotl5");function CHe(e){return e<<30|e>>>2}a(CHe,"rotl30");function IHe(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}a(IHe,"ft");x_.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var l=0;l<80;++l){var f=~~(l/20),h=kHe(r)+IHe(f,n,i,s)+o+t[l]+EHe[f]|0;o=s,s=i,i=CHe(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};x_.prototype._hash=function(){var e=AHe.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};cte.exports=x_});var hte=j((lJt,fte)=>{d();var THe=kr(),lte=Dp(),MHe=nn().Buffer,BHe=[1518500249,1859775393,-1894007588,-899497514],RHe=new Array(80);function w_(){this.init(),this._w=RHe,lte.call(this,64,56)}a(w_,"Sha1");THe(w_,lte);w_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function LHe(e){return e<<1|e>>>31}a(LHe,"rotl1");function DHe(e){return e<<5|e>>>27}a(DHe,"rotl5");function NHe(e){return e<<30|e>>>2}a(NHe,"rotl30");function OHe(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}a(OHe,"ft");w_.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<80;++u)t[u]=LHe(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var l=0;l<80;++l){var f=~~(l/20),h=DHe(r)+OHe(f,n,i,s)+o+t[l]+BHe[f]|0;o=s,s=i,i=NHe(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};w_.prototype._hash=function(){var e=MHe.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};fte.exports=w_});var fL=j((dJt,pte)=>{d();var qHe=kr(),dte=Dp(),PHe=nn().Buffer,FHe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],UHe=new Array(64);function A_(){this.init(),this._w=UHe,dte.call(this,64,56)}a(A_,"Sha256");qHe(A_,dte);A_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function YHe(e,t,r){return r^e&(t^r)}a(YHe,"ch");function HHe(e,t,r){return e&t|r&(e|t)}a(HHe,"maj");function zHe(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}a(zHe,"sigma0");function QHe(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}a(QHe,"sigma1");function WHe(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}a(WHe,"gamma0");function VHe(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}a(VHe,"gamma1");A_.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,u=this._f|0,l=this._g|0,f=this._h|0,h=0;h<16;++h)t[h]=e.readInt32BE(h*4);for(;h<64;++h)t[h]=VHe(t[h-2])+t[h-7]+WHe(t[h-15])+t[h-16]|0;for(var p=0;p<64;++p){var g=f+QHe(o)+YHe(o,u,l)+FHe[p]+t[p]|0,y=zHe(r)+HHe(r,n,i)|0;f=l,l=u,u=o,o=s+g|0,s=i,i=n,n=r,r=g+y|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=u+this._f|0,this._g=l+this._g|0,this._h=f+this._h|0};A_.prototype._hash=function(){var e=PHe.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};pte.exports=A_});var yte=j((yJt,gte)=>{d();var jHe=kr(),GHe=fL(),KHe=Dp(),$He=nn().Buffer,XHe=new Array(64);function SA(){this.init(),this._w=XHe,KHe.call(this,64,56)}a(SA,"Sha224");jHe(SA,GHe);SA.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};SA.prototype._hash=function(){var e=$He.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};gte.exports=SA});var hL=j((vJt,Ate)=>{d();var JHe=kr(),wte=Dp(),ZHe=nn().Buffer,mte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],eze=new Array(160);function E_(){this.init(),this._w=eze,wte.call(this,128,112)}a(E_,"Sha512");JHe(E_,wte);E_.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function bte(e,t,r){return r^e&(t^r)}a(bte,"Ch");function vte(e,t,r){return e&t|r&(e|t)}a(vte,"maj");function _te(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}a(_te,"sigma0");function xte(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}a(xte,"sigma1");function tze(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}a(tze,"Gamma0");function rze(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}a(rze,"Gamma0l");function nze(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}a(nze,"Gamma1");function ize(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}a(ize,"Gamma1l");function Va(e,t){return e>>>0<t>>>0?1:0}a(Va,"getCarry");E_.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,u=this._fh|0,l=this._gh|0,f=this._hh|0,h=this._al|0,p=this._bl|0,g=this._cl|0,y=this._dl|0,E=this._el|0,M=this._fl|0,z=this._gl|0,P=this._hl|0,Q=0;Q<32;Q+=2)t[Q]=e.readInt32BE(Q*4),t[Q+1]=e.readInt32BE(Q*4+4);for(;Q<160;Q+=2){var V=t[Q-30],W=t[Q-15*2+1],F=tze(V,W),B=rze(W,V);V=t[Q-2*2],W=t[Q-2*2+1];var S=nze(V,W),T=ize(W,V),k=t[Q-7*2],R=t[Q-7*2+1],x=t[Q-16*2],N=t[Q-16*2+1],m=B+R|0,v=F+k+Va(m,B)|0;m=m+T|0,v=v+S+Va(m,T)|0,m=m+N|0,v=v+x+Va(m,N)|0,t[Q]=v,t[Q+1]=m}for(var A=0;A<160;A+=2){v=t[A],m=t[A+1];var U=vte(r,n,i),G=vte(h,p,g),K=_te(r,h),Z=_te(h,r),O=xte(o,E),$=xte(E,o),L=mte[A],ee=mte[A+1],ve=bte(o,u,l),ye=bte(E,M,z),se=P+$|0,be=f+O+Va(se,P)|0;se=se+ye|0,be=be+ve+Va(se,ye)|0,se=se+ee|0,be=be+L+Va(se,ee)|0,se=se+m|0,be=be+v+Va(se,m)|0;var Y=Z+G|0,D=K+U+Va(Y,Z)|0;f=l,P=z,l=u,z=M,u=o,M=E,E=y+se|0,o=s+be+Va(E,y)|0,s=i,y=g,i=n,g=p,n=r,p=h,h=se+Y|0,r=be+D+Va(h,se)|0}this._al=this._al+h|0,this._bl=this._bl+p|0,this._cl=this._cl+g|0,this._dl=this._dl+y|0,this._el=this._el+E|0,this._fl=this._fl+M|0,this._gl=this._gl+z|0,this._hl=this._hl+P|0,this._ah=this._ah+r+Va(this._al,h)|0,this._bh=this._bh+n+Va(this._bl,p)|0,this._ch=this._ch+i+Va(this._cl,g)|0,this._dh=this._dh+s+Va(this._dl,y)|0,this._eh=this._eh+o+Va(this._el,E)|0,this._fh=this._fh+u+Va(this._fl,M)|0,this._gh=this._gh+l+Va(this._gl,z)|0,this._hh=this._hh+f+Va(this._hl,P)|0};E_.prototype._hash=function(){var e=ZHe.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return a(t,"writeInt64BE"),t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};Ate.exports=E_});var Ste=j((wJt,Ete)=>{d();var aze=kr(),sze=hL(),oze=Dp(),cze=nn().Buffer,uze=new Array(160);function kA(){this.init(),this._w=uze,oze.call(this,128,112)}a(kA,"Sha384");aze(kA,sze);kA.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};kA.prototype._hash=function(){var e=cze.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return a(t,"writeInt64BE"),t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};Ete.exports=kA});var CA=j((Lf,kte)=>{d();var Lf=kte.exports=a(function(t){t=t.toLowerCase();var r=Lf[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r},"SHA");Lf.sha=ute();Lf.sha1=hte();Lf.sha224=yte();Lf.sha256=fL();Lf.sha384=Ste();Lf.sha512=hL()});var S_=j((CJt,Cte)=>{d();Cte.exports=Ec;var dL=ea().EventEmitter,lze=kr();lze(Ec,dL);Ec.Readable=uA();Ec.Writable=sA();Ec.Duplex=Sd();Ec.Transform=mA();Ec.PassThrough=sL();Ec.finished=l_();Ec.pipeline=cL();Ec.Stream=Ec;function Ec(){dL.call(this)}a(Ec,"Stream");Ec.prototype.pipe=function(e,t){var r=this;function n(h){e.writable&&e.write(h)===!1&&r.pause&&r.pause()}a(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}a(i,"ondrain"),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",u));var s=!1;function o(){s||(s=!0,e.end())}a(o,"onend");function u(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}a(u,"onclose");function l(h){if(f(),dL.listenerCount(this,"error")===0)throw h}a(l,"onerror"),r.on("error",l),e.on("error",l);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(f,"cleanup"),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}});var Df=j((MJt,Mte)=>{d();var Ite=nn().Buffer,Tte=S_().Transform,fze=u_().StringDecoder,hze=kr();function lu(e){Tte.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}a(lu,"CipherBase");hze(lu,Tte);lu.prototype.update=function(e,t,r){typeof e=="string"&&(e=Ite.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};lu.prototype.setAutoPadding=function(){};lu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};lu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};lu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};lu.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};lu.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};lu.prototype._finalOrDigest=function(e){var t=this.__final()||Ite.alloc(0);return e&&(t=this._toString(t,e,!0)),t};lu.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new fze(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};Mte.exports=lu});var Ly=j((LJt,Rte)=>{"use strict";d();var dze=kr(),pze=xA(),gze=AA(),yze=CA(),Bte=Df();function IA(e){Bte.call(this,"digest"),this._hash=e}a(IA,"Hash");dze(IA,Bte);IA.prototype._update=function(e){this._hash.update(e)};IA.prototype._final=function(){return this._hash.digest()};Rte.exports=a(function(t){return t=t.toLowerCase(),t==="md5"?new pze:t==="rmd160"||t==="ripemd160"?new gze:new IA(yze(t))},"createHash")});var Nte=j((OJt,Dte)=>{"use strict";d();var mze=kr(),Np=nn().Buffer,Lte=Df(),bze=Np.alloc(128),Dy=64;function TA(e,t){Lte.call(this,"digest"),typeof t=="string"&&(t=Np.from(t)),this._alg=e,this._key=t,t.length>Dy?t=e(t):t.length<Dy&&(t=Np.concat([t,bze],Dy));for(var r=this._ipad=Np.allocUnsafe(Dy),n=this._opad=Np.allocUnsafe(Dy),i=0;i<Dy;i++)r[i]=t[i]^54,n[i]=t[i]^92;this._hash=[r]}a(TA,"Hmac");mze(TA,Lte);TA.prototype._update=function(e){this._hash.push(e)};TA.prototype._final=function(){var e=this._alg(Np.concat(this._hash));return this._alg(Np.concat([this._opad,e]))};Dte.exports=TA});var pL=j((FJt,Ote)=>{d();var vze=xA();Ote.exports=function(e){return new vze().update(e).digest()}});var mL=j((YJt,Pte)=>{"use strict";d();var _ze=kr(),xze=Nte(),qte=Df(),k_=nn().Buffer,wze=pL(),gL=AA(),yL=CA(),Aze=k_.alloc(128);function C_(e,t){qte.call(this,"digest"),typeof t=="string"&&(t=k_.from(t));var r=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>r){var n=e==="rmd160"?new gL:yL(e);t=n.update(t).digest()}else t.length<r&&(t=k_.concat([t,Aze],r));for(var i=this._ipad=k_.allocUnsafe(r),s=this._opad=k_.allocUnsafe(r),o=0;o<r;o++)i[o]=t[o]^54,s[o]=t[o]^92;this._hash=e==="rmd160"?new gL:yL(e),this._hash.update(i)}a(C_,"Hmac");_ze(C_,qte);C_.prototype._update=function(e){this._hash.update(e)};C_.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new gL:yL(this._alg);return t.update(this._opad).update(e).digest()};Pte.exports=a(function(t,r){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new C_("rmd160",r):t==="md5"?new xze(wze,r):new C_(t,r)},"createHmac")});var bL=j((QJt,Eze)=>{Eze.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Ute=j((WJt,Fte)=>{d();Fte.exports=bL()});var vL=j((jJt,Yte)=>{d();var Sze=Math.pow(2,30)-1;Yte.exports=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>Sze||t!==t)throw new TypeError("Bad key length")}});var _L=j((KJt,zte)=>{d();var MA;w.process&&w.process.browser?MA="utf-8":w.process&&w.process.version?(Hte=parseInt(_.default.version.split(".")[0].slice(1),10),MA=Hte>=6?"utf-8":"binary"):MA="utf-8";var Hte;zte.exports=MA});var wL=j((XJt,Qte)=>{d();var xL=nn().Buffer;Qte.exports=function(e,t,r){if(xL.isBuffer(e))return e;if(typeof e=="string")return xL.from(e,t);if(ArrayBuffer.isView(e))return xL.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var AL=j((ZJt,Gte)=>{d();var kze=pL(),Cze=AA(),Ize=CA(),Op=nn().Buffer,Tze=vL(),Wte=_L(),Vte=wL(),Mze=Op.alloc(128),BA={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function jte(e,t,r){var n=Bze(e),i=e==="sha512"||e==="sha384"?128:64;t.length>i?t=n(t):t.length<i&&(t=Op.concat([t,Mze],i));for(var s=Op.allocUnsafe(i+BA[e]),o=Op.allocUnsafe(i+BA[e]),u=0;u<i;u++)s[u]=t[u]^54,o[u]=t[u]^92;var l=Op.allocUnsafe(i+r+4);s.copy(l,0,0,i),this.ipad1=l,this.ipad2=s,this.opad=o,this.alg=e,this.blocksize=i,this.hash=n,this.size=BA[e]}a(jte,"Hmac");jte.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Bze(e){function t(n){return Ize(e).update(n).digest()}a(t,"shaFunc");function r(n){return new Cze().update(n).digest()}return a(r,"rmd160Func"),e==="rmd160"||e==="ripemd160"?r:e==="md5"?kze:t}a(Bze,"getDigest");function Rze(e,t,r,n,i){Tze(r,n),e=Vte(e,Wte,"Password"),t=Vte(t,Wte,"Salt"),i=i||"sha1";var s=new jte(i,e,t.length),o=Op.allocUnsafe(n),u=Op.allocUnsafe(t.length+4);t.copy(u,0,0,t.length);for(var l=0,f=BA[i],h=Math.ceil(n/f),p=1;p<=h;p++){u.writeUInt32BE(p,t.length);for(var g=s.run(u,s.ipad1),y=g,E=1;E<r;E++){y=s.run(y,s.ipad2);for(var M=0;M<f;M++)g[M]^=y[M]}g.copy(o,l),l+=f}return o}a(Rze,"pbkdf2");Gte.exports=Rze});var tre=j((rZt,ere)=>{d();var Jte=nn().Buffer,Lze=vL(),Kte=_L(),$te=AL(),Xte=wL(),RA,I_=w.crypto&&w.crypto.subtle,Dze={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},EL=[];function Nze(e){if(w.process&&!w.process.browser||!I_||!I_.importKey||!I_.deriveBits)return Promise.resolve(!1);if(EL[e]!==void 0)return EL[e];RA=RA||Jte.alloc(8);var t=Zte(RA,RA,10,128,e).then(function(){return!0}).catch(function(){return!1});return EL[e]=t,t}a(Nze,"checkNative");var qp;function SL(){return qp||(w.process&&w.process.nextTick?qp=w.process.nextTick:w.queueMicrotask?qp=w.queueMicrotask:w.setImmediate?qp=w.setImmediate:qp=w.setTimeout,qp)}a(SL,"getNextTick");function Zte(e,t,r,n,i){return I_.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return I_.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Jte.from(s)})}a(Zte,"browserPbkdf2");function Oze(e,t){e.then(function(r){SL()(function(){t(null,r)})},function(r){SL()(function(){t(r)})})}a(Oze,"resolvePromise");ere.exports=function(e,t,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var o=Dze[i.toLowerCase()];if(!o||typeof w.Promise!="function"){SL()(function(){var u;try{u=$te(e,t,r,n,i)}catch(l){return s(l)}s(null,u)});return}if(Lze(r,n),e=Xte(e,Kte,"Password"),t=Xte(t,Kte,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");Oze(Nze(o).then(function(u){return u?Zte(e,t,r,n,o):$te(e,t,r,n,i)}),s)}});var CL=j(kL=>{d();kL.pbkdf2=tre();kL.pbkdf2Sync=AL()});var IL=j(Sc=>{"use strict";d();Sc.readUInt32BE=a(function(t,r){var n=t[0+r]<<24|t[1+r]<<16|t[2+r]<<8|t[3+r];return n>>>0},"readUInt32BE");Sc.writeUInt32BE=a(function(t,r,n){t[0+n]=r>>>24,t[1+n]=r>>>16&255,t[2+n]=r>>>8&255,t[3+n]=r&255},"writeUInt32BE");Sc.ip=a(function(t,r,n,i){for(var s=0,o=0,u=6;u>=0;u-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+u&1;for(var l=0;l<=24;l+=8)s<<=1,s|=t>>>l+u&1}for(var u=6;u>=0;u-=2){for(var l=1;l<=25;l+=8)o<<=1,o|=r>>>l+u&1;for(var l=1;l<=25;l+=8)o<<=1,o|=t>>>l+u&1}n[i+0]=s>>>0,n[i+1]=o>>>0},"ip");Sc.rip=a(function(t,r,n,i){for(var s=0,o=0,u=0;u<4;u++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+u&1,s<<=1,s|=t>>>l+u&1;for(var u=4;u<8;u++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+u&1,o<<=1,o|=t>>>l+u&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"rip");Sc.pc1=a(function(t,r,n,i){for(var s=0,o=0,u=7;u>=5;u--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+u&1;for(var l=0;l<=24;l+=8)s<<=1,s|=t>>l+u&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+u&1;for(var u=1;u<=3;u++){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+u&1;for(var l=0;l<=24;l+=8)o<<=1,o|=t>>l+u&1}for(var l=0;l<=24;l+=8)o<<=1,o|=t>>l+u&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"pc1");Sc.r28shl=a(function(t,r){return t<<r&268435455|t>>>28-r},"r28shl");var LA=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Sc.pc2=a(function(t,r,n,i){for(var s=0,o=0,u=LA.length>>>1,l=0;l<u;l++)s<<=1,s|=t>>>LA[l]&1;for(var l=u;l<LA.length;l++)o<<=1,o|=r>>>LA[l]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"pc2");Sc.expand=a(function(t,r,n){var i=0,s=0;i=(t&1)<<5|t>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=t>>>o&63;for(var o=11;o>=3;o-=4)s|=t>>>o&63,s<<=6;s|=(t&31)<<1|t>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var rre=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Sc.substitute=a(function(t,r){for(var n=0,i=0;i<4;i++){var s=t>>>18-i*6&63,o=rre[i*64+s];n<<=4,n|=o}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,o=rre[4*64+i*64+s];n<<=4,n|=o}return n>>>0},"substitute");var nre=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Sc.permute=a(function(t){for(var r=0,n=0;n<nre.length;n++)r<<=1,r|=t>>>nre[n]&1;return r>>>0},"permute");Sc.padSplit=a(function(t,r,n){for(var i=t.toString(2);i.length<r;)i="0"+i;for(var s=[],o=0;o<r;o+=n)s.push(i.slice(o,o+n));return s.join(" ")},"padSplit")});var Yo=j((lZt,are)=>{d();are.exports=ire;function ire(e,t){if(!e)throw new Error(t||"Assertion failed")}a(ire,"assert");ire.equal=a(function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)},"assertEqual")});var DA=j((dZt,sre)=>{"use strict";d();var qze=Yo();function kc(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}a(kc,"Cipher");sre.exports=kc;kc.prototype._init=a(function(){},"_init");kc.prototype.update=a(function(t){return t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(t):this._updateEncrypt(t)},"update");kc.prototype._buffer=a(function(t,r){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[r+i];return this.bufferOff+=n,n},"_buffer");kc.prototype._flushBuffer=a(function(t,r){return this._update(this.buffer,0,t,r),this.bufferOff=0,this.blockSize},"_flushBuffer");kc.prototype._updateEncrypt=a(function(t){var r=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(t,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=t.length-(t.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(t,r,s,n),n+=this.blockSize;for(;r<t.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=t[r];return s},"_updateEncrypt");kc.prototype._updateDecrypt=a(function(t){for(var r=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(t,r),n+=this._flushBuffer(s,n);return r+=this._buffer(t,r),s},"_updateDecrypt");kc.prototype.final=a(function(t){var r;t&&(r=this.update(t));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");kc.prototype._pad=a(function(t,r){if(r===0)return!1;for(;r<t.length;)t[r++]=0;return!0},"_pad");kc.prototype._finalEncrypt=a(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},"_finalEncrypt");kc.prototype._unpad=a(function(t){return t},"_unpad");kc.prototype._finalDecrypt=a(function(){qze.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)},"_finalDecrypt")});var TL=j((yZt,ure)=>{"use strict";d();var ore=Yo(),Pze=kr(),Ta=IL(),cre=DA();function Fze(){this.tmp=new Array(2),this.keys=null}a(Fze,"DESState");function pl(e){cre.call(this,e);var t=new Fze;this._desState=t,this.deriveKeys(t,e.key)}a(pl,"DES");Pze(pl,cre);ure.exports=pl;pl.create=a(function(t){return new pl(t)},"create");var Uze=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];pl.prototype.deriveKeys=a(function(t,r){t.keys=new Array(16*2),ore.equal(r.length,this.blockSize,"Invalid key length");var n=Ta.readUInt32BE(r,0),i=Ta.readUInt32BE(r,4);Ta.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var o=Uze[s>>>1];n=Ta.r28shl(n,o),i=Ta.r28shl(i,o),Ta.pc2(n,i,t.keys,s)}},"deriveKeys");pl.prototype._update=a(function(t,r,n,i){var s=this._desState,o=Ta.readUInt32BE(t,r),u=Ta.readUInt32BE(t,r+4);Ta.ip(o,u,s.tmp,0),o=s.tmp[0],u=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,u,s.tmp,0):this._decrypt(s,o,u,s.tmp,0),o=s.tmp[0],u=s.tmp[1],Ta.writeUInt32BE(n,o,i),Ta.writeUInt32BE(n,u,i+4)},"_update");pl.prototype._pad=a(function(t,r){for(var n=t.length-r,i=r;i<t.length;i++)t[i]=n;return!0},"_pad");pl.prototype._unpad=a(function(t){for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)ore.equal(t[n],r);return t.slice(0,t.length-r)},"_unpad");pl.prototype._encrypt=a(function(t,r,n,i,s){for(var o=r,u=n,l=0;l<t.keys.length;l+=2){var f=t.keys[l],h=t.keys[l+1];Ta.expand(u,t.tmp,0),f^=t.tmp[0],h^=t.tmp[1];var p=Ta.substitute(f,h),g=Ta.permute(p),y=u;u=(o^g)>>>0,o=y}Ta.rip(u,o,i,s)},"_encrypt");pl.prototype._decrypt=a(function(t,r,n,i,s){for(var o=n,u=r,l=t.keys.length-2;l>=0;l-=2){var f=t.keys[l],h=t.keys[l+1];Ta.expand(o,t.tmp,0),f^=t.tmp[0],h^=t.tmp[1];var p=Ta.substitute(f,h),g=Ta.permute(p),y=o;o=(u^g)>>>0,u=y}Ta.rip(o,u,i,s)},"_decrypt")});var fre=j(lre=>{"use strict";d();var Yze=Yo(),Hze=kr(),NA={};function zze(e){Yze.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}a(zze,"CBCState");function Qze(e){function t(s){e.call(this,s),this._cbcInit()}a(t,"CBC"),Hze(t,e);for(var r=Object.keys(NA),n=0;n<r.length;n++){var i=r[n];t.prototype[i]=NA[i]}return t.create=a(function(o){return new t(o)},"create"),t}a(Qze,"instantiate");lre.instantiate=Qze;NA._cbcInit=a(function(){var t=new zze(this.options.iv);this._cbcState=t},"_cbcInit");NA._update=a(function(t,r,n,i){var s=this._cbcState,o=this.constructor.super_.prototype,u=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)u[l]^=t[r+l];o._update.call(this,u,0,n,i);for(var l=0;l<this.blockSize;l++)u[l]=n[i+l]}else{o._update.call(this,t,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=u[l];for(var l=0;l<this.blockSize;l++)u[l]=t[r+l]}},"_update")});var pre=j((wZt,dre)=>{"use strict";d();var Wze=Yo(),Vze=kr(),hre=DA(),Md=TL();function jze(e,t){Wze.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);e==="encrypt"?this.ciphers=[Md.create({type:"encrypt",key:r}),Md.create({type:"decrypt",key:n}),Md.create({type:"encrypt",key:i})]:this.ciphers=[Md.create({type:"decrypt",key:i}),Md.create({type:"encrypt",key:n}),Md.create({type:"decrypt",key:r})]}a(jze,"EDEState");function Pp(e){hre.call(this,e);var t=new jze(this.type,this.options.key);this._edeState=t}a(Pp,"EDE");Vze(Pp,hre);dre.exports=Pp;Pp.create=a(function(t){return new Pp(t)},"create");Pp.prototype._update=a(function(t,r,n,i){var s=this._edeState;s.ciphers[0]._update(t,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");Pp.prototype._pad=Md.prototype._pad;Pp.prototype._unpad=Md.prototype._unpad});var gre=j(Ny=>{"use strict";d();Ny.utils=IL();Ny.Cipher=DA();Ny.DES=TL();Ny.CBC=fre();Ny.EDE=pre()});var bre=j((CZt,mre)=>{d();var yre=Df(),Nf=gre(),Gze=kr(),Fp=nn().Buffer,T_={"des-ede3-cbc":Nf.CBC.instantiate(Nf.EDE),"des-ede3":Nf.EDE,"des-ede-cbc":Nf.CBC.instantiate(Nf.EDE),"des-ede":Nf.EDE,"des-cbc":Nf.CBC.instantiate(Nf.DES),"des-ecb":Nf.DES};T_.des=T_["des-cbc"];T_.des3=T_["des-ede3-cbc"];mre.exports=OA;Gze(OA,yre);function OA(e){yre.call(this);var t=e.mode.toLowerCase(),r=T_[t],n;e.decrypt?n="decrypt":n="encrypt";var i=e.key;Fp.isBuffer(i)||(i=Fp.from(i)),(t==="des-ede"||t==="des-ede-cbc")&&(i=Fp.concat([i,i.slice(0,8)]));var s=e.iv;Fp.isBuffer(s)||(s=Fp.from(s)),this._des=r.create({key:i,iv:s,type:n})}a(OA,"DES");OA.prototype._update=function(e){return Fp.from(this._des.update(e))};OA.prototype._final=function(){return Fp.from(this._des.final())}});var vre=j(ML=>{d();ML.encrypt=function(e,t){return e._cipher.encryptBlock(t)};ML.decrypt=function(e,t){return e._cipher.decryptBlock(t)}});var Oy=j((RZt,_re)=>{d();_re.exports=a(function(t,r){for(var n=Math.min(t.length,r.length),i=new b.Buffer(n),s=0;s<n;++s)i[s]=t[s]^r[s];return i},"xor")});var wre=j(BL=>{d();var xre=Oy();BL.encrypt=function(e,t){var r=xre(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev};BL.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return xre(n,r)}});var Sre=j(Ere=>{d();var M_=nn().Buffer,Kze=Oy();function Are(e,t,r){var n=t.length,i=Kze(t,e._cache);return e._cache=e._cache.slice(n),e._prev=M_.concat([e._prev,r?t:i]),i}a(Are,"encryptStart");Ere.encrypt=function(e,t,r){for(var n=M_.allocUnsafe(0),i;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=M_.allocUnsafe(0)),e._cache.length<=t.length)i=e._cache.length,n=M_.concat([n,Are(e,t.slice(0,i),r)]),t=t.slice(i);else{n=M_.concat([n,Are(e,t,r)]);break}return n}});var Cre=j(kre=>{d();var RL=nn().Buffer;function $ze(e,t,r){var n=e._cipher.encryptBlock(e._prev),i=n[0]^t;return e._prev=RL.concat([e._prev.slice(1),RL.from([r?t:i])]),i}a($ze,"encryptByte");kre.encrypt=function(e,t,r){for(var n=t.length,i=RL.allocUnsafe(n),s=-1;++s<n;)i[s]=$ze(e,t[s],r);return i}});var Tre=j(Ire=>{d();var qA=nn().Buffer;function Xze(e,t,r){for(var n,i=-1,s=8,o=0,u,l;++i<s;)n=e._cipher.encryptBlock(e._prev),u=t&1<<7-i?128:0,l=n[0]^u,o+=(l&128)>>i%8,e._prev=Jze(e._prev,r?u:l);return o}a(Xze,"encryptByte");function Jze(e,t){var r=e.length,n=-1,i=qA.allocUnsafe(e.length);for(e=qA.concat([e,qA.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}a(Jze,"shiftIn");Ire.encrypt=function(e,t,r){for(var n=t.length,i=qA.allocUnsafe(n),s=-1;++s<n;)i[s]=Xze(e,t[s],r);return i}});var Bre=j(Mre=>{d();var Zze=Oy();function eQe(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}a(eQe,"getBlock");Mre.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=b.Buffer.concat([e._cache,eQe(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),Zze(t,r)}});var LL=j((KZt,Rre)=>{d();function tQe(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}a(tQe,"incr32");Rre.exports=tQe});var NL=j(Dre=>{d();var rQe=Oy(),Lre=nn().Buffer,nQe=LL();function iQe(e){var t=e._cipher.encryptBlockRaw(e._prev);return nQe(e._prev),t}a(iQe,"getBlock");var DL=16;Dre.encrypt=function(e,t){var r=Math.ceil(t.length/DL),n=e._cache.length;e._cache=Lre.concat([e._cache,Lre.allocUnsafe(r*DL)]);for(var i=0;i<r;i++){var s=iQe(e),o=n+i*DL;e._cache.writeUInt32BE(s[0],o+0),e._cache.writeUInt32BE(s[1],o+4),e._cache.writeUInt32BE(s[2],o+8),e._cache.writeUInt32BE(s[3],o+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),rQe(t,u)}});var OL=j((ter,aQe)=>{aQe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var FA=j((rer,Nre)=>{d();var sQe={ECB:vre(),CBC:wre(),CFB:Sre(),CFB8:Cre(),CFB1:Tre(),OFB:Bre(),CTR:NL(),GCM:NL()},PA=OL();for(qL in PA)PA[qL].module=sQe[PA[qL].mode];var qL;Nre.exports=PA});var B_=j((ier,qre)=>{d();var UA=nn().Buffer;function FL(e){UA.isBuffer(e)||(e=UA.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(n*4);return r}a(FL,"asUInt32Array");function PL(e){for(var t=0;t<e.length;e++)e[t]=0}a(PL,"scrubVec");function Ore(e,t,r,n,i){for(var s=r[0],o=r[1],u=r[2],l=r[3],f=e[0]^t[0],h=e[1]^t[1],p=e[2]^t[2],g=e[3]^t[3],y,E,M,z,P=4,Q=1;Q<i;Q++)y=s[f>>>24]^o[h>>>16&255]^u[p>>>8&255]^l[g&255]^t[P++],E=s[h>>>24]^o[p>>>16&255]^u[g>>>8&255]^l[f&255]^t[P++],M=s[p>>>24]^o[g>>>16&255]^u[f>>>8&255]^l[h&255]^t[P++],z=s[g>>>24]^o[f>>>16&255]^u[h>>>8&255]^l[p&255]^t[P++],f=y,h=E,p=M,g=z;return y=(n[f>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[g&255])^t[P++],E=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[g>>>8&255]<<8|n[f&255])^t[P++],M=(n[p>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[h&255])^t[P++],z=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[h>>>8&255]<<8|n[p&255])^t[P++],y=y>>>0,E=E>>>0,M=M>>>0,z=z>>>0,[y,E,M,z]}a(Ore,"cryptBlock");var oQe=[0,1,2,4,8,16,32,64,128,27,54],la=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,u=0,l=0;l<256;++l){var f=u^u<<1^u<<2^u<<3^u<<4;f=f>>>8^f&255^99,r[o]=f,n[f]=o;var h=e[o],p=e[h],g=e[p],y=e[f]*257^f*16843008;i[0][o]=y<<24|y>>>8,i[1][o]=y<<16|y>>>16,i[2][o]=y<<8|y>>>24,i[3][o]=y,y=g*16843009^p*65537^h*257^o*16843008,s[0][f]=y<<24|y>>>8,s[1][f]=y<<16|y>>>16,s[2][f]=y<<8|y>>>24,s[3][f]=y,o===0?o=u=1:(o=h^e[e[e[g^h]]],u^=e[e[u]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Cc(e){this._key=FL(e),this._reset()}a(Cc,"AES");Cc.blockSize=4*4;Cc.keySize=256/8;Cc.prototype.blockSize=Cc.blockSize;Cc.prototype.keySize=Cc.keySize;Cc.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=(r+1)*4,i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var o=i[s-1];s%t===0?(o=o<<8|o>>>24,o=la.SBOX[o>>>24]<<24|la.SBOX[o>>>16&255]<<16|la.SBOX[o>>>8&255]<<8|la.SBOX[o&255],o^=oQe[s/t|0]<<24):t>6&&s%t===4&&(o=la.SBOX[o>>>24]<<24|la.SBOX[o>>>16&255]<<16|la.SBOX[o>>>8&255]<<8|la.SBOX[o&255]),i[s]=i[s-t]^o}for(var u=[],l=0;l<n;l++){var f=n-l,h=i[f-(l%4?0:4)];l<4||f<=4?u[l]=h:u[l]=la.INV_SUB_MIX[0][la.SBOX[h>>>24]]^la.INV_SUB_MIX[1][la.SBOX[h>>>16&255]]^la.INV_SUB_MIX[2][la.SBOX[h>>>8&255]]^la.INV_SUB_MIX[3][la.SBOX[h&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u};Cc.prototype.encryptBlockRaw=function(e){return e=FL(e),Ore(e,this._keySchedule,la.SUB_MIX,la.SBOX,this._nRounds)};Cc.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=UA.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r};Cc.prototype.decryptBlock=function(e){e=FL(e);var t=e[1];e[1]=e[3],e[3]=t;var r=Ore(e,this._invKeySchedule,la.INV_SUB_MIX,la.INV_SBOX,this._nRounds),n=UA.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Cc.prototype.scrub=function(){PL(this._keySchedule),PL(this._invKeySchedule),PL(this._key)};qre.exports.AES=Cc});var Ure=j((oer,Fre)=>{d();var qy=nn().Buffer,cQe=qy.alloc(16,0);function uQe(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}a(uQe,"toArray");function Pre(e){var t=qy.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}a(Pre,"fromArray");function R_(e){this.h=e,this.state=qy.alloc(16,0),this.cache=qy.allocUnsafe(0)}a(R_,"GHASH");R_.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()};R_.prototype._multiply=function(){for(var e=uQe(this.h),t=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),i=(e[3]&1)!==0,r=3;r>0;r--)e[r]=e[r]>>>1|(e[r-1]&1)<<31;e[0]=e[0]>>>1,i&&(e[0]=e[0]^225<<24)}this.state=Pre(t)};R_.prototype.update=function(e){this.cache=qy.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};R_.prototype.final=function(e,t){return this.cache.length&&this.ghash(qy.concat([this.cache,cQe],16)),this.ghash(Pre([0,e,0,t])),this.state};Fre.exports=R_});var UL=j((ler,zre)=>{d();var lQe=B_(),mo=nn().Buffer,Yre=Df(),fQe=kr(),Hre=Ure(),hQe=Oy(),dQe=LL();function pQe(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}a(pQe,"xorTest");function gQe(e,t,r){if(t.length===12)return e._finID=mo.concat([t,mo.from([0,0,0,1])]),mo.concat([t,mo.from([0,0,0,2])]);var n=new Hre(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(mo.alloc(s,0))),n.update(mo.alloc(8,0));var o=i*8,u=mo.alloc(8);u.writeUIntBE(o,0,8),n.update(u),e._finID=n.state;var l=mo.from(e._finID);return dQe(l),l}a(gQe,"calcIv");function Up(e,t,r,n){Yre.call(this);var i=mo.alloc(4,0);this._cipher=new lQe.AES(t);var s=this._cipher.encryptBlock(i);this._ghash=new Hre(s),r=gQe(this,r,s),this._prev=mo.from(r),this._cache=mo.allocUnsafe(0),this._secCache=mo.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(Up,"StreamCipher");fQe(Up,Yre);Up.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=mo.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r};Up.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=hQe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&pQe(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()};Up.prototype.getAuthTag=a(function(){if(this._decrypt||!mo.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");Up.prototype.setAuthTag=a(function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},"setAuthTag");Up.prototype.setAAD=a(function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},"setAAD");zre.exports=Up});var HL=j((der,Wre)=>{d();var yQe=B_(),YL=nn().Buffer,Qre=Df(),mQe=kr();function YA(e,t,r,n){Qre.call(this),this._cipher=new yQe.AES(t),this._prev=YL.from(r),this._cache=YL.allocUnsafe(0),this._secCache=YL.allocUnsafe(0),this._decrypt=n,this._mode=e}a(YA,"StreamCipher");mQe(YA,Qre);YA.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};YA.prototype._final=function(){this._cipher.scrub()};Wre.exports=YA});var L_=j((yer,Vre)=>{d();var Yp=nn().Buffer,bQe=xA();function vQe(e,t,r,n){if(Yp.isBuffer(e)||(e=Yp.from(e,"binary")),t&&(Yp.isBuffer(t)||(t=Yp.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Yp.alloc(i),o=Yp.alloc(n||0),u=Yp.alloc(0);i>0||n>0;){var l=new bQe;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(i>0){var h=s.length-i;f=Math.min(i,u.length),u.copy(s,h,0,f),i-=f}if(f<u.length&&n>0){var p=o.length-n,g=Math.min(n,u.length-f);u.copy(o,p,f,f+g),n-=g}}return u.fill(0),{key:s,iv:o}}a(vQe,"EVP_BytesToKey");Vre.exports=vQe});var $re=j(zL=>{d();var jre=FA(),_Qe=UL(),Of=nn().Buffer,xQe=HL(),Gre=Df(),wQe=B_(),AQe=L_(),EQe=kr();function D_(e,t,r){Gre.call(this),this._cache=new HA,this._cipher=new wQe.AES(t),this._prev=Of.from(r),this._mode=e,this._autopadding=!0}a(D_,"Cipher");EQe(D_,Gre);D_.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return Of.concat(n)};var SQe=Of.alloc(16,16);D_.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(SQe))throw this._cipher.scrub(),new Error("data not multiple of block length")};D_.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function HA(){this.cache=Of.allocUnsafe(0)}a(HA,"Splitter");HA.prototype.add=function(e){this.cache=Of.concat([this.cache,e])};HA.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null};HA.prototype.flush=function(){for(var e=16-this.cache.length,t=Of.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return Of.concat([this.cache,t])};function Kre(e,t,r){var n=jre[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Of.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r=="string"&&(r=Of.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new xQe(n.module,t,r):n.type==="auth"?new _Qe(n.module,t,r):new D_(n.module,t,r)}a(Kre,"createCipheriv");function kQe(e,t){var r=jre[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=AQe(t,!1,r.key,r.iv);return Kre(e,n.key,n.iv)}a(kQe,"createCipher");zL.createCipheriv=Kre;zL.createCipher=kQe});var ene=j(QL=>{d();var CQe=UL(),Py=nn().Buffer,Xre=FA(),IQe=HL(),Jre=Df(),TQe=B_(),MQe=L_(),BQe=kr();function N_(e,t,r){Jre.call(this),this._cache=new zA,this._last=void 0,this._cipher=new TQe.AES(t),this._prev=Py.from(r),this._mode=e,this._autopadding=!0}a(N_,"Decipher");BQe(N_,Jre);N_.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return Py.concat(n)};N_.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return RQe(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")};N_.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function zA(){this.cache=Py.allocUnsafe(0)}a(zA,"Splitter");zA.prototype.add=function(e){this.cache=Py.concat([this.cache,e])};zA.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};zA.prototype.flush=function(){if(this.cache.length)return this.cache};function RQe(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}a(RQe,"unpad");function Zre(e,t,r){var n=Xre[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Py.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t=="string"&&(t=Py.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return n.type==="stream"?new IQe(n.module,t,r,!0):n.type==="auth"?new CQe(n.module,t,r,!0):new N_(n.module,t,r)}a(Zre,"createDecipheriv");function LQe(e,t){var r=Xre[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=MQe(t,!1,r.key,r.iv);return Zre(e,n.key,n.iv)}a(LQe,"createDecipher");QL.createDecipher=LQe;QL.createDecipheriv=Zre});var QA=j(fu=>{d();var tne=$re(),rne=ene(),DQe=OL();function NQe(){return Object.keys(DQe)}a(NQe,"getCiphers");fu.createCipher=fu.Cipher=tne.createCipher;fu.createCipheriv=fu.Cipheriv=tne.createCipheriv;fu.createDecipher=fu.Decipher=rne.createDecipher;fu.createDecipheriv=fu.Decipheriv=rne.createDecipheriv;fu.listCiphers=fu.getCiphers=NQe});var nne=j(qf=>{d();qf["des-ecb"]={key:8,iv:0};qf["des-cbc"]=qf.des={key:8,iv:8};qf["des-ede3-cbc"]=qf.des3={key:24,iv:8};qf["des-ede3"]={key:24,iv:0};qf["des-ede-cbc"]={key:16,iv:8};qf["des-ede"]={key:16,iv:0}});var cne=j(hu=>{d();var ine=bre(),WL=QA(),Bd=FA(),Pf=nne(),ane=L_();function OQe(e,t){e=e.toLowerCase();var r,n;if(Bd[e])r=Bd[e].key,n=Bd[e].iv;else if(Pf[e])r=Pf[e].key*8,n=Pf[e].iv;else throw new TypeError("invalid suite type");var i=ane(t,!1,r,n);return sne(e,i.key,i.iv)}a(OQe,"createCipher");function qQe(e,t){e=e.toLowerCase();var r,n;if(Bd[e])r=Bd[e].key,n=Bd[e].iv;else if(Pf[e])r=Pf[e].key*8,n=Pf[e].iv;else throw new TypeError("invalid suite type");var i=ane(t,!1,r,n);return one(e,i.key,i.iv)}a(qQe,"createDecipher");function sne(e,t,r){if(e=e.toLowerCase(),Bd[e])return WL.createCipheriv(e,t,r);if(Pf[e])return new ine({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}a(sne,"createCipheriv");function one(e,t,r){if(e=e.toLowerCase(),Bd[e])return WL.createDecipheriv(e,t,r);if(Pf[e])return new ine({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}a(one,"createDecipheriv");function PQe(){return Object.keys(Pf).concat(WL.getCiphers())}a(PQe,"getCiphers");hu.createCipher=hu.Cipher=OQe;hu.createCipheriv=hu.Cipheriv=sne;hu.createDecipher=hu.Decipher=qQe;hu.createDecipheriv=hu.Decipheriv=one;hu.listCiphers=hu.getCiphers=PQe});var Qi=j((une,VL)=>{d();(function(e,t){"use strict";function r(m,v){if(!m)throw new Error(v||"Assertion failed")}a(r,"assert");function n(m,v){m.super_=v;var A=a(function(){},"TempCtor");A.prototype=v.prototype,m.prototype=new A,m.prototype.constructor=m}a(n,"inherits");function i(m,v,A){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((v==="le"||v==="be")&&(A=v,v=10),this._init(m||0,v||10,A||"be"))}a(i,"BN"),typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ei().Buffer}catch{}i.isBN=a(function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},"isBN"),i.max=a(function(v,A){return v.cmp(A)>0?v:A},"max"),i.min=a(function(v,A){return v.cmp(A)<0?v:A},"min"),i.prototype._init=a(function(v,A,U){if(typeof v=="number")return this._initNumber(v,A,U);if(typeof v=="object")return this._initArray(v,A,U);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),v=v.toString().replace(/\s+/g,"");var G=0;v[0]==="-"&&(G++,this.negative=1),G<v.length&&(A===16?this._parseHex(v,G,U):(this._parseBase(v,A,G),U==="le"&&this._initArray(this.toArray(),A,U)))},"init"),i.prototype._initNumber=a(function(v,A,U){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),U==="le"&&this._initArray(this.toArray(),A,U)},"_initNumber"),i.prototype._initArray=a(function(v,A,U){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var K,Z,O=0;if(U==="be")for(G=v.length-1,K=0;G>=0;G-=3)Z=v[G]|v[G-1]<<8|v[G-2]<<16,this.words[K]|=Z<<O&67108863,this.words[K+1]=Z>>>26-O&67108863,O+=24,O>=26&&(O-=26,K++);else if(U==="le")for(G=0,K=0;G<v.length;G+=3)Z=v[G]|v[G+1]<<8|v[G+2]<<16,this.words[K]|=Z<<O&67108863,this.words[K+1]=Z>>>26-O&67108863,O+=24,O>=26&&(O-=26,K++);return this._strip()},"_initArray");function o(m,v){var A=m.charCodeAt(v);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+m)}a(o,"parseHex4Bits");function u(m,v,A){var U=o(m,A);return A-1>=v&&(U|=o(m,A-1)<<4),U}a(u,"parseHexByte"),i.prototype._parseHex=a(function(v,A,U){this.length=Math.ceil((v.length-A)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var K=0,Z=0,O;if(U==="be")for(G=v.length-1;G>=A;G-=2)O=u(v,A,G)<<K,this.words[Z]|=O&67108863,K>=18?(K-=18,Z+=1,this.words[Z]|=O>>>26):K+=8;else{var $=v.length-A;for(G=$%2===0?A+1:A;G<v.length;G+=2)O=u(v,A,G)<<K,this.words[Z]|=O&67108863,K>=18?(K-=18,Z+=1,this.words[Z]|=O>>>26):K+=8}this._strip()},"_parseHex");function l(m,v,A,U){for(var G=0,K=0,Z=Math.min(m.length,A),O=v;O<Z;O++){var $=m.charCodeAt(O)-48;G*=U,$>=49?K=$-49+10:$>=17?K=$-17+10:K=$,r($>=0&&K<U,"Invalid character"),G+=K}return G}a(l,"parseBase"),i.prototype._parseBase=a(function(v,A,U){this.words=[0],this.length=1;for(var G=0,K=1;K<=67108863;K*=A)G++;G--,K=K/A|0;for(var Z=v.length-U,O=Z%G,$=Math.min(Z,Z-O)+U,L=0,ee=U;ee<$;ee+=G)L=l(v,ee,ee+G,A),this.imuln(K),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(O!==0){var ve=1;for(L=l(v,ee,v.length,A),ee=0;ee<O;ee++)ve*=A;this.imuln(ve),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this._strip()},"_parseBase"),i.prototype.copy=a(function(v){v.words=new Array(this.length);for(var A=0;A<this.length;A++)v.words[A]=this.words[A];v.length=this.length,v.negative=this.negative,v.red=this.red},"copy");function f(m,v){m.words=v.words,m.length=v.length,m.negative=v.negative,m.red=v.red}if(a(f,"move"),i.prototype._move=a(function(v){f(v,this)},"_move"),i.prototype.clone=a(function(){var v=new i(null);return this.copy(v),v},"clone"),i.prototype._expand=a(function(v){for(;this.length<v;)this.words[this.length++]=0;return this},"_expand"),i.prototype._strip=a(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=a(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(h,"inspect");var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=a(function(v,A){v=v||10,A=A|0||1;var U;if(v===16||v==="hex"){U="";for(var G=0,K=0,Z=0;Z<this.length;Z++){var O=this.words[Z],$=((O<<G|K)&16777215).toString(16);K=O>>>24-G&16777215,G+=2,G>=26&&(G-=26,Z--),K!==0||Z!==this.length-1?U=p[6-$.length]+$+U:U=$+U}for(K!==0&&(U=K.toString(16)+U);U.length%A!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}if(v===(v|0)&&v>=2&&v<=36){var L=g[v],ee=y[v];U="";var ve=this.clone();for(ve.negative=0;!ve.isZero();){var ye=ve.modrn(ee).toString(v);ve=ve.idivn(ee),ve.isZero()?U=ye+U:U=p[L-ye.length]+ye+U}for(this.isZero()&&(U="0"+U);U.length%A!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=a(function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},"toNumber"),i.prototype.toJSON=a(function(){return this.toString(16,2)},"toJSON"),s&&(i.prototype.toBuffer=a(function(v,A){return this.toArrayLike(s,v,A)},"toBuffer")),i.prototype.toArray=a(function(v,A){return this.toArrayLike(Array,v,A)},"toArray");var E=a(function(v,A){return v.allocUnsafe?v.allocUnsafe(A):new v(A)},"allocate");i.prototype.toArrayLike=a(function(v,A,U){this._strip();var G=this.byteLength(),K=U||Math.max(1,G);r(G<=K,"byte array longer than desired length"),r(K>0,"Requested array length <= 0");var Z=E(v,K),O=A==="le"?"LE":"BE";return this["_toArrayLike"+O](Z,G),Z},"toArrayLike"),i.prototype._toArrayLikeLE=a(function(v,A){for(var U=0,G=0,K=0,Z=0;K<this.length;K++){var O=this.words[K]<<Z|G;v[U++]=O&255,U<v.length&&(v[U++]=O>>8&255),U<v.length&&(v[U++]=O>>16&255),Z===6?(U<v.length&&(v[U++]=O>>24&255),G=0,Z=0):(G=O>>>24,Z+=2)}if(U<v.length)for(v[U++]=G;U<v.length;)v[U++]=0},"_toArrayLikeLE"),i.prototype._toArrayLikeBE=a(function(v,A){for(var U=v.length-1,G=0,K=0,Z=0;K<this.length;K++){var O=this.words[K]<<Z|G;v[U--]=O&255,U>=0&&(v[U--]=O>>8&255),U>=0&&(v[U--]=O>>16&255),Z===6?(U>=0&&(v[U--]=O>>24&255),G=0,Z=0):(G=O>>>24,Z+=2)}if(U>=0)for(v[U--]=G;U>=0;)v[U--]=0},"_toArrayLikeBE"),Math.clz32?i.prototype._countBits=a(function(v){return 32-Math.clz32(v)},"_countBits"):i.prototype._countBits=a(function(v){var A=v,U=0;return A>=4096&&(U+=13,A>>>=13),A>=64&&(U+=7,A>>>=7),A>=8&&(U+=4,A>>>=4),A>=2&&(U+=2,A>>>=2),U+A},"_countBits"),i.prototype._zeroBits=a(function(v){if(v===0)return 26;var A=v,U=0;return(A&8191)===0&&(U+=13,A>>>=13),(A&127)===0&&(U+=7,A>>>=7),(A&15)===0&&(U+=4,A>>>=4),(A&3)===0&&(U+=2,A>>>=2),(A&1)===0&&U++,U},"_zeroBits"),i.prototype.bitLength=a(function(){var v=this.words[this.length-1],A=this._countBits(v);return(this.length-1)*26+A},"bitLength");function M(m){for(var v=new Array(m.bitLength()),A=0;A<v.length;A++){var U=A/26|0,G=A%26;v[A]=m.words[U]>>>G&1}return v}a(M,"toBitArray"),i.prototype.zeroBits=a(function(){if(this.isZero())return 0;for(var v=0,A=0;A<this.length;A++){var U=this._zeroBits(this.words[A]);if(v+=U,U!==26)break}return v},"zeroBits"),i.prototype.byteLength=a(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=a(function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=a(function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=a(function(){return this.negative!==0},"isNeg"),i.prototype.neg=a(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=a(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=a(function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]|v.words[A];return this._strip()},"iuor"),i.prototype.ior=a(function(v){return r((this.negative|v.negative)===0),this.iuor(v)},"ior"),i.prototype.or=a(function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},"or"),i.prototype.uor=a(function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},"uor"),i.prototype.iuand=a(function(v){var A;this.length>v.length?A=v:A=this;for(var U=0;U<A.length;U++)this.words[U]=this.words[U]&v.words[U];return this.length=A.length,this._strip()},"iuand"),i.prototype.iand=a(function(v){return r((this.negative|v.negative)===0),this.iuand(v)},"iand"),i.prototype.and=a(function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},"and"),i.prototype.uand=a(function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},"uand"),i.prototype.iuxor=a(function(v){var A,U;this.length>v.length?(A=this,U=v):(A=v,U=this);for(var G=0;G<U.length;G++)this.words[G]=A.words[G]^U.words[G];if(this!==A)for(;G<A.length;G++)this.words[G]=A.words[G];return this.length=A.length,this._strip()},"iuxor"),i.prototype.ixor=a(function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},"ixor"),i.prototype.xor=a(function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},"xor"),i.prototype.uxor=a(function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},"uxor"),i.prototype.inotn=a(function(v){r(typeof v=="number"&&v>=0);var A=Math.ceil(v/26)|0,U=v%26;this._expand(A),U>0&&A--;for(var G=0;G<A;G++)this.words[G]=~this.words[G]&67108863;return U>0&&(this.words[G]=~this.words[G]&67108863>>26-U),this._strip()},"inotn"),i.prototype.notn=a(function(v){return this.clone().inotn(v)},"notn"),i.prototype.setn=a(function(v,A){r(typeof v=="number"&&v>=0);var U=v/26|0,G=v%26;return this._expand(U+1),A?this.words[U]=this.words[U]|1<<G:this.words[U]=this.words[U]&~(1<<G),this._strip()},"setn"),i.prototype.iadd=a(function(v){var A;if(this.negative!==0&&v.negative===0)return this.negative=0,A=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,A=this.isub(v),v.negative=1,A._normSign();var U,G;this.length>v.length?(U=this,G=v):(U=v,G=this);for(var K=0,Z=0;Z<G.length;Z++)A=(U.words[Z]|0)+(G.words[Z]|0)+K,this.words[Z]=A&67108863,K=A>>>26;for(;K!==0&&Z<U.length;Z++)A=(U.words[Z]|0)+K,this.words[Z]=A&67108863,K=A>>>26;if(this.length=U.length,K!==0)this.words[this.length]=K,this.length++;else if(U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this},"iadd"),i.prototype.add=a(function(v){var A;return v.negative!==0&&this.negative===0?(v.negative=0,A=this.sub(v),v.negative^=1,A):v.negative===0&&this.negative!==0?(this.negative=0,A=v.sub(this),this.negative=1,A):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},"add"),i.prototype.isub=a(function(v){if(v.negative!==0){v.negative=0;var A=this.iadd(v);return v.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var U=this.cmp(v);if(U===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,K;U>0?(G=this,K=v):(G=v,K=this);for(var Z=0,O=0;O<K.length;O++)A=(G.words[O]|0)-(K.words[O]|0)+Z,Z=A>>26,this.words[O]=A&67108863;for(;Z!==0&&O<G.length;O++)A=(G.words[O]|0)+Z,Z=A>>26,this.words[O]=A&67108863;if(Z===0&&O<G.length&&G!==this)for(;O<G.length;O++)this.words[O]=G.words[O];return this.length=Math.max(this.length,O),G!==this&&(this.negative=1),this._strip()},"isub"),i.prototype.sub=a(function(v){return this.clone().isub(v)},"sub");function z(m,v,A){A.negative=v.negative^m.negative;var U=m.length+v.length|0;A.length=U,U=U-1|0;var G=m.words[0]|0,K=v.words[0]|0,Z=G*K,O=Z&67108863,$=Z/67108864|0;A.words[0]=O;for(var L=1;L<U;L++){for(var ee=$>>>26,ve=$&67108863,ye=Math.min(L,v.length-1),se=Math.max(0,L-m.length+1);se<=ye;se++){var be=L-se|0;G=m.words[be]|0,K=v.words[se]|0,Z=G*K+ve,ee+=Z/67108864|0,ve=Z&67108863}A.words[L]=ve|0,$=ee|0}return $!==0?A.words[L]=$|0:A.length--,A._strip()}a(z,"smallMulTo");var P=a(function(v,A,U){var G=v.words,K=A.words,Z=U.words,O=0,$,L,ee,ve=G[0]|0,ye=ve&8191,se=ve>>>13,be=G[1]|0,Y=be&8191,D=be>>>13,J=G[2]|0,q=J&8191,I=J>>>13,H=G[3]|0,te=H&8191,ie=H>>>13,he=G[4]|0,De=he&8191,$e=he>>>13,ze=G[5]|0,Qe=ze&8191,je=ze>>>13,We=G[6]|0,Ce=We&8191,Te=We>>>13,Je=G[7]|0,rt=Je&8191,ge=Je>>>13,xe=G[8]|0,qe=xe&8191,ot=xe>>>13,at=G[9]|0,pe=at&8191,Re=at>>>13,He=K[0]|0,tt=He&8191,Ve=He>>>13,et=K[1]|0,gt=et&8191,ut=et>>>13,zt=K[2]|0,it=zt&8191,Wt=zt>>>13,bt=K[3]|0,Se=bt&8191,Ie=bt>>>13,ue=K[4]|0,_e=ue&8191,ae=ue>>>13,ce=K[5]|0,re=ce&8191,le=ce>>>13,me=K[6]|0,Ae=me&8191,Oe=me>>>13,Ge=K[7]|0,ke=Ge&8191,st=Ge>>>13,yt=K[8]|0,pt=yt&8191,wt=yt>>>13,Gt=K[9]|0,Pt=Gt&8191,tr=Gt>>>13;U.negative=v.negative^A.negative,U.length=19,$=Math.imul(ye,tt),L=Math.imul(ye,Ve),L=L+Math.imul(se,tt)|0,ee=Math.imul(se,Ve);var cr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(cr>>>26)|0,cr&=67108863,$=Math.imul(Y,tt),L=Math.imul(Y,Ve),L=L+Math.imul(D,tt)|0,ee=Math.imul(D,Ve),$=$+Math.imul(ye,gt)|0,L=L+Math.imul(ye,ut)|0,L=L+Math.imul(se,gt)|0,ee=ee+Math.imul(se,ut)|0;var pr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(pr>>>26)|0,pr&=67108863,$=Math.imul(q,tt),L=Math.imul(q,Ve),L=L+Math.imul(I,tt)|0,ee=Math.imul(I,Ve),$=$+Math.imul(Y,gt)|0,L=L+Math.imul(Y,ut)|0,L=L+Math.imul(D,gt)|0,ee=ee+Math.imul(D,ut)|0,$=$+Math.imul(ye,it)|0,L=L+Math.imul(ye,Wt)|0,L=L+Math.imul(se,it)|0,ee=ee+Math.imul(se,Wt)|0;var Cr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,$=Math.imul(te,tt),L=Math.imul(te,Ve),L=L+Math.imul(ie,tt)|0,ee=Math.imul(ie,Ve),$=$+Math.imul(q,gt)|0,L=L+Math.imul(q,ut)|0,L=L+Math.imul(I,gt)|0,ee=ee+Math.imul(I,ut)|0,$=$+Math.imul(Y,it)|0,L=L+Math.imul(Y,Wt)|0,L=L+Math.imul(D,it)|0,ee=ee+Math.imul(D,Wt)|0,$=$+Math.imul(ye,Se)|0,L=L+Math.imul(ye,Ie)|0,L=L+Math.imul(se,Se)|0,ee=ee+Math.imul(se,Ie)|0;var Wr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,$=Math.imul(De,tt),L=Math.imul(De,Ve),L=L+Math.imul($e,tt)|0,ee=Math.imul($e,Ve),$=$+Math.imul(te,gt)|0,L=L+Math.imul(te,ut)|0,L=L+Math.imul(ie,gt)|0,ee=ee+Math.imul(ie,ut)|0,$=$+Math.imul(q,it)|0,L=L+Math.imul(q,Wt)|0,L=L+Math.imul(I,it)|0,ee=ee+Math.imul(I,Wt)|0,$=$+Math.imul(Y,Se)|0,L=L+Math.imul(Y,Ie)|0,L=L+Math.imul(D,Se)|0,ee=ee+Math.imul(D,Ie)|0,$=$+Math.imul(ye,_e)|0,L=L+Math.imul(ye,ae)|0,L=L+Math.imul(se,_e)|0,ee=ee+Math.imul(se,ae)|0;var Tr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,$=Math.imul(Qe,tt),L=Math.imul(Qe,Ve),L=L+Math.imul(je,tt)|0,ee=Math.imul(je,Ve),$=$+Math.imul(De,gt)|0,L=L+Math.imul(De,ut)|0,L=L+Math.imul($e,gt)|0,ee=ee+Math.imul($e,ut)|0,$=$+Math.imul(te,it)|0,L=L+Math.imul(te,Wt)|0,L=L+Math.imul(ie,it)|0,ee=ee+Math.imul(ie,Wt)|0,$=$+Math.imul(q,Se)|0,L=L+Math.imul(q,Ie)|0,L=L+Math.imul(I,Se)|0,ee=ee+Math.imul(I,Ie)|0,$=$+Math.imul(Y,_e)|0,L=L+Math.imul(Y,ae)|0,L=L+Math.imul(D,_e)|0,ee=ee+Math.imul(D,ae)|0,$=$+Math.imul(ye,re)|0,L=L+Math.imul(ye,le)|0,L=L+Math.imul(se,re)|0,ee=ee+Math.imul(se,le)|0;var lr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(lr>>>26)|0,lr&=67108863,$=Math.imul(Ce,tt),L=Math.imul(Ce,Ve),L=L+Math.imul(Te,tt)|0,ee=Math.imul(Te,Ve),$=$+Math.imul(Qe,gt)|0,L=L+Math.imul(Qe,ut)|0,L=L+Math.imul(je,gt)|0,ee=ee+Math.imul(je,ut)|0,$=$+Math.imul(De,it)|0,L=L+Math.imul(De,Wt)|0,L=L+Math.imul($e,it)|0,ee=ee+Math.imul($e,Wt)|0,$=$+Math.imul(te,Se)|0,L=L+Math.imul(te,Ie)|0,L=L+Math.imul(ie,Se)|0,ee=ee+Math.imul(ie,Ie)|0,$=$+Math.imul(q,_e)|0,L=L+Math.imul(q,ae)|0,L=L+Math.imul(I,_e)|0,ee=ee+Math.imul(I,ae)|0,$=$+Math.imul(Y,re)|0,L=L+Math.imul(Y,le)|0,L=L+Math.imul(D,re)|0,ee=ee+Math.imul(D,le)|0,$=$+Math.imul(ye,Ae)|0,L=L+Math.imul(ye,Oe)|0,L=L+Math.imul(se,Ae)|0,ee=ee+Math.imul(se,Oe)|0;var fr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(fr>>>26)|0,fr&=67108863,$=Math.imul(rt,tt),L=Math.imul(rt,Ve),L=L+Math.imul(ge,tt)|0,ee=Math.imul(ge,Ve),$=$+Math.imul(Ce,gt)|0,L=L+Math.imul(Ce,ut)|0,L=L+Math.imul(Te,gt)|0,ee=ee+Math.imul(Te,ut)|0,$=$+Math.imul(Qe,it)|0,L=L+Math.imul(Qe,Wt)|0,L=L+Math.imul(je,it)|0,ee=ee+Math.imul(je,Wt)|0,$=$+Math.imul(De,Se)|0,L=L+Math.imul(De,Ie)|0,L=L+Math.imul($e,Se)|0,ee=ee+Math.imul($e,Ie)|0,$=$+Math.imul(te,_e)|0,L=L+Math.imul(te,ae)|0,L=L+Math.imul(ie,_e)|0,ee=ee+Math.imul(ie,ae)|0,$=$+Math.imul(q,re)|0,L=L+Math.imul(q,le)|0,L=L+Math.imul(I,re)|0,ee=ee+Math.imul(I,le)|0,$=$+Math.imul(Y,Ae)|0,L=L+Math.imul(Y,Oe)|0,L=L+Math.imul(D,Ae)|0,ee=ee+Math.imul(D,Oe)|0,$=$+Math.imul(ye,ke)|0,L=L+Math.imul(ye,st)|0,L=L+Math.imul(se,ke)|0,ee=ee+Math.imul(se,st)|0;var Mr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,$=Math.imul(qe,tt),L=Math.imul(qe,Ve),L=L+Math.imul(ot,tt)|0,ee=Math.imul(ot,Ve),$=$+Math.imul(rt,gt)|0,L=L+Math.imul(rt,ut)|0,L=L+Math.imul(ge,gt)|0,ee=ee+Math.imul(ge,ut)|0,$=$+Math.imul(Ce,it)|0,L=L+Math.imul(Ce,Wt)|0,L=L+Math.imul(Te,it)|0,ee=ee+Math.imul(Te,Wt)|0,$=$+Math.imul(Qe,Se)|0,L=L+Math.imul(Qe,Ie)|0,L=L+Math.imul(je,Se)|0,ee=ee+Math.imul(je,Ie)|0,$=$+Math.imul(De,_e)|0,L=L+Math.imul(De,ae)|0,L=L+Math.imul($e,_e)|0,ee=ee+Math.imul($e,ae)|0,$=$+Math.imul(te,re)|0,L=L+Math.imul(te,le)|0,L=L+Math.imul(ie,re)|0,ee=ee+Math.imul(ie,le)|0,$=$+Math.imul(q,Ae)|0,L=L+Math.imul(q,Oe)|0,L=L+Math.imul(I,Ae)|0,ee=ee+Math.imul(I,Oe)|0,$=$+Math.imul(Y,ke)|0,L=L+Math.imul(Y,st)|0,L=L+Math.imul(D,ke)|0,ee=ee+Math.imul(D,st)|0,$=$+Math.imul(ye,pt)|0,L=L+Math.imul(ye,wt)|0,L=L+Math.imul(se,pt)|0,ee=ee+Math.imul(se,wt)|0;var Br=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Br>>>26)|0,Br&=67108863,$=Math.imul(pe,tt),L=Math.imul(pe,Ve),L=L+Math.imul(Re,tt)|0,ee=Math.imul(Re,Ve),$=$+Math.imul(qe,gt)|0,L=L+Math.imul(qe,ut)|0,L=L+Math.imul(ot,gt)|0,ee=ee+Math.imul(ot,ut)|0,$=$+Math.imul(rt,it)|0,L=L+Math.imul(rt,Wt)|0,L=L+Math.imul(ge,it)|0,ee=ee+Math.imul(ge,Wt)|0,$=$+Math.imul(Ce,Se)|0,L=L+Math.imul(Ce,Ie)|0,L=L+Math.imul(Te,Se)|0,ee=ee+Math.imul(Te,Ie)|0,$=$+Math.imul(Qe,_e)|0,L=L+Math.imul(Qe,ae)|0,L=L+Math.imul(je,_e)|0,ee=ee+Math.imul(je,ae)|0,$=$+Math.imul(De,re)|0,L=L+Math.imul(De,le)|0,L=L+Math.imul($e,re)|0,ee=ee+Math.imul($e,le)|0,$=$+Math.imul(te,Ae)|0,L=L+Math.imul(te,Oe)|0,L=L+Math.imul(ie,Ae)|0,ee=ee+Math.imul(ie,Oe)|0,$=$+Math.imul(q,ke)|0,L=L+Math.imul(q,st)|0,L=L+Math.imul(I,ke)|0,ee=ee+Math.imul(I,st)|0,$=$+Math.imul(Y,pt)|0,L=L+Math.imul(Y,wt)|0,L=L+Math.imul(D,pt)|0,ee=ee+Math.imul(D,wt)|0,$=$+Math.imul(ye,Pt)|0,L=L+Math.imul(ye,tr)|0,L=L+Math.imul(se,Pt)|0,ee=ee+Math.imul(se,tr)|0;var Ne=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,$=Math.imul(pe,gt),L=Math.imul(pe,ut),L=L+Math.imul(Re,gt)|0,ee=Math.imul(Re,ut),$=$+Math.imul(qe,it)|0,L=L+Math.imul(qe,Wt)|0,L=L+Math.imul(ot,it)|0,ee=ee+Math.imul(ot,Wt)|0,$=$+Math.imul(rt,Se)|0,L=L+Math.imul(rt,Ie)|0,L=L+Math.imul(ge,Se)|0,ee=ee+Math.imul(ge,Ie)|0,$=$+Math.imul(Ce,_e)|0,L=L+Math.imul(Ce,ae)|0,L=L+Math.imul(Te,_e)|0,ee=ee+Math.imul(Te,ae)|0,$=$+Math.imul(Qe,re)|0,L=L+Math.imul(Qe,le)|0,L=L+Math.imul(je,re)|0,ee=ee+Math.imul(je,le)|0,$=$+Math.imul(De,Ae)|0,L=L+Math.imul(De,Oe)|0,L=L+Math.imul($e,Ae)|0,ee=ee+Math.imul($e,Oe)|0,$=$+Math.imul(te,ke)|0,L=L+Math.imul(te,st)|0,L=L+Math.imul(ie,ke)|0,ee=ee+Math.imul(ie,st)|0,$=$+Math.imul(q,pt)|0,L=L+Math.imul(q,wt)|0,L=L+Math.imul(I,pt)|0,ee=ee+Math.imul(I,wt)|0,$=$+Math.imul(Y,Pt)|0,L=L+Math.imul(Y,tr)|0,L=L+Math.imul(D,Pt)|0,ee=ee+Math.imul(D,tr)|0;var Ze=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,$=Math.imul(pe,it),L=Math.imul(pe,Wt),L=L+Math.imul(Re,it)|0,ee=Math.imul(Re,Wt),$=$+Math.imul(qe,Se)|0,L=L+Math.imul(qe,Ie)|0,L=L+Math.imul(ot,Se)|0,ee=ee+Math.imul(ot,Ie)|0,$=$+Math.imul(rt,_e)|0,L=L+Math.imul(rt,ae)|0,L=L+Math.imul(ge,_e)|0,ee=ee+Math.imul(ge,ae)|0,$=$+Math.imul(Ce,re)|0,L=L+Math.imul(Ce,le)|0,L=L+Math.imul(Te,re)|0,ee=ee+Math.imul(Te,le)|0,$=$+Math.imul(Qe,Ae)|0,L=L+Math.imul(Qe,Oe)|0,L=L+Math.imul(je,Ae)|0,ee=ee+Math.imul(je,Oe)|0,$=$+Math.imul(De,ke)|0,L=L+Math.imul(De,st)|0,L=L+Math.imul($e,ke)|0,ee=ee+Math.imul($e,st)|0,$=$+Math.imul(te,pt)|0,L=L+Math.imul(te,wt)|0,L=L+Math.imul(ie,pt)|0,ee=ee+Math.imul(ie,wt)|0,$=$+Math.imul(q,Pt)|0,L=L+Math.imul(q,tr)|0,L=L+Math.imul(I,Pt)|0,ee=ee+Math.imul(I,tr)|0;var Tt=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,$=Math.imul(pe,Se),L=Math.imul(pe,Ie),L=L+Math.imul(Re,Se)|0,ee=Math.imul(Re,Ie),$=$+Math.imul(qe,_e)|0,L=L+Math.imul(qe,ae)|0,L=L+Math.imul(ot,_e)|0,ee=ee+Math.imul(ot,ae)|0,$=$+Math.imul(rt,re)|0,L=L+Math.imul(rt,le)|0,L=L+Math.imul(ge,re)|0,ee=ee+Math.imul(ge,le)|0,$=$+Math.imul(Ce,Ae)|0,L=L+Math.imul(Ce,Oe)|0,L=L+Math.imul(Te,Ae)|0,ee=ee+Math.imul(Te,Oe)|0,$=$+Math.imul(Qe,ke)|0,L=L+Math.imul(Qe,st)|0,L=L+Math.imul(je,ke)|0,ee=ee+Math.imul(je,st)|0,$=$+Math.imul(De,pt)|0,L=L+Math.imul(De,wt)|0,L=L+Math.imul($e,pt)|0,ee=ee+Math.imul($e,wt)|0,$=$+Math.imul(te,Pt)|0,L=L+Math.imul(te,tr)|0,L=L+Math.imul(ie,Pt)|0,ee=ee+Math.imul(ie,tr)|0;var Ft=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,$=Math.imul(pe,_e),L=Math.imul(pe,ae),L=L+Math.imul(Re,_e)|0,ee=Math.imul(Re,ae),$=$+Math.imul(qe,re)|0,L=L+Math.imul(qe,le)|0,L=L+Math.imul(ot,re)|0,ee=ee+Math.imul(ot,le)|0,$=$+Math.imul(rt,Ae)|0,L=L+Math.imul(rt,Oe)|0,L=L+Math.imul(ge,Ae)|0,ee=ee+Math.imul(ge,Oe)|0,$=$+Math.imul(Ce,ke)|0,L=L+Math.imul(Ce,st)|0,L=L+Math.imul(Te,ke)|0,ee=ee+Math.imul(Te,st)|0,$=$+Math.imul(Qe,pt)|0,L=L+Math.imul(Qe,wt)|0,L=L+Math.imul(je,pt)|0,ee=ee+Math.imul(je,wt)|0,$=$+Math.imul(De,Pt)|0,L=L+Math.imul(De,tr)|0,L=L+Math.imul($e,Pt)|0,ee=ee+Math.imul($e,tr)|0;var At=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(At>>>26)|0,At&=67108863,$=Math.imul(pe,re),L=Math.imul(pe,le),L=L+Math.imul(Re,re)|0,ee=Math.imul(Re,le),$=$+Math.imul(qe,Ae)|0,L=L+Math.imul(qe,Oe)|0,L=L+Math.imul(ot,Ae)|0,ee=ee+Math.imul(ot,Oe)|0,$=$+Math.imul(rt,ke)|0,L=L+Math.imul(rt,st)|0,L=L+Math.imul(ge,ke)|0,ee=ee+Math.imul(ge,st)|0,$=$+Math.imul(Ce,pt)|0,L=L+Math.imul(Ce,wt)|0,L=L+Math.imul(Te,pt)|0,ee=ee+Math.imul(Te,wt)|0,$=$+Math.imul(Qe,Pt)|0,L=L+Math.imul(Qe,tr)|0,L=L+Math.imul(je,Pt)|0,ee=ee+Math.imul(je,tr)|0;var Ot=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,$=Math.imul(pe,Ae),L=Math.imul(pe,Oe),L=L+Math.imul(Re,Ae)|0,ee=Math.imul(Re,Oe),$=$+Math.imul(qe,ke)|0,L=L+Math.imul(qe,st)|0,L=L+Math.imul(ot,ke)|0,ee=ee+Math.imul(ot,st)|0,$=$+Math.imul(rt,pt)|0,L=L+Math.imul(rt,wt)|0,L=L+Math.imul(ge,pt)|0,ee=ee+Math.imul(ge,wt)|0,$=$+Math.imul(Ce,Pt)|0,L=L+Math.imul(Ce,tr)|0,L=L+Math.imul(Te,Pt)|0,ee=ee+Math.imul(Te,tr)|0;var Vt=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,$=Math.imul(pe,ke),L=Math.imul(pe,st),L=L+Math.imul(Re,ke)|0,ee=Math.imul(Re,st),$=$+Math.imul(qe,pt)|0,L=L+Math.imul(qe,wt)|0,L=L+Math.imul(ot,pt)|0,ee=ee+Math.imul(ot,wt)|0,$=$+Math.imul(rt,Pt)|0,L=L+Math.imul(rt,tr)|0,L=L+Math.imul(ge,Pt)|0,ee=ee+Math.imul(ge,tr)|0;var Ct=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,$=Math.imul(pe,pt),L=Math.imul(pe,wt),L=L+Math.imul(Re,pt)|0,ee=Math.imul(Re,wt),$=$+Math.imul(qe,Pt)|0,L=L+Math.imul(qe,tr)|0,L=L+Math.imul(ot,Pt)|0,ee=ee+Math.imul(ot,tr)|0;var er=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(er>>>26)|0,er&=67108863,$=Math.imul(pe,Pt),L=Math.imul(pe,tr),L=L+Math.imul(Re,Pt)|0,ee=Math.imul(Re,tr);var Ue=(O+$|0)+((L&8191)<<13)|0;return O=(ee+(L>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,Z[0]=cr,Z[1]=pr,Z[2]=Cr,Z[3]=Wr,Z[4]=Tr,Z[5]=lr,Z[6]=fr,Z[7]=Mr,Z[8]=Br,Z[9]=Ne,Z[10]=Ze,Z[11]=Tt,Z[12]=Ft,Z[13]=At,Z[14]=Ot,Z[15]=Vt,Z[16]=Ct,Z[17]=er,Z[18]=Ue,O!==0&&(Z[19]=O,U.length++),U},"comb10MulTo");Math.imul||(P=z);function Q(m,v,A){A.negative=v.negative^m.negative,A.length=m.length+v.length;for(var U=0,G=0,K=0;K<A.length-1;K++){var Z=G;G=0;for(var O=U&67108863,$=Math.min(K,v.length-1),L=Math.max(0,K-m.length+1);L<=$;L++){var ee=K-L,ve=m.words[ee]|0,ye=v.words[L]|0,se=ve*ye,be=se&67108863;Z=Z+(se/67108864|0)|0,be=be+O|0,O=be&67108863,Z=Z+(be>>>26)|0,G+=Z>>>26,Z&=67108863}A.words[K]=O,U=Z,Z=G}return U!==0?A.words[K]=U:A.length--,A._strip()}a(Q,"bigMulTo");function V(m,v,A){return Q(m,v,A)}a(V,"jumboMulTo"),i.prototype.mulTo=a(function(v,A){var U,G=this.length+v.length;return this.length===10&&v.length===10?U=P(this,v,A):G<63?U=z(this,v,A):G<1024?U=Q(this,v,A):U=V(this,v,A),U},"mulTo");function W(m,v){this.x=m,this.y=v}a(W,"FFTM"),W.prototype.makeRBT=a(function(v){for(var A=new Array(v),U=i.prototype._countBits(v)-1,G=0;G<v;G++)A[G]=this.revBin(G,U,v);return A},"makeRBT"),W.prototype.revBin=a(function(v,A,U){if(v===0||v===U-1)return v;for(var G=0,K=0;K<A;K++)G|=(v&1)<<A-K-1,v>>=1;return G},"revBin"),W.prototype.permute=a(function(v,A,U,G,K,Z){for(var O=0;O<Z;O++)G[O]=A[v[O]],K[O]=U[v[O]]},"permute"),W.prototype.transform=a(function(v,A,U,G,K,Z){this.permute(Z,v,A,U,G,K);for(var O=1;O<K;O<<=1)for(var $=O<<1,L=Math.cos(2*Math.PI/$),ee=Math.sin(2*Math.PI/$),ve=0;ve<K;ve+=$)for(var ye=L,se=ee,be=0;be<O;be++){var Y=U[ve+be],D=G[ve+be],J=U[ve+be+O],q=G[ve+be+O],I=ye*J-se*q;q=ye*q+se*J,J=I,U[ve+be]=Y+J,G[ve+be]=D+q,U[ve+be+O]=Y-J,G[ve+be+O]=D-q,be!==$&&(I=L*ye-ee*se,se=L*se+ee*ye,ye=I)}},"transform"),W.prototype.guessLen13b=a(function(v,A){var U=Math.max(A,v)|1,G=U&1,K=0;for(U=U/2|0;U;U=U>>>1)K++;return 1<<K+1+G},"guessLen13b"),W.prototype.conjugate=a(function(v,A,U){if(!(U<=1))for(var G=0;G<U/2;G++){var K=v[G];v[G]=v[U-G-1],v[U-G-1]=K,K=A[G],A[G]=-A[U-G-1],A[U-G-1]=-K}},"conjugate"),W.prototype.normalize13b=a(function(v,A){for(var U=0,G=0;G<A/2;G++){var K=Math.round(v[2*G+1]/A)*8192+Math.round(v[2*G]/A)+U;v[G]=K&67108863,K<67108864?U=0:U=K/67108864|0}return v},"normalize13b"),W.prototype.convert13b=a(function(v,A,U,G){for(var K=0,Z=0;Z<A;Z++)K=K+(v[Z]|0),U[2*Z]=K&8191,K=K>>>13,U[2*Z+1]=K&8191,K=K>>>13;for(Z=2*A;Z<G;++Z)U[Z]=0;r(K===0),r((K&-8192)===0)},"convert13b"),W.prototype.stub=a(function(v){for(var A=new Array(v),U=0;U<v;U++)A[U]=0;return A},"stub"),W.prototype.mulp=a(function(v,A,U){var G=2*this.guessLen13b(v.length,A.length),K=this.makeRBT(G),Z=this.stub(G),O=new Array(G),$=new Array(G),L=new Array(G),ee=new Array(G),ve=new Array(G),ye=new Array(G),se=U.words;se.length=G,this.convert13b(v.words,v.length,O,G),this.convert13b(A.words,A.length,ee,G),this.transform(O,Z,$,L,G,K),this.transform(ee,Z,ve,ye,G,K);for(var be=0;be<G;be++){var Y=$[be]*ve[be]-L[be]*ye[be];L[be]=$[be]*ye[be]+L[be]*ve[be],$[be]=Y}return this.conjugate($,L,G),this.transform($,L,se,Z,G,K),this.conjugate(se,Z,G),this.normalize13b(se,G),U.negative=v.negative^A.negative,U.length=v.length+A.length,U._strip()},"mulp"),i.prototype.mul=a(function(v){var A=new i(null);return A.words=new Array(this.length+v.length),this.mulTo(v,A)},"mul"),i.prototype.mulf=a(function(v){var A=new i(null);return A.words=new Array(this.length+v.length),V(this,v,A)},"mulf"),i.prototype.imul=a(function(v){return this.clone().mulTo(v,this)},"imul"),i.prototype.imuln=a(function(v){var A=v<0;A&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var U=0,G=0;G<this.length;G++){var K=(this.words[G]|0)*v,Z=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=Z>>>26,this.words[G]=Z&67108863}return U!==0&&(this.words[G]=U,this.length++),A?this.ineg():this},"imuln"),i.prototype.muln=a(function(v){return this.clone().imuln(v)},"muln"),i.prototype.sqr=a(function(){return this.mul(this)},"sqr"),i.prototype.isqr=a(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=a(function(v){var A=M(v);if(A.length===0)return new i(1);for(var U=this,G=0;G<A.length&&A[G]===0;G++,U=U.sqr());if(++G<A.length)for(var K=U.sqr();G<A.length;G++,K=K.sqr())A[G]!==0&&(U=U.mul(K));return U},"pow"),i.prototype.iushln=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26,G=67108863>>>26-A<<26-A,K;if(A!==0){var Z=0;for(K=0;K<this.length;K++){var O=this.words[K]&G,$=(this.words[K]|0)-O<<A;this.words[K]=$|Z,Z=O>>>26-A}Z&&(this.words[K]=Z,this.length++)}if(U!==0){for(K=this.length-1;K>=0;K--)this.words[K+U]=this.words[K];for(K=0;K<U;K++)this.words[K]=0;this.length+=U}return this._strip()},"iushln"),i.prototype.ishln=a(function(v){return r(this.negative===0),this.iushln(v)},"ishln"),i.prototype.iushrn=a(function(v,A,U){r(typeof v=="number"&&v>=0);var G;A?G=(A-A%26)/26:G=0;var K=v%26,Z=Math.min((v-K)/26,this.length),O=67108863^67108863>>>K<<K,$=U;if(G-=Z,G=Math.max(0,G),$){for(var L=0;L<Z;L++)$.words[L]=this.words[L];$.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,L=0;L<this.length;L++)this.words[L]=this.words[L+Z];else this.words[0]=0,this.length=1;var ee=0;for(L=this.length-1;L>=0&&(ee!==0||L>=G);L--){var ve=this.words[L]|0;this.words[L]=ee<<26-K|ve>>>K,ee=ve&O}return $&&ee!==0&&($.words[$.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),i.prototype.ishrn=a(function(v,A,U){return r(this.negative===0),this.iushrn(v,A,U)},"ishrn"),i.prototype.shln=a(function(v){return this.clone().ishln(v)},"shln"),i.prototype.ushln=a(function(v){return this.clone().iushln(v)},"ushln"),i.prototype.shrn=a(function(v){return this.clone().ishrn(v)},"shrn"),i.prototype.ushrn=a(function(v){return this.clone().iushrn(v)},"ushrn"),i.prototype.testn=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26,G=1<<A;if(this.length<=U)return!1;var K=this.words[U];return!!(K&G)},"testn"),i.prototype.imaskn=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=U)return this;if(A!==0&&U++,this.length=Math.min(U,this.length),A!==0){var G=67108863^67108863>>>A<<A;this.words[this.length-1]&=G}return this._strip()},"imaskn"),i.prototype.maskn=a(function(v){return this.clone().imaskn(v)},"maskn"),i.prototype.iaddn=a(function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},"iaddn"),i.prototype._iaddn=a(function(v){this.words[0]+=v;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},"_iaddn"),i.prototype.isubn=a(function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},"isubn"),i.prototype.addn=a(function(v){return this.clone().iaddn(v)},"addn"),i.prototype.subn=a(function(v){return this.clone().isubn(v)},"subn"),i.prototype.iabs=a(function(){return this.negative=0,this},"iabs"),i.prototype.abs=a(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=a(function(v,A,U){var G=v.length+U,K;this._expand(G);var Z,O=0;for(K=0;K<v.length;K++){Z=(this.words[K+U]|0)+O;var $=(v.words[K]|0)*A;Z-=$&67108863,O=(Z>>26)-($/67108864|0),this.words[K+U]=Z&67108863}for(;K<this.length-U;K++)Z=(this.words[K+U]|0)+O,O=Z>>26,this.words[K+U]=Z&67108863;if(O===0)return this._strip();for(r(O===-1),O=0,K=0;K<this.length;K++)Z=-(this.words[K]|0)+O,O=Z>>26,this.words[K]=Z&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),i.prototype._wordDiv=a(function(v,A){var U=this.length-v.length,G=this.clone(),K=v,Z=K.words[K.length-1]|0,O=this._countBits(Z);U=26-O,U!==0&&(K=K.ushln(U),G.iushln(U),Z=K.words[K.length-1]|0);var $=G.length-K.length,L;if(A!=="mod"){L=new i(null),L.length=$+1,L.words=new Array(L.length);for(var ee=0;ee<L.length;ee++)L.words[ee]=0}var ve=G.clone()._ishlnsubmul(K,1,$);ve.negative===0&&(G=ve,L&&(L.words[$]=1));for(var ye=$-1;ye>=0;ye--){var se=(G.words[K.length+ye]|0)*67108864+(G.words[K.length+ye-1]|0);for(se=Math.min(se/Z|0,67108863),G._ishlnsubmul(K,se,ye);G.negative!==0;)se--,G.negative=0,G._ishlnsubmul(K,1,ye),G.isZero()||(G.negative^=1);L&&(L.words[ye]=se)}return L&&L._strip(),G._strip(),A!=="div"&&U!==0&&G.iushrn(U),{div:L||null,mod:G}},"_wordDiv"),i.prototype.divmod=a(function(v,A,U){if(r(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var G,K,Z;return this.negative!==0&&v.negative===0?(Z=this.neg().divmod(v,A),A!=="mod"&&(G=Z.div.neg()),A!=="div"&&(K=Z.mod.neg(),U&&K.negative!==0&&K.iadd(v)),{div:G,mod:K}):this.negative===0&&v.negative!==0?(Z=this.divmod(v.neg(),A),A!=="mod"&&(G=Z.div.neg()),{div:G,mod:Z.mod}):(this.negative&v.negative)!==0?(Z=this.neg().divmod(v.neg(),A),A!=="div"&&(K=Z.mod.neg(),U&&K.negative!==0&&K.isub(v)),{div:Z.div,mod:K}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?A==="div"?{div:this.divn(v.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modrn(v.words[0]))}:this._wordDiv(v,A)},"divmod"),i.prototype.div=a(function(v){return this.divmod(v,"div",!1).div},"div"),i.prototype.mod=a(function(v){return this.divmod(v,"mod",!1).mod},"mod"),i.prototype.umod=a(function(v){return this.divmod(v,"mod",!0).mod},"umod"),i.prototype.divRound=a(function(v){var A=this.divmod(v);if(A.mod.isZero())return A.div;var U=A.div.negative!==0?A.mod.isub(v):A.mod,G=v.ushrn(1),K=v.andln(1),Z=U.cmp(G);return Z<0||K===1&&Z===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},"divRound"),i.prototype.modrn=a(function(v){var A=v<0;A&&(v=-v),r(v<=67108863);for(var U=(1<<26)%v,G=0,K=this.length-1;K>=0;K--)G=(U*G+(this.words[K]|0))%v;return A?-G:G},"modrn"),i.prototype.modn=a(function(v){return this.modrn(v)},"modn"),i.prototype.idivn=a(function(v){var A=v<0;A&&(v=-v),r(v<=67108863);for(var U=0,G=this.length-1;G>=0;G--){var K=(this.words[G]|0)+U*67108864;this.words[G]=K/v|0,U=K%v}return this._strip(),A?this.ineg():this},"idivn"),i.prototype.divn=a(function(v){return this.clone().idivn(v)},"divn"),i.prototype.egcd=a(function(v){r(v.negative===0),r(!v.isZero());var A=this,U=v.clone();A.negative!==0?A=A.umod(v):A=A.clone();for(var G=new i(1),K=new i(0),Z=new i(0),O=new i(1),$=0;A.isEven()&&U.isEven();)A.iushrn(1),U.iushrn(1),++$;for(var L=U.clone(),ee=A.clone();!A.isZero();){for(var ve=0,ye=1;(A.words[0]&ye)===0&&ve<26;++ve,ye<<=1);if(ve>0)for(A.iushrn(ve);ve-- >0;)(G.isOdd()||K.isOdd())&&(G.iadd(L),K.isub(ee)),G.iushrn(1),K.iushrn(1);for(var se=0,be=1;(U.words[0]&be)===0&&se<26;++se,be<<=1);if(se>0)for(U.iushrn(se);se-- >0;)(Z.isOdd()||O.isOdd())&&(Z.iadd(L),O.isub(ee)),Z.iushrn(1),O.iushrn(1);A.cmp(U)>=0?(A.isub(U),G.isub(Z),K.isub(O)):(U.isub(A),Z.isub(G),O.isub(K))}return{a:Z,b:O,gcd:U.iushln($)}},"egcd"),i.prototype._invmp=a(function(v){r(v.negative===0),r(!v.isZero());var A=this,U=v.clone();A.negative!==0?A=A.umod(v):A=A.clone();for(var G=new i(1),K=new i(0),Z=U.clone();A.cmpn(1)>0&&U.cmpn(1)>0;){for(var O=0,$=1;(A.words[0]&$)===0&&O<26;++O,$<<=1);if(O>0)for(A.iushrn(O);O-- >0;)G.isOdd()&&G.iadd(Z),G.iushrn(1);for(var L=0,ee=1;(U.words[0]&ee)===0&&L<26;++L,ee<<=1);if(L>0)for(U.iushrn(L);L-- >0;)K.isOdd()&&K.iadd(Z),K.iushrn(1);A.cmp(U)>=0?(A.isub(U),G.isub(K)):(U.isub(A),K.isub(G))}var ve;return A.cmpn(1)===0?ve=G:ve=K,ve.cmpn(0)<0&&ve.iadd(v),ve},"_invmp"),i.prototype.gcd=a(function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var A=this.clone(),U=v.clone();A.negative=0,U.negative=0;for(var G=0;A.isEven()&&U.isEven();G++)A.iushrn(1),U.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;U.isEven();)U.iushrn(1);var K=A.cmp(U);if(K<0){var Z=A;A=U,U=Z}else if(K===0||U.cmpn(1)===0)break;A.isub(U)}while(!0);return U.iushln(G)},"gcd"),i.prototype.invm=a(function(v){return this.egcd(v).a.umod(v)},"invm"),i.prototype.isEven=a(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=a(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=a(function(v){return this.words[0]&v},"andln"),i.prototype.bincn=a(function(v){r(typeof v=="number");var A=v%26,U=(v-A)/26,G=1<<A;if(this.length<=U)return this._expand(U+1),this.words[U]|=G,this;for(var K=G,Z=U;K!==0&&Z<this.length;Z++){var O=this.words[Z]|0;O+=K,K=O>>>26,O&=67108863,this.words[Z]=O}return K!==0&&(this.words[Z]=K,this.length++),this},"bincn"),i.prototype.isZero=a(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=a(function(v){var A=v<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var U;if(this.length>1)U=1;else{A&&(v=-v),r(v<=67108863,"Number is too big");var G=this.words[0]|0;U=G===v?0:G<v?-1:1}return this.negative!==0?-U|0:U},"cmpn"),i.prototype.cmp=a(function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var A=this.ucmp(v);return this.negative!==0?-A|0:A},"cmp"),i.prototype.ucmp=a(function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var A=0,U=this.length-1;U>=0;U--){var G=this.words[U]|0,K=v.words[U]|0;if(G!==K){G<K?A=-1:G>K&&(A=1);break}}return A},"ucmp"),i.prototype.gtn=a(function(v){return this.cmpn(v)===1},"gtn"),i.prototype.gt=a(function(v){return this.cmp(v)===1},"gt"),i.prototype.gten=a(function(v){return this.cmpn(v)>=0},"gten"),i.prototype.gte=a(function(v){return this.cmp(v)>=0},"gte"),i.prototype.ltn=a(function(v){return this.cmpn(v)===-1},"ltn"),i.prototype.lt=a(function(v){return this.cmp(v)===-1},"lt"),i.prototype.lten=a(function(v){return this.cmpn(v)<=0},"lten"),i.prototype.lte=a(function(v){return this.cmp(v)<=0},"lte"),i.prototype.eqn=a(function(v){return this.cmpn(v)===0},"eqn"),i.prototype.eq=a(function(v){return this.cmp(v)===0},"eq"),i.red=a(function(v){return new x(v)},"red"),i.prototype.toRed=a(function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},"toRed"),i.prototype.fromRed=a(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=a(function(v){return this.red=v,this},"_forceRed"),i.prototype.forceRed=a(function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},"forceRed"),i.prototype.redAdd=a(function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},"redAdd"),i.prototype.redIAdd=a(function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},"redIAdd"),i.prototype.redSub=a(function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},"redSub"),i.prototype.redISub=a(function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},"redISub"),i.prototype.redShl=a(function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},"redShl"),i.prototype.redMul=a(function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},"redMul"),i.prototype.redIMul=a(function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},"redIMul"),i.prototype.redSqr=a(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=a(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=a(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=a(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=a(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=a(function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)},"redPow");var F={k256:null,p224:null,p192:null,p25519:null};function B(m,v){this.name=m,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(B,"MPrime"),B.prototype._tmp=a(function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},"_tmp"),B.prototype.ireduce=a(function(v){var A=v,U;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),U=A.bitLength();while(U>this.n);var G=U<this.n?-1:A.ucmp(this.p);return G===0?(A.words[0]=0,A.length=1):G>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},"ireduce"),B.prototype.split=a(function(v,A){v.iushrn(this.n,0,A)},"split"),B.prototype.imulK=a(function(v){return v.imul(this.k)},"imulK");function S(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(S,"K256"),n(S,B),S.prototype.split=a(function(v,A){for(var U=4194303,G=Math.min(v.length,9),K=0;K<G;K++)A.words[K]=v.words[K];if(A.length=G,v.length<=9){v.words[0]=0,v.length=1;return}var Z=v.words[9];for(A.words[A.length++]=Z&U,K=10;K<v.length;K++){var O=v.words[K]|0;v.words[K-10]=(O&U)<<4|Z>>>22,Z=O}Z>>>=22,v.words[K-10]=Z,Z===0&&v.length>10?v.length-=10:v.length-=9},"split"),S.prototype.imulK=a(function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var A=0,U=0;U<v.length;U++){var G=v.words[U]|0;A+=G*977,v.words[U]=A&67108863,A=G*64+(A/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},"imulK");function T(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(T,"P224"),n(T,B);function k(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(k,"P192"),n(k,B);function R(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(R,"P25519"),n(R,B),R.prototype.imulK=a(function(v){for(var A=0,U=0;U<v.length;U++){var G=(v.words[U]|0)*19+A,K=G&67108863;G>>>=26,v.words[U]=K,A=G}return A!==0&&(v.words[v.length++]=A),v},"imulK"),i._prime=a(function(v){if(F[v])return F[v];var A;if(v==="k256")A=new S;else if(v==="p224")A=new T;else if(v==="p192")A=new k;else if(v==="p25519")A=new R;else throw new Error("Unknown prime "+v);return F[v]=A,A},"prime");function x(m){if(typeof m=="string"){var v=i._prime(m);this.m=v.p,this.prime=v}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}a(x,"Red"),x.prototype._verify1=a(function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},"_verify1"),x.prototype._verify2=a(function(v,A){r((v.negative|A.negative)===0,"red works only with positives"),r(v.red&&v.red===A.red,"red works only with red numbers")},"_verify2"),x.prototype.imod=a(function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(f(v,v.umod(this.m)._forceRed(this)),v)},"imod"),x.prototype.neg=a(function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},"neg"),x.prototype.add=a(function(v,A){this._verify2(v,A);var U=v.add(A);return U.cmp(this.m)>=0&&U.isub(this.m),U._forceRed(this)},"add"),x.prototype.iadd=a(function(v,A){this._verify2(v,A);var U=v.iadd(A);return U.cmp(this.m)>=0&&U.isub(this.m),U},"iadd"),x.prototype.sub=a(function(v,A){this._verify2(v,A);var U=v.sub(A);return U.cmpn(0)<0&&U.iadd(this.m),U._forceRed(this)},"sub"),x.prototype.isub=a(function(v,A){this._verify2(v,A);var U=v.isub(A);return U.cmpn(0)<0&&U.iadd(this.m),U},"isub"),x.prototype.shl=a(function(v,A){return this._verify1(v),this.imod(v.ushln(A))},"shl"),x.prototype.imul=a(function(v,A){return this._verify2(v,A),this.imod(v.imul(A))},"imul"),x.prototype.mul=a(function(v,A){return this._verify2(v,A),this.imod(v.mul(A))},"mul"),x.prototype.isqr=a(function(v){return this.imul(v,v.clone())},"isqr"),x.prototype.sqr=a(function(v){return this.mul(v,v)},"sqr"),x.prototype.sqrt=a(function(v){if(v.isZero())return v.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var U=this.m.add(new i(1)).iushrn(2);return this.pow(v,U)}for(var G=this.m.subn(1),K=0;!G.isZero()&&G.andln(1)===0;)K++,G.iushrn(1);r(!G.isZero());var Z=new i(1).toRed(this),O=Z.redNeg(),$=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new i(2*L*L).toRed(this);this.pow(L,$).cmp(O)!==0;)L.redIAdd(O);for(var ee=this.pow(L,G),ve=this.pow(v,G.addn(1).iushrn(1)),ye=this.pow(v,G),se=K;ye.cmp(Z)!==0;){for(var be=ye,Y=0;be.cmp(Z)!==0;Y++)be=be.redSqr();r(Y<se);var D=this.pow(ee,new i(1).iushln(se-Y-1));ve=ve.redMul(D),ee=D.redSqr(),ye=ye.redMul(ee),se=Y}return ve},"sqrt"),x.prototype.invm=a(function(v){var A=v._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},"invm"),x.prototype.pow=a(function(v,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return v.clone();var U=4,G=new Array(1<<U);G[0]=new i(1).toRed(this),G[1]=v;for(var K=2;K<G.length;K++)G[K]=this.mul(G[K-1],v);var Z=G[0],O=0,$=0,L=A.bitLength()%26;for(L===0&&(L=26),K=A.length-1;K>=0;K--){for(var ee=A.words[K],ve=L-1;ve>=0;ve--){var ye=ee>>ve&1;if(Z!==G[0]&&(Z=this.sqr(Z)),ye===0&&O===0){$=0;continue}O<<=1,O|=ye,$++,!($!==U&&(K!==0||ve!==0))&&(Z=this.mul(Z,G[O]),$=0,O=0)}L=26}return Z},"pow"),x.prototype.convertTo=a(function(v){var A=v.umod(this.m);return A===v?A.clone():A},"convertTo"),x.prototype.convertFrom=a(function(v){var A=v.clone();return A.red=null,A},"convertFrom"),i.mont=a(function(v){return new N(v)},"mont");function N(m){x.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(N,"Mont"),n(N,x),N.prototype.convertTo=a(function(v){return this.imod(v.ushln(this.shift))},"convertTo"),N.prototype.convertFrom=a(function(v){var A=this.imod(v.mul(this.rinv));return A.red=null,A},"convertFrom"),N.prototype.imul=a(function(v,A){if(v.isZero()||A.isZero())return v.words[0]=0,v.length=1,v;var U=v.imul(A),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=U.isub(G).iushrn(this.shift),Z=K;return K.cmp(this.m)>=0?Z=K.isub(this.m):K.cmpn(0)<0&&(Z=K.iadd(this.m)),Z._forceRed(this)},"imul"),N.prototype.mul=a(function(v,A){if(v.isZero()||A.isZero())return new i(0)._forceRed(this);var U=v.mul(A),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=U.isub(G).iushrn(this.shift),Z=K;return K.cmp(this.m)>=0?Z=K.isub(this.m):K.cmpn(0)<0&&(Z=K.iadd(this.m)),Z._forceRed(this)},"mul"),N.prototype.invm=a(function(v){var A=this.imod(v._invmp(this.m).mul(this.r2));return A._forceRed(this)},"invm")})(typeof VL>"u"||VL,une)});var WA=j((Ner,KL)=>{d();var jL;KL.exports=a(function(t){return jL||(jL=new Rd(null)),jL.generate(t)},"rand");function Rd(e){this.rand=e}a(Rd,"Rand");KL.exports.Rand=Rd;Rd.prototype.generate=a(function(t){return this._rand(t)},"generate");Rd.prototype._rand=a(function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rd.prototype._rand=a(function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?Rd.prototype._rand=a(function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof window=="object"&&(Rd.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(GL=Ld(),typeof GL.randomBytes!="function")throw new Error("Not supported");Rd.prototype._rand=a(function(t){return GL.randomBytes(t)},"_rand")}catch{}var GL});var $L=j((Per,lne)=>{d();var Hp=Qi(),FQe=WA();function zp(e){this.rand=e||new FQe.Rand}a(zp,"MillerRabin");lne.exports=zp;zp.create=a(function(t){return new zp(t)},"create");zp.prototype._randbelow=a(function(t){var r=t.bitLength(),n=Math.ceil(r/8);do var i=new Hp(this.rand.generate(n));while(i.cmp(t)>=0);return i},"_randbelow");zp.prototype._randrange=a(function(t,r){var n=r.sub(t);return t.add(this._randbelow(n))},"_randrange");zp.prototype.test=a(function(t,r,n){var i=t.bitLength(),s=Hp.mont(t),o=new Hp(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var u=t.subn(1),l=0;!u.testn(l);l++);for(var f=t.shrn(l),h=u.toRed(s),p=!0;r>0;r--){var g=this._randrange(new Hp(2),u);n&&n(g);var y=g.toRed(s).redPow(f);if(!(y.cmp(o)===0||y.cmp(h)===0)){for(var E=1;E<l;E++){if(y=y.redSqr(),y.cmp(o)===0)return!1;if(y.cmp(h)===0)break}if(E===l)return!1}}return p},"test");zp.prototype.getDivisor=a(function(t,r){var n=t.bitLength(),i=Hp.mont(t),s=new Hp(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var o=t.subn(1),u=0;!o.testn(u);u++);for(var l=t.shrn(u),f=o.toRed(i);r>0;r--){var h=this._randrange(new Hp(2),o),p=t.gcd(h);if(p.cmpn(1)!==0)return p;var g=h.toRed(i).redPow(l);if(!(g.cmp(s)===0||g.cmp(f)===0)){for(var y=1;y<u;y++){if(g=g.redSqr(),g.cmp(s)===0)return g.fromRed().subn(1).gcd(t);if(g.cmp(f)===0)break}if(y===u)return g=g.redSqr(),g.fromRed().subn(1).gcd(t)}}return!1},"getDivisor")});var rD=j((Wer,dne)=>{d();var UQe=Mf();dne.exports=tD;tD.simpleSieve=ZL;tD.fermatTest=eD;var as=Qi(),YQe=new as(24),HQe=$L(),fne=new HQe,zQe=new as(1),JL=new as(2),QQe=new as(5),Yer=new as(16),Her=new as(8),WQe=new as(10),VQe=new as(3),zer=new as(7),jQe=new as(11),hne=new as(4),Qer=new as(12),XL=null;function GQe(){if(XL!==null)return XL;var e=1048576,t=[];t[0]=2;for(var r=1,n=3;n<e;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&t[s]<=i&&n%t[s]!==0;s++);r!==s&&t[s]<=i||(t[r++]=n)}return XL=t,t}a(GQe,"_getPrimes");function ZL(e){for(var t=GQe(),r=0;r<t.length;r++)if(e.modn(t[r])===0)return e.cmpn(t[r])===0;return!0}a(ZL,"simpleSieve");function eD(e){var t=as.mont(e);return JL.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)===0}a(eD,"fermatTest");function tD(e,t){if(e<16)return t===2||t===5?new as([140,123]):new as([140,39]);t=new as(t);for(var r,n;;){for(r=new as(UQe(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(zQe),r.testn(1)||r.iadd(JL),t.cmp(JL)){if(!t.cmp(QQe))for(;r.mod(WQe).cmp(VQe);)r.iadd(hne)}else for(;r.mod(YQe).cmp(jQe);)r.iadd(hne);if(n=r.shrn(1),ZL(n)&&ZL(r)&&eD(n)&&eD(r)&&fne.test(n)&&fne.test(r))return r}}a(tD,"findPrime")});var pne=j((Ger,KQe)=>{KQe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var bne=j((Ker,mne)=>{d();var Ic=Qi(),$Qe=$L(),gne=new $Qe,XQe=new Ic(24),JQe=new Ic(11),ZQe=new Ic(10),eWe=new Ic(3),tWe=new Ic(7),yne=rD(),rWe=Mf();mne.exports=Ff;function nWe(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this._pub=new Ic(e),this}a(nWe,"setPublicKey");function iWe(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this._priv=new Ic(e),this}a(iWe,"setPrivateKey");var VA={};function aWe(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in VA)return VA[n];var i=0;if(e.isEven()||!yne.simpleSieve||!yne.fermatTest(e)||!gne.test(e))return i+=1,r==="02"||r==="05"?i+=8:i+=4,VA[n]=i,i;gne.test(e.shrn(1))||(i+=2);var s;switch(r){case"02":e.mod(XQe).cmp(JQe)&&(i+=8);break;case"05":s=e.mod(ZQe),s.cmp(eWe)&&s.cmp(tWe)&&(i+=8);break;default:i+=4}return VA[n]=i,i}a(aWe,"checkPrime");function Ff(e,t,r){this.setGenerator(t),this.__prime=new Ic(e),this._prime=Ic.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=nWe,this.setPrivateKey=iWe):this._primeCode=8}a(Ff,"DH");Object.defineProperty(Ff.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=aWe(this.__prime,this.__gen)),this._primeCode}});Ff.prototype.generateKeys=function(){return this._priv||(this._priv=new Ic(rWe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Ff.prototype.computeSecret=function(e){e=new Ic(e),e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed(),r=new b.Buffer(t.toArray()),n=this.getPrime();if(r.length<n.length){var i=new b.Buffer(n.length-r.length);i.fill(0),r=b.Buffer.concat([i,r])}return r};Ff.prototype.getPublicKey=a(function(t){return jA(this._pub,t)},"getPublicKey");Ff.prototype.getPrivateKey=a(function(t){return jA(this._priv,t)},"getPrivateKey");Ff.prototype.getPrime=function(e){return jA(this.__prime,e)};Ff.prototype.getGenerator=function(e){return jA(this._gen,e)};Ff.prototype.setGenerator=function(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this.__gen=e,this._gen=new Ic(e),this};function jA(e,t){var r=new b.Buffer(e.toArray());return t?r.toString(t):r}a(jA,"formatReturnValue")});var xne=j(Fy=>{d();var sWe=rD(),vne=pne(),nD=bne();function oWe(e){var t=new b.Buffer(vne[e].prime,"hex"),r=new b.Buffer(vne[e].gen,"hex");return new nD(t,r)}a(oWe,"getDiffieHellman");var cWe={binary:!0,hex:!0,base64:!0};function _ne(e,t,r,n){return b.Buffer.isBuffer(t)||cWe[t]===void 0?_ne(e,"binary",t,r):(t=t||"binary",n=n||"binary",r=r||new b.Buffer([2]),b.Buffer.isBuffer(r)||(r=new b.Buffer(r,n)),typeof e=="number"?new nD(sWe(e,r),r,!0):(b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),new nD(e,r,!0)))}a(_ne,"createDiffieHellman");Fy.DiffieHellmanGroup=Fy.createDiffieHellmanGroup=Fy.getDiffieHellman=oWe;Fy.createDiffieHellman=Fy.DiffieHellman=_ne});var GA=j((ttr,Ene)=>{d();var Uy=Qi(),uWe=Mf();function lWe(e){var t=wne(e),r=t.toRed(Uy.mont(e.modulus)).redPow(new Uy(e.publicExponent)).fromRed();return{blinder:r,unblinder:t.invm(e.modulus)}}a(lWe,"blind");function wne(e){var t=e.modulus.byteLength(),r;do r=new Uy(uWe(t));while(r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2));return r}a(wne,"getr");function Ane(e,t){var r=lWe(t),n=t.modulus.byteLength(),i=new Uy(e).mul(r.blinder).umod(t.modulus),s=i.toRed(Uy.mont(t.prime1)),o=i.toRed(Uy.mont(t.prime2)),u=t.coefficient,l=t.prime1,f=t.prime2,h=s.redPow(t.exponent1).fromRed(),p=o.redPow(t.exponent2).fromRed(),g=h.isub(p).imul(u).umod(l).imul(f);return p.iadd(g).imul(r.unblinder).umod(t.modulus).toArrayLike(b.Buffer,"be",n)}a(Ane,"crt");Ane.getr=wne;Ene.exports=Ane});var Sne=j((itr,fWe)=>{fWe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var iD=j(Ine=>{"use strict";d();var KA=Ine;function hWe(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e!="string"){for(var n=0;n<e.length;n++)r[n]=e[n]|0;return r}if(t==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=i&255;s?r.push(s,o):r.push(o)}return r}a(hWe,"toArray");KA.toArray=hWe;function kne(e){return e.length===1?"0"+e:e}a(kne,"zero2");KA.zero2=kne;function Cne(e){for(var t="",r=0;r<e.length;r++)t+=kne(e[r].toString(16));return t}a(Cne,"toHex");KA.toHex=Cne;KA.encode=a(function(t,r){return r==="hex"?Cne(t):t},"encode")});var Ho=j(Tne=>{"use strict";d();var du=Tne,dWe=Qi(),pWe=Yo(),$A=iD();du.assert=pWe;du.toArray=$A.toArray;du.zero2=$A.zero2;du.toHex=$A.toHex;du.encode=$A.encode;function gWe(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var u,l=s.andln(i-1);s.isOdd()?(l>(i>>1)-1?u=(i>>1)-l:u=l,s.isubn(u)):u=0,n[o]=u,s.iushrn(1)}return n}a(gWe,"getNAF");du.getNAF=gWe;function yWe(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0,s;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,u=t.andln(3)+i&3;o===3&&(o=-1),u===3&&(u=-1);var l;(o&1)===0?l=0:(s=e.andln(7)+n&7,(s===3||s===5)&&u===2?l=-o:l=o),r[0].push(l);var f;(u&1)===0?f=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?f=-u:f=u),r[1].push(f),2*n===l+1&&(n=1-n),2*i===f+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}a(yWe,"getJSF");du.getJSF=yWe;function mWe(e,t,r){var n="_"+t;e.prototype[t]=a(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}a(mWe,"cachedProperty");du.cachedProperty=mWe;function bWe(e){return typeof e=="string"?du.toArray(e,"hex"):e}a(bWe,"parseBytes");du.parseBytes=bWe;function vWe(e){return new dWe(e,"hex","le")}a(vWe,"intFromLE");du.intFromLE=vWe});var q_=j((ftr,Mne)=>{"use strict";d();var Qp=Qi(),O_=Ho(),XA=O_.getNAF,_We=O_.getJSF,JA=O_.assert;function Dd(e,t){this.type=e,this.p=new Qp(t.p,16),this.red=t.prime?Qp.red(t.prime):Qp.mont(this.p),this.zero=new Qp(0).toRed(this.red),this.one=new Qp(1).toRed(this.red),this.two=new Qp(2).toRed(this.red),this.n=t.n&&new Qp(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a(Dd,"BaseCurve");Mne.exports=Dd;Dd.prototype.point=a(function(){throw new Error("Not implemented")},"point");Dd.prototype.validate=a(function(){throw new Error("Not implemented")},"validate");Dd.prototype._fixedNafMul=a(function(t,r){JA(t.precomputed);var n=t._getDoubles(),i=XA(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],u,l;for(u=0;u<i.length;u+=n.step){l=0;for(var f=u+n.step-1;f>=u;f--)l=(l<<1)+i[f];o.push(l)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),g=s;g>0;g--){for(u=0;u<o.length;u++)l=o[u],l===g?p=p.mixedAdd(n.points[u]):l===-g&&(p=p.mixedAdd(n.points[u].neg()));h=h.add(p)}return h.toP()},"_fixedNafMul");Dd.prototype._wnafMul=a(function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=XA(r,n,this._bitLength),u=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var f=0;l>=0&&o[l]===0;l--)f++;if(l>=0&&f++,u=u.dblp(f),l<0)break;var h=o[l];JA(h!==0),t.type==="affine"?h>0?u=u.mixedAdd(s[h-1>>1]):u=u.mixedAdd(s[-h-1>>1].neg()):h>0?u=u.add(s[h-1>>1]):u=u.add(s[-h-1>>1].neg())}return t.type==="affine"?u.toP():u},"_wnafMul");Dd.prototype._wnafMulAdd=a(function(t,r,n,i,s){var o=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0,h,p,g;for(h=0;h<i;h++){g=r[h];var y=g._getNAFPoints(t);o[h]=y.wnd,u[h]=y.points}for(h=i-1;h>=1;h-=2){var E=h-1,M=h;if(o[E]!==1||o[M]!==1){l[E]=XA(n[E],o[E],this._bitLength),l[M]=XA(n[M],o[M],this._bitLength),f=Math.max(l[E].length,f),f=Math.max(l[M].length,f);continue}var z=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(z[1]=r[E].add(r[M]),z[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(z[1]=r[E].toJ().mixedAdd(r[M]),z[2]=r[E].add(r[M].neg())):(z[1]=r[E].toJ().mixedAdd(r[M]),z[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],Q=_We(n[E],n[M]);for(f=Math.max(Q[0].length,f),l[E]=new Array(f),l[M]=new Array(f),p=0;p<f;p++){var V=Q[0][p]|0,W=Q[1][p]|0;l[E][p]=P[(V+1)*3+(W+1)],l[M][p]=0,u[E]=z}}var F=this.jpoint(null,null,null),B=this._wnafT4;for(h=f;h>=0;h--){for(var S=0;h>=0;){var T=!0;for(p=0;p<i;p++)B[p]=l[p][h]|0,B[p]!==0&&(T=!1);if(!T)break;S++,h--}if(h>=0&&S++,F=F.dblp(S),h<0)break;for(p=0;p<i;p++){var k=B[p];k!==0&&(k>0?g=u[p][k-1>>1]:k<0&&(g=u[p][-k-1>>1].neg()),g.type==="affine"?F=F.mixedAdd(g):F=F.add(g))}}for(h=0;h<i;h++)u[h]=null;return s?F:F.toP()},"_wnafMulAdd");function Tc(e,t){this.curve=e,this.type=t,this.precomputed=null}a(Tc,"BasePoint");Dd.BasePoint=Tc;Tc.prototype.eq=a(function(){throw new Error("Not implemented")},"eq");Tc.prototype.validate=a(function(){return this.curve.validate(this)},"validate");Dd.prototype.decodePoint=a(function(t,r){t=O_.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?JA(t[t.length-1]%2===0):t[0]===7&&JA(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")},"decodePoint");Tc.prototype.encodeCompressed=a(function(t){return this.encode(t,!0)},"encodeCompressed");Tc.prototype._encode=a(function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Tc.prototype.encode=a(function(t,r){return O_.encode(this._encode(r),t)},"encode");Tc.prototype.precompute=a(function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Tc.prototype._hasDoubles=a(function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1},"_hasDoubles");Tc.prototype._getDoubles=a(function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}},"_getDoubles");Tc.prototype._getNAFPoints=a(function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}},"_getNAFPoints");Tc.prototype._getBeta=a(function(){return null},"_getBeta");Tc.prototype.dblp=a(function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r},"dblp")});var Rne=j((ptr,Bne)=>{"use strict";d();var xWe=Ho(),Wi=Qi(),aD=kr(),Yy=q_(),wWe=xWe.assert;function Mc(e){Yy.call(this,"short",e),this.a=new Wi(e.a,16).toRed(this.red),this.b=new Wi(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(Mc,"ShortCurve");aD(Mc,Yy);Bne.exports=Mc;Mc.prototype._getEndomorphism=a(function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Wi(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new Wi(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],wWe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(u){return{a:new Wi(u.a,16),b:new Wi(u.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}},"_getEndomorphism");Mc.prototype._getEndoRoots=a(function(t){var r=t===this.p?this.red:Wi.mont(t),n=new Wi(2).toRed(r).redInvm(),i=n.redNeg(),s=new Wi(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),u=i.redSub(s).fromRed();return[o,u]},"_getEndoRoots");Mc.prototype._getEndoBasis=a(function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new Wi(1),o=new Wi(0),u=new Wi(0),l=new Wi(1),f,h,p,g,y,E,M,z=0,P,Q;n.cmpn(0)!==0;){var V=i.div(n);P=i.sub(V.mul(n)),Q=u.sub(V.mul(s));var W=l.sub(V.mul(o));if(!p&&P.cmp(r)<0)f=M.neg(),h=s,p=P.neg(),g=Q;else if(p&&++z===2)break;M=P,i=n,n=P,u=s,s=Q,l=o,o=W}y=P.neg(),E=Q;var F=p.sqr().add(g.sqr()),B=y.sqr().add(E.sqr());return B.cmp(F)>=0&&(y=f,E=h),p.negative&&(p=p.neg(),g=g.neg()),y.negative&&(y=y.neg(),E=E.neg()),[{a:p,b:g},{a:y,b:E}]},"_getEndoBasis");Mc.prototype._endoSplit=a(function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),u=s.mul(n.a),l=o.mul(i.a),f=s.mul(n.b),h=o.mul(i.b),p=t.sub(u).sub(l),g=f.add(h).neg();return{k1:p,k2:g}},"_endoSplit");Mc.prototype.pointFromX=a(function(t,r){t=new Wi(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)},"pointFromX");Mc.prototype.validate=a(function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Mc.prototype._endoWnafMulAdd=a(function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var u=this._endoSplit(r[o]),l=t[o],f=l._getBeta();u.k1.negative&&(u.k1.ineg(),l=l.neg(!0)),u.k2.negative&&(u.k2.ineg(),f=f.neg(!0)),i[o*2]=l,i[o*2+1]=f,s[o*2]=u.k1,s[o*2+1]=u.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h},"_endoWnafMulAdd");function ja(e,t,r,n){Yy.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Wi(t,16),this.y=new Wi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(ja,"Point");aD(ja,Yy.BasePoint);Mc.prototype.point=a(function(t,r,n){return new ja(this,t,r,n)},"point");Mc.prototype.pointFromJSON=a(function(t,r){return ja.fromJSON(this,t,r)},"pointFromJSON");ja.prototype._getBeta=a(function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=a(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}},"_getBeta");ja.prototype.toJSON=a(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");ja.fromJSON=a(function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(u){return t.point(u[0],u[1],n)}a(s,"obj2point");var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i},"fromJSON");ja.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");ja.prototype.isInfinity=a(function(){return this.inf},"isInfinity");ja.prototype.add=a(function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");ja.prototype.dbl=a(function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),u=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,u)},"dbl");ja.prototype.getX=a(function(){return this.x.fromRed()},"getX");ja.prototype.getY=a(function(){return this.y.fromRed()},"getY");ja.prototype.mul=a(function(t){return t=new Wi(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},"mul");ja.prototype.mulAdd=a(function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");ja.prototype.jmulAdd=a(function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");ja.prototype.eq=a(function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},"eq");ja.prototype.neg=a(function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=a(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");ja.prototype.toJ=a(function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t},"toJ");function ss(e,t,r,n){Yy.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Wi(0)):(this.x=new Wi(t,16),this.y=new Wi(r,16),this.z=new Wi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(ss,"JPoint");aD(ss,Yy.BasePoint);Mc.prototype.jpoint=a(function(t,r,n){return new ss(this,t,r,n)},"jpoint");ss.prototype.toP=a(function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)},"toP");ss.prototype.neg=a(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ss.prototype.add=a(function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),u=t.y.redMul(n.redMul(this.z)),l=i.redSub(s),f=o.redSub(u);if(l.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),p=h.redMul(l),g=i.redMul(h),y=f.redSqr().redIAdd(p).redISub(g).redISub(g),E=f.redMul(g.redISub(y)).redISub(o.redMul(p)),M=this.z.redMul(t.z).redMul(l);return this.curve.jpoint(y,E,M)},"add");ss.prototype.mixedAdd=a(function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),u=n.redSub(i),l=s.redSub(o);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),h=f.redMul(u),p=n.redMul(f),g=l.redSqr().redIAdd(h).redISub(p).redISub(p),y=l.redMul(p.redISub(g)).redISub(s.redMul(h)),E=this.z.redMul(u);return this.curve.jpoint(g,y,E)},"mixedAdd");ss.prototype.dblp=a(function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,u=this.y,l=this.z,f=l.redSqr().redSqr(),h=u.redAdd(u);for(r=0;r<t;r++){var p=o.redSqr(),g=h.redSqr(),y=g.redSqr(),E=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(f)),M=o.redMul(g),z=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(z),Q=E.redMul(P);Q=Q.redIAdd(Q).redISub(y);var V=h.redMul(l);r+1<t&&(f=f.redMul(y)),o=z,l=V,h=Q}return this.curve.jpoint(o,h.redMul(s),l)},"dblp");ss.prototype.dbl=a(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ss.prototype._zeroDbl=a(function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i),f=l.redSqr().redISub(u).redISub(u),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),t=f,r=l.redMul(u.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),E=this.x.redAdd(g).redSqr().redISub(p).redISub(y);E=E.redIAdd(E);var M=p.redAdd(p).redIAdd(p),z=M.redSqr(),P=y.redIAdd(y);P=P.redIAdd(P),P=P.redIAdd(P),t=z.redISub(E).redISub(E),r=M.redMul(E.redISub(t)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)},"_zeroDbl");ss.prototype._threeDbl=a(function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=l.redSqr().redISub(u).redISub(u);t=f;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=l.redMul(u.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),E=this.x.redSub(p).redMul(this.x.redAdd(p));E=E.redAdd(E).redIAdd(E);var M=y.redIAdd(y);M=M.redIAdd(M);var z=M.redAdd(M);t=E.redSqr().redISub(z),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(p);var P=g.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(t)).redISub(P)}return this.curve.jpoint(t,r,n)},"_threeDbl");ss.prototype._dbl=a(function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),u=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var h=f.redMul(u),p=l.redSqr().redISub(h.redAdd(h)),g=h.redISub(p),y=u.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var E=l.redMul(g).redISub(y),M=n.redAdd(n).redMul(i);return this.curve.jpoint(p,E,M)},"_dbl");ss.prototype.trpl=a(function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),u=this.x.redAdd(r).redSqr().redISub(t).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(o);var l=u.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var h=s.redIAdd(u).redSqr().redISub(o).redISub(l).redISub(f),p=r.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.x.redMul(l).redISub(p);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(h.redMul(f.redISub(h)).redISub(u.redMul(l)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var E=this.z.redAdd(u).redSqr().redISub(n).redISub(l);return this.curve.jpoint(g,y,E)},"trpl");ss.prototype.mul=a(function(t,r){return t=new Wi(t,r),this.curve._wnafMul(this,t)},"mul");ss.prototype.eq=a(function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0},"eq");ss.prototype.eqXToP=a(function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ss.prototype.inspect=a(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ss.prototype.isInfinity=a(function(){return this.z.cmpn(0)===0},"isInfinity")});var Nne=j((mtr,Dne)=>{"use strict";d();var Hy=Qi(),Lne=kr(),ZA=q_(),AWe=Ho();function zy(e){ZA.call(this,"mont",e),this.a=new Hy(e.a,16).toRed(this.red),this.b=new Hy(e.b,16).toRed(this.red),this.i4=new Hy(4).toRed(this.red).redInvm(),this.two=new Hy(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(zy,"MontCurve");Lne(zy,ZA);Dne.exports=zy;zy.prototype.validate=a(function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Ga(e,t,r){ZA.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Hy(t,16),this.z=new Hy(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(Ga,"Point");Lne(Ga,ZA.BasePoint);zy.prototype.decodePoint=a(function(t,r){return this.point(AWe.toArray(t,r),1)},"decodePoint");zy.prototype.point=a(function(t,r){return new Ga(this,t,r)},"point");zy.prototype.pointFromJSON=a(function(t){return Ga.fromJSON(this,t)},"pointFromJSON");Ga.prototype.precompute=a(function(){},"precompute");Ga.prototype._encode=a(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Ga.fromJSON=a(function(t,r){return new Ga(t,r[0],r[1]||t.one)},"fromJSON");Ga.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Ga.prototype.isInfinity=a(function(){return this.z.cmpn(0)===0},"isInfinity");Ga.prototype.dbl=a(function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),u=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,u)},"dbl");Ga.prototype.add=a(function(){throw new Error("Not supported on Montgomery curve")},"add");Ga.prototype.diffAdd=a(function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),u=o.redMul(n),l=s.redMul(i),f=r.z.redMul(u.redAdd(l).redSqr()),h=r.x.redMul(u.redISub(l).redSqr());return this.curve.point(f,h)},"diffAdd");Ga.prototype.mul=a(function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var u=o.length-1;u>=0;u--)o[u]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Ga.prototype.mulAdd=a(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Ga.prototype.jumlAdd=a(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Ga.prototype.eq=a(function(t){return this.getX().cmp(t.getX())===0},"eq");Ga.prototype.normalize=a(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Ga.prototype.getX=a(function(){return this.normalize(),this.x.fromRed()},"getX")});var Pne=j((_tr,qne)=>{"use strict";d();var EWe=Ho(),Uf=Qi(),One=kr(),e8=q_(),SWe=EWe.assert;function gl(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,e8.call(this,"edwards",e),this.a=new Uf(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Uf(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Uf(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),SWe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}a(gl,"EdwardsCurve");One(gl,e8);qne.exports=gl;gl.prototype._mulA=a(function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},"_mulA");gl.prototype._mulC=a(function(t){return this.oneC?t:this.c.redMul(t)},"_mulC");gl.prototype.jpoint=a(function(t,r,n,i){return this.point(t,r,n,i)},"jpoint");gl.prototype.pointFromX=a(function(t,r){t=new Uf(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=u.fromRed().isOdd();return(r&&!l||!r&&l)&&(u=u.redNeg()),this.point(t,u)},"pointFromX");gl.prototype.pointFromY=a(function(t,r){t=new Uf(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,t)},"pointFromY");gl.prototype.validate=a(function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function yi(e,t,r,n,i){e8.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Uf(t,16),this.y=new Uf(r,16),this.z=n?new Uf(n,16):this.curve.one,this.t=i&&new Uf(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(yi,"Point");One(yi,e8.BasePoint);gl.prototype.pointFromJSON=a(function(t){return yi.fromJSON(this,t)},"pointFromJSON");gl.prototype.point=a(function(t,r,n,i){return new yi(this,t,r,n,i)},"point");yi.fromJSON=a(function(t,r){return new yi(t,r[0],r[1],r[2])},"fromJSON");yi.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");yi.prototype.isInfinity=a(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");yi.prototype._extDbl=a(function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),u=o.redSub(n),l=i.redSub(r),f=s.redMul(u),h=o.redMul(l),p=s.redMul(l),g=u.redMul(o);return this.curve.point(f,h,g,p)},"_extDbl");yi.prototype._projDbl=a(function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,u,l,f;if(this.curve.twisted){u=this.curve._mulA(r);var h=u.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(h.redSub(this.curve.two)),s=h.redMul(u.redSub(n)),o=h.redSqr().redSub(h).redSub(h)):(l=this.z.redSqr(),f=h.redSub(l).redISub(l),i=t.redSub(r).redISub(n).redMul(f),s=h.redMul(u.redSub(n)),o=h.redMul(f))}else u=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),f=u.redSub(l).redSub(l),i=this.curve._mulC(t.redISub(u)).redMul(f),s=this.curve._mulC(u).redMul(r.redISub(n)),o=u.redMul(f);return this.curve.point(i,s,o)},"_projDbl");yi.prototype.dbl=a(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");yi.prototype._extAdd=a(function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),u=s.redSub(i),l=s.redAdd(i),f=n.redAdd(r),h=o.redMul(u),p=l.redMul(f),g=o.redMul(f),y=u.redMul(l);return this.curve.point(h,p,y,g)},"_extAdd");yi.prototype._projAdd=a(function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),u=n.redSub(o),l=n.redAdd(o),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),h=r.redMul(u).redMul(f),p,g;return this.curve.twisted?(p=r.redMul(l).redMul(s.redSub(this.curve._mulA(i))),g=u.redMul(l)):(p=r.redMul(l).redMul(s.redSub(i)),g=this.curve._mulC(u).redMul(l)),this.curve.point(h,p,g)},"_projAdd");yi.prototype.add=a(function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},"add");yi.prototype.mul=a(function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},"mul");yi.prototype.mulAdd=a(function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)},"mulAdd");yi.prototype.jmulAdd=a(function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)},"jmulAdd");yi.prototype.normalize=a(function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},"normalize");yi.prototype.neg=a(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");yi.prototype.getX=a(function(){return this.normalize(),this.x.fromRed()},"getX");yi.prototype.getY=a(function(){return this.normalize(),this.y.fromRed()},"getY");yi.prototype.eq=a(function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},"eq");yi.prototype.eqXToP=a(function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");yi.prototype.toP=yi.prototype.normalize;yi.prototype.mixedAdd=yi.prototype.add});var sD=j(Fne=>{"use strict";d();var t8=Fne;t8.base=q_();t8.short=Rne();t8.mont=Nne();t8.edwards=Pne()});var pu=j(hi=>{"use strict";d();var kWe=Yo(),CWe=kr();hi.inherits=CWe;function IWe(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}a(IWe,"isSurrogatePair");function TWe(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):IWe(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}a(TWe,"toArray");hi.toArray=TWe;function MWe(e){for(var t="",r=0;r<e.length;r++)t+=Yne(e[r].toString(16));return t}a(MWe,"toHex");hi.toHex=MWe;function Une(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}a(Une,"htonl");hi.htonl=Une;function BWe(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=Une(i)),r+=Hne(i.toString(16))}return r}a(BWe,"toHex32");hi.toHex32=BWe;function Yne(e){return e.length===1?"0"+e:e}a(Yne,"zero2");hi.zero2=Yne;function Hne(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}a(Hne,"zero8");hi.zero8=Hne;function RWe(e,t,r,n){var i=r-t;kWe(i%4===0);for(var s=new Array(i/4),o=0,u=t;o<s.length;o++,u+=4){var l;n==="big"?l=e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:l=e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[o]=l>>>0}return s}a(RWe,"join32");hi.join32=RWe;function LWe(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}a(LWe,"split32");hi.split32=LWe;function DWe(e,t){return e>>>t|e<<32-t}a(DWe,"rotr32");hi.rotr32=DWe;function NWe(e,t){return e<<t|e>>>32-t}a(NWe,"rotl32");hi.rotl32=NWe;function OWe(e,t){return e+t>>>0}a(OWe,"sum32");hi.sum32=OWe;function qWe(e,t,r){return e+t+r>>>0}a(qWe,"sum32_3");hi.sum32_3=qWe;function PWe(e,t,r,n){return e+t+r+n>>>0}a(PWe,"sum32_4");hi.sum32_4=PWe;function FWe(e,t,r,n,i){return e+t+r+n+i>>>0}a(FWe,"sum32_5");hi.sum32_5=FWe;function UWe(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,u=(o<n?1:0)+r+i;e[t]=u>>>0,e[t+1]=o}a(UWe,"sum64");hi.sum64=UWe;function YWe(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}a(YWe,"sum64_hi");hi.sum64_hi=YWe;function HWe(e,t,r,n){var i=t+n;return i>>>0}a(HWe,"sum64_lo");hi.sum64_lo=HWe;function zWe(e,t,r,n,i,s,o,u){var l=0,f=t;f=f+n>>>0,l+=f<t?1:0,f=f+s>>>0,l+=f<s?1:0,f=f+u>>>0,l+=f<u?1:0;var h=e+r+i+o+l;return h>>>0}a(zWe,"sum64_4_hi");hi.sum64_4_hi=zWe;function QWe(e,t,r,n,i,s,o,u){var l=t+n+s+u;return l>>>0}a(QWe,"sum64_4_lo");hi.sum64_4_lo=QWe;function WWe(e,t,r,n,i,s,o,u,l,f){var h=0,p=t;p=p+n>>>0,h+=p<t?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+u>>>0,h+=p<u?1:0,p=p+f>>>0,h+=p<f?1:0;var g=e+r+i+o+l+h;return g>>>0}a(WWe,"sum64_5_hi");hi.sum64_5_hi=WWe;function VWe(e,t,r,n,i,s,o,u,l,f){var h=t+n+s+u+f;return h>>>0}a(VWe,"sum64_5_lo");hi.sum64_5_lo=VWe;function jWe(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}a(jWe,"rotr64_hi");hi.rotr64_hi=jWe;function GWe(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}a(GWe,"rotr64_lo");hi.rotr64_lo=GWe;function KWe(e,t,r){return e>>>r}a(KWe,"shr64_hi");hi.shr64_hi=KWe;function $We(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}a($We,"shr64_lo");hi.shr64_lo=$We});var Qy=j(Qne=>{"use strict";d();var zne=pu(),XWe=Yo();function r8(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a(r8,"BlockHash");Qne.BlockHash=r8;r8.prototype.update=a(function(t,r){if(t=zne.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=zne.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},"update");r8.prototype.digest=a(function(t){return this.update(this._pad()),XWe(this.pending===null),this._digest(t)},"digest");r8.prototype._pad=a(function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i},"pad")});var oD=j(Yf=>{"use strict";d();var JWe=pu(),yl=JWe.rotr32;function ZWe(e,t,r,n){if(e===0)return Wne(t,r,n);if(e===1||e===3)return jne(t,r,n);if(e===2)return Vne(t,r,n)}a(ZWe,"ft_1");Yf.ft_1=ZWe;function Wne(e,t,r){return e&t^~e&r}a(Wne,"ch32");Yf.ch32=Wne;function Vne(e,t,r){return e&t^e&r^t&r}a(Vne,"maj32");Yf.maj32=Vne;function jne(e,t,r){return e^t^r}a(jne,"p32");Yf.p32=jne;function eVe(e){return yl(e,2)^yl(e,13)^yl(e,22)}a(eVe,"s0_256");Yf.s0_256=eVe;function tVe(e){return yl(e,6)^yl(e,11)^yl(e,25)}a(tVe,"s1_256");Yf.s1_256=tVe;function rVe(e){return yl(e,7)^yl(e,18)^e>>>3}a(rVe,"g0_256");Yf.g0_256=rVe;function nVe(e){return yl(e,17)^yl(e,19)^e>>>10}a(nVe,"g1_256");Yf.g1_256=nVe});var $ne=j((Dtr,Kne)=>{"use strict";d();var Wy=pu(),iVe=Qy(),aVe=oD(),cD=Wy.rotl32,P_=Wy.sum32,sVe=Wy.sum32_5,oVe=aVe.ft_1,Gne=iVe.BlockHash,cVe=[1518500249,1859775393,2400959708,3395469782];function ml(){if(!(this instanceof ml))return new ml;Gne.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a(ml,"SHA1");Wy.inherits(ml,Gne);Kne.exports=ml;ml.blockSize=512;ml.outSize=160;ml.hmacStrength=80;ml.padLength=64;ml.prototype._update=a(function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=cD(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),p=sVe(cD(s,5),oVe(h,o,u,l),f,n[i],cVe[h]);f=l,l=u,u=cD(o,30),o=s,s=p}this.h[0]=P_(this.h[0],s),this.h[1]=P_(this.h[1],o),this.h[2]=P_(this.h[2],u),this.h[3]=P_(this.h[3],l),this.h[4]=P_(this.h[4],f)},"_update");ml.prototype._digest=a(function(t){return t==="hex"?Wy.toHex32(this.h,"big"):Wy.split32(this.h,"big")},"digest")});var uD=j((qtr,Jne)=>{"use strict";d();var Vy=pu(),uVe=Qy(),jy=oD(),lVe=Yo(),gu=Vy.sum32,fVe=Vy.sum32_4,hVe=Vy.sum32_5,dVe=jy.ch32,pVe=jy.maj32,gVe=jy.s0_256,yVe=jy.s1_256,mVe=jy.g0_256,bVe=jy.g1_256,Xne=uVe.BlockHash,vVe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bl(){if(!(this instanceof bl))return new bl;Xne.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vVe,this.W=new Array(64)}a(bl,"SHA256");Vy.inherits(bl,Xne);Jne.exports=bl;bl.blockSize=512;bl.outSize=256;bl.hmacStrength=192;bl.padLength=64;bl.prototype._update=a(function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=fVe(bVe(n[i-2]),n[i-7],mVe(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],f=this.h[4],h=this.h[5],p=this.h[6],g=this.h[7];for(lVe(this.k.length===n.length),i=0;i<n.length;i++){var y=hVe(g,yVe(f),dVe(f,h,p),this.k[i],n[i]),E=gu(gVe(s),pVe(s,o,u));g=p,p=h,h=f,f=gu(l,y),l=u,u=o,o=s,s=gu(y,E)}this.h[0]=gu(this.h[0],s),this.h[1]=gu(this.h[1],o),this.h[2]=gu(this.h[2],u),this.h[3]=gu(this.h[3],l),this.h[4]=gu(this.h[4],f),this.h[5]=gu(this.h[5],h),this.h[6]=gu(this.h[6],p),this.h[7]=gu(this.h[7],g)},"_update");bl.prototype._digest=a(function(t){return t==="hex"?Vy.toHex32(this.h,"big"):Vy.split32(this.h,"big")},"digest")});var tie=j((Utr,eie)=>{"use strict";d();var lD=pu(),Zne=uD();function Hf(){if(!(this instanceof Hf))return new Hf;Zne.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a(Hf,"SHA224");lD.inherits(Hf,Zne);eie.exports=Hf;Hf.blockSize=512;Hf.outSize=224;Hf.hmacStrength=192;Hf.padLength=64;Hf.prototype._digest=a(function(t){return t==="hex"?lD.toHex32(this.h.slice(0,7),"big"):lD.split32(this.h.slice(0,7),"big")},"digest")});var dD=j((ztr,aie)=>{"use strict";d();var bo=pu(),_Ve=Qy(),xVe=Yo(),vl=bo.rotr64_hi,_l=bo.rotr64_lo,rie=bo.shr64_hi,nie=bo.shr64_lo,Nd=bo.sum64,fD=bo.sum64_hi,hD=bo.sum64_lo,wVe=bo.sum64_4_hi,AVe=bo.sum64_4_lo,EVe=bo.sum64_5_hi,SVe=bo.sum64_5_lo,iie=_Ve.BlockHash,kVe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function yu(){if(!(this instanceof yu))return new yu;iie.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=kVe,this.W=new Array(160)}a(yu,"SHA512");bo.inherits(yu,iie);aie.exports=yu;yu.blockSize=1024;yu.outSize=512;yu.hmacStrength=192;yu.padLength=128;yu.prototype._prepareBlock=a(function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=qVe(n[i-4],n[i-3]),o=PVe(n[i-4],n[i-3]),u=n[i-14],l=n[i-13],f=NVe(n[i-30],n[i-29]),h=OVe(n[i-30],n[i-29]),p=n[i-32],g=n[i-31];n[i]=wVe(s,o,u,l,f,h,p,g),n[i+1]=AVe(s,o,u,l,f,h,p,g)}},"_prepareBlock");yu.prototype._update=a(function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],l=this.h[4],f=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],E=this.h[10],M=this.h[11],z=this.h[12],P=this.h[13],Q=this.h[14],V=this.h[15];xVe(this.k.length===n.length);for(var W=0;W<n.length;W+=2){var F=Q,B=V,S=LVe(g,y),T=DVe(g,y),k=CVe(g,y,E,M,z,P),R=IVe(g,y,E,M,z,P),x=this.k[W],N=this.k[W+1],m=n[W],v=n[W+1],A=EVe(F,B,S,T,k,R,x,N,m,v),U=SVe(F,B,S,T,k,R,x,N,m,v);F=BVe(i,s),B=RVe(i,s),S=TVe(i,s,o,u,l,f),T=MVe(i,s,o,u,l,f);var G=fD(F,B,S,T),K=hD(F,B,S,T);Q=z,V=P,z=E,P=M,E=g,M=y,g=fD(h,p,A,U),y=hD(p,p,A,U),h=l,p=f,l=o,f=u,o=i,u=s,i=fD(A,U,G,K),s=hD(A,U,G,K)}Nd(this.h,0,i,s),Nd(this.h,2,o,u),Nd(this.h,4,l,f),Nd(this.h,6,h,p),Nd(this.h,8,g,y),Nd(this.h,10,E,M),Nd(this.h,12,z,P),Nd(this.h,14,Q,V)},"_update");yu.prototype._digest=a(function(t){return t==="hex"?bo.toHex32(this.h,"big"):bo.split32(this.h,"big")},"digest");function CVe(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}a(CVe,"ch64_hi");function IVe(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}a(IVe,"ch64_lo");function TVe(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}a(TVe,"maj64_hi");function MVe(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}a(MVe,"maj64_lo");function BVe(e,t){var r=vl(e,t,28),n=vl(t,e,2),i=vl(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(BVe,"s0_512_hi");function RVe(e,t){var r=_l(e,t,28),n=_l(t,e,2),i=_l(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(RVe,"s0_512_lo");function LVe(e,t){var r=vl(e,t,14),n=vl(e,t,18),i=vl(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(LVe,"s1_512_hi");function DVe(e,t){var r=_l(e,t,14),n=_l(e,t,18),i=_l(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(DVe,"s1_512_lo");function NVe(e,t){var r=vl(e,t,1),n=vl(e,t,8),i=rie(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(NVe,"g0_512_hi");function OVe(e,t){var r=_l(e,t,1),n=_l(e,t,8),i=nie(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(OVe,"g0_512_lo");function qVe(e,t){var r=vl(e,t,19),n=vl(t,e,29),i=rie(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(qVe,"g1_512_hi");function PVe(e,t){var r=_l(e,t,19),n=_l(t,e,29),i=nie(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(PVe,"g1_512_lo")});var cie=j((Vtr,oie)=>{"use strict";d();var pD=pu(),sie=dD();function zf(){if(!(this instanceof zf))return new zf;sie.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a(zf,"SHA384");pD.inherits(zf,sie);oie.exports=zf;zf.blockSize=1024;zf.outSize=384;zf.hmacStrength=192;zf.padLength=128;zf.prototype._digest=a(function(t){return t==="hex"?pD.toHex32(this.h.slice(0,12),"big"):pD.split32(this.h.slice(0,12),"big")},"digest")});var uie=j(Gy=>{"use strict";d();Gy.sha1=$ne();Gy.sha224=tie();Gy.sha256=uD();Gy.sha384=cie();Gy.sha512=dD()});var gie=j(pie=>{"use strict";d();var Wp=pu(),FVe=Qy(),n8=Wp.rotl32,lie=Wp.sum32,F_=Wp.sum32_3,fie=Wp.sum32_4,die=FVe.BlockHash;function xl(){if(!(this instanceof xl))return new xl;die.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a(xl,"RIPEMD160");Wp.inherits(xl,die);pie.ripemd160=xl;xl.blockSize=512;xl.outSize=160;xl.hmacStrength=192;xl.padLength=64;xl.prototype._update=a(function(t,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],l=n,f=i,h=s,p=o,g=u,y=0;y<80;y++){var E=lie(n8(fie(n,hie(y,i,s,o),t[HVe[y]+r],UVe(y)),QVe[y]),u);n=u,u=o,o=n8(s,10),s=i,i=E,E=lie(n8(fie(l,hie(79-y,f,h,p),t[zVe[y]+r],YVe(y)),WVe[y]),g),l=g,g=p,p=n8(h,10),h=f,f=E}E=F_(this.h[1],s,p),this.h[1]=F_(this.h[2],o,g),this.h[2]=F_(this.h[3],u,l),this.h[3]=F_(this.h[4],n,f),this.h[4]=F_(this.h[0],i,h),this.h[0]=E},"update");xl.prototype._digest=a(function(t){return t==="hex"?Wp.toHex32(this.h,"little"):Wp.split32(this.h,"little")},"digest");function hie(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}a(hie,"f");function UVe(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}a(UVe,"K");function YVe(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}a(YVe,"Kh");var HVe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zVe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],QVe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],WVe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var mie=j((err,yie)=>{"use strict";d();var VVe=pu(),jVe=Yo();function Ky(e,t,r){if(!(this instanceof Ky))return new Ky(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(VVe.toArray(t,r))}a(Ky,"Hmac");yie.exports=Ky;Ky.prototype._init=a(function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),jVe(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)},"init");Ky.prototype.update=a(function(t,r){return this.inner.update(t,r),this},"update");Ky.prototype.digest=a(function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},"digest")});var i8=j(bie=>{d();var os=bie;os.utils=pu();os.common=Qy();os.sha=uie();os.ripemd=gie();os.hmac=mie();os.sha1=os.sha.sha1;os.sha256=os.sha.sha256;os.sha224=os.sha.sha224;os.sha384=os.sha.sha384;os.sha512=os.sha.sha512;os.ripemd160=os.ripemd.ripemd160});var _ie=j((arr,vie)=>{d();vie.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var a8=j(Aie=>{"use strict";d();var yD=Aie,Od=i8(),gD=sD(),GVe=Ho(),xie=GVe.assert;function wie(e){e.type==="short"?this.curve=new gD.short(e):e.type==="edwards"?this.curve=new gD.edwards(e):this.curve=new gD.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,xie(this.g.validate(),"Invalid curve"),xie(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a(wie,"PresetCurve");yD.PresetCurve=wie;function qd(e,t){Object.defineProperty(yD,e,{configurable:!0,enumerable:!0,get:function(){var r=new wie(t);return Object.defineProperty(yD,e,{configurable:!0,enumerable:!0,value:r}),r}})}a(qd,"defineCurve");qd("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Od.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});qd("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Od.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});qd("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Od.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});qd("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Od.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});qd("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Od.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});qd("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Od.sha256,gRed:!1,g:["9"]});qd("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Od.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var mD;try{mD=_ie()}catch{mD=void 0}qd("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Od.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",mD]})});var kie=j((lrr,Sie)=>{"use strict";d();var KVe=i8(),Vp=iD(),Eie=Yo();function Pd(e){if(!(this instanceof Pd))return new Pd(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Vp.toArray(e.entropy,e.entropyEnc||"hex"),r=Vp.toArray(e.nonce,e.nonceEnc||"hex"),n=Vp.toArray(e.pers,e.persEnc||"hex");Eie(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}a(Pd,"HmacDRBG");Sie.exports=Pd;Pd.prototype._init=a(function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");Pd.prototype._hmac=a(function(){return new KVe.hmac(this.hash,this.K)},"hmac");Pd.prototype._update=a(function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},"update");Pd.prototype.reseed=a(function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=Vp.toArray(t,r),n=Vp.toArray(n,i),Eie(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},"reseed");Pd.prototype.generate=a(function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vp.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,Vp.encode(o,r)},"generate")});var Iie=j((drr,Cie)=>{"use strict";d();var $Ve=Qi(),XVe=Ho(),bD=XVe.assert;function Es(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}a(Es,"KeyPair");Cie.exports=Es;Es.fromPublic=a(function(t,r,n){return r instanceof Es?r:new Es(t,{pub:r,pubEnc:n})},"fromPublic");Es.fromPrivate=a(function(t,r,n){return r instanceof Es?r:new Es(t,{priv:r,privEnc:n})},"fromPrivate");Es.prototype.validate=a(function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");Es.prototype.getPublic=a(function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub},"getPublic");Es.prototype.getPrivate=a(function(t){return t==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");Es.prototype._importPrivate=a(function(t,r){this.priv=new $Ve(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");Es.prototype._importPublic=a(function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?bD(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bD(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)},"_importPublic");Es.prototype.derive=a(function(t){return t.validate()||bD(t.validate(),"public point not validated"),t.mul(this.priv).getX()},"derive");Es.prototype.sign=a(function(t,r,n){return this.ec.sign(t,this,r,n)},"sign");Es.prototype.verify=a(function(t,r){return this.ec.verify(t,r,this)},"verify");Es.prototype.inspect=a(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var Bie=j((yrr,Mie)=>{"use strict";d();var s8=Qi(),xD=Ho(),JVe=xD.assert;function o8(e,t){if(e instanceof o8)return e;this._importDER(e,t)||(JVe(e.r&&e.s,"Signature without r or s"),this.r=new s8(e.r,16),this.s=new s8(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}a(o8,"Signature");Mie.exports=o8;function ZVe(){this.place=0}a(ZVe,"Position");function vD(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}a(vD,"getLength");function Tie(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}a(Tie,"rmPadding");o8.prototype._importDER=a(function(t,r){t=xD.toArray(t,r);var n=new ZVe;if(t[n.place++]!==48)return!1;var i=vD(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=vD(t,n);if(s===!1)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var u=vD(t,n);if(u===!1||t.length!==u+n.place)return!1;var l=t.slice(n.place,u+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new s8(o),this.s=new s8(l),this.recoveryParam=null,!0},"_importDER");function _D(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}a(_D,"constructLength");o8.prototype.toDER=a(function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Tie(r),n=Tie(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];_D(i,r.length),i=i.concat(r),i.push(2),_D(i,n.length);var s=i.concat(n),o=[48];return _D(o,s.length),o=o.concat(s),xD.encode(o,t)},"toDER")});var Nie=j((vrr,Die)=>{"use strict";d();var jp=Qi(),Rie=kie(),eje=Ho(),wD=a8(),tje=WA(),Lie=eje.assert,AD=Iie(),c8=Bie();function Bc(e){if(!(this instanceof Bc))return new Bc(e);typeof e=="string"&&(Lie(Object.prototype.hasOwnProperty.call(wD,e),"Unknown curve "+e),e=wD[e]),e instanceof wD.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}a(Bc,"EC");Die.exports=Bc;Bc.prototype.keyPair=a(function(t){return new AD(this,t)},"keyPair");Bc.prototype.keyFromPrivate=a(function(t,r){return AD.fromPrivate(this,t,r)},"keyFromPrivate");Bc.prototype.keyFromPublic=a(function(t,r){return AD.fromPublic(this,t,r)},"keyFromPublic");Bc.prototype.genKeyPair=a(function(t){t||(t={});for(var r=new Rie({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||tje(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new jp(2));;){var s=new jp(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Bc.prototype._truncateToN=a(function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t},"_truncateToN");Bc.prototype.sign=a(function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new jp(t,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),u=t.toArray("be",s),l=new Rie({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new jp(1)),h=0;;h++){var p=i.k?i.k(h):new jp(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var g=this.g.mul(p);if(!g.isInfinity()){var y=g.getX(),E=y.umod(this.n);if(E.cmpn(0)!==0){var M=p.invm(this.n).mul(E.mul(r.getPrivate()).iadd(t));if(M=M.umod(this.n),M.cmpn(0)!==0){var z=(g.getY().isOdd()?1:0)|(y.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),z^=1),new c8({r:E,s:M,recoveryParam:z})}}}}}},"sign");Bc.prototype.verify=a(function(t,r,n,i){t=this._truncateToN(new jp(t,16)),n=this.keyFromPublic(n,i),r=new c8(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),l=u.mul(t).umod(this.n),f=u.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(l,n.getPublic(),f),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(l,n.getPublic(),f),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)},"verify");Bc.prototype.recoverPubKey=function(e,t,r,n){Lie((3&r)===r,"The recovery param is more than two bits"),t=new c8(t,n);var i=this.n,s=new jp(e),o=t.r,u=t.s,l=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var h=t.r.invm(i),p=i.sub(s).mul(h).umod(i),g=u.mul(h).umod(i);return this.g.mulAdd(p,o,g)};Bc.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new c8(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Fie=j((wrr,Pie)=>{"use strict";d();var U_=Ho(),qie=U_.assert,Oie=U_.parseBytes,$y=U_.cachedProperty;function Ka(e,t){this.eddsa=e,this._secret=Oie(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Oie(t.pub)}a(Ka,"KeyPair");Ka.fromPublic=a(function(t,r){return r instanceof Ka?r:new Ka(t,{pub:r})},"fromPublic");Ka.fromSecret=a(function(t,r){return r instanceof Ka?r:new Ka(t,{secret:r})},"fromSecret");Ka.prototype.secret=a(function(){return this._secret},"secret");$y(Ka,"pubBytes",a(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));$y(Ka,"pub",a(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));$y(Ka,"privBytes",a(function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));$y(Ka,"priv",a(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));$y(Ka,"hash",a(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));$y(Ka,"messagePrefix",a(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Ka.prototype.sign=a(function(t){return qie(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},"sign");Ka.prototype.verify=a(function(t,r){return this.eddsa.verify(t,r,this)},"verify");Ka.prototype.getSecret=a(function(t){return qie(this._secret,"KeyPair is public only"),U_.encode(this.secret(),t)},"getSecret");Ka.prototype.getPublic=a(function(t){return U_.encode(this.pubBytes(),t)},"getPublic");Pie.exports=Ka});var Yie=j((Srr,Uie)=>{"use strict";d();var rje=Qi(),u8=Ho(),nje=u8.assert,l8=u8.cachedProperty,ije=u8.parseBytes;function Gp(e,t){this.eddsa=e,typeof t!="object"&&(t=ije(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),nje(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof rje&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(Gp,"Signature");l8(Gp,"S",a(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));l8(Gp,"R",a(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));l8(Gp,"Rencoded",a(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));l8(Gp,"Sencoded",a(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));Gp.prototype.toBytes=a(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");Gp.prototype.toHex=a(function(){return u8.encode(this.toBytes(),"hex").toUpperCase()},"toHex");Uie.exports=Gp});var Vie=j((Irr,Wie)=>{"use strict";d();var aje=i8(),sje=a8(),Xy=Ho(),oje=Xy.assert,zie=Xy.parseBytes,Qie=Fie(),Hie=Yie();function vo(e){if(oje(e==="ed25519","only tested with ed25519 so far"),!(this instanceof vo))return new vo(e);e=sje[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=aje.sha512}a(vo,"EDDSA");Wie.exports=vo;vo.prototype.sign=a(function(t,r){t=zie(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),u=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),l=i.add(u).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:o})},"sign");vo.prototype.verify=a(function(t,r,n){t=zie(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),u=r.R().add(i.pub().mul(s));return u.eq(o)},"verify");vo.prototype.hashInt=a(function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Xy.intFromLE(t.digest()).umod(this.curve.n)},"hashInt");vo.prototype.keyFromPublic=a(function(t){return Qie.fromPublic(this,t)},"keyFromPublic");vo.prototype.keyFromSecret=a(function(t){return Qie.fromSecret(this,t)},"keyFromSecret");vo.prototype.makeSignature=a(function(t){return t instanceof Hie?t:new Hie(this,t)},"makeSignature");vo.prototype.encodePoint=a(function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r},"encodePoint");vo.prototype.decodePoint=a(function(t){t=Xy.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=Xy.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");vo.prototype.encodeInt=a(function(t){return t.toArray("le",this.encodingLength)},"encodeInt");vo.prototype.decodeInt=a(function(t){return Xy.intFromLE(t)},"decodeInt");vo.prototype.isPoint=a(function(t){return t instanceof this.pointClass},"isPoint")});var f8=j(jie=>{"use strict";d();var Kp=jie;Kp.version=Sne().version;Kp.utils=Ho();Kp.rand=WA();Kp.curve=sD();Kp.curves=a8();Kp.ec=Nie();Kp.eddsa=Vie()});var d8=j((Lrr,Gie)=>{"use strict";d();var h8=Ei(),Jy=h8.Buffer,Rc={},Lc;for(Lc in h8)!h8.hasOwnProperty(Lc)||Lc==="SlowBuffer"||Lc==="Buffer"||(Rc[Lc]=h8[Lc]);var Zy=Rc.Buffer={};for(Lc in Jy)!Jy.hasOwnProperty(Lc)||Lc==="allocUnsafe"||Lc==="allocUnsafeSlow"||(Zy[Lc]=Jy[Lc]);Rc.Buffer.prototype=Jy.prototype;(!Zy.from||Zy.from===Uint8Array.from)&&(Zy.from=function(e,t,r){if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return Jy(e,t,r)});Zy.alloc||(Zy.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Jy(e);return!t||t.length===0?n.fill(0):typeof r=="string"?n.fill(t,r):n.fill(t),n});if(!Rc.kStringMaxLength)try{Rc.kStringMaxLength=_.default.binding("buffer").kStringMaxLength}catch{}Rc.constants||(Rc.constants={MAX_LENGTH:Rc.kMaxLength},Rc.kStringMaxLength&&(Rc.constants.MAX_STRING_LENGTH=Rc.kStringMaxLength));Gie.exports=Rc});var p8=j(Kie=>{"use strict";d();var cje=kr();function Dc(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}a(Dc,"Reporter");Kie.Reporter=Dc;Dc.prototype.isError=a(function(t){return t instanceof em},"isError");Dc.prototype.save=a(function(){let t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},"save");Dc.prototype.restore=a(function(t){let r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},"restore");Dc.prototype.enterKey=a(function(t){return this._reporterState.path.push(t)},"enterKey");Dc.prototype.exitKey=a(function(t){let r=this._reporterState;r.path=r.path.slice(0,t-1)},"exitKey");Dc.prototype.leaveKey=a(function(t,r,n){let i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Dc.prototype.path=a(function(){return this._reporterState.path.join("/")},"path");Dc.prototype.enterObject=a(function(){let t=this._reporterState,r=t.obj;return t.obj={},r},"enterObject");Dc.prototype.leaveObject=a(function(t){let r=this._reporterState,n=r.obj;return r.obj=t,n},"leaveObject");Dc.prototype.error=a(function(t){let r,n=this._reporterState,i=t instanceof em;if(i?r=t:r=new em(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Dc.prototype.wrapResult=a(function(t){let r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},"wrapResult");function em(e,t){this.path=e,this.rethrow(t)}a(em,"ReporterError");cje(em,Error);em.prototype.rethrow=a(function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,em),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var nm=j(ED=>{"use strict";d();var uje=kr(),g8=p8().Reporter,tm=d8().Buffer;function Nc(e,t){if(g8.call(this,t),!tm.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}a(Nc,"DecoderBuffer");uje(Nc,g8);ED.DecoderBuffer=Nc;Nc.isDecoderBuffer=a(function(t){return t instanceof Nc?!0:typeof t=="object"&&tm.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},"isDecoderBuffer");Nc.prototype.save=a(function(){return{offset:this.offset,reporter:g8.prototype.save.call(this)}},"save");Nc.prototype.restore=a(function(t){let r=new Nc(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,g8.prototype.restore.call(this,t.reporter),r},"restore");Nc.prototype.isEmpty=a(function(){return this.offset===this.length},"isEmpty");Nc.prototype.readUInt8=a(function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},"readUInt8");Nc.prototype.skip=a(function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Nc(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},"skip");Nc.prototype.raw=a(function(t){return this.base.slice(t?t.offset:this.offset,this.length)},"raw");function rm(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return rm.isEncoderBuffer(r)||(r=new rm(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=tm.byteLength(e);else if(tm.isBuffer(e))this.value=e,this.length=e.length;else return t.error("Unsupported type: "+typeof e)}a(rm,"EncoderBuffer");ED.EncoderBuffer=rm;rm.isEncoderBuffer=a(function(t){return t instanceof rm?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},"isEncoderBuffer");rm.prototype.join=a(function(t,r){return t||(t=tm.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):tm.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t},"join")});var y8=j((Yrr,Xie)=>{"use strict";d();var lje=p8().Reporter,fje=nm().EncoderBuffer,hje=nm().DecoderBuffer,Hs=Yo(),$ie=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],dje=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat($ie),pje=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ii(e,t,r){let n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}a(ii,"Node");Xie.exports=ii;var gje=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];ii.prototype.clone=a(function(){let t=this._baseState,r={};gje.forEach(function(i){r[i]=t[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");ii.prototype._wrap=a(function(){let t=this._baseState;dje.forEach(function(r){this[r]=a(function(){let i=new this.constructor(this);return t.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");ii.prototype._init=a(function(t){let r=this._baseState;Hs(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Hs.equal(r.children.length,1,"Root node can have only one child")},"init");ii.prototype._useArgs=a(function(t){let r=this._baseState,n=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Hs(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(Hs(r.args===null),r.args=t,r.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(o){o==(o|0)&&(o|=0);let u=i[o];s[u]=o}),s}))},"useArgs");pje.forEach(function(e){ii.prototype[e]=a(function(){let r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)},"_overrided")});$ie.forEach(function(e){ii.prototype[e]=a(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Hs(r.tag===null),r.tag=e,this._useArgs(n),this},"_tagMethod")});ii.prototype.use=a(function(t){Hs(t);let r=this._baseState;return Hs(r.use===null),r.use=t,this},"use");ii.prototype.optional=a(function(){let t=this._baseState;return t.optional=!0,this},"optional");ii.prototype.def=a(function(t){let r=this._baseState;return Hs(r.default===null),r.default=t,r.optional=!0,this},"def");ii.prototype.explicit=a(function(t){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.explicit=t,this},"explicit");ii.prototype.implicit=a(function(t){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.implicit=t,this},"implicit");ii.prototype.obj=a(function(){let t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");ii.prototype.key=a(function(t){let r=this._baseState;return Hs(r.key===null),r.key=t,this},"key");ii.prototype.any=a(function(){let t=this._baseState;return t.any=!0,this},"any");ii.prototype.choice=a(function(t){let r=this._baseState;return Hs(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this},"choice");ii.prototype.contains=a(function(t){let r=this._baseState;return Hs(r.use===null),r.contains=t,this},"contains");ii.prototype._decode=a(function(t,r){let n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,s=!0,o=null;if(n.key!==null&&(o=t.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let f=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),s=!0}catch{s=!1}t.restore(f)}else if(s=this._peekTag(t,l,n.any),t.isError(s))return s}let u;if(n.obj&&s&&(u=t.enterObject()),s){if(n.explicit!==null){let f=this._decodeTag(t,n.explicit);if(t.isError(f))return f;t=f}let l=t.offset;if(n.use===null&&n.choice===null){let f;n.any&&(f=t.save());let h=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(h))return h;n.any?i=t.raw(f):t=h}if(r&&r.track&&n.tag!==null&&r.track(t.path(),l,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,t,r):i=this._decodeChoice(t,r)),t.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(a(function(h){h._decode(t,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let f=new hje(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(f,r)}}return n.obj&&s&&(i=t.leaveObject(u)),n.key!==null&&(i!==null||s===!0)?t.leaveKey(o,n.key,i):o!==null&&t.exitKey(o),i},"decode");ii.prototype._decodeGeneric=a(function(t,r,n){let i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,i.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+t)},"decodeGeneric");ii.prototype._getUse=a(function(t,r){let n=this._baseState;return n.useDecoder=this._use(t,r),Hs(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");ii.prototype._decodeChoice=a(function(t,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(o){let u=t.save(),l=n.choice[o];try{let f=l._decode(t,r);if(t.isError(f))return!1;i={type:o,value:f},s=!0}catch{return t.restore(u),!1}return!0},this),s?i:t.error("Choice not matched")},"decodeChoice");ii.prototype._createEncoderBuffer=a(function(t){return new fje(t,this.reporter)},"createEncoderBuffer");ii.prototype._encode=a(function(t,r,n){let i=this._baseState;if(i.default!==null&&i.default===t)return;let s=this._encodeValue(t,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");ii.prototype._encodeValue=a(function(t,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,r||new lje);let s=null;if(this.reporter=r,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let o=null,u=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,r);else if(i.contains)o=this._getUse(i.contains,n)._encode(t,r),u=!0;else if(i.children)o=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,t);if(l._baseState.key===null)return r.error("Child should have a key");let f=r.enterKey(l._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");let h=l._encode(t[l._baseState.key],r,t);return r.leaveKey(f),h},this).filter(function(l){return l}),o=this._createEncoderBuffer(o);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,o=this._createEncoderBuffer(t.map(function(f){let h=this._baseState;return this._getUse(h.args[0],t)._encode(f,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(t,r):(o=this._encodePrimitive(i.tag,t),u=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,f=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,u,f,o))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");ii.prototype._encodeChoice=a(function(t,r){let n=this._baseState,i=n.choice[t.type];return i||Hs(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,r)},"encodeChoice");ii.prototype._encodePrimitive=a(function(t,r){let n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)},"encodePrimitive");ii.prototype._isNumstr=a(function(t){return/^[0-9 ]*$/.test(t)},"isNumstr");ii.prototype._isPrintstr=a(function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)},"isPrintstr")});var m8=j($p=>{"use strict";d();function Jie(e){let t={};return Object.keys(e).forEach(function(r){(r|0)==r&&(r=r|0);let n=e[r];t[n]=r}),t}a(Jie,"reverse");$p.tagClass={0:"universal",1:"application",2:"context",3:"private"};$p.tagClassByName=Jie($p.tagClass);$p.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};$p.tagByName=Jie($p.tag)});var kD=j((jrr,tae)=>{"use strict";d();var yje=kr(),Qf=d8().Buffer,Zie=y8(),SD=m8();function eae(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new mu,this.tree._init(e.body)}a(eae,"DEREncoder");tae.exports=eae;eae.prototype.encode=a(function(t,r){return this.tree._encode(t,r).join()},"encode");function mu(e){Zie.call(this,"der",e)}a(mu,"DERNode");yje(mu,Zie);mu.prototype._encodeComposite=a(function(t,r,n,i){let s=mje(t,r,n,this.reporter);if(i.length<128){let l=Qf.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let o=1;for(let l=i.length;l>=256;l>>=8)o++;let u=Qf.alloc(1+1+o);u[0]=s,u[1]=128|o;for(let l=1+o,f=i.length;f>0;l--,f>>=8)u[l]=f&255;return this._createEncoderBuffer([u,i])},"encodeComposite");mu.prototype._encodeStr=a(function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){let n=Qf.alloc(t.length*2);for(let i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");mu.prototype._encodeObjid=a(function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let u=0;u<t.length;u++)t[u]|=0}else if(Array.isArray(t)){t=t.slice();for(let u=0;u<t.length;u++)t[u]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let u=0;u<t.length;u++){let l=t[u];for(i++;l>=128;l>>=7)i++}let s=Qf.alloc(i),o=s.length-1;for(let u=t.length-1;u>=0;u--){let l=t[u];for(s[o--]=l&127;(l>>=7)>0;)s[o--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function Oc(e){return e<10?"0"+e:e}a(Oc,"two");mu.prototype._encodeTime=a(function(t,r){let n,i=new Date(t);return r==="gentime"?n=[Oc(i.getUTCFullYear()),Oc(i.getUTCMonth()+1),Oc(i.getUTCDate()),Oc(i.getUTCHours()),Oc(i.getUTCMinutes()),Oc(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Oc(i.getUTCFullYear()%100),Oc(i.getUTCMonth()+1),Oc(i.getUTCDate()),Oc(i.getUTCHours()),Oc(i.getUTCMinutes()),Oc(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");mu.prototype._encodeNull=a(function(){return this._createEncoderBuffer("")},"encodeNull");mu.prototype._encodeInt=a(function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=r[t]}if(typeof t!="number"&&!Qf.isBuffer(t)){let s=t.toArray();!t.sign&&s[0]&128&&s.unshift(0),t=Qf.from(s)}if(Qf.isBuffer(t)){let s=t.length;t.length===0&&s++;let o=Qf.alloc(s);return t.copy(o),t.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let s=t;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Qf.from(i))},"encodeInt");mu.prototype._encodeBool=a(function(t){return this._createEncoderBuffer(t?255:0)},"encodeBool");mu.prototype._use=a(function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree},"use");mu.prototype._skipDefault=a(function(t,r,n){let i=this._baseState,s;if(i.default===null)return!1;let o=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),o.length!==i.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function mje(e,t,r,n){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),SD.tagByName.hasOwnProperty(e))i=SD.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return n.error("Unknown tag: "+e);return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=SD.tagClassByName[r||"universal"]<<6,i)}a(mje,"encodeTag")});var nae=j(($rr,rae)=>{"use strict";d();var bje=kr(),CD=kD();function ID(e){CD.call(this,e),this.enc="pem"}a(ID,"PEMEncoder");bje(ID,CD);rae.exports=ID;ID.prototype.encode=a(function(t,r){let i=CD.prototype.encode.call(this,t).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<i.length;o+=64)s.push(i.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var TD=j(aae=>{"use strict";d();var iae=aae;iae.der=kD();iae.pem=nae()});var BD=j((tnr,fae)=>{"use strict";d();var vje=kr(),_je=Qi(),sae=nm().DecoderBuffer,cae=y8(),oae=m8();function uae(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new zo,this.tree._init(e.body)}a(uae,"DERDecoder");fae.exports=uae;uae.prototype.decode=a(function(t,r){return sae.isDecoderBuffer(t)||(t=new sae(t,r)),this.tree._decode(t,r)},"decode");function zo(e){cae.call(this,"der",e)}a(zo,"DERNode");vje(zo,cae);zo.prototype._peekTag=a(function(t,r,n){if(t.isEmpty())return!1;let i=t.save(),s=MD(t,'Failed to peek tag: "'+r+'"');return t.isError(s)?s:(t.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");zo.prototype._decodeTag=a(function(t,r,n){let i=MD(t,'Failed to decode tag of "'+r+'"');if(t.isError(i))return i;let s=lae(t,i.primitive,'Failed to get length of "'+r+'"');if(t.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return t.skip(s,'Failed to match body of: "'+r+'"');let o=t.save(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:(s=t.offset-o.offset,t.restore(o),t.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");zo.prototype._skipUntilEnd=a(function(t,r){for(;;){let n=MD(t,r);if(t.isError(n))return n;let i=lae(t,n.primitive,r);if(t.isError(i))return i;let s;if(n.primitive||i!==null?s=t.skip(i):s=this._skipUntilEnd(t,r),t.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");zo.prototype._decodeList=a(function(t,r,n,i){let s=[];for(;!t.isEmpty();){let o=this._peekTag(t,"end");if(t.isError(o))return o;let u=n.decode(t,"der",i);if(t.isError(u)&&o)break;s.push(u)}return s},"decodeList");zo.prototype._decodeStr=a(function(t,r){if(r==="bitstr"){let n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){let n=t.raw();if(n.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){let n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");zo.prototype._decodeObjid=a(function(t,r,n){let i,s=[],o=0,u=0;for(;!t.isEmpty();)u=t.readUInt8(),o<<=7,o|=u&127,(u&128)===0&&(s.push(o),o=0);u&128&&s.push(o);let l=s[0]/40|0,f=s[0]%40;if(n?i=s:i=[l,f].concat(s.slice(1)),r){let h=r[i.join(" ")];h===void 0&&(h=r[i.join(".")]),h!==void 0&&(i=h)}return i},"decodeObjid");zo.prototype._decodeTime=a(function(t,r){let n=t.raw().toString(),i,s,o,u,l,f;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,o=n.slice(6,8)|0,u=n.slice(8,10)|0,l=n.slice(10,12)|0,f=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,o=n.slice(4,6)|0,u=n.slice(6,8)|0,l=n.slice(8,10)|0,f=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,o,u,l,f,0)},"decodeTime");zo.prototype._decodeNull=a(function(){return null},"decodeNull");zo.prototype._decodeBool=a(function(t){let r=t.readUInt8();return t.isError(r)?r:r!==0},"decodeBool");zo.prototype._decodeInt=a(function(t,r){let n=t.raw(),i=new _je(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");zo.prototype._use=a(function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree},"use");function MD(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;let n=oae.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=oae.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}a(MD,"derDecodeTag");function lae(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if((n&128)===0)return n;let i=n&127;if(i>4)return e.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}a(lae,"derDecodeLen")});var dae=j((inr,hae)=>{"use strict";d();var xje=kr(),wje=d8().Buffer,RD=BD();function LD(e){RD.call(this,e),this.enc="pem"}a(LD,"PEMDecoder");xje(LD,RD);hae.exports=LD;LD.prototype.decode=a(function(t,r){let n=t.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,u=-1;for(let h=0;h<n.length;h++){let p=n[h].match(s);if(p!==null&&p[2]===i)if(o===-1){if(p[1]!=="BEGIN")break;o=h}else{if(p[1]!=="END")break;u=h;break}}if(o===-1||u===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(o+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let f=wje.from(l,"base64");return RD.prototype.decode.call(this,f,r)},"decode")});var DD=j(gae=>{"use strict";d();var pae=gae;pae.der=BD();pae.pem=dae()});var mae=j(yae=>{"use strict";d();var Aje=TD(),Eje=DD(),Sje=kr(),kje=yae;kje.define=a(function(t,r){return new im(t,r)},"define");function im(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}a(im,"Entity");im.prototype._createNamed=a(function(t){let r=this.name;function n(i){this._initNamed(i,r)}return a(n,"Generated"),Sje(n,t),n.prototype._initNamed=a(function(s,o){t.call(this,s,o)},"_initNamed"),new n(this)},"createNamed");im.prototype._getDecoder=a(function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(Eje[t])),this.decoders[t]},"_getDecoder");im.prototype.decode=a(function(t,r,n){return this._getDecoder(r).decode(t,n)},"decode");im.prototype._getEncoder=a(function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(Aje[t])),this.encoders[t]},"_getEncoder");im.prototype.encode=a(function(t,r,n){return this._getEncoder(r).encode(t,n)},"encode")});var vae=j(bae=>{"use strict";d();var b8=bae;b8.Reporter=p8().Reporter;b8.DecoderBuffer=nm().DecoderBuffer;b8.EncoderBuffer=nm().EncoderBuffer;b8.Node=y8()});var wae=j(xae=>{"use strict";d();var _ae=xae;_ae._reverse=a(function(t){let r={};return Object.keys(t).forEach(function(n){(n|0)==n&&(n=n|0);let i=t[n];r[i]=n}),r},"reverse");_ae.der=m8()});var ND=j(Aae=>{"use strict";d();var am=Aae;am.bignum=Qi();am.define=mae().define;am.base=vae();am.constants=wae();am.decoders=DD();am.encoders=TD()});var Cae=j((vnr,kae)=>{"use strict";d();var bu=ND(),Eae=bu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Cje=bu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),OD=bu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Ije=bu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(OD),this.key("subjectPublicKey").bitstr())}),Tje=bu.define("RelativeDistinguishedName",function(){this.setof(Cje)}),Mje=bu.define("RDNSequence",function(){this.seqof(Tje)}),Sae=bu.define("Name",function(){this.choice({rdnSequence:this.use(Mje)})}),Bje=bu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Eae),this.key("notAfter").use(Eae))}),Rje=bu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Lje=bu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(OD),this.key("issuer").use(Sae),this.key("validity").use(Bje),this.key("subject").use(Sae),this.key("subjectPublicKeyInfo").use(Ije),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Rje).optional())}),Dje=bu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Lje),this.key("signatureAlgorithm").use(OD),this.key("signatureValue").bitstr())});kae.exports=Dje});var Tae=j(_u=>{"use strict";d();var vu=ND();_u.certificate=Cae();var Nje=vu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});_u.RSAPrivateKey=Nje;var Oje=vu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});_u.RSAPublicKey=Oje;var qje=vu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Iae),this.key("subjectPublicKey").bitstr())});_u.PublicKey=qje;var Iae=vu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Pje=vu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Iae),this.key("subjectPrivateKey").octstr())});_u.PrivateKey=Pje;var Fje=vu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});_u.EncryptedPrivateKey=Fje;var Uje=vu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});_u.DSAPrivateKey=Uje;_u.DSAparam=vu.define("DSAparam",function(){this.int()});var Yje=vu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Hje),this.key("publicKey").optional().explicit(1).bitstr())});_u.ECPrivateKey=Yje;var Hje=vu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});_u.signature=vu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Mae=j((Anr,zje)=>{zje.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Rae=j((Enr,Bae)=>{d();var Qje=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Wje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Vje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,jje=L_(),Gje=QA(),v8=nn().Buffer;Bae.exports=function(e,t){var r=e.toString(),n=r.match(Qje),i;if(n){var o="aes"+n[1],u=v8.from(n[2],"hex"),l=v8.from(n[3].replace(/[\r\n]/g,""),"base64"),f=jje(t,u.slice(0,8),parseInt(n[1],10)).key,h=[],p=Gje.createDecipheriv(o,f,u);h.push(p.update(l)),h.push(p.final()),i=v8.concat(h)}else{var s=r.match(Vje);i=v8.from(s[2].replace(/[\r\n]/g,""),"base64")}var g=r.match(Wje)[1];return{tag:g,data:i}}});var Y_=j((knr,Dae)=>{d();var _o=Tae(),Kje=Mae(),$je=Rae(),Xje=QA(),Jje=CL(),qD=nn().Buffer;Dae.exports=Lae;function Lae(e){var t;typeof e=="object"&&!qD.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=qD.from(e));var r=$je(e,t),n=r.tag,i=r.data,s,o;switch(n){case"CERTIFICATE":o=_o.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=_o.PublicKey.decode(i,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return _o.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=_o.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=_o.EncryptedPrivateKey.decode(i,"der"),i=Zje(i,t);case"PRIVATE KEY":switch(o=_o.PrivateKey.decode(i,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return _o.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:_o.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=_o.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return _o.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return _o.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_o.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=_o.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}a(Lae,"parseKeys");Lae.signature=_o.signature;function Zje(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=Kje[e.algorithm.decrypt.cipher.algo.join(".")],s=e.algorithm.decrypt.cipher.iv,o=e.subjectPrivateKey,u=parseInt(i.split("-")[1],10)/8,l=Jje.pbkdf2Sync(t,r,n,u,"sha1"),f=Xje.createDecipheriv(i,l,s),h=[];return h.push(f.update(o)),h.push(f.final()),qD.concat(h)}a(Zje,"decrypt")});var PD=j((Tnr,eGe)=>{eGe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var qae=j((Mnr,x8)=>{d();var Ss=nn().Buffer,Xp=mL(),tGe=GA(),rGe=f8().ec,_8=Qi(),nGe=Y_(),iGe=PD();function aGe(e,t,r,n,i){var s=nGe(t);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return sGe(e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return oGe(e,s,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");e=Ss.concat([i,e]);for(var o=s.modulus.byteLength(),u=[0,1];e.length+u.length+1<o;)u.push(255);u.push(0);for(var l=-1;++l<e.length;)u.push(e[l]);var f=tGe(u,s);return f}a(aGe,"sign");function sGe(e,t){var r=iGe[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var n=new rGe(r),i=n.keyFromPrivate(t.privateKey),s=i.sign(e);return Ss.from(s.toDER())}a(sGe,"ecSign");function oGe(e,t,r){for(var n=t.params.priv_key,i=t.params.p,s=t.params.q,o=t.params.g,u=new _8(0),l,f=FD(e,s).mod(s),h=!1,p=Nae(n,s,e,r);h===!1;)l=Oae(s,p,r),u=lGe(o,l,i,s),h=l.invm(s).imul(f.add(n.mul(u))).mod(s),h.cmpn(0)===0&&(h=!1,u=new _8(0));return cGe(u,h)}a(oGe,"dsaSign");function cGe(e,t){e=e.toArray(),t=t.toArray(),e[0]&128&&(e=[0].concat(e)),t[0]&128&&(t=[0].concat(t));var r=e.length+t.length+4,n=[48,r,2,e.length];return n=n.concat(e,[2,t.length],t),Ss.from(n)}a(cGe,"toDER");function Nae(e,t,r,n){if(e=Ss.from(e.toArray()),e.length<t.byteLength()){var i=Ss.alloc(t.byteLength()-e.length);e=Ss.concat([i,e])}var s=r.length,o=uGe(r,t),u=Ss.alloc(s);u.fill(1);var l=Ss.alloc(s);return l=Xp(n,l).update(u).update(Ss.from([0])).update(e).update(o).digest(),u=Xp(n,l).update(u).digest(),l=Xp(n,l).update(u).update(Ss.from([1])).update(e).update(o).digest(),u=Xp(n,l).update(u).digest(),{k:l,v:u}}a(Nae,"getKey");function FD(e,t){var r=new _8(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}a(FD,"bits2int");function uGe(e,t){e=FD(e,t),e=e.mod(t);var r=Ss.from(e.toArray());if(r.length<t.byteLength()){var n=Ss.alloc(t.byteLength()-r.length);r=Ss.concat([n,r])}return r}a(uGe,"bits2octets");function Oae(e,t,r){var n,i;do{for(n=Ss.alloc(0);n.length*8<e.bitLength();)t.v=Xp(r,t.k).update(t.v).digest(),n=Ss.concat([n,t.v]);i=FD(n,e),t.k=Xp(r,t.k).update(t.v).update(Ss.from([0])).digest(),t.v=Xp(r,t.k).update(t.v).digest()}while(i.cmp(e)!==-1);return i}a(Oae,"makeKey");function lGe(e,t,r,n){return e.toRed(_8.mont(r)).redPow(t).fromRed().mod(n)}a(lGe,"makeR");x8.exports=aGe;x8.exports.getKey=Nae;x8.exports.makeKey=Oae});var Yae=j((Lnr,Uae)=>{d();var UD=nn().Buffer,H_=Qi(),fGe=f8().ec,Fae=Y_(),hGe=PD();function dGe(e,t,r,n,i){var s=Fae(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return pGe(e,t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return gGe(e,t,s)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");t=UD.concat([i,t]);for(var o=s.modulus.byteLength(),u=[1],l=0;t.length+u.length+2<o;)u.push(255),l++;u.push(0);for(var f=-1;++f<t.length;)u.push(t[f]);u=UD.from(u);var h=H_.mont(s.modulus);e=new H_(e).toRed(h),e=e.redPow(new H_(s.publicExponent)),e=UD.from(e.fromRed().toArray());var p=l<8?1:0;for(o=Math.min(e.length,u.length),e.length!==u.length&&(p=1),f=-1;++f<o;)p|=e[f]^u[f];return p===0}a(dGe,"verify");function pGe(e,t,r){var n=hGe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new fGe(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}a(pGe,"ecVerify");function gGe(e,t,r){var n=r.data.p,i=r.data.q,s=r.data.g,o=r.data.pub_key,u=Fae.signature.decode(e,"der"),l=u.s,f=u.r;Pae(l,i),Pae(f,i);var h=H_.mont(n),p=l.invm(i),g=s.toRed(h).redPow(new H_(t).mul(p).mod(i)).fromRed().mul(o.toRed(h).redPow(f.mul(p).mod(i)).fromRed()).mod(n).mod(i);return g.cmp(f)===0}a(gGe,"dsaVerify");function Pae(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}a(Pae,"checkValue");Uae.exports=dGe});var jae=j((Onr,Vae)=>{d();var w8=nn().Buffer,Qae=Ly(),A8=Rp(),Wae=kr(),yGe=qae(),mGe=Yae(),Jp=bL();Object.keys(Jp).forEach(function(e){Jp[e].id=w8.from(Jp[e].id,"hex"),Jp[e.toLowerCase()]=Jp[e]});function z_(e){A8.Writable.call(this);var t=Jp[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=Qae(t.hash),this._tag=t.id,this._signType=t.sign}a(z_,"Sign");Wae(z_,A8.Writable);z_.prototype._write=a(function(t,r,n){this._hash.update(t),n()},"_write");z_.prototype.update=a(function(t,r){return typeof t=="string"&&(t=w8.from(t,r)),this._hash.update(t),this},"update");z_.prototype.sign=a(function(t,r){this.end();var n=this._hash.digest(),i=yGe(n,t,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function Q_(e){A8.Writable.call(this);var t=Jp[e];if(!t)throw new Error("Unknown message digest");this._hash=Qae(t.hash),this._tag=t.id,this._signType=t.sign}a(Q_,"Verify");Wae(Q_,A8.Writable);Q_.prototype._write=a(function(t,r,n){this._hash.update(t),n()},"_write");Q_.prototype.update=a(function(t,r){return typeof t=="string"&&(t=w8.from(t,r)),this._hash.update(t),this},"update");Q_.prototype.verify=a(function(t,r,n){typeof r=="string"&&(r=w8.from(r,n)),this.end();var i=this._hash.digest();return mGe(r,i,t,this._signType,this._tag)},"verifyMethod");function Hae(e){return new z_(e)}a(Hae,"createSign");function zae(e){return new Q_(e)}a(zae,"createVerify");Vae.exports={Sign:Hae,Verify:zae,createSign:Hae,createVerify:zae}});var Kae=j((Fnr,Gae)=>{d();var bGe=f8(),vGe=Qi();Gae.exports=a(function(t){return new Zp(t)},"createECDH");var Qo={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Qo.p224=Qo.secp224r1;Qo.p256=Qo.secp256r1=Qo.prime256v1;Qo.p192=Qo.secp192r1=Qo.prime192v1;Qo.p384=Qo.secp384r1;Qo.p521=Qo.secp521r1;function Zp(e){this.curveType=Qo[e],this.curveType||(this.curveType={name:e}),this.curve=new bGe.ec(this.curveType.name),this.keys=void 0}a(Zp,"ECDH");Zp.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)};Zp.prototype.computeSecret=function(e,t,r){t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t));var n=this.curve.keyFromPublic(e).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return YD(i,r,this.curveType.byteLength)};Zp.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic(t==="compressed",!0);return t==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),YD(r,e)};Zp.prototype.getPrivateKey=function(e){return YD(this.keys.getPrivate(),e)};Zp.prototype.setPublicKey=function(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this.keys._importPublic(e),this};Zp.prototype.setPrivateKey=function(e,t){t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t));var r=new vGe(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function YD(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new b.Buffer(e);if(r&&n.length<r){var i=new b.Buffer(r-n.length);i.fill(0),n=b.Buffer.concat([i,n])}return t?n.toString(t):n}a(YD,"formatReturnValue")});var zD=j((Hnr,$ae)=>{d();var _Ge=Ly(),HD=nn().Buffer;$ae.exports=function(e,t){for(var r=HD.alloc(0),n=0,i;r.length<t;)i=xGe(n++),r=HD.concat([r,_Ge("sha1").update(e).update(i).digest()]);return r.slice(0,t)};function xGe(e){var t=HD.allocUnsafe(4);return t.writeUInt32BE(e,0),t}a(xGe,"i2ops")});var QD=j((Wnr,Xae)=>{d();Xae.exports=a(function(t,r){for(var n=t.length,i=-1;++i<n;)t[i]^=r[i];return t},"xor")});var WD=j((Gnr,Zae)=>{d();var Jae=Qi(),wGe=nn().Buffer;function AGe(e,t){return wGe.from(e.toRed(Jae.mont(t.modulus)).redPow(new Jae(t.publicExponent)).fromRed().toArray())}a(AGe,"withPublic");Zae.exports=AGe});var nse=j((Xnr,rse)=>{d();var EGe=Y_(),VD=Mf(),SGe=Ly(),ese=zD(),tse=QD(),jD=Qi(),kGe=WD(),CGe=GA(),xu=nn().Buffer;rse.exports=a(function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var s=EGe(t),o;if(i===4)o=IGe(s,r);else if(i===1)o=TGe(s,r,n);else if(i===3){if(o=new jD(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?CGe(o,s):kGe(o,s)},"publicEncrypt");function IGe(e,t){var r=e.modulus.byteLength(),n=t.length,i=SGe("sha1").update(xu.alloc(0)).digest(),s=i.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var u=xu.alloc(r-n-o-2),l=r-s-1,f=VD(s),h=tse(xu.concat([i,u,xu.alloc(1,1),t],l),ese(f,l)),p=tse(f,ese(h,s));return new jD(xu.concat([xu.alloc(1),p,h],r))}a(IGe,"oaep");function TGe(e,t,r){var n=t.length,i=e.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=xu.alloc(i-n-3,255):s=MGe(i-n-3),new jD(xu.concat([xu.from([0,r?1:2]),s,xu.alloc(1),t],i))}a(TGe,"pkcs1");function MGe(e){for(var t=xu.allocUnsafe(e),r=0,n=VD(e*2),i=0,s;r<e;)i===n.length&&(n=VD(e*2),i=0),s=n[i++],s&&(t[r++]=s);return t}a(MGe,"nonZero")});var cse=j((eir,ose)=>{d();var BGe=Y_(),ise=zD(),ase=QD(),sse=Qi(),RGe=GA(),LGe=Ly(),DGe=WD(),W_=nn().Buffer;ose.exports=a(function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var s=BGe(t),o=s.modulus.byteLength();if(r.length>o||new sse(r).cmp(s.modulus)>=0)throw new Error("decryption error");var u;n?u=DGe(new sse(r),s):u=RGe(r,s);var l=W_.alloc(o-u.length);if(u=W_.concat([l,u],o),i===4)return NGe(s,u);if(i===1)return OGe(s,u,n);if(i===3)return u;throw new Error("unknown padding")},"privateDecrypt");function NGe(e,t){var r=e.modulus.byteLength(),n=LGe("sha1").update(W_.alloc(0)).digest(),i=n.length;if(t[0]!==0)throw new Error("decryption error");var s=t.slice(1,i+1),o=t.slice(i+1),u=ase(s,ise(o,i)),l=ase(o,ise(u,r-i-1));if(qGe(n,l.slice(0,i)))throw new Error("decryption error");for(var f=i;l[f]===0;)f++;if(l[f++]!==1)throw new Error("decryption error");return l.slice(f)}a(NGe,"oaep");function OGe(e,t,r){for(var n=t.slice(0,2),i=2,s=0;t[i++]!==0;)if(i>=t.length){s++;break}var o=t.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return t.slice(i)}a(OGe,"pkcs1");function qGe(e,t){e=W_.from(e),t=W_.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}a(qGe,"compare")});var use=j(e1=>{d();e1.publicEncrypt=nse();e1.privateDecrypt=cse();e1.privateEncrypt=a(function(t,r){return e1.publicEncrypt(t,r,!0)},"privateEncrypt");e1.publicDecrypt=a(function(t,r){return e1.privateDecrypt(t,r,!0)},"publicDecrypt")});var vse=j(V_=>{"use strict";d();function lse(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}a(lse,"oldBrowser");var hse=nn(),fse=Mf(),dse=hse.Buffer,pse=hse.kMaxLength,GD=w.crypto||w.msCrypto,gse=Math.pow(2,32)-1;function yse(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>gse||e<0)throw new TypeError("offset must be a uint32");if(e>pse||e>t)throw new RangeError("offset out of range")}a(yse,"assertOffset");function mse(e,t,r){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>gse||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>pse)throw new RangeError("buffer too small")}a(mse,"assertSize");GD&&GD.getRandomValues||!_.default.browser?(V_.randomFill=PGe,V_.randomFillSync=FGe):(V_.randomFill=lse,V_.randomFillSync=lse);function PGe(e,t,r,n){if(!dse.isBuffer(e)&&!(e instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")n=t,t=0,r=e.length;else if(typeof r=="function")n=r,r=e.length-t;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return yse(t,e.length),mse(r,t,e.length),bse(e,t,r,n)}a(PGe,"randomFill");function bse(e,t,r,n){if(_.default.browser){var i=e.buffer,s=new Uint8Array(i,t,r);if(GD.getRandomValues(s),n){_.default.nextTick(function(){n(null,e)});return}return e}if(n){fse(r,function(u,l){if(u)return n(u);l.copy(e,t),n(null,e)});return}var o=fse(r);return o.copy(e,t),e}a(bse,"actualFill");function FGe(e,t,r){if(typeof t>"u"&&(t=0),!dse.isBuffer(e)&&!(e instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return yse(t,e.length),r===void 0&&(r=e.length-t),mse(r,t,e.length),bse(e,t,r)}a(FGe,"randomFillSync")});var Ld=j(on=>{"use strict";d();on.randomBytes=on.rng=on.pseudoRandomBytes=on.prng=Mf();on.createHash=on.Hash=Ly();on.createHmac=on.Hmac=mL();var UGe=Ute(),YGe=Object.keys(UGe),HGe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(YGe);on.getHashes=function(){return HGe};var _se=CL();on.pbkdf2=_se.pbkdf2;on.pbkdf2Sync=_se.pbkdf2Sync;var wl=cne();on.Cipher=wl.Cipher;on.createCipher=wl.createCipher;on.Cipheriv=wl.Cipheriv;on.createCipheriv=wl.createCipheriv;on.Decipher=wl.Decipher;on.createDecipher=wl.createDecipher;on.Decipheriv=wl.Decipheriv;on.createDecipheriv=wl.createDecipheriv;on.getCiphers=wl.getCiphers;on.listCiphers=wl.listCiphers;var j_=xne();on.DiffieHellmanGroup=j_.DiffieHellmanGroup;on.createDiffieHellmanGroup=j_.createDiffieHellmanGroup;on.getDiffieHellman=j_.getDiffieHellman;on.createDiffieHellman=j_.createDiffieHellman;on.DiffieHellman=j_.DiffieHellman;var E8=jae();on.createSign=E8.createSign;on.Sign=E8.Sign;on.createVerify=E8.createVerify;on.Verify=E8.Verify;on.createECDH=Kae();var S8=use();on.publicEncrypt=S8.publicEncrypt;on.privateEncrypt=S8.privateEncrypt;on.publicDecrypt=S8.publicDecrypt;on.privateDecrypt=S8.privateDecrypt;var xse=vse();on.randomFill=xse.randomFill;on.randomFillSync=xse.randomFillSync;on.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};on.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var t1=j((fir,KD)=>{d();var zGe=jn(),wse=function(){var e=65536,t=globalThis.crypto||globalThis.msCrypto;function r(s,o){for(let u=0;u<o;u+=e)t.getRandomValues(new Uint8Array(s.buffer,u+s.byteOffset,Math.min(o-u,e)))}a(r,"browserBytes");function n(s,o){new Uint8Array(s.buffer,s.byteOffset,o).set(t.randomBytes(o))}a(n,"nodeBytes");function i(){throw new Error("No secure random number generator available")}return a(i,"noImpl"),t&&t.getRandomValues?r:Hi!=null&&(t=Ld(),t&&t.randomBytes)?n:i}();Object.defineProperty(KD.exports,"randombytes",{value:wse});KD.exports.randombytes_buf=function(e){zGe(e,"out must be given"),wse(e,e.byteLength)}});var Ase=j(()=>{d()});var $D=j((mir,Sse)=>{d();function QGe(e){return new Uint8Array(e)}a(QGe,"sodium_malloc");function WGe(e){Ese(e),VGe().port1.postMessage(e.buffer,[e.buffer])}a(WGe,"sodium_free");function Ese(e){e.fill(0)}a(Ese,"sodium_memzero");var k8;function VGe(){if(k8)return k8;var e=globalThis.MessageChannel;return e==null&&({MessageChannel:e}=Ase()),k8=new e,k8}a(VGe,"loadSink");Sse.exports={sodium_malloc:QGe,sodium_free:WGe,sodium_memzero:Ese}});var r1=j((_ir,XD)=>{d();XD.exports={crypto_verify_16:jGe,crypto_verify_32:GGe,crypto_verify_64:KGe};function C8(e,t,r,n,i){var s=0;for(let o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}a(C8,"vn");Object.defineProperty(XD.exports,"vn",{value:C8});function jGe(e,t,r,n){return C8(e,t,r,n,16)===0}a(jGe,"crypto_verify_16");function GGe(e,t,r,n){return C8(e,t,r,n,32)===0}a(GGe,"crypto_verify_32");function KGe(e,t,r,n){return C8(e,t,r,n,64)===0}a(KGe,"crypto_verify_64")});var JD=j((Air,kse)=>{d();var $Ge=jn(),{vn:XGe}=r1();function JGe(e){let t=e.byteLength;for(var r=1,n=0;n<t;n++)r+=e[n],e[n]=r,r>>=8}a(JGe,"sodium_increment");function ZGe(e,t){return $Ge(e.byteLength===t.byteLength,"buffers must be the same size"),XGe(e,0,t,0,e.byteLength)===0}a(ZGe,"sodium_memcmp");function eKe(e){var t=0;for(let r=0;r<e.length;r++)t|=e[r];return t===0}a(eKe,"sodium_is_zero");kse.exports={sodium_increment:JGe,sodium_memcmp:ZGe,sodium_is_zero:eKe}});var Tse=j((kir,Ise)=>{d();function Cse(e){return e.length}a(Cse,"byteLength");function tKe(e){let t=e.byteLength,r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}a(tKe,"toString");function rKe(e,t,r=0,n=Cse(t)){let i=Math.min(n,e.byteLength-r);for(let s=0;s<i;s++)e[r+s]=t.charCodeAt(s);return i}a(rKe,"write");Ise.exports={byteLength:Cse,toString:tKe,write:rKe}});var Rse=j((Tir,Bse)=>{d();var sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n1=new Uint8Array(256);for(let e=0;e<sm.length;e++)n1[sm.charCodeAt(e)]=e;n1[45]=62;n1[95]=63;function Mse(e){let t=e.length;return e.charCodeAt(t-1)===61&&t--,t>1&&e.charCodeAt(t-1)===61&&t--,t*3>>>2}a(Mse,"byteLength");function nKe(e){let t=e.byteLength,r="";for(let n=0;n<t;n+=3)r+=sm[e[n]>>2]+sm[(e[n]&3)<<4|e[n+1]>>4]+sm[(e[n+1]&15)<<2|e[n+2]>>6]+sm[e[n+2]&63];return t%3===2?r=r.substring(0,r.length-1)+"=":t%3===1&&(r=r.substring(0,r.length-2)+"=="),r}a(nKe,"toString");function iKe(e,t,r=0,n=Mse(t)){let i=Math.min(n,e.byteLength-r);for(let s=0,o=0;s<i;s+=4){let u=n1[t.charCodeAt(s)],l=n1[t.charCodeAt(s+1)],f=n1[t.charCodeAt(s+2)],h=n1[t.charCodeAt(s+3)];e[o++]=u<<2|l>>4,e[o++]=(l&15)<<4|f>>2,e[o++]=(f&3)<<6|h&63}return i}a(iKe,"write");Bse.exports={byteLength:Mse,toString:nKe,write:iKe}});var Ose=j((Rir,Nse)=>{d();function Dse(e){return e.length>>>1}a(Dse,"byteLength");function aKe(e){let t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r}a(aKe,"toString");function sKe(e,t,r=0,n=Dse(t)){let i=Math.min(n,e.byteLength-r);for(let s=0;s<i;s++){let o=Lse(t.charCodeAt(s*2)),u=Lse(t.charCodeAt(s*2+1));if(o===void 0||u===void 0)return e.subarray(0,s);e[r+s]=o<<4|u}return i}a(sKe,"write");Nse.exports={byteLength:Dse,toString:aKe,write:sKe};function Lse(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}a(Lse,"hexValue")});var Pse=j((Nir,qse)=>{d();function ZD(e){let t=0;for(let r=0,n=e.length;r<n;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){let s=e.charCodeAt(r+1);if(s>=56320&&s<=57343){t+=4,r++;continue}}i<=127?t+=1:i<=2047?t+=2:t+=3}return t}a(ZD,"byteLength");var eN;if(typeof TextDecoder<"u"){let e=new TextDecoder;eN=a(function(r){return e.decode(r)},"toString")}else eN=a(function(t){let r=t.byteLength,n="",i=0;for(;i<r;){let s=t[i];if(s<=127){n+=String.fromCharCode(s),i++;continue}let o=0,u=0;if(s<=223?(o=1,u=s&31):s<=239?(o=2,u=s&15):s<=244&&(o=3,u=s&7),r-i-o>0){let l=0;for(;l<o;)s=t[i+l+1],u=u<<6|s&63,l+=1}else u=65533,o=r-i;n+=String.fromCodePoint(u),i+=o+1}return n},"toString");var tN;if(typeof TextEncoder<"u"){let e=new TextEncoder;tN=a(function(r,n,i=0,s=ZD(n)){let o=Math.min(s,r.byteLength-i);return e.encodeInto(n,r.subarray(i,i+o)),o},"write")}else tN=a(function(t,r,n=0,i=ZD(r)){let s=Math.min(i,t.byteLength-n);t=t.subarray(n,n+s);let o=0,u=0;for(;o<r.length;){let l=r.codePointAt(o);if(l<=127){t[u++]=l,o++;continue}let f=0,h=0;for(l<=2047?(f=6,h=192):l<=65535?(f=12,h=224):l<=2097151&&(f=18,h=240),t[u++]=h|l>>f,f-=6;f>=0;)t[u++]=128|l>>f&63,f-=6;o+=l>=65536?2:1}return s},"write");qse.exports={byteLength:ZD,toString:eN,write:tN}});var Yse=j((Pir,Use)=>{d();function Fse(e){return e.length*2}a(Fse,"byteLength");function oKe(e){let t=e.byteLength,r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+e[n+1]*256);return r}a(oKe,"toString");function cKe(e,t,r=0,n=Fse(t)){let i=Math.min(n,e.byteLength-r),s=i;for(let o=0;o<t.length&&!((s-=2)<0);++o){let u=t.charCodeAt(o),l=u>>8,f=u%256;e[r+o*2]=f,e[r+o*2+1]=l}return i}a(cKe,"write");Use.exports={byteLength:Fse,toString:oKe,write:cKe}});var a1=j((nN,Wse)=>{d();var uKe=Tse(),lKe=Rse(),fKe=Ose(),hKe=Pse(),dKe=Yse(),I8=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function G_(e){switch(e){case"ascii":return uKe;case"base64":return lKe;case"hex":return fKe;case"utf8":case"utf-8":case void 0:return hKe;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dKe;default:throw new Error(`Unknown encoding: ${e}`)}}a(G_,"codecFor");function Hse(e){return e instanceof Uint8Array}a(Hse,"isBuffer");function pKe(e){try{return G_(e),!0}catch{return!1}}a(pKe,"isEncoding");function gKe(e,t,r){let n=new Uint8Array(e);return t!==void 0&&nN.fill(n,t,0,n.byteLength,r),n}a(gKe,"alloc");function yKe(e){return new Uint8Array(e)}a(yKe,"allocUnsafe");function mKe(e){return new Uint8Array(e)}a(mKe,"allocUnsafeSlow");function bKe(e,t){return G_(t).byteLength(e)}a(bKe,"byteLength");function vKe(e,t){if(e===t)return 0;let r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){let s=e.getUint32(n,I8),o=t.getUint32(n,I8);if(s!==o)break}for(;n<r;n++){let i=e.getUint8(n),s=t.getUint8(n);if(i<s)return-1;if(i>s)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}a(vKe,"compare");function _Ke(e,t){t===void 0&&(t=e.reduce((n,i)=>n+i.byteLength,0));let r=new Uint8Array(t);return e.reduce((n,i)=>(r.set(i,n),n+i.byteLength),0),r}a(_Ke,"concat");function xKe(e,t,r=0,n=0,i=e.byteLength){if(i>0&&i<n||i===n||e.byteLength===0||t.byteLength===0)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-r<i-n&&(i=t.length-r+n);let s=i-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),s}a(xKe,"copy");function wKe(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;let r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(e.getUint32(n,I8)!==t.getUint32(n,I8))return!1;for(;n<r;n++)if(e.getUint8(n)!==t.getUint8(n))return!1;return!0}a(wKe,"equals");function AKe(e,t,r,n,i){if(typeof t=="string"?typeof r=="string"?(i=r,r=0,n=e.byteLength):typeof n=="string"&&(i=n,n=e.byteLength):typeof val=="number"?t=t&255:typeof val=="boolean"&&(t=+t),r<0||e.byteLength<r||e.byteLength<n)throw new RangeError("Out of range index");if(r===void 0&&(r=0),n===void 0&&(n=e.byteLength),n<=r)return e;if(t||(t=0),typeof t=="number")for(let s=r;s<n;++s)e[s]=t;else{t=Hse(t)?t:rN(t,i);let s=t.byteLength;for(let o=0;o<n-r;++o)e[o+r]=t[o%s]}return e}a(AKe,"fill");function rN(e,t,r){return typeof e=="string"?EKe(e,t):Array.isArray(e)?SKe(e):ArrayBuffer.isView(e)?kKe(e):CKe(e,t,r)}a(rN,"from");function EKe(e,t){let r=G_(t),n=new Uint8Array(r.byteLength(e));return r.write(n,e,0,n.byteLength),n}a(EKe,"fromString");function SKe(e){let t=new Uint8Array(e.length);return t.set(e),t}a(SKe,"fromArray");function kKe(e){let t=new Uint8Array(e.byteLength);return t.set(e),t}a(kKe,"fromBuffer");function CKe(e,t,r){return new Uint8Array(e,t,r)}a(CKe,"fromArrayBuffer");function IKe(e,t,r,n){return Qse(e,t,r,n)!==-1}a(IKe,"includes");function zse(e,t,r,n,i){if(e.byteLength===0)return-1;if(typeof r=="string"?(n=r,r=0):r===void 0?r=i?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(i)return-1;r=e.byteLength-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string")t=rN(t,n);else if(typeof t=="number")return t=t&255,i?e.indexOf(t,r):e.lastIndexOf(t,r);if(t.byteLength===0)return-1;if(i){let s=-1;for(let o=r;o<e.byteLength;o++)if(e[o]===t[s===-1?0:o-s]){if(s===-1&&(s=o),o-s+1===t.byteLength)return s}else s!==-1&&(o-=o-s),s=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let s=r;s>=0;s--){let o=!0;for(let u=0;u<t.byteLength;u++)if(e[s+u]!==t[u]){o=!1;break}if(o)return s}}return-1}a(zse,"bidirectionalIndexOf");function Qse(e,t,r,n){return zse(e,t,r,n,!0)}a(Qse,"indexOf");function TKe(e,t,r,n){return zse(e,t,r,n,!1)}a(TKe,"lastIndexOf");function i1(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}a(i1,"swap");function MKe(e){let t=e.byteLength;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)i1(e,r,r+1);return e}a(MKe,"swap16");function BKe(e){let t=e.byteLength;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)i1(e,r,r+3),i1(e,r+1,r+2);return e}a(BKe,"swap32");function RKe(e){let t=e.byteLength;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)i1(e,r,r+7),i1(e,r+1,r+6),i1(e,r+2,r+5),i1(e,r+3,r+4);return e}a(RKe,"swap64");function LKe(e){return e}a(LKe,"toBuffer");function DKe(e,t,r=0,n=e.byteLength){let i=e.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(r!==0||n<i)&&(e=e.subarray(r,n)),G_(t).toString(e))}a(DKe,"toString");function NKe(e,t,r,n,i){return r===void 0?i="utf8":n===void 0&&typeof r=="string"?(i=r,r=void 0):i===void 0&&typeof n=="string"&&(i=n,n=void 0),G_(i).write(e,t,r,n)}a(NKe,"write");function OKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8}a(OKe,"writeDoubleLE");function qKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4}a(qKe,"writeFloatLE");function PKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4}a(PKe,"writeUInt32LE");function FKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4}a(FKe,"writeInt32LE");function UKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)}a(UKe,"readDoubleLE");function YKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)}a(YKe,"readFloatLE");function HKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)}a(HKe,"readUInt32LE");function zKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}a(zKe,"readInt32LE");Wse.exports=nN={isBuffer:Hse,isEncoding:pKe,alloc:gKe,allocUnsafe:yKe,allocUnsafeSlow:mKe,byteLength:bKe,compare:vKe,concat:_Ke,copy:xKe,equals:wKe,fill:AKe,from:rN,includes:IKe,indexOf:Qse,lastIndexOf:TKe,swap16:MKe,swap32:BKe,swap64:RKe,toBuffer:LKe,toString:DKe,write:NKe,writeDoubleLE:OKe,writeFloatLE:qKe,writeUInt32LE:PKe,writeInt32LE:FKe,readDoubleLE:UKe,readFloatLE:YKe,readUInt32LE:HKe,readInt32LE:zKe}});var Kse=j((zir,Gse)=>{d();var jse=jn(),M8=a1();Gse.exports=Wf;var T8=128,Vse=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Wf(){return this instanceof Wf?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new Wf}a(Wf,"Sha512");Wf.prototype.update=function(e,t){jse(this.finalised===!1,"Hash instance finalised");var[r,n]=QKe(e,t);this.bytesRead+=n;let i=n+this.pos&-128;this.buffer.set(r.subarray(0,T8-this.pos),this.pos);let s=this.pos;return n-=T8-this.pos,n>=0&&(B8(this.hh,this.hl,this.buffer,128),this.pos=0),n>127&&(B8(this.hh,this.hl,r.subarray(T8-s,i-s),i-T8),n%=128),this.buffer.set(r.subarray(r.byteLength-n)),this.pos=this.bytesRead&127,this.buffer.fill(0,this.pos),this};Wf.prototype.digest=function(e,t=0){if(jse(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(B8(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),iN(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),B8(this.hh,this.hl,this.buffer,128),e instanceof Uint8Array&&e.byteLength>63){for(let n=0;n<8;n++)iN(e,8*n+t,this.hh[n],this.hl[n]);return e}let r=new Uint8Array(64);for(let n=0;n<8;n++)iN(r,8*n,this.hh[n],this.hl[n]);return typeof e=="string"?M8.toString(r,e):r};function iN(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r&255,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=n&255}a(iN,"ts64");function QKe(e,t){var r=M8.from(e,t);return[r,r.byteLength]}a(QKe,"formatInput");function B8(e,t,r,n){for(var i=new Int32Array(16),s=new Int32Array(16),o,u,l,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S,T,k,R,x,N,m,v,A,U=e[0],G=e[1],K=e[2],Z=e[3],O=e[4],$=e[5],L=e[6],ee=e[7],ve=t[0],ye=t[1],se=t[2],be=t[3],Y=t[4],D=t[5],J=t[6],q=t[7],I=0;n>=128;){for(T=0;T<16;T++)k=8*T+I,i[T]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],s[T]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(T=0;T<80;T++)if(o=U,u=G,l=K,f=Z,h=O,p=$,g=L,y=ee,E=ve,M=ye,z=se,P=be,Q=Y,V=D,W=J,F=q,R=ee,x=q,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=(O>>>14|Y<<32-14)^(O>>>18|Y<<32-18)^(Y>>>41-32|O<<32-(41-32)),x=(Y>>>14|O<<32-14)^(Y>>>18|O<<32-18)^(O>>>41-32|Y<<32-(41-32)),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=O&$^~O&L,x=Y&D^~Y&J,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=Vse[T*2],x=Vse[T*2+1],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=i[T%16],x=s[T%16],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,B=v&65535|A<<16,S=N&65535|m<<16,R=B,x=S,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=(U>>>28|ve<<32-28)^(ve>>>34-32|U<<32-(34-32))^(ve>>>39-32|U<<32-(39-32)),x=(ve>>>28|U<<32-28)^(U>>>34-32|ve<<32-(34-32))^(U>>>39-32|ve<<32-(39-32)),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=U&G^U&K^G&K,x=ve&ye^ve&se^ye&se,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,y=v&65535|A<<16,F=N&65535|m<<16,R=f,x=P,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=B,x=S,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,f=v&65535|A<<16,P=N&65535|m<<16,G=o,K=u,Z=l,O=f,$=h,L=p,ee=g,U=y,ye=E,se=M,be=z,Y=P,D=Q,J=V,q=W,ve=F,T%16===15)for(k=0;k<16;k++)R=i[k],x=s[k],N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=i[(k+9)%16],x=s[(k+9)%16],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,B=i[(k+1)%16],S=s[(k+1)%16],R=(B>>>1|S<<32-1)^(B>>>8|S<<32-8)^B>>>7,x=(S>>>1|B<<32-1)^(S>>>8|B<<32-8)^(S>>>7|B<<32-7),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,B=i[(k+14)%16],S=s[(k+14)%16],R=(B>>>19|S<<32-19)^(S>>>61-32|B<<32-(61-32))^B>>>6,x=(S>>>19|B<<32-19)^(B>>>61-32|S<<32-(61-32))^(S>>>6|B<<32-6),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,i[k]=v&65535|A<<16,s[k]=N&65535|m<<16;R=U,x=ve,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[0],x=t[0],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[0]=U=v&65535|A<<16,t[0]=ve=N&65535|m<<16,R=G,x=ye,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[1],x=t[1],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[1]=G=v&65535|A<<16,t[1]=ye=N&65535|m<<16,R=K,x=se,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[2],x=t[2],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[2]=K=v&65535|A<<16,t[2]=se=N&65535|m<<16,R=Z,x=be,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[3],x=t[3],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[3]=Z=v&65535|A<<16,t[3]=be=N&65535|m<<16,R=O,x=Y,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[4],x=t[4],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[4]=O=v&65535|A<<16,t[4]=Y=N&65535|m<<16,R=$,x=D,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[5],x=t[5],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[5]=$=v&65535|A<<16,t[5]=D=N&65535|m<<16,R=L,x=J,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[6],x=t[6],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[6]=L=v&65535|A<<16,t[6]=J=N&65535|m<<16,R=ee,x=q,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[7],x=t[7],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[7]=ee=v&65535|A<<16,t[7]=q=N&65535|m<<16,I+=128,n-=128}}a(B8,"compress");function K_(e){if(!(this instanceof K_))return new K_(e);this.pad=M8.alloc(128),this.inner=Wf(),this.outer=Wf();let t=M8.alloc(64);e.byteLength>128&&(Wf().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(K_,"HMAC");K_.prototype.update=function(e,t){return this.inner.update(e,t),this};K_.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};Wf.HMAC=K_});var Xse=j((Vir,$se)=>{d();var WKe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),VKe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=u<<2|l>>4,i[o++]=l<<4|f>>2,i[o++]=f<<6|h}return i}})(),jKe=WKe({"wasm-binary:./sha512.wat"(e,t){t.exports=VKe("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}}),GKe=jKe(),KKe=new WebAssembly.Module(GKe);$se.exports=e=>new WebAssembly.Instance(KKe,e).exports});var Jse=j((Kir,oN)=>{d();var om=jn(),L8=a1(),Vf=typeof WebAssembly<"u"&&Xse()({imports:{debug:{log(...e){console.log(...e.map(t=>(t>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),Wo=0,R8=[];oN.exports=zs;var $Ke=oN.exports.SHA512_BYTES=64,sN=80,aN=216,$_=128;function zs(){if(!(this instanceof zs))return new zs;if(!Vf)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");R8.length||(R8.push(Wo),Wo+=aN),this.finalized=!1,this.digestLength=$Ke,this.pointer=R8.pop(),this.pos=0,this.wasm=Vf,this._memory=new Uint8Array(Vf.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+aN),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+aN)}a(zs,"Sha512");zs.prototype._realloc=function(e){Vf.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Vf.memory.buffer)};zs.prototype.update=function(e,t){om(this.finalized===!1,"Hash instance finalized"),Wo%8!==0&&(Wo+=8-Wo%8),om(Wo%8===0,"input should be aligned for int64");let[r,n]=JKe(e,t);return om(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),Wo+e.length>this._memory.length&&this._realloc(Wo+e.length),this._memory.fill(0,Wo,Wo+ZKe(n,$_)-$_),this._memory.set(r.subarray(0,$_-this.pos),this.pointer+sN+this.pos),this._memory.set(r.subarray($_-this.pos),Wo),this.pos=this.pos+n&127,Vf.sha512(this.pointer,Wo,n,0),this};zs.prototype.digest=function(e,t=0){om(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,R8.push(this.pointer);let r=this.pointer+sN+this.pos;this._memory.fill(0,r,this.pointer+sN+$_),Vf.sha512(this.pointer,Wo,0,1);let n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if(typeof e=="string")return L8.toString(n,e);om(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),om(e.byteLength>=this.digestLength+t,"output must have at least 'SHA512_BYTES' bytes remaining");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};zs.WASM=Vf;zs.WASM_SUPPORTED=typeof WebAssembly<"u";zs.ready=function(e){return e||(e=XKe),Vf?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))};zs.prototype.ready=zs.ready;function X_(e){if(!(this instanceof X_))return new X_(e);this.pad=L8.alloc(128),this.inner=zs(),this.outer=zs();let t=L8.alloc(64);e.byteLength>128&&(zs().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(X_,"HMAC");X_.prototype.update=function(e,t){return this.inner.update(e,t),this};X_.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};zs.HMAC=X_;function XKe(){}a(XKe,"noop");function JKe(e,t){var r=L8.from(e,t);return[r,r.byteLength]}a(JKe,"formatInput");function ZKe(e,t){return e+t-1&-t}a(ZKe,"roundUp")});var cN=j((Zir,Fd)=>{d();var e$e=Kse(),D8=Jse(),Zse=e$e;Fd.exports=function(){return new Zse};Fd.exports.ready=function(e){D8.ready(function(){e()})};Fd.exports.WASM_SUPPORTED=D8.SUPPORTED;Fd.exports.WASM_LOADED=!1;var Jir=Fd.exports.SHA512_BYTES=64;D8.ready(function(e){e||(Fd.exports.WASM_LOADED=!0,Fd.exports=Zse=D8)})});var roe=j((tar,toe)=>{d();var{crypto_verify_32:t$e}=r1(),eoe=cN(),N8=jn(),uN=32,lN=32;function r$e(e,t,r){N8(e.byteLength===uN,"out should be 'crypto_auth_BYTES' in length"),N8(r.byteLength===lN,"key should be 'crypto_auth_KEYBYTES' in length");let n=new Uint8Array(64),i=eoe.HMAC(r);i.update(t),i.digest(n),e.set(n.subarray(0,32))}a(r$e,"crypto_auth");function n$e(e,t,r){N8(e.byteLength===uN,"h should be 'crypto_auth_BYTES' in length"),N8(r.byteLength===lN,"key should be 'crypto_auth_KEYBYTES' in length");let n=eoe.HMAC(r).update(t).digest();return t$e(e,0,n,0)}a(n$e,"crypto_auth_verify");toe.exports={crypto_auth_BYTES:uN,crypto_auth_KEYBYTES:lN,crypto_auth:r$e,crypto_auth_verify:n$e}});var J_=j((iar,ioe)=>{d();var i$e=cN(),a$e=jn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var fN=64,s$e=fN;function noe(e,t,r){return a$e(e.byteLength===fN,"out must be 'crypto_hash_sha512_BYTES' bytes long"),i$e().update(t.subarray(0,r)).digest(e),0}a(noe,"crypto_hash_sha512");function o$e(e,t,r){return noe(e,t,r)}a(o$e,"crypto_hash");ioe.exports={crypto_hash:o$e,crypto_hash_sha512:noe,crypto_hash_sha512_BYTES:fN,crypto_hash_BYTES:s$e}});var pN=j((car,coe)=>{d();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var qc=a(function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},"gf"),oar=new Uint8Array(16),aoe=new Uint8Array(32);aoe[0]=9;var c$e=qc(),u$e=qc([1]),l$e=qc([56129,1]),f$e=qc([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h$e=qc([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d$e=qc([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p$e=qc([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g$e=qc([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y$e(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}a(y$e,"A");function m$e(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}a(m$e,"Z");function dN(e,t,r){var n,i,s=0,o=0,u=0,l=0,f=0,h=0,p=0,g=0,y=0,E=0,M=0,z=0,P=0,Q=0,V=0,W=0,F=0,B=0,S=0,T=0,k=0,R=0,x=0,N=0,m=0,v=0,A=0,U=0,G=0,K=0,Z=0,O=r[0],$=r[1],L=r[2],ee=r[3],ve=r[4],ye=r[5],se=r[6],be=r[7],Y=r[8],D=r[9],J=r[10],q=r[11],I=r[12],H=r[13],te=r[14],ie=r[15];n=t[0],s+=n*O,o+=n*$,u+=n*L,l+=n*ee,f+=n*ve,h+=n*ye,p+=n*se,g+=n*be,y+=n*Y,E+=n*D,M+=n*J,z+=n*q,P+=n*I,Q+=n*H,V+=n*te,W+=n*ie,n=t[1],o+=n*O,u+=n*$,l+=n*L,f+=n*ee,h+=n*ve,p+=n*ye,g+=n*se,y+=n*be,E+=n*Y,M+=n*D,z+=n*J,P+=n*q,Q+=n*I,V+=n*H,W+=n*te,F+=n*ie,n=t[2],u+=n*O,l+=n*$,f+=n*L,h+=n*ee,p+=n*ve,g+=n*ye,y+=n*se,E+=n*be,M+=n*Y,z+=n*D,P+=n*J,Q+=n*q,V+=n*I,W+=n*H,F+=n*te,B+=n*ie,n=t[3],l+=n*O,f+=n*$,h+=n*L,p+=n*ee,g+=n*ve,y+=n*ye,E+=n*se,M+=n*be,z+=n*Y,P+=n*D,Q+=n*J,V+=n*q,W+=n*I,F+=n*H,B+=n*te,S+=n*ie,n=t[4],f+=n*O,h+=n*$,p+=n*L,g+=n*ee,y+=n*ve,E+=n*ye,M+=n*se,z+=n*be,P+=n*Y,Q+=n*D,V+=n*J,W+=n*q,F+=n*I,B+=n*H,S+=n*te,T+=n*ie,n=t[5],h+=n*O,p+=n*$,g+=n*L,y+=n*ee,E+=n*ve,M+=n*ye,z+=n*se,P+=n*be,Q+=n*Y,V+=n*D,W+=n*J,F+=n*q,B+=n*I,S+=n*H,T+=n*te,k+=n*ie,n=t[6],p+=n*O,g+=n*$,y+=n*L,E+=n*ee,M+=n*ve,z+=n*ye,P+=n*se,Q+=n*be,V+=n*Y,W+=n*D,F+=n*J,B+=n*q,S+=n*I,T+=n*H,k+=n*te,R+=n*ie,n=t[7],g+=n*O,y+=n*$,E+=n*L,M+=n*ee,z+=n*ve,P+=n*ye,Q+=n*se,V+=n*be,W+=n*Y,F+=n*D,B+=n*J,S+=n*q,T+=n*I,k+=n*H,R+=n*te,x+=n*ie,n=t[8],y+=n*O,E+=n*$,M+=n*L,z+=n*ee,P+=n*ve,Q+=n*ye,V+=n*se,W+=n*be,F+=n*Y,B+=n*D,S+=n*J,T+=n*q,k+=n*I,R+=n*H,x+=n*te,N+=n*ie,n=t[9],E+=n*O,M+=n*$,z+=n*L,P+=n*ee,Q+=n*ve,V+=n*ye,W+=n*se,F+=n*be,B+=n*Y,S+=n*D,T+=n*J,k+=n*q,R+=n*I,x+=n*H,N+=n*te,m+=n*ie,n=t[10],M+=n*O,z+=n*$,P+=n*L,Q+=n*ee,V+=n*ve,W+=n*ye,F+=n*se,B+=n*be,S+=n*Y,T+=n*D,k+=n*J,R+=n*q,x+=n*I,N+=n*H,m+=n*te,v+=n*ie,n=t[11],z+=n*O,P+=n*$,Q+=n*L,V+=n*ee,W+=n*ve,F+=n*ye,B+=n*se,S+=n*be,T+=n*Y,k+=n*D,R+=n*J,x+=n*q,N+=n*I,m+=n*H,v+=n*te,A+=n*ie,n=t[12],P+=n*O,Q+=n*$,V+=n*L,W+=n*ee,F+=n*ve,B+=n*ye,S+=n*se,T+=n*be,k+=n*Y,R+=n*D,x+=n*J,N+=n*q,m+=n*I,v+=n*H,A+=n*te,U+=n*ie,n=t[13],Q+=n*O,V+=n*$,W+=n*L,F+=n*ee,B+=n*ve,S+=n*ye,T+=n*se,k+=n*be,R+=n*Y,x+=n*D,N+=n*J,m+=n*q,v+=n*I,A+=n*H,U+=n*te,G+=n*ie,n=t[14],V+=n*O,W+=n*$,F+=n*L,B+=n*ee,S+=n*ve,T+=n*ye,k+=n*se,R+=n*be,x+=n*Y,N+=n*D,m+=n*J,v+=n*q,A+=n*I,U+=n*H,G+=n*te,K+=n*ie,n=t[15],W+=n*O,F+=n*$,B+=n*L,S+=n*ee,T+=n*ve,k+=n*ye,R+=n*se,x+=n*be,N+=n*Y,m+=n*D,v+=n*J,A+=n*q,U+=n*I,G+=n*H,K+=n*te,Z+=n*ie,s+=38*F,o+=38*B,u+=38*S,l+=38*T,f+=38*k,h+=38*R,p+=38*x,g+=38*N,y+=38*m,E+=38*v,M+=38*A,z+=38*U,P+=38*G,Q+=38*K,V+=38*Z,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=u,e[3]=l,e[4]=f,e[5]=h,e[6]=p,e[7]=g,e[8]=y,e[9]=E,e[10]=M,e[11]=z,e[12]=P,e[13]=Q,e[14]=V,e[15]=W}a(dN,"M");function soe(e,t){dN(e,t,t)}a(soe,"S");function ooe(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}a(ooe,"sel25519");function b$e(e,t){var r,n,i,s=qc(),o=qc();for(r=0;r<16;r++)o[r]=t[r];for(hN(o),hN(o),hN(o),n=0;n<2;n++){for(s[0]=o[0]-65517,r=1;r<15;r++)s[r]=o[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,ooe(o,s,1-i)}for(r=0;r<16;r++)e[2*r]=o[r]&255,e[2*r+1]=o[r]>>8}a(b$e,"pack25519");function v$e(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}a(v$e,"unpack25519");function _$e(e,t){var r=qc(),n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)soe(r,r),n!==2&&n!==4&&dN(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}a(_$e,"inv25519");function hN(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}a(hN,"car25519");coe.exports={gf:qc,A:y$e,Z:m$e,M:dN,S:soe,sel25519:ooe,pack25519:b$e,unpack25519:v$e,inv25519:_$e,gf0:c$e,gf1:u$e,_9:aoe,_121665:l$e,D:f$e,D2:h$e,X:d$e,Y:p$e,I:g$e}});var Z_=j((far,foe)=>{d();var{_9:x$e,_121665:w$e,gf:cm,inv25519:A$e,pack25519:E$e,unpack25519:S$e,sel25519:O8,A:q8,M:s1,Z:P8,S:F8}=pN(),yN=32,uoe=32;foe.exports={crypto_scalarmult:loe,crypto_scalarmult_base:k$e,crypto_scalarmult_BYTES:yN,crypto_scalarmult_SCALARBYTES:uoe};function loe(e,t,r){gN(e,yN),gN(t,uoe),gN(r,yN);var n=new Uint8Array(32),i=new Float64Array(80),s,o,u=cm(),l=cm(),f=cm(),h=cm(),p=cm(),g=cm();for(o=0;o<31;o++)n[o]=t[o];for(n[31]=t[31]&127|64,n[0]&=248,S$e(i,r),o=0;o<16;o++)l[o]=i[o],h[o]=u[o]=f[o]=0;for(u[0]=h[0]=1,o=254;o>=0;--o)s=n[o>>>3]>>>(o&7)&1,O8(u,l,s),O8(f,h,s),q8(p,u,f),P8(u,u,f),q8(f,l,h),P8(l,l,h),F8(h,p),F8(g,u),s1(u,f,u),s1(f,l,p),q8(p,u,f),P8(u,u,f),F8(l,u),P8(f,h,g),s1(u,f,w$e),q8(u,u,h),s1(f,f,u),s1(u,h,g),s1(h,l,i),F8(l,p),O8(u,l,s),O8(f,h,s);for(o=0;o<16;o++)i[o+16]=u[o],i[o+32]=f[o],i[o+48]=l[o],i[o+64]=h[o];var y=i.subarray(32),E=i.subarray(16);return A$e(y,y),s1(E,E,y),E$e(e,E),0}a(loe,"crypto_scalarmult");function k$e(e,t){return loe(e,t,x$e)}a(k$e,"crypto_scalarmult_base");function gN(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}a(gN,"check")});var doe=j((par,hoe)=>{d();var C$e=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),I$e=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=u<<2|l>>4,i[o++]=l<<4|f>>2,i[o++]=f<<6|h}return i}})(),T$e=C$e({"wasm-binary:./blake2b.wat"(e,t){t.exports=I$e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),M$e=T$e(),B$e=WebAssembly.compile(M$e);hoe.exports=async e=>(await WebAssembly.instantiate(await B$e,e)).exports});var xoe=j((_ar,Al)=>{d();var Vo=jn(),R$e=a1(),Gf=null,poe=typeof WebAssembly<"u"&&doe()().then(e=>{Gf=e}),jf=64,U8=[];Al.exports=Qs;var goe=Al.exports.BYTES_MIN=16,yoe=Al.exports.BYTES_MAX=64,mar=Al.exports.BYTES=32,moe=Al.exports.KEYBYTES_MIN=16,boe=Al.exports.KEYBYTES_MAX=64,bar=Al.exports.KEYBYTES=32,voe=Al.exports.SALTBYTES=16,_oe=Al.exports.PERSONALBYTES=16;function Qs(e,t,r,n,i){if(!(this instanceof Qs))return new Qs(e,t,r,n,i);if(!Gf)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),i!==!0&&(Vo(e>=goe,"digestLength must be at least "+goe+", was given "+e),Vo(e<=yoe,"digestLength must be at most "+yoe+", was given "+e),t!=null&&(Vo(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),Vo(t.length>=moe,"key must be at least "+moe+", was given "+t.length),Vo(t.length<=boe,"key must be at least "+boe+", was given "+t.length)),r!=null&&(Vo(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Vo(r.length===voe,"salt must be exactly "+voe+", was given "+r.length)),n!=null&&(Vo(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Vo(n.length===_oe,"personal must be exactly "+_oe+", was given "+n.length))),U8.length||(U8.push(jf),jf+=216),this.digestLength=e,this.finalized=!1,this.pointer=U8.pop(),this._memory=new Uint8Array(Gf.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Gf.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,jf,jf+t.length),this._memory[this.pointer+200]=128)}a(Qs,"Blake2b");Qs.prototype._realloc=function(e){Gf.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Gf.memory.buffer)};Qs.prototype.update=function(e){return Vo(this.finalized===!1,"Hash instance finalized"),Vo(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),jf+e.length>this._memory.length&&this._realloc(jf+e.length),this._memory.set(e,jf),Gf.blake2b_update(this.pointer,jf,jf+e.length),this};Qs.prototype.digest=function(e){if(Vo(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,U8.push(this.pointer),Gf.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return R$e.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);Vo(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e};Qs.prototype.final=Qs.prototype.digest;Qs.WASM=Gf;Qs.SUPPORTED=typeof WebAssembly<"u";Qs.ready=function(e){return e||(e=L$e),poe?poe.then(()=>e(),e):e(new Error("WebAssembly not supported"))};Qs.prototype.ready=Qs.ready;Qs.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Qs.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function L$e(){}a(L$e,"noop")});var mN=j((Sar,Ws)=>{d();var Pc=jn(),tx=xoe();function Y8(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}a(Y8,"ADD64AA");function woe(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}a(woe,"ADD64AC");function Toe(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}a(Toe,"B2B_GET32");function Ud(e,t,r,n,i,s){var o=ex[i],u=ex[i+1],l=ex[s],f=ex[s+1];Y8(tn,e,t),woe(tn,e,o,u);var h=tn[n]^tn[e],p=tn[n+1]^tn[e+1];tn[n]=p,tn[n+1]=h,Y8(tn,r,n),h=tn[t]^tn[r],p=tn[t+1]^tn[r+1],tn[t]=h>>>24^p<<8,tn[t+1]=p>>>24^h<<8,Y8(tn,e,t),woe(tn,e,l,f),h=tn[n]^tn[e],p=tn[n+1]^tn[e+1],tn[n]=h>>>16^p<<16,tn[n+1]=p>>>16^h<<16,Y8(tn,r,n),h=tn[t]^tn[r],p=tn[t+1]^tn[r+1],tn[t]=p>>>31^h<<1,tn[t+1]=h>>>31^p<<1}a(Ud,"B2B_G");var Moe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),D$e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ks=new Uint8Array(D$e.map(function(e){return e*2})),tn=new Uint32Array(32),ex=new Uint32Array(32);function Boe(e,t){var r=0;for(r=0;r<16;r++)tn[r]=e.h[r],tn[r+16]=Moe[r];for(tn[24]=tn[24]^e.t,tn[25]=tn[25]^e.t/4294967296,t&&(tn[28]=~tn[28],tn[29]=~tn[29]),r=0;r<32;r++)ex[r]=Toe(e.b,4*r);for(r=0;r<12;r++)Ud(0,8,16,24,ks[r*16+0],ks[r*16+1]),Ud(2,10,18,26,ks[r*16+2],ks[r*16+3]),Ud(4,12,20,28,ks[r*16+4],ks[r*16+5]),Ud(6,14,22,30,ks[r*16+6],ks[r*16+7]),Ud(0,10,20,30,ks[r*16+8],ks[r*16+9]),Ud(2,12,22,24,ks[r*16+10],ks[r*16+11]),Ud(4,14,16,26,ks[r*16+12],ks[r*16+13]),Ud(6,8,18,28,ks[r*16+14],ks[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^tn[r]^tn[r+16]}a(Boe,"blake2bCompress");var Yd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function um(e,t,r,n){Yd.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,Yd[0]=e,t&&(Yd[1]=t.length),Yd[2]=1,Yd[3]=1,r&&Yd.set(r,32),n&&Yd.set(n,48);for(var i=0;i<16;i++)this.h[i]=Moe[i]^Toe(Yd,i*4);t&&(Roe(this,t),this.c=128)}a(um,"Blake2b");um.prototype.update=function(e){return Pc(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),Roe(this,e),this};um.prototype.digest=function(e){var t=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return Pc(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Pc(t.length>=this.outlen,"out must have at least outlen bytes of space"),N$e(this,t),e==="hex"?O$e(t):t};um.prototype.final=um.prototype.digest;um.ready=function(e){tx.ready(function(){e()})};function Roe(e,t){for(var r=0;r<t.length;r++)e.c===128&&(e.t+=e.c,Boe(e,!1),e.c=0),e.b[e.c++]=t[r]}a(Roe,"blake2bUpdate");function N$e(e,t){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Boe(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3);return t}a(N$e,"blake2bFinal");function O$e(e){for(var t="",r=0;r<e.length;r++)t+=q$e(e[r]);return t}a(O$e,"hexSlice");function q$e(e){return e<16?"0"+e.toString(16):e.toString(16)}a(q$e,"toHex");var P$e=um;Ws.exports=a(function(t,r,n,i,s){return s!==!0&&(Pc(t>=Aoe,"outlen must be at least "+Aoe+", was given "+t),Pc(t<=Eoe,"outlen must be at most "+Eoe+", was given "+t),r!=null&&(Pc(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),Pc(r.length>=Soe,"key must be at least "+Soe+", was given "+r.length),Pc(r.length<=koe,"key must be at most "+koe+", was given "+r.length)),n!=null&&(Pc(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Pc(n.length===Coe,"salt must be exactly "+Coe+", was given "+n.length)),i!=null&&(Pc(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Pc(i.length===Ioe,"personal must be exactly "+Ioe+", was given "+i.length))),new P$e(t,r,n,i)},"createHash");Ws.exports.ready=function(e){tx.ready(function(){e()})};Ws.exports.WASM_SUPPORTED=tx.SUPPORTED;Ws.exports.WASM_LOADED=!1;var Aoe=Ws.exports.BYTES_MIN=16,Eoe=Ws.exports.BYTES_MAX=64,Aar=Ws.exports.BYTES=32,Soe=Ws.exports.KEYBYTES_MIN=16,koe=Ws.exports.KEYBYTES_MAX=64,Ear=Ws.exports.KEYBYTES=32,Coe=Ws.exports.SALTBYTES=16,Ioe=Ws.exports.PERSONALBYTES=16;tx.ready(function(e){e||(Ws.exports.WASM_LOADED=!0,Ws.exports=tx)})});var H8=j((Iar,Cs)=>{d();var jo=mN();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Cs.exports.crypto_generichash_PRIMITIVE="blake2b";Cs.exports.crypto_generichash_BYTES_MIN=jo.BYTES_MIN;Cs.exports.crypto_generichash_BYTES_MAX=jo.BYTES_MAX;Cs.exports.crypto_generichash_BYTES=jo.BYTES;Cs.exports.crypto_generichash_KEYBYTES_MIN=jo.KEYBYTES_MIN;Cs.exports.crypto_generichash_KEYBYTES_MAX=jo.KEYBYTES_MAX;Cs.exports.crypto_generichash_KEYBYTES=jo.KEYBYTES;Cs.exports.crypto_generichash_WASM_SUPPORTED=jo.WASM_SUPPORTED;Cs.exports.crypto_generichash_WASM_LOADED=!1;Cs.exports.crypto_generichash=function(e,t,r){jo(e.length,r).update(t).final(e)};Cs.exports.crypto_generichash_ready=jo.ready;Cs.exports.crypto_generichash_batch=function(e,t,r){for(var n=jo(e.length,r),i=0;i<t.length;i++)n.update(t[i]);n.final(e)};Cs.exports.crypto_generichash_instance=function(e,t){return t==null&&(t=Cs.exports.crypto_generichash_BYTES),jo(t,e)};jo.ready(function(e){Cs.exports.crypto_generichash_WASM_LOADED=jo.WASM_LOADED})});var Doe=j((Mar,Loe)=>{d();var F$e=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),U$e=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=u<<2|l>>4,i[o++]=l<<4|f>>2,i[o++]=f<<6|h}return i}})(),Y$e=F$e({"wasm-binary:./xsalsa20.wat"(e,t){t.exports=U$e("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}}),H$e=Y$e(),z$e=new WebAssembly.Module(H$e);Loe.exports=e=>new WebAssembly.Instance(z$e,e).exports});var V8=j((Lar,qoe)=>{d();var rx=typeof WebAssembly<"u"&&Doe()(),Q8=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),El=144,lm=El,z8=[];qoe.exports=Sl;Sl.NONCEBYTES=24;Sl.KEYBYTES=32;Sl.core_hsalsa20=Ooe;Sl.SIGMA=Q8;function Sl(e,t){if(!(this instanceof Sl))return new Sl(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=rx?new W8(e,t):new bN(e,t)}a(Sl,"XSalsa20");Sl.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t};Sl.prototype.final=Sl.prototype.finalize=function(){this._xor.finalize(),this._xor=null};function W8(e,t){z8.length||(z8.push(El),El+=64),this._pointer=z8.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(rx.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}a(W8,"WASM");W8.prototype.realloc=function(e){rx.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(rx.memory.buffer)};W8.prototype.update=function(e,t){var r=this._overflow+e.length,n=El+this._overflow;lm=El+r,lm>=this._memory.length&&this.realloc(lm),this._memory.set(e,n),rx.xsalsa20_xor(this._pointer,El,El,r,this._nonce,this._key),t.set(this._memory.subarray(n,El+r)),this._overflow=r&63};W8.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),lm>El&&(this._memory.fill(0,El,lm),lm=0),z8.push(this._pointer)};function bN(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,Ooe(this._s,e,t,Q8);for(var r=0;r<8;r++)this._z[r]=e[r+16]}a(bN,"Fallback");bN.prototype.update=function(e,t){for(var r=new Uint8Array(64),n=0,i=this._overflow,s=e.length+this._overflow,o=this._z,u=-this._overflow,l=-this._overflow;s>=64;){for(Noe(r,o,this._s,Q8);i<64;i++)t[l+i]=e[u+i]^r[i];for(n=1,i=8;i<16;i++)n+=o[i]&255|0,o[i]=n&255,n>>>=8;s-=64,l+=64,u+=64,i=0}if(s>0)for(Noe(r,o,this._s,Q8);i<s;i++)t[l+i]=e[u+i]^r[i];this._overflow=s&63};bN.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function Noe(e,t,r,n){for(var i=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,s=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,o=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,u=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,l=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,h=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,p=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,g=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,E=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,M=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,z=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,P=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,Q=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,V=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,W=i,F=s,B=o,S=u,T=l,k=f,R=h,x=p,N=g,m=y,v=E,A=M,U=z,G=P,K=Q,Z=V,O,$=0;$<20;$+=2)O=W+U|0,T^=O<<7|O>>>25,O=T+W|0,N^=O<<9|O>>>23,O=N+T|0,U^=O<<13|O>>>19,O=U+N|0,W^=O<<18|O>>>14,O=k+F|0,m^=O<<7|O>>>25,O=m+k|0,G^=O<<9|O>>>23,O=G+m|0,F^=O<<13|O>>>19,O=F+G|0,k^=O<<18|O>>>14,O=v+R|0,K^=O<<7|O>>>25,O=K+v|0,B^=O<<9|O>>>23,O=B+K|0,R^=O<<13|O>>>19,O=R+B|0,v^=O<<18|O>>>14,O=Z+A|0,S^=O<<7|O>>>25,O=S+Z|0,x^=O<<9|O>>>23,O=x+S|0,A^=O<<13|O>>>19,O=A+x|0,Z^=O<<18|O>>>14,O=W+S|0,F^=O<<7|O>>>25,O=F+W|0,B^=O<<9|O>>>23,O=B+F|0,S^=O<<13|O>>>19,O=S+B|0,W^=O<<18|O>>>14,O=k+T|0,R^=O<<7|O>>>25,O=R+k|0,x^=O<<9|O>>>23,O=x+R|0,T^=O<<13|O>>>19,O=T+x|0,k^=O<<18|O>>>14,O=v+m|0,A^=O<<7|O>>>25,O=A+v|0,N^=O<<9|O>>>23,O=N+A|0,m^=O<<13|O>>>19,O=m+N|0,v^=O<<18|O>>>14,O=Z+K|0,U^=O<<7|O>>>25,O=U+Z|0,G^=O<<9|O>>>23,O=G+U|0,K^=O<<13|O>>>19,O=K+G|0,Z^=O<<18|O>>>14;W=W+i|0,F=F+s|0,B=B+o|0,S=S+u|0,T=T+l|0,k=k+f|0,R=R+h|0,x=x+p|0,N=N+g|0,m=m+y|0,v=v+E|0,A=A+M|0,U=U+z|0,G=G+P|0,K=K+Q|0,Z=Z+V|0,e[0]=W>>>0&255,e[1]=W>>>8&255,e[2]=W>>>16&255,e[3]=W>>>24&255,e[4]=F>>>0&255,e[5]=F>>>8&255,e[6]=F>>>16&255,e[7]=F>>>24&255,e[8]=B>>>0&255,e[9]=B>>>8&255,e[10]=B>>>16&255,e[11]=B>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255,e[32]=N>>>0&255,e[33]=N>>>8&255,e[34]=N>>>16&255,e[35]=N>>>24&255,e[36]=m>>>0&255,e[37]=m>>>8&255,e[38]=m>>>16&255,e[39]=m>>>24&255,e[40]=v>>>0&255,e[41]=v>>>8&255,e[42]=v>>>16&255,e[43]=v>>>24&255,e[44]=A>>>0&255,e[45]=A>>>8&255,e[46]=A>>>16&255,e[47]=A>>>24&255,e[48]=U>>>0&255,e[49]=U>>>8&255,e[50]=U>>>16&255,e[51]=U>>>24&255,e[52]=G>>>0&255,e[53]=G>>>8&255,e[54]=G>>>16&255,e[55]=G>>>24&255,e[56]=K>>>0&255,e[57]=K>>>8&255,e[58]=K>>>16&255,e[59]=K>>>24&255,e[60]=Z>>>0&255,e[61]=Z>>>8&255,e[62]=Z>>>16&255,e[63]=Z>>>24&255}a(Noe,"core_salsa20");function Ooe(e,t,r,n){for(var i=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,s=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,o=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,u=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,l=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,h=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,p=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,g=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,E=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,M=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,z=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,P=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,Q=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,V=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,W=i,F=s,B=o,S=u,T=l,k=f,R=h,x=p,N=g,m=y,v=E,A=M,U=z,G=P,K=Q,Z=V,O,$=0;$<20;$+=2)O=W+U|0,T^=O<<7|O>>>25,O=T+W|0,N^=O<<9|O>>>23,O=N+T|0,U^=O<<13|O>>>19,O=U+N|0,W^=O<<18|O>>>14,O=k+F|0,m^=O<<7|O>>>25,O=m+k|0,G^=O<<9|O>>>23,O=G+m|0,F^=O<<13|O>>>19,O=F+G|0,k^=O<<18|O>>>14,O=v+R|0,K^=O<<7|O>>>25,O=K+v|0,B^=O<<9|O>>>23,O=B+K|0,R^=O<<13|O>>>19,O=R+B|0,v^=O<<18|O>>>14,O=Z+A|0,S^=O<<7|O>>>25,O=S+Z|0,x^=O<<9|O>>>23,O=x+S|0,A^=O<<13|O>>>19,O=A+x|0,Z^=O<<18|O>>>14,O=W+S|0,F^=O<<7|O>>>25,O=F+W|0,B^=O<<9|O>>>23,O=B+F|0,S^=O<<13|O>>>19,O=S+B|0,W^=O<<18|O>>>14,O=k+T|0,R^=O<<7|O>>>25,O=R+k|0,x^=O<<9|O>>>23,O=x+R|0,T^=O<<13|O>>>19,O=T+x|0,k^=O<<18|O>>>14,O=v+m|0,A^=O<<7|O>>>25,O=A+v|0,N^=O<<9|O>>>23,O=N+A|0,m^=O<<13|O>>>19,O=m+N|0,v^=O<<18|O>>>14,O=Z+K|0,U^=O<<7|O>>>25,O=U+Z|0,G^=O<<9|O>>>23,O=G+U|0,K^=O<<13|O>>>19,O=K+G|0,Z^=O<<18|O>>>14;e[0]=W>>>0&255,e[1]=W>>>8&255,e[2]=W>>>16&255,e[3]=W>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=Z>>>0&255,e[13]=Z>>>8&255,e[14]=Z>>>16&255,e[15]=Z>>>24&255,e[16]=R>>>0&255,e[17]=R>>>8&255,e[18]=R>>>16&255,e[19]=R>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=N>>>0&255,e[25]=N>>>8&255,e[26]=N>>>16&255,e[27]=N>>>24&255,e[28]=m>>>0&255,e[29]=m>>>8&255,e[30]=m>>>16&255,e[31]=m>>>24&255}a(Ooe,"core_hsalsa20")});var j8=j(Kf=>{d();var Poe=V8();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Kf.crypto_stream_KEYBYTES=32;Kf.crypto_stream_NONCEBYTES=24;Kf.crypto_stream_PRIMITIVE="xsalsa20";Kf.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;Kf.crypto_stream=function(e,t,r){e.fill(0),Kf.crypto_stream_xor(e,e,t,r)};Kf.crypto_stream_xor=function(e,t,r,n){let i=Poe(r,n);i.update(t,e),i.final()};Kf.crypto_stream_xor_instance=function(e,t){return new vN(e,t)};function vN(e,t){this._instance=Poe(e,t)}a(vN,"XOR");vN.prototype.update=function(e,t){this._instance.update(t,e)};vN.prototype.final=function(){this._instance.finalize(),this._instance=null}});var K8=j((Far,Foe)=>{d();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var G8=a(function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,r,n,i,s,o,u,l;t=e[0]&255|(e[1]&255)<<8,this.r[0]=t&8191,r=e[2]&255|(e[3]&255)<<8,this.r[1]=(t>>>13|r<<3)&8191,n=e[4]&255|(e[5]&255)<<8,this.r[2]=(r>>>10|n<<6)&7939,i=e[6]&255|(e[7]&255)<<8,this.r[3]=(n>>>7|i<<9)&8191,s=e[8]&255|(e[9]&255)<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=e[10]&255|(e[11]&255)<<8,this.r[6]=(s>>>14|o<<2)&8191,u=e[12]&255|(e[13]&255)<<8,this.r[7]=(o>>>11|u<<5)&8065,l=e[14]&255|(e[15]&255)<<8,this.r[8]=(u>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=e[16]&255|(e[17]&255)<<8,this.pad[1]=e[18]&255|(e[19]&255)<<8,this.pad[2]=e[20]&255|(e[21]&255)<<8,this.pad[3]=e[22]&255|(e[23]&255)<<8,this.pad[4]=e[24]&255|(e[25]&255)<<8,this.pad[5]=e[26]&255|(e[27]&255)<<8,this.pad[6]=e[28]&255|(e[29]&255)<<8,this.pad[7]=e[30]&255|(e[31]&255)<<8},"poly1305");G8.prototype.blocks=function(e,t,r){for(var n=this.fin?0:2048,i,s,o,u,l,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S=this.h[0],T=this.h[1],k=this.h[2],R=this.h[3],x=this.h[4],N=this.h[5],m=this.h[6],v=this.h[7],A=this.h[8],U=this.h[9],G=this.r[0],K=this.r[1],Z=this.r[2],O=this.r[3],$=this.r[4],L=this.r[5],ee=this.r[6],ve=this.r[7],ye=this.r[8],se=this.r[9];r>=16;)i=e[t+0]&255|(e[t+1]&255)<<8,S+=i&8191,s=e[t+2]&255|(e[t+3]&255)<<8,T+=(i>>>13|s<<3)&8191,o=e[t+4]&255|(e[t+5]&255)<<8,k+=(s>>>10|o<<6)&8191,u=e[t+6]&255|(e[t+7]&255)<<8,R+=(o>>>7|u<<9)&8191,l=e[t+8]&255|(e[t+9]&255)<<8,x+=(u>>>4|l<<12)&8191,N+=l>>>1&8191,f=e[t+10]&255|(e[t+11]&255)<<8,m+=(l>>>14|f<<2)&8191,h=e[t+12]&255|(e[t+13]&255)<<8,v+=(f>>>11|h<<5)&8191,p=e[t+14]&255|(e[t+15]&255)<<8,A+=(h>>>8|p<<8)&8191,U+=p>>>5|n,g=0,y=g,y+=S*G,y+=T*(5*se),y+=k*(5*ye),y+=R*(5*ve),y+=x*(5*ee),g=y>>>13,y&=8191,y+=N*(5*L),y+=m*(5*$),y+=v*(5*O),y+=A*(5*Z),y+=U*(5*K),g+=y>>>13,y&=8191,E=g,E+=S*K,E+=T*G,E+=k*(5*se),E+=R*(5*ye),E+=x*(5*ve),g=E>>>13,E&=8191,E+=N*(5*ee),E+=m*(5*L),E+=v*(5*$),E+=A*(5*O),E+=U*(5*Z),g+=E>>>13,E&=8191,M=g,M+=S*Z,M+=T*K,M+=k*G,M+=R*(5*se),M+=x*(5*ye),g=M>>>13,M&=8191,M+=N*(5*ve),M+=m*(5*ee),M+=v*(5*L),M+=A*(5*$),M+=U*(5*O),g+=M>>>13,M&=8191,z=g,z+=S*O,z+=T*Z,z+=k*K,z+=R*G,z+=x*(5*se),g=z>>>13,z&=8191,z+=N*(5*ye),z+=m*(5*ve),z+=v*(5*ee),z+=A*(5*L),z+=U*(5*$),g+=z>>>13,z&=8191,P=g,P+=S*$,P+=T*O,P+=k*Z,P+=R*K,P+=x*G,g=P>>>13,P&=8191,P+=N*(5*se),P+=m*(5*ye),P+=v*(5*ve),P+=A*(5*ee),P+=U*(5*L),g+=P>>>13,P&=8191,Q=g,Q+=S*L,Q+=T*$,Q+=k*O,Q+=R*Z,Q+=x*K,g=Q>>>13,Q&=8191,Q+=N*G,Q+=m*(5*se),Q+=v*(5*ye),Q+=A*(5*ve),Q+=U*(5*ee),g+=Q>>>13,Q&=8191,V=g,V+=S*ee,V+=T*L,V+=k*$,V+=R*O,V+=x*Z,g=V>>>13,V&=8191,V+=N*K,V+=m*G,V+=v*(5*se),V+=A*(5*ye),V+=U*(5*ve),g+=V>>>13,V&=8191,W=g,W+=S*ve,W+=T*ee,W+=k*L,W+=R*$,W+=x*O,g=W>>>13,W&=8191,W+=N*Z,W+=m*K,W+=v*G,W+=A*(5*se),W+=U*(5*ye),g+=W>>>13,W&=8191,F=g,F+=S*ye,F+=T*ve,F+=k*ee,F+=R*L,F+=x*$,g=F>>>13,F&=8191,F+=N*O,F+=m*Z,F+=v*K,F+=A*G,F+=U*(5*se),g+=F>>>13,F&=8191,B=g,B+=S*se,B+=T*ye,B+=k*ve,B+=R*ee,B+=x*L,g=B>>>13,B&=8191,B+=N*$,B+=m*O,B+=v*Z,B+=A*K,B+=U*G,g+=B>>>13,B&=8191,g=(g<<2)+g|0,g=g+y|0,y=g&8191,g=g>>>13,E+=g,S=y,T=E,k=M,R=z,x=P,N=Q,m=V,v=W,A=F,U=B,t+=16,r-=16;this.h[0]=S,this.h[1]=T,this.h[2]=k,this.h[3]=R,this.h[4]=x,this.h[5]=N,this.h[6]=m,this.h[7]=v,this.h[8]=A,this.h[9]=U};G8.prototype.finish=function(e,t){var r=new Uint16Array(10),n,i,s,o;if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=n*5,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,r[0]=this.h[0]+5,n=r[0]>>>13,r[0]&=8191,o=1;o<10;o++)r[o]=this.h[o]+n,n=r[o]>>>13,r[o]&=8191;for(r[9]-=1<<13,i=(n^1)-1,o=0;o<10;o++)r[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|r[o];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,s=this.h[0]+this.pad[0],this.h[0]=s&65535,o=1;o<8;o++)s=(this.h[o]+this.pad[o]|0)+(s>>>16)|0,this.h[o]=s&65535;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255};G8.prototype.update=function(e,t,r){var n,i;if(this.leftover){for(i=16-this.leftover,i>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};Foe.exports=G8});var wN=j((Har,Yoe)=>{d();var fm=jn(),Q$e=K8(),{crypto_verify_16:W$e}=r1(),_N=16,xN=32,V$e="poly1305";Yoe.exports={crypto_onetimeauth:Uoe,crypto_onetimeauth_verify:j$e,crypto_onetimeauth_BYTES:_N,crypto_onetimeauth_KEYBYTES:xN,crypto_onetimeauth_PRIMITIVE:V$e};function Uoe(e,t,r){fm(e.byteLength===_N,"mac must be 'crypto_onetimeauth_BYTES' bytes"),fm(t.byteLength!=null,"msg must be buffer"),fm(r.byteLength===xN,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Q$e(r);n.update(t,0,t.byteLength),n.finish(e,0)}a(Uoe,"crypto_onetimeauth");function j$e(e,t,r){fm(e.byteLength===_N,"mac must be 'crypto_onetimeauth_BYTES' bytes"),fm(t.byteLength!=null,"msg must be buffer"),fm(r.byteLength===xN,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return Uoe(n,t,r),W$e(e,0,n,0)}a(j$e,"crypto_onetimeauth_verify")});var AN=j((War,Goe)=>{d();var Vi=jn(),{crypto_stream:G$e,crypto_stream_xor:Hoe}=j8(),{crypto_onetimeauth:K$e,crypto_onetimeauth_verify:$$e,crypto_onetimeauth_BYTES:$8,crypto_onetimeauth_KEYBYTES:zoe}=wN(),o1=32,c1=24,hm=32,wu=16,nx=16;Goe.exports={crypto_secretbox:Qoe,crypto_secretbox_open:Woe,crypto_secretbox_detached:X$e,crypto_secretbox_open_detached:J$e,crypto_secretbox_easy:Voe,crypto_secretbox_open_easy:joe,crypto_secretbox_KEYBYTES:o1,crypto_secretbox_NONCEBYTES:c1,crypto_secretbox_ZEROBYTES:hm,crypto_secretbox_BOXZEROBYTES:wu,crypto_secretbox_MACBYTES:nx};function Qoe(e,t,r,n){Vi(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");let i=t.byteLength;Vi(i>=hm,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Vi(r.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(n.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes"),Hoe(e,t,r,n),K$e(e.subarray(wu,wu+$8),e.subarray(wu+$8,e.byteLength),e.subarray(0,zoe)),e.fill(0,0,wu)}a(Qoe,"crypto_secretbox");function Woe(e,t,r,n){Vi(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");let i=e.byteLength;Vi(i>=hm,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Vi(r.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(n.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(zoe);return G$e(s,r,n),$$e(t.subarray(wu,wu+$8),t.subarray(wu+$8,t.byteLength),s)===!1?!1:(Hoe(e,t,r,n),e.fill(0,0,32),!0)}a(Woe,"crypto_secretbox_open");function X$e(e,t,r,n,i){Vi(e.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),Vi(t.byteLength===nx,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Vi(n.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(i.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(r.byteLength+t.byteLength);return Voe(s,r,n,i),t.set(s.subarray(0,t.byteLength)),e.set(s.subarray(t.byteLength)),!0}a(X$e,"crypto_secretbox_detached");function J$e(e,t,r,n,i){Vi(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),Vi(r.byteLength===nx,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Vi(n.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(i.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(t.byteLength+r.byteLength);return s.set(r),s.set(t,r.byteLength),joe(e,s,n,i)}a(J$e,"crypto_secretbox_open_detached");function Voe(e,t,r,n){Vi(e.byteLength===t.byteLength+nx,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Vi(r.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(n.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let i=new Uint8Array(hm+t.byteLength),s=new Uint8Array(i.byteLength);i.set(t,hm),Qoe(s,i,r,n),e.set(s.subarray(wu))}a(Voe,"crypto_secretbox_easy");function joe(e,t,r,n){Vi(t.byteLength===e.byteLength+nx,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Vi(r.byteLength===c1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vi(n.byteLength===o1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let i=new Uint8Array(wu+t.byteLength),s=new Uint8Array(i.byteLength);return i.set(t,wu),Woe(s,i,r,n)===!1?!1:(e.set(s.subarray(hm)),!0)}a(joe,"crypto_secretbox_open_easy")});var tce=j((Gar,ece)=>{d();var{crypto_hash_sha512:Z$e}=J_(),{crypto_scalarmult:EN,crypto_scalarmult_base:Koe}=Z_(),{randombytes:eXe}=t1(),{crypto_generichash_batch:$oe}=H8(),{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:tXe}=j8(),{crypto_secretbox_open_easy:rXe,crypto_secretbox_easy:nXe,crypto_secretbox_detached:iXe,crypto_secretbox_open_detached:aXe}=AN(),dm=V8(),$f=jn(),Cl=32,pm=32,J8=24,sXe=32,oXe=16,X8=48,Xoe=32,ix=32,kl=16,cXe=16,uXe=tXe-cXe;ece.exports={crypto_box_easy:gXe,crypto_box_open_easy:bXe,crypto_box_keypair:Joe,crypto_box_seed_keypair:lXe,crypto_box_seal:fXe,crypto_box_seal_open:hXe,crypto_box_PUBLICKEYBYTES:Cl,crypto_box_SECRETKEYBYTES:pm,crypto_box_NONCEBYTES:J8,crypto_box_ZEROBYTES:sXe,crypto_box_BOXZEROBYTES:oXe,crypto_box_SEALBYTES:X8,crypto_box_SEEDBYTES:Xoe,crypto_box_BEFORENMBYTES:ix,crypto_box_MACBYTES:kl};function Joe(e,t){return Fc(e,Cl),Fc(t,pm),eXe(t,32),Koe(e,t)}a(Joe,"crypto_box_keypair");function lXe(e,t,r){$f(e.byteLength===Cl,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),$f(t.byteLength===pm,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),$f(t.byteLength===Xoe,"sk should be 'crypto_box_SEEDBYTES' bytes");let n=new Uint8Array(64);return Z$e(n,r,32),t.set(n.subarray(0,32)),n.fill(0),Koe(e,t)}a(lXe,"crypto_box_seed_keypair");function fXe(e,t,r){Fc(e,X8+t.length),Fc(r,Cl);var n=e.subarray(0,Cl),i=new Uint8Array(pm);Joe(n,i);var s=new Uint8Array(J8);$oe(s,[n,r]);var o=new Uint8Array(Cl);EN(o,i,r);var u=new Uint8Array(ix),l=new Uint8Array(16);dm.core_hsalsa20(u,l,o,dm.SIGMA),nXe(e.subarray(n.length),t,s,u),SN(i)}a(fXe,"crypto_box_seal");function hXe(e,t,r,n){Fc(t,X8),Fc(e,t.length-X8),Fc(r,Cl),Fc(n,pm);var i=t.subarray(0,Cl),s=new Uint8Array(J8);$oe(s,[i,r]);var o=new Uint8Array(Cl);EN(o,n,i);var u=new Uint8Array(ix),l=new Uint8Array(16);return dm.core_hsalsa20(u,l,o,dm.SIGMA),rXe(e,t.subarray(i.length),s,u)}a(hXe,"crypto_box_seal_open");function Zoe(e,t,r){let n=new Uint8Array(16),i=new Uint8Array(32);return $f(EN(i,r,t)===0),dm.core_hsalsa20(e,n,i,dm.SIGMA),!0}a(Zoe,"crypto_box_beforenm");function dXe(e,t,r,n,i){return iXe(e,t,r,n,i)}a(dXe,"crypto_box_detached_afternm");function pXe(e,t,r,n,i,s){Fc(t,kl),Fc(n,J8),Fc(i,Cl),Fc(s,pm);let o=new Uint8Array(ix);$f(Zoe(o,i,s));let u=dXe(e,t,r,n,o);return SN(o),u}a(pXe,"crypto_box_detached");function gXe(e,t,r,n,i){return $f(e.length>=t.length+kl,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),$f(t.length<=uXe,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),pXe(e.subarray(kl,t.length+kl),e.subarray(0,kl),t,r,n,i)}a(gXe,"crypto_box_easy");function yXe(e,t,r,n,i){return aXe(e,t,r,n,i)}a(yXe,"crypto_box_open_detached_afternm");function mXe(e,t,r,n,i,s){let o=new Uint8Array(ix);$f(Zoe(o,i,s));let u=yXe(e,t,r,n,o);return SN(o),u}a(mXe,"crypto_box_open_detached");function bXe(e,t,r,n,i){return $f(t.length>=e.length+kl,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),mXe(e,t.subarray(kl,e.length+kl),t.subarray(0,kl),r,n,i)}a(bXe,"crypto_box_open_easy");function Fc(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}a(Fc,"check");function SN(e){for(let t=0;t<e.length;t++)e[t]=0}a(SN,"cleanup")});var nce=j((Xar,IN)=>{d();var eE=jn(),tE=a1();IN.exports=Xf;var vXe=IN.exports.SHA256_BYTES=32,kN=64,Z8=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _Xe(e,t,r,n){var i=((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+t,s=((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+n;return i+s<<0}a(_Xe,"expand");function CN(e,t){var r,n,i,s,o,u,[l,f,h,p,g,y,E,M]=e;let z=new Uint32Array(64);for(let Q=0;Q<16;Q++)z[Q]=rce(t[Q]);for(let Q=16;Q<64;Q++)z[Q]=_Xe(z[Q-2],z[Q-7],z[Q-15],z[Q-16]);for(let Q=0;Q<64;Q+=4)P(Q);e[0]=e[0]+l,e[1]=e[1]+f,e[2]=e[2]+h,e[3]=e[3]+p,e[4]=e[4]+g,e[5]=e[5]+y,e[6]=e[6]+E,e[7]=e[7]+M;function P(Q){r=g&y^~g&E,n=l&f^l&h^f&h,i=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),o=M+r+s+z[Q]+Z8[Q],u=i+n,M=p+o,p=o+u,r=M&g^~M&y,n=p&l^p&f^l&f,i=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),s=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),o=E+r+s+z[Q+1]+Z8[Q+1],u=i+n,E=h+o,h=o+u,r=E&M^~E&g,n=h&p^h&l^p&l,i=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),s=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),o=y+r+s+z[Q+2]+Z8[Q+2],u=i+n,y=f+o,f=o+u,r=y&E^~y&M,n=f&h^f&p^h&p,i=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),s=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),o=g+r+s+z[Q+3]+Z8[Q+3],u=i+n,g=l+o,l=o+u}a(P,"round")}a(CN,"compress");function Xf(){return this instanceof Xf?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=vXe,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new Xf}a(Xf,"Sha256");Xf.prototype.update=function(e,t){eE(this.finalised===!1,"Hash instance finalised");var[r,n]=xXe(e,t),i=0;for(this.bytesRead+=n;n>0&&(this.load.set(r.subarray(i,i+kN-this.pos),this.pos),i+=kN-this.pos,n-=kN-this.pos,!(n<0));)this.pos=0,CN(this.state,this.words);return this.pos=this.bytesRead&63,this.load.fill(0,this.pos),this};Xf.prototype.digest=function(e,t=0){eE(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(CN(this.state,this.words),this.words.fill(0),this.pos=0);let r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),CN(this.state,this.words);let n=new Uint8Array(this.state.map(rce).buffer);if(!e)return new Uint8Array(n);if(typeof e=="string")return tE.toString(n,e);eE(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),eE(e.byteLength>=this.digestLength+t,"input not large enough for digest");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};function ax(e){if(!(this instanceof ax))return new ax(e);this.pad=tE.alloc(64),this.inner=Xf(),this.outer=Xf();let t=tE.alloc(32);e.byteLength>64&&(Xf().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(ax,"HMAC");ax.prototype.update=function(e,t){return this.inner.update(e,t),this};ax.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};Xf.HMAC=ax;function xXe(e,t){var r=tE.from(e,t);return[r,r.byteLength]}a(xXe,"formatInput");function rce(e){var t=(e&16711935)>>>8|(e&16711935)<<24,r=(e&4278255360)<<8|(e&4278255360)>>>24;return t|r}a(rce,"bswap")});var ace=j((esr,ice)=>{d();var wXe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),AXe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=u<<2|l>>4,i[o++]=l<<4|f>>2,i[o++]=f<<6|h}return i}})(),EXe=wXe({"wasm-binary:./sha256.wat"(e,t){t.exports=AXe("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}}),SXe=EXe(),kXe=new WebAssembly.Module(SXe);ice.exports=e=>new WebAssembly.Instance(kXe,e).exports});var sce=j((nsr,BN)=>{d();var gm=jn(),nE=a1(),Hd=typeof WebAssembly<"u"&&ace()({imports:{debug:{log(...e){console.log(...e.map(t=>(t>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),Go=0,rE=[];BN.exports=Vs;var CXe=BN.exports.SHA256_BYTES=32,MN=40,TN=108,sx=64;function Vs(){if(!(this instanceof Vs))return new Vs;if(!Hd)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");rE.length||(rE.push(Go),Go+=TN),this.finalized=!1,this.digestLength=CXe,this.pointer=rE.pop(),this.pos=0,this._memory=new Uint8Array(Hd.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+TN),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+TN)}a(Vs,"Sha256");Vs.prototype._realloc=function(e){Hd.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Hd.memory.buffer)};Vs.prototype.update=function(e,t){gm(this.finalized===!1,"Hash instance finalized"),Go%4!==0&&(Go+=4-Go%4),gm(Go%4===0,"input shoud be aligned for int32");let[r,n]=TXe(e,t);return gm(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),Go+n>this._memory.length&&this._realloc(Go+e.length),this._memory.fill(0,Go,Go+MXe(n,sx)-sx),this._memory.set(r.subarray(0,sx-this.pos),this.pointer+MN+this.pos),this._memory.set(r.subarray(sx-this.pos),Go),this.pos=this.pos+n&63,Hd.sha256(this.pointer,Go,n,0),this};Vs.prototype.digest=function(e,t=0){gm(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,rE.push(this.pointer);let r=this.pointer+MN+this.pos;this._memory.fill(0,r,this.pointer+MN+sx),Hd.sha256(this.pointer,Go,0,1);let n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if(typeof e=="string")return nE.toString(n,e);gm(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),gm(e.byteLength>=this.digestLength+t,"output must have at least 'SHA256_BYTES' bytes remaining");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};Vs.WASM=Hd;Vs.WASM_SUPPORTED=typeof WebAssembly<"u";Vs.ready=function(e){return e||(e=IXe),Hd?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))};Vs.prototype.ready=Vs.ready;function ox(e){if(!(this instanceof ox))return new ox(e);this.pad=nE.alloc(64),this.inner=Vs(),this.outer=Vs();let t=nE.alloc(32);e.byteLength>64&&(Vs().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(ox,"HMAC");ox.prototype.update=function(e,t){return this.inner.update(e,t),this};ox.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};Vs.HMAC=ox;function IXe(){}a(IXe,"noop");function TXe(e,t){var r=nE.from(e,t);return[r,r.byteLength]}a(TXe,"formatInput");function MXe(e,t){return e+t-1&-t}a(MXe,"roundUp")});var cce=j((osr,zd)=>{d();var BXe=nce(),iE=sce(),oce=BXe;zd.exports=function(){return new oce};zd.exports.ready=function(e){iE.ready(function(){e()})};zd.exports.WASM_SUPPORTED=iE.WASM_SUPPORTED;zd.exports.WASM_LOADED=!1;var ssr=zd.exports.SHA256_BYTES=32;iE.ready(function(e){e||(zd.exports.WASM_LOADED=!0,zd.exports=oce=iE)})});var fce=j((usr,lce)=>{d();var RXe=cce(),LXe=jn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var uce=32;function DXe(e,t,r){return LXe(e.byteLength===uce,"out must be 'crypto_hash_sha256_BYTES' bytes long"),RXe().update(t.subarray(0,r)).digest(e),0}a(DXe,"crypto_hash_sha256");lce.exports={crypto_hash_sha256:DXe,crypto_hash_sha256_BYTES:uce}});var hce=j((hsr,js)=>{d();var aE=jn(),NXe=t1().randombytes_buf,RN=mN();js.exports.crypto_kdf_PRIMITIVE="blake2b";js.exports.crypto_kdf_BYTES_MIN=16;js.exports.crypto_kdf_BYTES_MAX=64;js.exports.crypto_kdf_CONTEXTBYTES=8;js.exports.crypto_kdf_KEYBYTES=32;function OXe(e,t){var r=1,n=0;for(e[0]=t&255;++n<8&&(r*=256);)e[n]=t/r&255}a(OXe,"STORE64_LE");js.exports.crypto_kdf_derive_from_key=a(function(t,r,n,i){aE(t.length>=js.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),aE(r>=0&&r<=9007199254740991,"subkey_id must be safe integer"),aE(n.length>=js.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var s=new Uint8Array(RN.PERSONALBYTES),o=new Uint8Array(RN.SALTBYTES);s.set(n,0,js.exports.crypto_kdf_CONTEXTBYTES),OXe(o,r);var u=Math.min(t.length,js.exports.crypto_kdf_BYTES_MAX);RN(u,i.subarray(0,js.exports.crypto_kdf_KEYBYTES),o,s,!0).final(t)},"crypto_kdf_derive_from_key");js.exports.crypto_kdf_keygen=a(function(t){aE(t.length>=js.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),NXe(t.subarray(0,js.exports.crypto_kdf_KEYBYTES))},"crypto_kdf_keygen")});var yce=j((gsr,gce)=>{d();var{crypto_scalarmult_base:dce}=Z_(),{crypto_generichash:qXe}=H8(),{randombytes_buf:PXe}=t1(),cx=jn(),pce=32,LN=32,sE=32;function FXe(e,t){return cx(e.byteLength===LN,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),cx(t.byteLength===sE,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),PXe(t,sE),dce(e,t)}a(FXe,"crypto_kx_keypair");function UXe(e,t,r){return cx(e.byteLength===LN,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),cx(t.byteLength===sE,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),cx(r.byteLength===pce,"seed must be 'crypto_kx_SEEDBYTES' bytes"),qXe(t,r),dce(e,t)}a(UXe,"crypto_kx_seed_keypair");gce.exports={crypto_kx_keypair:FXe,crypto_kx_seed_keypair:UXe,crypto_kx_SEEDBYTES:pce,crypto_kx_SECRETKEYBYTES:sE,crypto_kx_PUBLICKEYBYTES:LN}});var vce=j((bsr,bce)=>{d();var ux=jn();bce.exports=DN;var YXe=[1634760805,857760878,2036477234,1797285236];function DN(e,t,r){ux(t.byteLength===32),ux(e.byteLength===8||e.byteLength===12);let n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);r||(r=0),ux(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let s=0;s<4;s++)this.state[s]=YXe[s];for(let s=0;s<8;s++)this.state[4+s]=i[s];return this.state[12]=r&4294967295,n.byteLength===8?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=n[0],this.state[15]=n[1]):(this.state[13]=n[0],this.state[14]=n[1],this.state[15]=n[2]),this}a(DN,"Chacha20");DN.prototype.update=function(e,t){ux(!this.finalized,"cipher finalized."),ux(e.byteLength>=t.byteLength,"output cannot be shorter than input.");let r=t.length,n=this.pos%64;this.pos+=r;let i=0,s=mce(this.state);for(;n>0&&r>0;)e[i]=t[i++]^s[n],n=n+1&63,n||this.state[12]++,r--;for(;r>0;){if(s=mce(this.state),r<64){for(let o=0;o<r;o++)e[i]=t[i++]^s[n++],n&=63;return}for(;n<64;)e[i]=t[i++]^s[n++];this.state[12]++,n=0,r-=64}};DN.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0};function mce(e){let t=new Uint32Array(16);for(let r=16;r--;)t[r]=e[r];for(let r=0;r<20;r+=2)Qd(t,0,4,8,12),Qd(t,1,5,9,13),Qd(t,2,6,10,14),Qd(t,3,7,11,15),Qd(t,0,5,10,15),Qd(t,1,6,11,12),Qd(t,2,7,8,13),Qd(t,3,4,9,14);for(let r=0;r<16;r++)t[r]+=e[r];return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}a(mce,"chacha20Block");function oE(e,t){return e<<t|e>>>32-t}a(oE,"rotl");function Qd(e,t,r,n,i){e[t]+=e[r],e[i]^=e[t],e[i]=oE(e[i],16),e[n]+=e[i],e[r]^=e[n],e[r]=oE(e[r],12),e[t]+=e[r],e[i]^=e[t],e[i]=oE(e[i],8),e[n]+=e[i],e[r]^=e[n],e[r]=oE(e[r],7)}a(Qd,"QR")});var cE=j(ti=>{d();var Uc=jn(),ym=vce();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");ti.crypto_stream_chacha20_KEYBYTES=32;ti.crypto_stream_chacha20_NONCEBYTES=8;ti.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;ti.crypto_stream_chacha20_ietf_KEYBYTES=32;ti.crypto_stream_chacha20_ietf_NONCEBYTES=12;ti.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32;ti.crypto_stream_chacha20=function(e,t,r){e.fill(0),ti.crypto_stream_chacha20_xor(e,e,t,r)};ti.crypto_stream_chacha20_xor=function(e,t,r,n){Uc(r.byteLength===ti.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(n.byteLength===ti.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let i=new ym(r,n);i.update(e,t),i.final()};ti.crypto_stream_chacha20_xor_ic=function(e,t,r,n,i){Uc(r.byteLength===ti.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(i.byteLength===ti.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let s=new ym(r,i,n);s.update(e,t),s.final()};ti.crypto_stream_chacha20_xor_instance=function(e,t){return Uc(e.byteLength===ti.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(t.byteLength===ti.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new ym(e,t)};ti.crypto_stream_chacha20_ietf=function(e,t,r){e.fill(0),ti.crypto_stream_chacha20_ietf_xor(e,e,t,r)};ti.crypto_stream_chacha20_ietf_xor=function(e,t,r,n){Uc(r.byteLength===ti.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(n.byteLength===ti.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let i=new ym(r,n);i.update(e,t),i.final()};ti.crypto_stream_chacha20_ietf_xor_ic=function(e,t,r,n,i){Uc(r.byteLength===ti.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(i.byteLength===ti.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let s=new ym(r,i,n);s.update(e,t),s.final()};ti.crypto_stream_chacha20_ietf_xor_instance=function(e,t){return Uc(e.byteLength===ti.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(t.byteLength===ti.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new ym(e,t)}});var kce=j((Asr,Sce)=>{d();var{crypto_stream_chacha20_ietf:_ce,crypto_stream_chacha20_ietf_xor_ic:xce}=cE(),{crypto_verify_16:HXe}=r1(),wce=K8(),Ma=jn(),lx=32,zXe=0,fx=12,Au=16,hx=Number.MAX_SAFE_INTEGER,uE=new Uint8Array(16);function Ace(e,t,r,n,i,s){if(r===null)return Ace(e,t,new Uint8Array(0),n,i,s);Ma(e.byteLength===t.byteLength+Au,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),Ma(i.byteLength===fx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(s.byteLength===lx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(t.byteLength<=hx,"message is too large");let o=NN(e.subarray(0,t.byteLength),e.subarray(t.byteLength),t,r,n,i,s);return t.byteLength+o}a(Ace,"crypto_aead_chacha20poly1305_ietf_encrypt");function NN(e,t,r,n,i,s,o){if(n===null)return NN(e,t,r,new Uint8Array(0),i,s,o);Ma(e.byteLength===r.byteLength,"ciphertext should be same length than message"),Ma(s.byteLength===fx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(o.byteLength===lx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(r.byteLength<=hx,"message is too large"),Ma(t.byteLength<=Au,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let u=new Uint8Array(64);var l=new Uint8Array(8);_ce(u,s,o);let f=new wce(u);return u.fill(0),f.update(n,0,n.byteLength),f.update(uE,0,16-n.byteLength&15),xce(e,r,s,1,o),f.update(e,0,r.byteLength),f.update(uE,0,16-r.byteLength&15),lE(l,0,n.byteLength),f.update(l,0,l.byteLength),lE(l,0,r.byteLength),f.update(l,0,l.byteLength),f.finish(t,0),l.fill(0),Au}a(NN,"crypto_aead_chacha20poly1305_ietf_encrypt_detached");function Ece(e,t,r,n,i,s){if(n===null)return Ece(e,t,r,new Uint8Array(0),i,s);if(Ma(e.byteLength===r.byteLength-Au,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),Ma(i.byteLength===fx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(s.byteLength===lx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(e.byteLength<=hx,"message is too large"),r.byteLength<Au)throw new Error("could not verify data");return ON(e,t,r.subarray(0,r.byteLength-Au),r.subarray(r.byteLength-Au),n,i,s),r.byteLength-Au}a(Ece,"crypto_aead_chacha20poly1305_ietf_decrypt");function ON(e,t,r,n,i,s,o){if(i===null)return ON(e,t,r,n,new Uint8Array(0),s,o);Ma(r.byteLength===e.byteLength,"message should be same length than ciphertext"),Ma(s.byteLength===fx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(o.byteLength===lx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(e.byteLength<=hx,"message is too large"),Ma(n.byteLength<=Au,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let u=new Uint8Array(64),l=new Uint8Array(8),f=new Uint8Array(Au);_ce(u,s,o);let h=new wce(u);u.fill(0),h.update(i,0,i.byteLength),h.update(uE,0,16-i.byteLength&15);let p=r.byteLength;h.update(r,0,p),h.update(uE,0,16-p&15),lE(l,0,i.byteLength),h.update(l,0,l.byteLength),lE(l,0,p),h.update(l,0,l.byteLength),h.finish(f,0),Ma(f.byteLength===16);let g=HXe(f,0,n,0);if(f.fill(0),l.fill(0),!g)throw e.fill(0),new Error("could not verify data");xce(e,r,s,1,o)}a(ON,"crypto_aead_chacha20poly1305_ietf_decrypt_detached");function lE(e,t,r){e.fill(0,0,8);let n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint32(t,r&4294967295,!0),n.setUint32(t+4,r/2**32&4294967295,!0)}a(lE,"write64LE");Sce.exports={crypto_aead_chacha20poly1305_ietf_encrypt:Ace,crypto_aead_chacha20poly1305_ietf_encrypt_detached:NN,crypto_aead_chacha20poly1305_ietf_decrypt:Ece,crypto_aead_chacha20poly1305_ietf_decrypt_detached:ON,crypto_aead_chacha20poly1305_ietf_ABYTES:Au,crypto_aead_chacha20poly1305_ietf_KEYBYTES:lx,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:fx,crypto_aead_chacha20poly1305_ietf_NSECBYTES:zXe,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:hx}});var Tce=j((Csr,Ice)=>{d();var{sodium_malloc:ksr}=$D(),dx=jn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var QXe=32,Cce=16,WXe=32,VXe=16;function fE(e,t){return e&=4294967295,t&=4294967295,e<<t|e>>>32-t}a(fE,"ROTL32");function cs(e,t){dx(e instanceof Uint8Array,"src not byte array");let r=e[t];return r|=e[t+1]<<8,r|=e[t+2]<<16,r|=e[t+3]<<24,r}a(cs,"LOAD32_LE");function Jf(e,t,r){dx(e instanceof Uint8Array,"dest not byte array");var n=1,i=0;for(e[r]=t&255;++i<4&&(n*=256);)e[r+i]=t/n&255}a(Jf,"STORE32_LE");function Zf(e,t,r,n,i){e[t]+=e[r],e[i]=fE(e[i]^e[t],16),e[n]+=e[i],e[r]=fE(e[r]^e[n],12),e[t]+=e[r],e[i]=fE(e[i]^e[t],8),e[n]+=e[i],e[r]=fE(e[r]^e[n],7)}a(Zf,"QUARTERROUND");function jXe(e,t,r,n){dx(e instanceof Uint8Array&&e.length===32,"out is not an array of 32 bytes"),dx(r instanceof Uint8Array&&r.length===32,"k is not an array of 32 bytes"),dx(n===null||n instanceof Uint8Array&&n.length===16,"c is not null or an array of 16 bytes");let i=0,s=new Uint32Array(16);for(n?(s[0]=cs(n,0),s[1]=cs(n,4),s[2]=cs(n,8),s[3]=cs(n,12)):(s[0]=1634760805,s[1]=857760878,s[2]=2036477234,s[3]=1797285236),s[4]=cs(r,0),s[5]=cs(r,4),s[6]=cs(r,8),s[7]=cs(r,12),s[8]=cs(r,16),s[9]=cs(r,20),s[10]=cs(r,24),s[11]=cs(r,28),s[12]=cs(t,0),s[13]=cs(t,4),s[14]=cs(t,8),s[15]=cs(t,12),i=0;i<10;i++)Zf(s,0,4,8,12),Zf(s,1,5,9,13),Zf(s,2,6,10,14),Zf(s,3,7,11,15),Zf(s,0,5,10,15),Zf(s,1,6,11,12),Zf(s,2,7,8,13),Zf(s,3,4,9,14);return Jf(e,s[0],0),Jf(e,s[1],4),Jf(e,s[2],8),Jf(e,s[3],12),Jf(e,s[12],16),Jf(e,s[13],20),Jf(e,s[14],24),Jf(e,s[15],28),0}a(jXe,"crypto_core_hchacha20");function GXe(){return QXe}a(GXe,"crypto_core_hchacha20_outputbytes");function KXe(){return Cce}a(KXe,"crypto_core_hchacha20_inputbytes");function $Xe(){return WXe}a($Xe,"crypto_core_hchacha20_keybytes");function XXe(){return VXe}a(XXe,"crypto_core_hchacha20_constbytes");Ice.exports={crypto_core_hchacha20_INPUTBYTES:Cce,LOAD32_LE:cs,STORE32_LE:Jf,QUARTERROUND:Zf,crypto_core_hchacha20:jXe,crypto_core_hchacha20_outputbytes:GXe,crypto_core_hchacha20_inputbytes:KXe,crypto_core_hchacha20_keybytes:$Xe,crypto_core_hchacha20_constbytes:XXe}});var Hce=j((Msr,Yce)=>{d();var xo=jn(),{randombytes_buf:Mce}=t1(),{crypto_stream_chacha20_ietf:Bce,crypto_stream_chacha20_ietf_xor:JXe,crypto_stream_chacha20_ietf_xor_ic:hE,crypto_stream_chacha20_ietf_KEYBYTES:px}=cE(),{crypto_core_hchacha20:Rce,crypto_core_hchacha20_INPUTBYTES:Lce}=Tce(),Dce=K8(),{sodium_increment:Nce,sodium_is_zero:Oce,sodium_memcmp:ZXe}=JD(),qce=16,Eu=4,Il=8,eJe=32,mm=eJe,tJe=24,dE=tJe,rJe=16,pE=1+rJe,Pce=Number.MAX_SAFE_INTEGER,nJe=Number.MAX_SAFE_INTEGER,iJe=1,aJe=new Uint8Array([0]),Fce=new Uint8Array([1]),mE=new Uint8Array([2]),sJe=new Uint8Array([Fce|mE]),u1=mm+Il+Eu+8,gx=0,Yc=mm,Wd=Yc+Il+Eu,gE=new Uint8Array(16);function yE(e,t){let r=1,n=0;for(e[0]=t&255;++n<8&&(r*=256);)e[n]=t/r&255}a(yE,"STORE64_LE");function qN(e){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let t=e.subarray(Yc,Wd);for(let r=0;r<Eu;r++)t[r]=0;t[0]=1}a(qN,"crypto_secretstream_xchacha20poly1305_counter_reset");function oJe(e){xo(e.length===mm),Mce(e)}a(oJe,"crypto_secretstream_xchacha20poly1305_keygen");function cJe(e,t,r){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),xo(t instanceof Uint8Array&&t.length===dE,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),xo(r instanceof Uint8Array&&r.length===mm,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let n=e.subarray(gx,Yc),i=e.subarray(Yc,Wd),s=e.subarray(Wd);Mce(t,dE),Rce(n,t,r,null),qN(e);for(let o=0;o<Il;o++)i[o+Eu]=t[o+Lce];s.fill(0)}a(cJe,"crypto_secretstream_xchacha20poly1305_init_push");function uJe(e,t,r){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),xo(t instanceof Uint8Array&&t.length===dE,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),xo(r instanceof Uint8Array&&r.length===mm,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let n=e.subarray(gx,Yc),i=e.subarray(Yc,Wd),s=e.subarray(Wd);Rce(n,t,r,null),qN(e);for(let o=0;o<Il;o++)i[o+Eu]=t[o+Lce];s.fill(0)}a(uJe,"crypto_secretstream_xchacha20poly1305_init_pull");function PN(e){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let t=e.subarray(gx,Yc),r=e.subarray(Yc,Wd),n=new Uint8Array(px+Il),i;for(i=0;i<px;i++)n[i]=t[i];for(i=0;i<Il;i++)n[px+i]=r[Eu+i];for(JXe(n,n,r,t),i=0;i<px;i++)t[i]=n[i];for(i=0;i<Il;i++)r[Eu+i]=n[px+i];qN(e)}a(PN,"crypto_secretstream_xchacha20poly1305_rekey");function lJe(e,t,r,n,i){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));let s=e.subarray(gx,Yc),o=e.subarray(Yc,Wd),u=new Uint8Array(64),l=new Uint8Array(8);xo(Pce<=nJe),Bce(u,o,s);let f=new Dce(u);u.fill(0),f.update(n,0,n.byteLength),f.update(gE,0,16-n.byteLength&15),u[0]=i[0],hE(u,u,o,1,s),f.update(u,0,u.byteLength),t[0]=u[0];let h=t.subarray(1,t.byteLength);hE(h,r,o,2,s),f.update(h,0,r.byteLength),f.update(gE,0,16-u.byteLength+r.byteLength&15),yE(l,n.byteLength),f.update(l,0,l.byteLength),yE(l,u.byteLength+r.byteLength),f.update(l,0,l.byteLength);let p=t.subarray(1+r.byteLength,t.byteLength);return f.finish(p,0),xo(qce>=Il),Uce(o.subarray(Eu,o.length),p,Il),Nce(o),((i[0]&mE)!==0||Oce(o.subarray(0,Eu)))&&PN(e),pE+r.byteLength}a(lJe,"crypto_secretstream_xchacha20poly1305_push");function fJe(e,t,r,n,i){xo(e.byteLength===u1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));let s=e.subarray(gx,Yc),o=e.subarray(Yc,Wd),u=new Uint8Array(64),l=new Uint8Array(8),f=new Uint8Array(qce);xo(n.byteLength>=pE,"ciphertext is too short.");let h=n.byteLength-pE;Bce(u,o,s);let p=new Dce(u);u.fill(0),p.update(i,0,i.byteLength),p.update(gE,0,16-i.byteLength&15),u.fill(0),u[0]=n[0],hE(u,u,o,1,s),r[0]=u[0],u[0]=n[0],p.update(u,0,u.byteLength);let g=n.subarray(1,n.length);p.update(g,0,h),p.update(gE,0,16-u.byteLength+h&15),yE(l,i.byteLength),p.update(l,0,l.byteLength),yE(l,u.byteLength+t.byteLength),p.update(l,0,l.byteLength),p.finish(f,0);let y=n.subarray(1+h,n.length);if(!ZXe(f,y))throw f.fill(0),new Error("MAC could not be verified.");return hE(t,g.subarray(0,t.length),o,2,s),Uce(o.subarray(Eu,o.length),f,Il),Nce(o),((r&mE)!==0||Oce(o.subarray(0,Eu)))&&PN(e),h}a(fJe,"crypto_secretstream_xchacha20poly1305_pull");function Uce(e,t,r){for(let n=0;n<r;n++)e[n]^=t[n]}a(Uce,"xor_buf");Yce.exports={crypto_secretstream_xchacha20poly1305_keygen:oJe,crypto_secretstream_xchacha20poly1305_init_push:cJe,crypto_secretstream_xchacha20poly1305_init_pull:uJe,crypto_secretstream_xchacha20poly1305_rekey:PN,crypto_secretstream_xchacha20poly1305_push:lJe,crypto_secretstream_xchacha20poly1305_pull:fJe,crypto_secretstream_xchacha20poly1305_STATEBYTES:u1,crypto_secretstream_xchacha20poly1305_ABYTES:pE,crypto_secretstream_xchacha20poly1305_HEADERBYTES:dE,crypto_secretstream_xchacha20poly1305_KEYBYTES:mm,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:Pce,crypto_secretstream_xchacha20poly1305_TAGBYTES:iJe,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:aJe,crypto_secretstream_xchacha20poly1305_TAG_PUSH:Fce,crypto_secretstream_xchacha20poly1305_TAG_REKEY:mE,crypto_secretstream_xchacha20poly1305_TAG_FINAL:sJe}});var Qce=j((Lsr,zce)=>{d();var hJe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),dJe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=u<<2|l>>4,i[o++]=l<<4|f>>2,i[o++]=f<<6|h}return i}})(),pJe=hJe({"wasm-binary:./siphash24.wat"(e,t){t.exports=dJe("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}}),gJe=pJe(),yJe=new WebAssembly.Module(gJe);zce.exports=e=>new WebAssembly.Instance(yJe,e).exports});var jce=j((Osr,Vce)=>{d();Vce.exports=mJe;function bE(e,t){var r=e.l+t.l,n={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=n.h,e.l=n.l}a(bE,"_add");function Is(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}a(Is,"_xor");function vE(e,t){var r={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=r.h,e.l=r.l}a(vE,"_rotl");function Wce(e){var t=e.l;e.l=e.h,e.h=t}a(Wce,"_rotl32");function Vd(e,t,r,n){bE(e,t),bE(r,n),vE(t,13),vE(n,16),Is(t,e),Is(n,r),Wce(e),bE(r,t),bE(e,n),vE(t,17),vE(n,21),Is(t,r),Is(n,e),Wce(r)}a(Vd,"_compress");function bm(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}a(bm,"_get_int");function mJe(e,t,r){var n={h:bm(r,4),l:bm(r,0)},i={h:bm(r,12),l:bm(r,8)},s={h:n.h,l:n.l},o=n,u={h:i.h,l:i.l},l=i,f,h=0,p=t.length,g=p-7,y=new Uint8Array(new ArrayBuffer(8));for(Is(s,{h:1936682341,l:1886610805}),Is(u,{h:1685025377,l:1852075885}),Is(o,{h:1819895653,l:1852142177}),Is(l,{h:1952801890,l:2037671283});h<g;)f={h:bm(t,h+4),l:bm(t,h)},Is(l,f),Vd(s,u,o,l),Vd(s,u,o,l),Is(s,f),h+=8;y[7]=p;for(var E=0;h<p;)y[E++]=t[h++];for(;E<7;)y[E++]=0;f={h:y[7]<<24|y[6]<<16|y[5]<<8|y[4],l:y[3]<<24|y[2]<<16|y[1]<<8|y[0]},Is(l,f),Vd(s,u,o,l),Vd(s,u,o,l),Is(s,f),Is(o,{h:0,l:255}),Vd(s,u,o,l),Vd(s,u,o,l),Vd(s,u,o,l),Vd(s,u,o,l);var M=s;Is(M,u),Is(M,o),Is(M,l),e[0]=M.l&255,e[1]=M.l>>8&255,e[2]=M.l>>16&255,e[3]=M.l>>24&255,e[4]=M.h&255,e[5]=M.h>>8&255,e[6]=M.h>>16&255,e[7]=M.h>>24&255}a(mJe,"fallback")});var Jce=j((Fsr,Xce)=>{d();var Gce=jn(),jd=typeof WebAssembly<"u"&&Qce()(),bJe=jce();Xce.exports=yx;var Kce=yx.BYTES=8,$ce=yx.KEYBYTES=16;yx.WASM_SUPPORTED=!!jd;yx.WASM_LOADED=!!jd;var vm=new Uint8Array(jd?jd.memory.buffer:0);function yx(e,t,r,n){return r||(r=new Uint8Array(8)),n!==!0&&(Gce(r.length>=Kce,"output must be at least "+Kce),Gce(t.length>=$ce,"key must be at least "+$ce)),jd?(e.length+24>vm.length&&vJe(e.length+24),vm.set(t,8),vm.set(e,24),jd.siphash(24,e.length),r.set(vm.subarray(0,8))):bJe(r,e,t),r}a(yx,"siphash24");function vJe(e){jd.memory.grow(Math.max(0,Math.ceil(Math.abs(e-vm.length)/65536))),vm=new Uint8Array(jd.memory.buffer)}a(vJe,"realloc")});var Zce=j(l1=>{d();var mx=Jce();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");l1.crypto_shorthash_PRIMITIVE="siphash24";l1.crypto_shorthash_BYTES=mx.BYTES;l1.crypto_shorthash_KEYBYTES=mx.KEYBYTES;l1.crypto_shorthash_WASM_SUPPORTED=mx.WASM_SUPPORTED;l1.crypto_shorthash_WASM_LOADED=mx.WASM_LOADED;l1.crypto_shorthash=_Je;function _Je(e,t,r,n){mx(t,r,e,n)}a(_Je,"shorthash")});var yue=j((Wsr,gue)=>{d();var{crypto_verify_32:sue}=r1(),{crypto_hash:xm}=J_(),{gf:Dr,gf0:eue,gf1:xE,D:xJe,D2:wJe,X:tue,Y:rue,I:AJe,A:f1,Z:h1,M:mi,S:_m,sel25519:EJe,pack25519:wm,inv25519:oue,unpack25519:SJe}=pN(),{randombytes:kJe}=t1(),{crypto_scalarmult_BYTES:nue}=Z_(),{crypto_hash_sha512_BYTES:CJe}=J_(),FN=jn(),wE=32,HN=64,zN=32,cue=64,Tl=cue,AE=wE,QN=HN,uue=zN;gue.exports={crypto_sign_keypair:lue,crypto_sign_seed_keypair:TJe,crypto_sign:hue,crypto_sign_detached:MJe,crypto_sign_open:due,crypto_sign_verify_detached:BJe,crypto_sign_BYTES:Tl,crypto_sign_PUBLICKEYBYTES:AE,crypto_sign_SECRETKEYBYTES:QN,crypto_sign_SEEDBYTES:uue,crypto_sign_ed25519_PUBLICKEYBYTES:wE,crypto_sign_ed25519_SECRETKEYBYTES:HN,crypto_sign_ed25519_SEEDBYTES:zN,crypto_sign_ed25519_BYTES:cue,crypto_sign_ed25519_pk_to_curve25519:DJe,crypto_sign_ed25519_sk_to_curve25519:qJe,crypto_sign_ed25519_sk_to_pk:OJe,unpackneg:jN,pack:EE};function Gd(e,t){for(let r=0;r<16;r++)e[r]=t[r]|0}a(Gd,"set25519");function IJe(e,t){var r=Dr(),n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)_m(r,r),n!==1&&mi(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}a(IJe,"pow2523");function UN(e,t){var r=Dr(),n=Dr(),i=Dr(),s=Dr(),o=Dr(),u=Dr(),l=Dr(),f=Dr(),h=Dr();h1(r,e[1],e[0]),h1(h,t[1],t[0]),mi(r,r,h),f1(n,e[0],e[1]),f1(h,t[0],t[1]),mi(n,n,h),mi(i,e[3],t[3]),mi(i,i,wJe),mi(s,e[2],t[2]),f1(s,s,s),h1(o,n,r),h1(u,s,i),f1(l,s,i),f1(f,n,r),mi(e[0],o,u),mi(e[1],f,l),mi(e[2],l,u),mi(e[3],o,f)}a(UN,"add");function iue(e,t,r){var n;for(n=0;n<4;n++)EJe(e[n],t[n],r)}a(iue,"cswap");function EE(e,t){var r=Dr(),n=Dr(),i=Dr();oue(i,t[2]),mi(r,t[0],i),mi(n,t[1],i),wm(e,n),e[31]^=pue(r)<<7}a(EE,"pack");function WN(e,t,r){var n=[Dr(t[0]),Dr(t[1]),Dr(t[2]),Dr(t[3])],i,s;for(Gd(e[0],eue),Gd(e[1],xE),Gd(e[2],xE),Gd(e[3],eue),s=255;s>=0;--s)i=r[s/8|0]>>(s&7)&1,iue(e,n,i),UN(n,e),UN(e,e),iue(e,n,i)}a(WN,"scalarmult");function VN(e,t){var r=[Dr(),Dr(),Dr(),Dr()];Gd(r[0],tue),Gd(r[1],rue),Gd(r[2],xE),mi(r[3],tue,rue),WN(e,r,t)}a(VN,"scalarbase");function lue(e,t,r){wo(e,AE),wo(t,QN);var n=new Uint8Array(64),i=[Dr(),Dr(),Dr(),Dr()],s;for(r||kJe(t,32),xm(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,VN(i,n),EE(e,i),s=0;s<32;s++)t[s+32]=e[s]}a(lue,"crypto_sign_keypair");function TJe(e,t,r){return wo(r,uue),t.set(r),lue(e,t,!0)}a(TJe,"crypto_sign_seed_keypair");var _E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fue(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*_E[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*_E[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*_E[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=t[n]&255}a(fue,"modL");function YN(e){var t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;fue(e,t)}a(YN,"reduce");function hue(e,t,r){wo(e,Tl+t.length),wo(t,0),wo(r,QN);var n=t.length,i=new Uint8Array(64),s=new Uint8Array(64),o=new Uint8Array(64),u,l,f=new Float64Array(64),h=[Dr(),Dr(),Dr(),Dr()];xm(i,r,32),i[0]&=248,i[31]&=127,i[31]|=64;var p=n+64;for(u=0;u<n;u++)e[64+u]=t[u];for(u=0;u<32;u++)e[32+u]=i[32+u];for(xm(o,e.subarray(32),n+32),YN(o),VN(h,o),EE(e,h),u=32;u<64;u++)e[u]=r[u];for(xm(s,e,n+64),YN(s),u=0;u<64;u++)f[u]=0;for(u=0;u<32;u++)f[u]=o[u];for(u=0;u<32;u++)for(l=0;l<32;l++)f[u+l]+=s[u]*i[l];return fue(e.subarray(32),f),p}a(hue,"crypto_sign");function MJe(e,t,r){var n=new Uint8Array(t.length+Tl);hue(n,t,r);for(let i=0;i<Tl;i++)e[i]=n[i]}a(MJe,"crypto_sign_detached");function jN(e,t){var r=Dr(),n=Dr(),i=Dr(),s=Dr(),o=Dr(),u=Dr(),l=Dr();return Gd(e[2],xE),SJe(e[1],t),_m(i,e[1]),mi(s,i,xJe),h1(i,i,e[2]),f1(s,e[2],s),_m(o,s),_m(u,o),mi(l,u,o),mi(r,l,i),mi(r,r,s),IJe(r,r),mi(r,r,i),mi(r,r,s),mi(r,r,s),mi(e[0],r,s),_m(n,e[0]),mi(n,n,s),aue(n,i)||mi(e[0],e[0],AJe),_m(n,e[0]),mi(n,n,s),aue(n,i)?(pue(e[0])===t[31]>>7&&h1(e[0],Dr(),e[0]),mi(e[3],e[0],e[1]),!0):!1}a(jN,"unpackneg");function due(e,t,r){wo(e,t.length-Tl),wo(t,Tl),wo(r,AE);var n=t.length,i=new Uint8Array(t.length),s,o,u=new Uint8Array(32),l=new Uint8Array(64),f=[Dr(),Dr(),Dr(),Dr()],h=[Dr(),Dr(),Dr(),Dr()];if(o=-1,n<64||!jN(h,r))return!1;for(s=0;s<n;s++)i[s]=t[s];for(s=0;s<32;s++)i[s+32]=r[s];if(xm(l,i,n),YN(l),WN(f,h,l),VN(h,t.subarray(32)),UN(f,h),EE(u,f),n-=64,!sue(t,0,u,0)){for(s=0;s<n;s++)i[s]=0;return!1}for(s=0;s<n;s++)e[s]=t[s+64];return o=n,!0}a(due,"crypto_sign_open");function BJe(e,t,r){wo(e,Tl);var n=new Uint8Array(t.length+Tl),i=0;for(i=0;i<Tl;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+Tl]=t[i];return due(t,n,r)}a(BJe,"crypto_sign_verify_detached");function pue(e){var t=new Uint8Array(32);return wm(t,e),t[0]&1}a(pue,"par25519");function aue(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return wm(r,e),wm(n,t),sue(r,0,n,0)}a(aue,"neq25519");function RJe(e,t){WN(e,t,_E)}a(RJe,"ed25519_mul_l");function LJe(e){var t=[Dr(),Dr(),Dr(),Dr()];RJe(t,e);var r=0;for(let n=0;n<16;n++)r|=t[0][n]&65535;return r===0}a(LJe,"ed25519_is_on_main_subgroup");function DJe(e,t){wo(e,AE),wo(t,wE);var r=[Dr(),Dr(),Dr(),Dr()],n=Dr([1]),i=Dr([1]);FN(NJe(t)&&jN(r,t)&&LJe(r),"Cannot convert key: bad point");for(let s=0;s<r.length;s++)wm(e,r[s]);return h1(i,i,r[1]),f1(n,n,r[1]),oue(i,i),mi(n,n,i),wm(e,n),0}a(DJe,"crypto_sign_ed25519_pk_to_curve25519");function NJe(e){Uint8Array.from([]);var t=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7),n;wo(t,7);for(let s=0;s<t.length;s++)for(n=0;n<31;n++)r[s]|=e[n]^t[s][n];for(let s=0;s<t.length;s++)r[s]|=e[n]&127^t[s][n];var i=0;for(let s=0;s<t.length;s++)i|=r[s]-1;return(i>>8&1)===0}a(NJe,"isSmallOrder");function OJe(e,t){return wo(e,wE),e.set(t.subarray(zN)),e}a(OJe,"crypto_sign_ed25519_sk_to_pk");function qJe(e,t){FN(e&&e.byteLength===nue,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),FN(t&&t.byteLength===HN,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(CJe);return xm(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,e.set(r.subarray(0,nue)),r.fill(0),e}a(qJe,"crypto_sign_ed25519_sk_to_curve25519");function wo(e,t,r="Argument"){if(!e||t&&e.length<t)throw new Error(r+" must be a buffer"+(t?" of length "+t:""))}a(wo,"check")});var Kd=j((Gsr,mue)=>{"use strict";d();fa(t1());fa($D());fa(JD());fa(r1());fa(roe());fa(tce());fa(H8());fa(J_());fa(fce());fa(hce());fa(yce());fa(kce());fa(wN());fa(Z_());fa(AN());fa(Hce());fa(Zce());fa(yue());fa(j8());fa(cE());function fa(e){Object.keys(e).forEach(function(t){mue.exports[t]=e[t]})}a(fa,"forward")});var GN=j((Xsr,bue)=>{d();bue.exports=Kd()});var KN=j((Zsr,vue)=>{d();vue.exports=Symbol.for("nodejs.util.inspect.custom")});var eh=j((tor,Sue)=>{d();var{crypto_sign_BYTES:Eue,crypto_sign_SECRETKEYBYTES:PJe,crypto_sign_PUBLICKEYBYTES:_ue,crypto_sign_detached:FJe,crypto_sign_verify_detached:UJe,crypto_sign_keypair:YJe}=GN(),HJe=KN(),$N=Symbol.for("Pico::block"),XN=Symbol.for("Pico::feed"),xue=b.Buffer.alloc(Eue).fill(0);Sue.exports=a(class Cn{static get MAX_FEED_SIZE(){return 64<<10}static get INITIAL_FEED_SIZE(){return 1<<10}static get PICKLE(){return b.Buffer.from("PIC0.")}static get KEY(){return b.Buffer.from("K0.")}static get BLOCK(){return b.Buffer.from("B0.")}static get KEY_SIZE(){return _ue}static get SIGNATURE_SIZE(){return Eue}static get COUNTER_SIZE(){return 4}static get META_SIZE(){return Cn.SIGNATURE_SIZE*2+Cn.COUNTER_SIZE}static get BLOCK_SYMBOL(){return $N}static get FEED_SYMBOL(){return XN}static get GENESIS(){return xue}constructor(t={}){this[XN]=!0,this.tail=0,this._hasGenisis=null,this._keychain=[],this._cache=[],this._MAX_FEED_SIZE=t.maxSize||Cn.MAX_FEED_SIZE,this.buf=b.Buffer.alloc(t.initialSize||Cn.INITIAL_FEED_SIZE)}get partial(){return this._hasGenisis===null&&!this.length?!1:!this._hasGenisis}get free(){return this._MAX_FEED_SIZE-this.tail}get _isDirty(){if(!this.tail)return!1;if(!this._cache.length)return!0;let t=this._cache[this._cache.length-1];return Cn.mapBlock(this.buf,t.offset).end!==this.tail}get length(){return this._reIndex(),this._cache.length}get last(){return this.get(this.length-1)}get first(){return this.get(0)}get keys(){return this._reIndex(),[...this._keychain]}_reIndex(t=!1){if(!t&&!this._isDirty)return;let r=this._index(t);for(;!r.next().done;);}_appendKey(t){this._ensureMinimumCapacity(this.tail+Cn.KEY.length+t.length),this.tail+=Cn.KEY.copy(this.buf,this.tail),this.tail+=t.copy(this.buf,this.tail)}_appendBlock(t){this._ensureMinimumCapacity(this.tail+t.length),this.tail+=t.copy(this.buf,this.tail)}_ensureMinimumCapacity(t){if(this.buf.length<t){let r=b.Buffer.allocUnsafe(t+32);this.buf.copy(r),this.buf=r}}_ensureKey(t){for(let r of this.keys)if(t.equals(r))return;this._appendKey(t)}get(t){this._isDirty&&this._reIndex(),t<0&&(t=this.length+t);let r=this._cache[t];if(!!r)return Cn.mapBlock(this.buf,r.offset,this._keychain[r.keyId])}toArray(){let t=[];for(let r of this.blocks())t.push(r);return t}append(t,r,n){if(!r)throw new Error("Can't append without a signing secret");if(r.length!==64)throw new Error("Unknown signature secret key format");let i=r.slice(Cn.KEY_SIZE);this._ensureKey(i);let s=Cn.META_SIZE,o=this.last;b.Buffer.isBuffer(t)||(t=b.Buffer.from(t));let u=t.length,l=this.tail+u+s;if(this._MAX_FEED_SIZE<l){console.error(`MAX_FEED_SIZE reached, block won't fit: ${l} > ${this._MAX_FEED_SIZE}`);let h=new Error("FeedOverflowError");throw h.type=h.message,h.maxSize=this._MAX_FEED_SIZE,h.requestedSize=l,h.bytesOverflow=l-this._MAX_FEED_SIZE,h}this._ensureMinimumCapacity(l);let f=Cn.mapBlock(this.buf,this.tail);if(f.header.fill(0),f.size=u,t.copy(f.body),o&&o.sig.copy(f.parentSig),FJe(f.sig,f.dat,r),!f.verify(i))throw new Error("newly stored block is invalid. something went wrong");return this.tail=l,typeof n=="function"&&n(null,this.length),this.length}*_index(t=!1){let r=0,n=0;t&&this._clearCache();let i=Cn.KEY,s=Cn.KEY_SIZE,o=null;for(;;){if(r>=this.tail||r+i.length>this.buf.length)return;if(i.equals(this.buf.slice(r,r+i.length))){let l=this.buf.slice(r+i.length,r+i.length+s),f=this._keychain.findIndex(h=>h.equals(l));~f||(f=this._keychain.length,this._keychain.push(l)),yield{type:0,id:f,key:l,offset:r},r+=i.length+s}else if(this._cache[n]&&this._cache[n].offset===r){let l=n++,f=this._cache[l],h=this._keychain[f.keyId];if(!h)throw new Error("InternalError:KeyCacheBroken");let p=Cn.mapBlock(this.buf,f.offset,h);yield{type:1,seq:l,key:h,block:p,offset:f.offset},o=p.sig,r=p.end}else{let l=Cn.mapBlock(this.buf,r);if(l.size===0||r+l.size>this.buf.length)return;if(!n)this._hasGenisis=l.parentSig.equals(b.Buffer.alloc(64));else if(!o.equals(l.parentSig))return;let f=!1;for(let h=this._keychain.length-1;h>=0;h--){if(f=l.verify(this._keychain[h]),!f)continue;let p=n++;l.key=this._keychain[h],this._cache[p]={offset:r,keyId:h},yield{type:1,seq:p,block:l,offset:r,key:this._keychain[h]},o=l.sig,r=l.end;break}if(!f)return}}}toString(){return this.pickle()}pickle(t=0){let r=encodeURIComponent(Cn.PICKLE.toString("utf8")),n=Cn.KEY,i=Cn.BLOCK,s=(t?this.slice(t):this)._index();for(let o of s)r+=o.type?i+wue(o.block.buffer):n+wue(o.key);return r}slice(t=0,r=void 0,n=!1){let i=new Cn;for(let s of this.blocks(t,r))n||i._ensureKey(s.key),i._appendBlock(s.buffer);return i}_unpack(t){if(!t)throw new Error("Missing first argument");if(typeof t!="string")throw new Error("url-friendly string expected");let r=encodeURIComponent(Cn.PICKLE),n=encodeURIComponent(Cn.KEY),i=encodeURIComponent(Cn.BLOCK),s=t.indexOf(r);if(s===-1)throw new Error("NotPickleError");let o=r.length+s,u=0,l=0,f=-1,h=-1,p=a(()=>{if(f!==-1){let g=decodeURIComponent(t.substr(h,o-h-l-u+1));if(f)this._appendBlock(Aue(g));else{let y=Aue(g);if(y.length!==Cn.KEY_SIZE)throw new Error("PSIG key wrong size: ");this._ensureKey(y)}f=-1}h=o+1,f=u?0:1,u=l=0},"processChunk");for(;o<t.length;)t[o]===n[u]?++u===n.length&&p():u=0,t[o]===i[l]?++l===i.length&&p():l=0,o++;p()}truncate(t){if(t===0)return this.tail=0,this._cache=[],this._keychain=[],!0;let r=this.tail,n=this.get(t-1);if(this.tail=n.end,r===this.tail)return!1;let i=this._cache.length-t;for(;i--;)this._cache.pop();return!0}*blocks(t=0,r=0){for(t<0&&(t=this.length+t),r||(r=this.length),r<0&&(r=this.length+r+1);t<r;)yield this.get(t++)}_steal(t,r=!1){return r?(this.buf=b.Buffer.alloc(t.buf.length),t.buf.copy(this.buf),this._cache=t._cache.map(n=>({...n}))):(this.buf=t.buf,this._cache=[...t._cache]),this._keychain=[...t._keychain],this._hasGenisis=t._hasGenisis,this.tail=t.tail,t._robbed=!0,!0}_clearCache(){this._keychain=[],this._cache=[]}merge(t,r={},n=null){if(typeof r=="function")return this.merge(t,void 0,r);let i=r.forceCopy||!1;if(!t)throw new Error("First argument `source` expected by merge");let s=Cn.from(t),o=typeof n=="function",u=o?h=>{let p=!1;return n(h,()=>{p=!0}),p}:()=>!1,l=a(h=>{let p=!1;for(let g of h){let y=g.key;if(o&&u(g))return p;this._ensureKey(y),this._appendBlock(g.buffer),p=!0}return p},"rebase");if(!this.length)return o?l(s.blocks()):this._steal(s,i);let f=a(()=>{if(this._reverseMergeFlag)return!1;let h=s.clone();h._reverseMergeFlag=!0;let p=h.length;if((!o||!u(h.get(0)))&&h.merge(this,r,n)){if(p===h.length)throw new Error("InternalError:NothingMerged");return this._steal(h)}else return!1},"attemptReverseMerge");try{let h=this._compare(s);return h<1?!0:l(s.blocks(s.length-h))}catch(h){switch(h.type){case"BlockConflict":return!1;case"NoCommonParent":return this.partial?f():!1}throw h}}clone(){let t=new Cn;return t._steal(this,!0),t}_compare(t){if(this===t)return 0;let r=[-1,-1],n=[this._index(),t._index()],i=[],s=[!1,!1],o=[],u=a(y=>{for(i[y]&&(o[y]=i[y].sig),i[y]=null;!i[y]&&!s[y];){let E=n[y].next();if(s[y]=s[y]||E.done,E.done&&typeof E.value>"u")break;E.value.type&&(r[y]++,i[y]=E.value.block)}},"step"),l=a(y=>{let E=r[y]-1;for(;i[y];)u(y);return r[y]-E},"fastForward"),f=0,h=1,p=a(y=>{let E=new Error(y);return E.type=y,E.idxA=r[f],E.idxB=r[h],E},"mkErr");if(u(h),!i[h])return-l(f);let g=i[h].parentSig;for(;!s[f]&&(u(f),!(!i[f]||i[f].parentSig.equals(g)));)if(i[f].sig.equals(g)&&this.length===r[f]+1)return l(h);if(!i[f])throw p("NoCommonParent");if(!i[f].sig.equals(i[h].sig))throw p("BlockConflict");for(;;)if(u(f),u(h),i[f]&&i[h]){if(!i[f].sig.equals(i[h].sig))throw p("BlockConflict")}else return!i[f]&&!i[h]?0:i[f]?-l(f):l(h)}inspect(t=!1){let n=[["ID","KEY","SIG","PARENT","HEX","ASCII"]],i=[2],s=0;for(let u of this.blocks()){let l=u.body.slice(0,12).toString("utf8"),f=[""+s++,u.key.slice(0,2).toString("hex"),u.sig.slice(0,4).toString("hex"),u.isGenesis?"_GENESIS":u.parentSig.slice(0,4).toString("hex"),u.body.slice(0,6).toString("hex").replace(/(.{2})/g,"$1 ").trimEnd(),l];for(let h=0;h<f.length;h++)i[h]=Math.max(i[h]||0,f[h].length);n.push(f)}let o=[];for(let u of n)o.push("\u2502 "+u.map((l,f)=>l.padEnd(i[f])).join(" \u2502 ")+" \u2502");if(o.splice(1,0,"\u251C".padEnd(o[0].length-1,"\u2500")+"\u2524"),!t)console.log(o.join(`
`));else return o.join(`
`)}static isFeed(t){return t&&t[XN]}static from(t,r={}){if(Cn.isFeed(t))return t;let n=new Cn(r);if(t[$N])n._ensureKey(t.key),n._appendBlock(t.buffer);else if(typeof t=="string")n._unpack(t);else if(typeof t.hash=="string")n._unpack(t.hash);else if(b.Buffer.isBuffer(t))n._unpack(t.toString("utf8"));else throw new Error("NotAFeed");return n}static fromBlockArray(t){if(!Array.isArray(t))throw new Error("fromBlockArray() expects an Array of blocks");let r={},n=0;for(let o of t)n+=o.size,r[o.key.toString("hex")]=1;let i=new Cn,s=Object.keys(r).length*(Cn.KEY_SIZE+Cn.KEY.length)+t.length*Cn.META_SIZE+n;i.buf=b.Buffer.alloc(s);for(let o of t)r[o.key.toString("hex")]<2&&i._appendKey(o.key),i._appendBlock(o.buffer);return i._reIndex(!0),i}static signPair(){let t=b.Buffer.allocUnsafe(PJe),r=b.Buffer.allocUnsafe(_ue);return YJe(r,t),{sk:t,pk:r}}static mapBlock(t,r=0,n=null){let i=Cn.SIGNATURE_SIZE,s=Cn.COUNTER_SIZE,o=i+s,u={[$N]:!0,get start(){return r},get sig(){return t.slice(r,r+i)},get header(){return t.slice(r+i,r+i+o)},get parentSig(){return t.slice(r+i,r+i+i)},get size(){return t.readUInt32BE(r+i*2)},set size(l){if(typeof l!="number"||l<0||l+r+i+o>t.length)throw new Error("Invalid blob size");return t.writeUInt32BE(l,r+i*2)},get body(){return t.slice(r+i+o,u.safeEnd)},get dat(){return t.slice(r+i,u.safeEnd)},get end(){return r+i+o+u.size},get safeEnd(){let l=u.size;if(l<1)throw new Error("Invalid blob size: "+l);let f=r+i+o+l;if(f>t.length)throw new Error("Incomplete or invalid block: end overflows buffer length"+f);return f},get next(){return Cn.mapBlock(t,u.safeEnd)},verify(l){return UJe(u.sig,u.dat,l)},get buffer(){return t.slice(r,u.safeEnd)},get key(){if(!n)throw new Error("InternalError:MissingKey");return n},set key(l){if(n)throw new Error("InternalError:KeyExists");n=l},get isGenesis(){return xue.equals(u.parentSig)},[HJe](){return`[BlockMapper] start: ${u.start}, blocksize: ${u.size}, id: ${u.sig.slice(0,6).toString("hex")}, parent: ${u.parentSig.slice(0,6).toString("hex")}`}};return u}},"PicoFeed");function wue(e){return e.toString("base64").replace(/\+/,"-").replace(/\//g,"_").replace(/=+$/,"")}a(wue,"b2ub");function Aue(e){return e=(e+"===").slice(0,e.length+e.length%4),e=e.replace(/-/g,"+").replace(/_/g,"/"),b.Buffer.from(e,"base64")}a(Aue,"ub2b")});var CE=j((ior,Iue)=>{d();var SE=eh(),kue=Symbol.for("PicoRepo"),d1=0,JN=1,Am=2,bx=3,Cue=4,Ml=5,p1=6;function In(e,t){if(!b.Buffer.isBuffer(t))throw new Error("Expected key to be a Buffer");let r=b.Buffer.alloc(1+t.length);return t.copy(r,1),r[0]=e,r}a(In,"mkKey");var kE=class{static isRepo(t){return t&&t[kue]}constructor(t,r=[]){this[kue]=!0,this._db=t,this.allowDetached=!1,this._strategies=Array.isArray(r)?r:[r];for(let n of this._strategies)if(typeof n!="function")throw new Error("ExpectedCallback")}get mkKey(){return In}async _setHeadPtr(t,r){let n=In(d1,t);return await this._db.put(n,r),r}async _setLatestPtr(t,r){let n=In(bx,t);return await this._db.put(n,r),r}async _getTag(t,r){let n=In(t,r);return await this._db.get(n).catch(s=>{if(!s.notFound)throw s})}async _getHeadPtr(t){return this._getTag(d1,t)}async _getTailPtr(t){return this._getTag(Am,t)}async _getLatestPtr(t){return this._getTag(bx,t)}async _getChainPtr(t){return this._getTag(Ml,t)}async writeBlock(t){let r=In(JN,t.sig),n=b.Buffer.alloc(32+t.buffer.length);t.key.copy(n,0),t.buffer.copy(n,32);let i=[];if(i.push({type:"put",key:r,value:n}),t.isGenesis)i.push({type:"put",key:In(Am,t.key),value:t.sig}),i.push({type:"put",key:In(Ml,t.sig),value:t.sig}),i.push({type:"put",key:In(p1,t.sig),value:t.sig});else{let s=In(Ml,t.parentSig),o=await this._db.get(s);i.push({type:"del",key:s}),i.push({type:"put",key:In(Ml,t.sig),value:o}),i.push({type:"put",key:In(p1,o),value:t.sig})}return await this._db.batch(i),!0}async readBlock(t){let r=In(JN,t),n=await this._db.get(r).catch(i=>{if(!i.notFound)throw i});if(n)return SE.mapBlock(n,32,n.slice(0,32))}async _hasBlock(t){return!!await this.readBlock(t)}async _traceOwnerOf(t){let r=0;for await(let n of this._chainLoad(t)){if(n.isGenesis)return n.key;r++}if(r)throw new Error("Orphaned Chain")}async resolveFeed(t,r=void 0){let n=await this._getTag(Ml,t);if(n)return this.loadFeed(t,r);for await(let i of this._chainLoad(t))!i.isGenesis||(n=await this._getTag(p1,i.sig));if(!n)throw new Error("FeedNotFound");return this.loadFeed(n,r)}async merge(t,r){if(SE.isFeed(t)||(t=SE.from(t)),!t.length)return 0;let n=0,i=null,s=t.first;if(s.isGenesis?i=s.key:i=await this._traceOwnerOf(s.parentSig),!i)throw new Error("CannotMerge: Unknown Chain");for(let o of t.blocks()){let u=o.key,l=o.sig;if(await this._hasBlock(l))continue;let f=a(async()=>{await this.writeBlock(o),await this._setHeadPtr(i,o.sig),await this._setLatestPtr(u,o.sig),n++},"bumpHead"),h=await this._getHeadPtr(i);if(!h){await f();continue}if(h.equals(o.parentSig)){await f();continue}if(this.allowDetached&&(o.isGenesis||await this._hasBlock(o.parentSig))){await f();continue}if(!await this._hasBlock(o.parentSig))break;let p=!1;for await(let g of this._chainLoad(o.parentSig))if(h.equals(g.sig)){p=!0;break}if(p){await f();continue}if(await this._queryUserStrategy(o,r)){await f();continue}break}return n}async _queryUserStrategy(t,r){for(let n of[r,...this._strategies]){if(!n)continue;let i=n(t,this);if(typeof i.then!="function")throw new Error("PromiseExpected");if(await i)return!0}return!1}async loadHead(t,r=void 0){let n=await this._getHeadPtr(t);if(n)return this.loadFeed(n,r)}async loadLatest(t,r=void 0){let n=await this._getLatestPtr(t);if(n)return this.loadFeed(n,r)}async loadFeed(t,r=void 0){let n=0;Number.isInteger(r)&&r>0&&(n=r),n&&(r=a((o,u)=>!--n&&u(!0),"stopCallback"));let i=[];for await(let o of this._chainLoad(t)){let u=!1,l=!1;if(typeof r=="function"&&r(o,f=>{f?l=!0:u=!0}),u||i.unshift(o),l||u)break}let s=SE.fromBlockArray(i);if(s.length)return s}async*_chainLoad(t){let r=!0;for(;;){let n=await this.readBlock(t);if(!n&&r)break;if(r=!1,!n)throw new Error("ParentNotFound");if(yield n,n.isGenesis)break;t=n.parentSig}}async rollback(t,r){let n=!1,s=await(this.allowDetached?this.resolveFeed:this.loadHead).bind(this)(t,(p,g)=>{r&&p.sig.equals(r)&&(n=!0,g())});if(r&&!n)throw new Error("ReferenceNotFound");let o=[],u=[],l={};for(let p=s.length-1;p>=0;p--){let g=s.get(p),y=g.key.toString("hex");l[y]||(l[y]=await this._getLatestPtr(g.key)),l[y]?.equals(g.sig)&&u.push(g.key),o.push({type:"del",key:In(JN,g.sig)})}let f=s.first.isGenesis;if(f&&!this.allowDetached)o.push({type:"del",key:In(Am,t)});else if(f){let p=s.first.key;(await this._getTailPtr(p))?.equals(s.first.sig)&&o.push({type:"del",key:In(Am,p)})}if(!this.allowDetached)o.push({type:"del",key:In(d1,t)}),f||o.push({type:"put",key:In(d1,t),value:r});else{let p=s.first.key;(await this._getHeadPtr(p))?.equals(s.last.sig)&&o.push({type:"del",key:In(d1,p)})}o.push({type:"del",key:In(Ml,s.last.sig)});let h=await this._getTag(Ml,s.last.sig);h&&o.push({type:"del",key:In(p1,h)}),h&&!f&&(o.push({type:"put",key:In(Ml,s.first.parentSig),value:h}),o.push({type:"put",key:In(p1,h),value:s.first.parentSig}));for(let p of u)o.push({type:"del",key:In(bx,p)});return await this._db.batch(o),s}get headOf(){return this._getHeadPtr}get tailOf(){return this._getTailPtr}get latestOf(){return this._getLatestPtr}get chainload(){return this._chainLoad}get ownerOf(){return this._traceOwnerOf}async writeReg(t,r){let n=In(Cue,b.Buffer.from(t));return await this._db.put(n,b.Buffer.from(r)),!0}async readReg(t){let r=In(Cue,b.Buffer.from(t));return await this._db.get(r).catch(i=>{if(!i.notFound)throw i})}async listHeads(){return this._listRange({gt:In(d1,b.Buffer.alloc(32).fill(0)),lt:In(d1,b.Buffer.alloc(32).fill(255))})}async listTails(){return this._listRange({gt:In(Am,b.Buffer.alloc(32).fill(0)),lt:In(Am,b.Buffer.alloc(32).fill(255))})}async listLatest(){return this._listRange({gt:In(bx,b.Buffer.alloc(32).fill(0)),lt:In(bx,b.Buffer.alloc(32).fill(255))})}async listFeeds(){return this._listRange({gt:In(Ml,b.Buffer.alloc(32).fill(0)),lt:In(Ml,b.Buffer.alloc(32).fill(255))})}async listFeedHeads(){return this._listRange({gt:In(p1,b.Buffer.alloc(32).fill(0)),lt:In(p1,b.Buffer.alloc(32).fill(255))})}async _listRange(t){let r=this._db.iterator(t),n=[];for(;;)try{let[i,s]=await new Promise((o,u)=>{r.next((l,f,h)=>{l?u(l):o([f,h])})});if(!i)break;n.push({key:i.slice(1),value:s})}catch(i){console.warn("Iterator died with an error",i);break}return await new Promise((i,s)=>{r.close(o=>o?s(o):i())}),n}};a(kE,"PicoRepo");Iue.exports=kE});var Bue=j((oor,Mue)=>{d();var ZN=eh(),IE=class{constructor(t){this.blocks=t.sublevel("b",{keyEncoding:"buffer",valueEncoding:"buffer"}),this.refs=t.sublevel("r",{keyEncoding:"buffer",valueEncoding:"buffer"})}async push(t){if(t.first.isGenesis)throw new Error("GenesisRefused");for(let r of t.blocks())await this.refs.put(r.parentSig,r.sig),await this._writeBlock(r)}async pop(t,r){let n=[],i=[],s=[],o=t,u=[];for(;;){let l=await this._readBlock(o);if(!l)break;n.push(l.parentSig),i.push(l.parentSig),u.push(l),o=l.parentSig}for(u.length&&s.push(ZN.fromBlockArray(u)),o=r,u=[];;){let l=await this.refs.get(o).catch(Tue);if(!l)break;let f=await this._readBlock(l);n.push(l),i.push(f.sig),u.push(f),o=f.sig}return u.length&&s.push(ZN.fromBlockArray(u)),await Promise.all([this.blocks.batch(i.map(l=>({type:"del",key:l}))),this.refs.batch(n.map(l=>({type:"del",key:l})))]),s}async _writeBlock(t){let r=t.sig,n=b.Buffer.alloc(32+t.buffer.length);t.key.copy(n,0),t.buffer.copy(n,32),await this.blocks.put(r,n)}async _readBlock(t){let r=await this.blocks.get(t).catch(Tue);if(r)return ZN.mapBlock(r,32,r.slice(0,32))}async _hasBlock(t){return!!await this.readBlock(t)}};a(IE,"SparseBlockCache");function Tue(e){if(!e.notFound)throw e}a(Tue,"ignore404");Mue.exports=IE});var Lue=j((lor,Rue)=>{d();var Em=1e3,Sm=Em*60,km=Sm*60,g1=km*24,zJe=g1*7,QJe=g1*365.25;Rue.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return WJe(e);if(r==="number"&&isFinite(e))return t.long?jJe(e):VJe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function WJe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*QJe;case"weeks":case"week":case"w":return r*zJe;case"days":case"day":case"d":return r*g1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*km;case"minutes":case"minute":case"mins":case"min":case"m":return r*Sm;case"seconds":case"second":case"secs":case"sec":case"s":return r*Em;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}a(WJe,"parse");function VJe(e){var t=Math.abs(e);return t>=g1?Math.round(e/g1)+"d":t>=km?Math.round(e/km)+"h":t>=Sm?Math.round(e/Sm)+"m":t>=Em?Math.round(e/Em)+"s":e+"ms"}a(VJe,"fmtShort");function jJe(e){var t=Math.abs(e);return t>=g1?TE(e,t,g1,"day"):t>=km?TE(e,t,km,"hour"):t>=Sm?TE(e,t,Sm,"minute"):t>=Em?TE(e,t,Em,"second"):e+" ms"}a(jJe,"fmtLong");function TE(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}a(TE,"plural")});var Nue=j((por,Due)=>{d();function GJe(e){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Lue(),r.destroy=f,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function t(h){let p=0;for(let g=0;g<h.length;g++)p=(p<<5)-p+h.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}a(t,"selectColor"),r.selectColor=t;function r(h){let p,g=null,y,E;function M(...z){if(!M.enabled)return;let P=M,Q=Number(new Date),V=Q-(p||Q);P.diff=V,P.prev=p,P.curr=Q,p=Q,z[0]=r.coerce(z[0]),typeof z[0]!="string"&&z.unshift("%O");let W=0;z[0]=z[0].replace(/%([a-zA-Z%])/g,(B,S)=>{if(B==="%%")return"%";W++;let T=r.formatters[S];if(typeof T=="function"){let k=z[W];B=T.call(P,k),z.splice(W,1),W--}return B}),r.formatArgs.call(P,z),(P.log||r.log).apply(P,z)}return a(M,"debug"),M.namespace=h,M.useColors=r.useColors(),M.color=r.selectColor(h),M.extend=n,M.destroy=r.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,E=r.enabled(h)),E),set:z=>{g=z}}),typeof r.init=="function"&&r.init(M),M}a(r,"createDebug");function n(h,p){let g=r(this.namespace+(typeof p>"u"?":":p)+h);return g.log=this.log,g}a(n,"extend");function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let p,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(p=0;p<y;p++)!g[p]||(h=g[p].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}a(i,"enable");function s(){let h=[...r.names.map(u),...r.skips.map(u).map(p=>"-"+p)].join(",");return r.enable(""),h}a(s,"disable");function o(h){if(h[h.length-1]==="*")return!0;let p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(h))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(h))return!0;return!1}a(o,"enabled");function u(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}a(u,"toNamespace");function l(h){return h instanceof Error?h.stack||h.message:h}a(l,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a(f,"destroy"),r.enable(r.load()),r}a(GJe,"setup");Due.exports=GJe});var Hc=j((Ko,ME)=>{d();Ko.formatArgs=$Je;Ko.save=XJe;Ko.load=JJe;Ko.useColors=KJe;Ko.storage=ZJe();Ko.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ko.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function KJe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}a(KJe,"useColors");function $Je(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ME.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}a($Je,"formatArgs");Ko.log=console.debug||console.log||(()=>{});function XJe(e){try{e?Ko.storage.setItem("debug",e):Ko.storage.removeItem("debug")}catch{}}a(XJe,"save");function JJe(){let e;try{e=Ko.storage.getItem("debug")}catch{}return!e&&typeof _.default<"u"&&"env"in _.default&&(e=_.default.env.DEBUG),e}a(JJe,"load");function ZJe(){try{return localStorage}catch{}}a(ZJe,"localstorage");ME.exports=Nue()(Ko);var{formatters:eZe}=ME.exports;eZe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Fue=j((vor,Pue)=>{d();var Cm=Hc()("pico:gc"),tZe="GCt",RE=class{intervalId=null;constructor(t,r){this.packr=r,this.repo=t,this.db=t._db.sublevel(tZe,{keyEncoding:"buffer",valueEncoding:"buffer"})}schedule(t,r,n,i,s=Date.now()){if(!i)throw new Error("PayloadExpected");let o=n.sig,u=this.packr.pack({slice:t,sig:o,payload:i,tags:r,date:s}),l=que(s);Cm("mark",new Date(s),"key:",l.toString("hex"),"payload:",i),this.db.put(l,u).catch(f=>console.error("Failed queing GC: ",f))}async tickQuery(t){let r={gt:b.Buffer.alloc(9),lt:que(t,255)};Cm("sweep range:",r.gt.toString("hex"),"...",r.lt.toString("hex"));let n=this.db.iterator(r),i=[],s=[];for(;;){let o=await n.next();if(!o)break;let[u,l]=o;i.push(this.packr.unpack(l)),s.push({type:"del",key:u})}return await n.close(),await this.db.batch(s),i}async collectGarbage(t=Date.now(),r){Cm("Starting collecting garbage..."),t=Math.floor(t);let n=await this.tickQuery(t);Cm("Fetched pending from store:",n.length);let i=new Set,s=[];for(let u of n){let{slice:l,sig:f,tags:h,payload:p,date:g}=u,y=r._stores.find(P=>P.name===l),E=await this.repo.readBlock(f),M=await(E&&this.repo.readBlock(E.parentSig));if(typeof y.sweep!="function")throw new Error("Slice does not implement Sweep()");let z=await y.sweep({block:E,parentBlock:M,now:t,sig:f,sweepAt:g,...h,payload:p,rootState:r.state,state:y.value,mark:(P,Q)=>this.schedule(l,h,E,P||p,Q),didMutate:P=>i.add(P),drop:P=>s.push([h.CHAIN,P])});typeof z<"u"&&(await r._commitHead(y,f,z),i.add(l))}let o=[];for(let[u,l]of s)try{o.push(await this.repo.rollback(u,l))}catch(f){f.message==="FeedNotFound"?Cm("RollbackFailed, Feed already gone",f):console.error("Rollback failed",f)}return i=Array.from(i),Cm("Stores mutated",i,"segments evicted",o.length),{mutated:i,evicted:o}}};a(RE,"GarbageCollector");var BE=0,Oue=0;function que(e,t){let r=b.Buffer.alloc(9);for(let n=0;n<8;n++)r[n]=Number(BigInt(e)>>BigInt((7-n)*8)&BigInt(255));return t??!1?r[8]=t:(e===Oue?BE++:BE=0,Oue=e,BE>255&&console.warn("Warning: >255 GC-tasks enqueued, systemfault?"),r[8]=BE%256),r}a(que,"mkKey");Pue.exports=RE});function LE(e){try{if(!ha.trusted&&!Tm){let r=Ln.sharedLength||0;r<Ln.length&&(Ln.length=r)}let t;if(ha.randomAccessStructure&&dr[xt]<64&&dr[xt]>=32&&Yue?(t=Yue(dr,xt,Qc,ha),dr=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),xt=Qc):t=ta(),us&&(xt=us.postBundlePosition),xt==Qc)Ln&&Ln.restoreStructures&&Que(),Ln=null,dr=null,th&&(th=null);else{if(xt>Qc)throw new Error("Unexpected end of MessagePack data");if(!Tm)throw new Error("Data read, but end of buffer not reached "+JSON.stringify(t).slice(0,100))}return t}catch(t){throw Ln&&Ln.restoreStructures&&Que(),vx(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||xt>Qc)&&(t.incomplete=!0),t}}function Que(){for(let e in Ln.restoreStructures)Ln[e]=Ln.restoreStructures[e];Ln.restoreStructures=null}function ta(){let e=dr[xt++];if(e<160)if(e<128){if(e<64)return e;{let t=Ln[e&63]||ha.getStructures&&ele()[e&63];return t?(t.read||(t.read=aO(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,ha.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=nle();n==="__proto__"&&(n="__proto_"),t[n]=ta()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(ta(),ta());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=ta();return ha.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Bl>=xt)return $d.slice(xt-zc,(xt+=t)-zc);if(Bl==0&&Qc<140){let r=t<16?sO(t):rle(t);if(r!=null)return r}return iO(t)}else{let t;switch(e){case 192:return null;case 193:return us?(t=ta(),t>0?us[1].slice(us.position1,us.position1+=t):us[0].slice(us.position0,us.position0-=t)):DE;case 194:return!1;case 195:return!0;case 196:if(t=dr[xt++],t===void 0)throw new Error("Unexpected end of buffer");return eO(t);case 197:return t=Yn.getUint16(xt),xt+=2,eO(t);case 198:return t=Yn.getUint32(xt),xt+=4,eO(t);case 199:return y1(dr[xt++]);case 200:return t=Yn.getUint16(xt),xt+=2,y1(t);case 201:return t=Yn.getUint32(xt),xt+=4,y1(t);case 202:if(t=Yn.getFloat32(xt),ha.useFloat32>2){let r=xx[(dr[xt]&127)<<1|dr[xt+1]>>7];return xt+=4,(r*t+(t>0?.5:-.5)>>0)/r}return xt+=4,t;case 203:return t=Yn.getFloat64(xt),xt+=8,t;case 204:return dr[xt++];case 205:return t=Yn.getUint16(xt),xt+=2,t;case 206:return t=Yn.getUint32(xt),xt+=4,t;case 207:return ha.int64AsNumber?(t=Yn.getUint32(xt)*4294967296,t+=Yn.getUint32(xt+4)):t=Yn.getBigUint64(xt),xt+=8,t;case 208:return Yn.getInt8(xt++);case 209:return t=Yn.getInt16(xt),xt+=2,t;case 210:return t=Yn.getInt32(xt),xt+=4,t;case 211:return ha.int64AsNumber?(t=Yn.getInt32(xt)*4294967296,t+=Yn.getUint32(xt+4)):t=Yn.getBigInt64(xt),xt+=8,t;case 212:if(t=dr[xt++],t==114)return $ue(dr[xt++]&63);{let r=Gs[t];if(r)return r.read?(xt++,r.read(ta())):r.noBuffer?(xt++,r()):r(dr.subarray(xt,++xt));throw new Error("Unknown extension "+t)}case 213:return t=dr[xt],t==114?(xt++,$ue(dr[xt++]&63,dr[xt++])):y1(2);case 214:return y1(4);case 215:return y1(8);case 216:return y1(16);case 217:return t=dr[xt++],Bl>=xt?$d.slice(xt-zc,(xt+=t)-zc):nZe(t);case 218:return t=Yn.getUint16(xt),xt+=2,Bl>=xt?$d.slice(xt-zc,(xt+=t)-zc):iZe(t);case 219:return t=Yn.getUint32(xt),xt+=4,Bl>=xt?$d.slice(xt-zc,(xt+=t)-zc):aZe(t);case 220:return t=Yn.getUint16(xt),xt+=2,Vue(t);case 221:return t=Yn.getUint32(xt),xt+=4,Vue(t);case 222:return t=Yn.getUint16(xt),xt+=2,jue(t);case 223:return t=Yn.getUint32(xt),xt+=4,jue(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}function aO(e,t){function r(){if(r.count++>Zue){let i=e.read=new Function("r","return function(){return "+(ha.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":rZe.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(ta);return e.highByte===0&&(e.read=Wue(t,e.read)),i()}let n={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),n[o]=ta()}return ha.freezeData?Object.freeze(n):n}return a(r,"readObject"),r.count=0,e.highByte===0?Wue(t,r):r}function ele(){let e=ile(()=>(dr=null,ha.getStructures()));return Ln=ha._mergeStructures(e,Ln)}function _x(e){let t;if(e<16&&(t=sO(e)))return t;if(e>64&&tO)return tO.decode(dr.subarray(xt,xt+=e));let r=xt+e,n=[];for(t="";xt<r;){let i=dr[xt++];if((i&128)===0)n.push(i);else if((i&224)===192){let s=dr[xt++]&63;n.push((i&31)<<6|s)}else if((i&240)===224){let s=dr[xt++]&63,o=dr[xt++]&63;n.push((i&31)<<12|s<<6|o)}else if((i&248)===240){let s=dr[xt++]&63,o=dr[xt++]&63,u=dr[xt++]&63,l=(i&7)<<18|s<<12|o<<6|u;l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|l&1023),n.push(l)}else n.push(i);n.length>=4096&&(t+=$a.apply(String,n),n.length=0)}return n.length>0&&(t+=$a.apply(String,n)),t}function Vue(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=ta();return ha.freezeData?Object.freeze(t):t}function jue(e){if(ha.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=nle();n==="__proto__"&&(n="__proto_"),t[n]=ta()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(ta(),ta());return t}}function rle(e){let t=xt,r=new Array(e);for(let n=0;n<e;n++){let i=dr[xt++];if((i&128)>0){xt=t;return}r[n]=i}return $a.apply(String,r)}function sO(e){if(e<4)if(e<2){if(e===0)return"";{let t=dr[xt++];if((t&128)>1){xt-=1;return}return $a(t)}}else{let t=dr[xt++],r=dr[xt++];if((t&128)>0||(r&128)>0){xt-=2;return}if(e<3)return $a(t,r);let n=dr[xt++];if((n&128)>0){xt-=3;return}return $a(t,r,n)}else{let t=dr[xt++],r=dr[xt++],n=dr[xt++],i=dr[xt++];if((t&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){xt-=4;return}if(e<6){if(e===4)return $a(t,r,n,i);{let s=dr[xt++];if((s&128)>0){xt-=5;return}return $a(t,r,n,i,s)}}else if(e<8){let s=dr[xt++],o=dr[xt++];if((s&128)>0||(o&128)>0){xt-=6;return}if(e<7)return $a(t,r,n,i,s,o);let u=dr[xt++];if((u&128)>0){xt-=7;return}return $a(t,r,n,i,s,o,u)}else{let s=dr[xt++],o=dr[xt++],u=dr[xt++],l=dr[xt++];if((s&128)>0||(o&128)>0||(u&128)>0||(l&128)>0){xt-=8;return}if(e<10){if(e===8)return $a(t,r,n,i,s,o,u,l);{let f=dr[xt++];if((f&128)>0){xt-=9;return}return $a(t,r,n,i,s,o,u,l,f)}}else if(e<12){let f=dr[xt++],h=dr[xt++];if((f&128)>0||(h&128)>0){xt-=10;return}if(e<11)return $a(t,r,n,i,s,o,u,l,f,h);let p=dr[xt++];if((p&128)>0){xt-=11;return}return $a(t,r,n,i,s,o,u,l,f,h,p)}else{let f=dr[xt++],h=dr[xt++],p=dr[xt++],g=dr[xt++];if((f&128)>0||(h&128)>0||(p&128)>0||(g&128)>0){xt-=12;return}if(e<14){if(e===12)return $a(t,r,n,i,s,o,u,l,f,h,p,g);{let y=dr[xt++];if((y&128)>0){xt-=13;return}return $a(t,r,n,i,s,o,u,l,f,h,p,g,y)}}else{let y=dr[xt++],E=dr[xt++];if((y&128)>0||(E&128)>0){xt-=14;return}if(e<15)return $a(t,r,n,i,s,o,u,l,f,h,p,g,y,E);let M=dr[xt++];if((M&128)>0){xt-=15;return}return $a(t,r,n,i,s,o,u,l,f,h,p,g,y,E,M)}}}}}function Gue(){let e=dr[xt++],t;if(e<192)t=e-160;else switch(e){case 217:t=dr[xt++];break;case 218:t=Yn.getUint16(xt),xt+=2;break;case 219:t=Yn.getUint32(xt),xt+=4;break;default:throw new Error("Expected string")}return _x(t)}function eO(e){return ha.copyBuffers?Uint8Array.prototype.slice.call(dr,xt,xt+=e):dr.subarray(xt,xt+=e)}function y1(e){let t=dr[xt++];if(Gs[t]){let r;return Gs[t](dr.subarray(xt,r=xt+=e),n=>{xt=n;try{return ta()}finally{xt=r}})}else throw new Error("Unknown extension type "+t)``}function nle(){let e=dr[xt++];if(e>=160&&e<192){if(e=e-160,Bl>=xt)return $d.slice(xt-zc,(xt+=e)-zc);if(!(Bl==0&&Qc<180))return iO(e)}else return xt--,ta().toString();let t=(e<<5^(e>1?Yn.getUint16(xt):e>0?dr[xt]:0))&4095,r=Kue[t],n=xt,i=xt+e-3,s,o=0;if(r&&r.bytes==e){for(;n<i;){if(s=Yn.getUint32(n),s!=r[o++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(s=dr[n++],s!=r[o++]){n=1879048192;break}if(n===i)return xt=n,r.string;i-=3,n=xt}for(r=[],Kue[t]=r,r.bytes=e;n<i;)s=Yn.getUint32(n),r.push(s),n+=4;for(i+=3;n<i;)s=dr[n++],r.push(s);let u=e<16?sO(e):rle(e);return u!=null?r.string=u:r.string=iO(e)}function ile(e){zue&&zue();let t=Qc,r=xt,n=nO,i=zc,s=Bl,o=$d,u=rO,l=th,f=us,h=new Uint8Array(dr.slice(0,Qc)),p=Ln,g=Ln.slice(0,Ln.length),y=ha,E=Tm,M=e();return Qc=t,xt=r,nO=n,zc=i,Bl=s,$d=o,rO=u,th=l,us=f,dr=h,Tm=E,Ln=p,Ln.splice(0,Ln.length,...g),ha=y,Yn=new DataView(dr.buffer,dr.byteOffset,dr.byteLength),M}function vx(){dr=null,th=null,Ln=null}function ale(e){e.unpack?Gs[e.type]=e.unpack:Gs[e.type]=e}function lle(e){ule[0]=e;let t=xx[(Xue[3]&127)<<1|Xue[2]>>7];return(t*e+(e>0?.5:-.5)>>0)/t}var tO,dr,Qc,xt,Jue,rO,nO,ha,Ln,$d,zc,Bl,us,th,Gs,Yn,Uue,Im,DE,Tm,Zue,Yue,Hue,zue,Ao,rZe,Wue,iO,nZe,iZe,aZe,tle,$a,Kue,$ue,oO,sZe,xx,sle,NE,wx,ole,cle,Ax,ule,Xue,Mm=gy(()=>{d();try{tO=new TextDecoder}catch{}xt=0,Jue=[],rO=Jue,nO=0,ha={},zc=0,Bl=0,Gs=[],Uue={useRecords:!1,mapsAsObjects:!0},Im=class{};a(Im,"C1Type");DE=new Im;DE.name="MessagePack 0xC1";Tm=!1,Zue=2;try{new Function("")}catch{Zue=1/0}Ao=class{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0)),Object.assign(this,t)}unpack(t,r){if(dr)return ile(()=>(vx(),this?this.unpack(t,r):Ao.prototype.unpack.call(Uue,t,r)));typeof r=="object"?(Qc=r.end||t.length,xt=r.start||0):(xt=0,Qc=r>-1?r:t.length),nO=0,Bl=0,$d=null,rO=Jue,us=null,dr=t;try{Yn=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(n){throw dr=null,t instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Ao){if(ha=this,this.structures)return Ln=this.structures,LE(r);(!Ln||Ln.length>0)&&(Ln=[])}else ha=Uue,(!Ln||Ln.length>0)&&(Ln=[]);return LE(r)}unpackMultiple(t,r){let n,i=0;try{Tm=!0;let s=t.length,o=this?this.unpack(t,s):NE.unpack(t,s);if(r){for(r(o);xt<s;)if(i=xt,r(LE())===!1)return}else{for(n=[o];xt<s;)i=xt,n.push(LE());return n}}catch(s){throw s.lastPosition=i,s.values=n,s}finally{Tm=!1,vx()}}_mergeStructures(t,r){Hue&&(t=Hue.call(this,t)),t=t||[],Object.isFrozen(t)&&(t=t.map(n=>n.slice(0)));for(let n=0,i=t.length;n<i;n++){let s=t[n];s&&(s.isShared=!0,n>=32&&(s.highByte=n-32>>5))}t.sharedLength=t.length;for(let n in r||[])if(n>=0){let i=t[n],s=r[n];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[n]=i),t[n]=s)}return this.structures=t}decode(t,r){return this.unpack(t,r)}};a(Ao,"Unpackr");a(LE,"checkedRead");a(Que,"restoreStructures");a(ta,"read");rZe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;a(aO,"createStructureReader");Wue=a((e,t)=>function(){let r=dr[xt++];if(r===0)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=Ln[n]||ele()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=aO(i,e)),i.read()},"createSecondByteReader");a(ele,"loadStructures");iO=_x,nZe=_x,iZe=_x,aZe=_x,tle=!1;a(_x,"readStringJS");a(Vue,"readArray");a(jue,"readMap");$a=String.fromCharCode;a(rle,"longStringInJS");a(sO,"shortStringInJS");a(Gue,"readOnlyJSString");a(eO,"readBin");a(y1,"readExt");Kue=new Array(4096);a(nle,"readKey");$ue=a((e,t)=>{let r=ta().map(s=>s.toString()),n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=Ln[e];return i&&i.isShared&&((Ln.restoreStructures||(Ln.restoreStructures=[]))[e]=i),Ln[e]=r,r.read=aO(r,n),r.read()},"recordDefinition");Gs[0]=()=>{};Gs[0].noBuffer=!0;Gs[101]=()=>{let e=ta();return(globalThis[e[0]]||Error)(e[1])};Gs[105]=e=>{let t=Yn.getUint32(xt-4);th||(th=new Map);let r=dr[xt],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let i={target:n};th.set(t,i);let s=ta();return i.used?Object.assign(n,s):(i.target=s,s)};Gs[112]=e=>{let t=Yn.getUint32(xt-4),r=th.get(t);return r.used=!0,r.target};Gs[115]=()=>new Set(ta());oO=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");Gs[116]=e=>{let t=e[0],r=oO[t];if(!r)throw new Error("Could not find typed array for code "+t);return new globalThis[r](Uint8Array.prototype.slice.call(e,1).buffer)};Gs[120]=()=>{let e=ta();return new RegExp(e[0],e[1])};sZe=[];Gs[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=xt;return xt+=t-e.length,us=sZe,us=[Gue(),Gue()],us.position0=0,us.position1=0,us.postBundlePosition=xt,xt=r,ta()};Gs[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");a(ile,"saveState");a(vx,"clearSource");a(ale,"addExtension");xx=new Array(147);for(let e=0;e<256;e++)xx[e]=+("1e"+Math.floor(45.15-e*.30103));sle=Ao,NE=new Ao({useRecords:!1}),wx=NE.unpack,ole=NE.unpackMultiple,cle=NE.unpack,Ax={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},ule=new Float32Array(1),Xue=new Uint8Array(ule.buffer,0,4);a(lle,"roundFloat32")});function hle(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=r(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=r(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:u}=r(7+i);s[o++]=201,u.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function dle(e,t){let r=e.byteLength;var n,i;if(r<256){var{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=r&255}else{var{target:n,position:i,targetView:s}=t(r+5);n[i++]=198,s.setUint32(i,r),i+=4}n.set(e,i)}function lZe(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):i<65536?(t[r++]=200,t[r++]=i>>8,t[r++]=i&255):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255,t[r++]=i&255)}return t[r++]=n,t.set(e,r),r+=i,r}function fZe(e,t){let r,n=t.length*6,i=e.length-n;for(;r=t.pop();){let s=r.offset,o=r.id;e.copyWithin(s+n,s,i),n-=6;let u=s+n;e[u++]=214,e[u++]=105,e[u++]=o>>24,e[u++]=o>>16&255,e[u++]=o>>8&255,e[u++]=o&255,i=s}return e}function ple(e,t,r){if(Oi.length>0){di.setUint32(Oi.position+e,St+r-Oi.position-e),Oi.stringsPosition=St-e;let n=Oi;Oi=null,t(n[0]),t(n[1])}}function yle(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");cO.unshift(e.Class),PE.unshift(e)}ale(e)}function hZe(e,t){return e.isCompatible=r=>{let n=!r||(t.lastNamedStructuresLength||0)===r.length;return n||t._mergeStructures(r),n},e}var qE,PE,cO,FE,OE,gle,fle,Dt,Ex,di,St,Ks,Oi,oZe,cZe,uZe,Bm,Rl,mle,UE,ble,vle,_le,xle,wle,Ale,uO,dZe,lO=gy(()=>{d();Mm();Mm();Mm();try{qE=new TextEncoder}catch{}FE=typeof b.Buffer<"u",OE=FE?function(e){return b.Buffer.allocUnsafeSlow(e)}:Uint8Array,gle=FE?b.Buffer:Uint8Array,fle=FE?4294967296:2144337920,St=0,Oi=null,cZe=61440,uZe=/[\u0080-\uFFFF]/,Bm=Symbol("record-id"),Rl=class extends Ao{constructor(t){super(t),this.offset=0;let r,n,i,s,o,u=gle.prototype.utf8Write?function(k,R){return Dt.utf8Write(k,R,4294967295)}:qE&&qE.encodeInto?function(k,R){return qE.encodeInto(k,Dt.subarray(R)).written}:!1,l=this;t||(t={});let f=t&&t.sequential,h=t.structures||t.saveStructures,p=t.maxSharedStructures;if(p==null&&(p=h?32:0),p>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(t.moreTypes=!0);let g=t.maxOwnStructures;g==null&&(g=h?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let y=p>32||g+p>64,E=p+64,M=p+g+64;if(M>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let z=[],P=0,Q=0;this.pack=this.encode=function(k,R){if(Dt||(Dt=new OE(8192),di=Dt.dataView=new DataView(Dt.buffer,0,8192),St=0),Ks=Dt.length-10,Ks-St<2048?(Dt=new OE(Dt.length),di=Dt.dataView=new DataView(Dt.buffer,0,Dt.length),Ks=Dt.length-10,St=0):St=St+7&2147483640,n=St,o=l.structuredClone?new Map:null,l.bundleStrings&&typeof k!="string"?(Oi=[],Oi.size=1/0):Oi=null,s=l.structures,s){s.uninitialized&&(s=l._mergeStructures(l.getStructures()));let x=s.sharedLength||0;if(x>p)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+s.sharedLength);if(!s.transitions){s.transitions=Object.create(null);for(let N=0;N<x;N++){let m=s[N];if(!m)continue;let v,A=s.transitions;for(let U=0,G=m.length;U<G;U++){let K=m[U];v=A[K],v||(v=A[K]=Object.create(null)),A=v}A[Bm]=N+64}this.lastNamedStructuresLength=x}f||(s.nextId=x+64)}i&&(i=!1);try{l.randomAccessStructure&&k.constructor&&k.constructor===Object?T(k):V(k);let x=Oi;if(Oi&&ple(n,V,0),o&&o.idsToInsert){let N=o.idsToInsert.sort((U,G)=>U.offset>G.offset?1:-1),m=N.length,v=-1;for(;x&&m>0;){let U=N[--m].offset+n;U<x.stringsPosition+n&&v===-1&&(v=0),U>x.position+n?v>=0&&(v+=6):(v>=0&&(di.setUint32(x.position+n,di.getUint32(x.position+n)+v),v=-1),x=x.previous,m++)}v>=0&&x&&di.setUint32(x.position+n,di.getUint32(x.position+n)+v),St+=N.length*6,St>Ks&&F(St),l.offset=St;let A=fZe(Dt.subarray(n,St),N);return o=null,A}return l.offset=St,R&uO?(Dt.start=n,Dt.end=St,Dt):Dt.subarray(n,St)}finally{if(s){Q<10&&Q++;let x=s.sharedLength||0;if(s.length>x&&(s.length=x),P>1e4)s.transitions=null,Q=0,P=0,z.length>0&&(z=[]);else if(z.length>0&&!f){for(let N=0,m=z.length;N<m;N++)z[N][Bm]=0;z=[]}if(i&&l.saveStructures){let N=Dt.subarray(n,St),m=hZe(s,l);return l.saveStructures(m,m.isCompatible)===!1?l.pack(k):(l.lastNamedStructuresLength=x,N)}}R&dZe&&(St=n)}};let V=a(k=>{St>Ks&&(Dt=F(St));var R=typeof k,x;if(R==="string"){let N=k.length;if(Oi&&N>=4&&N<4096){if((Oi.size+=N)>cZe){let U,G=(Oi[0]?Oi[0].length*3+Oi[1].length:0)+10;St+G>Ks&&(Dt=F(St+G));let K;Oi.position?(K=Oi,Dt[St]=200,St+=3,Dt[St++]=98,U=St-n,St+=4,ple(n,V,0),di.setUint16(U+n-3,St-n-U)):(Dt[St++]=214,Dt[St++]=98,U=St-n,St+=4),Oi=["",""],Oi.previous=K,Oi.size=0,Oi.position=U}let A=uZe.test(k);Oi[A?0:1]+=k,Dt[St++]=193,V(A?-N:N);return}let m;N<32?m=1:N<256?m=2:N<65536?m=3:m=5;let v=N*3;if(St+v>Ks&&(Dt=F(St+v)),N<64||!u){let A,U,G,K=St+m;for(A=0;A<N;A++)U=k.charCodeAt(A),U<128?Dt[K++]=U:U<2048?(Dt[K++]=U>>6|192,Dt[K++]=U&63|128):(U&64512)===55296&&((G=k.charCodeAt(A+1))&64512)===56320?(U=65536+((U&1023)<<10)+(G&1023),A++,Dt[K++]=U>>18|240,Dt[K++]=U>>12&63|128,Dt[K++]=U>>6&63|128,Dt[K++]=U&63|128):(Dt[K++]=U>>12|224,Dt[K++]=U>>6&63|128,Dt[K++]=U&63|128);x=K-St-m}else x=u(k,St+m);x<32?Dt[St++]=160|x:x<256?(m<2&&Dt.copyWithin(St+2,St+1,St+1+x),Dt[St++]=217,Dt[St++]=x):x<65536?(m<3&&Dt.copyWithin(St+3,St+2,St+2+x),Dt[St++]=218,Dt[St++]=x>>8,Dt[St++]=x&255):(m<5&&Dt.copyWithin(St+5,St+3,St+3+x),Dt[St++]=219,di.setUint32(St,x),St+=4),St+=x}else if(R==="number")if(k>>>0===k)k<32||k<128&&this.useRecords===!1||k<64&&!this.randomAccessStructure?Dt[St++]=k:k<256?(Dt[St++]=204,Dt[St++]=k):k<65536?(Dt[St++]=205,Dt[St++]=k>>8,Dt[St++]=k&255):(Dt[St++]=206,di.setUint32(St,k),St+=4);else if(k>>0===k)k>=-32?Dt[St++]=256+k:k>=-128?(Dt[St++]=208,Dt[St++]=k+256):k>=-32768?(Dt[St++]=209,di.setInt16(St,k),St+=2):(Dt[St++]=210,di.setInt32(St,k),St+=4);else{let N;if((N=this.useFloat32)>0&&k<4294967296&&k>=-2147483648){Dt[St++]=202,di.setFloat32(St,k);let m;if(N<4||(m=k*xx[(Dt[St]&127)<<1|Dt[St+1]>>7])>>0===m){St+=4;return}else St--}Dt[St++]=203,di.setFloat64(St,k),St+=8}else if(R==="object")if(!k)Dt[St++]=192;else{if(o){let m=o.get(k);if(m){if(!m.id){let v=o.idsToInsert||(o.idsToInsert=[]);m.id=v.push(m)}Dt[St++]=214,Dt[St++]=112,di.setUint32(St,m.id),St+=4;return}else o.set(k,{offset:St-n})}let N=k.constructor;if(N===Object)W(k,!0);else if(N===Array){x=k.length,x<16?Dt[St++]=144|x:x<65536?(Dt[St++]=220,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=221,di.setUint32(St,x),St+=4);for(let m=0;m<x;m++)V(k[m])}else if(N===Map){x=k.size,x<16?Dt[St++]=128|x:x<65536?(Dt[St++]=222,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=223,di.setUint32(St,x),St+=4);for(let[m,v]of k)V(m),V(v)}else{for(let m=0,v=PE.length;m<v;m++){let A=cO[m];if(k instanceof A){let U=PE[m];if(U.write){U.type&&(Dt[St++]=212,Dt[St++]=U.type,Dt[St++]=0),V(U.write.call(this,k));return}let G=Dt,K=di,Z=St;Dt=null;let O;try{O=U.pack.call(this,k,$=>(Dt=G,G=null,St+=$,St>Ks&&F(St),{target:Dt,targetView:di,position:St-$}),V)}finally{G&&(Dt=G,di=K,St=Z,Ks=Dt.length-10)}O&&(O.length+St>Ks&&F(O.length+St),St=lZe(O,Dt,St,U.type));return}}W(k,!k.hasOwnProperty)}}else if(R==="boolean")Dt[St++]=k?195:194;else if(R==="bigint"){if(k<BigInt(1)<<BigInt(63)&&k>=-(BigInt(1)<<BigInt(63)))Dt[St++]=211,di.setBigInt64(St,k);else if(k<BigInt(1)<<BigInt(64)&&k>0)Dt[St++]=207,di.setBigUint64(St,k);else if(this.largeBigIntToFloat)Dt[St++]=203,di.setFloat64(St,Number(k));else throw new RangeError(k+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");St+=8}else if(R==="undefined")this.encodeUndefinedAsNil?Dt[St++]=192:(Dt[St++]=212,Dt[St++]=0,Dt[St++]=0);else if(R==="function")V(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+R)},"pack"),W=this.useRecords===!1?this.variableMapSize?k=>{let R=Object.keys(k),x=R.length;x<16?Dt[St++]=128|x:x<65536?(Dt[St++]=222,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=223,di.setUint32(St,x),St+=4);let N;for(let m=0;m<x;m++)V(N=R[m]),V(k[N])}:(k,R)=>{Dt[St++]=222;let x=St-n;St+=2;let N=0;for(let m in k)(R||k.hasOwnProperty(m))&&(V(m),V(k[m]),N++);Dt[x+++n]=N>>8,Dt[x+n]=N&255}:t.progressiveRecords&&!y?(k,R)=>{let x,N=s.transitions||(s.transitions=Object.create(null)),m=St++-n,v;for(let A in k)if(R||k.hasOwnProperty(A)){if(x=N[A],x)N=x;else{let U=Object.keys(k),G=N;N=s.transitions;let K=0;for(let Z=0,O=U.length;Z<O;Z++){let $=U[Z];x=N[$],x||(x=N[$]=Object.create(null),K++),N=x}m+n+1==St?(St--,B(N,U,K)):S(N,U,m,K),v=!0,N=G[A]}V(k[A])}if(!v){let A=N[Bm];A?Dt[m+n]=A:S(N,Object.keys(k),m,0)}}:(k,R)=>{let x,N=s.transitions||(s.transitions=Object.create(null)),m=0;for(let A in k)(R||k.hasOwnProperty(A))&&(x=N[A],x||(x=N[A]=Object.create(null),m++),N=x);let v=N[Bm];v?v>=96&&y?(Dt[St++]=((v-=96)&31)+96,Dt[St++]=v>>5):Dt[St++]=v:B(N,N.__keys__||Object.keys(k),m);for(let A in k)(R||k.hasOwnProperty(A))&&V(k[A])},F=a(k=>{let R;if(k>16777216){if(k-n>fle)throw new Error("Packed buffer would be larger than maximum buffer size");R=Math.min(fle,Math.round(Math.max((k-n)*(k>67108864?1.25:2),4194304)/4096)*4096)}else R=(Math.max(k-n<<2,Dt.length-1)>>12)+1<<12;let x=new OE(R);return di=x.dataView=new DataView(x.buffer,0,R),k=Math.min(k,Dt.length),Dt.copy?Dt.copy(x,0,n,k):x.set(Dt.slice(n,k)),St-=n,n=0,Ks=x.length-10,Dt=x},"makeRoom"),B=a((k,R,x)=>{let N=s.nextId;N||(N=64),N<E&&this.shouldShareStructure&&!this.shouldShareStructure(R)?(N=s.nextOwnId,N<M||(N=E),s.nextOwnId=N+1):(N>=M&&(N=E),s.nextId=N+1);let m=R.highByte=N>=96&&y?N-96>>5:-1;k[Bm]=N,k.__keys__=R,s[N-64]=R,N<E?(R.isShared=!0,s.sharedLength=N-63,i=!0,m>=0?(Dt[St++]=(N&31)+96,Dt[St++]=m):Dt[St++]=N):(m>=0?(Dt[St++]=213,Dt[St++]=114,Dt[St++]=(N&31)+96,Dt[St++]=m):(Dt[St++]=212,Dt[St++]=114,Dt[St++]=N),x&&(P+=Q*x),z.length>=g&&(z.shift()[Bm]=0),z.push(k),V(R))},"newRecord"),S=a((k,R,x,N)=>{let m=Dt,v=St,A=Ks,U=n;Dt=Ex,St=0,n=0,Dt||(Ex=Dt=new OE(8192)),Ks=Dt.length-10,B(k,R,N),Ex=Dt;let G=St;if(Dt=m,St=v,Ks=A,n=U,G>1){let K=St+G-1;K>Ks&&F(K);let Z=x+n;Dt.copyWithin(Z+G,Z+1,St),Dt.set(Ex.slice(0,G),Z),St=K}else Dt[x+n]=Ex[0]},"insertNewRecord"),T=a((k,R)=>{let x=oZe(k,Dt,St,s,F,(N,m,v)=>{if(v)return i=!0;if(St=m,n>0){if(V(N),n==0)return{position:St,targetView:di,target:Dt}}else V(N);return St},this);if(x===0)return W(k,!0);St=x},"writeStruct")}useBuffer(t){Dt=t,di=new DataView(Dt.buffer,Dt.byteOffset,Dt.byteLength),St=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}};a(Rl,"Packr");cO=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Im];PE=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,n)}else if(n>0&&n<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),s.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?hle(e,16,t):dle(FE?b.Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==gle&&this.moreTypes?hle(e,oO.indexOf(r.name),t):dle(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];a(hle,"writeExtBuffer");a(dle,"writeBuffer");a(lZe,"writeExtensionData");a(fZe,"insertIds");a(ple,"writeBundles");a(yle,"addExtension");a(hZe,"prepareStructures");mle=new Rl({useRecords:!1}),UE=mle.pack,ble=mle.pack,vle=Rl,{NEVER:_le,ALWAYS:xle,DECIMAL_ROUND:wle,DECIMAL_FIT:Ale}=Ax,uO=512,dZe=1024});function pZe(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable");if(typeof e[Symbol.iterator]=="function")return gZe(e,t);if(typeof e.then=="function"||typeof e[Symbol.asyncIterator]=="function")return yZe(e,t);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}function*gZe(e,t){let r=new Rl(t);for(let n of e)yield r.pack(n)}async function*yZe(e,t){let r=new Rl(t);for await(let n of e)yield r.pack(n)}function mZe(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");let r=new Ao(t),n,i=a(s=>{let o;n&&(s=b.Buffer.concat([n,s]),n=void 0);try{o=r.unpackMultiple(s)}catch(u){if(u.incomplete)n=s.slice(u.lastPosition),o=u.values;else throw u}return o},"parser");if(typeof e[Symbol.iterator]=="function")return a(function*(){for(let o of e)yield*i(o)},"iter")();if(typeof e[Symbol.asyncIterator]=="function")return a(async function*(){for await(let o of e)yield*i(o)},"iter")()}var Ele,Sle,kle=gy(()=>{d();lO();Mm();a(pZe,"packIter");a(gZe,"packIterSync");a(yZe,"packIterAsync");a(mZe,"unpackIter");Ele=mZe,Sle=pZe});var YE={};JX(YE,{ALWAYS:()=>xle,C1:()=>DE,DECIMAL_FIT:()=>Ale,DECIMAL_ROUND:()=>wle,Decoder:()=>sle,Encoder:()=>vle,FLOAT32_OPTIONS:()=>Ax,NEVER:()=>_le,Packr:()=>Rl,REUSE_BUFFER_MODE:()=>uO,Unpackr:()=>Ao,addExtension:()=>yle,clearSource:()=>vx,decode:()=>cle,decodeIter:()=>Ele,encode:()=>ble,encodeIter:()=>Sle,isNativeAccelerationEnabled:()=>tle,mapsAsObjects:()=>vZe,pack:()=>UE,roundFloat32:()=>lle,unpack:()=>wx,unpackMultiple:()=>ole,useRecords:()=>bZe});var bZe,vZe,Sx=gy(()=>{d();lO();Mm();kle();bZe=!1,vZe=!0});var fO=j((Uor,Ble)=>{d();var HE=CE(),Cle=eh(),_Ze=Bue(),xZe=Fue(),{Packr:wZe,pack:AZe,unpack:EZe}=(Sx(),w6(YE)),Ile="msgpackr::structs",zE=class{constructor(t,r){this.repo=HE.isRepo(t)?t:new HE(t),this.cache=new _Ze(this.repo._db),this._strategy=r||(()=>{}),this._stores=[],this._loaded=!1,this._tap=null,this._packr=null,this.mutexTimeout=5e3}register(t,r,n,i,s,o){if(this._loaded)throw new Error("register() must be invoked before load()");if(typeof t!="string")return this.register(t.name,t.initialValue,t.filter,t.reducer,t.trap,t.sweep);if(typeof r=="function")return this.register(t,void 0,r,n);this._stores.push({name:t,validator:n,reducer:i,trap:s,sweep:o,version:0,head:void 0,value:r,initialValue:r,observers:new Set})}async _lockRun(t){let[r,n,i]=SZe(),s=null;try{throw new Error("MutexTimeout")}catch(o){s=o}return await Mle.request("default",async()=>{let o=setTimeout(()=>{console.error("MutexTimeout",s.stack),i(s)},this.mutexTimeout);try{let u=await t();n(u)}catch(u){i(u)}finally{clearTimeout(o)}}).catch(i),r}async load(){await this._lockRun(async()=>{if(this._loaded)throw new Error("Store already loaded");let t=await this.repo.readReg(Ile);t?t=EZe(t):t=[],this._packr=new wZe({structures:t,saveStructures:()=>this.repo.writeReg(Ile,AZe(t)).catch(console.error.bind(null,"Failed saving msgpackr:structs"))}),this._gc=new xZe(this.repo,this._packr);for(let r of this._stores){let n=await this.repo.readReg(`HEADS/${r.name}`);if(!!n){r.head=n,r.version=this._decodeValue(await this.repo.readReg(`VER/${r.name}`)),r.value=this._decodeValue(await this.repo.readReg(`STATES/${r.name}`));for(let i of r.observers)i(r.value)}}this._loaded=!0})}async dispatch(t,r){return this._lockRun(()=>this._dispatch(t,r))}async _dispatch(t,r=!1){if(!this._loaded)throw Error("Store not ready, call load()");t=Cle.from(t);let n=null;try{let g=t.first.isGenesis?t.first.sig:t.first.parentSig;n=await this.repo.resolveFeed(g)}catch(g){if(g.message!=="FeedNotFound")throw g;if(t.first.isGenesis)n=new Cle;else return await this.cache.push(t),[]}for(let g of t.blocks()){let[y,E]=await this.cache.pop(g.parentSig,g.sig);y&&Tle(t.merge(y),"Backward merge failed"),E&&Tle(t.merge(E),"Forwrad merge failed")}if(!n.clone().merge(t)){if(r)throw new Error("UnmergablePatch");return[]}let i={};n.first?.isGenesis?(i.AUTHOR=n.first.key,i.CHAIN=n.first.sig):!n.length&&t.first.isGenesis&&(i.AUTHOR=t.first.key,i.CHAIN=t.first.sig);let s=n.length?n._compare(t):t.length;if(s<1)return[];let o=new Set,u=this.state,l=null,f=t.get(-s);if(!f.isGenesis&&!n.length){if(r)throw new Error("NoCommonParent");return[]}else if(!f.isGenesis&&n.length){let g=n.blocks(),y=g.next();for(;!l&&!y.done;)y.value.sig.equals(f.parentSig)&&(l=y.value),y=g.next();if(!l)throw new Error("ParentNotFound")}let h=0;for(let g of t.blocks(-s)){let y=[];for(let M of this._stores){if(typeof M.validator!="function")continue;let z=M.validator({block:g,parentBlock:l,state:M.value,root:u,...i});if(!z)y.push(M);else if(z!==!0){if(r)throw typeof z=="string"&&(z=new Error(`InvalidBlock: ${z}`)),z}}if(!y.length)break;let E=await this._mutateState(g,l,i,!1,r);for(let M of E)o.add(M);l=g,h++}this._notifyObservers(o);let p=Array.from(o);return Object.defineProperty(p,"patch",{enumerable:!1,get(){return t.slice(-s,-s+h)}}),p}async _mutateState(t,r,n,i=!1,s=!1){let o=[],u=[];for(let h of this._stores){if(typeof h.validator!="function"||typeof h.reducer!="function")continue;let p=this.state;h.validator({block:t,parentBlock:r,state:h.value,root:p,...n})||u.push(h)}if(u.length){let h=await this.repo.merge(t,this._strategy);if(!i&&!h)return s&&console.warn("RejectedByBucket: MergeStrategy failed"),o}let l=[],f=a((h,p)=>l.push([h,p]),"signal");for(let h of u){let p=a((M,z)=>this._gc.schedule(h.name,n,t,M,z),"mark"),g=this.state,y={block:t,parentBlock:r,...n,state:h.value,root:g,signal:f,mark:p},E=h.reducer(y);typeof E>"u"&&console.warn("Reducer returned `undefined` state."),await this._commitHead(h,t.sig,E),o.push(h.name)}for(let[h,p]of l)for(let g of this._stores){if(typeof g.trap!="function")continue;let y=this.state,E=g.trap({code:h,payload:p,block:t,parentBlock:r,state:g.value,root:y,...n});typeof E>"u"||(await this._commitHead(g,t.sig,E),o.push(g.name))}if(typeof this._tap=="function")for(let[h,p]of l)this._tap(h,p);return o}_notifyObservers(t){for(let r of t){let n=this._stores.find(i=>i.name===r);for(let i of n.observers)i(n.value)}}async _commitHead(t,r,n){await this.repo.writeReg(`STATES/${t.name}`,this._encodeValue(n)),await this.repo.writeReg(`HEADS/${t.name}`,r),await this.repo.writeReg(`VER/${t.name}`,this._encodeValue(t.version++)),t.value=n,t.head=r}get state(){return this._stores.reduce((t,r)=>(t[r.name]=r.value,t),{})}async reload(){return this._lockRun(async()=>{let t=[],r=await this.repo.listFeeds();for(let n of this._stores){n.value=n.initialValue,n.version=0,n.head=void 0;for(let i of n.observers)i(n.value)}for(let{key:n,value:i}of r){let s=await this.repo.loadFeed(n),o={AUTHOR:s.first.key,CHAIN:i},u=null;for(let l of s.blocks()){let f=await this._mutateState(l,u,o,!0);for(let h of f)~t.indexOf(h)||t.push(h);u=l}}return this._notifyObservers(t),t})}$(t){return r=>this.on(t,r)}on(t,r){let n=this._stores.find(i=>i.name===t);if(!n)throw new Error(`No such store: "${t}"`);if(typeof r!="function")throw new Error("observer must be a function");return n.observers.add(r),r(n.value),()=>n.observers.delete(r)}hotswap(t){let r=this.repo;this.repo=t instanceof HE?t:new HE(t);let n=this.reload(),i=r._db.clear();return[n,i]}_decodeValue(t){return t&&this._packr.unpack(t)}_encodeValue(t){return this._packr.pack(t)}async gc(t){let{mutated:r,evicted:n}=await this._gc.collectGarbage(t,this);return this._notifyObservers(r),n}gcStart(t=3*1e3){this.intervalId||(this.intervalId=setInterval(this._gc.collectGarbage.bind(this),t))}gcStop(){!this.intervalId||(clearInterval(this.intervalId),this.intervalId=null)}};a(zE,"PicoStore");Ble.exports=zE;function Tle(e,t){if(!e)throw new Error(t||"AssertionError")}a(Tle,"assert");var Mle=typeof window<"u"&&window.navigator?.locks||{resources:{},async request(e,t,r){let n=Mle.resources;n[e]||(n[e]=Promise.resolve());let i=n[e];n[e]=i.catch(s=>console.warn("Previous lock unlocked with error",s)).then(()=>(r||t)()),await i}};function SZe(){let e,t;return[new Promise((n,i)=>{e=n,t=i}),e,t]}a(SZe,"unpromise")});var WE=j((zor,$s)=>{d();var kZe=Hc()("pico-net"),Rle=Symbol.for("pico:plug"),dO=1;function pO(e={}){let t=e?.timeout||3e4,r=e?.id,n=!1,[i,s]=[!1,!1],o=Q(!0),u=Q(!1),[l,f,h]=Rm(),[p,g,y]=Rm(),E=[!1,!1],[M,z]=Rm(),P=new Set;return[o,u];function Q(F){let B={get name(){return`${r||"|"} ${F?"-->":"<--"} `},get id(){return r},set id(S){if(r)throw new Error("ID has already been set");r=S},get onmessage(){return E[F?0:1]=!0,F?l:p},get opened(){return n?Promise.reject(new Error("Disconnected")):(E[F?1:0]=!0,(F?p:l).then(S=>!!S))},get closed(){return M},set onmessage(S){if(typeof S!="function")throw new Error("expected onmessage to be a function");if(F?i:s)throw new Error("Handler has already been set");F?(f(S),i=!0):(g(S),s=!0)},async postMessage(S,T){if(n)throw new Error("Disconnected");if(!B.isActive)throw new Error("Void");E[F?1:0]=!0;let k=await(F?p:l);return V(F,a(x=>k(x),"resolve"),S,T)},get isActive(){return(F?s:i)&&!n},get isClosed(){return n},open(S){return kx(S)?Lle(B,S):(B.onmessage=S,B.opened.then(()=>[B.postMessage,B]))},close(S=null){W(F,S)},get other(){return F?u:o}};return B[Rle]=!0,B}async function V(F,B,S,T){if(n)throw new Error("Disconnected");if(typeof T=="function")throw new Error("Callback API has been deprecated");let k=T&dO||T,R=$s.exports.V&&`${(F?o:u).name} = ${S.toString(b.Buffer.isBuffer(S)&&"hex").slice(0,14)}`,[x,N,m]=IZe(t,R);N.abort=m,k&&P.add(N),P.delete(B);let v=k?V.bind(null,!F,N):null;try{B([S,v,F?u:o]),k||N([])}catch(A){m(A),console.warn("Trap A: ",A.message)}return x.catch(A=>{throw console.warn("Trap B: ",A.message),A})}function W(F,B=null){if(n)return!0;kZe("PipeClosed by: %s cause: %s pending: %d",F?"A":"B",B?.message,P.size),n=!0;for(let S of Array.from(P))P.delete(S),S.abort(B||new Error("Disconnected"));return z(B),E[0]&&h(B||new Error("Disconnected")),E[1]&&y(B||new Error("Disconnected")),M}}a(pO,"picoWire");function kx(e){return!!(e&&e[Rle])}a(kx,"isPlug");function Lle(e,t){if(!kx(e)||!kx(t))throw new Error("Expected two pipe-ends");function r(n,i){if(!Array.isArray(i))throw new Error("DesignFlaw");let[s,o]=i,u=n(s,!!o);return o&&(u=u.then(r.bind(null,o))),u.catch(l=>{console.warn("Trap S: ",l.message)})}return a(r,"stitch"),e.onmessage=n=>r(t.postMessage,n),t.onmessage=n=>r(e.postMessage,n),e.closed.then(t.close).catch(t.close),t.closed.then(e.close).catch(e.close),e.close}a(Lle,"spliceWires");function CZe(e,t,r){let[n,i]=pO();return n.closed.then(r).catch(r),n.opened.then(t).catch(t),n.onmessage=e,i}a(CZe,"_picoWire");function IZe(e,t=!1){let[r,n,i]=Rm(t),s=setTimeout(i.bind(null,new Error("Timeout")),e);return[r,(o,u)=>{clearTimeout(s),n(o,u)},a(function(u){clearTimeout(s),i(u||new Error("Aborted"))},"_abort")]}a(IZe,"unpromiseTimeout");var TZe=0,hO=[];function MZe(e="_"){let t=TZe++,r=null;try{throw new Error}catch(u){r=u.stack}console.debug("[UNP]",t,e,`Promise Created
`,$s.exports.V>1&&r);let[n,i,s]=Rm();return hO[t]=s,[n.then(u=>(o("resolved",u),u)).catch(u=>{throw o("rejected",void 0,u),u}),u=>{o("set",u),i(u)},u=>{o("abort",void 0,u),s(u)}];function o(u,l,f){hO[t]=void 0;let h=hO.map((p,g)=>p&&g).filter(p=>p);if(u==="set"){let p=null;try{throw new Error}catch(g){p=g.stack}$s.exports.V>1&&console.debug("[UNP]",t,e,`SET at: 
`,p);return}console.debug("[UNP]",t,e,u,`P(${h.join(",")})`,f?f.message:Array.isArray(l)?`Arr[${l.length}]: ${l[0]||""}`:l)}a(o,"notify")}a(MZe,"unpromiseD");function Rm(e=!1){if(e)return MZe(e);let t,r;return[new Promise((n,i)=>{t=n,r=i}),t,r]}a(Rm,"unpromise");var QE=class{constructor(t,r){this._nodes=new Set,this._tap=null,typeof t=="function"&&(this._tap=t),typeof r=="function"&&(this._afterRemove=r)}createWire(t,r={}){let[n,i]=pO(r);n.onmessage=([o,u])=>{if(this._tap)this._tap(n,o,u).catch(l=>console.error("_tap failed:",l));else return this.broadcast(o,u,n).catch(l=>console.error("_broadcast failed:",l))};let s=setTimeout(()=>n.close(new Error("NodeTimedout")),30*1e3);return n.opened.then(o=>{if(!o)return console.warn("wire.opened resolved false?",o);clearTimeout(s),this._nodes.add(n),typeof t=="function"&&t(n)}).catch(o=>this.disconnect(n,o)),n.closed.then(o=>this.disconnect(n,o)),i}disconnect(t,r){if(!t)return!1;if(this._nodes.delete(t))return typeof this._afterRemove=="function"?this._afterRemove(t,r):r&&console.warn("NodeDisconnected",r),!0;for(let n of this._nodes)if(n.id===n&&this._nodes.delete(n))return typeof this._afterRemove=="function"?this._afterRemove(n,r):r&&console.warn("NodeDisconnected",r),!0}get count(){return this._nodes.size}async*survey(t,r,n){let i=!1,s=new Set;for(let o of this._filterNodes(n)){let u=o.postMessage(t,r);s.add(u),u.catch(l=>{s.delete(u),console.warn("Survey node ignored:",l)})}for(;!i&&s.size;){let o=await Promise.race(Array.from(s).map(l=>l.then(f=>({val:f,p:l}))));if(!o)continue;s.delete(o.p);let u=a(()=>{i=!0},"abortSurvey");yield[...o.val,u]}}async broadcast(t,r,n){let i=this.survey(t,r,n),s=[],o=await i.next();for(;!o.done;)s.push(o.value),o=await i.next();return s}_filterNodes(t){return t?(Array.isArray(t)||(t=[t]),Array.from(this._nodes).filter(r=>r.isActive&&!t.find(n=>kx(n)?n===r:n===r.id))):this._nodes}};a(QE,"PicoHub");var Dle=30*1e3;function BZe(e,t,r,n=125){if(!kx(e))throw new Error("Wire end expected");let i=new Map,s=1,o=t.open(r,{onextension:l,onclose:e.close}),u=a(()=>{o.close()},"closeStream");return e.onmessage=p=>f(0,p),e.closed.then(()=>!o.closed&&u()).catch(p=>t.delete(p)),u;function l(p,g){if(p!==n)return console.warn("Message dropped! multiple extensions on this channel??",n,p);let y=g.readUInt16BE(0),E=g.readUInt16BE(2),M=g[4],z=!!(M&dO);if(i.has(y)){let{replyTo:P,timer:Q}=i.get(y);i.delete(y),clearTimeout(Q),P(g.slice(5),M).then(z&&f.bind(null,E)).catch(V=>console.error("Hyperwire writeerror",V))}else y===0?e.postMessage(g.slice(5),M).then(z&&f.bind(null,E)).catch(P=>console.error("Hyperwire writeerror",P)):console.warn("Hyperwire message dropped! unknown port",y,E)}a(l,"onStreamReceive");function f(p,g){let[y,E]=g;if(!b.Buffer.isBuffer(y))throw new Error("Binary message expected");let M=0,z=0;typeof E=="function"&&(M=s++,h(M,E),z=z|dO);let P=b.Buffer.alloc(y.length+5);P.writeUInt16BE(p),P.writeUInt16BE(M,2),P[4]=z,y.copy(P,5),o.extension(n,P)}a(f,"sendExt");function h(p,g){let y=setTimeout(()=>{!i.has(p)||(i.delete(p),u(new Error("ResponseTimeout")))},Dle);i.set(p,{replyTo:g,timer:y})}a(h,"registerCallback")}a(BZe,"hyperWire");var RZe=256<<10;function LZe(e,t){let r=new Map,n=1,i=b.Buffer.alloc(256),s=e(f.bind(null,0));t.on("data",l),t.once("close",u),t.once("error",u);let o=a(p=>p?t.end():t.destroy(p),"closeStream");return o;function u(p){t.off("data",l),t.off("error",u),t.off("close",u),s.close(p)}function l(p){let g=p.readUInt16BE(0),y=p.readUInt16BE(2);if(r.has(g)){let{replyTo:E,timer:M}=r.get(g);r.delete(g),clearTimeout(M),E(p.slice(6),(z,P)=>f(y,z,P))}else g===0?s(p.slice(6),(E,M)=>f(y,E,M)):console.warn("WARN: streamWire Message dropped",p[6])}function f(p,g,y){let E=0;typeof y=="function"&&(E=n++,h(E,y));let M=g.length+6;if(M>i.length){if(M>=RZe)throw new Error("Message exceeds MTU");i=b.Buffer.alloc(M)}i.writeUInt16BE(p),i.writeUInt16BE(E,2),i.writeUInt16BE(M,4),g.copy(i,6),t.write(i.slice(0,M))}function h(p,g){let y=setTimeout(()=>{!r.has(p)||(r.delete(p),o(new Error("ResponseTimeout")))},Dle);r.set(p,{replyTo:g,timer:y})}}a(LZe,"streamWire");async function*DZe(e){let t=[],r=[],n=!1;t.push(new Promise(s=>r.push(s)));let i=e((s,o)=>{t.push(new Promise(u=>r.push(u))),r.shift()([s,o,a(function(){i.close(),n=!0},"stopGeneratorAndCloseWire")])});for(;!n;)yield await t.shift()}a(DZe,"messageIterator");function NZe(e){return Nle(e,{encode:t=>b.Buffer.from(JSON.stringify(t)),decode:t=>JSON.parse(t)})}a(NZe,"jsonTransformer");function Nle(e,t){let r=a((i,s,o,u)=>i(t.encode(s),o&&n.bind(null,o,u)),"encode"),n=a((i,s,o,u)=>i(t.decode(s),o&&r.bind(null,o,u)),"decode");return i=>{let s=e(n.bind(null,i));return r.bind(null,s)}}a(Nle,"encodingTransformer");$s.exports=QE;$s.exports.V=0;$s.exports.picoWire=pO;$s.exports.simpleWire=CZe;$s.exports.streamWire=LZe;$s.exports.hyperWire=BZe;$s.exports.spliceWires=Lle;$s.exports.jsonTransformer=NZe;$s.exports.encodingTransformer=Nle;$s.exports.messageIterator=DZe;$s.exports.unpromise=Rm});var yO=j((Vor,Ole)=>{d();var OZe=WE(),gO=eh(),{pack:qZe,unpack:PZe}=(Sx(),w6(YE)),{write:FZe}=yo(),UZe=a(e=>b.Buffer.from(Array.from(new Array(e)).map(t=>Math.floor(Math.random()*256))),"randomBytes"),nh=0,GE=-1,KE=1,Lm=2,$E=3,jE=class{constructor(t){this.nodeId=UZe(8),this._controller=this._controller.bind(this),this.hub=new OZe((...i)=>this._controller(...i),(...i)=>this._ondisconnect(...i)),this.handlers=t;let[r,n]=FZe([]);this._setConnections=n,this.$connections=r}spawnWire(){return this.hub.createWire(r=>{r.postMessage(rh($E,this.nodeId),!0).then(([n,i])=>{if(VE(n).type===nh)return this._setConnections(Array.from(this.hub._nodes)),this.handlers.onconnect(r)}).catch(n=>console.error("Handshake failed",n))})}_ondisconnect(...t){this._setConnections(Array.from(this.hub._nodes)),this.handlers.ondisconnect(...t)}async _controller(t,r,n){try{let{type:i,data:s}=VE(r);switch(i){case Lm:for await(let o of this._downloadFeeds(r,n)){let u=await this.handlers.onblocks(o);u&&this.shareBlocks(u,t).catch(l=>console.error("Gossip failed",l))}break;case KE:{let o=await this.handlers.onquery(s);this._uploadFeeds(n,o).catch(u=>console.error("Failed uploading blocks",u))}break;case $E:for(let o of this.hub._nodes)if(b.Buffer.isBuffer(o.id)&&o.id.equals(s))return n(rh(GE)),t.close(new Error("DuplicatePeer"));t.id=s,await n(rh(nh));break;default:throw new Error(`Unknown message type: ${i}`)}}catch(i){console.error("RPC:internal error",i)}}async shareBlocks(t,r){gO.isFeed(t)&&(t=[t]),t=[...t];let n=t.shift(),i=this.hub.survey(rh(Lm,n),!!t.length,r);for await(let[s,o]of i)!t.length||(Cx(s)===nh&&o?this._uploadFeeds(o,t).catch(u=>console.error("Failed sending subsequent feeds",u)):console.warn("Remote rejected subsequent blocks",Cx(s)))}async query(t,r={}){let[n,i]=await t.postMessage(rh(KE,r),!0);VE(n).type!==nh&&this._controller(t,n,i)}_uploadFeeds(t,r){if(!r||!r.length)return t(rh(nh));let n=[...r],i=n.shift();return t(rh(Lm,i),!!n.length).then(([s,o])=>{if(!!n.length)return s?Cx(s)!==nh?console.warn("Peer rejected subsequent blocks",Cx(s)):this._uploadFeeds(o,n):console.warn("Empty scope")})}async*_downloadFeeds(t,r){let n=!1;for(;!n;){n=!0;let{type:i,data:s}=VE(t);if(i===Lm)yield s;else if(r){console.warn("Expected BLOCKS but got",i),await r(rh(GE),!1);continue}if(!r)continue;let o=await r(rh(nh),!0);t=o[0],r=o[1],n=!1}}};a(jE,"SimpleRPC");Ole.exports=jE;function rh(e,t){let r=null;switch(e){case Lm:if(!t)throw new Error("Feed expected");t=gO.from(t),r=b.Buffer.alloc(t.tail+1),t.buf.copy(r,1,0,t.tail);break;case GE:case nh:r=b.Buffer.alloc(1);break;case KE:{let n=qZe(t);r=b.Buffer.alloc(n.length+1),n.copy(r,1)}break;case $E:r=b.Buffer.alloc(8+1),t.copy(r,1);break;default:throw new Error("UnknownMessageType: "+e)}return r[0]=e,r}a(rh,"encodeMsg");function Cx(e){if(!b.Buffer.isBuffer(e))throw new Error("BufferExpected");return e[0]}a(Cx,"typeOfMsg");function VE(e){if(!b.Buffer.isBuffer(e))throw new Error("BufferExpected");let t=Cx(e),r=null;switch(t){case Lm:r=new gO,r.buf=e.slice(1),r.tail=e.length-1;break;case nh:r="OK";break;case GE:r="ERROR";break;case KE:r=PZe(e.slice(1));break;case $E:r=e.slice(1,9);break;default:throw new Error("UnknownMessageType: "+t)}return{type:t,data:r}}a(VE,"decodeMsg")});var Ule=j((Kor,Fle)=>{d();var YZe=CE(),HZe=fO(),qle=eh(),{pack:zZe,unpack:QZe}=(Sx(),w6(YE)),WZe=yO(),Ple="reg/sk",Xd=class{constructor(t,r={}){this.db=t,this.repo=new YZe(t),this.store=new HZe(this.repo,this.mergeStrategy.bind(this)),this.ready=!1,this._secret=r.secret??null,this.rpc=new WZe({onconnect:n=>this.onconnect(n),ondisconnect:n=>this.ondisconnect(n),onquery:(n,i)=>this.onquery(n,i),onblocks:n=>this.onblocks(n)})}get pk(){return this._secret?.slice(32)}async boot(){return this.__loading?this.__loading:(this.__loading=(async()=>{if(!this._secret)try{this._secret=await this.repo.readReg(Ple)}catch(t){if(!t.notFound)throw t}if(!this._secret){let{sk:t}=qle.signPair();this._secret=t,await this.repo.writeReg(Ple,t)}await this.store.load(),this.ready=!0})(),this.__loading)}mergeStrategy(t,r){return!1}async feed(t=void 0){return this._checkReady(),this.repo.loadHead(this.pk)}_checkReady(){if(!this.ready)throw new Error("Kernel not ready, did you await kernel.boot()?")}async seq(){let t=await this.feed(1);return t?Xd.decodeBlock(t.last.body).seq:-1}async dispatch(t,r=!1){this._checkReady();let n=await this.store.dispatch(t,r);return n.length&&this.rpc.shareBlocks(n.patch),n}async createBlock(t,r,n){if(typeof t=="string")return this.createBlock(null,t,r);this._checkReady(),t=t||await this.feed()||new qle;let i=await this.seq()+1,s=Xd.encodeBlock(r,i,n);if(t.append(s,this._secret),!(await this.dispatch(t,!0)).length)throw new Error("createBlock() failed: rejected by store");return t}spawnWire(){return this.rpc.spawnWire()}ondisconnect(t){}async onconnect(t){await this.rpc.query(t)}async onquery(t){let r=[];if(this.repo.allowDetached){let n=await this.repo.listFeeds();for(let{value:i}of n){if(!b.Buffer.isBuffer(i)){console.error("ChainId borked",i);continue}let s=await this.repo.resolveFeed(i);r.push(s)}}else{let n=await this.repo.listHeads();for(let{key:i}of n){let s=await this.repo.loadHead(i);s&&r.push(s)}}return r}async onblocks(t){return(await this.dispatch(t,!1)).patch}async _networkResolveFeed(t,r){}$connections(){return this.rpc.$connections}async close(){for(let t of this.rpc.hub._nodes)this.rpc.hub.disconnect(t);await this.db.close()}static encodeBlock(t,r,n){return zZe({...n,type:t,seq:r,date:new Date().getTime()})}static decodeBlock(t){return QZe(t)}static typeOfBlock(t){return Xd.decodeBlock(t).type}};a(Xd,"SimplePicoKernel");Fle.exports=Xd});var Dm=j((Jor,Hle)=>{d();var VZe=eh(),jZe=fO(),GZe=WE(),Yle=Ule(),KZe=yO(),$Ze=CE(),{decodeBlock:XZe,encodeBlock:JZe}=Yle,ZZe=yo();Hle.exports={Feed:VZe,SimpleKernel:Yle,decodeBlock:XZe,encodeBlock:JZe,n:ZZe,Store:jZe,Hub:GZe,SimpleRPC:KZe,Repo:$Ze}});var vO=j((mO,bO)=>{d();(function(e,t){typeof mO=="object"&&typeof bO<"u"?bO.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=t())})(mO,function(){"use strict";function e(Ce){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},e(Ce)}a(e,"_typeof");function t(Ce,Te){return t=Object.setPrototypeOf||a(function(rt,ge){return rt.__proto__=ge,rt},"_setPrototypeOf"),t(Ce,Te)}a(t,"_setPrototypeOf");function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(r,"_isNativeReflectConstruct");function n(Ce,Te,Je){return r()?n=Reflect.construct:n=a(function(ge,xe,qe){var ot=[null];ot.push.apply(ot,xe);var at=Function.bind.apply(ge,ot),pe=new at;return qe&&t(pe,qe.prototype),pe},"_construct"),n.apply(null,arguments)}a(n,"_construct");function i(Ce){return s(Ce)||o(Ce)||u(Ce)||f()}a(i,"_toConsumableArray");function s(Ce){if(Array.isArray(Ce))return l(Ce)}a(s,"_arrayWithoutHoles");function o(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)}a(o,"_iterableToArray");function u(Ce,Te){if(!!Ce){if(typeof Ce=="string")return l(Ce,Te);var Je=Object.prototype.toString.call(Ce).slice(8,-1);if(Je==="Object"&&Ce.constructor&&(Je=Ce.constructor.name),Je==="Map"||Je==="Set")return Array.from(Ce);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return l(Ce,Te)}}a(u,"_unsupportedIterableToArray");function l(Ce,Te){(Te==null||Te>Ce.length)&&(Te=Ce.length);for(var Je=0,rt=new Array(Te);Je<Te;Je++)rt[Je]=Ce[Je];return rt}a(l,"_arrayLikeToArray");function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(f,"_nonIterableSpread");var h=Object.hasOwnProperty,p=Object.setPrototypeOf,g=Object.isFrozen,y=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,M=Object.freeze,z=Object.seal,P=Object.create,Q=typeof Reflect<"u"&&Reflect,V=Q.apply,W=Q.construct;V||(V=a(function(Te,Je,rt){return Te.apply(Je,rt)},"apply")),M||(M=a(function(Te){return Te},"freeze")),z||(z=a(function(Te){return Te},"seal")),W||(W=a(function(Te,Je){return n(Te,i(Je))},"construct"));var F=A(Array.prototype.forEach),B=A(Array.prototype.pop),S=A(Array.prototype.push),T=A(String.prototype.toLowerCase),k=A(String.prototype.match),R=A(String.prototype.replace),x=A(String.prototype.indexOf),N=A(String.prototype.trim),m=A(RegExp.prototype.test),v=U(TypeError);function A(Ce){return function(Te){for(var Je=arguments.length,rt=new Array(Je>1?Je-1:0),ge=1;ge<Je;ge++)rt[ge-1]=arguments[ge];return V(Ce,Te,rt)}}a(A,"unapply");function U(Ce){return function(){for(var Te=arguments.length,Je=new Array(Te),rt=0;rt<Te;rt++)Je[rt]=arguments[rt];return W(Ce,Je)}}a(U,"unconstruct");function G(Ce,Te,Je){Je=Je||T,p&&p(Ce,null);for(var rt=Te.length;rt--;){var ge=Te[rt];if(typeof ge=="string"){var xe=Je(ge);xe!==ge&&(g(Te)||(Te[rt]=xe),ge=xe)}Ce[ge]=!0}return Ce}a(G,"addToSet");function K(Ce){var Te=P(null),Je;for(Je in Ce)V(h,Ce,[Je])&&(Te[Je]=Ce[Je]);return Te}a(K,"clone");function Z(Ce,Te){for(;Ce!==null;){var Je=E(Ce,Te);if(Je){if(Je.get)return A(Je.get);if(typeof Je.value=="function")return A(Je.value)}Ce=y(Ce)}function rt(ge){return console.warn("fallback value for",ge),null}return a(rt,"fallbackValue"),rt}a(Z,"lookupGetter");var O=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ve=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ye=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),se=M(["#text"]),be=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),I=z(/<%[\w\W]*|[\w\W]*%>/gm),H=z(/^data-[\-\w.\u00B7-\uFFFF]/),te=z(/^aria-[\-\w]+$/),ie=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),he=z(/^(?:\w+script|data):/i),De=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$e=z(/^html$/i),ze=a(function(){return typeof window>"u"?null:window},"getGlobal"),Qe=a(function(Te,Je){if(e(Te)!=="object"||typeof Te.createPolicy!="function")return null;var rt=null,ge="data-tt-policy-suffix";Je.currentScript&&Je.currentScript.hasAttribute(ge)&&(rt=Je.currentScript.getAttribute(ge));var xe="dompurify"+(rt?"#"+rt:"");try{return Te.createPolicy(xe,{createHTML:a(function(ot){return ot},"createHTML"),createScriptURL:a(function(ot){return ot},"createScriptURL")})}catch{return console.warn("TrustedTypes policy "+xe+" could not be created."),null}},"_createTrustedTypesPolicy");function je(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ze(),Te=a(function(mt){return je(mt)},"DOMPurify");if(Te.version="2.4.0",Te.removed=[],!Ce||!Ce.document||Ce.document.nodeType!==9)return Te.isSupported=!1,Te;var Je=Ce.document,rt=Ce.document,ge=Ce.DocumentFragment,xe=Ce.HTMLTemplateElement,qe=Ce.Node,ot=Ce.Element,at=Ce.NodeFilter,pe=Ce.NamedNodeMap,Re=pe===void 0?Ce.NamedNodeMap||Ce.MozNamedAttrMap:pe,He=Ce.HTMLFormElement,tt=Ce.DOMParser,Ve=Ce.trustedTypes,et=ot.prototype,gt=Z(et,"cloneNode"),ut=Z(et,"nextSibling"),zt=Z(et,"childNodes"),it=Z(et,"parentNode");if(typeof xe=="function"){var Wt=rt.createElement("template");Wt.content&&Wt.content.ownerDocument&&(rt=Wt.content.ownerDocument)}var bt=Qe(Ve,Je),Se=bt?bt.createHTML(""):"",Ie=rt,ue=Ie.implementation,_e=Ie.createNodeIterator,ae=Ie.createDocumentFragment,ce=Ie.getElementsByTagName,re=Je.importNode,le={};try{le=K(rt).documentMode?rt.documentMode:{}}catch{}var me={};Te.isSupported=typeof it=="function"&&ue&&typeof ue.createHTMLDocument<"u"&&le!==9;var Ae=q,Oe=I,Ge=H,ke=te,st=he,yt=De,pt=ie,wt=null,Gt=G({},[].concat(i(O),i($),i(L),i(ve),i(se))),Pt=null,tr=G({},[].concat(i(be),i(Y),i(D),i(J))),cr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pr=null,Cr=null,Wr=!0,Tr=!0,lr=!1,fr=!1,Mr=!1,Br=!1,Ne=!1,Ze=!1,Tt=!1,Ft=!1,At=!0,Ot=!1,Vt="user-content-",Ct=!0,er=!1,Ue={},Ir=null,ct=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),xn=null,Mn=G({},["audio","video","img","source","image","track"]),Fi=null,Ya=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ha="http://www.w3.org/1998/Math/MathML",hn="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",Be=oe,Le=!1,Xe,lt=["application/xhtml+xml","text/html"],Ke="text/html",Et,nt=null,Rt=rt.createElement("form"),jt=a(function(mt){return mt instanceof RegExp||mt instanceof Function},"isRegexOrFunction"),Xt=a(function(mt){nt&&nt===mt||((!mt||e(mt)!=="object")&&(mt={}),mt=K(mt),Xe=lt.indexOf(mt.PARSER_MEDIA_TYPE)===-1?Xe=Ke:Xe=mt.PARSER_MEDIA_TYPE,Et=Xe==="application/xhtml+xml"?function($t){return $t}:T,wt="ALLOWED_TAGS"in mt?G({},mt.ALLOWED_TAGS,Et):Gt,Pt="ALLOWED_ATTR"in mt?G({},mt.ALLOWED_ATTR,Et):tr,Fi="ADD_URI_SAFE_ATTR"in mt?G(K(Ya),mt.ADD_URI_SAFE_ATTR,Et):Ya,xn="ADD_DATA_URI_TAGS"in mt?G(K(Mn),mt.ADD_DATA_URI_TAGS,Et):Mn,Ir="FORBID_CONTENTS"in mt?G({},mt.FORBID_CONTENTS,Et):ct,pr="FORBID_TAGS"in mt?G({},mt.FORBID_TAGS,Et):{},Cr="FORBID_ATTR"in mt?G({},mt.FORBID_ATTR,Et):{},Ue="USE_PROFILES"in mt?mt.USE_PROFILES:!1,Wr=mt.ALLOW_ARIA_ATTR!==!1,Tr=mt.ALLOW_DATA_ATTR!==!1,lr=mt.ALLOW_UNKNOWN_PROTOCOLS||!1,fr=mt.SAFE_FOR_TEMPLATES||!1,Mr=mt.WHOLE_DOCUMENT||!1,Ze=mt.RETURN_DOM||!1,Tt=mt.RETURN_DOM_FRAGMENT||!1,Ft=mt.RETURN_TRUSTED_TYPE||!1,Ne=mt.FORCE_BODY||!1,At=mt.SANITIZE_DOM!==!1,Ot=mt.SANITIZE_NAMED_PROPS||!1,Ct=mt.KEEP_CONTENT!==!1,er=mt.IN_PLACE||!1,pt=mt.ALLOWED_URI_REGEXP||pt,Be=mt.NAMESPACE||oe,mt.CUSTOM_ELEMENT_HANDLING&&jt(mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cr.tagNameCheck=mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&jt(mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cr.attributeNameCheck=mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&typeof mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cr.allowCustomizedBuiltInElements=mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fr&&(Tr=!1),Tt&&(Ze=!0),Ue&&(wt=G({},i(se)),Pt=[],Ue.html===!0&&(G(wt,O),G(Pt,be)),Ue.svg===!0&&(G(wt,$),G(Pt,Y),G(Pt,J)),Ue.svgFilters===!0&&(G(wt,L),G(Pt,Y),G(Pt,J)),Ue.mathMl===!0&&(G(wt,ve),G(Pt,D),G(Pt,J))),mt.ADD_TAGS&&(wt===Gt&&(wt=K(wt)),G(wt,mt.ADD_TAGS,Et)),mt.ADD_ATTR&&(Pt===tr&&(Pt=K(Pt)),G(Pt,mt.ADD_ATTR,Et)),mt.ADD_URI_SAFE_ATTR&&G(Fi,mt.ADD_URI_SAFE_ATTR,Et),mt.FORBID_CONTENTS&&(Ir===ct&&(Ir=K(Ir)),G(Ir,mt.FORBID_CONTENTS,Et)),Ct&&(wt["#text"]=!0),Mr&&G(wt,["html","head","body"]),wt.table&&(G(wt,["tbody"]),delete pr.tbody),M&&M(mt),nt=mt)},"_parseConfig"),ur=G({},["mi","mo","mn","ms","mtext"]),Er=G({},["foreignobject","desc","title","annotation-xml"]),Kr=G({},["title","style","font","a","script"]),Rr=G({},$);G(Rr,L),G(Rr,ee);var jr=G({},ve);G(jr,ye);var en=a(function(mt){var $t=it(mt);(!$t||!$t.tagName)&&($t={namespaceURI:oe,tagName:"template"});var or=T(mt.tagName),Xr=T($t.tagName);return mt.namespaceURI===hn?$t.namespaceURI===oe?or==="svg":$t.namespaceURI===Ha?or==="svg"&&(Xr==="annotation-xml"||ur[Xr]):Boolean(Rr[or]):mt.namespaceURI===Ha?$t.namespaceURI===oe?or==="math":$t.namespaceURI===hn?or==="math"&&Er[Xr]:Boolean(jr[or]):mt.namespaceURI===oe?$t.namespaceURI===hn&&!Er[Xr]||$t.namespaceURI===Ha&&!ur[Xr]?!1:!jr[or]&&(Kr[or]||!Rr[or]):!1},"_checkValidNamespace"),Un=a(function(mt){S(Te.removed,{element:mt});try{mt.parentNode.removeChild(mt)}catch{try{mt.outerHTML=Se}catch{mt.remove()}}},"_forceRemove"),yn=a(function(mt,$t){try{S(Te.removed,{attribute:$t.getAttributeNode(mt),from:$t})}catch{S(Te.removed,{attribute:null,from:$t})}if($t.removeAttribute(mt),mt==="is"&&!Pt[mt])if(Ze||Tt)try{Un($t)}catch{}else try{$t.setAttribute(mt,"")}catch{}},"_removeAttribute"),Nn=a(function(mt){var $t,or;if(Ne)mt="<remove></remove>"+mt;else{var Xr=k(mt,/^[\r\n\t ]+/);or=Xr&&Xr[0]}Xe==="application/xhtml+xml"&&(mt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+mt+"</body></html>");var ui=bt?bt.createHTML(mt):mt;if(Be===oe)try{$t=new tt().parseFromString(ui,Xe)}catch{}if(!$t||!$t.documentElement){$t=ue.createDocument(Be,"template",null);try{$t.documentElement.innerHTML=Le?"":ui}catch{}}var li=$t.body||$t.documentElement;return mt&&or&&li.insertBefore(rt.createTextNode(or),li.childNodes[0]||null),Be===oe?ce.call($t,Mr?"html":"body")[0]:Mr?$t.documentElement:li},"_initDocument"),gi=a(function(mt){return _e.call(mt.ownerDocument||mt,mt,at.SHOW_ELEMENT|at.SHOW_COMMENT|at.SHOW_TEXT,null,!1)},"_createIterator"),ca=a(function(mt){return mt instanceof He&&(typeof mt.nodeName!="string"||typeof mt.textContent!="string"||typeof mt.removeChild!="function"||!(mt.attributes instanceof Re)||typeof mt.removeAttribute!="function"||typeof mt.setAttribute!="function"||typeof mt.namespaceURI!="string"||typeof mt.insertBefore!="function")},"_isClobbered"),ci=a(function(mt){return e(qe)==="object"?mt instanceof qe:mt&&e(mt)==="object"&&typeof mt.nodeType=="number"&&typeof mt.nodeName=="string"},"_isNode"),Di=a(function(mt,$t,or){!me[mt]||F(me[mt],function(Xr){Xr.call(Te,$t,or,nt)})},"_executeHook"),za=a(function(mt){var $t;if(Di("beforeSanitizeElements",mt,null),ca(mt)||m(/[\u0080-\uFFFF]/,mt.nodeName))return Un(mt),!0;var or=Et(mt.nodeName);if(Di("uponSanitizeElement",mt,{tagName:or,allowedTags:wt}),mt.hasChildNodes()&&!ci(mt.firstElementChild)&&(!ci(mt.content)||!ci(mt.content.firstElementChild))&&m(/<[/\w]/g,mt.innerHTML)&&m(/<[/\w]/g,mt.textContent)||or==="select"&&m(/<template/i,mt.innerHTML))return Un(mt),!0;if(!wt[or]||pr[or]){if(!pr[or]&&ua(or)&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,or)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(or)))return!1;if(Ct&&!Ir[or]){var Xr=it(mt)||mt.parentNode,ui=zt(mt)||mt.childNodes;if(ui&&Xr)for(var li=ui.length,Bn=li-1;Bn>=0;--Bn)Xr.insertBefore(gt(ui[Bn],!0),ut(mt))}return Un(mt),!0}return mt instanceof ot&&!en(mt)||(or==="noscript"||or==="noembed")&&m(/<\/no(script|embed)/i,mt.innerHTML)?(Un(mt),!0):(fr&&mt.nodeType===3&&($t=mt.textContent,$t=R($t,Ae," "),$t=R($t,Oe," "),mt.textContent!==$t&&(S(Te.removed,{element:mt.cloneNode()}),mt.textContent=$t)),Di("afterSanitizeElements",mt,null),!1)},"_sanitizeElements"),Ni=a(function(mt,$t,or){if(At&&($t==="id"||$t==="name")&&(or in rt||or in Rt))return!1;if(!(Tr&&!Cr[$t]&&m(Ge,$t))){if(!(Wr&&m(ke,$t))){if(!Pt[$t]||Cr[$t]){if(!(ua(mt)&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,mt)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(mt))&&(cr.attributeNameCheck instanceof RegExp&&m(cr.attributeNameCheck,$t)||cr.attributeNameCheck instanceof Function&&cr.attributeNameCheck($t))||$t==="is"&&cr.allowCustomizedBuiltInElements&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,or)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(or))))return!1}else if(!Fi[$t]){if(!m(pt,R(or,yt,""))){if(!(($t==="src"||$t==="xlink:href"||$t==="href")&&mt!=="script"&&x(or,"data:")===0&&xn[mt])){if(!(lr&&!m(st,R(or,yt,"")))){if(or)return!1}}}}}}return!0},"_isValidAttribute"),ua=a(function(mt){return mt.indexOf("-")>0},"_basicCustomElementTest"),Ui=a(function(mt){var $t,or,Xr,ui;Di("beforeSanitizeAttributes",mt,null);var li=mt.attributes;if(!!li){var Bn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pt};for(ui=li.length;ui--;){$t=li[ui];var ka=$t,Wn=ka.name,Fs=ka.namespaceURI;if(or=Wn==="value"?$t.value:N($t.value),Xr=Et(Wn),Bn.attrName=Xr,Bn.attrValue=or,Bn.keepAttr=!0,Bn.forceKeepAttr=void 0,Di("uponSanitizeAttribute",mt,Bn),or=Bn.attrValue,!Bn.forceKeepAttr&&(yn(Wn,mt),!!Bn.keepAttr)){if(m(/\/>/i,or)){yn(Wn,mt);continue}fr&&(or=R(or,Ae," "),or=R(or,Oe," "));var Ca=Et(mt.nodeName);if(!!Ni(Ca,Xr,or)){if(Ot&&(Xr==="id"||Xr==="name")&&(yn(Wn,mt),or=Vt+or),bt&&e(Ve)==="object"&&typeof Ve.getAttributeType=="function"&&!Fs)switch(Ve.getAttributeType(Ca,Xr)){case"TrustedHTML":or=bt.createHTML(or);break;case"TrustedScriptURL":or=bt.createScriptURL(or);break}try{Fs?mt.setAttributeNS(Fs,Wn,or):mt.setAttribute(Wn,or),B(Te.removed)}catch{}}}}Di("afterSanitizeAttributes",mt,null)}},"_sanitizeAttributes"),Qr=a(function rr(mt){var $t,or=gi(mt);for(Di("beforeSanitizeShadowDOM",mt,null);$t=or.nextNode();)Di("uponSanitizeShadowNode",$t,null),!za($t)&&($t.content instanceof ge&&rr($t.content),Ui($t));Di("afterSanitizeShadowDOM",mt,null)},"_sanitizeShadowDOM");return Te.sanitize=function(rr){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$t,or,Xr,ui,li;if(Le=!rr,Le&&(rr="<!-->"),typeof rr!="string"&&!ci(rr)){if(typeof rr.toString!="function")throw v("toString is not a function");if(rr=rr.toString(),typeof rr!="string")throw v("dirty is not a string, aborting")}if(!Te.isSupported){if(e(Ce.toStaticHTML)==="object"||typeof Ce.toStaticHTML=="function"){if(typeof rr=="string")return Ce.toStaticHTML(rr);if(ci(rr))return Ce.toStaticHTML(rr.outerHTML)}return rr}if(Br||Xt(mt),Te.removed=[],typeof rr=="string"&&(er=!1),er){if(rr.nodeName){var Bn=Et(rr.nodeName);if(!wt[Bn]||pr[Bn])throw v("root node is forbidden and cannot be sanitized in-place")}}else if(rr instanceof qe)$t=Nn("<!---->"),or=$t.ownerDocument.importNode(rr,!0),or.nodeType===1&&or.nodeName==="BODY"||or.nodeName==="HTML"?$t=or:$t.appendChild(or);else{if(!Ze&&!fr&&!Mr&&rr.indexOf("<")===-1)return bt&&Ft?bt.createHTML(rr):rr;if($t=Nn(rr),!$t)return Ze?null:Ft?Se:""}$t&&Ne&&Un($t.firstChild);for(var ka=gi(er?rr:$t);Xr=ka.nextNode();)Xr.nodeType===3&&Xr===ui||za(Xr)||(Xr.content instanceof ge&&Qr(Xr.content),Ui(Xr),ui=Xr);if(ui=null,er)return rr;if(Ze){if(Tt)for(li=ae.call($t.ownerDocument);$t.firstChild;)li.appendChild($t.firstChild);else li=$t;return Pt.shadowroot&&(li=re.call(Je,li,!0)),li}var Wn=Mr?$t.outerHTML:$t.innerHTML;return Mr&&wt["!doctype"]&&$t.ownerDocument&&$t.ownerDocument.doctype&&$t.ownerDocument.doctype.name&&m($e,$t.ownerDocument.doctype.name)&&(Wn="<!DOCTYPE "+$t.ownerDocument.doctype.name+`>
`+Wn),fr&&(Wn=R(Wn,Ae," "),Wn=R(Wn,Oe," ")),bt&&Ft?bt.createHTML(Wn):Wn},Te.setConfig=function(rr){Xt(rr),Br=!0},Te.clearConfig=function(){nt=null,Br=!1},Te.isValidAttribute=function(rr,mt,$t){nt||Xt({});var or=Et(rr),Xr=Et(mt);return Ni(or,Xr,$t)},Te.addHook=function(rr,mt){typeof mt=="function"&&(me[rr]=me[rr]||[],S(me[rr],mt))},Te.removeHook=function(rr){if(me[rr])return B(me[rr])},Te.removeHooks=function(rr){me[rr]&&(me[rr]=[])},Te.removeAllHooks=function(){me={}},Te}a(je,"createDOMPurify");var We=je();return We})});var da=j((gcr,Zle)=>{"use strict";d();Zle.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Uint8Array}});var Dl=j((mcr,_O)=>{"use strict";d();var vet=Ei(),_et=Object.getPrototypeOf(async function(){}).constructor,efe=globalThis.Blob||vet.Blob,xet=a(typeof efe<"u"?function(t){return t instanceof efe}:function(t){return!1},"isBlob"),eS=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};a(eS,"AggregateError");_O.exports={AggregateError:eS,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof _et},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:xet};_O.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var rS=j((_cr,tS)=>{"use strict";d();var{AbortController:tfe,AbortSignal:wet}=typeof self<"u"?self:typeof window<"u"?window:void 0;tS.exports=tfe;tS.exports.AbortSignal=wet;tS.exports.default=tfe});var Js=j((wcr,ife)=>{"use strict";d();var{format:Aet,inspect:iS,AggregateError:Eet}=Dl(),ket=globalThis.AggregateError||Eet,Cet=Symbol("kIsNodeError"),Iet=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Tet=/^([A-Z][a-z0-9]*)+$/,Met="__node_internal_",aS={};function m1(e,t){if(!e)throw new aS.ERR_INTERNAL_ASSERTION(t)}a(m1,"assert");function rfe(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}a(rfe,"addNumericalSeparator");function Bet(e,t,r){if(typeof t=="function")return m1(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return m1(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:Aet(t,...r)}a(Bet,"getMessage");function ls(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(Bet(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}a(n,"NodeError"),Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Cet]=!0,aS[e]=n}a(ls,"E");function nfe(e){let t=Met+e.name;return Object.defineProperty(e,"name",{value:t}),e}a(nfe,"hideStackFrames");function Ret(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new ket([t,e],t.message);return r.code=t.code,r}return e||t}a(Ret,"aggregateTwoErrors");var nS=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new aS.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};a(nS,"AbortError");ls("ERR_ASSERTION","%s",Error);ls("ERR_INVALID_ARG_TYPE",(e,t,r)=>{m1(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of t)m1(typeof l=="string","All expected entries have to be of type string"),Iet.includes(l)?i.push(l.toLowerCase()):Tet.test(l)?s.push(l):(m1(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=iS(r,{depth:-1});n+=`. Received ${l}`}}else{let l=iS(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);ls("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=iS(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);ls("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);ls("ERR_MISSING_ARGS",(...e)=>{m1(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);ls("ERR_OUT_OF_RANGE",(e,t,r)=>{m1(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=rfe(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=rfe(n)),n+="n"):n=iS(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);ls("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ls("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ls("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ls("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ls("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ls("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ls("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ls("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ls("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ls("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ls("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ife.exports={AbortError:nS,aggregateTwoErrors:nfe(Ret),hideStackFrames:nfe,codes:aS}});var Rx=j((Scr,hfe)=>{"use strict";d();var{ArrayIsArray:ofe,ArrayPrototypeIncludes:cfe,ArrayPrototypeJoin:ufe,ArrayPrototypeMap:Let,NumberIsInteger:wO,NumberIsNaN:Det,NumberMAX_SAFE_INTEGER:Net,NumberMIN_SAFE_INTEGER:Oet,NumberParseInt:qet,ObjectPrototypeHasOwnProperty:Pet,RegExpPrototypeExec:Fet,String:Uet,StringPrototypeToUpperCase:Yet,StringPrototypeTrim:Het}=da(),{hideStackFrames:ku,codes:{ERR_SOCKET_BAD_PORT:zet,ERR_INVALID_ARG_TYPE:Eo,ERR_INVALID_ARG_VALUE:sS,ERR_OUT_OF_RANGE:b1,ERR_UNKNOWN_SIGNAL:afe}}=Js(),{normalizeEncoding:Qet}=Dl(),{isAsyncFunction:Wet,isArrayBufferView:Vet}=Dl().types,sfe={};function jet(e){return e===(e|0)}a(jet,"isInt32");function Get(e){return e===e>>>0}a(Get,"isUint32");var Ket=/^[0-7]+$/,$et="must be a 32-bit unsigned integer or an octal string";function Xet(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Fet(Ket,e)===null)throw new sS(t,e,$et);e=qet(e,8)}return lfe(e,t),e}a(Xet,"parseFileMode");var Jet=ku((e,t,r=Oet,n=Net)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!wO(e))throw new b1(t,"an integer",e);if(e<r||e>n)throw new b1(t,`>= ${r} && <= ${n}`,e)}),Zet=ku((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!wO(e))throw new b1(t,"an integer",e);if(e<r||e>n)throw new b1(t,`>= ${r} && <= ${n}`,e)}),lfe=ku((e,t,r=!1)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!wO(e))throw new b1(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new b1(t,`>= ${n} && <= ${i}`,e)});function ffe(e,t){if(typeof e!="string")throw new Eo(t,"string",e)}a(ffe,"validateString");function ett(e,t,r=void 0,n){if(typeof e!="number")throw new Eo(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Det(e))throw new b1(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}a(ett,"validateNumber");var ttt=ku((e,t,r)=>{if(!cfe(r,e)){let i="must be one of: "+ufe(Let(r,s=>typeof s=="string"?`'${s}'`:Uet(s)),", ");throw new sS(t,e,i)}});function rtt(e,t){if(typeof e!="boolean")throw new Eo(t,"boolean",e)}a(rtt,"validateBoolean");function xO(e,t,r){return e==null||!Pet(e,t)?r:e[t]}a(xO,"getOwnPropertyValueOrDefault");var ntt=ku((e,t,r=null)=>{let n=xO(r,"allowArray",!1),i=xO(r,"allowFunction",!1);if(!xO(r,"nullable",!1)&&e===null||!n&&ofe(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new Eo(t,"Object",e)}),itt=ku((e,t,r=0)=>{if(!ofe(e))throw new Eo(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new sS(t,e,n)}});function att(e,t="signal"){if(ffe(e,t),sfe[e]===void 0)throw sfe[Yet(e)]!==void 0?new afe(e+" (signals must use all capital letters)"):new afe(e)}a(att,"validateSignalName");var stt=ku((e,t="buffer")=>{if(!Vet(e))throw new Eo(t,["Buffer","TypedArray","DataView"],e)});function ott(e,t){let r=Qet(t),n=e.length;if(r==="hex"&&n%2!==0)throw new sS("encoding",t,`is invalid for data of length ${n}`)}a(ott,"validateEncoding");function ctt(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Het(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new zet(t,e,r);return e|0}a(ctt,"validatePort");var utt=ku((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Eo(t,"AbortSignal",e)}),ltt=ku((e,t)=>{if(typeof e!="function")throw new Eo(t,"Function",e)}),ftt=ku((e,t)=>{if(typeof e!="function"||Wet(e))throw new Eo(t,"Function",e)}),htt=ku((e,t)=>{if(e!==void 0)throw new Eo(t,"undefined",e)});function dtt(e,t,r){if(!cfe(r,e))throw new Eo(t,`('${ufe(r,"|")}')`,e)}a(dtt,"validateUnion");hfe.exports={isInt32:jet,isUint32:Get,parseFileMode:Xet,validateArray:itt,validateBoolean:rtt,validateBuffer:stt,validateEncoding:ott,validateFunction:ltt,validateInt32:Zet,validateInteger:Jet,validateNumber:ett,validateObject:ntt,validateOneOf:ttt,validatePlainFunction:ftt,validatePort:ctt,validateSignalName:att,validateString:ffe,validateUint32:lfe,validateUndefined:htt,validateUnion:dtt,validateAbortSignal:utt}});var Jd=j((Icr,Efe)=>{"use strict";d();var{Symbol:oS,SymbolAsyncIterator:dfe,SymbolIterator:pfe}=da(),gfe=oS("kDestroyed"),yfe=oS("kIsErrored"),AO=oS("kIsReadable"),mfe=oS("kIsDisturbed");function cS(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}a(cS,"isReadableNodeStream");function uS(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}a(uS,"isWritableNodeStream");function ptt(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}a(ptt,"isDuplexNodeStream");function v1(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}a(v1,"isNodeStream");function gtt(e,t){return e==null?!1:t===!0?typeof e[dfe]=="function":t===!1?typeof e[pfe]=="function":typeof e[dfe]=="function"||typeof e[pfe]=="function"}a(gtt,"isIterable");function lS(e){if(!v1(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[gfe]||n!=null&&n.destroyed)}a(lS,"isDestroyed");function bfe(e){if(!uS(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}a(bfe,"isWritableEnded");function ytt(e,t){if(!uS(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}a(ytt,"isWritableFinished");function mtt(e){if(!cS(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}a(mtt,"isReadableEnded");function vfe(e,t){if(!cS(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}a(vfe,"isReadableFinished");function _fe(e){return e&&e[AO]!=null?e[AO]:typeof e?.readable!="boolean"?null:lS(e)?!1:cS(e)&&e.readable&&!vfe(e)}a(_fe,"isReadable");function xfe(e){return typeof e?.writable!="boolean"?null:lS(e)?!1:uS(e)&&e.writable&&!bfe(e)}a(xfe,"isWritable");function btt(e,t){return v1(e)?lS(e)?!0:!(t?.readable!==!1&&_fe(e)||t?.writable!==!1&&xfe(e)):null}a(btt,"isFinished");function vtt(e){var t,r;return v1(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}a(vtt,"isWritableErrored");function _tt(e){var t,r;return v1(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}a(_tt,"isReadableErrored");function xtt(e){if(!v1(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&wfe(e)?e._closed:null}a(xtt,"isClosed");function wfe(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}a(wfe,"isOutgoingMessage");function Afe(e){return typeof e._sent100=="boolean"&&wfe(e)}a(Afe,"isServerResponse");function wtt(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}a(wtt,"isServerRequest");function Att(e){if(!v1(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&Afe(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}a(Att,"willEmitClose");function Ett(e){var t;return!!(e&&((t=e[mfe])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}a(Ett,"isDisturbed");function Stt(e){var t,r,n,i,s,o,u,l,f,h;return!!(e&&((t=(r=(n=(i=(s=(o=e[yfe])!==null&&o!==void 0?o:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&i!==void 0?i:(u=e._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(f=e._readableState)===null||f===void 0?void 0:f.errored)!==null&&t!==void 0?t:(h=e._writableState)===null||h===void 0?void 0:h.errored))}a(Stt,"isErrored");Efe.exports={kDestroyed:gfe,isDisturbed:Ett,kIsDisturbed:mfe,isErrored:Stt,kIsErrored:yfe,isReadable:_fe,kIsReadable:AO,isClosed:xtt,isDestroyed:lS,isDuplexNodeStream:ptt,isFinished:btt,isIterable:gtt,isReadableNodeStream:cS,isReadableEnded:mtt,isReadableFinished:vfe,isReadableErrored:_tt,isNodeStream:v1,isWritable:xfe,isWritableNodeStream:uS,isWritableEnded:bfe,isWritableFinished:ytt,isWritableErrored:vtt,isServerRequest:wtt,isServerResponse:Afe,willEmitClose:Att}});var Zd=j((Bcr,SO)=>{d();var Pm=Tf(),{AbortError:ktt,codes:Ctt}=Js(),{ERR_INVALID_ARG_TYPE:Itt,ERR_STREAM_PREMATURE_CLOSE:Sfe}=Ctt,{kEmptyObject:kfe,once:Cfe}=Dl(),{validateAbortSignal:Ttt,validateFunction:Mtt,validateObject:Btt}=Rx(),{Promise:Rtt}=da(),{isClosed:Ltt,isReadable:Ife,isReadableNodeStream:EO,isReadableFinished:Tfe,isReadableErrored:Dtt,isWritable:Mfe,isWritableNodeStream:Bfe,isWritableFinished:Rfe,isWritableErrored:Ntt,isNodeStream:Ott,willEmitClose:qtt}=Jd();function Ptt(e){return e.setHeader&&typeof e.abort=="function"}a(Ptt,"isRequest");var Ftt=a(()=>{},"nop");function Lfe(e,t,r){var n,i;arguments.length===2?(r=t,t=kfe):t==null?t=kfe:Btt(t,"options"),Mtt(r,"callback"),Ttt(t.signal,"options.signal"),r=Cfe(r);let s=(n=t.readable)!==null&&n!==void 0?n:EO(e),o=(i=t.writable)!==null&&i!==void 0?i:Bfe(e);if(!Ott(e))throw new Itt("stream","Stream",e);let u=e._writableState,l=e._readableState,f=a(()=>{e.writable||g()},"onlegacyfinish"),h=qtt(e)&&EO(e)===s&&Bfe(e)===o,p=Rfe(e,!1),g=a(()=>{p=!0,e.destroyed&&(h=!1),!(h&&(!e.readable||s))&&(!s||y)&&r.call(e)},"onfinish"),y=Tfe(e,!1),E=a(()=>{y=!0,e.destroyed&&(h=!1),!(h&&(!e.writable||o))&&(!o||p)&&r.call(e)},"onend"),M=a(W=>{r.call(e,W)},"onerror"),z=Ltt(e),P=a(()=>{z=!0;let W=Ntt(e)||Dtt(e);if(W&&typeof W!="boolean")return r.call(e,W);if(s&&!y&&EO(e,!0)&&!Tfe(e,!1))return r.call(e,new Sfe);if(o&&!p&&!Rfe(e,!1))return r.call(e,new Sfe);r.call(e)},"onclose"),Q=a(()=>{e.req.on("finish",g)},"onrequest");Ptt(e)?(e.on("complete",g),h||e.on("abort",P),e.req?Q():e.on("request",Q)):o&&!u&&(e.on("end",f),e.on("close",f)),!h&&typeof e.aborted=="boolean"&&e.on("aborted",P),e.on("end",E),e.on("finish",g),t.error!==!1&&e.on("error",M),e.on("close",P),z?Pm.nextTick(P):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?h||Pm.nextTick(P):(!s&&(!h||Ife(e))&&(p||Mfe(e)===!1)||!o&&(!h||Mfe(e))&&(y||Ife(e)===!1)||l&&e.req&&e.aborted)&&Pm.nextTick(P);let V=a(()=>{r=Ftt,e.removeListener("aborted",P),e.removeListener("complete",g),e.removeListener("abort",P),e.removeListener("request",Q),e.req&&e.req.removeListener("finish",g),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",g),e.removeListener("end",E),e.removeListener("error",M),e.removeListener("close",P)},"cleanup");if(t.signal&&!z){let W=a(()=>{let F=r;V(),F.call(e,new ktt(void 0,{cause:t.signal.reason}))},"abort");if(t.signal.aborted)Pm.nextTick(W);else{let F=r;r=Cfe((...B)=>{t.signal.removeEventListener("abort",W),F.apply(e,B)}),t.signal.addEventListener("abort",W)}}return V}a(Lfe,"eos");function Utt(e,t){return new Rtt((r,n)=>{Lfe(e,t,i=>{i?n(i):r()})})}a(Utt,"finished");SO.exports=Lfe;SO.exports.finished=Utt});var Yfe=j((Dcr,CO)=>{"use strict";d();var qfe=globalThis.AbortController||rS().AbortController,{codes:{ERR_INVALID_ARG_TYPE:Lx,ERR_MISSING_ARGS:Ytt,ERR_OUT_OF_RANGE:Htt},AbortError:Nl}=Js(),{validateAbortSignal:Fm,validateInteger:ztt,validateObject:Um}=Rx(),Qtt=da().Symbol("kWeak"),{finished:Wtt}=Zd(),{ArrayPrototypePush:Vtt,MathFloor:jtt,Number:Gtt,NumberIsNaN:Ktt,Promise:Dfe,PromiseReject:Nfe,PromisePrototypeThen:$tt,Symbol:Pfe}=da(),hS=Pfe("kEmpty"),Ofe=Pfe("kEof");function dS(e,t){if(typeof e!="function")throw new Lx("fn",["Function","AsyncFunction"],e);t!=null&&Um(t,"options"),t?.signal!=null&&Fm(t.signal,"options.signal");let r=1;return t?.concurrency!=null&&(r=jtt(t.concurrency)),ztt(r,"concurrency",1),a(async function*(){var i,s;let o=new qfe,u=this,l=[],f=o.signal,h={signal:f},p=a(()=>o.abort(),"abort");t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted&&p(),t==null||(s=t.signal)===null||s===void 0||s.addEventListener("abort",p);let g,y,E=!1;function M(){E=!0}a(M,"onDone");async function z(){try{for await(let V of u){var P;if(E)return;if(f.aborted)throw new Nl;try{V=e(V,h)}catch(W){V=Nfe(W)}V!==hS&&(typeof((P=V)===null||P===void 0?void 0:P.catch)=="function"&&V.catch(M),l.push(V),g&&(g(),g=null),!E&&l.length&&l.length>=r&&await new Dfe(W=>{y=W}))}l.push(Ofe)}catch(V){let W=Nfe(V);$tt(W,void 0,M),l.push(W)}finally{var Q;E=!0,g&&(g(),g=null),t==null||(Q=t.signal)===null||Q===void 0||Q.removeEventListener("abort",p)}}a(z,"pump"),z();try{for(;;){for(;l.length>0;){let P=await l[0];if(P===Ofe)return;if(f.aborted)throw new Nl;P!==hS&&(yield P),l.shift(),y&&(y(),y=null)}await new Dfe(P=>{g=P})}}finally{o.abort(),E=!0,y&&(y(),y=null)}},"map").call(this)}a(dS,"map");function Xtt(e=void 0){return e!=null&&Um(e,"options"),e?.signal!=null&&Fm(e.signal,"options.signal"),a(async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Nl({cause:e.signal.reason});yield[r++,i]}},"asIndexedPairs").call(this)}a(Xtt,"asIndexedPairs");async function Ffe(e,t=void 0){for await(let r of kO.call(this,e,t))return!0;return!1}a(Ffe,"some");async function Jtt(e,t=void 0){if(typeof e!="function")throw new Lx("fn",["Function","AsyncFunction"],e);return!await Ffe.call(this,async(...r)=>!await e(...r),t)}a(Jtt,"every");async function Ztt(e,t){for await(let r of kO.call(this,e,t))return r}a(Ztt,"find");async function ert(e,t){if(typeof e!="function")throw new Lx("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),hS}a(r,"forEachFn");for await(let n of dS.call(this,r,t));}a(ert,"forEach");function kO(e,t){if(typeof e!="function")throw new Lx("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:hS}return a(r,"filterFn"),dS.call(this,r,t)}a(kO,"filter");var fS=class extends Ytt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};a(fS,"ReduceAwareErrMissingArgs");async function trt(e,t,r){var n;if(typeof e!="function")throw new Lx("reducer",["Function","AsyncFunction"],e);r!=null&&Um(r,"options"),r?.signal!=null&&Fm(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let f=new Nl(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Wtt(this.destroy(f)),f}let s=new qfe,o=s.signal;if(r!=null&&r.signal){let f={once:!0,[Qtt]:this};r.signal.addEventListener("abort",()=>s.abort(),f)}let u=!1;try{for await(let f of this){var l;if(u=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Nl;i?t=await e(t,f,{signal:o}):(t=f,i=!0)}if(!u&&!i)throw new fS}finally{s.abort()}return t}a(trt,"reduce");async function rrt(e){e!=null&&Um(e,"options"),e?.signal!=null&&Fm(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Nl(void 0,{cause:e.signal.reason});Vtt(t,n)}return t}a(rrt,"toArray");function nrt(e,t){let r=dS.call(this,e,t);return a(async function*(){for await(let i of r)yield*i},"flatMap").call(this)}a(nrt,"flatMap");function Ufe(e){if(e=Gtt(e),Ktt(e))return 0;if(e<0)throw new Htt("number",">= 0",e);return e}a(Ufe,"toIntegerOrInfinity");function irt(e,t=void 0){return t!=null&&Um(t,"options"),t?.signal!=null&&Fm(t.signal,"options.signal"),e=Ufe(e),a(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Nl;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Nl;e--<=0&&(yield s)}},"drop").call(this)}a(irt,"drop");function art(e,t=void 0){return t!=null&&Um(t,"options"),t?.signal!=null&&Fm(t.signal,"options.signal"),e=Ufe(e),a(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Nl;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Nl;if(e-- >0)yield s;else return}},"take").call(this)}a(art,"take");CO.exports.streamReturningOperators={asIndexedPairs:Xtt,drop:irt,filter:kO,flatMap:nrt,map:dS,take:art};CO.exports.promiseReturningOperators={every:Jtt,forEach:ert,reduce:trt,toArray:rrt,some:Ffe,find:Ztt}});var _1=j((qcr,Kfe)=>{"use strict";d();var e0=Tf(),{aggregateTwoErrors:srt,codes:{ERR_MULTIPLE_CALLBACK:ort},AbortError:crt}=Js(),{Symbol:Qfe}=da(),{kDestroyed:urt,isDestroyed:lrt,isFinished:frt,isServerRequest:hrt}=Jd(),Wfe=Qfe("kDestroy"),IO=Qfe("kConstruct");function Vfe(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}a(Vfe,"checkError");function drt(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof t=="function"&&t(),this):(Vfe(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Hfe(this,e,t):this.once(Wfe,function(s){Hfe(this,srt(s,e),t)}),this)}a(drt,"destroy");function Hfe(e,t,r){let n=!1;function i(s){if(n)return;n=!0;let o=e._readableState,u=e._writableState;Vfe(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?e0.nextTick(prt,e,s):e0.nextTick(jfe,e)}a(i,"onDestroy");try{e._destroy(t||null,i)}catch(s){i(s)}}a(Hfe,"_destroy");function prt(e,t){TO(e,t),jfe(e)}a(prt,"emitErrorCloseNT");function jfe(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}a(jfe,"emitCloseNT");function TO(e,t){let r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}a(TO,"emitErrorNT");function grt(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}a(grt,"undestroy");function MO(e,t,r){let n=e._readableState,i=e._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?e0.nextTick(TO,e,t):TO(e,t))}a(MO,"errorOrDestroy");function yrt(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(IO,t),!(e.listenerCount(IO)>1)&&e0.nextTick(mrt,e)}a(yrt,"construct");function mrt(e){let t=!1;function r(n){if(t){MO(e,n??new ort);return}t=!0;let i=e._readableState,s=e._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(Wfe,n):n?MO(e,n,!0):e0.nextTick(brt,e)}a(r,"onConstruct");try{e._construct(r)}catch(n){r(n)}}a(mrt,"constructNT");function brt(e){e.emit(IO)}a(brt,"emitConstructNT");function zfe(e){return e&&e.setHeader&&typeof e.abort=="function"}a(zfe,"isRequest");function Gfe(e){e.emit("close")}a(Gfe,"emitCloseLegacy");function vrt(e,t){e.emit("error",t),e0.nextTick(Gfe,e)}a(vrt,"emitErrorCloseLegacy");function _rt(e,t){!e||lrt(e)||(!t&&!frt(e)&&(t=new crt),hrt(e)?(e.socket=null,e.destroy(t)):zfe(e)?e.abort():zfe(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?e0.nextTick(vrt,e,t):e0.nextTick(Gfe,e),e.destroyed||(e[urt]=!0))}a(_rt,"destroyer");Kfe.exports={construct:yrt,destroyer:_rt,destroy:drt,undestroy:grt,errorOrDestroy:MO}});var yS=j((Ucr,Xfe)=>{"use strict";d();var{ArrayIsArray:xrt,ObjectSetPrototypeOf:$fe}=da(),{EventEmitter:pS}=ea();function gS(e){pS.call(this,e)}a(gS,"Stream");$fe(gS.prototype,pS.prototype);$fe(gS,pS);gS.prototype.pipe=function(e,t){let r=this;function n(h){e.writable&&e.write(h)===!1&&r.pause&&r.pause()}a(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}a(i,"ondrain"),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",u));let s=!1;function o(){s||(s=!0,e.end())}a(o,"onend");function u(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}a(u,"onclose");function l(h){f(),pS.listenerCount(this,"error")===0&&this.emit("error",h)}a(l,"onerror"),BO(r,"error",l),BO(e,"error",l);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(f,"cleanup"),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e};function BO(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):xrt(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(BO,"prependListener");Xfe.exports={Stream:gS,prependListener:BO}});var bS=j((zcr,mS)=>{"use strict";d();var{AbortError:wrt,codes:Art}=Js(),Ert=Zd(),{ERR_INVALID_ARG_TYPE:Jfe}=Art,Srt=a((e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new Jfe(t,"AbortSignal",e)},"validateAbortSignal");function krt(e){return!!(e&&typeof e.pipe=="function")}a(krt,"isNodeStream");mS.exports.addAbortSignal=a(function(t,r){if(Srt(t,"signal"),!krt(r))throw new Jfe("stream","stream.Stream",r);return mS.exports.addAbortSignalNoValidate(t,r)},"addAbortSignal");mS.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=a(()=>{t.destroy(new wrt(void 0,{cause:e.reason}))},"onAbort");return e.aborted?r():(e.addEventListener("abort",r),Ert(t,()=>e.removeEventListener("abort",r))),t}});var the=j((jcr,ehe)=>{"use strict";d();var{StringPrototypeSlice:Zfe,SymbolIterator:Crt,TypedArrayPrototypeSet:vS,Uint8Array:Irt}=da(),{Buffer:RO}=Ei(),{inspect:Trt}=Dl();ehe.exports=a(class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return RO.alloc(0);let r=RO.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)vS(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Crt](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Zfe(s,0,t),this.head=n,n.data=Zfe(s,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=RO.allocUnsafe(t),n=t,i=this.head,s=0;do{let o=i.data;if(t>o.length)vS(r,o,n-t),t-=o.length;else{t===o.length?(vS(r,o,n-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(vS(r,new Irt(o.buffer,o.byteOffset,t),n-t),this.head=i,i.data=o.slice(t));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Trt(this,{...r,depth:0,customInspect:!1})}},"BufferList")});var _S=j(($cr,nhe)=>{"use strict";d();var{MathFloor:Mrt,NumberIsInteger:Brt}=da(),{ERR_INVALID_ARG_VALUE:Rrt}=Js().codes;function Lrt(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}a(Lrt,"highWaterMarkFrom");function rhe(e){return e?16:16*1024}a(rhe,"getDefaultHighWaterMark");function Drt(e,t,r,n){let i=Lrt(t,n,r);if(i!=null){if(!Brt(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Rrt(s,i)}return Mrt(i)}return rhe(e.objectMode)}a(Drt,"getHighWaterMark");nhe.exports={getHighWaterMark:Drt,getDefaultHighWaterMark:rhe}});var LO=j((Zcr,ohe)=>{"use strict";d();var ihe=Tf(),{PromisePrototypeThen:Nrt,SymbolAsyncIterator:ahe,SymbolIterator:she}=da(),{Buffer:Ort}=Ei(),{ERR_INVALID_ARG_TYPE:qrt,ERR_STREAM_NULL_VALUES:Prt}=Js().codes;function Frt(e,t,r){let n;if(typeof t=="string"||t instanceof Ort)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[ahe])i=!0,n=t[ahe]();else if(t&&t[she])i=!1,n=t[she]();else throw new qrt("iterable",["Iterable"],t);let s=new e({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(f,h){Nrt(u(f),()=>ihe.nextTick(h,f),p=>ihe.nextTick(h,p||f))};async function u(f){let h=f!=null,p=typeof n.throw=="function";if(h&&p){let{value:g,done:y}=await n.throw(f);if(await g,y)return}if(typeof n.return=="function"){let{value:g}=await n.return();await g}}a(u,"close");async function l(){for(;;){try{let{value:f,done:h}=i?await n.next():n.next();if(h)s.push(null);else{let p=f&&typeof f.then=="function"?await f:f;if(p===null)throw o=!1,new Prt;if(s.push(p))continue;o=!1}}catch(f){s.destroy(f)}break}}return a(l,"next"),s}a(Frt,"from");ohe.exports=Frt});var Dx=j((rur,_he)=>{d();var Cu=Tf(),{ArrayPrototypeIndexOf:Urt,NumberIsInteger:Yrt,NumberIsNaN:Hrt,NumberParseInt:zrt,ObjectDefineProperties:lhe,ObjectKeys:Qrt,ObjectSetPrototypeOf:fhe,Promise:Wrt,SafeSet:Vrt,SymbolAsyncIterator:jrt,Symbol:Grt}=da();_he.exports=ln;ln.ReadableState=FO;var{EventEmitter:Krt}=ea(),{Stream:t0,prependListener:$rt}=yS(),{Buffer:DO}=Ei(),{addAbortSignal:Xrt}=bS(),Jrt=Zd(),An=Dl().debuglog("stream",e=>{An=e}),Zrt=the(),Hm=_1(),{getHighWaterMark:ent,getDefaultHighWaterMark:tnt}=_S(),{aggregateTwoErrors:che,codes:{ERR_INVALID_ARG_TYPE:rnt,ERR_METHOD_NOT_IMPLEMENTED:nnt,ERR_OUT_OF_RANGE:int,ERR_STREAM_PUSH_AFTER_EOF:ant,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:snt}}=Js(),{validateObject:ont}=Rx(),x1=Grt("kPaused"),{StringDecoder:hhe}=u_(),cnt=LO();fhe(ln.prototype,t0.prototype);fhe(ln,t0);var NO=a(()=>{},"nop"),{errorOrDestroy:Ym}=Hm;function FO(e,t,r){typeof r!="boolean"&&(r=t instanceof Ol()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?ent(this,e,"readableHighWaterMark",r):tnt(!1),this.buffer=new Zrt,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[x1]=null,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new hhe(e.encoding),this.encoding=e.encoding)}a(FO,"ReadableState");function ln(e){if(!(this instanceof ln))return new ln(e);let t=this instanceof Ol();this._readableState=new FO(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&Xrt(e.signal,this)),t0.call(this,e),Hm.construct(this,()=>{this._readableState.needReadable&&xS(this,this._readableState)})}a(ln,"Readable");ln.prototype.destroy=Hm.destroy;ln.prototype._undestroy=Hm.undestroy;ln.prototype._destroy=function(e,t){t(e)};ln.prototype[Krt.captureRejectionSymbol]=function(e){this.destroy(e)};ln.prototype.push=function(e,t){return dhe(this,e,t,!1)};ln.prototype.unshift=function(e,t){return dhe(this,e,t,!0)};function dhe(e,t,r,n){An("readableAddChunk",t);let i=e._readableState,s;if(i.objectMode||(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=DO.from(t,r).toString(i.encoding):(t=DO.from(t,r),r=""))):t instanceof DO?r="":t0._isUint8Array(t)?(t=t0._uint8ArrayToBuffer(t),r=""):t!=null&&(s=new rnt("chunk",["string","Buffer","Uint8Array"],t))),s)Ym(e,s);else if(t===null)i.reading=!1,fnt(e,i);else if(i.objectMode||t&&t.length>0)if(n)if(i.endEmitted)Ym(e,new snt);else{if(i.destroyed||i.errored)return!1;OO(e,i,t,!0)}else if(i.ended)Ym(e,new ant);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?OO(e,i,t,!1):xS(e,i)):OO(e,i,t,!1)}else n||(i.reading=!1,xS(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}a(dhe,"readableAddChunk");function OO(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&wS(e)),xS(e,t)}a(OO,"addChunk");ln.prototype.isPaused=function(){let e=this._readableState;return e[x1]===!0||e.flowing===!1};ln.prototype.setEncoding=function(e){let t=new hhe(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var unt=1073741824;function lnt(e){if(e>unt)throw new int("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}a(lnt,"computeNewHighWaterMark");function uhe(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:Hrt(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}a(uhe,"howMuchToRead");ln.prototype.read=function(e){An("read",e),e===void 0?e=NaN:Yrt(e)||(e=zrt(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=lnt(e)),e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return An("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?qO(this):wS(this),null;if(e=uhe(e,t),e===0&&t.ended)return t.length===0&&qO(this),null;let n=t.needReadable;if(An("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,An("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,An("reading, ended or constructing",n);else if(n){An("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(s){Ym(this,s)}t.sync=!1,t.reading||(e=uhe(r,t))}let i;return e>0?i=bhe(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&qO(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function fnt(e,t){if(An("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?wS(e):(t.needReadable=!1,t.emittedReadable=!0,phe(e))}}a(fnt,"onEofChunk");function wS(e){let t=e._readableState;An("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(An("emitReadable",t.flowing),t.emittedReadable=!0,Cu.nextTick(phe,e))}a(wS,"emitReadable");function phe(e){let t=e._readableState;An("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,yhe(e)}a(phe,"emitReadable_");function xS(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,Cu.nextTick(hnt,e,t))}a(xS,"maybeReadMore");function hnt(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(An("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}a(hnt,"maybeReadMore_");ln.prototype._read=function(e){throw new nnt("_read()")};ln.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Vrt(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),An("pipe count=%d opts=%j",n.pipes.length,t);let s=(!t||t.end!==!1)&&e!==Cu.stdout&&e!==Cu.stderr?u:z;n.endEmitted?Cu.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){An("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function u(){An("onend"),e.end()}a(u,"onend");let l,f=!1;function h(){An("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),l&&e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",z),r.removeListener("data",g),f=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}a(h,"cleanup");function p(){f||(n.pipes.length===1&&n.pipes[0]===e?(An("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(An("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),l||(l=dnt(r,e),e.on("drain",l))}a(p,"pause"),r.on("data",g);function g(P){An("ondata");let Q=e.write(P);An("dest.write",Q),Q===!1&&p()}a(g,"ondata");function y(P){if(An("onerror",P),z(),e.removeListener("error",y),e.listenerCount("error")===0){let Q=e._writableState||e._readableState;Q&&!Q.errorEmitted?Ym(e,P):e.emit("error",P)}}a(y,"onerror"),$rt(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){An("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){An("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),e.writableNeedDrain===!0?n.flowing&&p():n.flowing||(An("pipe resume"),r.resume()),e};function dnt(e,t){return a(function(){let n=e._readableState;n.awaitDrainWriters===t?(An("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(An("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()},"pipeOnDrainFunctionResult")}a(dnt,"pipeOnDrain");ln.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Urt(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};ln.prototype.on=function(e,t){let r=t0.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,An("on readable",n.length,n.reading),n.length?wS(this):n.reading||Cu.nextTick(pnt,this)),r};ln.prototype.addListener=ln.prototype.on;ln.prototype.removeListener=function(e,t){let r=t0.prototype.removeListener.call(this,e,t);return e==="readable"&&Cu.nextTick(ghe,this),r};ln.prototype.off=ln.prototype.removeListener;ln.prototype.removeAllListeners=function(e){let t=t0.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&Cu.nextTick(ghe,this),t};function ghe(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[x1]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}a(ghe,"updateReadableListening");function pnt(e){An("readable nexttick read 0"),e.read(0)}a(pnt,"nReadingNextTick");ln.prototype.resume=function(){let e=this._readableState;return e.flowing||(An("resume"),e.flowing=!e.readableListening,gnt(this,e)),e[x1]=!1,this};function gnt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Cu.nextTick(ynt,e,t))}a(gnt,"resume");function ynt(e,t){An("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),yhe(e),t.flowing&&!t.reading&&e.read(0)}a(ynt,"resume_");ln.prototype.pause=function(){return An("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(An("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x1]=!0,this};function yhe(e){let t=e._readableState;for(An("flow",t.flowing);t.flowing&&e.read()!==null;);}a(yhe,"flow");ln.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{Ym(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=Qrt(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this};ln.prototype[jrt]=function(){return mhe(this)};ln.prototype.iterator=function(e){return e!==void 0&&ont(e,"options"),mhe(this,e)};function mhe(e,t){typeof e.read!="function"&&(e=ln.wrap(e,{objectMode:!0}));let r=mnt(e,t);return r.stream=e,r}a(mhe,"streamToAsyncIterator");async function*mnt(e,t){let r=NO;function n(o){this===e?(r(),r=NO):r=o}a(n,"next"),e.on("readable",n);let i,s=Jrt(e,{writable:!1},o=>{i=o?che(i,o):null,r(),r=NO});try{for(;;){let o=e.destroyed?null:e.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new Wrt(n)}}}catch(o){throw i=che(i,o),i}finally{(i||t?.destroyOnReturn!==!1)&&(i===void 0||e._readableState.autoDestroy)?Hm.destroyer(e,null):(e.off("readable",n),s())}}a(mnt,"createAsyncIterator");lhe(ln.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){!this._readableState||(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});lhe(FO.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[x1]!==!1},set(e){this[x1]=!!e}}});ln._fromList=bhe;function bhe(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}a(bhe,"fromList");function qO(e){let t=e._readableState;An("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Cu.nextTick(bnt,t,e))}a(qO,"endReadable");function bnt(e,t){if(An("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)Cu.nextTick(vnt,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}a(bnt,"endReadableNT");function vnt(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}a(vnt,"endWritableNT");ln.from=function(e,t){return cnt(ln,e,t)};var PO;function vhe(){return PO===void 0&&(PO={}),PO}a(vhe,"lazyWebStreams");ln.fromWeb=function(e,t){return vhe().newStreamReadableFromReadableStream(e,t)};ln.toWeb=function(e,t){return vhe().newReadableStreamFromStreamReadable(e,t)};ln.wrap=function(e,t){var r,n;return new ln({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,s){Hm.destroyer(e,i),s(i)}}).wrap(e)}});var VO=j((aur,Rhe)=>{d();var w1=Tf(),{ArrayPrototypeSlice:Ahe,Error:_nt,FunctionPrototypeSymbolHasInstance:Ehe,ObjectDefineProperty:She,ObjectDefineProperties:xnt,ObjectSetPrototypeOf:khe,StringPrototypeToLowerCase:wnt,Symbol:Ant,SymbolHasInstance:Ent}=da();Rhe.exports=qi;qi.WritableState=qx;var{EventEmitter:Snt}=ea(),Nx=yS().Stream,{Buffer:AS}=Ei(),kS=_1(),{addAbortSignal:knt}=bS(),{getHighWaterMark:Cnt,getDefaultHighWaterMark:Int}=_S(),{ERR_INVALID_ARG_TYPE:Tnt,ERR_METHOD_NOT_IMPLEMENTED:Mnt,ERR_MULTIPLE_CALLBACK:Che,ERR_STREAM_CANNOT_PIPE:Bnt,ERR_STREAM_DESTROYED:Ox,ERR_STREAM_ALREADY_FINISHED:Rnt,ERR_STREAM_NULL_VALUES:Lnt,ERR_STREAM_WRITE_AFTER_END:Dnt,ERR_UNKNOWN_ENCODING:Ihe}=Js().codes,{errorOrDestroy:zm}=kS;khe(qi.prototype,Nx.prototype);khe(qi,Nx);function HO(){}a(HO,"nop");var Qm=Ant("kOnFinished");function qx(e,t,r){typeof r!="boolean"&&(r=t instanceof Ol()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Cnt(this,e,"writableHighWaterMark",r):Int(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ont.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,SS(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Qm]=[]}a(qx,"WritableState");function SS(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}a(SS,"resetBuffer");qx.prototype.getBuffer=a(function(){return Ahe(this.buffered,this.bufferedIndex)},"getBuffer");She(qx.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function qi(e){let t=this instanceof Ol();if(!t&&!Ehe(qi,this))return new qi(e);this._writableState=new qx(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&knt(e.signal,this)),Nx.call(this,e),kS.construct(this,()=>{let r=this._writableState;r.writing||QO(this,r),WO(this,r)})}a(qi,"Writable");She(qi,Ent,{__proto__:null,value:function(e){return Ehe(this,e)?!0:this!==qi?!1:e&&e._writableState instanceof qx}});qi.prototype.pipe=function(){zm(this,new Bnt)};function The(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!AS.isEncoding(r))throw new Ihe(r);typeof n!="function"&&(n=HO)}if(t===null)throw new Lnt;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=AS.from(t,r),r="buffer");else if(t instanceof AS)r="buffer";else if(Nx._isUint8Array(t))t=Nx._uint8ArrayToBuffer(t),r="buffer";else throw new Tnt("chunk",["string","Buffer","Uint8Array"],t);let s;return i.ending?s=new Dnt:i.destroyed&&(s=new Ox("write")),s?(w1.nextTick(n,s),zm(e,s,!0),s):(i.pendingcb++,Nnt(e,i,t,r,n))}a(The,"_write");qi.prototype.write=function(e,t,r){return The(this,e,t,r)===!0};qi.prototype.cork=function(){this._writableState.corked++};qi.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||QO(this,e))};qi.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=wnt(t)),!AS.isEncoding(t))throw new Ihe(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Nnt(e,t,r,n,i){let s=t.objectMode?1:r.length;t.length+=s;let o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==HO&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}a(Nnt,"writeOrBuffer");function xhe(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Ox("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(xhe,"doWrite");function whe(e,t,r,n){--t.pendingcb,n(r),zO(t),zm(e,r)}a(whe,"onwriteError");function Ont(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){zm(e,new Che);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?w1.nextTick(whe,e,r,t,i):whe(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&QO(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},w1.nextTick(qnt,r.afterWriteTickInfo)):Mhe(e,r,1,i))}a(Ont,"onwrite");function qnt({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,Mhe(e,t,r,n)}a(qnt,"afterWriteTick");function Mhe(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&zO(t),WO(e,t)}a(Mhe,"afterWrite");function zO(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:s,callback:o}=e.buffered[i],u=e.objectMode?1:s.length;e.length-=u,o((t=e.errored)!==null&&t!==void 0?t:new Ox("write"))}let r=e[Qm].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new Ox("end"))}SS(e)}a(zO,"errorBuffer");function QO(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let o=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let u=t.allNoop?HO:f=>{for(let h=o;h<r.length;++h)r[h].callback(f)},l=t.allNoop&&o===0?r:Ahe(r,o);l.allBuffers=t.allBuffers,xhe(e,t,!0,t.length,l,"",u),SS(t)}else{do{let{chunk:u,encoding:l,callback:f}=r[o];r[o++]=null;let h=i?1:u.length;xhe(e,t,!1,h,u,l,f)}while(o<r.length&&!t.writing);o===r.length?SS(t):o>256?(r.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}a(QO,"clearBuffer");qi.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new Mnt("_write()")};qi.prototype._writev=null;qi.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let s=The(this,e,t);s instanceof _nt&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,WO(this,n,!0),n.ended=!0):n.finished?i=new Rnt("end"):n.destroyed&&(i=new Ox("end"))),typeof r=="function"&&(i||n.finished?w1.nextTick(r,i):n[Qm].push(r)),this};function ES(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}a(ES,"needFinish");function Pnt(e,t){let r=!1;function n(i){if(r){zm(e,i??Che());return}if(r=!0,t.pendingcb--,i){let s=t[Qm].splice(0);for(let o=0;o<s.length;o++)s[o](i);zm(e,i,t.sync)}else ES(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,w1.nextTick(YO,e,t))}a(n,"onFinish"),t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}a(Pnt,"callFinal");function Fnt(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Pnt(e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Fnt,"prefinish");function WO(e,t,r){ES(t)&&(Fnt(e,t),t.pendingcb===0&&(r?(t.pendingcb++,w1.nextTick((n,i)=>{ES(i)?YO(n,i):i.pendingcb--},e,t)):ES(t)&&(t.pendingcb++,YO(e,t))))}a(WO,"finishMaybe");function YO(e,t){t.pendingcb--,t.finished=!0;let r=t[Qm].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}a(YO,"finish");xnt(qi.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Unt=kS.destroy;qi.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Qm].length)&&w1.nextTick(zO,r),Unt.call(this,e,t),this};qi.prototype._undestroy=kS.undestroy;qi.prototype._destroy=function(e,t){t(e)};qi.prototype[Snt.captureRejectionSymbol]=function(e){this.destroy(e)};var UO;function Bhe(){return UO===void 0&&(UO={}),UO}a(Bhe,"lazyWebStreams");qi.fromWeb=function(e,t){return Bhe().newStreamWritableFromWritableStream(e,t)};qi.toWeb=function(e){return Bhe().newWritableStreamFromStreamWritable(e)}});var Qhe=j((cur,zhe)=>{d();var jO=Tf(),Ynt=Ei(),{isReadable:Hnt,isWritable:znt,isIterable:Lhe,isNodeStream:Qnt,isReadableNodeStream:Dhe,isWritableNodeStream:Nhe,isDuplexNodeStream:Wnt}=Jd(),Ohe=Zd(),{AbortError:Hhe,codes:{ERR_INVALID_ARG_TYPE:Vnt,ERR_INVALID_RETURN_VALUE:qhe}}=Js(),{destroyer:Wm}=_1(),jnt=Ol(),Gnt=Dx(),{createDeferredPromise:Phe}=Dl(),Fhe=LO(),Uhe=globalThis.Blob||Ynt.Blob,Knt=a(typeof Uhe<"u"?function(t){return t instanceof Uhe}:function(t){return!1},"isBlob"),$nt=globalThis.AbortController||rS().AbortController,{FunctionPrototypeCall:Yhe}=da(),r0=class extends jnt{constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};a(r0,"Duplexify");zhe.exports=a(function e(t,r){if(Wnt(t))return t;if(Dhe(t))return CS({readable:t});if(Nhe(t))return CS({writable:t});if(Qnt(t))return CS({writable:!1,readable:!1});if(typeof t=="function"){let{value:i,write:s,final:o,destroy:u}=Xnt(t);if(Lhe(i))return Fhe(r0,i,{objectMode:!0,write:s,final:o,destroy:u});let l=i?.then;if(typeof l=="function"){let f,h=Yhe(l,i,p=>{if(p!=null)throw new qhe("nully","body",p)},p=>{Wm(f,p)});return f=new r0({objectMode:!0,readable:!1,write:s,final(p){o(async()=>{try{await h,jO.nextTick(p,null)}catch(g){jO.nextTick(p,g)}})},destroy:u})}throw new qhe("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Knt(t))return e(t.arrayBuffer());if(Lhe(t))return Fhe(r0,t,{objectMode:!0,writable:!1});if(typeof t?.writable=="object"||typeof t?.readable=="object"){let i=t!=null&&t.readable?Dhe(t?.readable)?t?.readable:e(t.readable):void 0,s=t!=null&&t.writable?Nhe(t?.writable)?t?.writable:e(t.writable):void 0;return CS({readable:i,writable:s})}let n=t?.then;if(typeof n=="function"){let i;return Yhe(n,t,s=>{s!=null&&i.push(s),i.push(null)},s=>{Wm(i,s)}),i=new r0({objectMode:!0,writable:!1,read(){}})}throw new Vnt(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)},"duplexify");function Xnt(e){let{promise:t,resolve:r}=Phe(),n=new $nt,i=n.signal;return{value:e(async function*(){for(;;){let o=t;t=null;let{chunk:u,done:l,cb:f}=await o;if(jO.nextTick(f),l)return;if(i.aborted)throw new Hhe(void 0,{cause:i.reason});({promise:t,resolve:r}=Phe()),yield u}}(),{signal:i}),write(o,u,l){let f=r;r=null,f({chunk:o,done:!1,cb:l})},final(o){let u=r;r=null,u({done:!0,cb:o})},destroy(o,u){n.abort(),u(o)}}}a(Xnt,"fromAsyncGen");function CS(e){let t=e.readable&&typeof e.readable.read!="function"?Gnt.wrap(e.readable):e.readable,r=e.writable,n=!!Hnt(t),i=!!znt(r),s,o,u,l,f;function h(p){let g=l;l=null,g?g(p):p?f.destroy(p):!n&&!i&&f.destroy()}return a(h,"onfinished"),f=new r0({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Ohe(r,p=>{i=!1,p&&Wm(t,p),h(p)}),f._write=function(p,g,y){r.write(p,g)?y():s=y},f._final=function(p){r.end(),o=p},r.on("drain",function(){if(s){let p=s;s=null,p()}}),r.on("finish",function(){if(o){let p=o;o=null,p()}})),n&&(Ohe(t,p=>{n=!1,p&&Wm(t,p),h(p)}),t.on("readable",function(){if(u){let p=u;u=null,p()}}),t.on("end",function(){f.push(null)}),f._read=function(){for(;;){let p=t.read();if(p===null){u=f._read;return}if(!f.push(p))return}}),f._destroy=function(p,g){!p&&l!==null&&(p=new Hhe),u=null,s=null,o=null,l===null?g(p):(l=g,Wm(r,p),Wm(t,p))},f}a(CS,"_duplexify")});var Ol=j((fur,jhe)=>{"use strict";d();var{ObjectDefineProperties:Jnt,ObjectGetOwnPropertyDescriptor:ih,ObjectKeys:Znt,ObjectSetPrototypeOf:Whe}=da();jhe.exports=Iu;var $O=Dx(),Vc=VO();Whe(Iu.prototype,$O.prototype);Whe(Iu,$O);{let e=Znt(Vc.prototype);for(let t=0;t<e.length;t++){let r=e[t];Iu.prototype[r]||(Iu.prototype[r]=Vc.prototype[r])}}function Iu(e){if(!(this instanceof Iu))return new Iu(e);$O.call(this,e),Vc.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(Iu,"Duplex");Jnt(Iu.prototype,{writable:{__proto__:null,...ih(Vc.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ih(Vc.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ih(Vc.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ih(Vc.prototype,"writableBuffer")},writableLength:{__proto__:null,...ih(Vc.prototype,"writableLength")},writableFinished:{__proto__:null,...ih(Vc.prototype,"writableFinished")},writableCorked:{__proto__:null,...ih(Vc.prototype,"writableCorked")},writableEnded:{__proto__:null,...ih(Vc.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ih(Vc.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var GO;function Vhe(){return GO===void 0&&(GO={}),GO}a(Vhe,"lazyWebStreams");Iu.fromWeb=function(e,t){return Vhe().newStreamDuplexFromReadableWritablePair(e,t)};Iu.toWeb=function(e){return Vhe().newReadableWritablePairFromDuplex(e)};var KO;Iu.from=function(e){return KO||(KO=Qhe()),KO(e,"body")}});var ZO=j((pur,Khe)=>{"use strict";d();var{ObjectSetPrototypeOf:Ghe,Symbol:eit}=da();Khe.exports=ah;var{ERR_METHOD_NOT_IMPLEMENTED:tit}=Js().codes,JO=Ol(),{getHighWaterMark:rit}=_S();Ghe(ah.prototype,JO.prototype);Ghe(ah,JO);var Px=eit("kCallback");function ah(e){if(!(this instanceof ah))return new ah(e);let t=e?rit(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),JO.call(this,e),this._readableState.sync=!1,this[Px]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",nit)}a(ah,"Transform");function XO(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}a(XO,"final");function nit(){this._final!==XO&&XO.call(this)}a(nit,"prefinish");ah.prototype._final=XO;ah.prototype._transform=function(e,t,r){throw new tit("_transform()")};ah.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(o,u)=>{if(o){r(o);return}u!=null&&this.push(u),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Px]=r})};ah.prototype._read=function(){if(this[Px]){let e=this[Px];this[Px]=null,e()}}});var tq=j((mur,Xhe)=>{"use strict";d();var{ObjectSetPrototypeOf:$he}=da();Xhe.exports=Vm;var eq=ZO();$he(Vm.prototype,eq.prototype);$he(Vm,eq);function Vm(e){if(!(this instanceof Vm))return new Vm(e);eq.call(this,e)}a(Vm,"PassThrough");Vm.prototype._transform=function(e,t,r){r(null,e)}});var MS=j((_ur,ide)=>{d();var IS=Tf(),{ArrayIsArray:iit,Promise:ait,SymbolAsyncIterator:sit}=da(),TS=Zd(),{once:oit}=Dl(),cit=_1(),Jhe=Ol(),{aggregateTwoErrors:uit,codes:{ERR_INVALID_ARG_TYPE:rde,ERR_INVALID_RETURN_VALUE:rq,ERR_MISSING_ARGS:lit,ERR_STREAM_DESTROYED:fit,ERR_STREAM_PREMATURE_CLOSE:hit},AbortError:dit}=Js(),{validateFunction:pit,validateAbortSignal:git}=Rx(),{isIterable:jm,isReadable:nq,isReadableNodeStream:sq,isNodeStream:Zhe}=Jd(),yit=globalThis.AbortController||rS().AbortController,iq,aq;function ede(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=TS(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,cit.destroyer(e,s||new fit("pipe")))},cleanup:i}}a(ede,"destroyer");function mit(e){return pit(e[e.length-1],"streams[stream.length - 1]"),e.pop()}a(mit,"popCallback");function bit(e){if(jm(e))return e;if(sq(e))return vit(e);throw new rde("val",["Readable","Iterable","AsyncIterable"],e)}a(bit,"makeAsyncIterable");async function*vit(e){aq||(aq=Dx()),yield*aq.prototype[sit].call(e)}a(vit,"fromReadable");async function tde(e,t,r,{end:n}){let i,s=null,o=a(f=>{if(f&&(i=f),s){let h=s;s=null,h()}},"resume"),u=a(()=>new ait((f,h)=>{i?h(i):s=a(()=>{i?h(i):f()},"onresolve")}),"wait");t.on("drain",o);let l=TS(t,{readable:!1},o);try{t.writableNeedDrain&&await u();for await(let f of e)t.write(f)||await u();n&&t.end(),await u(),r()}catch(f){r(i!==f?uit(i,f):f)}finally{l(),t.off("drain",o)}}a(tde,"pump");function _it(...e){return nde(e,oit(mit(e)))}a(_it,"pipeline");function nde(e,t,r){if(e.length===1&&iit(e[0])&&(e=e[0]),e.length<2)throw new lit("streams");let n=new yit,i=n.signal,s=r?.signal,o=[];git(s,"options.signal");function u(){y(new dit)}a(u,"abort"),s?.addEventListener("abort",u);let l,f,h=[],p=0;function g(P){y(P,--p===0)}a(g,"finish");function y(P,Q){if(P&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=P),!(!l&&!Q)){for(;h.length;)h.shift()(l);s?.removeEventListener("abort",u),n.abort(),Q&&(l||o.forEach(V=>V()),IS.nextTick(t,l,f))}}a(y,"finishImpl");let E;for(let P=0;P<e.length;P++){let Q=e[P],V=P<e.length-1,W=P>0,F=V||r?.end!==!1,B=P===e.length-1;if(Zhe(Q)){let S=function(T){T&&T.name!=="AbortError"&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(T)};var z=S;if(a(S,"onError"),F){let{destroy:T,cleanup:k}=ede(Q,V,W);h.push(T),nq(Q)&&B&&o.push(k)}Q.on("error",S),nq(Q)&&B&&o.push(()=>{Q.removeListener("error",S)})}if(P===0)if(typeof Q=="function"){if(E=Q({signal:i}),!jm(E))throw new rq("Iterable, AsyncIterable or Stream","source",E)}else jm(Q)||sq(Q)?E=Q:E=Jhe.from(Q);else if(typeof Q=="function")if(E=bit(E),E=Q(E,{signal:i}),V){if(!jm(E,!0))throw new rq("AsyncIterable",`transform[${P-1}]`,E)}else{var M;iq||(iq=tq());let S=new iq({objectMode:!0}),T=(M=E)===null||M===void 0?void 0:M.then;if(typeof T=="function")p++,T.call(E,x=>{f=x,x!=null&&S.write(x),F&&S.end(),IS.nextTick(g)},x=>{S.destroy(x),IS.nextTick(g,x)});else if(jm(E,!0))p++,tde(E,S,g,{end:F});else throw new rq("AsyncIterable or Promise","destination",E);E=S;let{destroy:k,cleanup:R}=ede(E,!1,!0);h.push(k),B&&o.push(R)}else if(Zhe(Q)){if(sq(E)){p+=2;let S=xit(E,Q,g,{end:F});nq(Q)&&B&&o.push(S)}else if(jm(E))p++,tde(E,Q,g,{end:F});else throw new rde("val",["Readable","Iterable","AsyncIterable"],E);E=Q}else E=Jhe.from(Q)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&IS.nextTick(u),E}a(nde,"pipelineImpl");function xit(e,t,r,{end:n}){let i=!1;return t.on("close",()=>{i||r(new hit)}),e.pipe(t,{end:n}),n?e.once("end",()=>{i=!0,t.end()}):r(),TS(e,{readable:!0,writable:!1},s=>{let o=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?e.once("end",r).once("error",r):r(s)}),TS(t,{readable:!1,writable:!0},r)}a(xit,"pipe");ide.exports={pipelineImpl:nde,pipeline:_it}});var ude=j((Aur,cde)=>{"use strict";d();var{pipeline:wit}=MS(),BS=Ol(),{destroyer:Ait}=_1(),{isNodeStream:Eit,isReadable:ade,isWritable:sde}=Jd(),{AbortError:Sit,codes:{ERR_INVALID_ARG_VALUE:ode,ERR_MISSING_ARGS:kit}}=Js();cde.exports=a(function(...t){if(t.length===0)throw new kit("streams");if(t.length===1)return BS.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=BS.from(t[0])),typeof t[t.length-1]=="function"){let y=t.length-1;t[y]=BS.from(t[y])}for(let y=0;y<t.length;++y)if(!!Eit(t[y])){if(y<t.length-1&&!ade(t[y]))throw new ode(`streams[${y}]`,r[y],"must be readable");if(y>0&&!sde(t[y]))throw new ode(`streams[${y}]`,r[y],"must be writable")}let n,i,s,o,u;function l(y){let E=o;o=null,E?E(y):y?u.destroy(y):!g&&!p&&u.destroy()}a(l,"onfinished");let f=t[0],h=wit(t,l),p=!!sde(f),g=!!ade(h);return u=new BS({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:p,readable:g}),p&&(u._write=function(y,E,M){f.write(y,E)?M():n=M},u._final=function(y){f.end(),i=y},f.on("drain",function(){if(n){let y=n;n=null,y()}}),h.on("finish",function(){if(i){let y=i;i=null,y()}})),g&&(h.on("readable",function(){if(s){let y=s;s=null,y()}}),h.on("end",function(){u.push(null)}),u._read=function(){for(;;){let y=h.read();if(y===null){s=u._read;return}if(!u.push(y))return}}),u._destroy=function(y,E){!y&&o!==null&&(y=new Sit),s=null,n=null,i=null,o===null?E(y):(o=E,Ait(h,y))},u},"compose")});var oq=j((kur,lde)=>{"use strict";d();var{ArrayPrototypePop:Cit,Promise:Iit}=da(),{isIterable:Tit,isNodeStream:Mit}=Jd(),{pipelineImpl:Bit}=MS(),{finished:Rit}=Zd();function Lit(...e){return new Iit((t,r)=>{let n,i,s=e[e.length-1];if(s&&typeof s=="object"&&!Mit(s)&&!Tit(s)){let o=Cit(e);n=o.signal,i=o.end}Bit(e,(o,u)=>{o?r(o):t(u)},{signal:n,end:i})})}a(Lit,"pipeline");lde.exports={finished:Rit,pipeline:Lit}});var _de=j((Tur,vde)=>{d();var{Buffer:Dit}=Ei(),{ObjectDefineProperty:sh,ObjectKeys:dde,ReflectApply:pde}=da(),{promisify:{custom:gde}}=Dl(),{streamReturningOperators:fde,promiseReturningOperators:hde}=Yfe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:yde}}=Js(),Nit=ude(),{pipeline:mde}=MS(),{destroyer:Oit}=_1(),bde=Zd(),cq=oq(),uq=Jd(),ra=vde.exports=yS().Stream;ra.isDisturbed=uq.isDisturbed;ra.isErrored=uq.isErrored;ra.isReadable=uq.isReadable;ra.Readable=Dx();for(let e of dde(fde)){let r=function(...n){if(new.target)throw yde();return ra.Readable.from(pde(t,this,n))};Pit=r,a(r,"fn");let t=fde[e];sh(r,"name",{__proto__:null,value:t.name}),sh(r,"length",{__proto__:null,value:t.length}),sh(ra.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Pit;for(let e of dde(hde)){let r=function(...i){if(new.target)throw yde();return pde(t,this,i)};Pit=r,a(r,"fn");let t=hde[e];sh(r,"name",{__proto__:null,value:t.name}),sh(r,"length",{__proto__:null,value:t.length}),sh(ra.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Pit;ra.Writable=VO();ra.Duplex=Ol();ra.Transform=ZO();ra.PassThrough=tq();ra.pipeline=mde;var{addAbortSignal:qit}=bS();ra.addAbortSignal=qit;ra.finished=bde;ra.destroy=Oit;ra.compose=Nit;sh(ra,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return cq}});sh(mde,gde,{__proto__:null,enumerable:!0,get(){return cq.pipeline}});sh(bde,gde,{__proto__:null,enumerable:!0,get(){return cq.finished}});ra.Stream=ra;ra._isUint8Array=a(function(t){return t instanceof Uint8Array},"isUint8Array");ra._uint8ArrayToBuffer=a(function(t){return Dit.from(t.buffer,t.byteOffset,t.byteLength)},"_uint8ArrayToBuffer")});var lq=j((Rur,na)=>{"use strict";d();var Ba=_de(),Fit=oq(),Uit=Ba.Readable.destroy;na.exports=Ba.Readable;na.exports._uint8ArrayToBuffer=Ba._uint8ArrayToBuffer;na.exports._isUint8Array=Ba._isUint8Array;na.exports.isDisturbed=Ba.isDisturbed;na.exports.isErrored=Ba.isErrored;na.exports.isReadable=Ba.isReadable;na.exports.Readable=Ba.Readable;na.exports.Writable=Ba.Writable;na.exports.Duplex=Ba.Duplex;na.exports.Transform=Ba.Transform;na.exports.PassThrough=Ba.PassThrough;na.exports.addAbortSignal=Ba.addAbortSignal;na.exports.finished=Ba.finished;na.exports.destroy=Ba.destroy;na.exports.destroy=Uit;na.exports.pipeline=Ba.pipeline;na.exports.compose=Ba.compose;Object.defineProperty(Ba,"promises",{configurable:!0,enumerable:!0,get(){return Fit}});na.exports.Stream=Ba.Stream;na.exports.default=na.exports});var wde=j((Dur,Fx)=>{d();var mr;(function(e){e.runningInNodeJS=function(){return typeof _.default=="object"&&typeof _.default.versions=="object"&&typeof _.default.versions.node=="string"},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&Hi.main===Fx},e.commonJSAvailable=function(){return typeof Fx=="object"&&typeof Fx.exports=="object"},e.runningInWebWorker=function(){return typeof window>"u"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&typeof _.default.send=="function"},e.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"||typeof document!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},e.webWorkersAvailable=function(){return!(typeof Worker!="function"||e.runningInNullOrigin()||e.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},e.log=function(t,r){r===void 0&&(r=!1),typeof console=="object"&&(console.log(t),r&&typeof document=="object"&&(document.body.innerHTML+=t+"<br/>"))},e.createErrorMessage=function(t,r){if(r===void 0&&(r="Unhandled exception"),t==null)return r;if(r+=": ",typeof t.content=="object"){if(e.runningInNodeJS())return r+t.content.stack;var n=JSON.stringify(t.content);return n!=="{}"?r+n:r+t.content}else return typeof t.content=="string"?r+t.content:r+t},e.printExceptionAndStackTraceToConsole=function(t,r){r===void 0&&(r="Unhandled exception"),e.log(e.createErrorMessage(t,r))},e.getGlobalObject=function(){return typeof w=="object"?w:typeof window=="object"?window:typeof self=="object"?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(Fx.exports=e)})(mr||(mr={}));var xde;(function(e){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var t=a(function(s,o){var u=a(function(f,h,p){return f<h?h:f>p?p:f},"clamp");s=s|0,o=o|0,arguments.length<1&&(s=0),arguments.length<2&&(o=this.length),s<0&&(s=this.length+s),o<0&&(o=this.length+o),s=u(s,0,this.length),o=u(o,0,this.length);var l=o-s;return l<0&&(l=0),new this.constructor(this.buffer,this.byteOffset+s*this.BYTES_PER_ELEMENT,l)},"subarray"),r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],n=void 0;if(typeof window=="object"?n=window:typeof self=="object"&&(n=self),n!==void 0)for(var i=0;i<r.length;i++)n[r[i]]&&(n[r[i]].prototype.subarray=t)}})(xde||(xde={}));var mr;(function(e){var t=function(){function r(){}return a(r,"AsyncCompressor"),r.compressAsync=function(n,i,s){var o=new e.Timer,u=new e.Compressor;if(!s)throw new TypeError("compressAsync: No callback argument given");if(typeof n=="string")n=e.encodeUTF8(n);else if(n==null||!(n instanceof Uint8Array)){s(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var l=e.ArrayTools.splitByteArray(n,i.blockSize),f=[],h=a(function(p){if(p<l.length){var g=void 0;try{g=u.compressBlock(l[p])}catch(E){s(void 0,E);return}f.push(g),o.getElapsedTime()<=20?h(p+1):(e.enqueueImmediate(function(){return h(p+1)}),o.restart())}else{var y=e.ArrayTools.concatUint8Arrays(f);e.enqueueImmediate(function(){var E;try{E=e.CompressionCommon.encodeCompressedBytes(y,i.outputEncoding)}catch(M){s(void 0,M);return}e.enqueueImmediate(function(){return s(E)})})}},"compressBlocksStartingAt");e.enqueueImmediate(function(){return h(0)})},r.createCompressionStream=function(){var n=new e.Compressor,i=lq(),s=new i.Transform({decodeStrings:!0,highWaterMark:65536});return s._transform=function(o,u,l){var f;try{f=e.BufferTools.uint8ArrayToBuffer(n.compressBlock(e.BufferTools.bufferToUint8Array(o)))}catch(h){s.emit("error",h);return}s.push(f),l()},s},r}();e.AsyncCompressor=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){}return a(r,"AsyncDecompressor"),r.decompressAsync=function(n,i,s){if(!s)throw new TypeError("decompressAsync: No callback argument given");var o=new e.Timer;try{n=e.CompressionCommon.decodeCompressedBytes(n,i.inputEncoding)}catch(p){s(void 0,p);return}var u=new e.Decompressor,l=e.ArrayTools.splitByteArray(n,i.blockSize),f=[],h=a(function(p){if(p<l.length){var g=void 0;try{g=u.decompressBlock(l[p])}catch(E){s(void 0,E);return}f.push(g),o.getElapsedTime()<=20?h(p+1):(e.enqueueImmediate(function(){return h(p+1)}),o.restart())}else{var y=e.ArrayTools.concatUint8Arrays(f);e.enqueueImmediate(function(){var E;try{E=e.CompressionCommon.encodeDecompressedBytes(y,i.outputEncoding)}catch(M){s(void 0,M);return}e.enqueueImmediate(function(){return s(E)})})}},"decompressBlocksStartingAt");e.enqueueImmediate(function(){return h(0)})},r.createDecompressionStream=function(){var n=new e.Decompressor,i=lq(),s=new i.Transform({decodeStrings:!0,highWaterMark:65536});return s._transform=function(o,u,l){var f;try{f=e.BufferTools.uint8ArrayToBuffer(n.decompressBlock(e.BufferTools.bufferToUint8Array(o)))}catch(h){s.emit("error",h);return}s.push(f),l()},s},r}();e.AsyncDecompressor=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.compressAsync=function(n,i,s){if(i.inputEncoding=="ByteArray"&&!(n instanceof Uint8Array)){s(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var o={token:Math.random().toString(),type:"compress",data:n,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},u=a(function(l){var f=l.data;!f||f.token!=o.token||(r.globalWorker.removeEventListener("message",u),f.type=="error"?s(void 0,new Error(f.error)):s(f.data))},"responseListener");r.globalWorker.addEventListener("message",u),r.globalWorker.postMessage(o,[])},r.decompressAsync=function(n,i,s){var o={token:Math.random().toString(),type:"decompress",data:n,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},u=a(function(l){var f=l.data;!f||f.token!=o.token||(r.globalWorker.removeEventListener("message",u),f.type=="error"?s(void 0,new Error(f.error)):s(f.data))},"responseListener");r.globalWorker.addEventListener("message",u),r.globalWorker.postMessage(o,[])},r.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(n){var i=n.data;if(i.type=="compress"){var s=void 0;try{s=e.compress(i.data,{outputEncoding:i.outputEncoding})}catch(l){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(l)},[]);return}var o={token:i.token,type:"compressionResult",data:s,encoding:i.outputEncoding};o.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if(i.type=="decompress"){var u=void 0;try{u=e.decompress(i.data,{inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding})}catch(f){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(f)},[]);return}var o={token:i.token,type:"decompressionResult",data:u,encoding:i.outputEncoding};o.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}}),self.addEventListener("error",function(n){e.log(e.createErrorMessage(n.error,"Unexpected LZUTF8 WebWorker exception"))}))},r.createGlobalWorkerIfNeeded=function(){if(r.globalWorker)return!0;if(!e.webWorkersAvailable())return!1;if(!r.scriptURI&&typeof document=="object"){var n=document.getElementById("lzutf8");n!=null&&(r.scriptURI=n.getAttribute("src")||void 0)}return r.scriptURI?(r.globalWorker=new Worker(r.scriptURI),!0):!1},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)}})(t=e.WebWorker||(e.WebWorker={})),t.installWebWorkerIfNeeded()})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n,i,s){this.container=n,this.startPosition=i,this.length=s}return a(r,"ArraySegment"),r.prototype.get=function(n){return this.container[this.startPosition+n]},r.prototype.getInReversedOrder=function(n){return this.container[this.startPosition+this.length-1-n]},r.prototype.set=function(n,i){this.container[this.startPosition+n]=i},r}();e.ArraySegment=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.copyElements=function(n,i,s,o,u){for(;u--;)s[o++]=n[i++]},r.zeroElements=function(n,i,s){for(;s--;)n[i++]=0},r.countNonzeroValuesInArray=function(n){for(var i=0,s=0;s<n.length;s++)n[s]&&i++;return i},r.truncateStartingElements=function(n,i){if(n.length<=i)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var s=n.length-i,o=0;o<i;o++)n[o]=n[s+o];n.length=i},r.doubleByteArrayCapacity=function(n){var i=new Uint8Array(n.length*2);return i.set(n),i},r.concatUint8Arrays=function(n){for(var i=0,s=0,o=n;s<o.length;s++){var u=o[s];i+=u.length}for(var l=new Uint8Array(i),f=0,h=0,p=n;h<p.length;h++){var u=p[h];l.set(u,f),f+=u.length}return l},r.splitByteArray=function(n,i){for(var s=[],o=0;o<n.length;){var u=Math.min(i,n.length-o);s.push(n.subarray(o,o+u)),o+=u}return s}})(t=e.ArrayTools||(e.ArrayTools={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.convertToUint8ArrayIfNeeded=function(n){return typeof b.Buffer=="function"&&b.Buffer.isBuffer(n)?r.bufferToUint8Array(n):n},r.uint8ArrayToBuffer=function(n){if(b.Buffer.prototype instanceof Uint8Array){var i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return Object.setPrototypeOf(i,b.Buffer.prototype),i}else{for(var s=n.length,o=new b.Buffer(s),u=0;u<s;u++)o[u]=n[u];return o}},r.bufferToUint8Array=function(n){if(b.Buffer.prototype instanceof Uint8Array)return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);for(var i=n.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=n[o];return s}})(t=e.BufferTools||(e.BufferTools={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.getCroppedBuffer=function(n,i,s,o){o===void 0&&(o=0);var u=new Uint8Array(s+o);return u.set(n.subarray(i,i+s)),u},r.getCroppedAndAppendedByteArray=function(n,i,s,o){return e.ArrayTools.concatUint8Arrays([n.subarray(i,i+s),o])},r.detectCompressionSourceEncoding=function(n){if(n==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof n=="string")return"String";if(n instanceof Uint8Array||typeof b.Buffer=="function"&&b.Buffer.isBuffer(n))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(n,i){switch(i){case"ByteArray":return n;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(n);case"Base64":return e.encodeBase64(n);case"BinaryString":return e.encodeBinaryString(n);case"StorageBinaryString":return e.encodeStorageBinaryString(n);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(n,i){if(i==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(i){case"ByteArray":case"Buffer":var s=e.BufferTools.convertToUint8ArrayIfNeeded(n);if(!(s instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return s;case"Base64":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(n);case"BinaryString":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(n);case"StorageBinaryString":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(n);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(i,"'"))}},r.encodeDecompressedBytes=function(n,i){switch(i){case"String":return e.decodeUTF8(n);case"ByteArray":return n;case"Buffer":if(typeof b.Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(n);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(t=e.CompressionCommon||(e.CompressionCommon={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n=[],i;r.enqueueImmediate=function(s){n.push(s),n.length===1&&i()},r.initializeScheduler=function(){var s=a(function(){for(var f=0,h=n;f<h.length;f++){var p=h[f];try{p.call(void 0)}catch(g){e.printExceptionAndStackTraceToConsole(g,"enqueueImmediate exception")}}n.length=0},"flush");if(e.runningInNodeJS())i=a(function(){return setImmediate(function(){return s()})},"asyncFlushFunc");else if(typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var o="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(f){f.data===o&&s()});var u;e.runningInNullOrigin()?u="*":u=window.location.href,i=a(function(){return window.postMessage(o,u)},"asyncFlushFunc")}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var l=new MessageChannel;l.port1.onmessage=function(){return s()},i=a(function(){return l.port2.postMessage(0)},"asyncFlushFunc")}else i=a(function(){return setTimeout(function(){return s()},0)},"asyncFlushFunc")},r.initializeScheduler()})(t=e.EventLoop||(e.EventLoop={})),e.enqueueImmediate=function(r){return t.enqueueImmediate(r)}})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.override=function(n,i){return r.extend(n,i)},r.extend=function(n,i){if(n==null)throw new TypeError("obj is null or undefined");if(typeof n!="object")throw new TypeError("obj is not an object");if(i==null&&(i={}),typeof i!="object")throw new TypeError("newProperties is not an object");if(i!=null)for(var s in i)n[s]=i[s];return n}})(t=e.ObjectTools||(e.ObjectTools={}))})(mr||(mr={}));var mr;(function(e){e.getRandomIntegerInRange=function(t,r){return t+Math.floor(Math.random()*(r-t))},e.getRandomUTF16StringOfLength=function(t){for(var r="",n=0;n<t;n++){var i=void 0;do i=e.getRandomIntegerInRange(0,1114111+1);while(i>=55296&&i<=57343);r+=e.Encoding.CodePoint.decodeToString(i)}return r}})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){n===void 0&&(n=1024),this.outputBufferCapacity=n,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return a(r,"StringBuilder"),r.prototype.appendCharCode=function(n){this.outputBuffer[this.outputPosition++]=n,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(n){for(var i=0,s=n.length;i<s;i++)this.appendCharCode(n[i])},r.prototype.appendString=function(n){for(var i=0,s=n.length;i<s;i++)this.appendCharCode(n.charCodeAt(i))},r.prototype.appendCodePoint=function(n){if(n<=65535)this.appendCharCode(n);else if(n<=1114111)this.appendCharCode(55296+(n-65536>>>10)),this.appendCharCode(56320+(n-65536&1023));else throw new Error("appendCodePoint: A code point of ".concat(n," cannot be encoded in UTF-16"))},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r}();e.StringBuilder=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){this.restart()}return a(r,"Timer"),r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var n=this.getElapsedTime();return this.restart(),n},r.prototype.logAndRestart=function(n,i){i===void 0&&(i=!0);var s=this.getElapsedTime(),o="".concat(n,": ").concat(s.toFixed(3),"ms");return e.log(o,i),this.restart(),s},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(r.getTimestamp()*1e3)},r.createGlobalTimestampFunction=function(){if(typeof _.default=="object"&&typeof _.default.hrtime=="function"){var n=0;this.timestampFunc=function(){var u=_.default.hrtime(),l=u[0]*1e3+u[1]/1e6;return n+l},n=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var i=Date.now(),s=new chrome.Interval;s.start(),this.timestampFunc=function(){return i+s.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var o=Date.now()-performance.now();this.timestampFunc=function(){return o+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},r}();e.Timer=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){n===void 0&&(n=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,n&&typeof Uint32Array=="function"?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}return a(r,"Compressor"),r.prototype.compressBlock=function(n){if(n==null)throw new TypeError("compressBlock: undefined or null input received");return typeof n=="string"&&(n=e.encodeUTF8(n)),n=e.BufferTools.convertToUint8ArrayIfNeeded(n),this.compressUtf8Block(n)},r.prototype.compressUtf8Block=function(n){if(!n||n.length==0)return new Uint8Array(0);var i=this.cropAndAddNewBytesToInputBuffer(n),s=this.inputBuffer,o=this.inputBuffer.length;this.outputBuffer=new Uint8Array(n.length),this.outputBufferPosition=0;for(var u=0,l=i;l<o;l++){var f=s[l],h=l<u;if(l>o-this.MinimumSequenceLength){h||this.outputRawByte(f);continue}var p=this.getBucketIndexForPrefix(l);if(!h){var g=this.findLongestMatch(l,p);g!=null&&(this.outputPointerBytes(g.length,g.distance),u=l+g.length,h=!0)}h||this.outputRawByte(f);var y=this.inputBufferStreamOffset+l;this.prefixHashTable.addValueToBucket(p,y)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(n,i){var s=this.prefixHashTable.getArraySegmentForBucketIndex(i,this.reusableArraySegmentObject);if(s==null)return null;for(var o=this.inputBuffer,u,l=0,f=0;f<s.length;f++){var h=s.getInReversedOrder(f)-this.inputBufferStreamOffset,p=n-h,g=void 0;if(u===void 0?g=this.MinimumSequenceLength-1:u<128&&p>=128?g=l+(l>>>1):g=l,p>this.MaximumMatchDistance||g>=this.MaximumSequenceLength||n+g>=o.length)break;if(o[h+g]===o[n+g]){for(var y=0;;y++)if(n+y===o.length||o[h+y]!==o[n+y]){y>g&&(u=p,l=y);break}else if(y===this.MaximumSequenceLength)return{distance:p,length:this.MaximumSequenceLength}}}return u!==void 0?{distance:u,length:l}:null},r.prototype.getBucketIndexForPrefix=function(n){return(this.inputBuffer[n]*7880599+this.inputBuffer[n+1]*39601+this.inputBuffer[n+2]*199+this.inputBuffer[n+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(n,i){i<128?(this.outputRawByte(192|n),this.outputRawByte(i)):(this.outputRawByte(224|n),this.outputRawByte(i>>>8),this.outputRawByte(i&255))},r.prototype.outputRawByte=function(n){this.outputBuffer[this.outputBufferPosition++]=n},r.prototype.cropAndAddNewBytesToInputBuffer=function(n){if(this.inputBuffer===void 0)return this.inputBuffer=n,0;var i=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),s=this.inputBuffer.length-i;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,s,i,n),this.inputBufferStreamOffset+=s,i},r}();e.Compressor=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(n*2),this.storage=new Uint32Array(n*2),this.storageIndex=1}return a(r,"CompressorCustomHashTable"),r.prototype.addValueToBucket=function(n,i){n<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var s=this.bucketLocators[n],o;if(s===0)s=this.storageIndex,o=1,this.storage[this.storageIndex]=i,this.storageIndex+=this.minimumBucketCapacity;else{o=this.bucketLocators[n+1],o===this.maximumBucketCapacity-1&&(o=this.truncateBucketToNewerElements(s,o,this.maximumBucketCapacity/2));var u=s+o;this.storage[u]===0?(this.storage[u]=i,u===this.storageIndex&&(this.storageIndex+=o)):(e.ArrayTools.copyElements(this.storage,s,this.storage,this.storageIndex,o),s=this.storageIndex,this.storageIndex+=o,this.storage[this.storageIndex++]=i,this.storageIndex+=o),o++}this.bucketLocators[n]=s,this.bucketLocators[n+1]=o},r.prototype.truncateBucketToNewerElements=function(n,i,s){var o=n+i-s;return e.ArrayTools.copyElements(this.storage,o,this.storage,n,s),e.ArrayTools.zeroElements(this.storage,n+s,i-s),s},r.prototype.compact=function(){var n=this.bucketLocators,i=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var s=0;s<n.length;s+=2){var o=n[s+1];o!==0&&(this.bucketLocators[s]=this.storageIndex,this.bucketLocators[s+1]=o,this.storageIndex+=Math.max(Math.min(o*2,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(this.storageIndex*8);for(var s=0;s<n.length;s+=2){var u=n[s];if(u!==0){var l=this.bucketLocators[s],f=this.bucketLocators[s+1];e.ArrayTools.copyElements(i,u,this.storage,l,f)}}},r.prototype.getArraySegmentForBucketIndex=function(n,i){n<<=1;var s=this.bucketLocators[n];return s===0?null:(i===void 0&&(i=new e.ArraySegment(this.storage,s,this.bucketLocators[n+1])),i)},r.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var n=0,i=0;i<this.bucketLocators.length;i+=2)n+=this.bucketLocators[i+1];return n},r}();e.CompressorCustomHashTable=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){this.maximumBucketCapacity=64,this.buckets=new Array(n)}return a(r,"CompressorSimpleHashTable"),r.prototype.addValueToBucket=function(n,i){var s=this.buckets[n];s===void 0?this.buckets[n]=[i]:(s.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(s,this.maximumBucketCapacity/2),s.push(i))},r.prototype.getArraySegmentForBucketIndex=function(n,i){var s=this.buckets[n];return s===void 0?null:(i===void 0&&(i=new e.ArraySegment(s,0,s.length)),i)},r.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var n=0,i=0;i<this.buckets.length;i++)this.buckets[i]!==void 0&&(n+=this.buckets[i].length);return n},r}();e.CompressorSimpleHashTable=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}return a(r,"Decompressor"),r.prototype.decompressBlockToString=function(n){return n=e.BufferTools.convertToUint8ArrayIfNeeded(n),e.decodeUTF8(this.decompressBlock(n))},r.prototype.decompressBlock=function(n){this.inputBufferRemainder&&(n=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,n]),this.inputBufferRemainder=void 0);for(var i=this.cropOutputBufferToWindowAndInitialize(Math.max(n.length*4,1024)),s=0,o=n.length;s<o;s++){var u=n[s];if(u>>>6!=3){this.outputByte(u);continue}var l=u>>>5;if(s==o-1||s==o-2&&l==7){this.inputBufferRemainder=n.subarray(s);break}if(n[s+1]>>>7===1)this.outputByte(u);else{var f=u&31,h=void 0;l==6?(h=n[s+1],s+=1):(h=n[s+1]<<8|n[s+2],s+=2);for(var p=this.outputPosition-h,g=0;g<f;g++)this.outputByte(this.outputBuffer[p+g])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,i,this.outputPosition-i)},r.prototype.outputByte=function(n){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=n},r.prototype.cropOutputBufferToWindowAndInitialize=function(n){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(n),0;var i=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-i,i,n),this.outputPosition=i,this.outputBufferRemainder){for(var s=0;s<this.outputBufferRemainder.length;s++)this.outputByte(this.outputBufferRemainder[s]);this.outputBufferRemainder=void 0}return i},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var n=1;n<=4&&this.outputPosition-n>=0;n++){var i=this.outputBuffer[this.outputPosition-n];if(n<4&&i>>>3===30||n<3&&i>>>4===14||n<2&&i>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-n,this.outputPosition),this.outputPosition-=n;return}}},r}();e.Decompressor=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),o=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),u="=",l=61;i.encode=function(f){return!f||f.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(f).toString("base64"):i.encodeWithJS(f)},i.decode=function(f){return f?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(b.Buffer.from(f,"base64")):i.decodeWithJS(f):new Uint8Array(0)},i.encodeWithJS=function(f,h){if(h===void 0&&(h=!0),!f||f.length==0)return"";for(var p=s,g=new e.StringBuilder,y,E=0,M=f.length;E<M;E+=3)E<=M-3?(y=f[E]<<16|f[E+1]<<8|f[E+2],g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),g.appendCharCode(p[y>>>6&63]),g.appendCharCode(p[y&63]),y=0):E===M-2?(y=f[E]<<16|f[E+1]<<8,g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),g.appendCharCode(p[y>>>6&63]),h&&g.appendCharCode(l)):E===M-1&&(y=f[E]<<16,g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),h&&(g.appendCharCode(l),g.appendCharCode(l)));return g.getOutputString()},i.decodeWithJS=function(f,h){if(!f||f.length==0)return new Uint8Array(0);var p=f.length%4;if(p===1)throw new Error("Invalid Base64 string: length % 4 == 1");p===2?f+=u+u:p===3&&(f+=u),h||(h=new Uint8Array(f.length));for(var g=0,y=f.length,E=0;E<y;E+=4){var M=o[f.charCodeAt(E)]<<18|o[f.charCodeAt(E+1)]<<12|o[f.charCodeAt(E+2)]<<6|o[f.charCodeAt(E+3)];h[g++]=M>>>16&255,h[g++]=M>>>8&255,h[g++]=M&255}return f.charCodeAt(y-1)==l&&g--,f.charCodeAt(y-2)==l&&g--,h.subarray(0,g)}})(n=r.Base64||(r.Base64={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encode=function(s){if(s==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(s.length===0)return"";for(var o=s.length,u=new e.StringBuilder,l=0,f=1,h=0;h<o;h+=2){var p=void 0;h==o-1?p=s[h]<<8:p=s[h]<<8|s[h+1],u.appendCharCode(l<<16-f|p>>>f),l=p&(1<<f)-1,f===15?(u.appendCharCode(l),l=0,f=1):f+=1,h>=o-2&&u.appendCharCode(l<<16-f)}return u.appendCharCode(32768|o%2),u.getOutputString()},i.decode=function(s){if(typeof s!="string")throw new TypeError("BinaryString.decode: invalid input type");if(s=="")return new Uint8Array(0);for(var o=new Uint8Array(s.length*3),u=0,l=a(function(y){o[u++]=y>>>8,o[u++]=y&255},"appendToOutput"),f=0,h=0,p=0;p<s.length;p++){var g=s.charCodeAt(p);if(g>=32768){g==32769&&u--,h=0;continue}h==0?f=g:(l(f<<h|g>>>15-h),f=g&(1<<15-h)-1),h==15?h=0:h+=1}return o.subarray(0,u)}})(n=r.BinaryString||(r.BinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encodeFromString=function(s,o){var u=s.charCodeAt(o);if(u<55296||u>56319)return u;var l=s.charCodeAt(o+1);if(l>=56320&&l<=57343)return 65536+((u-55296<<10)+(l-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(u,", followed by ").concat(l,", which is not a trailing surrogate character code."))},i.decodeToString=function(s){if(s<=65535)return String.fromCharCode(s);if(s<=1114111)return String.fromCharCode(55296+(s-65536>>>10),56320+(s-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(s," cannot be encoded in UTF-16"))}})(n=r.CodePoint||(r.CodePoint={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];i.encode=function(o){for(var u=[],l=0;l<o.length;l++)u.push(s[o[l]]);return u.join(" ")}})(n=r.DecimalString||(r.DecimalString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encode=function(s){return r.BinaryString.encode(s).replace(/\0/g,"\u8002")},i.decode=function(s){return r.BinaryString.decode(s.replace(/\u8002/g,"\0"))}})(n=r.StorageBinaryString||(r.StorageBinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s,o;i.encode=function(u){return!u||u.length==0?new Uint8Array(0):e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(b.Buffer.from(u,"utf8")):i.createNativeTextEncoderAndDecoderIfAvailable()?s.encode(u):i.encodeWithJS(u)},i.decode=function(u){return!u||u.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(u).toString("utf8"):i.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(u):i.decodeWithJS(u)},i.encodeWithJS=function(u,l){if(!u||u.length==0)return new Uint8Array(0);l||(l=new Uint8Array(u.length*4));for(var f=0,h=0;h<u.length;h++){var p=r.CodePoint.encodeFromString(u,h);if(p<=127)l[f++]=p;else if(p<=2047)l[f++]=192|p>>>6,l[f++]=128|p&63;else if(p<=65535)l[f++]=224|p>>>12,l[f++]=128|p>>>6&63,l[f++]=128|p&63;else if(p<=1114111)l[f++]=240|p>>>18,l[f++]=128|p>>>12&63,l[f++]=128|p>>>6&63,l[f++]=128|p&63,h++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return l.subarray(0,f)},i.decodeWithJS=function(u,l,f){if(l===void 0&&(l=0),!u||u.length==0)return"";f===void 0&&(f=u.length);for(var h=new e.StringBuilder,p,g,y=l,E=f;y<E;){if(g=u[y],g>>>7===0)p=g,y+=1;else if(g>>>5===6){if(y+1>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&31)<<6|u[y+1]&63,y+=2}else if(g>>>4===14){if(y+2>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&15)<<12|(u[y+1]&63)<<6|u[y+2]&63,y+=3}else if(g>>>3===30){if(y+3>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&7)<<18|(u[y+1]&63)<<12|(u[y+2]&63)<<6|u[y+3]&63,y+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+y);h.appendCodePoint(p)}return h.getOutputString()},i.createNativeTextEncoderAndDecoderIfAvailable=function(){return s?!0:typeof TextEncoder=="function"?(s=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0):!1}})(n=r.UTF8||(r.UTF8={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){function t(M,z){if(z===void 0&&(z={}),M==null)throw new TypeError("compress: undefined or null input received");var P=e.CompressionCommon.detectCompressionSourceEncoding(M);z=e.ObjectTools.override({inputEncoding:P,outputEncoding:"ByteArray"},z);var Q=new e.Compressor,V=Q.compressBlock(M);return e.CompressionCommon.encodeCompressedBytes(V,z.outputEncoding)}a(t,"compress"),e.compress=t;function r(M,z){if(z===void 0&&(z={}),M==null)throw new TypeError("decompress: undefined or null input received");z=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},z);var P=e.CompressionCommon.decodeCompressedBytes(M,z.inputEncoding),Q=new e.Decompressor,V=Q.decompressBlock(P);return e.CompressionCommon.encodeDecompressedBytes(V,z.outputEncoding)}a(r,"decompress"),e.decompress=r;function n(M,z,P){P==null&&(P=a(function(){},"callback"));var Q;try{Q=e.CompressionCommon.detectCompressionSourceEncoding(M)}catch(V){P(void 0,V);return}z=e.ObjectTools.override({inputEncoding:Q,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},z),e.enqueueImmediate(function(){z.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.compressAsync(M,z,P):e.AsyncCompressor.compressAsync(M,z,P)})}a(n,"compressAsync"),e.compressAsync=n;function i(M,z,P){if(P==null&&(P=a(function(){},"callback")),M==null){P(void 0,new TypeError("decompressAsync: undefined or null input received"));return}z=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},z);var Q=e.BufferTools.convertToUint8ArrayIfNeeded(M);e.EventLoop.enqueueImmediate(function(){z.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(Q,z,P):e.AsyncDecompressor.decompressAsync(M,z,P)})}a(i,"decompressAsync"),e.decompressAsync=i;function s(){return e.AsyncCompressor.createCompressionStream()}a(s,"createCompressionStream"),e.createCompressionStream=s;function o(){return e.AsyncDecompressor.createDecompressionStream()}a(o,"createDecompressionStream"),e.createDecompressionStream=o;function u(M){return e.Encoding.UTF8.encode(M)}a(u,"encodeUTF8"),e.encodeUTF8=u;function l(M){return e.Encoding.UTF8.decode(M)}a(l,"decodeUTF8"),e.decodeUTF8=l;function f(M){return e.Encoding.Base64.encode(M)}a(f,"encodeBase64"),e.encodeBase64=f;function h(M){return e.Encoding.Base64.decode(M)}a(h,"decodeBase64"),e.decodeBase64=h;function p(M){return e.Encoding.BinaryString.encode(M)}a(p,"encodeBinaryString"),e.encodeBinaryString=p;function g(M){return e.Encoding.BinaryString.decode(M)}a(g,"decodeBinaryString"),e.decodeBinaryString=g;function y(M){return e.Encoding.StorageBinaryString.encode(M)}a(y,"encodeStorageBinaryString"),e.encodeStorageBinaryString=y;function E(M){return e.Encoding.StorageBinaryString.decode(M)}a(E,"decodeStorageBinaryString"),e.decodeStorageBinaryString=E})(mr||(mr={}))});var Ede=j((qur,RS)=>{d();var Ade=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(o,u){if(!n[o]){n[o]={};for(var l=0;l<o.length;l++)n[o][o.charAt(l)]=l}return n[o][u]}a(i,"getBaseValue");var s={compressToBase64:function(o){if(o==null)return"";var u=s._compress(o,6,function(l){return t.charAt(l)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(o){return o==null?"":o==""?null:s._decompress(o.length,32,function(u){return i(t,o.charAt(u))})},compressToUTF16:function(o){return o==null?"":s._compress(o,15,function(u){return e(u+32)})+" "},decompressFromUTF16:function(o){return o==null?"":o==""?null:s._decompress(o.length,16384,function(u){return o.charCodeAt(u)-32})},compressToUint8Array:function(o){for(var u=s.compress(o),l=new Uint8Array(u.length*2),f=0,h=u.length;f<h;f++){var p=u.charCodeAt(f);l[f*2]=p>>>8,l[f*2+1]=p%256}return l},decompressFromUint8Array:function(o){if(o==null)return s.decompress(o);for(var u=new Array(o.length/2),l=0,f=u.length;l<f;l++)u[l]=o[l*2]*256+o[l*2+1];var h=[];return u.forEach(function(p){h.push(e(p))}),s.decompress(h.join(""))},compressToEncodedURIComponent:function(o){return o==null?"":s._compress(o,6,function(u){return r.charAt(u)})},decompressFromEncodedURIComponent:function(o){return o==null?"":o==""?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(u){return i(r,o.charAt(u))}))},compress:function(o){return s._compress(o,16,function(u){return e(u)})},_compress:function(o,u,l){if(o==null)return"";var f,h,p={},g={},y="",E="",M="",z=2,P=3,Q=2,V=[],W=0,F=0,B;for(B=0;B<o.length;B+=1)if(y=o.charAt(B),Object.prototype.hasOwnProperty.call(p,y)||(p[y]=P++,g[y]=!0),E=M+y,Object.prototype.hasOwnProperty.call(p,E))M=E;else{if(Object.prototype.hasOwnProperty.call(g,M)){if(M.charCodeAt(0)<256){for(f=0;f<Q;f++)W=W<<1,F==u-1?(F=0,V.push(l(W)),W=0):F++;for(h=M.charCodeAt(0),f=0;f<8;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1}else{for(h=1,f=0;f<Q;f++)W=W<<1|h,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=0;for(h=M.charCodeAt(0),f=0;f<16;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1}z--,z==0&&(z=Math.pow(2,Q),Q++),delete g[M]}else for(h=p[M],f=0;f<Q;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1;z--,z==0&&(z=Math.pow(2,Q),Q++),p[E]=P++,M=String(y)}if(M!==""){if(Object.prototype.hasOwnProperty.call(g,M)){if(M.charCodeAt(0)<256){for(f=0;f<Q;f++)W=W<<1,F==u-1?(F=0,V.push(l(W)),W=0):F++;for(h=M.charCodeAt(0),f=0;f<8;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1}else{for(h=1,f=0;f<Q;f++)W=W<<1|h,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=0;for(h=M.charCodeAt(0),f=0;f<16;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1}z--,z==0&&(z=Math.pow(2,Q),Q++),delete g[M]}else for(h=p[M],f=0;f<Q;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1;z--,z==0&&(z=Math.pow(2,Q),Q++)}for(h=2,f=0;f<Q;f++)W=W<<1|h&1,F==u-1?(F=0,V.push(l(W)),W=0):F++,h=h>>1;for(;;)if(W=W<<1,F==u-1){V.push(l(W));break}else F++;return V.join("")},decompress:function(o){return o==null?"":o==""?null:s._decompress(o.length,32768,function(u){return o.charCodeAt(u)})},_decompress:function(o,u,l){var f=[],h,p=4,g=4,y=3,E="",M=[],z,P,Q,V,W,F,B,S={val:l(0),position:u,index:1};for(z=0;z<3;z+=1)f[z]=z;for(Q=0,W=Math.pow(2,2),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;switch(h=Q){case 0:for(Q=0,W=Math.pow(2,8),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;B=e(Q);break;case 1:for(Q=0,W=Math.pow(2,16),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;B=e(Q);break;case 2:return""}for(f[3]=B,P=B,M.push(B);;){if(S.index>o)return"";for(Q=0,W=Math.pow(2,y),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;switch(B=Q){case 0:for(Q=0,W=Math.pow(2,8),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;f[g++]=e(Q),B=g-1,p--;break;case 1:for(Q=0,W=Math.pow(2,16),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=l(S.index++)),Q|=(V>0?1:0)*F,F<<=1;f[g++]=e(Q),B=g-1,p--;break;case 2:return M.join("")}if(p==0&&(p=Math.pow(2,y),y++),f[B])E=f[B];else if(B===g)E=P+P.charAt(0);else return null;M.push(E),f[g++]=P+E.charAt(0),p--,P=E,p==0&&(p=Math.pow(2,y),y++)}}};return s}();typeof define=="function"&&define.amd?define(function(){return Ade}):typeof RS<"u"&&RS!=null&&(RS.exports=Ade)});var Pde=j((ulr,qde)=>{d();var Wit="#2f383e",Lde="#2c323d",US="#bbbba9",Dde="#818e85",YS="#cd94b0",HS="#db797b",Nde="#9ab278",Vit="#73a8a2",jit="#d08c6d";async function Git(e,t={}){let r=await e.listHeads(),n=await e.listTails(),i=await e.listLatest(),s=await e.listFeeds(),o=await e.listFeedHeads(),u=t.colors||{},l=t.blockLabel||(W=>{let F=W.body.subarray(0,8).toString("hex"),B=V(W.sig),S=V(W.key);return`ID: ${B}
KEY: ${S}
BDY: ${F}`}),f=`// Nodes
`,h=`// Edges
`,p=[],g=[];for(let W of r){let F=V(W.key),B=`@author HEAD
${V(W.key)}`;f+=`"H${F}"
      [
        fontcolor="${YS}",
        color="${YS}",
        label="${B}"
      ];
`,h+=`"H${F}" -> "B${V(W.value)}"[arrowhead=odot];
`,p.push(W.value)}for(let W of n){let F=V(W.value),B=`@author TAIL
 ${V(W.key)}`;f+=`"T${F}"
      [
        fontcolor="${YS}",
        color="${YS}",
        label="${B}"
      ];
`,h+=`"B${F}" -> "T${F}"[dir=back,arrowtail=odot];
`}for(let W of i){let F=V(W.value),B=`@latest
 ${V(W.key)}`;f+=`"L${F}"
      [
        fontcolor="${Nde}",
        color="${Nde}",
        label="${B}"
      ];
`,h+=`"L${F}" -> "B${F}"[arrowhead=odot];
`}for(let W of s){let F=V(W.key),B=`@chain TAIL
${V(W.value)}`;f+=`"F${F}"
      [
        fontcolor="${HS}",
        color="${HS}",
        label="${B}"
      ];
`,h+=`"B${V(W.value)}" -> "F${F}"[dir=back,arrowtail=odot];
`,p.find(S=>S.equals(W.key))||(p.push(W.key),g.push(W.key))}for(let W of o){let F=V(W.key),B=`@chain HEAD
${V(W.key)}`;f+=`"FT${F}"
      [
        fontcolor="${HS}",
        color="${HS}",
        label="${B}"
      ];
`,h+=`"FT${F}" -> "B${V(W.value)}"[arrowhead=odot];
`}let y=0,E=0,M=0,z=0;for(let W of p){let F=g.find(B=>B.equals(W));y++;for await(let B of e._chainLoad(W)){E++,M+=B.buffer.length,z+=B.size;let S=V(B.sig),T=l(B,{link(R,x=`style=dashed,weight=0.1,color="${jit}"`){if(!b.Buffer.isBuffer(R))throw new Error("link(id) expected id to be Buffer");h+=`"B${S}" -> "B${V(R)}"[${x}];
`}}),k=F?u.orphanBlock||Vit:u.block||US;f+=`"B${S}"
        [
          fontcolor="${k}",
          color="${k}"
          shape="square",
          label="${T}"
        ];
`,B.isGenesis||(h+=`"B${S}" -> "B${V(B.parentSig)}"
          [
            color="${Dde}",
            fillcolor="${US}",
            weight=1.0
          ];
`)}}let P=t.label||`[PicoRepo] Authors: ${i.length} Feeds: ${y}, Blocks: ${E}, Bytes: ${Ode(M)} (${Ode(M-z)} ${(100*(M-z)/M).toFixed(2)}%)`;return`
    digraph G {
      graph [pad=0.2,labelloc="t",fontcolor="${US}",bgcolor="${Wit}",fontname="fixed",overlap="false",center="1",ratio="compress",label="${P}",rankdir=BT];
      edge [color="black",fillcolor="${Lde}",weight=2.0];
      node [style=filled,fillcolor="${Lde}",color="${Dde}",shape="rect",fontcolor="${US}",shape=box];
    ${f}
    ${h}
    }
  `;function V(W){return W.subarray(0,4).toString("hex")}}a(Git,"inspect");qde.exports={inspect:Git};function Ode(e,t=!1){let r=e<0?-e:e;if(r<1e3)return n(e,"B");if(r<1e6)return n(e/1e3,"kB");if(r<1e9)return n(e/1e6,"MB");return n(e/1e9,"GB");function n(i,s){return i=Math.round(10*i)/10,i+(t?" ":"")+s}}a(Ode,"bs")});var Yde=j((Slr,Kit)=>{Kit.exports={name:"@socketsupply/tonic",version:"14.1.5",description:"A component framework.",scripts:{"ci:test:tape-run":"esbuild --bundle test/index.js | tape-run",lint:"standard -v",test:"npm run build && standard && esbuild --bundle test/index.js | tape-run","test:open":"npm run build && esbuild --bundle test/index.js | tape-run --browser chrome --keep-open",prepare:"./scripts/build.js",build:"./scripts/build.js && npm run minify:esm && npm run minify:cjs","minify:esm":"esbuild index.esm.js --keep-names --minify --outfile=dist/tonic.min.esm.js","minify:cjs":"esbuild index.js --keep-names --minify --outfile=dist/tonic.min.js",pub:"npm pub && npm publish --registry https://npm.pkg.github.com"},main:"index.js",author:"socketsupply",license:"MIT",devDependencies:{benchmark:"^2.1.4",esbuild:"^0.8.36",standard:"14.3.1","tape-run":"^8.0.0",tapzero:"0.2.2",uuid:"3.3.3"},standard:{ignore:["dist/*","test/fixtures/*"]},directories:{test:"test"},repository:{type:"git",url:"git+https://github.com/socketsupply/tonic.git"},bugs:{url:"https://github.com/socketsupply/tonic/issues"},homepage:"https://tonicframework.dev",dependencies:{}}});var Gde=j(jde=>{"use strict";d();jde.supports=a(function(...t){let r=t.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})},"supports")});var Mu=j((jlr,Kde)=>{"use strict";d();Kde.exports=a(class extends Error{constructor(t,r){super(t||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},"ModuleError")});var wq=j(($lr,$de)=>{"use strict";d();var xq=null;$de.exports=function(){return xq===null&&(xq={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),xq}});var Eq=j(Xde=>{"use strict";d();var Aq=Mu(),Jit=new Set(["buffer","view","utf8"]),zS=class{constructor(t){if(this.encode=t.encode||this.encode,this.decode=t.decode||this.decode,this.name=t.name||this.name,this.format=t.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!Jit.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");t.createViewTranscoder&&(this.createViewTranscoder=t.createViewTranscoder),t.createBufferTranscoder&&(this.createBufferTranscoder=t.createBufferTranscoder),t.createUTF8Transcoder&&(this.createUTF8Transcoder=t.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new Aq(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new Aq(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new Aq(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};a(zS,"Encoding");Xde.Encoding=zS});var Cq=j(WS=>{"use strict";d();var{Buffer:Sq}=Ei()||{},{Encoding:kq}=Eq(),Zit=wq(),$m=class extends kq{constructor(t){super({...t,format:"buffer"})}createViewTranscoder(){return new Xm({encode:this.encode,decode:t=>this.decode(Sq.from(t.buffer,t.byteOffset,t.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}};a($m,"BufferFormat");var Xm=class extends kq{constructor(t){super({...t,format:"view"})}createBufferTranscoder(){return new $m({encode:t=>{let r=this.encode(t);return Sq.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}};a(Xm,"ViewFormat");var QS=class extends kq{constructor(t){super({...t,format:"utf8"})}createBufferTranscoder(){return new $m({encode:t=>Sq.from(this.encode(t),"utf8"),decode:t=>this.decode(t.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:t,textDecoder:r}=Zit();return new Xm({encode:n=>t.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};a(QS,"UTF8Format");WS.BufferFormat=$m;WS.ViewFormat=Xm;WS.UTF8Format=QS});var t0e=j(S1=>{"use strict";d();var{Buffer:Ts}=Ei()||{Buffer:{isBuffer:()=>!1}},{textEncoder:Zde,textDecoder:Jde}=wq()(),{BufferFormat:Gx,ViewFormat:Iq,UTF8Format:e0e}=Cq(),VS=a(e=>e,"identity");S1.utf8=new e0e({encode:function(e){return Ts.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?Jde.decode(e):String(e)},decode:VS,name:"utf8",createViewTranscoder(){return new Iq({encode:function(e){return ArrayBuffer.isView(e)?e:Zde.encode(e)},decode:function(e){return Jde.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new Gx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}});S1.json=new e0e({encode:JSON.stringify,decode:JSON.parse,name:"json"});S1.buffer=new Gx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:VS,name:"buffer",createViewTranscoder(){return new Iq({encode:function(e){return ArrayBuffer.isView(e)?e:Ts.from(String(e),"utf8")},decode:function(e){return Ts.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}});S1.view=new Iq({encode:function(e){return ArrayBuffer.isView(e)?e:Zde.encode(e)},decode:VS,name:"view",createBufferTranscoder(){return new Gx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:VS,name:`${this.name}+buffer`})}});S1.hex=new Gx({encode:function(e){return Ts.isBuffer(e)?e:Ts.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"});S1.base64=new Gx({encode:function(e){return Ts.isBuffer(e)?e:Ts.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"})});var i0e=j(n0e=>{"use strict";d();var r0e=Mu(),KS=t0e(),{Encoding:eat}=Eq(),{BufferFormat:tat,ViewFormat:rat,UTF8Format:nat}=Cq(),Kx=Symbol("formats"),jS=Symbol("encodings"),iat=new Set(["buffer","view","utf8"]),GS=class{constructor(t){if(Array.isArray(t)){if(!t.every(r=>iat.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[jS]=new Map,this[Kx]=new Set(t);for(let r in KS)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[jS].values()))}encoding(t){let r=this[jS].get(t);if(r===void 0){if(typeof t=="string"&&t!==""){if(r=cat[t],!r)throw new r0e(`Encoding '${t}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof t!="object"||t===null)throw new TypeError("First argument 'encoding' must be a string or object");r=aat(t)}let{name:n,format:i}=r;if(!this[Kx].has(i))if(this[Kx].has("view"))r=r.createViewTranscoder();else if(this[Kx].has("buffer"))r=r.createBufferTranscoder();else if(this[Kx].has("utf8"))r=r.createUTF8Transcoder();else throw new r0e(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let s of[t,n,r.name,r.commonName])this[jS].set(s,r)}return r}};a(GS,"Transcoder");n0e.Transcoder=GS;function aat(e){if(e instanceof eat)return e;let t="type"in e&&typeof e.type=="string"?e.type:void 0,r=e.name||t||`anonymous-${uat++}`;switch(sat(e)){case"view":return new rat({...e,name:r});case"utf8":return new nat({...e,name:r});case"buffer":return new tat({...e,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}a(aat,"from");function sat(e){return"format"in e&&e.format!==void 0?e.format:"buffer"in e&&typeof e.buffer=="boolean"?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}a(sat,"detectFormat");var oat={binary:KS.buffer,"utf-8":KS.utf8},cat={...KS,...oat},uat=0});var s0e=j((lfr,a0e)=>{d();a0e.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var $x=j(Tq=>{"use strict";d();var o0e=s0e();Tq.fromCallback=function(e,t){if(e===void 0){var r=new Promise(function(n,i){e=a(function(s,o){s?i(s):n(o)},"callback")});e[t!==void 0?t:"promise"]=r}else if(typeof e!="function")throw new TypeError("Callback must be a function");return e};Tq.fromPromise=function(e,t){if(t===void 0)return e;e.then(function(r){o0e(()=>t(null,r))}).catch(function(r){o0e(()=>t(r))})}});var $S=j(Mq=>{"use strict";d();Mq.getCallback=function(e,t){return typeof e=="function"?e:t};Mq.getOptions=function(e,t){return typeof e=="object"&&e!==null?e:t!==void 0?t:{}}});var c0=j(r7=>{"use strict";d();var{fromCallback:Bq}=$x(),Jo=Mu(),{getOptions:Rq,getCallback:c0e}=$S(),k1=Symbol("promise"),Jm=Symbol("callback"),ql=Symbol("working"),C1=Symbol("handleOne"),oh=Symbol("handleMany"),Lq=Symbol("autoClose"),o0=Symbol("finishWork"),Pl=Symbol("returnMany"),i0=Symbol("closing"),Xx=Symbol("handleClose"),XS=Symbol("closed"),Jx=Symbol("closeCallbacks"),s0=Symbol("keyEncoding"),T1=Symbol("valueEncoding"),Dq=Symbol("abortOnClose"),JS=Symbol("legacy"),Nq=Symbol("keys"),Oq=Symbol("values"),a0=Symbol("limit"),jc=Symbol("count"),ZS=Object.freeze({}),lat=a(()=>{},"noop"),u0e=!1,Zm=class{constructor(t,r,n){if(typeof t!="object"||t===null){let i=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[XS]=!1,this[Jx]=[],this[ql]=!1,this[i0]=!1,this[Lq]=!1,this[Jm]=null,this[C1]=this[C1].bind(this),this[oh]=this[oh].bind(this),this[Xx]=this[Xx].bind(this),this[s0]=r[s0],this[T1]=r[T1],this[JS]=n,this[a0]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[jc]=0,this[Dq]=!!r.abortOnClose,this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get count(){return this[jc]}get limit(){return this[a0]}next(t){let r;if(t===void 0)r=new Promise((n,i)=>{t=a((s,o,u)=>{s?i(s):this[JS]?o===void 0&&u===void 0?n():n([o,u]):n(o)},"callback")});else if(typeof t!="function")throw new TypeError("Callback must be a function");return this[i0]?this.nextTick(t,new Jo("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ql]?this.nextTick(t,new Jo("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ql]=!0,this[Jm]=t,this[jc]>=this[a0]?this.nextTick(this[C1],null):this._next(this[C1])),r}_next(t){this.nextTick(t)}nextv(t,r,n){return n=c0e(r,n),n=Bq(n,k1),r=Rq(r,ZS),Number.isInteger(t)?(this[i0]?this.nextTick(n,new Jo("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ql]?this.nextTick(n,new Jo("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(t<1&&(t=1),this[a0]<1/0&&(t=Math.min(t,this[a0]-this[jc])),this[ql]=!0,this[Jm]=n,t<=0?this.nextTick(this[oh],null,[]):this._nextv(t,r,this[oh])),n[k1]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[k1])}_nextv(t,r,n){let i=[],s=a((o,u,l)=>{if(o)return n(o);if(this[JS]?u===void 0&&l===void 0:u===void 0)return n(null,i);i.push(this[JS]?[u,l]:u),i.length===t?n(null,i):this._next(s)},"onnext");this._next(s)}all(t,r){return r=c0e(t,r),r=Bq(r,k1),t=Rq(t,ZS),this[i0]?this.nextTick(r,new Jo("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ql]?this.nextTick(r,new Jo("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ql]=!0,this[Jm]=r,this[Lq]=!0,this[jc]>=this[a0]?this.nextTick(this[oh],null,[]):this._all(t,this[oh])),r[k1]}_all(t,r){let n=this[jc],i=[],s=a(()=>{let u=this[a0]<1/0?Math.min(1e3,this[a0]-n):1e3;u<=0?this.nextTick(r,null,i):this._nextv(u,ZS,o)},"nextv"),o=a((u,l)=>{u?r(u):l.length===0?r(null,i):(i.push.apply(i,l),n+=l.length,s())},"onnextv");s()}[o0](){let t=this[Jm];return this[Dq]&&t===null?lat:(this[ql]=!1,this[Jm]=null,this[i0]&&this._close(this[Xx]),t)}[Pl](t,r,n){this[Lq]?this.close(t.bind(null,r,n)):t(r,n)}seek(t,r){if(r=Rq(r,ZS),!this[i0]){if(this[ql])throw new Jo("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[s0]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let s=this.db.prefixKey(n.encode(t),i);this._seek(s,r)}}}_seek(t,r){throw new Jo("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(t){return t=Bq(t,k1),this[XS]?this.nextTick(t):this[i0]?this[Jx].push(t):(this[i0]=!0,this[Jx].push(t),this[ql]?this[Dq]&&this[o0]()(new Jo("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Xx])),t[k1]}_close(t){this.nextTick(t)}[Xx](){this[XS]=!0,this.db.detachResource(this);let t=this[Jx];this[Jx]=[];for(let r of t)r()}async*[Symbol.asyncIterator](){try{let t;for(;(t=await this.next())!==void 0;)yield t}finally{this[XS]||await this.close()}}};a(Zm,"CommonIterator");var I1=class extends Zm{constructor(t,r){super(t,r,!0),this[Nq]=r.keys!==!1,this[Oq]=r.values!==!1}[C1](t,r,n){let i=this[o0]();if(t)return i(t);try{r=this[Nq]&&r!==void 0?this[s0].decode(r):void 0,n=this[Oq]&&n!==void 0?this[T1].decode(n):void 0}catch(s){return i(new ch("entry",s))}r===void 0&&n===void 0||this[jc]++,i(null,r,n)}[oh](t,r){let n=this[o0]();if(t)return this[Pl](n,t);try{for(let i of r){let s=i[0],o=i[1];i[0]=this[Nq]&&s!==void 0?this[s0].decode(s):void 0,i[1]=this[Oq]&&o!==void 0?this[T1].decode(o):void 0}}catch(i){return this[Pl](n,new ch("entries",i))}this[jc]+=r.length,this[Pl](n,null,r)}end(t){return!u0e&&typeof console<"u"&&(u0e=!0,console.warn(new Jo("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(t)}};a(I1,"AbstractIterator");var e7=class extends Zm{constructor(t,r){super(t,r,!1)}[C1](t,r){let n=this[o0]();if(t)return n(t);try{r=r!==void 0?this[s0].decode(r):void 0}catch(i){return n(new ch("key",i))}r!==void 0&&this[jc]++,n(null,r)}[oh](t,r){let n=this[o0]();if(t)return this[Pl](n,t);try{for(let i=0;i<r.length;i++){let s=r[i];r[i]=s!==void 0?this[s0].decode(s):void 0}}catch(i){return this[Pl](n,new ch("keys",i))}this[jc]+=r.length,this[Pl](n,null,r)}};a(e7,"AbstractKeyIterator");var t7=class extends Zm{constructor(t,r){super(t,r,!1)}[C1](t,r){let n=this[o0]();if(t)return n(t);try{r=r!==void 0?this[T1].decode(r):void 0}catch(i){return n(new ch("value",i))}r!==void 0&&this[jc]++,n(null,r)}[oh](t,r){let n=this[o0]();if(t)return this[Pl](n,t);try{for(let i=0;i<r.length;i++){let s=r[i];r[i]=s!==void 0?this[T1].decode(s):void 0}}catch(i){return this[Pl](n,new ch("values",i))}this[jc]+=r.length,this[Pl](n,null,r)}};a(t7,"AbstractValueIterator");var ch=class extends Jo{constructor(t,r){super(`Iterator could not decode ${t}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};a(ch,"IteratorDecodeError");for(let e of["_ended property","_nexting property","_end method"])Object.defineProperty(I1.prototype,e.split(" ")[0],{get(){throw new Jo(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Jo(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});I1.keyEncoding=s0;I1.valueEncoding=T1;r7.AbstractIterator=I1;r7.AbstractKeyIterator=e7;r7.AbstractValueIterator=t7});var l0e=j(qq=>{"use strict";d();var{AbstractKeyIterator:fat,AbstractValueIterator:hat}=c0(),M1=Symbol("iterator"),Zx=Symbol("callback"),t2=Symbol("handleOne"),B1=Symbol("handleMany"),e2=class extends fat{constructor(t,r){super(t,r),this[M1]=t.iterator({...r,keys:!0,values:!1}),this[t2]=this[t2].bind(this),this[B1]=this[B1].bind(this)}};a(e2,"DefaultKeyIterator");var ew=class extends hat{constructor(t,r){super(t,r),this[M1]=t.iterator({...r,keys:!1,values:!0}),this[t2]=this[t2].bind(this),this[B1]=this[B1].bind(this)}};a(ew,"DefaultValueIterator");for(let e of[e2,ew]){let t=e===e2,r=t?n=>n[0]:n=>n[1];e.prototype._next=function(n){this[Zx]=n,this[M1].next(this[t2])},e.prototype[t2]=function(n,i,s){let o=this[Zx];n?o(n):o(null,t?i:s)},e.prototype._nextv=function(n,i,s){this[Zx]=s,this[M1].nextv(n,i,this[B1])},e.prototype._all=function(n,i){this[Zx]=i,this[M1].all(n,this[B1])},e.prototype[B1]=function(n,i){let s=this[Zx];n?s(n):s(null,i.map(r))},e.prototype._seek=function(n,i){this[M1].seek(n,i)},e.prototype._close=function(n){this[M1].close(n)}}qq.DefaultKeyIterator=e2;qq.DefaultValueIterator=ew});var f0e=j(a7=>{"use strict";d();var{AbstractIterator:dat,AbstractKeyIterator:pat,AbstractValueIterator:gat}=c0(),Pq=Mu(),So=Symbol("nut"),n7=Symbol("undefer"),i7=Symbol("factory"),tw=class extends dat{constructor(t,r){super(t,r),this[So]=null,this[i7]=()=>t.iterator(r),this.db.defer(()=>this[n7]())}};a(tw,"DeferredIterator");var rw=class extends pat{constructor(t,r){super(t,r),this[So]=null,this[i7]=()=>t.keys(r),this.db.defer(()=>this[n7]())}};a(rw,"DeferredKeyIterator");var nw=class extends gat{constructor(t,r){super(t,r),this[So]=null,this[i7]=()=>t.values(r),this.db.defer(()=>this[n7]())}};a(nw,"DeferredValueIterator");for(let e of[tw,rw,nw])e.prototype[n7]=function(){this.db.status==="open"&&(this[So]=this[i7]())},e.prototype._next=function(t){this[So]!==null?this[So].next(t):this.db.status==="opening"?this.db.defer(()=>this._next(t)):this.nextTick(t,new Pq("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(t,r,n){this[So]!==null?this[So].nextv(t,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(t,r,n)):this.nextTick(n,new Pq("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(t,r){this[So]!==null?this[So].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(t,r)):this.nextTick(r,new Pq("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(t,r){this[So]!==null?this[So]._seek(t,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(t,r))},e.prototype._close=function(t){this[So]!==null?this[So].close(t):this.db.status==="opening"?this.db.defer(()=>this._close(t)):this.nextTick(t)};a7.DeferredIterator=tw;a7.DeferredKeyIterator=rw;a7.DeferredValueIterator=nw});var Fq=j(d0e=>{"use strict";d();var{fromCallback:h0e}=$x(),s7=Mu(),{getCallback:yat,getOptions:mat}=$S(),o7=Symbol("promise"),Gc=Symbol("status"),r2=Symbol("operations"),iw=Symbol("finishClose"),n2=Symbol("closeCallbacks"),c7=class{constructor(t){if(typeof t!="object"||t===null){let r=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[r2]=[],this[n2]=[],this[Gc]="open",this[iw]=this[iw].bind(this),this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get length(){return this[r2].length}put(t,r,n){if(this[Gc]!=="open")throw new s7("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(t)||this.db._checkValue(r);if(i)throw i;let s=n&&n.sublevel!=null?n.sublevel:this.db,o=n,u=s.keyEncoding(n&&n.keyEncoding),l=s.valueEncoding(n&&n.valueEncoding),f=u.format;n={...n,keyEncoding:f,valueEncoding:l.format},s!==this.db&&(n.sublevel=null);let h=s.prefixKey(u.encode(t),f),p=l.encode(r);return this._put(h,p,n),this[r2].push({...o,type:"put",key:t,value:r}),this}_put(t,r,n){}del(t,r){if(this[Gc]!=="open")throw new s7("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(t);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,s=r,o=i.keyEncoding(r&&r.keyEncoding),u=o.format;return r={...r,keyEncoding:u},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(o.encode(t),u),r),this[r2].push({...s,type:"del",key:t}),this}_del(t,r){}clear(){if(this[Gc]!=="open")throw new s7("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[r2]=[],this}_clear(){}write(t,r){return r=yat(t,r),r=h0e(r,o7),t=mat(t),this[Gc]!=="open"?this.nextTick(r,new s7("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[Gc]="writing",this._write(t,n=>{this[Gc]="closing",this[n2].push(()=>r(n)),n||this.db.emit("batch",this[r2]),this._close(this[iw])})),r[o7]}_write(t,r){}close(t){return t=h0e(t,o7),this[Gc]==="closing"?this[n2].push(t):this[Gc]==="closed"?this.nextTick(t):(this[n2].push(t),this[Gc]!=="writing"&&(this[Gc]="closing",this._close(this[iw]))),t[o7]}_close(t){this.nextTick(t)}[iw](){this[Gc]="closed",this.db.detachResource(this);let t=this[n2];this[n2]=[];for(let r of t)r()}};a(c7,"AbstractChainedBatch");d0e.AbstractChainedBatch=c7});var g0e=j(p0e=>{"use strict";d();var{AbstractChainedBatch:bat}=Fq(),vat=Mu(),i2=Symbol("encoded"),u7=class extends bat{constructor(t){super(t),this[i2]=[]}_put(t,r,n){this[i2].push({...n,type:"put",key:t,value:r})}_del(t,r){this[i2].push({...r,type:"del",key:t})}_clear(){this[i2]=[]}_write(t,r){this.db.status==="opening"?this.db.defer(()=>this._write(t,r)):this.db.status==="open"?this[i2].length===0?this.nextTick(r):this.db._batch(this[i2],t,r):this.nextTick(r,new vat("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};a(u7,"DefaultChainedBatch");p0e.DefaultChainedBatch=u7});var b0e=j((Rfr,m0e)=>{"use strict";d();var y0e=Mu(),_at=Object.prototype.hasOwnProperty,xat=new Set(["lt","lte","gt","gte"]);m0e.exports=function(e,t){let r={};for(let n in e)if(!!_at.call(e,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new y0e(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new y0e("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});xat.has(n)?r[n]=t.encode(e[n]):r[n]=e[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var aw=j((Dfr,_0e)=>{d();var v0e;_0e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:w):e=>(v0e||(v0e=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var A0e=j((Ofr,w0e)=>{"use strict";d();var x0e=aw();w0e.exports=function(e,...t){t.length===0?x0e(e):x0e(()=>e(...t))}});var E0e=j(l7=>{"use strict";d();var{AbstractIterator:wat,AbstractKeyIterator:Aat,AbstractValueIterator:Eat}=c0(),a2=Symbol("unfix"),Bu=Symbol("iterator"),R1=Symbol("handleOne"),u0=Symbol("handleMany"),uh=Symbol("callback"),s2=class extends wat{constructor(t,r,n,i){super(t,r),this[Bu]=n,this[a2]=i,this[R1]=this[R1].bind(this),this[u0]=this[u0].bind(this),this[uh]=null}[R1](t,r,n){let i=this[uh];if(t)return i(t);r!==void 0&&(r=this[a2](r)),i(t,r,n)}[u0](t,r){let n=this[uh];if(t)return n(t);for(let i of r){let s=i[0];s!==void 0&&(i[0]=this[a2](s))}n(t,r)}};a(s2,"AbstractSublevelIterator");var o2=class extends Aat{constructor(t,r,n,i){super(t,r),this[Bu]=n,this[a2]=i,this[R1]=this[R1].bind(this),this[u0]=this[u0].bind(this),this[uh]=null}[R1](t,r){let n=this[uh];if(t)return n(t);r!==void 0&&(r=this[a2](r)),n(t,r)}[u0](t,r){let n=this[uh];if(t)return n(t);for(let i=0;i<r.length;i++){let s=r[i];s!==void 0&&(r[i]=this[a2](s))}n(t,r)}};a(o2,"AbstractSublevelKeyIterator");var c2=class extends Eat{constructor(t,r,n){super(t,r),this[Bu]=n}};a(c2,"AbstractSublevelValueIterator");for(let e of[s2,o2])e.prototype._next=function(t){this[uh]=t,this[Bu].next(this[R1])},e.prototype._nextv=function(t,r,n){this[uh]=n,this[Bu].nextv(t,r,this[u0])},e.prototype._all=function(t,r){this[uh]=r,this[Bu].all(t,this[u0])};for(let e of[c2])e.prototype._next=function(t){this[Bu].next(t)},e.prototype._nextv=function(t,r,n){this[Bu].nextv(t,r,n)},e.prototype._all=function(t,r){this[Bu].all(t,r)};for(let e of[s2,o2,c2])e.prototype._seek=function(t,r){this[Bu].seek(t,r)},e.prototype._close=function(t){this[Bu].close(t)};l7.AbstractSublevelIterator=s2;l7.AbstractSublevelKeyIterator=o2;l7.AbstractSublevelValueIterator=c2});var I0e=j((Yfr,C0e)=>{"use strict";d();var Uq=Mu(),{Buffer:zq}=Ei()||{},{AbstractSublevelIterator:Sat,AbstractSublevelKeyIterator:kat,AbstractSublevelValueIterator:Cat}=E0e(),lh=Symbol("prefix"),S0e=Symbol("upperBound"),sw=Symbol("prefixRange"),Zo=Symbol("parent"),Yq=Symbol("unfix"),k0e=new TextEncoder,Iat={separator:"!"};C0e.exports=function({AbstractLevel:e}){class t extends e{static defaults(n){if(typeof n=="string")throw new Uq("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new Uq("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?Iat:n.separator?n:{...n,separator:"!"}}constructor(n,i,s){let{separator:o,manifest:u,...l}=t.defaults(s);i=Mat(i,o);let f=o.charCodeAt(0)+1,h=n[Zo]||n;if(!k0e.encode(i).every(y=>y>f&&y<127))throw new Uq(`Prefix must use bytes > ${f} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(Tat(h,u),l);let p=(n.prefix||"")+o+i+o,g=p.slice(0,-1)+String.fromCharCode(f);this[Zo]=h,this[lh]=new ow(p),this[S0e]=new ow(g),this[Yq]=new f7,this.nextTick=h.nextTick}prefixKey(n,i){if(i==="utf8")return this[lh].utf8+n;if(n.byteLength===0)return this[lh][i];if(i==="view"){let s=this[lh].view,o=new Uint8Array(s.byteLength+n.byteLength);return o.set(s,0),o.set(n,s.byteLength),o}else{let s=this[lh].buffer;return zq.concat([s,n],s.byteLength+n.byteLength)}}[sw](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[lh][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[S0e][i]}get prefix(){return this[lh].utf8}get db(){return this[Zo]}_open(n,i){this[Zo].open({passive:!0},i)}_put(n,i,s,o){this[Zo].put(n,i,s,o)}_get(n,i,s){this[Zo].get(n,i,s)}_getMany(n,i,s){this[Zo].getMany(n,i,s)}_del(n,i,s){this[Zo].del(n,i,s)}_batch(n,i,s){this[Zo].batch(n,i,s)}_clear(n,i){this[sw](n,n.keyEncoding),this[Zo].clear(n,i)}_iterator(n){this[sw](n,n.keyEncoding);let i=this[Zo].iterator(n),s=this[Yq].get(this[lh].utf8.length,n.keyEncoding);return new Sat(this,n,i,s)}_keys(n){this[sw](n,n.keyEncoding);let i=this[Zo].keys(n),s=this[Yq].get(this[lh].utf8.length,n.keyEncoding);return new kat(this,n,i,s)}_values(n){this[sw](n,n.keyEncoding);let i=this[Zo].values(n);return new Cat(this,n,i)}}return a(t,"AbstractSublevel"),{AbstractSublevel:t}};var Tat=a(function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:Hq(e,"utf8"),buffer:Hq(e,"buffer"),view:Hq(e,"view")}}},"mergeManifests"),Hq=a(function(e,t){return e.supports.encodings[t]?e.keyEncoding(t).name===t:!1},"supportsEncoding"),ow=class{constructor(t){this.utf8=t,this.view=k0e.encode(t),this.buffer=zq?zq.from(this.view.buffer,0,this.view.byteLength):{}}};a(ow,"MultiFormat");var f7=class{constructor(){this.cache=new Map}get(t,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=function(i,s){return s.subarray(i)}.bind(null,t):n=function(i,s){return s.slice(i)}.bind(null,t),this.cache.set(r,n)),n}};a(f7,"Unfixer");var Mat=a(function(e,t){let r=0,n=e.length;for(;r<n&&e[r]===t;)r++;for(;n>r&&e[n-1]===t;)n--;return e.slice(r,n)},"trim")});var Gq=j(jq=>{"use strict";d();var{supports:Bat}=Gde(),{Transcoder:Rat}=i0e(),{EventEmitter:Lat}=ea(),{fromCallback:l0}=$x(),Ru=Mu(),{AbstractIterator:L1}=c0(),{DefaultKeyIterator:Dat,DefaultValueIterator:Nat}=l0e(),{DeferredIterator:Oat,DeferredKeyIterator:qat,DeferredValueIterator:Pat}=f0e(),{DefaultChainedBatch:T0e}=g0e(),{getCallback:D1,getOptions:f0}=$S(),h7=b0e(),cn=Symbol("promise"),fh=Symbol("landed"),N1=Symbol("resources"),Qq=Symbol("closeResources"),cw=Symbol("operations"),uw=Symbol("undefer"),d7=Symbol("deferOpen"),M0e=Symbol("options"),vn=Symbol("status"),O1=Symbol("defaultOptions"),u2=Symbol("transcoder"),p7=Symbol("keyEncoding"),Wq=Symbol("valueEncoding"),Fat=a(()=>{},"noop"),f2=class extends Lat{constructor(t,r){if(super(),typeof t!="object"||t===null)throw new TypeError("The first argument 'manifest' must be an object");r=f0(r);let{keyEncoding:n,valueEncoding:i,passive:s,...o}=r;this[N1]=new Set,this[cw]=[],this[d7]=!0,this[M0e]=o,this[vn]="opening",this.supports=Bat(t,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:t.snapshots!==!1,permanence:t.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:t.encodings||{},events:Object.assign({},t.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[u2]=new Rat(Uat(this)),this[p7]=this[u2].encoding(n||"utf8"),this[Wq]=this[u2].encoding(i||"utf8");for(let u of this[u2].encodings())this.supports.encodings[u.commonName]||(this.supports.encodings[u.commonName]=!0);this[O1]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[p7].commonName,valueEncoding:this[Wq].commonName}),key:Object.freeze({keyEncoding:this[p7].commonName})},this.nextTick(()=>{this[d7]&&this.open({passive:!1},Fat)})}get status(){return this[vn]}keyEncoding(t){return this[u2].encoding(t??this[p7])}valueEncoding(t){return this[u2].encoding(t??this[Wq])}open(t,r){r=D1(t,r),r=l0(r,cn),t={...this[M0e],...f0(t)},t.createIfMissing=t.createIfMissing!==!1,t.errorIfExists=!!t.errorIfExists;let n=a(i=>{this[vn]==="closing"||this[vn]==="opening"?this.once(fh,i?()=>n(i):n):this[vn]!=="open"?r(new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()},"maybeOpened");return t.passive?this[vn]==="opening"?this.once(fh,n):this.nextTick(n):this[vn]==="closed"||this[d7]?(this[d7]=!1,this[vn]="opening",this.emit("opening"),this._open(t,i=>{if(i){this[vn]="closed",this[Qq](()=>{this.emit(fh),n(i)}),this[uw]();return}this[vn]="open",this[uw](),this.emit(fh),this[vn]==="open"&&this.emit("open"),this[vn]==="open"&&this.emit("ready"),n()})):this[vn]==="open"?this.nextTick(n):this.once(fh,()=>this.open(t,r)),r[cn]}_open(t,r){this.nextTick(r)}close(t){t=l0(t,cn);let r=a(n=>{this[vn]==="opening"||this[vn]==="closing"?this.once(fh,n?r(n):r):this[vn]!=="closed"?t(new Ru("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):t()},"maybeClosed");if(this[vn]==="open"){this[vn]="closing",this.emit("closing");let n=a(i=>{this[vn]="open",this[uw](),this.emit(fh),r(i)},"cancel");this[Qq](()=>{this._close(i=>{if(i)return n(i);this[vn]="closed",this[uw](),this.emit(fh),this[vn]==="closed"&&this.emit("closed"),r()})})}else this[vn]==="closed"?this.nextTick(r):this.once(fh,()=>this.close(t));return t[cn]}[Qq](t){if(this[N1].size===0)return this.nextTick(t);let r=this[N1].size,n=!0,i=a(()=>{--r===0&&(n?this.nextTick(t):t())},"next");for(let s of this[N1])s.close(i);n=!1,this[N1].clear()}_close(t){this.nextTick(t)}get(t,r,n){if(n=D1(r,n),n=l0(n,cn),r=f0(r,this[O1].entry),this[vn]==="opening")return this.defer(()=>this.get(t,r,n)),n[cn];if(l2(this,n))return n[cn];let i=this._checkKey(t);if(i)return this.nextTick(n,i),n[cn];let s=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),u=s.format,l=o.format;return(r.keyEncoding!==u||r.valueEncoding!==l)&&(r=Object.assign({},r,{keyEncoding:u,valueEncoding:l})),this._get(this.prefixKey(s.encode(t),u),r,(f,h)=>{if(f)return(f.code==="LEVEL_NOT_FOUND"||f.notFound||/NotFound/i.test(f))&&(f.code||(f.code="LEVEL_NOT_FOUND"),f.notFound||(f.notFound=!0),f.status||(f.status=404)),n(f);try{h=o.decode(h)}catch(p){return n(new Ru("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:p}))}n(null,h)}),n[cn]}_get(t,r,n){this.nextTick(n,new Error("NotFound"))}getMany(t,r,n){if(n=D1(r,n),n=l0(n,cn),r=f0(r,this[O1].entry),this[vn]==="opening")return this.defer(()=>this.getMany(t,r,n)),n[cn];if(l2(this,n))return n[cn];if(!Array.isArray(t))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[cn];if(t.length===0)return this.nextTick(n,null,[]),n[cn];let i=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),o=i.format,u=s.format;(r.keyEncoding!==o||r.valueEncoding!==u)&&(r=Object.assign({},r,{keyEncoding:o,valueEncoding:u}));let l=new Array(t.length);for(let f=0;f<t.length;f++){let h=t[f],p=this._checkKey(h);if(p)return this.nextTick(n,p),n[cn];l[f]=this.prefixKey(i.encode(h),o)}return this._getMany(l,r,(f,h)=>{if(f)return n(f);try{for(let p=0;p<h.length;p++)h[p]!==void 0&&(h[p]=s.decode(h[p]))}catch(p){return n(new Ru(`Could not decode one or more of ${h.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:p}))}n(null,h)}),n[cn]}_getMany(t,r,n){this.nextTick(n,null,new Array(t.length).fill(void 0))}put(t,r,n,i){if(i=D1(n,i),i=l0(i,cn),n=f0(n,this[O1].entry),this[vn]==="opening")return this.defer(()=>this.put(t,r,n,i)),i[cn];if(l2(this,i))return i[cn];let s=this._checkKey(t)||this._checkValue(r);if(s)return this.nextTick(i,s),i[cn];let o=this.keyEncoding(n.keyEncoding),u=this.valueEncoding(n.valueEncoding),l=o.format,f=u.format;(n.keyEncoding!==l||n.valueEncoding!==f)&&(n=Object.assign({},n,{keyEncoding:l,valueEncoding:f}));let h=this.prefixKey(o.encode(t),l),p=u.encode(r);return this._put(h,p,n,g=>{if(g)return i(g);this.emit("put",t,r),i()}),i[cn]}_put(t,r,n,i){this.nextTick(i)}del(t,r,n){if(n=D1(r,n),n=l0(n,cn),r=f0(r,this[O1].key),this[vn]==="opening")return this.defer(()=>this.del(t,r,n)),n[cn];if(l2(this,n))return n[cn];let i=this._checkKey(t);if(i)return this.nextTick(n,i),n[cn];let s=this.keyEncoding(r.keyEncoding),o=s.format;return r.keyEncoding!==o&&(r=Object.assign({},r,{keyEncoding:o})),this._del(this.prefixKey(s.encode(t),o),r,u=>{if(u)return n(u);this.emit("del",t),n()}),n[cn]}_del(t,r,n){this.nextTick(n)}batch(t,r,n){if(!arguments.length){if(this[vn]==="opening")return new T0e(this);if(this[vn]!=="open")throw new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof t=="function"?n=t:n=D1(r,n),n=l0(n,cn),r=f0(r,this[O1].empty),this[vn]==="opening")return this.defer(()=>this.batch(t,r,n)),n[cn];if(l2(this,n))return n[cn];if(!Array.isArray(t))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[cn];if(t.length===0)return this.nextTick(n),n[cn];let i=new Array(t.length),{keyEncoding:s,valueEncoding:o,...u}=r;for(let l=0;l<t.length;l++){if(typeof t[l]!="object"||t[l]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[cn];let f=Object.assign({},t[l]);if(f.type!=="put"&&f.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[cn];let h=this._checkKey(f.key);if(h)return this.nextTick(n,h),n[cn];let p=f.sublevel!=null?f.sublevel:this,g=p.keyEncoding(f.keyEncoding||s),y=g.format;if(f.key=p.prefixKey(g.encode(f.key),y),f.keyEncoding=y,f.type==="put"){let E=this._checkValue(f.value);if(E)return this.nextTick(n,E),n[cn];let M=p.valueEncoding(f.valueEncoding||o);f.value=M.encode(f.value),f.valueEncoding=M.format}p!==this&&(f.sublevel=null),i[l]=f}return this._batch(i,u,l=>{if(l)return n(l);this.emit("batch",t),n()}),n[cn]}_batch(t,r,n){this.nextTick(n)}sublevel(t,r){return this._sublevel(t,Vq.defaults(r))}_sublevel(t,r){return new Vq(this,t,r)}prefixKey(t,r){return t}clear(t,r){if(r=D1(t,r),r=l0(r,cn),t=f0(t,this[O1].empty),this[vn]==="opening")return this.defer(()=>this.clear(t,r)),r[cn];if(l2(this,r))return r[cn];let n=t,i=this.keyEncoding(t.keyEncoding);return t=h7(t,i),t.keyEncoding=i.format,t.limit===0?this.nextTick(r):this._clear(t,s=>{if(s)return r(s);this.emit("clear",n),r()}),r[cn]}_clear(t,r){this.nextTick(r)}iterator(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=h7(t,r),t.keys=t.keys!==!1,t.values=t.values!==!1,t[L1.keyEncoding]=r,t[L1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[vn]==="opening")return new Oat(this,t);if(this[vn]!=="open")throw new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(t)}_iterator(t){return new L1(this,t)}keys(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=h7(t,r),t[L1.keyEncoding]=r,t[L1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[vn]==="opening")return new qat(this,t);if(this[vn]!=="open")throw new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(t)}_keys(t){return new Dat(this,t)}values(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=h7(t,r),t[L1.keyEncoding]=r,t[L1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[vn]==="opening")return new Pat(this,t);if(this[vn]!=="open")throw new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(t)}_values(t){return new Nat(this,t)}defer(t){if(typeof t!="function")throw new TypeError("The first argument must be a function");this[cw].push(t)}[uw](){if(this[cw].length===0)return;let t=this[cw];this[cw]=[];for(let r of t)r()}attachResource(t){if(typeof t!="object"||t===null||typeof t.close!="function")throw new TypeError("The first argument must be a resource object");this[N1].add(t)}detachResource(t){this[N1].delete(t)}_chainedBatch(){return new T0e(this)}_checkKey(t){if(t==null)return new Ru("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(t){if(t==null)return new Ru("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};a(f2,"AbstractLevel");f2.prototype.nextTick=A0e();var{AbstractSublevel:Vq}=I0e()({AbstractLevel:f2});jq.AbstractLevel=f2;jq.AbstractSublevel=Vq;var l2=a(function(e,t){return e[vn]!=="open"?(e.nextTick(t,new Ru("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},"maybeError"),Uat=a(function(e){return Object.keys(e.supports.encodings).filter(t=>!!e.supports.encodings[t])},"formats")});var Kq=j(q1=>{"use strict";d();q1.AbstractLevel=Gq().AbstractLevel;q1.AbstractSublevel=Gq().AbstractSublevel;q1.AbstractIterator=c0().AbstractIterator;q1.AbstractKeyIterator=c0().AbstractKeyIterator;q1.AbstractValueIterator=c0().AbstractValueIterator;q1.AbstractChainedBatch=Fq().AbstractChainedBatch});var R0e=j((Kfr,B0e)=>{d();B0e.exports=Hat;var Yat=aw();function Hat(e,t,r){if(typeof t!="number")throw new Error("second argument must be a Number");let n,i,s,o,u,l=!0,f;Array.isArray(e)?(n=[],s=i=e.length):(o=Object.keys(e),n={},s=i=o.length);function h(g){function y(){r&&r(g,n),r=null}a(y,"end"),l?Yat(y):y()}a(h,"done");function p(g,y,E){if(n[g]=E,y&&(u=!0),--s===0||y)h(y);else if(!u&&f<i){let M;o?(M=o[f],f+=1,e[M](function(z,P){p(M,z,P)})):(M=f,f+=1,e[M](function(z,P){p(M,z,P)}))}}a(p,"each"),f=t,s?o?o.some(function(g,y){return e[g](function(E,M){p(g,E,M)}),y===t-1}):e.some(function(g,y){return g(function(E,M){p(y,E,M)}),y===t-1}):h(null),l=!1}a(Hat,"runParallelLimit")});var $q=j((Jfr,L0e)=>{"use strict";d();L0e.exports=a(function(t){let r=t.gte!==void 0?t.gte:t.gt!==void 0?t.gt:void 0,n=t.lte!==void 0?t.lte:t.lt!==void 0?t.lt:void 0,i=t.gte===void 0,s=t.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,s):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,s):null},"createKeyRange")});var Xq=j((thr,D0e)=>{"use strict";d();var zat=new TextEncoder;D0e.exports=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):zat.encode(e)}});var F0e=j(P0e=>{"use strict";d();var{AbstractIterator:Qat}=Kq(),N0e=$q(),g7=Xq(),Fl=Symbol("cache"),hh=Symbol("finished"),ec=Symbol("options"),dh=Symbol("currentOptions"),P1=Symbol("position"),Jq=Symbol("location"),h2=Symbol("first"),O0e={},y7=class extends Qat{constructor(t,r,n){super(t,n),this[Fl]=[],this[hh]=this.limit===0,this[ec]=n,this[dh]={...n},this[P1]=void 0,this[Jq]=r,this[h2]=!0}_nextv(t,r,n){if(this[h2]=!1,this[hh])return this.nextTick(n,null,[]);if(this[Fl].length>0)return t=Math.min(t,this[Fl].length),this.nextTick(n,null,this[Fl].splice(0,t));this[P1]!==void 0&&(this[ec].reverse?(this[dh].lt=this[P1],this[dh].lte=void 0):(this[dh].gt=this[P1],this[dh].gte=void 0));let i;try{i=N0e(this[dh])}catch{return this[hh]=!0,this.nextTick(n,null,[])}let s=this.db.db.transaction([this[Jq]],"readonly"),o=s.objectStore(this[Jq]),u=[];if(this[ec].reverse){let l=!this[ec].values&&o.openKeyCursor?"openKeyCursor":"openCursor";o[l](i,"prev").onsuccess=f=>{let h=f.target.result;if(h){let{key:p,value:g}=h;this[P1]=p,u.push([this[ec].keys&&p!==void 0?g7(p):void 0,this[ec].values&&g!==void 0?g7(g):void 0]),u.length<t?h.continue():q0e(s)}else this[hh]=!0}}else{let l,f,h=a(()=>{if(l===void 0||f===void 0)return;let p=Math.max(l.length,f.length);p===0||t===1/0?this[hh]=!0:this[P1]=l[p-1],u.length=p;for(let g=0;g<p;g++){let y=l[g],E=f[g];u[g]=[this[ec].keys&&y!==void 0?g7(y):void 0,this[ec].values&&E!==void 0?g7(E):void 0]}q0e(s)},"complete");this[ec].keys||t<1/0?o.getAllKeys(i,t<1/0?t:void 0).onsuccess=p=>{l=p.target.result,h()}:(l=[],this.nextTick(h)),this[ec].values?o.getAll(i,t<1/0?t:void 0).onsuccess=p=>{f=p.target.result,h()}:(f=[],this.nextTick(h))}s.onabort=()=>{n(s.error||new Error("aborted by user")),n=null},s.oncomplete=()=>{n(null,u),n=null}}_next(t){if(this[Fl].length>0){let[r,n]=this[Fl].shift();this.nextTick(t,null,r,n)}else if(this[hh])this.nextTick(t);else{let r=Math.min(100,this.limit-this.count);this[h2]&&(this[h2]=!1,r=1),this._nextv(r,O0e,(n,i)=>{if(n)return t(n);this[Fl]=i,this._next(t)})}}_all(t,r){this[h2]=!1;let n=this[Fl].splice(0,this[Fl].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,O0e,(s,o)=>{if(s)return r(s);n.length>0&&(o=n.concat(o)),r(null,o)})}_seek(t,r){this[h2]=!0,this[Fl]=[],this[hh]=!1,this[P1]=void 0,this[dh]={...this[ec]};let n;try{n=N0e(this[ec])}catch{this[hh]=!0;return}n!==null&&!n.includes(t)?this[hh]=!0:this[ec].reverse?this[dh].lte=t:this[dh].gte=t}};a(y7,"Iterator");P0e.Iterator=y7;function q0e(e){typeof e.commit=="function"&&e.commit()}a(q0e,"maybeCommit")});var Y0e=j((shr,U0e)=>{"use strict";d();U0e.exports=a(function(t,r,n,i,s){if(i.limit===0)return t.nextTick(s);let o=t.db.transaction([r],"readwrite"),u=o.objectStore(r),l=0;o.oncomplete=function(){s()},o.onabort=function(){s(o.error||new Error("aborted by user"))};let f=u.openKeyCursor?"openKeyCursor":"openCursor",h=i.reverse?"prev":"next";u[f](n,h).onsuccess=function(p){let g=p.target.result;g&&(u.delete(g.key).onsuccess=function(){(i.limit<=0||++l<i.limit)&&g.continue()})}},"clear")});var j0e=j(V0e=>{"use strict";d();var{AbstractLevel:Wat}=Kq(),H0e=Mu(),Vat=R0e(),{fromCallback:jat}=$x(),{Iterator:Gat}=F0e(),z0e=Xq(),Kat=Y0e(),$at=$q(),W0e="level-js-",lw=Symbol("idb"),Zq=Symbol("namePrefix"),ph=Symbol("location"),eP=Symbol("version"),F1=Symbol("store"),fw=Symbol("onComplete"),Q0e=Symbol("promise"),hw=class extends Wat{constructor(t,r,n){if(typeof r=="function"||typeof n=="function")throw new H0e("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:s,...o}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),typeof t!="string")throw new Error("constructor requires a location string argument");this[ph]=t,this[Zq]=i??W0e,this[eP]=parseInt(s||1,10),this[lw]=null}get location(){return this[ph]}get namePrefix(){return this[Zq]}get version(){return this[eP]}get db(){return this[lw]}get type(){return"browser-level"}_open(t,r){let n=indexedDB.open(this[Zq]+this[ph],this[eP]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[lw]=n.result,r()},n.onupgradeneeded=i=>{let s=i.target.result;s.objectStoreNames.contains(this[ph])||s.createObjectStore(this[ph])}}[F1](t){return this[lw].transaction([this[ph]],t).objectStore(this[ph])}[fw](t,r){let n=t.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,t.result)}}_get(t,r,n){let i=this[F1]("readonly"),s;try{s=i.get(t)}catch(o){return this.nextTick(n,o)}this[fw](s,function(o,u){if(o)return n(o);if(u===void 0)return n(new H0e("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,z0e(u))})}_getMany(t,r,n){let i=this[F1]("readonly"),s=t.map(o=>u=>{let l;try{l=i.get(o)}catch(f){return u(f)}l.onsuccess=()=>{let f=l.result;u(null,f===void 0?f:z0e(f))},l.onerror=f=>{f.stopPropagation(),u(l.error)}});Vat(s,16,n)}_del(t,r,n){let i=this[F1]("readwrite"),s;try{s=i.delete(t)}catch(o){return this.nextTick(n,o)}this[fw](s,n)}_put(t,r,n,i){let s=this[F1]("readwrite"),o;try{o=s.put(r,t)}catch(u){return this.nextTick(i,u)}this[fw](o,i)}_iterator(t){return new Gat(this,this[ph],t)}_batch(t,r,n){let i=this[F1]("readwrite"),s=i.transaction,o=0,u;s.onabort=function(){n(u||s.error||new Error("aborted by user"))},s.oncomplete=function(){n()};function l(){let f=t[o++],h=f.key,p;try{p=f.type==="del"?i.delete(h):i.put(f.value,h)}catch(g){u=g,s.abort();return}o<t.length?p.onsuccess=l:typeof s.commit=="function"&&s.commit()}a(l,"loop"),l()}_clear(t,r){let n,i;try{n=$at(t)}catch{return this.nextTick(r)}if(t.limit>=0)return Kat(this,this[ph],n,t,r);try{let s=this[F1]("readwrite");i=n?s.delete(n):s.clear()}catch(s){return this.nextTick(r,s)}this[fw](i,r)}_close(t){this[lw].close(),this.nextTick(t)}};a(hw,"BrowserLevel");hw.destroy=function(e,t,r){typeof t=="function"&&(r=t,t=W0e),r=jat(r,Q0e);let n=indexedDB.deleteDatabase(t+e);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[Q0e]};V0e.BrowserLevel=hw});var U1=j((Thr,rpe)=>{d();rpe.exports=tpe;var dw=class extends Error{};a(dw,"AssertionError");dw.prototype.name="AssertionError";function tpe(e,t,...r){if(!e){var n;throw(!t||typeof t=="string")&&(n=new dw(t)),typeof t=="function"&&(n=new t(...r)),Error.captureStackTrace&&Error.captureStackTrace(n,tpe),n}}a(tpe,"assert")});var ape=j((Rhr,ipe)=>{d();ipe.exports=npe;function npe(e,t){if(e&&t)return npe(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(u){s[u]=o[u]}),s}a(r,"wrapper")}a(npe,"wrappy")});var aP=j((Nhr,iP)=>{d();var spe=ape();iP.exports=spe(_7);iP.exports.strict=spe(ope);_7.proto=_7(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return _7(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ope(this)},configurable:!0})});function _7(e){var t=a(function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))},"f");return t.called=!1,t}a(_7,"once");function ope(e){var t=a(function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},"f"),r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}a(ope,"onceStrict")});var g2=j((Phr,upe)=>{d();var ast=aP(),sst=a(function(){},"noop"),ost=a(function(e){return e.setHeader&&typeof e.abort=="function"},"isRequest"),cst=a(function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},"isChildProcess"),cpe=a(function(e,t,r){if(typeof t=="function")return cpe(e,null,t);t||(t={}),r=ast(r||sst);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,u=!1,l=a(function(){e.writable||f()},"onlegacyfinish"),f=a(function(){o=!1,s||r.call(e)},"onfinish"),h=a(function(){s=!1,o||r.call(e)},"onend"),p=a(function(z){r.call(e,z?new Error("exited with error code: "+z):null)},"onexit"),g=a(function(z){r.call(e,z)},"onerror"),y=a(function(){_.default.nextTick(E)},"onclose"),E=a(function(){if(!u){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},"onclosenexttick"),M=a(function(){e.req.on("finish",f)},"onrequest");return ost(e)?(e.on("complete",f),e.on("abort",y),e.req?M():e.on("request",M)):o&&!n&&(e.on("end",l),e.on("close",l)),cst(e)&&e.on("exit",p),e.on("end",h),e.on("finish",f),t.error!==!1&&e.on("error",g),e.on("close",y),function(){u=!0,e.removeListener("complete",f),e.removeListener("abort",y),e.removeListener("request",M),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("exit",p),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",y)}},"eos");upe.exports=cpe});var lpe={};JX(lpe,{default:()=>ust});var ust,fpe=gy(()=>{d();ust=null});var oP=j((Hhr,dpe)=>{d();var lst=aP(),fst=g2(),sP=(fpe(),w6(lpe)),pw=a(function(){},"noop"),hst=/^v?\.0/.test(_.default.version),x7=a(function(e){return typeof e=="function"},"isFn"),dst=a(function(e){return!hst||!sP?!1:(e instanceof(sP.ReadStream||pw)||e instanceof(sP.WriteStream||pw))&&x7(e.close)},"isFS"),pst=a(function(e){return e.setHeader&&x7(e.abort)},"isRequest"),gst=a(function(e,t,r,n){n=lst(n);var i=!1;e.on("close",function(){i=!0}),fst(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,dst(e))return e.close(pw);if(pst(e))return e.abort();if(x7(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},"destroyer"),hpe=a(function(e){e()},"call"),yst=a(function(e,t){return e.pipe(t)},"pipe"),mst=a(function(){var e=Array.prototype.slice.call(arguments),t=x7(e[e.length-1]||pw)&&e.pop()||pw;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,u=s>0;return gst(i,o,u,function(l){r||(r=l),l&&n.forEach(hpe),!o&&(n.forEach(hpe),t(r))})});return e.reduce(yst)},"pump");dpe.exports=mst});var gpe=j((Whr,ppe)=>{"use strict";d();ppe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var vpe=j((jhr,bpe)=>{d();var bst=Hc()("simple-websocket"),vst=Mf(),_st=Rp(),ype=aw(),yw=gpe(),gw=typeof yw!="function"?WebSocket:yw,mpe=64*1024,mw=class extends _st.Duplex{constructor(t={}){if(typeof t=="string"&&(t={url:t}),t=Object.assign({allowHalfOpen:!1},t),super(t),t.url==null&&t.socket==null)throw new Error("Missing required `url` or `socket` option");if(t.url!=null&&t.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=vst(4).toString("hex").slice(0,7),this._debug("new websocket: %o",t),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,t.socket)this.url=t.socket.url,this._ws=t.socket,this.connected=t.socket.readyState===gw.OPEN;else{this.url=t.url;try{typeof yw=="function"?this._ws=new gw(t.url,null,{...t,encoding:void 0}):this._ws=new gw(t.url)}catch(r){ype(()=>this.destroy(r));return}}this._ws.binaryType="arraybuffer",t.socket&&this.connected?ype(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=r=>this._handleMessage(r),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=r=>this._handleError(r),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(t){this._ws.send(t)}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){let n=this._ws,i=a(()=>{n.onclose=null},"onClose");if(n.readyState===gw.CLOSED)i();else try{n.onclose=i,n.close()}catch{i()}n.onopen=null,n.onmessage=null,n.onerror=()=>{}}this._ws=null,t&&this.emit("error",t),this.emit("close"),r()}}_read(){}_write(t,r,n){if(this.destroyed)return n(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(t)}catch(i){return this.destroy(i)}typeof yw!="function"&&this._ws.bufferedAmount>mpe?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(r){return this.destroy(r)}this._chunk=null,this._debug('sent chunk from "write before connect"');let t=this._cb;this._cb=null,t(null)}typeof yw!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=b.Buffer.from(r)),this.push(r)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(t){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(this.destroyed)return;let t=a(()=>{setTimeout(()=>this.destroy(),1e3)},"destroySoon");this.connected?t():this.once("connect",t)}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>mpe)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);let t=this._cb;this._cb=null,t(null)}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],bst.apply(null,t)}};a(mw,"Socket");mw.WEBSOCKET_SUPPORT=!!gw;bpe.exports=mw});var xpe=j(($hr,_pe)=>{d();var y2=null;typeof WebSocket<"u"?y2=WebSocket:typeof MozWebSocket<"u"?y2=MozWebSocket:typeof w<"u"?y2=w.WebSocket||w.MozWebSocket:typeof window<"u"?y2=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(y2=self.WebSocket||self.MozWebSocket);_pe.exports=y2});var Spe=j((Jhr,uP)=>{"use strict";d();var xst=a((e,t)=>Math.floor(Math.random()*(t-e+1)+e),"randomInteger"),wpe=a(()=>{let e=new Error("Delay aborted");return e.name="AbortError",e},"createAbortError"),Ape=a(({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(wpe());let o,u,l,f=e||clearTimeout,h=a(()=>{f(o),l(wpe())},"signalListener"),p=a(()=>{s&&s.removeEventListener("abort",h)},"cleanup"),g=new Promise((y,E)=>{u=a(()=>{p(),r?y(i):E(i)},"settle"),l=E,o=(t||setTimeout)(u,n)});return s&&s.addEventListener("abort",h,{once:!0}),g.clear=()=>{f(o),o=null,u()},g},"createDelay"),Epe=a(e=>{let t=Ape({...e,willResolve:!0});return t.reject=Ape({...e,willResolve:!1}),t.range=(r,n,i)=>t(xst(r,n),i),t},"createWithTimers"),cP=Epe();cP.createWithTimers=Epe;uP.exports=cP;uP.exports.default=cP});var Cpe=j((tdr,kpe)=>{"use strict";d();function wst(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}a(n,"get");function i(s){r.next=s,r=s}return a(i,"release"),{get:n,release:i}}a(wst,"reusify");kpe.exports=wst});var fP=j((idr,lP)=>{"use strict";d();var Ast=Cpe();function Ipe(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Ast(Est),i=null,s=null,o=0,u=null,l={push:M,drain:Xc,saturated:Xc,pause:h,paused:!1,concurrency:r,running:f,resume:y,idle:E,length:p,getQueue:g,unshift:z,empty:Xc,kill:Q,killAndDrain:V,error:W};return l;function f(){return o}function h(){l.paused=!0}function p(){for(var F=i,B=0;F;)F=F.next,B++;return B}function g(){for(var F=i,B=[];F;)B.push(F.value),F=F.next;return B}function y(){if(!!l.paused){l.paused=!1;for(var F=0;F<l.concurrency;F++)o++,P()}}function E(){return o===0&&l.length()===0}function M(F,B){var S=n.get();S.context=e,S.release=P,S.value=F,S.callback=B||Xc,S.errorHandler=u,o===l.concurrency||l.paused?s?(s.next=S,s=S):(i=S,s=S,l.saturated()):(o++,t.call(e,S.value,S.worked))}function z(F,B){var S=n.get();S.context=e,S.release=P,S.value=F,S.callback=B||Xc,o===l.concurrency||l.paused?i?(S.next=i,i=S):(i=S,s=S,l.saturated()):(o++,t.call(e,S.value,S.worked))}function P(F){F&&n.release(F);var B=i;B?l.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&l.empty()):--o===0&&l.drain()}function Q(){i=null,s=null,l.drain=Xc}function V(){i=null,s=null,l.drain(),l.drain=Xc}function W(F){u=F}}a(Ipe,"fastqueue");function Xc(){}a(Xc,"noop");function Est(){this.value=null,this.callback=Xc,this.next=null,this.release=Xc,this.context=null,this.errorHandler=null;var e=this;this.worked=a(function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Xc,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)},"worked")}a(Est,"Task");function Sst(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(h,p){t.call(this,h).then(function(g){p(null,g)},p)}a(n,"asyncWrapper");var i=Ipe(e,n,r),s=i.push,o=i.unshift;return i.push=u,i.unshift=l,i.drained=f,i;function u(h){var p=new Promise(function(g,y){s(h,function(E,M){if(E){y(E);return}g(M)})});return p.catch(Xc),p}a(u,"push");function l(h){var p=new Promise(function(g,y){o(h,function(E,M){if(E){y(E);return}g(M)})});return p.catch(Xc),p}a(l,"unshift");function f(){var h=i.drain,p=new Promise(function(g){i.drain=function(){h(),g()}});return p}a(f,"drained")}a(Sst,"queueAsPromised");lP.exports=Ipe;lP.exports.promise=Sst});var Mpe=j((odr,Tpe)=>{"use strict";d();Tpe.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var hP=j((udr,w7)=>{"use strict";d();var kst=Mpe(),bw=class extends Error{constructor(t){super(t),this.name="TimeoutError"}};a(bw,"TimeoutError");var Bpe=a((e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(l){i(l)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,u=r instanceof Error?r:new bw(o);typeof e.cancel=="function"&&e.cancel(),i(u)},t);kst(e.then(n,i),()=>{clearTimeout(s)})}),"pTimeout");w7.exports=Bpe;w7.exports.default=Bpe;w7.exports.TimeoutError=bw});var dP=j((hdr,m2)=>{"use strict";d();var Rpe=hP(),Cst=Symbol.asyncIterator||"@@asyncIterator",Lpe=a(e=>{let t=e.on||e.addListener||e.addEventListener,r=e.off||e.removeListener||e.removeEventListener;if(!t||!r)throw new TypeError("Emitter is not compatible");return{addListener:t.bind(e),removeListener:r.bind(e)}},"normalizeEmitter"),Dpe=a(e=>Array.isArray(e)?e:[e],"toArray"),Npe=a((e,t,r)=>{let n,i=new Promise((s,o)=>{if(r={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...r},!(r.count>=0&&(r.count===1/0||Number.isInteger(r.count))))throw new TypeError("The `count` option should be at least 0 or more");let u=Dpe(t),l=[],{addListener:f,removeListener:h}=Lpe(e),p=a((...y)=>{let E=r.multiArgs?y:y[0];r.filter&&!r.filter(E)||(l.push(E),r.count===l.length&&(n(),s(l)))},"onItem"),g=a(y=>{n(),o(y)},"rejectHandler");n=a(()=>{for(let y of u)h(y,p);for(let y of r.rejectionEvents)h(y,g)},"cancel");for(let y of u)f(y,p);for(let y of r.rejectionEvents)f(y,g);r.resolveImmediately&&s(l)});if(i.cancel=n,typeof r.timeout=="number"){let s=Rpe(i,r.timeout);return s.cancel=n,s}return i},"multiple"),Ope=a((e,t,r)=>{typeof r=="function"&&(r={filter:r}),r={...r,count:1,resolveImmediately:!1};let n=Npe(e,t,r),i=n.then(s=>s[0]);return i.cancel=n.cancel,i},"pEvent");m2.exports=Ope;m2.exports.default=Ope;m2.exports.multiple=Npe;m2.exports.iterator=(e,t,r)=>{typeof r=="function"&&(r={filter:r});let n=Dpe(t);r={rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1,...r};let{limit:i}=r;if(!(i>=0&&(i===1/0||Number.isInteger(i))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(i===0)return{[Symbol.asyncIterator](){return this},async next(){return{done:!0,value:void 0}}};let{addListener:o,removeListener:u}=Lpe(e),l=!1,f,h=!1,p=[],g=[],y=0,E=!1,M=a((...V)=>{y++,E=y===i;let W=r.multiArgs?V:V[0];if(p.length>0){let{resolve:F}=p.shift();F({done:!1,value:W}),E&&z();return}g.push(W),E&&z()},"valueHandler"),z=a(()=>{l=!0;for(let V of n)u(V,M);for(let V of r.rejectionEvents)u(V,P);for(let V of r.resolutionEvents)u(V,Q);for(;p.length>0;){let{resolve:V}=p.shift();V({done:!0,value:void 0})}},"cancel"),P=a((...V)=>{if(f=r.multiArgs?V:V[0],p.length>0){let{reject:W}=p.shift();W(f)}else h=!0;z()},"rejectHandler"),Q=a((...V)=>{let W=r.multiArgs?V:V[0];if(!(r.filter&&!r.filter(W))){if(p.length>0){let{resolve:F}=p.shift();F({done:!0,value:W})}else g.push(W);z()}},"resolveHandler");for(let V of n)o(V,M);for(let V of r.rejectionEvents)o(V,P);for(let V of r.resolutionEvents)o(V,Q);return{[Cst](){return this},async next(){if(g.length>0){let V=g.shift();return{done:l&&g.length===0&&!E,value:V}}if(h)throw h=!1,f;return l?{done:!0,value:void 0}:new Promise((V,W)=>p.push({resolve:V,reject:W}))},async return(V){return z(),{done:l,value:V}}}};m2.exports.TimeoutError=Rpe.TimeoutError});var Hpe=j((gdr,Ype)=>{"use strict";d();var h0=new WeakMap,E7=new WeakMap,vw=new WeakMap,gP=Symbol("anyProducer"),qpe=Promise.resolve(),S7=Symbol("listenerAdded"),k7=Symbol("listenerRemoved");function Y1(e){if(typeof e!="string"&&typeof e!="symbol")throw new TypeError("eventName must be a string or a symbol")}a(Y1,"assertEventName");function A7(e){if(typeof e!="function")throw new TypeError("listener must be a function")}a(A7,"assertListener");function b2(e,t){let r=E7.get(e);return r.has(t)||r.set(t,new Set),r.get(t)}a(b2,"getListeners");function _w(e,t){let r=typeof t=="string"?t:gP,n=vw.get(e);return n.has(r)||n.set(r,new Set),n.get(r)}a(_w,"getEventProducers");function Ist(e,t,r){let n=vw.get(e);if(n.has(t))for(let i of n.get(t))i.enqueue(r);if(n.has(gP)){let i=Promise.all([t,r]);for(let s of n.get(gP))s.enqueue(i)}}a(Ist,"enqueueProducers");function Ppe(e,t){let r=!1,n=a(()=>{},"flush"),i=[],s={enqueue(o){i.push(o),n()},finish(){r=!0,n()}};return _w(e,t).add(s),{async next(){return i?i.length===0?r?(i=void 0,this.next()):(await new Promise(o=>{n=o}),this.next()):{done:!1,value:await i.shift()}:{done:!0}},async return(o){return i=void 0,_w(e,t).delete(s),n(),arguments.length>0?{done:!0,value:await o}:{done:!0}},[Symbol.asyncIterator](){return this}}}a(Ppe,"iterator");function Fpe(e){if(e===void 0)return Upe;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(let t of e)if(!Upe.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return e}a(Fpe,"defaultMethodNamesOrAssert");var pP=a(e=>e===S7||e===k7,"isListenerSymbol"),Jc=class{static mixin(t,r){return r=Fpe(r),n=>{if(typeof n!="function")throw new TypeError("`target` must be function");for(let o of r)if(n.prototype[o]!==void 0)throw new Error(`The property \`${o}\` already exists on \`target\``);function i(){return Object.defineProperty(this,t,{enumerable:!1,value:new Jc}),this[t]}a(i,"getEmitteryProperty"),Object.defineProperty(n.prototype,t,{enumerable:!1,get:i});let s=a(o=>function(...u){return this[t][o](...u)},"emitteryMethodCaller");for(let o of r)Object.defineProperty(n.prototype,o,{enumerable:!1,value:s(o)});return n}}constructor(){h0.set(this,new Set),E7.set(this,new Map),vw.set(this,new Map)}on(t,r){return Y1(t),A7(r),b2(this,t).add(r),pP(t)||this.emit(S7,{eventName:t,listener:r}),this.off.bind(this,t,r)}off(t,r){Y1(t),A7(r),pP(t)||this.emit(k7,{eventName:t,listener:r}),b2(this,t).delete(r)}once(t){return new Promise(r=>{Y1(t);let n=this.on(t,i=>{n(),r(i)})})}events(t){return Y1(t),Ppe(this,t)}async emit(t,r){Y1(t),Ist(this,t,r);let n=b2(this,t),i=h0.get(this),s=[...n],o=pP(t)?[]:[...i];return await qpe,Promise.all([...s.map(async u=>{if(n.has(u))return u(r)}),...o.map(async u=>{if(i.has(u))return u(t,r)})])}async emitSerial(t,r){Y1(t);let n=b2(this,t),i=h0.get(this),s=[...n],o=[...i];await qpe;for(let u of s)n.has(u)&&await u(r);for(let u of o)i.has(u)&&await u(t,r)}onAny(t){return A7(t),h0.get(this).add(t),this.emit(S7,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return Ppe(this)}offAny(t){A7(t),this.emit(k7,{listener:t}),h0.get(this).delete(t)}clearListeners(t){if(typeof t=="string"){b2(this,t).clear();let r=_w(this,t);for(let n of r)n.finish();r.clear()}else{h0.get(this).clear();for(let r of E7.get(this).values())r.clear();for(let r of vw.get(this).values()){for(let n of r)n.finish();r.clear()}}}listenerCount(t){if(typeof t=="string")return h0.get(this).size+b2(this,t).size+_w(this,t).size+_w(this).size;typeof t<"u"&&Y1(t);let r=h0.get(this).size;for(let n of E7.get(this).values())r+=n.size;for(let n of vw.get(this).values())r+=n.size;return r}bindMethods(t,r){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");r=Fpe(r);for(let n of r){if(t[n]!==void 0)throw new Error(`The property \`${n}\` already exists on \`target\``);Object.defineProperty(t,n,{enumerable:!1,value:this[n].bind(this)})}}};a(Jc,"Emittery");var Upe=Object.getOwnPropertyNames(Jc.prototype).filter(e=>e!=="constructor");Jc.Typed=class extends Jc{};Object.defineProperty(Jc.Typed,"Typed",{enumerable:!1,value:void 0});Object.defineProperty(Jc,"listenerAdded",{value:S7,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(Jc,"listenerRemoved",{value:k7,writable:!1,enumerable:!0,configurable:!1});Ype.exports=Jc});var jpe=j((vdr,bP)=>{d();var v2=Symbol("opening when closing"),H1=Symbol("opening queue"),gh=Symbol("closing when inactive"),z1=Symbol("closing queue"),Q1=Symbol("sync"),yP=Symbol("fast close"),zpe=Symbol("allow reopen"),mP=Symbol("init state"),xw=class{constructor(t){t||(t={}),t.open&&(this._open=t.open),t.close&&(this._close=t.close),this[mP](),this[zpe]=t.reopen||!1,this[v2]=null,this[H1]=null,this[gh]=null,this[z1]=null,this[Q1]=!1,this[yP]=!0}[mP](){this.opening=!1,this.opened=!1,this.closing=!1,this.closed=!1,this.actives=0}_open(t){t(null)}_close(t){t(null)}open(t){if(t||(t=Qpe),this.closing||this.closed){if(!this[zpe])return _.default.nextTick(t,new Error("Resource is closed"));if(this.closing){this[v2]||(this[v2]=[]),this[v2].push(t);return}this[mP]()}if(this.opened)return _.default.nextTick(t);if(this[H1]){this[H1].push(t);return}this.opening=!0,this[H1]=[t],this[Q1]=!0,this._open(Wpe.bind(this)),this[Q1]=!1}active(t){return this[yP]&&this[gh]||this[z1]||this.closed?(t&&_.default.nextTick(t,new Error("Resource is closed")),!1):(this.actives++,!0)}inactive(t,r,n){if(!--this.actives){let i=this[gh];if(i)for(this[gh]=null;i.length;)this.close(i.shift())}t&&t(r,n)}close(t,r){if(typeof t=="function")return this.close(!1,t);if(r||(r=Qpe),t&&(this[yP]=!1),this.closed)return _.default.nextTick(r);if(this.actives||this[H1]){this[gh]||(this[gh]=[]),this[gh].push(r);return}if(!this.opened){this.closed=!0,_.default.nextTick(r);return}if(this[z1]){this[z1].push(r);return}this.closing=!0,this[z1]=[r],this[Q1]=!0,this._close(Vpe.bind(this)),this[Q1]=!1}};a(xw,"Nanoresource");function Wpe(e){if(this[Q1])return _.default.nextTick(Wpe.bind(this),e);let t=this[H1];for(this[H1]=null,this.opening=!1,this.opened=!e;t.length;)t.shift()(e);let r=this[gh];if(r&&!this.actives)for(this[gh]=null;r.length;)this.close(r.shift())}a(Wpe,"onopen");function Vpe(e){if(this[Q1])return _.default.nextTick(Vpe.bind(this),e);let t=this[z1];for(this.closing=!1,this[z1]=null,this.closed=!e;t.length;)t.shift()(e);let r=this[v2];if(r)for(this[v2]=null;r.length;)this.open(r.shift())}a(Vpe,"onclose");function Qpe(){}a(Qpe,"noop");bP.exports=e=>new xw(e);bP.exports.Nanoresource=xw});var xP=j((wdr,_P)=>{d();var Tst=jpe();function Gpe(){let e,t=new Promise((r,n)=>{e=a((i,s)=>{i?n(i):r(s)},"callback")});return e.promise=t,e}a(Gpe,"callbackPromise");var Yl=Symbol("nanoresource"),vP=Symbol("processpromise"),ww=class{constructor(t={}){let r=t.open||this._open.bind(this),n=t.close||this._close.bind(this);this[Yl]=Tst({open:i=>this[vP](r,i),close:i=>this[vP](n,i),reopen:t.reopen})}get opened(){return this[Yl].opened}get opening(){return this[Yl].opening}get closed(){return this[Yl].closed}get closing(){return this[Yl].closing}get actives(){return this[Yl].actives}open(){let t=Gpe();return this[Yl].open(t),t.promise}close(t=!1){let r=Gpe();return this[Yl].close(t,r),r.promise}active(t){return this[Yl].active(t)}inactive(t,r,n){return this[Yl].inactive(t,r,n)}async _open(){}async _close(){}async[vP](t,r){try{await t(),r()}catch(n){r(n)}}};a(ww,"NanoresourcePromise");_P.exports=e=>new ww(e);_P.exports.NanoresourcePromise=ww});var Ew=j((Sdr,wP)=>{d();var{EventEmitter:Mst}=ea(),Bst=xP(),Hl=Symbol("nanoresource"),Aw=class extends Mst{constructor(t={}){super(),this[Hl]=Bst({open:t.open||this._open.bind(this),close:t.close||this._close.bind(this),reopen:t.reopen})}get opened(){return this[Hl].opened}get opening(){return this[Hl].opening}get closed(){return this[Hl].closed}get closing(){return this[Hl].closing}get actives(){return this[Hl].actives}async open(){await this[Hl].open(),this.emit("opened")}async close(t){await this[Hl].close(t),this.emit("closed")}active(t){return this[Hl].active(t)}inactive(t,r,n){return this[Hl].inactive(t,r,n)}async _open(){}async _close(){}};a(Aw,"NanoresourcePromise");wP.exports=e=>new Aw(e);wP.exports.NanoresourcePromise=Aw});var $pe=j((Idr,Kpe)=>{"use strict";d();function Rst(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}a(Rst,"tryStringify");Kpe.exports=Lst;function Lst(e,t,r){var n=r&&r.stringify||Rst,i=1;if(e===null&&(e=t[0],i=0),typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var u=1;u<s;u++)o[u]=n(t[u]);return o.join(" ")}var l=t.length;if(l===0)return e;for(var f="",h="",p=1-i,g=0,y=e&&e.length||0,E=0;E<y;){if(e.charCodeAt(E)===37&&E+1<y){switch(e.charCodeAt(E+1)){case 100:if(p>=l||(g<E&&(h+=e.slice(g,E)),t[p]==null))break;h+=Number(t[p]),g=E=E+2;break;case 79:case 111:case 106:if(p>=l||(g<E&&(h+=e.slice(g,E)),t[p]===void 0))break;var M=typeof t[p];if(M==="string"){h+="'"+t[p]+"'",g=E+2,E++;break}if(M==="function"){h+=t[p].name||"<anonymous>",g=E+2,E++;break}h+=n(t[p]),g=E+2,E++;break;case 115:if(p>=l)break;g<E&&(h+=e.slice(g,E)),h+=String(t[p]),g=E+2,E++;break;case 37:g<E&&(h+=e.slice(g,E)),h+="%",g=E+2,E++;break}++p}++E}for(g===0?h=e:g<y&&(h+=e.slice(g));p<l;)f=t[p++],f===null||typeof f!="object"?h+=" "+String(f):h+=" "+n(f);return h}a(Lst,"format")});var kw=j((Bdr,Xpe)=>{d();var Dst=$pe(),Sw=class extends Error{static get code(){return this.name}static get isNanoerror(){return!0}static equals(t){return t.isNanoerror&&t.code===this.code}constructor(...t){super();let r=this.constructor.code,n=this.constructor.message;this.message=Dst(n,t),this.name=r,this.code=this.name,this.args=t,this.unformatMessage=n,Error.captureStackTrace(this,this.constructor)}get isNanoerror(){return!0}equals(t){return t.isNanoerror&&t.code===this.code}};a(Sw,"Nanoerror");Sw.message="";function Nst(e,t="%s"){let r={[e]:class extends Sw{static from(n){let i=new r[e](`[${n.toString()}]`);return i.stack=n.stack||i.stack,i}}};return r[e].message=t,r[e]}a(Nst,"createError");Xpe.exports=Nst});var Cw=j((Ndr,Zpe)=>{d();var Ost=kw(),Jpe={};function W1(e,t){Jpe[e]=Ost(e,t)}a(W1,"createError");W1("NMSG_ERR_TIMEOUT","timeout on request: %s");W1("NMSG_ERR_ENCODE","error encoding the request: %s");W1("NMSG_ERR_DECODE","error decoding the request: %s");W1("NMSG_ERR_RESPONSE","response error on request: %s");W1("NMSG_ERR_CLOSE","nanomessage was closed");W1("NMSG_ERR_NOT_OPEN","nanomessage is not open");W1("NMSG_ERR_CANCEL","request canceled: %s");Zpe.exports=Jpe});var r1e=j((Pdr,t1e)=>{d();var{NMSG_ERR_CANCEL:e1e,NMSG_ERR_TIMEOUT:qst}=Cw(),_2=class{static info(t={}){return{id:t.id,data:t.data,response:t.response||!1,ephemeral:t.id===0}}constructor(t){let{id:r,data:n,response:i=!1,timeout:s,signal:o}=t;this.id=r,this.data=n,this.response=i,this.finished=!1,this.timeout=s,this.timer=null;let u,l;this.promise=new Promise((h,p)=>{u=h,l=p}),this.promise.cancel=this.cancel.bind(this);let f=a(()=>this.cancel(),"onAbort");o&&(o.aborted?_.default.nextTick(f):o.addEventListener("abort",f)),this.resolve=h=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",f),this.finished=!0,this._onFinish(),u(h))},this.reject=h=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",f),this.finished=!0,this._onFinish(h),l(h))}}start(){this.timeout&&(this.timer=setTimeout(()=>{this.reject(new qst(this.id))},this.timeout))}onFinish(t){this._onFinish=t}cancel(t){t?typeof t=="string"&&(t=new e1e(this.id,t)):t=new e1e(this.id),this.reject(t)}info(){return _2.info(this)}};a(_2,"Request");t1e.exports=_2});var s1e=j((Ydr,a1e)=>{d();a1e.exports=i1e;var n1e=128,Pst=127,Fst=~Pst,Ust=Math.pow(2,31);function i1e(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Ust;)t[r++]=e&255|n1e,e/=128;for(;e&Fst;)t[r++]=e&255|n1e,e>>>=7;return t[r]=e|0,i1e.bytes=r-n+1,t}a(i1e,"encode")});var u1e=j((Qdr,c1e)=>{d();c1e.exports=AP;var Yst=128,o1e=127;function AP(e,n){var r=0,n=n||0,i=0,s=n,o,u=e.length;do{if(s>=u)throw AP.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&o1e)<<i:(o&o1e)*Math.pow(2,i),i+=7}while(o>=Yst);return AP.bytes=s-n,r}a(AP,"read")});var f1e=j((jdr,l1e)=>{d();var Hst=Math.pow(2,7),zst=Math.pow(2,14),Qst=Math.pow(2,21),Wst=Math.pow(2,28),Vst=Math.pow(2,35),jst=Math.pow(2,42),Gst=Math.pow(2,49),Kst=Math.pow(2,56),$st=Math.pow(2,63);l1e.exports=function(e){return e<Hst?1:e<zst?2:e<Qst?3:e<Wst?4:e<Vst?5:e<jst?6:e<Gst?7:e<Kst?8:e<$st?9:10}});var yh=j((Kdr,h1e)=>{d();h1e.exports={encode:s1e(),decode:u1e(),encodingLength:f1e()}});var EP=j((Xdr,d1e)=>{d();function Iw(e,t){if(typeof e!="object")return t&&Object.prototype.toString.call(e)==="[object String]"&&e.startsWith("base64:")?b.Buffer.from(e.slice(7),"base64"):e;let r,n,i=Object.prototype.toString.call(e);if(!t&&i==="[object Uint8Array]"&&b.Buffer.isBuffer(e))return"base64:"+b.Buffer.from(e).toString("base64");if(i==="[object Object]"){n={};for(r in e)n[r]=Iw(e[r],t);return n}if(i==="[object Array]"){for(r=e.length,n=Array(r);r--;)n[r]=Iw(e[r],t);return n}return e}a(Iw,"iterate");d1e.exports={_lastObj:null,_lastStr:null,_lastLength:null,encode(e,t,r){let n,i;return this._lastObj===e?(n=this._lastStr,i=this._lastLength):(n=JSON.stringify(Iw({data:e})),i=b.Buffer.byteLength(n,"utf8")),t.write(n,r,i,"utf8"),this._lastObj=null,this._lastStr=null,this._lastLength=null,t.slice(r,r+i)},decode(e,t,r){return t=t||0,r=r||e.length,Iw(JSON.parse(e.slice(t,r)),!0).data},encodingLength(e){return this._lastObj=e,this._lastStr=JSON.stringify(Iw({data:e})),this._lastLength=b.Buffer.byteLength(this._lastStr,"utf8"),this._lastLength}}});var y1e=j((e0r,g1e)=>{d();var zl=yh(),Xst=EP(),{NMSG_ERR_ENCODE:Jst,NMSG_ERR_DECODE:Zst}=Cw(),p1e=1;g1e.exports=a(function(t=Xst){return{encode(r){try{let n=r.id<<1;r.response&&(n=n|p1e);let i=t.encodingLength(r.data),s=b.Buffer.allocUnsafe(zl.encodingLength(n)+zl.encodingLength(i)+i),o=0;return zl.encode(n,s,o),o+=zl.encode.bytes,zl.encode(i,s,o),o+=zl.encode.bytes,t.encode(r.data,s,o),s}catch(n){throw new Jst(n.message)}},decode(r){try{let n={},i=0,s=zl.decode(r,i);i+=zl.decode.bytes;let o=zl.decode(r,i);return i+=zl.decode.bytes,n.data=t.decode(r,i,i+o),n.response=!!(s&p1e),n.id=s>>1,n}catch(n){throw new Zst(n.message)}}}},"createCodec")});var b1e=j((i0r,m1e)=>{d();m1e.exports=a(class{constructor(t){this._generate=t,this._free=[]}get(){return this._free.length?this._free.pop():this._generate()}release(t){this._free.push(t)}},"IdGenerator")});var A1e=j((o0r,w1e)=>{d();var{NanoresourcePromise:eot}=Ew(),v1e=fP(),SP=r1e(),tot=y1e(),{NMSG_ERR_CLOSE:_1e,NMSG_ERR_NOT_OPEN:rot,NMSG_ERR_RESPONSE:x1e}=Cw(),not=b1e(),d0=Symbol("nanomessage.requests"),p0=Symbol("nanomessage.inqueue"),mh=Symbol("nanomessage.outqueue"),kP=Symbol("nanomessage.unsubscribe"),CP=Symbol("nanomessage.open"),IP=Symbol("nanomessage.close"),Tw=Symbol("nanomessage.fastcheckopen"),TP=Symbol("nanomessage.timeout"),MP=Symbol("nanomessage.idgenerator"),x2=Symbol("nanomessage.codec");function iot(e,t){this[Tw]().then(()=>this._onMessage(e.data,e)).then(r=>this.closed||this.closing?t():(e.responseData=r,this._send(this[x2].encode({id:e.id,response:e.response,data:r}),e))).then(()=>t()).catch(r=>t(r))}a(iot,"inWorker");function aot(e,t){let r=e.info();this[Tw]().then(()=>{if(!e.finished)return e.start(),this._send(this[x2].encode(r),r)}).then(()=>{if(!e.finished)return e.promise}).then(n=>t(null,n)).catch(n=>t(n))}a(aot,"outWorker");var C7=class extends eot{constructor(t={}){super();let{send:r,subscribe:n,onMessage:i,open:s,close:o,timeout:u,valueEncoding:l,concurrency:f=256}=t;r&&(this._send=r),n&&(this._subscribe=n),i&&this.setMessageHandler(i),s&&(this[CP]=s),o&&(this[IP]=o),this.setRequestTimeout(u),this[x2]=tot(l),this[p0]=v1e(this,iot,1),this[mh]=v1e(this,aot,1),this.setConcurrency(f),this[d0]=new Map,this[MP]=new not(()=>this[d0].size+1)}get codec(){return this[x2]}get requests(){return Array.from(this[d0].values())}get inflightRequests(){return this[mh].running()}get requestTimeout(){return this[TP]}get concurrency(){return{incoming:this[p0].concurrency,outgoing:this[mh].concurrency}}setRequestTimeout(t){return this[TP]=t,this}setConcurrency(t){return typeof t=="number"?(this[p0].concurrency=t,this[mh].concurrency=t):(this[p0].concurrency=t.incoming||this[p0].concurrency,this[mh].concurrency=t.outgoing||this[mh].concurrency),this}request(t,r={}){let n=new SP({id:this[MP].get(),data:t,timeout:r.timeout||this[TP],signal:r.signal}),i=n.info();return this[d0].set(n.id,n),n.onFinish(()=>{this[d0].delete(n.id),this[MP].release(n.id)}),this.emit("request-created",i),this[mh].push(n,(s,o)=>{i.response=!0,i.responseData=o,this.emit("request-ended",s,i)}),n.promise}send(t){return this[Tw]().then(()=>{let r=SP.info({id:0,data:t});return this._send(this[x2].encode(r),r)})}setMessageHandler(t){return this._onMessage=t,this}processIncomingMessage(t){if(this.closed||this.closing)return;let r=SP.info(this[x2].decode(t));if(r.response){let n=this[d0].get(r.id);n&&n.resolve(r.data);return}if(r.ephemeral){this.emit("request-received",r),this[Tw]().then(()=>this._onMessage(r.data,r)).catch(n=>{let i=new x1e(n.message);i.stack=n.stack||i.stack,this.emit("response-error",i,r)});return}r.response=!0,this.emit("request-received",r),this[p0].push(r,n=>{if(n){let i=new x1e(n.message);i.stack=n.stack||i.stack,this.emit("response-error",i,r)}})}async _send(t,r){throw new Error("_send not implemented")}async _onMessage(t,r){throw new Error("_onMessage not implemented")}async _open(){await(this[CP]&&this[CP]()),this[kP]=this._subscribe&&this._subscribe(this.processIncomingMessage.bind(this))}async _close(){this[kP]&&this[kP]();let t=[];this[d0].forEach(r=>r.reject(new _1e)),this[d0].clear(),this[p0]&&this[p0].kill(),this[mh]&&this[mh].kill(),await(this[IP]&&this[IP]()),await Promise.all(t)}async[Tw](){if(this.closed||this.closing)throw new _1e;if(this.opening)return this.open();if(!this.opened)throw new rot}};a(C7,"Nanomessage");w1e.exports=C7});var BP=j((l0r,S1e)=>{d();var E1e=A1e(),I7=a(e=>new E1e(e),"nanomessage");I7.Nanomessage=E1e;I7.errors=Cw();I7.BJSON=EP();S1e.exports=I7});var T7=j(w2=>{d();var k1e=kw();w2.encodeError=sot;w2.decodeError=oot;var RP=new Map;function V1(e,t){w2[e]=k1e(e,t)}a(V1,"createError");function sot(e){return{error:!0,data:{code:e.code,unformatMessage:e.unformatMessage,args:e.args,stack:e.stack}}}a(sot,"encodeError");function oot(e,t){if(w2[e])return w2[e];if(RP.has(e))return RP.get(e);let r=k1e(e,t);return RP.set(e,r),r}a(oot,"decodeError");V1("NRPC_ERR_NAME_MISSING","missing action handler for: %s");V1("NRPC_ERR_RESPONSE_ERROR","%s");V1("NRPC_ERR_REQUEST_CANCELED","%s");V1("NRPC_ERR_CLOSE","nanomessage-rpc was closed");V1("NRPC_ERR_NOT_OPEN","nanomessage-rpc is not open");V1("NRPC_ERR_ENCODE","error encoding the request: %s");V1("NRPC_ERR_DECODE","error decoding the request: %s")});var D1e=j((y0r,L1e)=>{d();var Lu=yh(),{BJSON:M7}=BP(),{NRPC_ERR_ENCODE:cot,NRPC_ERR_DECODE:uot}=T7();function R7(e,t){Lu.encode(e,t.buf,t.offset),t.offset+=Lu.encode.bytes}a(R7,"writeNumber");function C1e(e,t,r,n){R7(t,n),e.encode(r,n.buf,n.offset),n.offset+=t}a(C1e,"writeCodec");function lot(e,t,r){R7(t,r),r.buf.write(e,r.offset,t,"utf8"),r.offset+=t}a(lot,"writeString");function R1e(e){let t=Lu.decode(e.buf,e.offset);return e.offset+=Lu.decode.bytes,t}a(R1e,"readNumber");function I1e(e,t){let r=R1e(t),n=e.decode(t.buf,t.offset,t.offset+r);return t.offset+=r,n}a(I1e,"readCodec");function fot(e){let t=R1e(e),r=e.buf.slice(e.offset,e.offset+t);return e.offset+=t,r}a(fot,"readBuffer");var T1e=1,M1e=1<<1,B1e=1<<2,B7=class{constructor(t=M7){this._valueEncoding=t,this._lastHeader=null,this._lastDataLength=null,this._lastNameLength=null}encode(t,r,n=0){try{return t.name?this._encodeRequest(t,r,n):this._encodeResponse(t,r,n)}catch(i){let s=new cot(i.message);throw s.stack=i.stack||s.stack,i}}decode(t,r=0){try{let n=Lu.decode(t,r);return r+=Lu.decode.bytes,n&T1e?this._decodeResponse(n,t,r):this._decodeRequest(n,t,r)}catch(n){let i=new uot(n.message);throw i.stack=n.stack||i.stack,n}}encodingLength(t){return t.name?this._encodingLengthRequest(t):this._encodingLengthResponse(t)}_headerRequest(t){let r=0;return t.event&&(r=r|M1e),this._lastHeader=r,r}_headerResponse(t){let r=0;return r=r|T1e,t.error&&(r=r|B1e),this._lastHeader=r,r}_encodeRequest(t,r,n){let i={buf:r,offset:n};return R7(this._lastHeader,i),lot(t.name,this._lastNameLength,i),C1e(this._valueEncoding,this._lastDataLength,t.data,i),i.buf}_decodeRequest(t,r,n){let i={},s={buf:r,offset:n};return i.event=!!(t&M1e),i.name=fot(s).toString(),i.data=I1e(this._valueEncoding,s),i}_encodingLengthRequest(t){let r=this._headerRequest(t);return this._lastDataLength=this._valueEncoding.encodingLength(t.data),this._lastNameLength=b.Buffer.byteLength(t.name,"utf8"),Lu.encodingLength(r)+Lu.encodingLength(this._lastDataLength)+this._lastDataLength+Lu.encodingLength(this._lastNameLength)+this._lastNameLength}_encodingLengthResponse(t){let r=this._headerResponse(t),n=this._valueEncoding;t.error&&(n=M7);let i=n.encodingLength(t.data);return Lu.encodingLength(r)+Lu.encodingLength(i)+i}_encodeResponse(t,r,n){let i=this._valueEncoding;t.error&&(i=M7);let s=i.encodingLength(t.data),o={buf:r,offset:n};return R7(this._lastHeader,o),C1e(i,s,t.data,o),o.buf}_decodeResponse(t,r,n){let i={},s={buf:r,offset:n};i.error=!!(t&B1e);let o=this._valueEncoding;return i.error&&(o=M7),i.data=I1e(o,s),i}};a(B7,"Codec");L1e.exports=B7});var U1e=j((v0r,F1e)=>{d();var{EventEmitter:hot}=ea(),dot=Hpe(),pot=BP(),LP=U1(),{NanoresourcePromise:got}=xP(),yot=D1e(),{encodeError:DP,decodeError:mot,NRPC_ERR_NAME_MISSING:bot,NRPC_ERR_RESPONSE_ERROR:vot,NRPC_ERR_CLOSE:_ot,NRPC_ERR_NOT_OPEN:xot,NRPC_ERR_REQUEST_CANCELED:N1e}=T7(),Du=Symbol("nrpc.nanomessage"),O1e=Symbol("nrpc.onmessage"),q1e=Symbol("nrpc.subscribe"),NP=Symbol("nrpc.actions"),A2=Symbol("nrpc.emittery"),OP=Symbol("nrpc.fastcheckopen"),qP=Symbol("nrpc.createrequest"),P1e=a(()=>{},"noop"),L7=class extends got{constructor(t={}){super();let{onError:r=a(()=>{},"onError"),valueEncoding:n,send:i,subscribe:s,open:o=P1e,close:u=P1e,...l}=t;LP(i,"send is required"),LP(s,"subscribe is required"),this.ee=new hot,this[Du]=pot({...l,send:i.bind(this),open:o.bind(this),close:u.bind(this),onMessage:this[O1e].bind(this),subscribe:this[q1e](s),valueEncoding:new yot(n)}),this[A2]=new dot,this[NP]=new Map,this._onError=r,this.ee.on("error",f=>{this._onError(f)})}get requests(){return this[Du].requests}get inflightRequests(){return this[Du].inflightRequests}get requestTimeout(){return this[Du].timeout}get concurrency(){return this[Du].concurrency}setRequestsTimeout(t){this[Du].setRequestsTimeout(t)}setConcurrency(t){this[Du].setConcurrency(t)}onError(t){this._onError=t}action(t,r){return this[NP].set(t,r),this}actions(t){return Object.keys(t).forEach(r=>this.action(r,t[r])),this}call(t,r,n={}){return this[qP]({name:t,data:r},n)}emit(t,r,n={}){return this[qP]({name:t,data:r,event:!0},n)}on(...t){return this[A2].on(...t)}once(...t){return this[A2].once(...t)}off(...t){return this[A2].off(...t)}events(t){return this[A2].events(t)}async _open(){await this[Du].open(),this.ee.emit("opened")}async _close(){await this[Du].close(),this.ee.emit("closed")}async[OP](){if(this.closed||this.closing)throw new _ot;if(this.opening)return this.open();if(!this.opened)throw new xot}[q1e](t){return r=>{t(n=>{try{r(n)}catch(i){_.default.nextTick(()=>this.ee.emit("error",i))}})}}[qP](t,{timeout:r,signal:n,wait:i=!0}){if(LP(t.name&&typeof t.name=="string","name is required"),t.event&&!i)return this[OP]().then(()=>this[Du].send(t));let s,o,u=this[OP]().then(()=>{if(s)throw s;return o=this[Du].request(t,{timeout:r,signal:n}),this.ee.emit("request-created",o,t),o}).then(l=>{if(l.error){let{code:f,unformatMessage:h,args:p,stack:g}=l.data,y=mot(f,h),E=new y(...p);throw E.stack=g||E.stack,E}else return l.data});return u.cancel=l=>{if(l?typeof l=="string"&&(s=new N1e(l)):s=new N1e("request canceled"),o)return o.cancel(s);s=l},u}async[O1e](t){this.ee.emit("message",t);try{if(t.event)return await this[A2].emit(t.name,t.data),{data:null};let r=this[NP].get(t.name);return r?{data:await r(t.data)}:DP(new bot(t.name))}catch(r){if(r.isNanoerror)return DP(r);let n=new vot(r.message);return n.stack=r.stack||n.stack,DP(n)}}};a(L7,"NanomessageRPC");F1e.exports=L7});var z1e=j((w0r,H1e)=>{d();var Y1e=g2();function wot(e,t=!0){return{send(r){e.destroyed||e.write(r)},subscribe(r){return e.on("data",r),()=>e.removeListener("data",r)},open(){Y1e(e,()=>{this.close().catch(r=>_.default.nextTick(()=>this.ee.emit("error",r)))})},close(){return new Promise(r=>{if(e.destroyed||!t)return r();Y1e(e,()=>r()),e.destroy()})}}}a(wot,"useSocket");H1e.exports=wot});var PP=j((S0r,Mw)=>{d();var Q1e=U1e();Mw.exports=(...e)=>new Q1e(...e);Mw.exports.NanomessageRPC=Q1e;Mw.exports.useSocket=z1e();Mw.exports.errors=T7()});var V1e=j((C0r,W1e)=>{d();W1e.exports=a(function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},"getBrowserRTC")});var K1e=j((M0r,G1e)=>{"use strict";d();function j1e(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}a(j1e,"assign");function Aot(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return j1e(e,r)}catch{r.message=e.message,r.stack=e.stack;let i=a(function(){},"ErrClass");return i.prototype=Object.create(Object.getPrototypeOf(e)),j1e(new i,r)}}a(Aot,"createError");G1e.exports=Aot});var ege=j((L0r,Z1e)=>{d();var Eot=Hc()("simple-peer"),J1e=V1e(),$1e=Mf(),Sot=Rp(),FP=aw(),Tn=K1e(),{Buffer:kot}=Ei(),UP=64*1024,Cot=5*1e3,Iot=5*1e3;function X1e(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}a(X1e,"filterTrickle");function Tot(e){console.warn(e)}a(Tot,"warn");var Ql=class extends Sot.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=$1e(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||$1e(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Ql.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Ql.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(r=>r),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||Cot,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:J1e(),!this._wrtc)throw Tn(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy(Tn(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy(Tn(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(Tn(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(Tn(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){let r=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?Tot("Ignoring unsupported ICE candidate."):this.destroy(Tn(n,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,r){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,r),this._needsNegotiation()}catch(n){this.destroy(Tn(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:r}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(r=>{this.addTrack(r,t)})}}addTrack(t,r){if(this.destroying)return;if(this.destroyed)throw Tn(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let n=this._senderMap.get(t)||new Map,i=n.get(r);if(!i)i=this._pc.addTrack(t,r),n.set(r,i),this._senderMap.set(t,n),this._needsNegotiation();else throw i.removed?Tn(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Tn(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,r,n){if(this.destroying)return;if(this.destroyed)throw Tn(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let i=this._senderMap.get(t),s=i?i.get(n):null;if(!s)throw Tn(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,i),s.replaceTrack!=null?s.replaceTrack(r):this.destroy(Tn(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,r){if(this.destroying)return;if(this.destroyed)throw Tn(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let n=this._senderMap.get(t),i=n?n.get(r):null;if(!i)throw Tn(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{i.removed=!0,this._pc.removeTrack(i)}catch(s){s.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(i):this.destroy(Tn(s,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(r=>{this.removeTrack(r,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,FP(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw Tn(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),FP(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),r()}))}_setupData(t){if(!t.channel)return this.destroy(Tn(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=UP),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{let i=n.error instanceof Error?n.error:new Error(`Datachannel error: ${n.message} ${n.filename}:${n.lineno}:${n.colno}`);this.destroy(Tn(i,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},Iot)}_read(){}_write(t,r,n){if(this.destroyed)return n(Tn(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(i){return this.destroy(Tn(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>UP?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;let t=a(()=>{setTimeout(()=>this.destroy(),1e3)},"destroySoon");this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=X1e(t.sdp)),t.sdp=this.sdpTransform(t.sdp);let r=a(()=>{if(this.destroyed)return;let s=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})},"sendOffer"),n=a(()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},"onSuccess"),i=a(s=>{this.destroy(Tn(s,"ERR_SET_LOCAL_DESCRIPTION"))},"onError");this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(Tn(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=X1e(t.sdp)),t.sdp=this.sdpTransform(t.sdp);let r=a(()=>{if(this.destroyed)return;let s=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||this._requestMissingTransceivers()},"sendAnswer"),n=a(()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},"onSuccess"),i=a(s=>{this.destroy(Tn(s,"ERR_SET_LOCAL_DESCRIPTION"))},"onError");this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(Tn(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(Tn(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let t=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),this.emit("iceStateChange",t,r),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(Tn(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(Tn(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){let r=a(n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(i=>{Object.assign(n,i)}),n),"flattenValues");this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{let i=[];n.forEach(s=>{i.push(r(s))}),t(null,i)},n=>t(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(this.destroyed)return;let i=[];n.result().forEach(s=>{let o={};s.names().forEach(u=>{o[u]=s.stat(u)}),o.id=s.id,o.type=s.type,o.timestamp=s.timestamp,i.push(r(o))}),t(null,i)},n=>t(n)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let t=a(()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);let i={},s={},o={},u=!1;n.forEach(f=>{(f.type==="remotecandidate"||f.type==="remote-candidate")&&(i[f.id]=f),(f.type==="localcandidate"||f.type==="local-candidate")&&(s[f.id]=f),(f.type==="candidatepair"||f.type==="candidate-pair")&&(o[f.id]=f)});let l=a(f=>{u=!0;let h=s[f.localCandidateId];h&&(h.ip||h.address)?(this.localAddress=h.ip||h.address,this.localPort=Number(h.port)):h&&h.ipAddress?(this.localAddress=h.ipAddress,this.localPort=Number(h.portNumber)):typeof f.googLocalAddress=="string"&&(h=f.googLocalAddress.split(":"),this.localAddress=h[0],this.localPort=Number(h[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let p=i[f.remoteCandidateId];p&&(p.ip||p.address)?(this.remoteAddress=p.ip||p.address,this.remotePort=Number(p.port)):p&&p.ipAddress?(this.remoteAddress=p.ipAddress,this.remotePort=Number(p.portNumber)):typeof f.googRemoteAddress=="string"&&(p=f.googRemoteAddress.split(":"),this.remoteAddress=p[0],this.remotePort=Number(p[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)},"setSelectedCandidatePair");if(n.forEach(f=>{f.type==="transport"&&f.selectedCandidatePairId&&l(o[f.selectedCandidatePairId]),(f.type==="googCandidatePair"&&f.googActiveConnection==="true"||(f.type==="candidatepair"||f.type==="candidate-pair")&&f.selected)&&l(f)}),!u&&(!Object.keys(o).length||Object.keys(s).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(h){return this.destroy(Tn(h,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let f=this._cb;this._cb=null,f(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})},"findCandidatePair");t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>UP||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=kot.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(r=>{this._debug("on track"),this.emit("track",t.track,r),this._remoteTracks.push({track:t.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),FP(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],Eot.apply(null,t)}};a(Ql,"Peer");Ql.WEBRTC_SUPPORT=!!J1e();Ql.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Ql.channelConfig={};Z1e.exports=Ql});var rge=j((O0r,tge)=>{d();var D7=class{constructor(t){this.value=t,this.next=void 0}};a(D7,"Node");var N7=class{constructor(){this.clear()}enqueue(t){let r=new D7(t);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){let t=this._head;if(!!t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}};a(N7,"Queue");tge.exports=N7});var ige=j((F0r,nge)=>{"use strict";d();var Mot=rge(),Bot=a(e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new Mot,r=0,n=a(()=>{r--,t.size>0&&t.dequeue()()},"next"),i=a(async(u,l,...f)=>{r++;let h=(async()=>u(...f))();l(h);try{await h}catch{}n()},"run"),s=a((u,l,...f)=>{t.enqueue(i.bind(null,u,l,...f)),(async()=>(await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()))()},"enqueue"),o=a((u,...l)=>new Promise(f=>{s(u,f,...l)}),"generator");return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o},"pLimit");nge.exports=Bot});var YP=j((H0r,age)=>{d();var Rot=ige(),O7=class{constructor(){this._limit=Rot(1),this._cache=[]}onSignal(t){return this._onSignal=(r,n,i)=>t&&t(r,n,i),this}onClose(t){return this._onClose=r=>t&&t(r),this}resolution(t){this._resolution=()=>t&&t()}add(t){this._cache.push(t),this._limit(async()=>{if(this._limit.clearQueue(),this._cache.length===0||this._resolution())return;let r,n=300;do r=this._cache.length,await new Promise(s=>setTimeout(s,n)),n=1;while(r<this._cache.length&&this._cache.length<4);let i=this._cache;return this._cache=[],this._onSignal(i)}).catch(r=>{this._limit.clearQueue(),this._onClose(r)}).finally(()=>{this._resolution()&&(this._limit.clearQueue(),this._onClose())})}};a(O7,"SignalBatch");age.exports=O7});var P7=j(sge=>{d();var Lot=kw();function q7(e,t){sge[e]=Lot(e,t)}a(q7,"createError");q7("ERR_ARGUMENT_INVALID","%s");q7("ERR_PEER_NOT_FOUND","peer not found: %s");q7("ERR_CONNECTION_CLOSED");q7("ERR_SIGNAL_TIMEOUT","Timeout trying to establish a connection. SIGNALS: %j")});var HP=j((K0r,cge)=>{d();var{NanoresourcePromise:Dot}=Ew(),Not=ege(),bh=U1(),Oot=dP(),qot=g2(),Pot=YP(),{ERR_CONNECTION_CLOSED:Fot,ERR_SIGNAL_TIMEOUT:Uot}=P7(),Bw=Symbol("peer.metadata"),Rw=Symbol("peer.localmetadata"),oge=Symbol("peer.onsignal"),F7=Symbol("peer.offer");cge.exports=a(class extends Dot{constructor(t={}){super();let{onSignal:r,initiator:n,sessionId:i,id:s,topic:o,metadata:u,localMetadata:l,simplePeer:f={},timeout:h}=t;bh(r),bh(n!==void 0,"initiator is required"),bh(b.Buffer.isBuffer(i)&&i.length===32,"sessionId is required and must be a buffer of 32"),bh(b.Buffer.isBuffer(s)&&s.length===32,"id is required and must be a buffer of 32"),bh(b.Buffer.isBuffer(o)&&o.length===32,"topic must be a buffer of 32"),bh(!u||typeof u=="object","metadata must be an object"),bh(!l||typeof l=="object","localMetadata must be an object"),this.initiator=n,this.sessionId=i,this.id=s,this.topic=o,this.simplePeerOptions=f,this.timeout=h,this.subscribeMediaStream=!1,this.error=null,this.signals=[],this[oge]=r,this[F7]=null,this[Bw]=u,this[Rw]=l,this.once("error",p=>{this.error=p}),this._initializeSimplePeer()}get connected(){return this.stream.connected}get destroyed(){return this.stream.destroyed}get metadata(){return this[Bw]}set metadata(t){return bh(!t||typeof t=="object","metadata must be an object"),this[Bw]=t,this.emit("metadata-updated",this[Bw]),this[Bw]}get localMetadata(){return this[Rw]}set localMetadata(t){return bh(!t||typeof t=="object","localMetadata must be an object"),this[Rw]=t,this.emit("local-metadata-updated",this[Rw]),this[Rw]}async ready(){if(!this.connected){if(this.destroyed)throw this.error?this.error:new Fot;return Oot(this,"connect",{rejectionEvents:["error","close"]})}}addStream(t){return this.ready().then(()=>this.stream.addStream(t))}removeStream(t){return this.ready().then(()=>this.stream.removeStream(t))}destroy(t){this.stream.destroy(t)}open(t){return t&&(this[F7]=t),super.open()}async _open(){let t=setTimeout(()=>{this.destroy(new Uot(this.signals))},this.timeout),r=new Pot,n=this.ready(),i=a(o=>r.add(o),"onSignal"),s=a(()=>this.stream.removeListener("signal",i),"clean");return this.once("close",()=>s()),r.onSignal(o=>(this.signals=[...this.signals,...o],this[oge](this,o))).onClose(o=>{s(),o&&_.default.nextTick(()=>this.destroy(o))}).resolution(()=>this.destroyed),this.stream.on("signal",i),!this.initiator&&this[F7]&&this[F7].forEach(o=>this.stream.signal(o)),n.finally(()=>{clearTimeout(t)})}_close(){if(!this.destroyed)return _.default.nextTick(()=>this.stream.destroy()),new Promise(t=>qot(this.stream,()=>t()))}_initializeSimplePeer(){let{streams:t=[],...r}=this.simplePeerOptions;this.stream=new Not({...r,initiator:this.initiator}),t.forEach(l=>this.addStream(l).catch(()=>{})),this.stream.close=()=>_.default.nextTick(()=>this.stream.destroy());let n=a(l=>this.emit("stream",l),"onStream"),i=a(l=>this.emit("signal",l),"onSignal"),s=a(l=>this.emit("error",l),"onError"),o=a(()=>this.emit("connect"),"onConnect"),u=a(()=>{this.stream.removeListener("stream",n),this.stream.removeListener("signal",i),this.stream.removeListener("error",s),this.stream.removeListener("connect",o),this.close().catch(()=>{}),this.emit("close")},"onClose");this.stream.on("stream",n),this.stream.on("signal",i),this.stream.once("error",s),this.stream.once("connect",o),this.stream.once("close",u)}},"Peer")});var yge=j((J0r,gge)=>{d();var uge=Ld(),g0=U1(),Yot=fP(),Hot=dP(),lge=PP(),{NanoresourcePromise:zot}=Ew(),fge=HP(),zP=Symbol("socketsignal.connectionsqueue"),Lw=Symbol("socketsignal.peers"),hge=Symbol("socketsignal.defineactions"),dge=Symbol("socketsignal.defineevents"),QP=Symbol("socketsignal.addpeer"),WP=Symbol("socketsignal.createpeer"),pge=Symbol("socketsignal.onsignal");function Qot({peer:e,data:t},r){this.open().then(()=>(this.emit("peer-connecting",e),e.open(t))).then(()=>r()).catch(n=>r(n))}a(Qot,"worker");var U7=class extends zot{constructor(t,r={}){super();let{id:n=uge.randomBytes(32),requestTimeout:i=15*1e3,queueConcurrency:s=4,simplePeer:o={},metadata:u}=r;g0(!u||typeof u=="object","metadata must be an object"),this.socket=t,this.rpc=lge({timeout:i,...lge.useSocket(t)}),this.id=n,this.metadata=u,this.simplePeer=o,this.requestTimeout=i,this[Lw]=new Map,this[zP]=Yot(this,Qot,s),this[hge](),this[dge]()}get peers(){return Array.from(this[Lw].values())}get peersConnected(){return this.peers.filter(t=>t.connected)}get peersConnecting(){return this.peers.filter(t=>!t.connected)}getPeersByTopic(t){return g0(b.Buffer.isBuffer(t),"topic is required"),this.peers.filter(r=>r.topic.equals(t))}async join(t){g0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open();let r=await this.rpc.call("join",this._buildMessage({topic:t}));return this.emit("join",t,r),r}async leave(t){g0(!t||b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open(),await this.rpc.call("leave",this._buildMessage({topic:t})),this.emit("leave",t)}async lookup(t){g0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open();let r=await this.rpc.call("lookup",this._buildMessage({topic:t}));return this.emit("lookup",t,r),r}connect(t,r,n={}){g0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),g0(b.Buffer.isBuffer(r)&&r.length===32,"peerId must be a Buffer of 32 bytes");let{metadata:i,simplePeer:s={}}=n,o=this[WP]({initiator:!0,sessionId:uge.randomBytes(32),id:r,topic:t,localMetadata:i,simplePeer:s});return this[QP](o),o}onIncomingPeer(t){return this._onIncomingPeer=t,this}onOffer(t){return this._onOffer=t,this}onAnswer(t){return this._onAnswer=t,this}closeConnectionsByTopic(t){return Promise.all(this.getPeersByTopic(t).map(r=>new Promise(n=>r.close(()=>n()))))}async _onIncomingPeer(){}async _onOffer(t){}async _onAnswer(t){}async _open(){await this.rpc.open()}async _close(){this[zP].kill(),await this.rpc.close(),await Promise.all(this.peers.map(t=>new Promise(r=>t.close(()=>r()))))}_buildMessage(t){let{localMetadata:r={},...n}=t,i=this.metadata||{};return r&&(i={...i,...r}),{...n,id:this.id,metadata:i}}[hge](){this.rpc.actions({offer:async t=>{let r=await this._onOffer(t);g0(!r||typeof r=="object");let n=this[WP]({initiator:!1,sessionId:t.sessionId,id:t.id,topic:t.topic,metadata:t.metadata,localMetadata:r&&r.metadata,simplePeer:r&&r.simplePeer});return this[QP](n,t.data),Hot(n,"answer",{rejectionEvents:["error","closed"]})}})}[dge](){this.rpc.on("signal",t=>{let{sessionId:r,data:n=[]}=t,i=this[Lw].get(r.toString("hex"));!i||i.destroyed||n.forEach(s=>i.stream.signal(s))})}[QP](t,r){let n=t.sessionId.toString("hex");this[Lw].set(n,t),t.once("close",()=>{this[Lw].delete(n)}),t.once("error",i=>{this.emit("peer-error",i,t)}),this[zP].push({peer:t,data:r},i=>{if(i||this.closing||this.closed)return _.default.nextTick(()=>t.destroy(i));this.emit("peer-connected",t)}),this.emit("peer-queue",t)}[WP](t){t=Object.assign({},t,{onSignal:(n,i)=>this[pge](n,i),simplePeer:Object.assign({},this.simplePeer,t.simplePeer),timeout:this.requestTimeout});let r;return typeof this.simplePeer=="function"&&(r=this.simplePeer(fge,t)),r=new fge(t),r}async[pge](t,r){if(t.destroyed||t.connected&&!t.subscribeMediaStream)return;let n=a(()=>this._buildMessage({remoteId:t.id,topic:t.topic,sessionId:t.sessionId,data:r,localMetadata:t.localMetadata}),"payload");if(!t.connected){let i=r[0].type;if(i==="offer"){let s=await this.rpc.call("offer",n());await this._onAnswer(s),s.data.forEach(o=>t.stream.signal(o)),t.metadata=s.metadata;return}if(i==="answer")return await this._onIncomingPeer(t),t.emit("answer",n())}await this.rpc.emit("signal",n())}};a(U7,"SocketSignalClient");gge.exports=U7});var jP=j((tpr,_ge)=>{d();var Wot=Ld(),mge=PP(),{NanoresourcePromise:Vot}=Ew(),VP=Hc()("socketsignal:server"),bge=Symbol("socketsignal.defineactions"),vge=Symbol("socketsignal.defineevents"),Y7=class extends Vot{constructor(t={}){super();let{onConnect:r,onDisconnect:n,onJoin:i,onLeave:s,onLookup:o,onOffer:u,onSignal:l,requestTimeout:f=10*1e3,...h}=t;r&&(this._onConnect=r),n&&(this._onDisconnect=n),i&&(this._onJoin=i),s&&(this._onLeave=s),o&&(this._onLookup=o),u&&(this._onOffer=u),l&&(this._onSignal=l),this._requestTimeout=f,this._rpcOpts=h,this.connections=new Set}async addSocket(t){await this.open();let r=mge({timeout:this._requestTimeout,...this._rpcOpts,...mge.useSocket(t)});this[bge](r),this[vge](r),r.id=Wot.randomBytes(32),r.socket=t;let n=a(()=>{if(this.connections.delete(r))return VP("connection-deleted",r.id.toString("hex")),this._onDisconnect(r)},"deleteConnection");r.ee.on("closed",n),r.ee.on("error",i=>this.emit("connection-error",i,r)),await r.open();try{VP("connection-added",r.id.toString("hex")),await this._onConnect(r),this.connections.add(r)}catch(i){r.closed().then(n).catch(n).finally(()=>{this.emit("connection-error",i,r)})}return r}async _open(){}async _close(){await Promise.all(Array.from(this.connections.values()).map(t=>t.close()))}async _onConnect(){}async _onDisconnect(){}async _onJoin(){}async _onLeave(){}async _onLookup(){}async _onOffer(){}async _onSignal(){}[bge](t){t.actions({join:(r={})=>this._onJoin(t,r),leave:(r={})=>this._onLeave(t,r),offer:(r={})=>this._onOffer(t,r),lookup:(r={})=>this._onLookup(t,r)})}[vge](t){t.on("signal",async(r={})=>{try{await this._onSignal(t,r)}catch(n){VP("signal error",n)}})}};a(Y7,"SocketSignalServer");_ge.exports=Y7});var wge=j((ipr,xge)=>{d();var jot=jP(),{ERR_PEER_NOT_FOUND:Got}=P7(),E2=Hc()("socket-signal:server-map"),H7=class extends jot{constructor(t={}){super(t),this._peersByTopic=new Map}addPeer(t,r,n){let i=n.toString("hex"),s=r.toString("hex"),o=this._peersByTopic.get(i)||new Map;o.set(s,{rpc:t,id:r}),this._peersByTopic.set(i,o)}deletePeer(t,r){let n=t.toString("hex");if(!r){this._peersByTopic.forEach((s,o)=>{s.delete(n)&&E2("peer-leave",n+" from "+o)});return}let i=r.toString("hex");this._peersByTopic.has(i)&&this._peersByTopic.get(i).delete(n)&&E2("peer-leave",n+" from "+i)}getPeers(t){let r=t.toString("hex");return this._peersByTopic.has(r)?Array.from(this._peersByTopic.get(r).values()).map(n=>n.id):[]}findPeer(t,r){let n=t.toString("hex"),i=this._peersByTopic.get(r.toString("hex"));if(!i||!i.has(n))throw new Got(n);return i.get(n)}async _onDisconnect(t){let r;this._peersByTopic.forEach(n=>{for(let[i,s]of n)if(s.rpc===t){r=s.id,n.delete(i);break}}),r&&E2("peer-disconnected",r.toString("hex"))}async _onJoin(t,r){return this.addPeer(t,r.id,r.topic),E2("peer-join",r.id.toString("hex")+" in "+r.topic.toString("hex")),this.getPeers(r.topic)}async _onLeave(t,r){this.deletePeer(r.id,r.topic)}async _onOffer(t,r){let n=this.findPeer(r.remoteId,r.topic);return E2(`peer-offer ${r.id.toString("hex")} -> ${r.remoteId.toString("hex")}`),n.rpc.call("offer",r)}async _onLookup(t,r){return this.getPeers(r.topic)}async _onSignal(t,r){let n=this.findPeer(r.remoteId,r.topic);E2(`peer-signal ${r.id.toString("hex")} -> ${r.remoteId.toString("hex")}`),n.rpc.emit("signal",r).catch(()=>{})}};a(H7,"SocketSignalServerMap");xge.exports=H7});var Ege=j((opr,Age)=>{d();Age.exports={SocketSignalClient:yge(),SocketSignalServer:jP(),SocketSignalServerMap:wge(),Peer:HP(),SignalBatch:YP(),errors:P7()}});var Ige=j((upr,Cge)=>{"use strict";d();var GP=a(function(e,t){return GP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GP(e,t)},"extendStatics");function Sge(e,t){GP(e,t);function r(){this.constructor=e}a(r,"__"),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}a(Sge,"__extends");function Kot(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}a(Kot,"__values");function $ot(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}a($ot,"__read");function Xot(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($ot(arguments[t]));return e}a(Xot,"__spread");var kge=function(){function e(t,r){this.target=r,this.type=t}return a(e,"Event"),e}(),Jot=function(e){Sge(t,e);function t(r,n){var i=e.call(this,"error",n)||this;return i.message=r.message,i.error=r,i}return a(t,"ErrorEvent"),t}(kge),Zot=function(e){Sge(t,e);function t(r,n,i){r===void 0&&(r=1e3),n===void 0&&(n="");var s=e.call(this,"close",i)||this;return s.wasClean=!0,s.code=r,s.reason=n,s}return a(t,"CloseEvent"),t}(kge);var ect=a(function(){if(typeof WebSocket<"u")return WebSocket},"getGlobalWebSocket"),tct=a(function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},"isWebSocket"),j1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},rct=function(){function e(t,r,n){var i=this;n===void 0&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(s){i._debug("open event");var o=i._options.minUptime,u=o===void 0?j1.minUptime:o;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},u),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(l){return i._ws.send(l)}),i._messageQueue=[],i.onopen&&i.onopen(s),i._listeners.open.forEach(function(l){return i._callEventListener(s,l)})},this._handleMessage=function(s){i._debug("message event"),i.onmessage&&i.onmessage(s),i._listeners.message.forEach(function(o){return i._callEventListener(s,o)})},this._handleError=function(s){i._debug("error event",s.message),i._disconnect(void 0,s.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(s),i._debug("exec error listeners"),i._listeners.error.forEach(function(o){return i._callEventListener(s,o)}),i._connect()},this._handleClose=function(s){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(s),i._listeners.close.forEach(function(o){return i._callEventListener(s,o)})},this._url=t,this._protocols=r,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return a(e,"ReconnectingWebSocket"),Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(r,n){return typeof n=="string"?r+=n.length:n instanceof Blob?r+=n.size:r+=n.byteLength,r},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,r){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,r)},e.prototype.reconnect=function(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,r),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var r=this._options.maxEnqueuedMessages,n=r===void 0?j1.maxEnqueuedMessages:r;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,r){this._listeners[t]&&this._listeners[t].push(r)},e.prototype.dispatchEvent=function(t){var r,n,i=this._listeners[t.type];if(i)try{for(var s=Kot(i),o=s.next();!o.done;o=s.next()){var u=o.value;this._callEventListener(t,u)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!0},e.prototype.removeEventListener=function(t,r){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(n){return n!==r}))},e.prototype._debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._options.debug&&console.log.apply(console,Xot(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,r=t.reconnectionDelayGrowFactor,n=r===void 0?j1.reconnectionDelayGrowFactor:r,i=t.minReconnectionDelay,s=i===void 0?j1.minReconnectionDelay:i,o=t.maxReconnectionDelay,u=o===void 0?j1.maxReconnectionDelay:o,l=0;return this._retryCount>0&&(l=s*Math.pow(n,this._retryCount-1),l>u&&(l=u)),this._debug("next delay",l),l},e.prototype._wait=function(){var t=this;return new Promise(function(r){setTimeout(r,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var r=this._options,n=r.maxRetries,i=n===void 0?j1.maxRetries:n,s=r.connectionTimeout,o=s===void 0?j1.connectionTimeout:s,u=r.WebSocket,l=u===void 0?ect():u;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!tct(l))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(f){t._closeCalled||(t._debug("connect",{url:f,protocols:t._protocols}),t._ws=t._protocols?new l(f,t._protocols):new l(f),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},o))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Jot(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,r){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,r),this._handleClose(new Zot(t,r,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,r){"handleEvent"in r?r.handleEvent(t):r(t)},e.prototype._removeListeners=function(){!this._ws||(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){!this._ws||(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();Cge.exports=rct});var Mge=j((hpr,Tge)=>{d();var nct=vpe(),ict=U1(),act=xpe(),sct=Spe(),{SocketSignalClient:oct}=Ege(),KP=Hc()("socket-signal:websocket-client"),cct=a(e=>{let t=0;return()=>{let r=e[t++%e.length];return KP("url provider",r),r}},"defaultUrlProvider"),z7=Ige();z7.default&&(z7=z7.default);var S2=class extends oct{static createSocket(t,r={}){ict(Array.isArray(t)||typeof t=="function","must be an array or a function");let{simpleWebsocket:n={},reconnectingWebsocket:i={}}=r;Array.isArray(t)&&(t=cct(t)),i.WebSocket||(i.WebSocket=act);let s=new z7(t,i.protocols,i),o=new nct({socket:s,...n}),u=s.onopen,l=s.onclose,f=s.onerror;return s.onopen=h=>{o._chunk&&!o._cb&&(o._cb=()=>{}),u(h)},s.onclose=h=>{KP("socket close",{shouldReconnect:s._shouldReconnect,ev:h}),s._shouldReconnect?o.connected=!1:l(h)},s.onerror=h=>{KP("socket error",{shouldReconnect:s._shouldReconnect,ev:h}),s._shouldReconnect?o.connected=!1:f(h)},{ws:s,socket:o}}constructor(t,r={}){let{heartbeat:n=!1,simpleWebsocket:i,reconnectingWebsocket:s,onSocket:o=a(p=>p,"onSocket"),...u}=r,{ws:l,socket:f}=S2.createSocket(t,{simpleWebsocket:i,reconnectingWebsocket:s});super(o(f),u),this._ws=l,this._heartbeat=n,this._lastPing=0;let h=!1;this.socket.on("connect",()=>{this.emit("connected",h),h=!0})}get connected(){return this._ws.readyState===this._ws.OPEN}get lastPing(){return this._lastPing}async _open(){return this._heartbeat&&this._startHeartbeat(this._heartbeat),super._open()}async _startHeartbeat(t={}){let{interval:r=10*1e3,timeout:n=5*1e3}=typeof t=="boolean"?{}:t;for(;!(this.closed||this.closing);)if(await sct(r),this.connected&&this.opened){let i=await this.rpc.call("__ping__",{time:Date.now()},{timeout:n}).catch(s=>{if(this.emit("ping-error",s),!(this.closed||this.closing)&&s.code==="NMSG_ERR_TIMEOUT")return this._ws.reconnect()});i&&(this.emit("ping",i.time),this._lastPing=i.time)}}};a(S2,"SocketSignalWebsocketClient");Tge.exports=S2});var Rge=j((gpr,Bge)=>{d();Bge.exports={SocketSignalWebsocketClient:Mge()}});var Dge=j((mpr,$P)=>{"use strict";d();var uct=a((e,t)=>Math.floor(Math.random()*(t-e+1)+e),"randomInteger"),Lge=a(()=>{let e=new Error("Delay aborted");return e.name="AbortError",e},"createAbortError"),Q7=a(({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(Lge());let o,u,l,f=e||clearTimeout,h=a(()=>{f(o),l(Lge())},"signalListener"),p=a(()=>{s&&s.removeEventListener("abort",h)},"cleanup"),g=new Promise((y,E)=>{u=a(()=>{p(),r?y(i):E(i)},"settle"),l=E,o=(t||setTimeout)(u,n)});return s&&s.addEventListener("abort",h,{once:!0}),g.clear=()=>{f(o),o=null,u()},g},"createDelay"),k2=Q7({willResolve:!0});k2.reject=Q7({willResolve:!1});k2.range=(e,t,r)=>k2(uct(e,t),r);k2.createWithTimers=({clearTimeout:e,setTimeout:t})=>{let r=Q7({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=Q7({clearTimeout:e,setTimeout:t,willResolve:!1}),r};$P.exports=k2;$P.exports.default=k2});var Oge=j((_pr,Nge)=>{d();var lct=g2();Nge.exports=a(function(t,r={}){return new Promise((n,i)=>{function s(o){o?i(o):n()}a(s,"cb"),lct(t,r,s)})},"eosp")});var Pge=j((Apr,qge)=>{d();qge.exports=W7;W7.defer=XP;function W7(e){return e==null&&(e=w.Promise),this instanceof W7?XP(e,this):XP(e,Object.create(W7.prototype))}a(W7,"Deferred");function XP(e,t){return t.promise=new e(function(r,n){t.resolve=r,t.reject=n}),t}a(XP,"defer")});var Uge=j((kpr,Fge)=>{d();Fge.exports=function(e){if(!Array.isArray(e))throw"C'mon pal. You gotta feed this thing *arrays*!";let t=[],r=e.slice();for(;r.length;){let n=Math.floor(Math.random()*r.length);t.push(r.splice(n,1)[0])}return t}});var Hge=j((Ipr,Yge)=>{d();Yge.exports=y0;function y0(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var r=b.Buffer.allocUnsafe(e.length),n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}a(y0,"dist");y0.compare=a(function(t,r){if(t.length!==r.length)throw new Error("Inputs should have the same length");for(var n=0;n<t.length;n++)if(t[n]!==r[n])return t[n]<r[n]?-1:1;return 0},"compare");y0.gt=a(function(t,r){return y0.compare(t,r)===1},"gt");y0.lt=a(function(t,r){return y0.compare(t,r)===-1},"lt");y0.eq=a(function(t,r){return y0.compare(t,r)===0},"eq")});var Qge=j((Bpr,JP)=>{"use strict";d();var fct=Object.prototype.hasOwnProperty,Zs="~";function Dw(){}a(Dw,"Events");Object.create&&(Dw.prototype=Object.create(null),new Dw().__proto__||(Zs=!1));function hct(e,t,r){this.fn=e,this.context=t,this.once=r||!1}a(hct,"EE");function zge(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new hct(r,n||e,i),o=Zs?Zs+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}a(zge,"addListener");function V7(e,t){--e._eventsCount===0?e._events=new Dw:delete e._events[t]}a(V7,"clearEvent");function Ms(){this._events=new Dw,this._eventsCount=0}a(Ms,"EventEmitter");Ms.prototype.eventNames=a(function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)fct.call(r,n)&&t.push(Zs?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t},"eventNames");Ms.prototype.listeners=a(function(t){var r=Zs?Zs+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},"listeners");Ms.prototype.listenerCount=a(function(t){var r=Zs?Zs+t:t,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Ms.prototype.emit=a(function(t,r,n,i,s,o){var u=Zs?Zs+t:t;if(!this._events[u])return!1;var l=this._events[u],f=arguments.length,h,p;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,o),!0}for(p=1,h=new Array(f-1);p<f;p++)h[p-1]=arguments[p];l.fn.apply(l.context,h)}else{var g=l.length,y;for(p=0;p<g;p++)switch(l[p].once&&this.removeListener(t,l[p].fn,void 0,!0),f){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,r);break;case 3:l[p].fn.call(l[p].context,r,n);break;case 4:l[p].fn.call(l[p].context,r,n,i);break;default:if(!h)for(y=1,h=new Array(f-1);y<f;y++)h[y-1]=arguments[y];l[p].fn.apply(l[p].context,h)}}return!0},"emit");Ms.prototype.on=a(function(t,r,n){return zge(this,t,r,n,!1)},"on");Ms.prototype.once=a(function(t,r,n){return zge(this,t,r,n,!0)},"once");Ms.prototype.removeListener=a(function(t,r,n,i){var s=Zs?Zs+t:t;if(!this._events[s])return this;if(!r)return V7(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&V7(this,s);else{for(var u=0,l=[],f=o.length;u<f;u++)(o[u].fn!==r||i&&!o[u].once||n&&o[u].context!==n)&&l.push(o[u]);l.length?this._events[s]=l.length===1?l[0]:l:V7(this,s)}return this},"removeListener");Ms.prototype.removeAllListeners=a(function(t){var r;return t?(r=Zs?Zs+t:t,this._events[r]&&V7(this,r)):(this._events=new Dw,this._eventsCount=0),this},"removeAllListeners");Ms.prototype.off=Ms.prototype.removeListener;Ms.prototype.addListener=Ms.prototype.on;Ms.prefixed=Zs;Ms.EventEmitter=Ms;typeof JP<"u"&&(JP.exports=Ms)});var Wge=j(ZP=>{"use strict";d();Object.defineProperty(ZP,"__esModule",{value:!0});function dct(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}a(dct,"lowerBound");ZP.default=dct});var Vge=j(eF=>{"use strict";d();Object.defineProperty(eF,"__esModule",{value:!0});var pct=Wge(),j7=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=pct.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};a(j7,"PriorityQueue");eF.default=j7});var Gge=j(tF=>{"use strict";d();Object.defineProperty(tF,"__esModule",{value:!0});var gct=Qge(),jge=hP(),yct=Vge(),G7=a(()=>{},"empty"),mct=new jge.TimeoutError,K7=class extends gct{constructor(t){var r,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=G7,this._resolveIdle=G7,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:yct.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=G7,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=G7,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=a(async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():jge.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(mct)});n(await o)}catch(o){i(o)}this._next()},"run");this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};a(K7,"PQueue");tF.default=K7});var $ge=j((Qpr,Kge)=>{d();var bct=Dge(),vct=Oge(),_ct=Pge(),xct=Uge(),rF=Hge(),wct=Gge().default,Act=ea(),Ect=10,Sct=.33,kct=1e3,Cct=4;Kge.exports=a(class extends Act{constructor({id:t,lookup:r,connect:n,sampleSize:i=Ect,percentFar:s=Sct,maxPeers:o=Cct,lookupTimeout:u=kct,queueTimeout:l=u+2*1e3}){if(super(),this.id=t,this._lookup=r,this._connect=n,this.sampleSize=i,this.percentFar=s,this.maxPeers=o,u>l)throw new Error("queueTimeout must be higher than lookupTimeout");this.lookupTimeout=u,this.queue=new wct({concurrency:1,timeout:l}),this.connectedPeers=new Set,this.hasConnectedFar=!1,this.destroyed=!1}shouldHandleIncoming(){return this.connectedPeers.size<this.maxPeers}handleIncoming(t,r){if(!this.shouldHandleIncoming()){r.close();return}this.addConnection(t,r)}addConnection(t,r,n){let i=t.toString("hex");this.connectedPeers.add(i),r.once("close",()=>{this.connectedPeers.delete(i),(n||this.connectedPeers.size===0)&&this.queue.add(()=>this.run())})}async run(){if(!this.shouldHandleIncoming()||this.destroyed)return;let t=[],r=this._lookup(),n=_ct(),i=Promise.race([vct(r),bct(this.lookupTimeout),n.promise]);if(r.on("data",l=>{t.push(...l),t.length>=this.sampleSize&&n.resolve()}),await i,this.destroyed)return;let s=t.slice();s.length>this.sampleSize&&(s=xct(t).slice(0,this.sampleSize)),s.sort((l,f)=>rF.gt(rF(this.id,l),rF(this.id,f)));let o=!1;for(let l of s){if(this.destroyed)return;let f=l.toString("hex");if(!this.connectedPeers.has(f))try{let h=await this._connect(l);o=!0,this.addConnection(l,h,!0);break}catch{}}if(!o){this.emit("nopeers");return}if(!(this.hasConnectedFar||this.connectedPeers.size>=this.maxPeers||Math.random()>this.percentFar)){s.reverse();for(let l of s){if(this.destroyed)return;let f=l.toString("hex");if(!this.connectedPeers.has(f))try{let h=await this._connect(l);this.addConnection(l,h,!0),this.hasConnectedFar=!0,h.once("close",()=>{this.hasConnectedFar=!1});break}catch{}}}}async destroy(){this.destroyed=!0}},"MMST")});var nF=j((jpr,Xge)=>{d();var Ict=a(e=>{if(typeof e=="string")return e;if(b.Buffer.isBuffer(e))return e.toString("hex");throw new Error("Cannot convert the buffer to hex: ",e)},"toHex"),Tct=a(e=>{if(b.Buffer.isBuffer(e))return e;if(typeof e=="string")return b.Buffer.from(e,"hex");throw new Error("Cannot convert the string to buffer: ",e)},"toBuffer"),Mct=a(()=>{let e,t=new Promise((r,n)=>{e=a((i,s)=>{i?n(i):r(s)},"callback")});return e.promise=t,e},"callbackPromise"),Bct=a((e,t)=>(e.then||(e=Promise.resolve()),e.then(r=>t(null,r)).catch(t)),"resolveCallback");Xge.exports={toHex:Ict,toBuffer:Tct,callbackPromise:Mct,resolveCallback:Bct}});var aF=j(Jge=>{d();var Rct=kw();function iF(e,t){Jge[e]=Rct(e,t)}a(iF,"createError");iF("ERR_MAX_PEERS_REACHED","max peers reached: %s");iF("ERR_INVALID_CHANNEL","invalid channel: %s");iF("ERR_CONNECTION_DUPLICATED","connection duplicated: %s -> %s")});var eye=j((e1r,Zge)=>{d();var Lct=a(e=>{let t,r=!1,n=new Promise((i,s)=>{let o=setTimeout(()=>{r=!0,i()},e);t=a(()=>{r||(clearTimeout(o),s(new Error("timeout")))},"cancel")});return n.cancel=t,n},"delay"),$7=class{constructor(t){this._fn=t,this._stop=!1,this.run()}run(){(async()=>{for(;!this._stop;){if(this._time=Lct(Math.floor(Math.random()*11)*1e3),await this._time,this._stop)return;await this._fn()}})().catch(()=>{})}stop(){this._time&&this._time.cancel(),this._stop=!0}};a($7,"Task");Zge.exports=a(class{constructor(){this._tasks=new Map}add(t,r){this._tasks.set(t,new $7(r))}delete(t){let r=this._tasks.get(t);r&&r.stop(),this._tasks.delete(t)}clear(){this._tasks.forEach(t=>{t.stop()}),this._tasks.clear()}},"Scheduler")});var aye=j((i1r,iye)=>{d();var{SocketSignalWebsocketClient:Dct}=Rge(),Nct=$ge(),nye=U1(),{Readable:Oct}=S_(),tye=Hc()("discovery-swarm-webrtc:mmst-signal"),{toHex:G1}=nF(),{ERR_INVALID_CHANNEL:qct,ERR_MAX_PEERS_REACHED:Pct}=aF(),Fct=eye(),rye=a(e=>nye(b.Buffer.isBuffer(e)&&e.length===32,"Channel must be a buffer of 32 bytes"),"assertChannel"),Nw=Symbol("mmstsignal.onconnected"),Ow=Symbol("mmstsignal.getcandidates");iye.exports=a(class extends Dct{constructor(t={}){let{bootstrap:r,createConnection:n,mmstOpts:i={},strict:s=!0,...o}=t;super(r,o),this._createConnection=n,this._mmstOpts=i,this._strict=s,this._channels=new Map,this._mmsts=new Map,this._candidates=new Map,this._scheduler=new Fct,this[Nw]=this[Nw].bind(this)}join(t){rye(t);let r=G1(t);if(!this._channels.has(r)){this._channels.set(r,t);let n={id:this.id,lookup:()=>this._lookup(t),connect:async s=>{await this.open();try{let o=this.connect(t,s);return this._runCreateConnection(o),await o.ready(),o.stream}catch(o){let u=this[Ow](t);throw u.list=u.list.filter(l=>!l.equals(s)),u.list.length===0&&(u.lookup=!0),o}}},i;typeof this._mmstOpts=="function"?i=this._mmstOpts(n):i=new Nct({...this._mmstOpts,...n}),this._mmsts.set(r,i)}this.connected&&super.join(t).catch(()=>{})}async leave(t){rye(t);let r=G1(t);this._scheduler.delete(r),this._mmsts.get(r).destroy(),this._mmsts.delete(r),this._channels.delete(r),this._candidates.delete(r),await super.leave(t),await super.closeConnectionsByTopic(t)}async _open(){this.on("connected",this[Nw]),this.on("join",async(t,r)=>{tye("discover",{channel:t}),this.hasChannel(t)&&(await this._updateCandidates(t,r),await this._run(t),this._scheduler.add(t.toString("hex"),async()=>{let n=this[Ow](t);(n.list.length===0||this.getPeersByTopic(t).length===0)&&(n.lookup=!0,await this._updateCandidates(t),await this._run(t))}))}),this.onIncomingPeer(t=>this._runCreateConnection(t)),await super._open()}hasChannel(t){return this._channels.has(G1(t))}_runCreateConnection(t){if(!this.hasChannel(t.topic))throw new qct(G1(t.topic));let r=this._getMMST(t.topic);if(this._strict&&!t.initiator&&!r.shouldHandleIncoming())throw new Pct(this._mmstOpts.maxPeers);return this._createConnection(t),t.initiator||r.addConnection(t.id,t.stream),t}async _close(){await super._close(),this.removeListener("connected",this[Nw]),this._mmsts.forEach(t=>t.destroy()),this._mmsts.clear(),this._channels.clear(),this._candidates.clear(),this._scheduler.clear()}async _run(t){if(!!this.connected&&!(this.getPeersByTopic(t).filter(r=>r.initiator).length>0))try{this.hasChannel(t)&&await this._getMMST(t).run()}catch(r){tye("run error",r.message)}}_getMMST(t){return this._mmsts.get(G1(t))}_lookup(t){let r=new Oct({read(){},objectMode:!0});return this._updateCandidates(t).finally(()=>{r.push(this[Ow](t).list),r.push(null)}),r}async[Nw](t){this._channels.forEach(r=>super.join(r).catch(()=>{}))}async _updateCandidates(t,r){let n=this[Ow](t),i=n.list;if(r)i=r;else if(n.lookup){n.lookup=!1;try{i=await this.lookup(t)}catch{}}n.list=i.filter(s=>!s.equals(this.id)),this.emit("candidates-updated",t,i)}[Ow](t){nye(b.Buffer.isBuffer(t));let r=this._candidates.get(G1(t));return r||(r={list:[],lookup:!1},this._candidates.set(G1(t),r),r)}},"MMSTSignal")});var uye=j((o1r,sF)=>{d();var{EventEmitter:Uct}=ea(),Yct=Ld(),qw=U1(),Hct=oP(),C2=Hc()("discovery-swarm-webrtc"),zct=aye(),{toHex:X7,callbackPromise:sye,resolveCallback:oye}=nF(),cye=aF(),{ERR_CONNECTION_DUPLICATED:Qct}=cye,Wct=a(e=>qw(b.Buffer.isBuffer(e)&&e.length===32,"Channel must be a buffer of 32 bytes"),"assertChannel"),J7=class extends Uct{constructor(t={}){super(),C2("opts",t);let{id:r=Yct.randomBytes(32),bootstrap:n,stream:i,simplePeer:s,maxPeers:o=5,timeout:u=15*1e3,signal:l,mmst:f={}}=t;qw(Array.isArray(n)&&n.length>0,"The `bootstrap` options is required."),qw(b.Buffer.isBuffer(r)&&r.length===32,"The `id` option needs to be a Buffer of 32 bytes."),this.id=r;let h=u*2,p={id:this.id,bootstrap:n,createConnection:g=>this._createConnection(g),requestTimeout:u,simplePeer:s,reconnectingWebsocket:{connectionTimeout:u}};this.signal=l?l(p,this):new zct({...p,mmstOpts:{maxPeers:o,queueTimeout:h,lookupTimeout:u,...f}}),this._maxPeers=o,this._stream=i,this._destroyed=!1,this._initialize(t)}get connected(){return this.signal.peersConnected}get connecting(){return this.signal.peersConnecting}listen(){}getPeers(t){return t?this.signal.getPeersByTopic(t).filter(r=>r.connected):this.signal.peersConnected}join(t){this.signal.join(t)}leave(t,r=sye()){return Wct(t),oye(this.signal.leave(t),r),r.promise}close(t=sye()){return oye(this._close(),t),t.promise}async connect(t,r){qw(t&&b.Buffer.isBuffer(t),"channel must be a buffer"),qw(r&&b.Buffer.isBuffer(r),"peerId must be a buffer");let n=this.signal.connect(t,r);return n.subscribeMediaStream=!0,await n.ready(),n.stream}async _close(){this._destroyed||(this._destroyed=!0,await this.signal.close(),this.emit("close"))}_initialize(){let t=this.signal;this.on("error",(...r)=>C2("error",...r)),t.on("peer-error",r=>this.emit("error",r)),t.on("error",r=>this.emit("error",r)),t.open().catch(r=>_.default.nextTick(()=>this.emit("error",r))),t.on("candidates-updated",(...r)=>this.emit("candidates-updated",...r))}_createConnection(t){t.subscribeMediaStream=!0,t.channel=t.topic,t.getInfo=()=>({id:t.id,channel:t.topic,initiator:t.initiator}),t.printInfo=()=>({id:X7(t.id),channel:X7(t.topic),initiator:t.initiator}),C2("createConnection",{info:t.printInfo()});try{let r=this._checkForDuplicate(t);if(r){if(r===t)throw new Qct(X7(this.id),X7(t.id));r.destroy()}return this._bindSocketEvents(t),t}catch(r){throw this.emit("connect-failed",r,t.getInfo()),r}}_bindSocketEvents(t){let r=t.getInfo();t.on("error",n=>{C2("error",n),this.emit("connection-error",n,r)}),t.on("connect",()=>{if(C2("connect",{peer:t}),t.stream.destroyed)return;if(!this._stream){this._handleConnection(t.stream,r);return}let n=this._stream(r);if(!n){this._handleConnection(t.stream,r);return}this.emit("handshaking",n,r),n.on("handshake",this._handshake.bind(this,n,r)),Hct(t.stream,n,t.stream)}),t.on("close",()=>{C2("close",{peer:t}),this.emit("connection-closed",t.stream,r)})}_handshake(t,r){this._handleConnection(t,r)}_handleConnection(t,r){this.emit("connection",t,r)}_checkForDuplicate(t){let r=this.signal.getPeersByTopic(t.channel).find(s=>s.id.equals(t.id)&&!s.sessionId.equals(t.sessionId));if(!r)return;let n=[t,r];if(t.initiator&&r.initiator||!t.initiator&&!r.initiator)return n.sort((s,o)=>b.Buffer.compare(s.sessionId,o.sessionId))[0];let i=[this.id,t.id].sort(b.Buffer.compare)[0];return n.find(s=>s.id.equals(i))}};a(J7,"DiscoverySwarmWebrtc");sF.exports=(...e)=>new J7(...e);sF.exports.errors=cye});var hye=j((l1r,fye)=>{d();var oF=yh(),lye=Rp(),Vct=kr(),Z7=b.Buffer.allocUnsafe(10*1024),I2=0,T2=a(function(){if(!(this instanceof T2))return new T2;lye.Transform.call(this),this._destroyed=!1},"Encoder");Vct(T2,lye.Transform);T2.prototype._transform=function(e,t,r){if(this._destroyed)return r();oF.encode(e.length,Z7,I2),I2+=oF.encode.bytes,this.push(Z7.slice(I2-oF.encode.bytes,I2)),this.push(e),Z7.length-I2<100&&(Z7=b.Buffer.allocUnsafe(10*1024),I2=0),r()};T2.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))};fye.exports=T2});var yye=j((d1r,gye)=>{d();var dye=yh(),pye=Rp(),jct=kr(),Wl=a(function(e){if(!(this instanceof Wl))return new Wl(e);pye.Transform.call(this),this._destroyed=!1,this._missing=0,this._message=null,this._limit=e&&e.limit||0,this._allowEmpty=!!(e&&e.allowEmpty),this._prefix=b.Buffer.allocUnsafe(this._limit?dye.encodingLength(this._limit):100),this._ptr=0,this._allowEmpty&&(this._readableState.highWaterMark=16,this._readableState.objectMode=!0)},"Decoder");jct(Wl,pye.Transform);Wl.prototype._push=function(e){this._ptr=0,this._missing=0,this._message=null,this.push(e)};Wl.prototype._parseLength=function(e,t){for(t;t<e.length;t++){if(this._ptr>=this._prefix.length)return this._prefixError(e);if(this._prefix[this._ptr++]=e[t],!(e[t]&128))return this._missing=dye.decode(this._prefix),this._limit&&this._missing>this._limit?this._prefixError(e):(!this._missing&&this._allowEmpty&&this._push(b.Buffer.alloc(0)),this._ptr=0,t+1)}return e.length};Wl.prototype._prefixError=function(e){return this.destroy(new Error("Message is larger than max length")),e.length};Wl.prototype._parseMessage=function(e,t){var r=e.length-t,n=this._missing;if(!this._message){if(n<=r)return this._push(e.slice(t,t+n)),t+n;this._message=b.Buffer.allocUnsafe(n)}return e.copy(this._message,this._ptr,t,t+n),n<=r?(this._push(this._message),t+n):(this._missing-=r,this._ptr+=r,e.length)};Wl.prototype._transform=function(e,t,r){for(var n=0;!this._destroyed&&n<e.length;)this._missing?n=this._parseMessage(e,n):n=this._parseLength(e,n);r()};Wl.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))};gye.exports=Wl});var mye=j(cF=>{d();cF.encode=hye();cF.decode=yye()});var xye=j((b1r,_ye)=>{d();_ye.exports=vye;var bye=128,Gct=127,Kct=~Gct,$ct=Math.pow(2,31);function vye(e,t,r){t=t||[],r=r||0;for(var n=r;e>=$ct;)t[r++]=e&255|bye,e/=128;for(;e&Kct;)t[r++]=e&255|bye,e>>>=7;return t[r]=e|0,vye.bytes=r-n+1,t}a(vye,"encode")});var Eye=j((x1r,Aye)=>{d();Aye.exports=uF;var Xct=128,wye=127;function uF(e,n){var r=0,n=n||0,i=0,s=n,o,u=e.length;do{if(s>=u)throw uF.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&wye)<<i:(o&wye)*Math.pow(2,i),i+=7}while(o>=Xct);return uF.bytes=s-n,r}a(uF,"read")});var kye=j((E1r,Sye)=>{d();var Jct=Math.pow(2,7),Zct=Math.pow(2,14),eut=Math.pow(2,21),tut=Math.pow(2,28),rut=Math.pow(2,35),nut=Math.pow(2,42),iut=Math.pow(2,49),aut=Math.pow(2,56),sut=Math.pow(2,63);Sye.exports=function(e){return e<Jct?1:e<Zct?2:e<eut?3:e<tut?4:e<rut?5:e<nut?6:e<iut?7:e<aut?8:e<sut?9:10}});var Iye=j((k1r,Cye)=>{d();Cye.exports={encode:xye(),decode:Eye(),encodingLength:kye()}});var Tye=j(ek=>{d();var Pw=yh();ek.encode=a(function e(t,r,n){t=t>=0?t*2:t*-2-1;var i=Pw.encode(t,r,n);return e.bytes=Pw.encode.bytes,i},"encode");ek.decode=a(function e(t,r){var n=Pw.decode(t,r);return e.bytes=Pw.decode.bytes,n&1?(n+1)/-2:n/2},"decode");ek.encodingLength=function(e){return Pw.encodingLength(e>=0?e*2:e*-2-1)}});var fF=j(Pi=>{d();var Zn=Iye(),lF=Tye(),ga=a1();Pi.make=tc;Pi.name=function(e){for(var t=Object.keys(Pi),r=0;r<t.length;r++)if(Pi[t[r]]===e)return t[r];return null};Pi.skip=function(e,t,r){switch(e){case 0:return Zn.decode(t,r),r+Zn.decode.bytes;case 1:return r+8;case 2:var n=Zn.decode(t,r);return r+Zn.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)};Pi.bytes=tc(2,a(function e(t,r,n){var i=n,s=Mye(t);return Zn.encode(s,r,n),n+=Zn.encode.bytes,ga.isBuffer(t)?ga.copy(t,r,n):ga.write(r,t,n,s),n+=s,e.bytes=n-i,r},"encode"),a(function e(t,r){var n=r,i=Zn.decode(t,r);r+=Zn.decode.bytes;var s=t.subarray(r,r+i);return r+=s.length,e.bytes=r-n,s},"decode"),a(function(t){var r=Mye(t);return Zn.encodingLength(r)+r},"encodingLength"));Pi.string=tc(2,a(function e(t,r,n){var i=n,s=ga.byteLength(t);return Zn.encode(s,r,n,"utf-8"),n+=Zn.encode.bytes,ga.write(r,t,n,s),n+=s,e.bytes=n-i,r},"encode"),a(function e(t,r){var n=r,i=Zn.decode(t,r);r+=Zn.decode.bytes;var s=ga.toString(t,"utf-8",r,r+i);return r+=i,e.bytes=r-n,s},"decode"),a(function(t){var r=ga.byteLength(t);return Zn.encodingLength(r)+r},"encodingLength"));Pi.bool=tc(0,a(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r},"encode"),a(function e(t,r){var n=t[r]>0;return e.bytes=1,n},"decode"),a(function(){return 1},"encodingLength"));Pi.int32=tc(0,a(function e(t,r,n){return Zn.encode(t<0?t+4294967296:t,r,n),e.bytes=Zn.encode.bytes,r},"encode"),a(function e(t,r){var n=Zn.decode(t,r);return e.bytes=Zn.decode.bytes,n>2147483647?n-4294967296:n},"decode"),a(function(t){return Zn.encodingLength(t<0?t+4294967296:t)},"encodingLength"));Pi.int64=tc(0,a(function e(t,r,n){if(t<0){var i=n+9;for(Zn.encode(t*-1,r,n),n+=Zn.encode.bytes-1,r[n]=r[n]|128;n<i-1;)n++,r[n]=255;r[i]=1,e.bytes=10}else Zn.encode(t,r,n),e.bytes=Zn.encode.bytes;return r},"encode"),a(function e(t,r){var n=Zn.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;t[r+i-1]===255;)i--;i=i||9;var s=ga.allocUnsafe(i);ga.copy(t,s,0,r,r+i),s[i-1]=s[i-1]&127,n=-1*Zn.decode(s,0),e.bytes=10}else e.bytes=Zn.decode.bytes;return n},"decode"),a(function(t){return t<0?10:Zn.encodingLength(t)},"encodingLength"));Pi.sint32=Pi.sint64=tc(0,lF.encode,lF.decode,lF.encodingLength);Pi.uint32=Pi.uint64=Pi.enum=Pi.varint=tc(0,Zn.encode,Zn.decode,Zn.encodingLength);Pi.fixed64=Pi.sfixed64=tc(1,a(function e(t,r,n){return ga.copy(t,r,n),e.bytes=8,r},"encode"),a(function e(t,r){var n=t.subarray(r,r+8);return e.bytes=8,n},"decode"),a(function(){return 8},"encodingLength"));Pi.double=tc(1,a(function e(t,r,n){return ga.writeDoubleLE(r,t,n),e.bytes=8,r},"encode"),a(function e(t,r){var n=ga.readDoubleLE(t,r);return e.bytes=8,n},"decode"),a(function(){return 8},"encodingLength"));Pi.fixed32=tc(5,a(function e(t,r,n){return ga.writeUInt32LE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readUInt32LE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));Pi.sfixed32=tc(5,a(function e(t,r,n){return ga.writeInt32LE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readInt32LE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));Pi.float=tc(5,a(function e(t,r,n){return ga.writeFloatLE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readFloatLE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));function tc(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}a(tc,"encoder");function Mye(e){return ga.isBuffer(e)?e.length:ga.byteLength(e)}a(Mye,"bufferLength")});var Rye=j(dF=>{d();var M2=fF(),Bye=M2.varint,out=M2.skip;dF.EventType={READY:1,JOIN:2,LEAVE:3,ON_STREAM_OPEN:4,ON_STREAM_CLOSE:5,ON_STREAM_DATA:6,ON_STREAM_ERROR:7,ON_PEER:8,CONNECT:9};var hF=dF.SwarmEvent={buffer:!0,encodingLength:null,encode:null,decode:null};cut();function cut(){var e=[M2.enum,M2.bytes,M2.string,M2.int32];hF.encodingLength=t,hF.encode=r,hF.decode=n;function t(i){var s=0;if(!Vl(i.type))throw new Error("type is required");var o=e[0].encodingLength(i.type);if(s+=1+o,Vl(i.topic)){var o=e[1].encodingLength(i.topic);s+=1+o}if(Vl(i.data)){var o=e[1].encodingLength(i.data);s+=1+o}if(Vl(i.peer)){var o=e[2].encodingLength(i.peer);s+=1+o}if(Vl(i.stream)){var o=e[3].encodingLength(i.stream);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!Vl(i.type))throw new Error("type is required");return s[o++]=8,e[0].encode(i.type,s,o),o+=e[0].encode.bytes,Vl(i.topic)&&(s[o++]=18,e[1].encode(i.topic,s,o),o+=e[1].encode.bytes),Vl(i.data)&&(s[o++]=26,e[1].encode(i.data,s,o),o+=e[1].encode.bytes),Vl(i.peer)&&(s[o++]=34,e[2].encode(i.peer,s,o),o+=e[2].encode.bytes),Vl(i.stream)&&(s[o++]=40,e[3].encode(i.stream,s,o),o+=e[3].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={type:1,topic:null,data:null,peer:"",stream:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Bye.decode(i,s);s+=Bye.decode.bytes;var p=h>>3;switch(p){case 1:l.type=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.topic=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 3:l.data=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:l.peer=e[2].decode(i,s),s+=e[2].decode.bytes;break;case 5:l.stream=e[3].decode(i,s),s+=e[3].decode.bytes;break;default:s=out(h&7,i,s)}}}a(n,"decode")}a(cut,"defineSwarmEvent");function Vl(e){return e!=null&&(typeof e!="number"||!isNaN(e))}a(Vl,"defined")});var Dye=j((P1r,Lye)=>{d();var uut=S_().Duplex;Lye.exports=a(class extends uut{constructor(t,r){super({emitClose:!0}),this._secretId=Math.random(),this._id=r,this._protocol=t,this._isClosed=!1,this._handle_data=this._handleData.bind(this),this._handle_close=this._handleClose.bind(this),this._handle_error=this._handleError.bind(this),this._protocol.on("on_stream_data",this._handle_data),this._protocol.on("on_stream_close",this._handle_close),this._protocol.on("on_stream_error",this._handle_error),this._protocol.once("end",()=>this._cleanup())}_handleData({stream:t,data:r}){this._isId(t)&&this.push(r)}_handleClose({stream:t}){this._isId(t)&&(this.destroy(),this._cleanup())}_handleError({stream:t,data:r}){if(this._isId(t)){let n=r.toString("utf8");this.emit("error",new Error(n)),this.destroy(),this._cleanup()}}_cleanup(){this._isClosed=!0,this._protocol.removeListener("on_stream_data",this._handle_data),this._protocol.removeListener("on_stream_close",this._handle_close),this._protocol.removeListener("on_stream_error",this._handle_error)}_isId(t){return t===this._id}_read(){}_write(t,r,n){this._protocol.onStreamData(this._id,t),n()}_final(t){this._isClosed||(this._protocol.onStreamClose(this._id),this._cleanup()),t()}},"ProxyStream")});var Fye=j((H1r,Pye)=>{d();var lut=S_().Duplex,Nye=mye(),{SwarmEvent:Oye,EventType:pF}=Rye(),qye=Dye(),fut=oP();Pye.exports=a(class extends lut{constructor(t){super({emitClose:!0}),this.connections=new Set,this.setMaxListeners(256),fut(t,Nye.decode(),this,Nye.encode(),t,()=>{this._closeAllStreams()}),this.on("on_stream_open",this._handleStreamOpen.bind(this))}ready(){this.sendMessage("READY")}join(t){this.sendMessage("JOIN",{topic:t})}leave(t){this.sendMessage("LEAVE",{topic:t})}onPeer(t,r){this.sendMessage("ON_PEER",{topic:t,peer:r})}onUpdated(t){this.sendMessage("ON_UPDATED",{topic:t})}connect(t){this.sendMessage("CONNECT",{peer:t})}onStreamOpen(t,r,n){this.sendMessage("ON_STREAM_OPEN",{topic:t,peer:r,stream:n})}onStreamData(t,r){typeof r=="string"&&(r=b.Buffer.from(r,"utf8")),this.sendMessage("ON_STREAM_DATA",{stream:t,data:r})}onStreamClose(t){this.sendMessage("ON_STREAM_CLOSE",{stream:t})}onStreamError(t,r,n){let i=b.Buffer.from(r,"utf8");this.sendMessage("ON_STREAM_ERROR",{stream:t,data:i})}openStream(t,r,n){let i=new qye(this,n);return this._addStream(i),this.onStreamOpen(t,r,n),i}_closeAllStreams(){for(let t of this.connections)t.end()}_addStream(t){this.connections.add(t),t.once("close",()=>{this.connections.delete(t)})}_handleStreamOpen({topic:t,peer:r,stream:n}){let i=new qye(this,n);this._addStream(i),this.emit("stream",i,{topic:t,peer:r})}sendMessage(t,r={}){this.push(Oye.encode({type:pF[t],...r}))}_write(t,r,n){try{let i=Oye.decode(t),{type:s}=i;for(let o of Object.keys(pF))pF[o]===s&&this.emit(o.toLowerCase(),i);n()}catch(i){n(i)}}_read(){}},"HyperswarmProxyStream")});var Hye=j((V1r,Yye)=>{d();var hut=ea(),dut=Fye(),gF="Not connected to proxy";Yye.exports=a(class extends hut{constructor(t={}){super();let{connection:r,autoconnect:n=!0,maxPeers:i=24}=t;this.maxPeers=i,this._handleStream=this._handleStream.bind(this),this._handleClose=this._handleClose.bind(this),this._handlePeer=this._handlePeer.bind(this),this._handleError=this._handleError.bind(this),this._handleUpdated=this._handleUpdated.bind(this),this._reJoin=this._reJoin.bind(this),this._protocol=null,this._connection=null,this._topics=[],this._connectedPeers=new Set,this._seenPeers=[],this._autoconnect=n,this.destroyed=!1,r&&this.reconnect(r)}disconnect(){!this._protocol||(this._protocol.removeListener("close",this._handleClose),this._connection.end(),this._protocol.end(),this._connection=null,this._protocol=null)}reconnect(t){this.disconnect(),this._connection=t,this._protocol=new dut(t),this._protocol.on("stream",this._handleStream),this._protocol.on("on_peer",this._handlePeer),this._protocol.once("close",this._handleClose),this._protocol.on("error",this._handleError),this._protocol.on("on_updated",this._handleUpdated),this._protocol.once("ready",this._reJoin),this._protocol.ready()}_handleStream(t,{topic:r,peer:n}){if(this.destroyed){t.end();return}let i=new tk(n,r);this._connectedPeers.add(n),this.emit("connection",t,i),t.once("close",()=>{this.destroyed||(this.emit("disconnection",t,i),this._connectedPeers.delete(n))})}_handleClose(){this._protocol=null,this.emit("disconnected")}_handleError(t){this.emit("error",t)}_handlePeer({topic:t,peer:r}){let n={host:r,port:0,local:!1,topic:t};this.emit("peer",n);let i=this._connectedPeers.has(r),s=this._connectedPeers.size>=this.maxPeers;this._autoconnect&&!i&&!s?this.connect(n):this._seenPeers.find(u=>u.peer===r)||this._seenPeers.push(n)}_handleUpdated({topic:t}){this.emit("updated",{key:t})}_reJoin(){for(let t of this._topics)this.join(t)}get connections(){return this._protocol?this._protocol.connections:new Set}join(t){if(!this._protocol)throw new Error(gF);this._protocol.join(t),this._topics.some(n=>n.equals(t))||this._topics.push(t)}leave(t){if(!this._protocol)throw new Error(gF);this._protocol.leave(t),this._topics=this._topics.filter(r=>!r.equals(t)),this._seenPeers=this._seenPeers.filter(({topic:r})=>!r.equals(t))}connect(t,r=Uye){if(!this._protocol)return setTimeout(()=>r(new Error(gF)),0);let n=t.host,i=a((s,o)=>{o.peer.host===n&&(r(null,s,o),this.removeListener("connection",i))},"listenStreams");r&&this.on("connection",i),this._protocol.connect(n)}flush(t=Uye){t&&_.default.nextTick(t)}status(){return{lookup:!0,announce:!1}}destroy(t){this.destroyed=!0,this.disconnect(),this._topics=null,this._connectedPeers=null,this._seenPeers=null,t&&_.default.nextTick(t)}},"HyperswarmProxyClient");function Uye(){}a(Uye,"noop");var tk=class{constructor(t,r){this.type="proxy",this.client=!0,this.peer={host:t,port:0,local:!1,topic:r}}deduplicate(){return!1}};a(tk,"Details")});var rc=j((K1r,yF)=>{"use strict";d();typeof _.default>"u"||!_.default.version||_.default.version.indexOf("v0.")===0||_.default.version.indexOf("v1.")===0&&_.default.version.indexOf("v1.8.")!==0?yF.exports={nextTick:put}:yF.exports=_.default;function put(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return _.default.nextTick(e);case 2:return _.default.nextTick(a(function(){e.call(null,t)},"afterTickOne"));case 3:return _.default.nextTick(a(function(){e.call(null,t,r)},"afterTickTwo"));case 4:return _.default.nextTick(a(function(){e.call(null,t,r,n)},"afterTickThree"));default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return _.default.nextTick(a(function(){e.apply(null,s)},"afterTick"))}}a(put,"nextTick")});var Qye=j((J1r,zye)=>{d();var gut={}.toString;zye.exports=Array.isArray||function(e){return gut.call(e)=="[object Array]"}});var mF=j((egr,Wye)=>{d();Wye.exports=ea().EventEmitter});var nk=j((bF,jye)=>{d();var rk=Ei(),vh=rk.Buffer;function Vye(e,t){for(var r in e)t[r]=e[r]}a(Vye,"copyProps");vh.from&&vh.alloc&&vh.allocUnsafe&&vh.allocUnsafeSlow?jye.exports=rk:(Vye(rk,bF),bF.Buffer=B2);function B2(e,t,r){return vh(e,t,r)}a(B2,"SafeBuffer");Vye(vh,B2);B2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return vh(e,t,r)};B2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=vh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};B2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return vh(e)};B2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return rk.SlowBuffer(e)}});var Rs=j(Bs=>{d();function yut(e){return Array.isArray?Array.isArray(e):ik(e)==="[object Array]"}a(yut,"isArray");Bs.isArray=yut;function mut(e){return typeof e=="boolean"}a(mut,"isBoolean");Bs.isBoolean=mut;function but(e){return e===null}a(but,"isNull");Bs.isNull=but;function vut(e){return e==null}a(vut,"isNullOrUndefined");Bs.isNullOrUndefined=vut;function _ut(e){return typeof e=="number"}a(_ut,"isNumber");Bs.isNumber=_ut;function xut(e){return typeof e=="string"}a(xut,"isString");Bs.isString=xut;function wut(e){return typeof e=="symbol"}a(wut,"isSymbol");Bs.isSymbol=wut;function Aut(e){return e===void 0}a(Aut,"isUndefined");Bs.isUndefined=Aut;function Eut(e){return ik(e)==="[object RegExp]"}a(Eut,"isRegExp");Bs.isRegExp=Eut;function Sut(e){return typeof e=="object"&&e!==null}a(Sut,"isObject");Bs.isObject=Sut;function kut(e){return ik(e)==="[object Date]"}a(kut,"isDate");Bs.isDate=kut;function Cut(e){return ik(e)==="[object Error]"||e instanceof Error}a(Cut,"isError");Bs.isError=Cut;function Iut(e){return typeof e=="function"}a(Iut,"isFunction");Bs.isFunction=Iut;function Tut(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(Tut,"isPrimitive");Bs.isPrimitive=Tut;Bs.isBuffer=Ei().Buffer.isBuffer;function ik(e){return Object.prototype.toString.call(e)}a(ik,"objectToString")});var Kye=j((ogr,vF)=>{"use strict";d();function Mut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(Mut,"_classCallCheck");var Gye=nk().Buffer,Fw=Bf();function But(e,t,r){e.copy(t,r)}a(But,"copyBuffer");vF.exports=function(){function e(){Mut(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return Gye.alloc(0);if(this.length===1)return this.head.data;for(var n=Gye.allocUnsafe(r>>>0),i=this.head,s=0;i;)But(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();Fw&&Fw.inspect&&Fw.inspect.custom&&(vF.exports.prototype[Fw.inspect.custom]=function(){var e=Fw.inspect({length:this.length});return this.constructor.name+" "+e})});var _F=j((lgr,Jye)=>{"use strict";d();var $ye=rc();function Rut(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&$ye.nextTick(Xye,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?($ye.nextTick(Xye,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(Rut,"destroy");function Lut(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Lut,"undestroy");function Xye(e,t){e.emit("error",t)}a(Xye,"emitErrorNT");Jye.exports={destroy:Rut,undestroy:Lut}});var wF=j((dgr,sme)=>{"use strict";d();var K1=rc();sme.exports=ya;function eme(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Xut(t,e)}}a(eme,"CorkedRequest");var Dut=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:K1.nextTick,R2;ya.WritableState=Yw;var tme=Object.create(Rs());tme.inherits=kr();var Nut={deprecate:a_()},rme=mF(),sk=nk().Buffer,Out=w.Uint8Array||function(){};function qut(e){return sk.from(e)}a(qut,"_uint8ArrayToBuffer");function Put(e){return sk.isBuffer(e)||e instanceof Out}a(Put,"_isUint8Array");var nme=_F();tme.inherits(ya,rme);function Fut(){}a(Fut,"nop");function Yw(e,t){R2=R2||$1(),e=e||{};var r=t instanceof R2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){Vut(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new eme(this)}a(Yw,"WritableState");Yw.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(Yw.prototype,"buffer",{get:Nut.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ak;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ak=Function.prototype[Symbol.hasInstance],Object.defineProperty(ya,Symbol.hasInstance,{value:function(e){return ak.call(this,e)?!0:this!==ya?!1:e&&e._writableState instanceof Yw}})):ak=a(function(e){return e instanceof this},"realHasInstance");function ya(e){if(R2=R2||$1(),!ak.call(ya,this)&&!(this instanceof R2))return new ya(e);this._writableState=new Yw(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),rme.call(this)}a(ya,"Writable");ya.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Uut(e,t){var r=new Error("write after end");e.emit("error",r),K1.nextTick(t,r)}a(Uut,"writeAfterEnd");function Yut(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),K1.nextTick(n,s),i=!1),i}a(Yut,"validChunk");ya.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&Put(e);return s&&!sk.isBuffer(e)&&(e=qut(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Fut),n.ended?Uut(this,r):(s||Yut(this,n,e,r))&&(n.pendingcb++,i=zut(this,n,s,e,t,r)),i};ya.prototype.cork=function(){var e=this._writableState;e.corked++};ya.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&ime(this,e))};ya.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Hut(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=sk.from(t,r)),t}a(Hut,"decodeChunk");Object.defineProperty(ya.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function zut(e,t,r,n,i,s){if(!r){var o=Hut(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else xF(e,t,!1,u,n,i,s);return l}a(zut,"writeOrBuffer");function xF(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(xF,"doWrite");function Qut(e,t,r,n,i){--t.pendingcb,r?(K1.nextTick(i,n),K1.nextTick(Uw,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Uw(e,t))}a(Qut,"onwriteError");function Wut(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(Wut,"onwriteStateUpdate");function Vut(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Wut(r),t)Qut(e,r,n,t,i);else{var s=ame(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ime(e,r),n?Dut(Zye,e,r,s,i):Zye(e,r,s,i)}}a(Vut,"onwrite");function Zye(e,t,r,n){r||jut(e,t),t.pendingcb--,n(),Uw(e,t)}a(Zye,"afterWrite");function jut(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(jut,"onwriteDrain");function ime(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,xF(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new eme(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:l.length;if(xF(e,t,!1,p,l,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(ime,"clearBuffer");ya.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ya.prototype._writev=null;ya.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&$ut(this,n,r)};function ame(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(ame,"needFinish");function Gut(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Uw(e,t)})}a(Gut,"callFinal");function Kut(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,K1.nextTick(Gut,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Kut,"prefinish");function Uw(e,t){var r=ame(t);return r&&(Kut(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(Uw,"finishMaybe");function $ut(e,t,r){t.ending=!0,Uw(e,t),r&&(t.finished?K1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a($ut,"endWritable");function Xut(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(Xut,"onCorkedFinish");Object.defineProperty(ya.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ya.prototype.destroy=nme.destroy;ya.prototype._undestroy=nme.undestroy;ya.prototype._destroy=function(e,t){this.end(),t(e)}});var $1=j((ygr,lme)=>{"use strict";d();var ome=rc(),Jut=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};lme.exports=_h;var cme=Object.create(Rs());cme.inherits=kr();var ume=SF(),EF=wF();cme.inherits(_h,ume);for(AF=Jut(EF.prototype),ok=0;ok<AF.length;ok++)ck=AF[ok],_h.prototype[ck]||(_h.prototype[ck]=EF.prototype[ck]);var AF,ck,ok;function _h(e){if(!(this instanceof _h))return new _h(e);ume.call(this,e),EF.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Zut)}a(_h,"Duplex");Object.defineProperty(_h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Zut(){this.allowHalfOpen||this._writableState.ended||ome.nextTick(elt,this)}a(Zut,"onend");function elt(e){e.end()}a(elt,"onEndNT");Object.defineProperty(_h.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});_h.prototype._destroy=function(e,t){this.push(null),this.end(),ome.nextTick(t,e)}});var dme=j((kF,hme)=>{d();var uk=Ei(),xh=uk.Buffer;function fme(e,t){for(var r in e)t[r]=e[r]}a(fme,"copyProps");xh.from&&xh.alloc&&xh.allocUnsafe&&xh.allocUnsafeSlow?hme.exports=uk:(fme(uk,kF),kF.Buffer=L2);function L2(e,t,r){return xh(e,t,r)}a(L2,"SafeBuffer");fme(xh,L2);L2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return xh(e,t,r)};L2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=xh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};L2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return xh(e)};L2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return uk.SlowBuffer(e)}});var TF=j(gme=>{"use strict";d();var IF=dme().Buffer,pme=IF.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tlt(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(tlt,"_normalizeEncoding");function rlt(e){var t=tlt(e);if(typeof t!="string"&&(IF.isEncoding===pme||!pme(e)))throw new Error("Unknown encoding: "+e);return t||e}a(rlt,"normalizeEncoding");gme.StringDecoder=Hw;function Hw(e){this.encoding=rlt(e);var t;switch(this.encoding){case"utf16le":this.text=clt,this.end=ult,t=4;break;case"utf8":this.fillLast=alt,t=4;break;case"base64":this.text=llt,this.end=flt,t=3;break;default:this.write=hlt,this.end=dlt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=IF.allocUnsafe(t)}a(Hw,"StringDecoder");Hw.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Hw.prototype.end=olt;Hw.prototype.text=slt;Hw.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function CF(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(CF,"utf8CheckByte");function nlt(e,t,r){var n=t.length-1;if(n<r)return 0;var i=CF(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=CF(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=CF(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(nlt,"utf8CheckIncomplete");function ilt(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(ilt,"utf8CheckExtraBytes");function alt(e){var t=this.lastTotal-this.lastNeed,r=ilt(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(alt,"utf8FillLast");function slt(e,t){var r=nlt(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(slt,"utf8Text");function olt(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(olt,"utf8End");function clt(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(clt,"utf16Text");function ult(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(ult,"utf16End");function llt(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(llt,"base64Text");function flt(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(flt,"base64End");function hlt(e){return e.toString(this.encoding)}a(hlt,"simpleWrite");function dlt(e){return e&&e.length?this.write(e):""}a(dlt,"simpleEnd")});var SF=j((Sgr,Cme)=>{"use strict";d();var N2=rc();Cme.exports=ki;var plt=Qye(),zw;ki.ReadableState=wme;var Egr=ea().EventEmitter,vme=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),DF=mF(),Qw=nk().Buffer,glt=w.Uint8Array||function(){};function ylt(e){return Qw.from(e)}a(ylt,"_uint8ArrayToBuffer");function mlt(e){return Qw.isBuffer(e)||e instanceof glt}a(mlt,"_isUint8Array");var _me=Object.create(Rs());_me.inherits=kr();var MF=Bf(),Gn=void 0;MF&&MF.debuglog?Gn=MF.debuglog("stream"):Gn=a(function(){},"debug");var blt=Kye(),xme=_F(),D2;_me.inherits(ki,DF);var BF=["error","close","destroy","pause","resume"];function vlt(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):plt(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(vlt,"prependListener");function wme(e,t){zw=zw||$1(),e=e||{};var r=t instanceof zw;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new blt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(D2||(D2=TF().StringDecoder),this.decoder=new D2(e.encoding),this.encoding=e.encoding)}a(wme,"ReadableState");function ki(e){if(zw=zw||$1(),!(this instanceof ki))return new ki(e);this._readableState=new wme(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),DF.call(this)}a(ki,"Readable");Object.defineProperty(ki.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ki.prototype.destroy=xme.destroy;ki.prototype._undestroy=xme.undestroy;ki.prototype._destroy=function(e,t){this.push(null),t(e)};ki.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Qw.from(e,t),t=""),n=!0),Ame(this,e,t,!1,n)};ki.prototype.unshift=function(e){return Ame(this,e,null,!0,!1)};function Ame(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,Alt(e,s);else{var o;i||(o=_lt(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==Qw.prototype&&(t=ylt(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):RF(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?RF(e,s,t,!1):Eme(e,s)):RF(e,s,t,!1))):n||(s.reading=!1)}return xlt(s)}a(Ame,"readableAddChunk");function RF(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&lk(e)),Eme(e,t)}a(RF,"addChunk");function _lt(e,t){var r;return!mlt(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(_lt,"chunkInvalid");function xlt(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(xlt,"needMoreData");ki.prototype.isPaused=function(){return this._readableState.flowing===!1};ki.prototype.setEncoding=function(e){return D2||(D2=TF().StringDecoder),this._readableState.decoder=new D2(e),this._readableState.encoding=e,this};var yme=8388608;function wlt(e){return e>=yme?e=yme:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(wlt,"computeNewHighWaterMark");function mme(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=wlt(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(mme,"howMuchToRead");ki.prototype.read=function(e){Gn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Gn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?LF(this):lk(this),null;if(e=mme(e,t),e===0&&t.ended)return t.length===0&&LF(this),null;var n=t.needReadable;Gn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Gn("length less than watermark",n)),t.ended||t.reading?(n=!1,Gn("reading or ended",n)):n&&(Gn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=mme(r,t)));var i;return e>0?i=Sme(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&LF(this)),i!==null&&this.emit("data",i),i};function Alt(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,lk(e)}}a(Alt,"onEofChunk");function lk(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Gn("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?N2.nextTick(bme,e):bme(e))}a(lk,"emitReadable");function bme(e){Gn("emit readable"),e.emit("readable"),NF(e)}a(bme,"emitReadable_");function Eme(e,t){t.readingMore||(t.readingMore=!0,N2.nextTick(Elt,e,t))}a(Eme,"maybeReadMore");function Elt(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Gn("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(Elt,"maybeReadMore_");ki.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};ki.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Gn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?u:z;n.endEmitted?N2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){Gn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function u(){Gn("onend"),e.end()}a(u,"onend");var l=Slt(r);e.on("drain",l);var f=!1;function h(){Gn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){Gn("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&kme(n.pipes,e)!==-1)&&!f&&(Gn("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){Gn("onerror",P),z(),e.removeListener("error",y),vme(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),vlt(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){Gn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){Gn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||(Gn("pipe resume"),r.resume()),e};function Slt(e){return function(){var t=e._readableState;Gn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&vme(e,"data")&&(t.flowing=!0,NF(e))}}a(Slt,"pipeOnDrain");ki.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=kme(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};ki.prototype.on=function(e,t){var r=DF.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&lk(this):N2.nextTick(klt,this))}return r};ki.prototype.addListener=ki.prototype.on;function klt(e){Gn("readable nexttick read 0"),e.read(0)}a(klt,"nReadingNextTick");ki.prototype.resume=function(){var e=this._readableState;return e.flowing||(Gn("resume"),e.flowing=!0,Clt(this,e)),this};function Clt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,N2.nextTick(Ilt,e,t))}a(Clt,"resume");function Ilt(e,t){t.reading||(Gn("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),NF(e),t.flowing&&!t.reading&&e.read(0)}a(Ilt,"resume_");ki.prototype.pause=function(){return Gn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Gn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function NF(e){var t=e._readableState;for(Gn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(NF,"flow");ki.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Gn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Gn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=t.push(o);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<BF.length;s++)e.on(BF[s],this.emit.bind(this,BF[s]));return this._read=function(o){Gn("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(ki.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ki._fromList=Sme;function Sme(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Tlt(e,t.buffer,t.decoder),r}a(Sme,"fromList");function Tlt(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Mlt(e,t):Blt(e,t),n}a(Tlt,"fromListPartial");function Mlt(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(Mlt,"copyFromBufferString");function Blt(e,t){var r=Qw.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(Blt,"copyFromBuffer");function LF(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,N2.nextTick(Rlt,t,e))}a(LF,"endReadable");function Rlt(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(Rlt,"endReadableNT");function kme(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(kme,"indexOf")});var OF=j((Igr,Mme)=>{"use strict";d();Mme.exports=wh;var fk=$1(),Tme=Object.create(Rs());Tme.inherits=kr();Tme.inherits(wh,fk);function Llt(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(Llt,"afterTransform");function wh(e){if(!(this instanceof wh))return new wh(e);fk.call(this,e),this._transformState={afterTransform:Llt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Dlt)}a(wh,"Transform");function Dlt(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Ime(e,t,r)}):Ime(this,null,null)}a(Dlt,"prefinish");wh.prototype.push=function(e,t){return this._transformState.needTransform=!1,fk.prototype.push.call(this,e,t)};wh.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};wh.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};wh.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};wh.prototype._destroy=function(e,t){var r=this;fk.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Ime(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(Ime,"done")});var Dme=j((Bgr,Lme)=>{"use strict";d();Lme.exports=Ww;var Bme=OF(),Rme=Object.create(Rs());Rme.inherits=kr();Rme.inherits(Ww,Bme);function Ww(e){if(!(this instanceof Ww))return new Ww(e);Bme.call(this,e)}a(Ww,"PassThrough");Ww.prototype._transform=function(e,t,r){r(null,e)}});var Ome=j((jl,Nme)=>{d();jl=Nme.exports=SF();jl.Stream=jl;jl.Readable=jl;jl.Writable=wF();jl.Duplex=$1();jl.Transform=OF();jl.PassThrough=Dme()});var Pme=j((Ngr,qme)=>{d();var Nlt={}.toString;qme.exports=Array.isArray||function(e){return Nlt.call(e)=="[object Array]"}});var qF=j((qgr,Fme)=>{d();Fme.exports=ea().EventEmitter});var Vw=j((PF,Yme)=>{d();var hk=Ei(),Ah=hk.Buffer;function Ume(e,t){for(var r in e)t[r]=e[r]}a(Ume,"copyProps");Ah.from&&Ah.alloc&&Ah.allocUnsafe&&Ah.allocUnsafeSlow?Yme.exports=hk:(Ume(hk,PF),PF.Buffer=O2);function O2(e,t,r){return Ah(e,t,r)}a(O2,"SafeBuffer");Ume(Ah,O2);O2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ah(e,t,r)};O2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ah(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};O2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ah(e)};O2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hk.SlowBuffer(e)}});var zme=j((Ygr,FF)=>{"use strict";d();function Olt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(Olt,"_classCallCheck");var Hme=Vw().Buffer,jw=Bf();function qlt(e,t,r){e.copy(t,r)}a(qlt,"copyBuffer");FF.exports=function(){function e(){Olt(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return Hme.alloc(0);if(this.length===1)return this.head.data;for(var n=Hme.allocUnsafe(r>>>0),i=this.head,s=0;i;)qlt(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();jw&&jw.inspect&&jw.inspect.custom&&(FF.exports.prototype[jw.inspect.custom]=function(){var e=jw.inspect({length:this.length});return this.constructor.name+" "+e})});var UF=j((Qgr,Vme)=>{"use strict";d();var Qme=rc();function Plt(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Qme.nextTick(Wme,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?(Qme.nextTick(Wme,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(Plt,"destroy");function Flt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Flt,"undestroy");function Wme(e,t){e.emit("error",t)}a(Wme,"emitErrorNT");Vme.exports={destroy:Plt,undestroy:Flt}});var HF=j((jgr,e2e)=>{"use strict";d();var X1=rc();e2e.exports=ma;function Gme(e){var t=this;this.next=null,this.entry=null,this.finish=function(){nft(t,e)}}a(Gme,"CorkedRequest");var Ult=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:X1.nextTick,q2;ma.WritableState=Kw;var Kme=Object.create(Rs());Kme.inherits=kr();var Ylt={deprecate:a_()},$me=qF(),pk=Vw().Buffer,Hlt=w.Uint8Array||function(){};function zlt(e){return pk.from(e)}a(zlt,"_uint8ArrayToBuffer");function Qlt(e){return pk.isBuffer(e)||e instanceof Hlt}a(Qlt,"_isUint8Array");var Xme=UF();Kme.inherits(ma,$me);function Wlt(){}a(Wlt,"nop");function Kw(e,t){q2=q2||J1(),e=e||{};var r=t instanceof q2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){Jlt(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Gme(this)}a(Kw,"WritableState");Kw.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(Kw.prototype,"buffer",{get:Ylt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var dk;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(dk=Function.prototype[Symbol.hasInstance],Object.defineProperty(ma,Symbol.hasInstance,{value:function(e){return dk.call(this,e)?!0:this!==ma?!1:e&&e._writableState instanceof Kw}})):dk=a(function(e){return e instanceof this},"realHasInstance");function ma(e){if(q2=q2||J1(),!dk.call(ma,this)&&!(this instanceof q2))return new ma(e);this._writableState=new Kw(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),$me.call(this)}a(ma,"Writable");ma.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Vlt(e,t){var r=new Error("write after end");e.emit("error",r),X1.nextTick(t,r)}a(Vlt,"writeAfterEnd");function jlt(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),X1.nextTick(n,s),i=!1),i}a(jlt,"validChunk");ma.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&Qlt(e);return s&&!pk.isBuffer(e)&&(e=zlt(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Wlt),n.ended?Vlt(this,r):(s||jlt(this,n,e,r))&&(n.pendingcb++,i=Klt(this,n,s,e,t,r)),i};ma.prototype.cork=function(){var e=this._writableState;e.corked++};ma.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Jme(this,e))};ma.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Glt(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=pk.from(t,r)),t}a(Glt,"decodeChunk");Object.defineProperty(ma.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Klt(e,t,r,n,i,s){if(!r){var o=Glt(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else YF(e,t,!1,u,n,i,s);return l}a(Klt,"writeOrBuffer");function YF(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(YF,"doWrite");function $lt(e,t,r,n,i){--t.pendingcb,r?(X1.nextTick(i,n),X1.nextTick(Gw,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Gw(e,t))}a($lt,"onwriteError");function Xlt(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(Xlt,"onwriteStateUpdate");function Jlt(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Xlt(r),t)$lt(e,r,n,t,i);else{var s=Zme(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Jme(e,r),n?Ult(jme,e,r,s,i):jme(e,r,s,i)}}a(Jlt,"onwrite");function jme(e,t,r,n){r||Zlt(e,t),t.pendingcb--,n(),Gw(e,t)}a(jme,"afterWrite");function Zlt(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(Zlt,"onwriteDrain");function Jme(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,YF(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new Gme(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:l.length;if(YF(e,t,!1,p,l,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(Jme,"clearBuffer");ma.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ma.prototype._writev=null;ma.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&rft(this,n,r)};function Zme(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(Zme,"needFinish");function eft(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Gw(e,t)})}a(eft,"callFinal");function tft(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,X1.nextTick(eft,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(tft,"prefinish");function Gw(e,t){var r=Zme(t);return r&&(tft(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(Gw,"finishMaybe");function rft(e,t,r){t.ending=!0,Gw(e,t),r&&(t.finished?X1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(rft,"endWritable");function nft(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(nft,"onCorkedFinish");Object.defineProperty(ma.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ma.prototype.destroy=Xme.destroy;ma.prototype._undestroy=Xme.undestroy;ma.prototype._destroy=function(e,t){this.end(),t(e)}});var J1=j(($gr,i2e)=>{"use strict";d();var t2e=rc(),ift=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};i2e.exports=Eh;var r2e=Object.create(Rs());r2e.inherits=kr();var n2e=WF(),QF=HF();r2e.inherits(Eh,n2e);for(zF=ift(QF.prototype),gk=0;gk<zF.length;gk++)yk=zF[gk],Eh.prototype[yk]||(Eh.prototype[yk]=QF.prototype[yk]);var zF,yk,gk;function Eh(e){if(!(this instanceof Eh))return new Eh(e);n2e.call(this,e),QF.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",aft)}a(Eh,"Duplex");Object.defineProperty(Eh.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function aft(){this.allowHalfOpen||this._writableState.ended||t2e.nextTick(sft,this)}a(aft,"onend");function sft(e){e.end()}a(sft,"onEndNT");Object.defineProperty(Eh.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Eh.prototype._destroy=function(e,t){this.push(null),this.end(),t2e.nextTick(t,e)}});var GF=j(s2e=>{"use strict";d();var jF=Vw().Buffer,a2e=jF.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function oft(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(oft,"_normalizeEncoding");function cft(e){var t=oft(e);if(typeof t!="string"&&(jF.isEncoding===a2e||!a2e(e)))throw new Error("Unknown encoding: "+e);return t||e}a(cft,"normalizeEncoding");s2e.StringDecoder=$w;function $w(e){this.encoding=cft(e);var t;switch(this.encoding){case"utf16le":this.text=pft,this.end=gft,t=4;break;case"utf8":this.fillLast=fft,t=4;break;case"base64":this.text=yft,this.end=mft,t=3;break;default:this.write=bft,this.end=vft;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=jF.allocUnsafe(t)}a($w,"StringDecoder");$w.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};$w.prototype.end=dft;$w.prototype.text=hft;$w.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function VF(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(VF,"utf8CheckByte");function uft(e,t,r){var n=t.length-1;if(n<r)return 0;var i=VF(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=VF(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=VF(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(uft,"utf8CheckIncomplete");function lft(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(lft,"utf8CheckExtraBytes");function fft(e){var t=this.lastTotal-this.lastNeed,r=lft(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(fft,"utf8FillLast");function hft(e,t){var r=uft(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(hft,"utf8Text");function dft(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(dft,"utf8End");function pft(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(pft,"utf16Text");function gft(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(gft,"utf16End");function yft(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(yft,"base64Text");function mft(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(mft,"base64End");function bft(e){return e.toString(this.encoding)}a(bft,"simpleWrite");function vft(e){return e&&e.length?this.write(e):""}a(vft,"simpleEnd")});var WF=j((nyr,b2e)=>{"use strict";d();var F2=rc();b2e.exports=Ci;var _ft=Pme(),Xw;Ci.ReadableState=d2e;var ryr=ea().EventEmitter,l2e=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),ZF=qF(),Jw=Vw().Buffer,xft=w.Uint8Array||function(){};function wft(e){return Jw.from(e)}a(wft,"_uint8ArrayToBuffer");function Aft(e){return Jw.isBuffer(e)||e instanceof xft}a(Aft,"_isUint8Array");var f2e=Object.create(Rs());f2e.inherits=kr();var KF=Bf(),Kn=void 0;KF&&KF.debuglog?Kn=KF.debuglog("stream"):Kn=a(function(){},"debug");var Eft=zme(),h2e=UF(),P2;f2e.inherits(Ci,ZF);var $F=["error","close","destroy","pause","resume"];function Sft(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):_ft(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(Sft,"prependListener");function d2e(e,t){Xw=Xw||J1(),e=e||{};var r=t instanceof Xw;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Eft,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(P2||(P2=GF().StringDecoder),this.decoder=new P2(e.encoding),this.encoding=e.encoding)}a(d2e,"ReadableState");function Ci(e){if(Xw=Xw||J1(),!(this instanceof Ci))return new Ci(e);this._readableState=new d2e(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ZF.call(this)}a(Ci,"Readable");Object.defineProperty(Ci.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Ci.prototype.destroy=h2e.destroy;Ci.prototype._undestroy=h2e.undestroy;Ci.prototype._destroy=function(e,t){this.push(null),t(e)};Ci.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Jw.from(e,t),t=""),n=!0),p2e(this,e,t,!1,n)};Ci.prototype.unshift=function(e){return p2e(this,e,null,!0,!1)};function p2e(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,Tft(e,s);else{var o;i||(o=kft(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==Jw.prototype&&(t=wft(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):XF(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?XF(e,s,t,!1):g2e(e,s)):XF(e,s,t,!1))):n||(s.reading=!1)}return Cft(s)}a(p2e,"readableAddChunk");function XF(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&mk(e)),g2e(e,t)}a(XF,"addChunk");function kft(e,t){var r;return!Aft(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(kft,"chunkInvalid");function Cft(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(Cft,"needMoreData");Ci.prototype.isPaused=function(){return this._readableState.flowing===!1};Ci.prototype.setEncoding=function(e){return P2||(P2=GF().StringDecoder),this._readableState.decoder=new P2(e),this._readableState.encoding=e,this};var o2e=8388608;function Ift(e){return e>=o2e?e=o2e:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(Ift,"computeNewHighWaterMark");function c2e(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Ift(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(c2e,"howMuchToRead");Ci.prototype.read=function(e){Kn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Kn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?JF(this):mk(this),null;if(e=c2e(e,t),e===0&&t.ended)return t.length===0&&JF(this),null;var n=t.needReadable;Kn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Kn("length less than watermark",n)),t.ended||t.reading?(n=!1,Kn("reading or ended",n)):n&&(Kn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c2e(r,t)));var i;return e>0?i=y2e(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&JF(this)),i!==null&&this.emit("data",i),i};function Tft(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,mk(e)}}a(Tft,"onEofChunk");function mk(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Kn("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?F2.nextTick(u2e,e):u2e(e))}a(mk,"emitReadable");function u2e(e){Kn("emit readable"),e.emit("readable"),eU(e)}a(u2e,"emitReadable_");function g2e(e,t){t.readingMore||(t.readingMore=!0,F2.nextTick(Mft,e,t))}a(g2e,"maybeReadMore");function Mft(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Kn("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(Mft,"maybeReadMore_");Ci.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Ci.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Kn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?u:z;n.endEmitted?F2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){Kn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function u(){Kn("onend"),e.end()}a(u,"onend");var l=Bft(r);e.on("drain",l);var f=!1;function h(){Kn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){Kn("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&m2e(n.pipes,e)!==-1)&&!f&&(Kn("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){Kn("onerror",P),z(),e.removeListener("error",y),l2e(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),Sft(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){Kn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){Kn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||(Kn("pipe resume"),r.resume()),e};function Bft(e){return function(){var t=e._readableState;Kn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&l2e(e,"data")&&(t.flowing=!0,eU(e))}}a(Bft,"pipeOnDrain");Ci.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=m2e(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Ci.prototype.on=function(e,t){var r=ZF.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&mk(this):F2.nextTick(Rft,this))}return r};Ci.prototype.addListener=Ci.prototype.on;function Rft(e){Kn("readable nexttick read 0"),e.read(0)}a(Rft,"nReadingNextTick");Ci.prototype.resume=function(){var e=this._readableState;return e.flowing||(Kn("resume"),e.flowing=!0,Lft(this,e)),this};function Lft(e,t){t.resumeScheduled||(t.resumeScheduled=!0,F2.nextTick(Dft,e,t))}a(Lft,"resume");function Dft(e,t){t.reading||(Kn("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),eU(e),t.flowing&&!t.reading&&e.read(0)}a(Dft,"resume_");Ci.prototype.pause=function(){return Kn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Kn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function eU(e){var t=e._readableState;for(Kn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(eU,"flow");Ci.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Kn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Kn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=t.push(o);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<$F.length;s++)e.on($F[s],this.emit.bind(this,$F[s]));return this._read=function(o){Kn("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(Ci.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ci._fromList=y2e;function y2e(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Nft(e,t.buffer,t.decoder),r}a(y2e,"fromList");function Nft(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Oft(e,t):qft(e,t),n}a(Nft,"fromListPartial");function Oft(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(Oft,"copyFromBufferString");function qft(e,t){var r=Jw.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(qft,"copyFromBuffer");function JF(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,F2.nextTick(Pft,t,e))}a(JF,"endReadable");function Pft(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(Pft,"endReadableNT");function m2e(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(m2e,"indexOf")});var tU=j((syr,x2e)=>{"use strict";d();x2e.exports=Sh;var bk=J1(),_2e=Object.create(Rs());_2e.inherits=kr();_2e.inherits(Sh,bk);function Fft(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(Fft,"afterTransform");function Sh(e){if(!(this instanceof Sh))return new Sh(e);bk.call(this,e),this._transformState={afterTransform:Fft.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Uft)}a(Sh,"Transform");function Uft(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){v2e(e,t,r)}):v2e(this,null,null)}a(Uft,"prefinish");Sh.prototype.push=function(e,t){return this._transformState.needTransform=!1,bk.prototype.push.call(this,e,t)};Sh.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Sh.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Sh.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Sh.prototype._destroy=function(e,t){var r=this;bk.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function v2e(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(v2e,"done")});var S2e=j((uyr,E2e)=>{"use strict";d();E2e.exports=Zw;var w2e=tU(),A2e=Object.create(Rs());A2e.inherits=kr();A2e.inherits(Zw,w2e);function Zw(e){if(!(this instanceof Zw))return new Zw(e);w2e.call(this,e)}a(Zw,"PassThrough");Zw.prototype._transform=function(e,t,r){r(null,e)}});var C2e=j((Gl,k2e)=>{d();Gl=k2e.exports=WF();Gl.Stream=Gl;Gl.Readable=Gl;Gl.Writable=HF();Gl.Duplex=J1();Gl.Transform=tU();Gl.PassThrough=S2e()});var T2e=j((dyr,I2e)=>{d();I2e.exports=Yft;function Yft(e){var t=e._readableState;return t?t.objectMode||typeof e._duplexState=="number"?e.read():e.read(Hft(t)):null}a(Yft,"shift");function Hft(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}a(Hft,"getStateLength")});var D2e=j((yyr,L2e)=>{d();var vk=C2e(),M2e=g2(),zft=kr(),Qft=T2e(),B2e=b.Buffer.from&&b.Buffer.from!==Uint8Array.from?b.Buffer.from([0]):new b.Buffer([0]),rU=a(function(e,t){e._corked?e.once("uncork",t):t()},"onuncork"),Wft=a(function(e,t){e._autoDestroy&&e.destroy(t)},"autoDestroy"),R2e=a(function(e,t){return function(r){r?Wft(e,r.message==="premature close"?null:r):t&&!e._ended&&e.end()}},"destroyer"),Vft=a(function(e,t){if(!e||e._writableState&&e._writableState.finished)return t();if(e._writableState)return e.end(t);e.end(),t()},"end"),jft=a(function(e){return new vk.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},"toStreams2"),fs=a(function(e,t,r){if(!(this instanceof fs))return new fs(e,t,r);vk.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)},"Duplexify");zft(fs,vk.Duplex);fs.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new fs(e,t,r)};fs.prototype.cork=function(){++this._corked===1&&this.emit("cork")};fs.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};fs.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed){e&&e.destroy&&e.destroy();return}if(e===null||e===!1){this.end();return}var t=this,r=M2e(e,{writable:!0,readable:!1},R2e(this,this._forwardEnd)),n=a(function(){var s=t._ondrain;t._ondrain=null,s&&s()},"ondrain"),i=a(function(){t._writable.removeListener("drain",n),r()},"clear");this._unwrite&&_.default.nextTick(n),this._writable=e,this._writable.on("drain",n),this._unwrite=i,this.uncork()};fs.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed){e&&e.destroy&&e.destroy();return}if(e===null||e===!1){this.push(null),this.resume();return}var t=this,r=M2e(e,{writable:!1,readable:!0},R2e(this)),n=a(function(){t._forward()},"onreadable"),i=a(function(){t.push(null)},"onend"),s=a(function(){t._readable2.removeListener("readable",n),t._readable2.removeListener("end",i),r()},"clear");this._drained=!0,this._readable=e,this._readable2=e._readableState?e:jft(e),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=s,this._forward()};fs.prototype._read=function(){this._drained=!0,this._forward()};fs.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var e;this._drained&&(e=Qft(this._readable2))!==null;)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}};fs.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;_.default.nextTick(function(){t._destroy(e)})}};fs.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};fs.prototype._write=function(e,t,r){if(this.destroyed)return r();if(this._corked)return rU(this,this._write.bind(this,e,t,r));if(e===B2e)return this._finish(r);if(!this._writable)return r();this._writable.write(e)===!1?this._ondrain=r:r()};fs.prototype._finish=function(e){var t=this;this.emit("preend"),rU(this,function(){Vft(t._forwardEnd&&t._writable,function(){t._writableState.prefinished===!1&&(t._writableState.prefinished=!0),t.emit("prefinish"),rU(t,e)})})};fs.prototype.end=function(e,t,r){return typeof e=="function"?this.end(null,null,e):typeof t=="function"?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(B2e),vk.Writable.prototype.end.call(this,r))};L2e.exports=fs});var O2e=j((vyr,N2e)=>{d();var _k=null;typeof WebSocket<"u"?_k=WebSocket:typeof MozWebSocket<"u"?_k=MozWebSocket:typeof window<"u"&&(_k=window.WebSocket||window.MozWebSocket);N2e.exports=_k});var F2e=j((xyr,P2e)=>{"use strict";d();var Gft=Ome().Transform,Kft=D2e(),q2e=O2e(),U2=nn().Buffer;P2e.exports=Xft;function $ft(e,t,r){var n=new Gft({objectMode:e.objectMode});return n._write=t,n._flush=r,n}a($ft,"buildProxy");function Xft(e,t,r){var n,i,s=_.default.title==="browser",o=!!w.WebSocket,u=s?E:y;t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=null,(typeof r.protocol=="string"||Array.isArray(r.protocol))&&(t=r.protocol)),r||(r={}),r.objectMode===void 0&&(r.objectMode=!(r.binary===!0||r.binary===void 0));var l=$ft(r,u,M);r.objectMode||(l._writev=F);var f=r.browserBufferSize||1024*512,h=r.browserBufferTimeout||1e3;typeof e=="object"?i=e:(o&&s?i=new q2e(e,t):i=new q2e(e,t,r),i.binaryType="arraybuffer");var p=typeof i.addEventListener>"u";i.readyState===i.OPEN?n=l:(n=n=Kft(void 0,void 0,r),r.objectMode||(n._writev=F),p?i.addEventListener("open",z):i.onopen=z),n.socket=i,p?(i.addEventListener("close",P),i.addEventListener("error",Q),i.addEventListener("message",V)):(i.onclose=P,i.onerror=Q,i.onmessage=V),l.on("close",W);var g=!r.objectMode;function y(B,S,T){if(i.readyState!==i.OPEN){T();return}g&&typeof B=="string"&&(B=U2.from(B,"utf8")),i.send(B,T)}a(y,"socketWriteNode");function E(B,S,T){if(i.bufferedAmount>f){setTimeout(E,h,B,S,T);return}g&&typeof B=="string"&&(B=U2.from(B,"utf8"));try{i.send(B)}catch(k){return T(k)}T()}a(E,"socketWriteBrowser");function M(B){i.close(),B()}a(M,"socketEnd");function z(){n.setReadable(l),n.setWritable(l),n.emit("connect")}a(z,"onopen");function P(){n.end(),n.destroy()}a(P,"onclose");function Q(B){n.destroy(B)}a(Q,"onerror");function V(B){var S=B.data;S instanceof ArrayBuffer?S=U2.from(S):S=U2.from(S,"utf8"),l.push(S)}a(V,"onmessage");function W(){i.close()}a(W,"destroy");function F(B,S){for(var T=new Array(B.length),k=0;k<B.length;k++)typeof B[k].chunk=="string"?T[k]=U2.from(B[k],"utf8"):T[k]=B[k].chunk;this._write(U2.concat(T),"binary",S)}return a(F,"writev"),n}a(Xft,"WebSocketStream")});var z2e=j((Eyr,H2e)=>{d();var Jft=Hye(),U2e=F2e(),Zft="4977",Y2e=`ws://localhost:${Zft}`,eht=[Y2e],tht=1e3,xk=class extends Jft{constructor(t={}){super(t);let{proxy:r=eht,reconnectDelay:n=tht}=t;this.reconnectDelay=n,this.proxy=null,this._urls=typeof r=="string"?[r]:r,this._urlIndex=0,this.reconnect()}reconnect(){this._nextUrl();let t=U2e(Y2e);t.on("error",r=>this.emit("connection-error",r)),t.once("error",()=>{let r=U2e(this.proxy);r.on("error",n=>this.emit("connection-error",n)),r.once("close",()=>{setTimeout(()=>{this.destroyed||this.reconnect()},this.reconnectDelay)}),super.reconnect(r)}),super.reconnect(t)}_nextUrl(){return this.proxy=this._urls[this._urlIndex++%this._urls.length],this.proxy}};a(xk,"HyperswarmProxyWSClient");H2e.exports=xk});var W2e=j((Cyr,Q2e)=>{d();var rht={}.toString;Q2e.exports=Array.isArray||function(e){return rht.call(e)=="[object Array]"}});var nU=j((Tyr,V2e)=>{d();V2e.exports=ea().EventEmitter});var e3=j((iU,G2e)=>{d();var wk=Ei(),kh=wk.Buffer;function j2e(e,t){for(var r in e)t[r]=e[r]}a(j2e,"copyProps");kh.from&&kh.alloc&&kh.allocUnsafe&&kh.allocUnsafeSlow?G2e.exports=wk:(j2e(wk,iU),iU.Buffer=Y2);function Y2(e,t,r){return kh(e,t,r)}a(Y2,"SafeBuffer");j2e(kh,Y2);Y2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return kh(e,t,r)};Y2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=kh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Y2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return kh(e)};Y2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return wk.SlowBuffer(e)}});var $2e=j((Lyr,aU)=>{"use strict";d();function nht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(nht,"_classCallCheck");var K2e=e3().Buffer,t3=Bf();function iht(e,t,r){e.copy(t,r)}a(iht,"copyBuffer");aU.exports=function(){function e(){nht(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return K2e.alloc(0);if(this.length===1)return this.head.data;for(var n=K2e.allocUnsafe(r>>>0),i=this.head,s=0;i;)iht(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();t3&&t3.inspect&&t3.inspect.custom&&(aU.exports.prototype[t3.inspect.custom]=function(){var e=t3.inspect({length:this.length});return this.constructor.name+" "+e})});var sU=j((Oyr,Z2e)=>{"use strict";d();var X2e=rc();function aht(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&X2e.nextTick(J2e,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?(X2e.nextTick(J2e,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(aht,"destroy");function sht(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(sht,"undestroy");function J2e(e,t){e.emit("error",t)}a(J2e,"emitErrorNT");Z2e.exports={destroy:aht,undestroy:sht}});var cU=j((Fyr,obe)=>{"use strict";d();var Z1=rc();obe.exports=ba;function tbe(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Eht(t,e)}}a(tbe,"CorkedRequest");var oht=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:Z1.nextTick,H2;ba.WritableState=n3;var rbe=Object.create(Rs());rbe.inherits=kr();var cht={deprecate:a_()},nbe=nU(),Ek=e3().Buffer,uht=w.Uint8Array||function(){};function lht(e){return Ek.from(e)}a(lht,"_uint8ArrayToBuffer");function fht(e){return Ek.isBuffer(e)||e instanceof uht}a(fht,"_isUint8Array");var ibe=sU();rbe.inherits(ba,nbe);function hht(){}a(hht,"nop");function n3(e,t){H2=H2||eg(),e=e||{};var r=t instanceof H2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){vht(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new tbe(this)}a(n3,"WritableState");n3.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(n3.prototype,"buffer",{get:cht.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ak;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ak=Function.prototype[Symbol.hasInstance],Object.defineProperty(ba,Symbol.hasInstance,{value:function(e){return Ak.call(this,e)?!0:this!==ba?!1:e&&e._writableState instanceof n3}})):Ak=a(function(e){return e instanceof this},"realHasInstance");function ba(e){if(H2=H2||eg(),!Ak.call(ba,this)&&!(this instanceof H2))return new ba(e);this._writableState=new n3(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),nbe.call(this)}a(ba,"Writable");ba.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function dht(e,t){var r=new Error("write after end");e.emit("error",r),Z1.nextTick(t,r)}a(dht,"writeAfterEnd");function pht(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),Z1.nextTick(n,s),i=!1),i}a(pht,"validChunk");ba.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&fht(e);return s&&!Ek.isBuffer(e)&&(e=lht(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=hht),n.ended?dht(this,r):(s||pht(this,n,e,r))&&(n.pendingcb++,i=yht(this,n,s,e,t,r)),i};ba.prototype.cork=function(){var e=this._writableState;e.corked++};ba.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&abe(this,e))};ba.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function ght(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Ek.from(t,r)),t}a(ght,"decodeChunk");Object.defineProperty(ba.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function yht(e,t,r,n,i,s){if(!r){var o=ght(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else oU(e,t,!1,u,n,i,s);return l}a(yht,"writeOrBuffer");function oU(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(oU,"doWrite");function mht(e,t,r,n,i){--t.pendingcb,r?(Z1.nextTick(i,n),Z1.nextTick(r3,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),r3(e,t))}a(mht,"onwriteError");function bht(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(bht,"onwriteStateUpdate");function vht(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(bht(r),t)mht(e,r,n,t,i);else{var s=sbe(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&abe(e,r),n?oht(ebe,e,r,s,i):ebe(e,r,s,i)}}a(vht,"onwrite");function ebe(e,t,r,n){r||_ht(e,t),t.pendingcb--,n(),r3(e,t)}a(ebe,"afterWrite");function _ht(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(_ht,"onwriteDrain");function abe(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,oU(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new tbe(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:l.length;if(oU(e,t,!1,p,l,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(abe,"clearBuffer");ba.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ba.prototype._writev=null;ba.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Aht(this,n,r)};function sbe(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(sbe,"needFinish");function xht(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),r3(e,t)})}a(xht,"callFinal");function wht(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,Z1.nextTick(xht,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(wht,"prefinish");function r3(e,t){var r=sbe(t);return r&&(wht(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(r3,"finishMaybe");function Aht(e,t,r){t.ending=!0,r3(e,t),r&&(t.finished?Z1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(Aht,"endWritable");function Eht(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(Eht,"onCorkedFinish");Object.defineProperty(ba.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ba.prototype.destroy=ibe.destroy;ba.prototype._undestroy=ibe.undestroy;ba.prototype._destroy=function(e,t){this.end(),t(e)}});var eg=j((Hyr,fbe)=>{"use strict";d();var cbe=rc(),Sht=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};fbe.exports=Ch;var ube=Object.create(Rs());ube.inherits=kr();var lbe=fU(),lU=cU();ube.inherits(Ch,lbe);for(uU=Sht(lU.prototype),Sk=0;Sk<uU.length;Sk++)kk=uU[Sk],Ch.prototype[kk]||(Ch.prototype[kk]=lU.prototype[kk]);var uU,kk,Sk;function Ch(e){if(!(this instanceof Ch))return new Ch(e);lbe.call(this,e),lU.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",kht)}a(Ch,"Duplex");Object.defineProperty(Ch.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kht(){this.allowHalfOpen||this._writableState.ended||cbe.nextTick(Cht,this)}a(kht,"onend");function Cht(e){e.end()}a(Cht,"onEndNT");Object.defineProperty(Ch.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ch.prototype._destroy=function(e,t){this.push(null),this.end(),cbe.nextTick(t,e)}});var pU=j(dbe=>{"use strict";d();var dU=e3().Buffer,hbe=dU.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Iht(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(Iht,"_normalizeEncoding");function Tht(e){var t=Iht(e);if(typeof t!="string"&&(dU.isEncoding===hbe||!hbe(e)))throw new Error("Unknown encoding: "+e);return t||e}a(Tht,"normalizeEncoding");dbe.StringDecoder=i3;function i3(e){this.encoding=Tht(e);var t;switch(this.encoding){case"utf16le":this.text=Nht,this.end=Oht,t=4;break;case"utf8":this.fillLast=Rht,t=4;break;case"base64":this.text=qht,this.end=Pht,t=3;break;default:this.write=Fht,this.end=Uht;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=dU.allocUnsafe(t)}a(i3,"StringDecoder");i3.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};i3.prototype.end=Dht;i3.prototype.text=Lht;i3.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function hU(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(hU,"utf8CheckByte");function Mht(e,t,r){var n=t.length-1;if(n<r)return 0;var i=hU(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=hU(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=hU(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(Mht,"utf8CheckIncomplete");function Bht(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(Bht,"utf8CheckExtraBytes");function Rht(e){var t=this.lastTotal-this.lastNeed,r=Bht(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(Rht,"utf8FillLast");function Lht(e,t){var r=Mht(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(Lht,"utf8Text");function Dht(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(Dht,"utf8End");function Nht(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(Nht,"utf16Text");function Oht(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(Oht,"utf16End");function qht(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(qht,"base64Text");function Pht(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(Pht,"base64End");function Fht(e){return e.toString(this.encoding)}a(Fht,"simpleWrite");function Uht(e){return e&&e.length?this.write(e):""}a(Uht,"simpleEnd")});var fU=j((Kyr,Sbe)=>{"use strict";d();var Q2=rc();Sbe.exports=Ii;var Yht=W2e(),a3;Ii.ReadableState=_be;var Gyr=ea().EventEmitter,mbe=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),vU=nU(),s3=e3().Buffer,Hht=w.Uint8Array||function(){};function zht(e){return s3.from(e)}a(zht,"_uint8ArrayToBuffer");function Qht(e){return s3.isBuffer(e)||e instanceof Hht}a(Qht,"_isUint8Array");var bbe=Object.create(Rs());bbe.inherits=kr();var gU=Bf(),$n=void 0;gU&&gU.debuglog?$n=gU.debuglog("stream"):$n=a(function(){},"debug");var Wht=$2e(),vbe=sU(),z2;bbe.inherits(Ii,vU);var yU=["error","close","destroy","pause","resume"];function Vht(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Yht(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(Vht,"prependListener");function _be(e,t){a3=a3||eg(),e=e||{};var r=t instanceof a3;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Wht,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(z2||(z2=pU().StringDecoder),this.decoder=new z2(e.encoding),this.encoding=e.encoding)}a(_be,"ReadableState");function Ii(e){if(a3=a3||eg(),!(this instanceof Ii))return new Ii(e);this._readableState=new _be(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),vU.call(this)}a(Ii,"Readable");Object.defineProperty(Ii.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Ii.prototype.destroy=vbe.destroy;Ii.prototype._undestroy=vbe.undestroy;Ii.prototype._destroy=function(e,t){this.push(null),t(e)};Ii.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=s3.from(e,t),t=""),n=!0),xbe(this,e,t,!1,n)};Ii.prototype.unshift=function(e){return xbe(this,e,null,!0,!1)};function xbe(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,$ht(e,s);else{var o;i||(o=jht(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==s3.prototype&&(t=zht(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):mU(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?mU(e,s,t,!1):wbe(e,s)):mU(e,s,t,!1))):n||(s.reading=!1)}return Ght(s)}a(xbe,"readableAddChunk");function mU(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ck(e)),wbe(e,t)}a(mU,"addChunk");function jht(e,t){var r;return!Qht(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(jht,"chunkInvalid");function Ght(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(Ght,"needMoreData");Ii.prototype.isPaused=function(){return this._readableState.flowing===!1};Ii.prototype.setEncoding=function(e){return z2||(z2=pU().StringDecoder),this._readableState.decoder=new z2(e),this._readableState.encoding=e,this};var pbe=8388608;function Kht(e){return e>=pbe?e=pbe:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(Kht,"computeNewHighWaterMark");function gbe(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Kht(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(gbe,"howMuchToRead");Ii.prototype.read=function(e){$n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return $n("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?bU(this):Ck(this),null;if(e=gbe(e,t),e===0&&t.ended)return t.length===0&&bU(this),null;var n=t.needReadable;$n("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,$n("length less than watermark",n)),t.ended||t.reading?(n=!1,$n("reading or ended",n)):n&&($n("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=gbe(r,t)));var i;return e>0?i=Abe(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&bU(this)),i!==null&&this.emit("data",i),i};function $ht(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Ck(e)}}a($ht,"onEofChunk");function Ck(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||($n("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Q2.nextTick(ybe,e):ybe(e))}a(Ck,"emitReadable");function ybe(e){$n("emit readable"),e.emit("readable"),_U(e)}a(ybe,"emitReadable_");function wbe(e,t){t.readingMore||(t.readingMore=!0,Q2.nextTick(Xht,e,t))}a(wbe,"maybeReadMore");function Xht(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&($n("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(Xht,"maybeReadMore_");Ii.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Ii.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,$n("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?u:z;n.endEmitted?Q2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){$n("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function u(){$n("onend"),e.end()}a(u,"onend");var l=Jht(r);e.on("drain",l);var f=!1;function h(){$n("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){$n("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Ebe(n.pipes,e)!==-1)&&!f&&($n("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){$n("onerror",P),z(),e.removeListener("error",y),mbe(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),Vht(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){$n("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){$n("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||($n("pipe resume"),r.resume()),e};function Jht(e){return function(){var t=e._readableState;$n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&mbe(e,"data")&&(t.flowing=!0,_U(e))}}a(Jht,"pipeOnDrain");Ii.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=Ebe(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Ii.prototype.on=function(e,t){var r=vU.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ck(this):Q2.nextTick(Zht,this))}return r};Ii.prototype.addListener=Ii.prototype.on;function Zht(e){$n("readable nexttick read 0"),e.read(0)}a(Zht,"nReadingNextTick");Ii.prototype.resume=function(){var e=this._readableState;return e.flowing||($n("resume"),e.flowing=!0,edt(this,e)),this};function edt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Q2.nextTick(tdt,e,t))}a(edt,"resume");function tdt(e,t){t.reading||($n("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),_U(e),t.flowing&&!t.reading&&e.read(0)}a(tdt,"resume_");Ii.prototype.pause=function(){return $n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($n("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function _U(e){var t=e._readableState;for($n("flow",t.flowing);t.flowing&&e.read()!==null;);}a(_U,"flow");Ii.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if($n("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if($n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=t.push(o);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<yU.length;s++)e.on(yU[s],this.emit.bind(this,yU[s]));return this._read=function(o){$n("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(Ii.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ii._fromList=Abe;function Abe(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=rdt(e,t.buffer,t.decoder),r}a(Abe,"fromList");function rdt(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?ndt(e,t):idt(e,t),n}a(rdt,"fromListPartial");function ndt(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(ndt,"copyFromBufferString");function idt(e,t){var r=s3.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(idt,"copyFromBuffer");function bU(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Q2.nextTick(adt,t,e))}a(bU,"endReadable");function adt(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(adt,"endReadableNT");function Ebe(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(Ebe,"indexOf")});var xU=j((Jyr,Ibe)=>{"use strict";d();Ibe.exports=Ih;var Ik=eg(),Cbe=Object.create(Rs());Cbe.inherits=kr();Cbe.inherits(Ih,Ik);function sdt(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(sdt,"afterTransform");function Ih(e){if(!(this instanceof Ih))return new Ih(e);Ik.call(this,e),this._transformState={afterTransform:sdt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",odt)}a(Ih,"Transform");function odt(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){kbe(e,t,r)}):kbe(this,null,null)}a(odt,"prefinish");Ih.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ik.prototype.push.call(this,e,t)};Ih.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Ih.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ih.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ih.prototype._destroy=function(e,t){var r=this;Ik.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function kbe(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(kbe,"done")});var Rbe=j((tmr,Bbe)=>{"use strict";d();Bbe.exports=o3;var Tbe=xU(),Mbe=Object.create(Rs());Mbe.inherits=kr();Mbe.inherits(o3,Tbe);function o3(e){if(!(this instanceof o3))return new o3(e);Tbe.call(this,e)}a(o3,"PassThrough");o3.prototype._transform=function(e,t,r){r(null,e)}});var Dbe=j((Kl,Lbe)=>{d();Kl=Lbe.exports=fU();Kl.Stream=Kl;Kl.Readable=Kl;Kl.Writable=cU();Kl.Duplex=eg();Kl.Transform=xU();Kl.PassThrough=Rbe()});var Obe=j((amr,Nbe)=>{"use strict";d();var cdt=Dbe().Duplex,Tk=Symbol("Callback"),tg=Symbol("Other"),c3=class extends cdt{constructor(t){super(t),this[Tk]=null,this[tg]=null}_read(){let t=this[Tk];t&&(this[Tk]=null,t())}_write(t,r,n){this[tg][Tk]=n,this[tg].push(t)}_final(t){this[tg].on("end",t),this[tg].push(null)}};a(c3,"DuplexSocket");var Mk=class{constructor(t){this.socket1=new c3(t),this.socket2=new c3(t),this.socket1[tg]=this.socket2,this.socket2[tg]=this.socket1}};a(Mk,"DuplexPair");Nbe.exports=Mk});var Ube=j((umr,Fbe)=>{d();var{EventEmitter:udt}=ea(),ldt=uye(),fdt=z2e(),cmr=Obe(),hdt=["wss://geut-webrtc-signal-v3.herokuapp.com","wss://signal.dat-web.eu","wss://geut-webrtc-signal-v3.glitch.me"],ddt="wss://hyperswarm.mauve.moe";Fbe.exports=a(function(t){return new Bk(t)},"swarm");function qbe(e,t=[],r=[]){let n=t.map(i=>(i.endsWith("/")&&(i=i.slice(0,-1)),`${i}/${e}`));if(n=n.concat(r),n.length!==0)return n}a(qbe,"getBootstrapUrls");function Pbe(e){let{id:t,channel:r,initiator:n}=e;return{type:"webrtc",client:n,peer:{port:0,host:t,topic:r},deduplicate:()=>!1}}a(Pbe,"webrtcPeerInfo");var Bk=class extends udt{constructor(t={}){super();let{bootstrap:r,webrtcBootstrap:n,wsProxy:i,maxPeers:s,simplePeer:o,wsReconnectDelay:u}=t;this.webrtcOpts={maxPeers:s,simplePeer:o,bootstrap:qbe("signal",r,n)||hdt},this.wsOpts={maxPeers:s,proxy:qbe("proxy",r,i)||ddt},u&&(this.wsOpts.reconnectDelay=u),this.isListening=!1,this.destroyed=!1,this._peers=new Map}_handleConnection(t,r){this._peers.set(r.peer.host,{connection:t,info:r}),this.emit("connection",t,r)}_handleDisconnection(t,r){this._peers.delete(r.peer.host),this.emit("disconnection",t,r)}get peers(){return Array.from(this._peers.values())}address(){return{port:0,family:"IPv4",address:"127.0.0.1"}}listen(t,r){if(this.isListening)return setTimeout(r,0);this.isListening=!0,this.webrtc=ldt(this.webrtcOpts),this.webrtc.on("connection",(n,i)=>this._handleConnection(n,Pbe(i))),this.webrtc.on("connection-closed",(n,i)=>this._handleDisconnection(n,Pbe(i))),this.ws=new fdt(this.wsOpts),this.ws.on("connection",(n,i)=>this._handleConnection(n,i)),this.ws.on("disconnection",(n,i)=>this._handleDisconnection(n,i))}join(t,r){this.listen(),this.webrtc.join(t),this.ws.join(t,r)}leave(t){this.listen(),this.webrtc.leave(t),this.ws.leave(t)}connect(t,r){this.listen(),this.ws.connect(t,r)}connectivity(t){this.listen(()=>{t(null,{bound:!0,bootstrapped:!0,holepunched:!0})})}flush(t){_.default.nextTick(t)}status(){return{lookup:!0,announce:!1}}destroy(t){this.destroyed=!0,this.webrtc.close(()=>{this.ws.destroy(t)})}};a(Bk,"HyperswarmWeb")});var rg=j((hmr,Ybe)=>{d();Ybe.exports=Kd()});var Hbe=j((pmr,Rk)=>{d();var pdt=function(){"use strict";function e(h,p){return p!=null&&h instanceof p}a(e,"_instanceof");var t;try{t=Map}catch{t=a(function(){},"nativeMap")}var r;try{r=Set}catch{r=a(function(){},"nativeSet")}var n;try{n=Promise}catch{n=a(function(){},"nativePromise")}function i(h,p,g,y,E){typeof p=="object"&&(g=p.depth,y=p.prototype,E=p.includeNonEnumerable,p=p.circular);var M=[],z=[],P=typeof b.Buffer<"u";typeof p>"u"&&(p=!0),typeof g>"u"&&(g=1/0);function Q(V,W){if(V===null)return null;if(W===0)return V;var F,B;if(typeof V!="object")return V;if(e(V,t))F=new t;else if(e(V,r))F=new r;else if(e(V,n))F=new n(function(A,U){V.then(function(G){A(Q(G,W-1))},function(G){U(Q(G,W-1))})});else if(i.__isArray(V))F=[];else if(i.__isRegExp(V))F=new RegExp(V.source,f(V)),V.lastIndex&&(F.lastIndex=V.lastIndex);else if(i.__isDate(V))F=new Date(V.getTime());else{if(P&&b.Buffer.isBuffer(V))return b.Buffer.allocUnsafe?F=b.Buffer.allocUnsafe(V.length):F=new b.Buffer(V.length),V.copy(F),F;e(V,Error)?F=Object.create(V):typeof y>"u"?(B=Object.getPrototypeOf(V),F=Object.create(B)):(F=Object.create(y),B=y)}if(p){var S=M.indexOf(V);if(S!=-1)return z[S];M.push(V),z.push(F)}e(V,t)&&V.forEach(function(A,U){var G=Q(U,W-1),K=Q(A,W-1);F.set(G,K)}),e(V,r)&&V.forEach(function(A){var U=Q(A,W-1);F.add(U)});for(var T in V){var k;B&&(k=Object.getOwnPropertyDescriptor(B,T)),!(k&&k.set==null)&&(F[T]=Q(V[T],W-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(V),T=0;T<R.length;T++){var x=R[T],N=Object.getOwnPropertyDescriptor(V,x);N&&!N.enumerable&&!E||(F[x]=Q(V[x],W-1),N.enumerable||Object.defineProperty(F,x,{enumerable:!1}))}if(E)for(var m=Object.getOwnPropertyNames(V),T=0;T<m.length;T++){var v=m[T],N=Object.getOwnPropertyDescriptor(V,v);N&&N.enumerable||(F[v]=Q(V[v],W-1),Object.defineProperty(F,v,{enumerable:!1}))}return F}return a(Q,"_clone"),Q(h,g)}a(i,"clone"),i.clonePrototype=a(function(p){if(p===null)return null;var g=a(function(){},"c");return g.prototype=p,new g},"clonePrototype");function s(h){return Object.prototype.toString.call(h)}a(s,"__objToStr"),i.__objToStr=s;function o(h){return typeof h=="object"&&s(h)==="[object Date]"}a(o,"__isDate"),i.__isDate=o;function u(h){return typeof h=="object"&&s(h)==="[object Array]"}a(u,"__isArray"),i.__isArray=u;function l(h){return typeof h=="object"&&s(h)==="[object RegExp]"}a(l,"__isRegExp"),i.__isRegExp=l;function f(h){var p="";return h.global&&(p+="g"),h.ignoreCase&&(p+="i"),h.multiline&&(p+="m"),p}return a(f,"__getRegExpFlags"),i.__getRegExpFlags=f,i}();typeof Rk=="object"&&Rk.exports&&(Rk.exports=pdt)});var Qbe=j((mmr,zbe)=>{d();zbe.exports=Kd()});var Vbe=j((vmr,Wbe)=>{d();Wbe.exports=Kd()});var $be=j((xmr,Kbe)=>{d();var{sodium_malloc:jbe,sodium_memzero:ng}=rg(),{crypto_aead_chacha20poly1305_ietf_KEYBYTES:gdt,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:Gbe,crypto_aead_chacha20poly1305_ietf_ABYTES:ydt,crypto_aead_chacha20poly1305_ietf_encrypt:mdt,crypto_aead_chacha20poly1305_ietf_decrypt:bdt}=Vbe(),nc=jn(),b0=32,Lk=8,Th=16;nc(gdt===b0);nc(Gbe===4+Lk);nc(ydt===Th);Kbe.exports={KEYLEN:b0,NONCELEN:Lk,MACLEN:Th,encrypt:Mh,decrypt:V2,rekey:u3};var m0=jbe(Gbe);function Mh(e,t,r,n,i){nc(e.byteLength>=i.byteLength+Th,"output buffer must be at least plaintext plus MACLEN bytes long"),nc(t.byteLength===b0),nc(r.byteLength===Lk),nc(n==null?!0:n.byteLength!=null),ng(m0),m0.set(r,4),Mh.bytesWritten=mdt(e.subarray(0,i.byteLength+Th),i,n,null,m0,t),Mh.bytesRead=Mh.bytesWritten-Th,ng(m0)}a(Mh,"encrypt");Mh.bytesWritten=0;Mh.bytesRead=0;function V2(e,t,r,n,i){nc(e.byteLength>=i.byteLength-Th),nc(t.byteLength===b0),nc(r.byteLength===Lk),nc(n==null?!0:n.byteLength!=null),ng(m0),m0.set(r,4),V2.bytesWritten=bdt(e.subarray(0,i.byteLength-Th),null,i,n,m0,t),V2.bytesRead=V2.bytesWritten+Th,ng(m0)}a(V2,"decrypt");V2.bytesWritten=0;V2.bytesRead=0;var vdt=new Uint8Array(8).fill(255),_dt=new Uint8Array(0),xdt=new Uint8Array(32),W2=jbe(b0+Th);ng(W2);function u3(e,t){nc(e.byteLength===b0),nc(t.byteLength===b0),ng(W2),W2.set(t),Mh(W2,t,vdt,_dt,xdt),u3.bytesWritten=Mh.bytesWritten,u3.bytesRead=Mh.bytesRead,e.set(W2.subarray(0,b0)),ng(W2)}a(u3,"rekey");u3.bytesWritten=0;u3.bytesRead=0});var EU=j((Emr,rve)=>{d();var{sodium_memzero:Xbe}=rg(),{sodium_increment:Jbe,sodium_memcmp:Zbe,sodium_is_zero:wdt}=Qbe(),Zc=jn(),Ls=$be(),ig=Ls.KEYLEN+Ls.NONCELEN,eve=Ls.NONCELEN,Adt=Ls.MACLEN;rve.exports={STATELEN:ig,NONCELEN:eve,MACLEN:Adt,initializeKey:Edt,hasKey:AU,setNonce:Sdt,encryptWithAd:v0,decryptWithAd:_0,rekey:l3};var f3=0,j2=Ls.KEYLEN,h3=j2,wU=h3+Ls.NONCELEN;function Edt(e,t){if(Zc(e.byteLength===ig),Zc(t==null?!0:t.byteLength===Ls.KEYLEN),t==null){Xbe(e.subarray(f3,j2));return}e.set(t),Xbe(e.subarray(h3,wU))}a(Edt,"initializeKey");function AU(e){Zc(e.byteLength===ig);var t=e.subarray(f3,j2);return wdt(t)===!1}a(AU,"hasKey");function Sdt(e,t){Zc(e.byteLength===ig),Zc(t.byteLength===eve),e.set(t,h3)}a(Sdt,"setNonce");var tve=new Uint8Array(8).fill(255);function v0(e,t,r,n){Zc(e.byteLength===ig),Zc(t.byteLength!=null),Zc(n.byteLength!=null);var i=e.subarray(h3,wU);if(Zbe(i,tve))throw new Error("Nonce overflow");if(AU(e)===!1){t.set(n),v0.bytesRead=n.byteLength,v0.bytesWritten=v0.bytesRead;return}var s=e.subarray(f3,j2);Ls.encrypt(t,s,i,r,n),v0.bytesRead=Ls.encrypt.bytesRead,v0.bytesWritten=Ls.encrypt.bytesWritten,Jbe(i)}a(v0,"encryptWithAd");v0.bytesRead=0;v0.bytesWritten=0;function _0(e,t,r,n){Zc(e.byteLength===ig),Zc(t.byteLength!=null),Zc(n.byteLength!=null);var i=e.subarray(h3,wU);if(Zbe(i,tve))throw new Error("Nonce overflow");if(AU(e)===!1){t.set(n),_0.bytesRead=n.byteLength,_0.bytesWritten=_0.bytesRead;return}var s=e.subarray(f3,j2);Ls.decrypt(t,s,i,r,n),_0.bytesRead=Ls.decrypt.bytesRead,_0.bytesWritten=Ls.decrypt.bytesWritten,Jbe(i)}a(_0,"decryptWithAd");_0.bytesRead=0;_0.bytesWritten=0;function l3(e){Zc(e.byteLength===ig);var t=e.subarray(f3,j2);Ls.rekey(t,t),l3.bytesRead=Ls.rekey.bytesRead,l3.bytesWritten=Ls.rekey.bytesWritten}a(l3,"rekey");l3.bytesRead=0;l3.bytesWritten=0});var SU=j((Cmr,nve)=>{d();nve.exports=Kd()});var ave=j((Tmr,ive)=>{d();Bh.notEqual=Cdt;Bh.notOk=Idt;Bh.equal=kdt;Bh.ok=Bh;ive.exports=Bh;function kdt(e,t,r){Bh(e==t,r)}a(kdt,"equal");function Cdt(e,t,r){Bh(e!=t,r)}a(Cdt,"notEqual");function Idt(e,t){Bh(!e,t)}a(Idt,"notOk");function Bh(e,t){if(!e)throw new Error(t||"AssertionError")}a(Bh,"assert")});var ove=j((Rmr,Nk)=>{d();var{sodium_malloc:Tdt,sodium_memzero:d3}=rg(),{crypto_generichash:Mdt,crypto_generichash_batch:sve}=SU(),kU=ave(),Dk=64,Rh=128,TU=Tdt(Rh*3),x0=TU.subarray(Rh*0,Rh*1),CU=TU.subarray(Rh*1,Rh*2),IU=TU.subarray(Rh*2,Rh*3);Nk.exports=a(function(t,r,n){kU(t.byteLength===Dk),kU(n.byteLength!=null),kU(Array.isArray(r)?r.every(s=>s.byteLength!=null):r.byteLength!=null),n.byteLength>Rh?(Mdt(x0.subarray(0,Dk),n),d3(x0.subarray(Dk))):(x0.set(n),d3(x0.subarray(n.byteLength)));for(var i=0;i<x0.byteLength;i++)CU[i]=92^x0[i],IU[i]=54^x0[i];d3(x0),sve(t,[IU].concat(r)),d3(IU),sve(t,[CU].concat(t)),d3(CU)},"hmac");Nk.exports.BYTES=Dk;Nk.exports.KEYBYTES=Rh});var uve=j((Nmr,cve)=>{d();cve.exports=Kd()});var fve=j((qmr,lve)=>{d();lve.exports=Kd()});var qk=j((Fmr,pve)=>{d();var{crypto_kx_SEEDBYTES:Bdt,crypto_kx_keypair:Rdt,crypto_kx_seed_keypair:Ldt}=uve(),{crypto_scalarmult_BYTES:hve,crypto_scalarmult_SCALARBYTES:Ddt,crypto_scalarmult:Ndt}=fve(),w0=jn(),dve=hve,Ok=hve,p3=Ddt,Odt=Bdt;pve.exports={DHLEN:dve,PKLEN:Ok,SKLEN:p3,SEEDLEN:Odt,generateKeypair:qdt,generateSeedKeypair:Pdt,dh:Fdt};function qdt(e,t){w0(e.byteLength===Ok),w0(t.byteLength===p3),Rdt(e,t)}a(qdt,"generateKeypair");function Pdt(e,t,r){w0(e.byteLength===Ok),w0(t.byteLength===p3),w0(r.byteLength===p3),Ldt(e,t,r)}a(Pdt,"generateSeedKeypair");function Fdt(e,t,r){w0(e.byteLength===dve),w0(t.byteLength===p3),w0(r.byteLength===Ok),Ndt(e,t,r)}a(Fdt,"dh")});var BU=j((Hmr,bve)=>{d();var{sodium_malloc:Udt,sodium_memzero:gve}=rg(),{crypto_generichash_batch:Ydt}=SU(),Lh=jn(),MU=ove(),yve=qk(),A0=64,mve=128;Lh(MU.KEYBYTES===mve,"mismatching hmac BLOCKLEN");Lh(MU.BYTES===A0,"mismatching hmac HASHLEN");bve.exports={HASHLEN:A0,BLOCKLEN:mve,hash:Hdt,hkdf:Vdt};function Hdt(e,t){Lh(e.byteLength===A0),Lh(Array.isArray(t)),Ydt(e,t)}a(Hdt,"hash");function Pk(e,t,r){return MU(e,r,t)}a(Pk,"hmac");var G2=Udt(A0),zdt=new Uint8Array([1]),Qdt=new Uint8Array([2]),Wdt=new Uint8Array([3]);function Vdt(e,t,r,n,i){Lh(e.byteLength===A0),Lh(t.byteLength===A0),Lh(r==null?!0:r.byteLength===A0),Lh(n.byteLength===A0),Lh([0,32,yve.DHLEN,yve.PKLEN].includes(i.byteLength)),gve(G2),Pk(G2,n,[i]),Pk(e,G2,[zdt]),Pk(t,G2,[e,Qdt]),r!=null&&Pk(r,G2,[t,Wdt]),gve(G2)}a(Vdt,"hkdf")});var NU=j((Wmr,vve)=>{d();var{sodium_malloc:Fk,sodium_memzero:J2}=rg(),Ja=jn(),Ds=EU(),$l=BU(),Dh=$l.HASHLEN+$l.HASHLEN+Ds.STATELEN,eb=$l.HASHLEN;vve.exports={STATELEN:Dh,initializeSymmetric:jdt,mixKey:Gdt,mixHash:Uk,mixKeyAndHash:Kdt,getHandshakeHash:$dt,encryptAndHash:$2,decryptAndHash:X2,split:Jdt,_hasKey:Zdt};var Z2=0,ag=$l.HASHLEN,E0=ag,sg=E0+$l.HASHLEN,og=sg,tb=og+Ds.STATELEN;function jdt(e,t){Ja(e.byteLength===Dh),Ja(t.byteLength!=null),J2(e),t.byteLength<=eb?e.set(t,E0):$l.hash(e.subarray(E0,sg),[t]),e.subarray(Z2,ag).set(e.subarray(E0,sg)),Ds.initializeKey(e.subarray(og,tb),null)}a(jdt,"initializeSymmetric");var K2=Fk(eb);function Gdt(e,t){Ja(e.byteLength===Dh),Ja(t.byteLength!=null),$l.hkdf(e.subarray(Z2,ag),K2,null,e.subarray(Z2,ag),t),Ds.initializeKey(e.subarray(og,tb),K2.subarray(0,32)),J2(K2)}a(Gdt,"mixKey");function Uk(e,t){Ja(e.byteLength===Dh);var r=e.subarray(E0,sg);$l.hash(r,[r,t])}a(Uk,"mixHash");var RU=Fk(eb);function Kdt(e,t){Ja(e.byteLength===Dh),Ja(t.byteLength!=null),$l.hkdf(e.subarray(Z2,ag),RU,K2,e.subarray(Z2,ag),t),Uk(e,RU),J2(RU),Ds.initializeKey(e.subarray(og,tb),K2.subarray(0,32)),J2(K2)}a(Kdt,"mixKeyAndHash");function $dt(e,t){Ja(e.byteLength===Dh),Ja(t.byteLength===eb),t.set(e.subarray(E0,sg))}a($dt,"getHandshakeHash");function $2(e,t,r){Ja(e.byteLength===Dh),Ja(t.byteLength!=null),Ja(r.byteLength!=null);var n=e.subarray(og,tb),i=e.subarray(E0,sg);Ds.encryptWithAd(n,t,i,r),$2.bytesRead=Ds.encryptWithAd.bytesRead,$2.bytesWritten=Ds.encryptWithAd.bytesWritten,Uk(e,t.subarray(0,$2.bytesWritten))}a($2,"encryptAndHash");$2.bytesRead=0;$2.bytesWritten=0;function X2(e,t,r){Ja(e.byteLength===Dh),Ja(t.byteLength!=null),Ja(r.byteLength!=null);var n=e.subarray(og,tb),i=e.subarray(E0,sg);Ds.decryptWithAd(n,t,i,r),X2.bytesRead=Ds.decryptWithAd.bytesRead,X2.bytesWritten=Ds.decryptWithAd.bytesWritten,Uk(e,r.subarray(0,X2.bytesRead))}a(X2,"decryptAndHash");X2.bytesRead=0;X2.bytesWritten=0;var LU=Fk(eb),DU=Fk(eb),Xdt=new Uint8Array(0);function Jdt(e,t,r){Ja(e.byteLength===Dh),Ja(t.byteLength===Ds.STATELEN),Ja(r.byteLength===Ds.STATELEN),$l.hkdf(LU,DU,null,e.subarray(Z2,ag),Xdt),Ds.initializeKey(t,LU.subarray(0,32)),Ds.initializeKey(r,DU.subarray(0,32)),J2(LU),J2(DU)}a(Jdt,"split");function Zdt(e){return Ds.hasKey(e.subarray(og,tb))}a(Zdt,"_hasKey")});var Eve=j((Gmr,Ave)=>{d();var{sodium_malloc:eo,sodium_memzero:S0,sodium_free:cg}=rg(),Pn=jn(),_ve=Hbe(),vi=NU(),Yk=EU(),$r=qk(),OU=$r.PKLEN,qU=$r.SKLEN;Ave.exports=Object.freeze({initialize:e0t,writeMessage:FU,readMessage:UU,destroy:t0t,keygen:wve,seedKeygen:r0t,SKLEN:qU,PKLEN:OU});function PU(){this.symmetricState=eo(vi.STATELEN),this.initiator=null,this.spk=null,this.ssk=null,this.epk=null,this.esk=null,this.rs=null,this.re=null,this.messagePatterns=null}a(PU,"HandshakeState");var ai=Symbol("initiator"),va=Symbol("responder"),bi=Symbol("s"),ei=Symbol("e"),ic=Symbol("es"),Nu=Symbol("se"),ko=Symbol("ee"),nb=Symbol("es"),xve=Object.freeze({N:{premessages:[[va,bi]],messagePatterns:[[ai,ei,ic]]},K:{premessages:[[ai,bi],[va,bi]],messagePatterns:[[ai,ei,ic,nb]]},X:{premessages:[[va,bi]],messagePatterns:[[ai,ei,ic,bi,nb]]},NN:{premessages:[],messagePatterns:[[ai,ei],[va,ei,ko]]},KN:{premessages:[[ai,bi]],messagePatterns:[[ai,ei],[va,ei,ko,Nu]]},NK:{premessages:[[va,bi]],messagePatterns:[[ai,ei,ic],[va,ei,ko]]},KK:{premessages:[[ai,bi],[va,bi]],messagePatterns:[[ai,ei,ic,nb],[va,ei,ko,Nu]]},NX:{premessages:[],messagePatterns:[[ai,ei],[va,ei,ko,bi,ic]]},KX:{premessages:[[ai,bi]],messagePatterns:[[ai,ei],[va,ei,ko,Nu,bi,ic]]},XN:{premessages:[],messagePatterns:[[ai,ei],[va,ei,ko],[ai,bi,Nu]]},IN:{premessages:[],messagePatterns:[[ai,ei,bi],[va,ei,ko,Nu]]},XK:{premessages:[[va,bi]],messagePatterns:[[ai,ei,ic],[va,ei,ko],[ai,bi,Nu]]},IK:{premessages:[[va,bi]],messagePatterns:[[ai,ei,ic,bi,nb],[va,ei,ko,Nu]]},XX:{premessages:[],messagePatterns:[[ai,ei],[va,ei,ko,bi,ic],[ai,bi,Nu]]},IX:{premessages:[],messagePatterns:[[ai,ei,bi],[va,ei,ko,Nu,bi,ic]]}});function rb(e){var t=eo(e.byteLength);return t.set(e),t}a(rb,"sodiumBufferCopy");function e0t(e,t,r,n,i,s,o){Pn(Object.keys(xve).includes(e),"Unsupported handshake pattern"),Pn(typeof t=="boolean","Initiator must be a boolean"),Pn(r.byteLength!=null,"prolouge must be a Buffer"),Pn(i==null?!0:i.publicKey.byteLength===$r.PKLEN,`e.publicKey must be ${$r.PKLEN} bytes`),Pn(i==null?!0:i.secretKey.byteLength===$r.SKLEN,`e.secretKey must be ${$r.SKLEN} bytes`),Pn(s==null?!0:s.byteLength===$r.PKLEN,`rs must be ${$r.PKLEN} bytes`),Pn(o==null?!0:o.byteLength===$r.PKLEN,`re must be ${$r.PKLEN} bytes`);var u=new PU,l=Uint8Array.from(`Noise_${e}_25519_ChaChaPoly_BLAKE2b`,n0t);vi.initializeSymmetric(u.symmetricState,l),vi.mixHash(u.symmetricState,r),u.role=t===!0?ai:va,n!=null&&(Pn(n.publicKey.byteLength===$r.PKLEN,`s.publicKey must be ${$r.PKLEN} bytes`),Pn(n.secretKey.byteLength===$r.SKLEN,`s.secretKey must be ${$r.SKLEN} bytes`),u.spk=rb(n.publicKey),u.ssk=rb(n.secretKey)),i!=null&&(Pn(i.publicKey.byteLength===$r.PKLEN),Pn(i.secretKey.byteLength===$r.SKLEN),u.epk=rb(i.publicKey),u.esk=rb(i.secretKey)),s!=null&&(Pn(s.byteLength===$r.PKLEN),u.rs=rb(s)),o!=null&&(Pn(o.byteLength===$r.PKLEN),u.re=rb(o));var f=xve[e];for(var h of _ve(f.premessages)){var p=h.shift();for(var g of h)switch(g){case ei:Pn(u.role===p?u.epk.byteLength!=null:u.re.byteLength!=null),vi.mixHash(u.symmetricState,u.role===p?u.epk:u.re);break;case bi:Pn(u.role===p?u.spk.byteLength!=null:u.rs.byteLength!=null),vi.mixHash(u.symmetricState,u.role===p?u.spk:u.rs);break;default:throw new Error("Invalid premessage pattern")}}return u.messagePatterns=_ve(f.messagePatterns),Pn(u.messagePatterns.filter(y=>y[0]===ai).some(y=>y.includes(bi))?u.spk!==null&&u.ssk!==null:!0,"This handshake pattern requires a static keypair"),u}a(e0t,"initialize");var si=eo($r.DHLEN);function FU(e,t,r){Pn(e instanceof PU),Pn(t.byteLength!=null),Pn(r.byteLength!=null);var n=e.messagePatterns.shift(),i=0;Pn(n!=null),Pn(e.role===n.shift());for(var s of n)switch(s){case ei:Pn(e.epk==null),Pn(e.esk==null),e.epk=eo($r.PKLEN),e.esk=eo($r.SKLEN),$r.generateKeypair(e.epk,e.esk),r.set(e.epk,i),i+=e.epk.byteLength,vi.mixHash(e.symmetricState,e.epk);break;case bi:Pn(e.spk.byteLength===$r.PKLEN),vi.encryptAndHash(e.symmetricState,r.subarray(i),e.spk),i+=vi.encryptAndHash.bytesWritten;break;case ko:$r.dh(si,e.esk,e.re),vi.mixKey(e.symmetricState,si),S0(si);break;case ic:e.role===ai?$r.dh(si,e.esk,e.rs):$r.dh(si,e.ssk,e.re),vi.mixKey(e.symmetricState,si),S0(si);break;case Nu:e.role===ai?$r.dh(si,e.ssk,e.re):$r.dh(si,e.esk,e.rs),vi.mixKey(e.symmetricState,si),S0(si);break;case nb:$r.dh(si,e.ssk,e.rs),vi.mixKey(e.symmetricState,si),S0(si);break;default:throw new Error("Invalid message pattern")}if(vi.encryptAndHash(e.symmetricState,r.subarray(i),t),i+=vi.encryptAndHash.bytesWritten,FU.bytes=i,e.messagePatterns.length===0){var o=eo(Yk.STATELEN),u=eo(Yk.STATELEN);return vi.split(e.symmetricState,o,u),{tx:o,rx:u}}}a(FU,"writeMessage");FU.bytes=0;function UU(e,t,r){Pn(e instanceof PU),Pn(t.byteLength!=null),Pn(r.byteLength!=null);var n=e.messagePatterns.shift(),i=0;Pn(n!=null),Pn(n.shift()!==e.role);for(var s of n)switch(s){case ei:Pn(e.re==null),Pn(t.byteLength-i>=$r.PKLEN),e.re=eo($r.PKLEN),e.re.set(t.subarray(i,i+$r.PKLEN)),i+=$r.PKLEN,vi.mixHash(e.symmetricState,e.re);break;case bi:Pn(e.rs==null),e.rs=eo($r.PKLEN);var o=0;vi._hasKey(e.symmetricState)?o=$r.PKLEN+16:o=$r.PKLEN,Pn(t.byteLength-i>=o),vi.decryptAndHash(e.symmetricState,e.rs,t.subarray(i,i+o)),i+=vi.decryptAndHash.bytesRead;break;case ko:$r.dh(si,e.esk,e.re),vi.mixKey(e.symmetricState,si),S0(si);break;case ic:e.role===ai?$r.dh(si,e.esk,e.rs):$r.dh(si,e.ssk,e.re),vi.mixKey(e.symmetricState,si),S0(si);break;case Nu:e.role===ai?$r.dh(si,e.ssk,e.re):$r.dh(si,e.esk,e.rs),vi.mixKey(e.symmetricState,si),S0(si);break;case nb:$r.dh(si,e.ssk,e.rs),vi.mixKey(e.symmetricState,si),S0(si);break;default:throw new Error("Invalid message pattern")}if(vi.decryptAndHash(e.symmetricState,r,t.subarray(i)),UU.bytes=vi.decryptAndHash.bytesWritten,e.messagePatterns.length===0){var u=eo(Yk.STATELEN),l=eo(Yk.STATELEN);return vi.split(e.symmetricState,l,u),{tx:u,rx:l}}}a(UU,"readMessage");UU.bytes=0;function t0t(e){e.symmetricState!=null&&(cg(e.symmetricState),e.symmetricState=null),e.role=null,e.spk!=null&&(cg(e.spk),e.spk=null),e.ssk!=null&&(cg(e.ssk),e.ssk=null),e.epk!=null&&(cg(e.epk),e.epk=null),e.esk!=null&&(cg(e.esk),e.esk=null),e.rs!=null&&(cg(e.rs),e.rs=null),e.re!=null&&(cg(e.re),e.re=null),e.messagePatterns=null}a(t0t,"destroy");function wve(e,t){if(!e)return e={publicKey:eo(OU),secretKey:eo(qU)},wve(e);if(e.publicKey)return $r.generateKeypair(e.publicKey,e.secretKey),e;e.byteLength!=null&&$r.generateKeypair(null,e)}a(wve,"keygen");function r0t(e){var t={publicKey:eo(OU),secretKey:eo(qU)};return $r.generateSeedKeypair(t.publicKey,t.secretKey,e),t}a(r0t,"seedKeygen");function n0t(e){return e.charCodeAt(0)}a(n0t,"toCharCode")});var kve=j((Xmr,Sve)=>{d();Sve.exports=Eve()});var Tve=j((Zmr,Ive)=>{d();var k0=kve(),i0t=NU(),a0t=BU(),Nh=jn(),Cve=b.Buffer.alloc(0);function Oh(e,t){if(!(this instanceof Oh))return new Oh(e,t);t=t||{};var r=t.pattern||"NN",n=t.prolouge||Cve;this.handshakeHash=null,this.onstatickey=t.onstatickey||function(i,s){s()},this.onephemeralkey=t.onephemeralkey||function(i,s){s()},this.onhandshake=t.onhandshake||function(i,s){s()},this.state=k0.initialize(r,e,n,t.staticKeyPair,t.ephemeralKeyPair,t.remoteStaticKey,t.remoteEphemeralKey),this.waiting=e===!1,this.finished=!1,this.split=null,this._tx=b.Buffer.alloc(65535),this._rx=b.Buffer.alloc(65535)}a(Oh,"SimpleHandshake");Oh.prototype.recv=a(function(t,r){var n=this;Nh(n.finished===!1,"Should not call recv if finished"),Nh(t!=null,"must have data"),Nh(t.byteLength<=n._rx.byteLength,"too much data received"),Nh(n.waiting===!0,"Wrong state, not ready to receive data"),Nh(n.split==null,"split should be null");var i=n.state.re!=null,s=n.state.rs!=null;try{n.split=k0.readMessage(n.state,t,n._rx)}catch(h){return n._finish(h,null,r)}n.waiting=!1;var o=n.state.re!=null,u=n.state.rs!=null;if(i===!1&&o===!0)return n.onephemeralkey(n.state.re,l);return l();function l(h){return h?f(h):s===!1&&u===!0?n.onstatickey(n.state.rs,f):f()}function f(h){if(h)return n._finish(h,null,r);var p=n._rx.subarray(0,k0.readMessage.bytes);if(n.split)return n._finish(null,p,r);r(null,p)}},"recv");Oh.prototype.send=a(function(t,r){Nh(this.finished===!1,"Should not call send if finished"),Nh(this.waiting===!1,"Wrong state, not ready to send data"),Nh(this.split==null,"split should be null"),t=t||Cve;try{this.split=k0.writeMessage(this.state,t,this._tx)}catch(i){return this._finish(i,null,r)}this.waiting=!0;var n=this._tx.subarray(0,k0.writeMessage.bytes);return this.split!=null?this._finish(null,n,r):r(null,n)},"send");Oh.prototype.destroy=function(){this._finish(null,null,function(){})};Oh.prototype._finish=a(function(t,r,n){Nh(this.finished===!1,"Already finished");let i=this;if(i.finished=!0,i.waiting=!1,i.split&&(i.handshakeHash=b.Buffer.alloc(a0t.HASHLEN),i0t.getHandshakeHash(i.state.symmetricState,i.handshakeHash)),t)return s(t);i.onhandshake(i.state,s);function s(o){k0.destroy(i.state),n(o,r,i.split),i._rx.fill(0),i._tx.fill(0)}a(s,"ondone")},"_finish");Oh.keygen=k0.keygen;Oh.seedKeygen=k0.seedKeygen;Ive.exports=Oh});var Mve=j(ib=>{d();var YU=Math.pow(2,32);ib.encodingLength=function(){return 8};ib.encode=function(e,t,r){t||(t=b.Buffer.allocUnsafe(8)),r||(r=0);let n=Math.floor(e/YU),i=e-n*YU;return t.writeUInt32BE(n,r),t.writeUInt32BE(i,r+4),t};ib.decode=function(e,t){t||(t=0);let r=e.readUInt32BE(t),n=e.readUInt32BE(t+4);return r*YU+n};ib.encode.bytes=8;ib.decode.bytes=8});var g3=j(ji=>{d();var _a=GN(),Bve=Mve(),s0t=b.Buffer.from([0]),o0t=b.Buffer.from([1]),c0t=b.Buffer.from([2]),Rve=b.Buffer.from([3]),u0t=b.Buffer.from("hypercore"),zk=b.Buffer.from("hypercore capability");ji.writerCapability=function(e,t,r){if(!r)return null;let n=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(n,[Rve,zk,r.tx.slice(0,32),e],r.rx.slice(0,32)),ji.sign(n,t)};ji.verifyRemoteWriterCapability=function(e,t,r){if(!r)return null;let n=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(n,[Rve,zk,r.rx.slice(0,32),e],r.tx.slice(0,32)),ji.verify(n,t,e)};ji.capability=function(e,t){if(!t)return null;let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[zk,t.tx.slice(0,32),e],t.rx.slice(0,32)),r};ji.remoteCapability=function(e,t){if(!t)return null;let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[zk,t.rx.slice(0,32),e],t.tx.slice(0,32)),r};ji.keyPair=function(e){let t=b.Buffer.allocUnsafe(_a.crypto_sign_PUBLICKEYBYTES),r=b.Buffer.allocUnsafe(_a.crypto_sign_SECRETKEYBYTES);return e?_a.crypto_sign_seed_keypair(t,r,e):_a.crypto_sign_keypair(t,r),{publicKey:t,secretKey:r}};ji.validateKeyPair=function(e){let t=b.Buffer.allocUnsafe(_a.crypto_sign_PUBLICKEYBYTES);return _a.crypto_sign_ed25519_sk_to_pk(t,e.secretKey),t.equals(e.publicKey)};ji.sign=function(e,t){let r=b.Buffer.allocUnsafe(_a.crypto_sign_BYTES);return _a.crypto_sign_detached(r,e,t),r};ji.verify=function(e,t,r){return _a.crypto_sign_verify_detached(t,e,r)};ji.data=function(e){let t=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(t,[s0t,Hk(e.length),e]),t};ji.leaf=function(e){return ji.data(e.data)};ji.parent=function(e,t){if(e.index>t.index){let n=e;e=t,t=n}let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[o0t,Hk(e.size+t.size),e.hash,t.hash]),r};ji.tree=function(e,t){let r=new Array(3*e.length+1);var n=0;r[n++]=c0t;for(var i=0;i<e.length;i++){let s=e[i];r[n++]=s.hash,r[n++]=Hk(s.index),r[n++]=Hk(s.size)}return t||(t=b.Buffer.allocUnsafe(32)),_a.crypto_generichash_batch(t,r),t};ji.signable=function(e,t){let r=b.Buffer.allocUnsafe(40);return b.Buffer.isBuffer(e)?e.copy(r):ji.tree(e,r.slice(0,32)),Bve.encode(t,r.slice(32)),r};ji.randomBytes=function(e){let t=b.Buffer.allocUnsafe(e);return _a.randombytes_buf(t),t};ji.discoveryKey=function(e){let t=b.Buffer.allocUnsafe(32);return _a.crypto_generichash(t,u0t,e),t};_a.sodium_free?ji.free=function(e){e.secure&&_a.sodium_free(e)}:ji.free=function(){};function Hk(e){return Bve.encode(e,b.Buffer.allocUnsafe(8))}a(Hk,"encodeUInt64")});var Ove=j((o2r,Nve)=>{d();var l0t=Tve(),Qk=qk(),Lve=g3(),y3=yh();Nve.exports=a(class Dve{constructor(t,r,n,i){this.options=n,this.ondone=i,this.buffer=null,this.length=0,this.remotePayload=null,this.payload=r,this.keyPair=n.keyPair||Dve.keyPair(),this.remotePublicKey=null,this.onrecv=p0t.bind(this),this.onsend=d0t.bind(this),this.destroyed=!1,this.noise=l0t(t,{pattern:"XX",onhandshake:o,staticKeyPair:this.keyPair,onstatickey:g0t.bind(this)});let s=this;this.noise.waiting===!1&&_.default.nextTick(h0t,this);function o(u,l){_.default.nextTick(f0t,s),l(null)}a(o,"onhandshake")}recv(t){if(!this.destroyed)for(this.buffer?this.buffer=b.Buffer.concat([this.buffer,t]):this.buffer=t;!this.destroyed&&!this.noise.finished;){if(!this.buffer||this.buffer.length<3)return;if(this.length){if(this.buffer.length<this.length)return;let r=this.buffer.slice(0,this.length);this.buffer=this.length<this.buffer.length?this.buffer.slice(this.length):null,this.length=0,this.noise.recv(r,this.onrecv)}else this.length=y3.decode(this.buffer,0),this.buffer=this.buffer.slice(y3.decode.bytes)}}destroy(t){this.destroyed||(this.destroyed=!0,this.noise.finished||this.noise.destroy(),this.ondone(t))}static keyPair(t){let r={publicKey:b.Buffer.alloc(Qk.PKLEN),secretKey:b.Buffer.alloc(Qk.SKLEN)};return t?Qk.generateSeedKeypair(r.publicKey,r.secretKey,t):Qk.generateKeypair(r.publicKey,r.secretKey),r}},"ProtocolHandshake");function f0t(e){if(e.destroyed)return;e.destroyed=!0;let t={rx:b.Buffer.from(e.noise.split.rx),tx:b.Buffer.from(e.noise.split.tx)};Lve.free(e.noise.split.rx),Lve.free(e.noise.split.tx),e.ondone(null,e.remotePayload,t,e.buffer,e.remotePublicKey,e.noise.handshakeHash)}a(f0t,"finish");function h0t(e){e.destroyed||e.noise.send(e.payload,e.onsend)}a(h0t,"start");function d0t(e,t){if(e)return this.destroy(e);let r=b.Buffer.allocUnsafe(y3.encodingLength(t.length)+t.length);y3.encode(t.length,r,0),t.copy(r,y3.encode.bytes),this.options.send(r)}a(d0t,"onsend");function p0t(e,t){if(e)return this.destroy(e);t&&t.length&&(this.remotePayload=b.Buffer.from(t)),!(this.destroyed||this.noise.finished)&&this.noise.waiting===!1&&this.noise.send(this.payload,this.onsend)}a(p0t,"onrecv");function g0t(e,t){this.remotePublicKey=b.Buffer.from(e),this.options.onauthenticate?this.options.onauthenticate(this.remotePublicKey,t):t(null)}a(g0t,"onstatickey")});var qve=j(sc=>{d();var Gi=fF(),Xn=Gi.varint,ac=Gi.skip,HU=sc.NoisePayload={buffer:!0,encodingLength:null,encode:null,decode:null},zU=sc.Open={buffer:!0,encodingLength:null,encode:null,decode:null},QU=sc.Options={buffer:!0,encodingLength:null,encode:null,decode:null},WU=sc.Status={buffer:!0,encodingLength:null,encode:null,decode:null},VU=sc.Have={buffer:!0,encodingLength:null,encode:null,decode:null},jU=sc.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},GU=sc.Want={buffer:!0,encodingLength:null,encode:null,decode:null},KU=sc.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},$U=sc.Request={buffer:!0,encodingLength:null,encode:null,decode:null},XU=sc.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},Wk=sc.Data={buffer:!0,encodingLength:null,encode:null,decode:null},JU=sc.Close={buffer:!0,encodingLength:null,encode:null,decode:null};y0t();m0t();b0t();v0t();_0t();x0t();w0t();A0t();E0t();S0t();k0t();C0t();function y0t(){var e=[Gi.bytes];HU.encodingLength=t,HU.encode=r,HU.decode=n;function t(i){var s=0;if(!vr(i.nonce))throw new Error("nonce is required");var o=e[0].encodingLength(i.nonce);return s+=1+o,s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.nonce))throw new Error("nonce is required");return s[o++]=10,e[0].encode(i.nonce,s,o),o+=e[0].encode.bytes,r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={nonce:null},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.nonce=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(y0t,"defineNoisePayload");function m0t(){var e=[Gi.bytes];zU.encodingLength=t,zU.encode=r,zU.decode=n;function t(i){var s=0;if(!vr(i.discoveryKey))throw new Error("discoveryKey is required");var o=e[0].encodingLength(i.discoveryKey);if(s+=1+o,vr(i.capability)){var o=e[0].encodingLength(i.capability);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.discoveryKey))throw new Error("discoveryKey is required");return s[o++]=10,e[0].encode(i.discoveryKey,s,o),o+=e[0].encode.bytes,vr(i.capability)&&(s[o++]=18,e[0].encode(i.capability,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={discoveryKey:null,capability:null},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.discoveryKey=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.capability=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(m0t,"defineOpen");function b0t(){var e=[Gi.string,Gi.bool];QU.encodingLength=t,QU.encode=r,QU.decode=n;function t(i){var s=0;if(vr(i.extensions)){for(var o=0;o<i.extensions.length;o++)if(!!vr(i.extensions[o])){var u=e[0].encodingLength(i.extensions[o]);s+=1+u}}if(vr(i.ack)){var u=e[1].encodingLength(i.ack);s+=1+u}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(vr(i.extensions))for(var l=0;l<i.extensions.length;l++)!vr(i.extensions[l])||(s[o++]=10,e[0].encode(i.extensions[l],s,o),o+=e[0].encode.bytes);return vr(i.ack)&&(s[o++]=16,e[1].encode(i.ack,s,o),o+=e[1].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={extensions:[],ack:!1};;){if(o<=s)return n.bytes=s-u,l;var f=Xn.decode(i,s);s+=Xn.decode.bytes;var h=f>>3;switch(h){case 1:l.extensions.push(e[0].decode(i,s)),s+=e[0].decode.bytes;break;case 2:l.ack=e[1].decode(i,s),s+=e[1].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(b0t,"defineOptions");function v0t(){var e=[Gi.bool];WU.encodingLength=t,WU.encode=r,WU.decode=n;function t(i){var s=0;if(vr(i.uploading)){var o=e[0].encodingLength(i.uploading);s+=1+o}if(vr(i.downloading)){var o=e[0].encodingLength(i.downloading);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;return vr(i.uploading)&&(s[o++]=8,e[0].encode(i.uploading,s,o),o+=e[0].encode.bytes),vr(i.downloading)&&(s[o++]=16,e[0].encode(i.downloading,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={uploading:!1,downloading:!1};;){if(o<=s)return n.bytes=s-u,l;var f=Xn.decode(i,s);s+=Xn.decode.bytes;var h=f>>3;switch(h){case 1:l.uploading=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 2:l.downloading=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(v0t,"defineStatus");function _0t(){var e=[Gi.varint,Gi.bytes,Gi.bool];VU.encodingLength=t,VU.encode=r,VU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}if(vr(i.bitfield)){var o=e[1].encodingLength(i.bitfield);s+=1+o}if(vr(i.ack)){var o=e[2].encodingLength(i.ack);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),vr(i.bitfield)&&(s[o++]=26,e[1].encode(i.bitfield,s,o),o+=e[1].encode.bytes),vr(i.ack)&&(s[o++]=32,e[2].encode(i.ack,s,o),o+=e[2].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={start:0,length:1,bitfield:null,ack:!1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:l.bitfield=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:l.ack=e[2].decode(i,s),s+=e[2].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(_0t,"defineHave");function x0t(){var e=[Gi.varint];jU.encodingLength=t,jU.encode=r,jU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={start:0,length:1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(x0t,"defineUnhave");function w0t(){var e=[Gi.varint];GU.encodingLength=t,GU.encode=r,GU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={start:0,length:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(w0t,"defineWant");function A0t(){var e=[Gi.varint];KU.encodingLength=t,KU.encode=r,KU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={start:0,length:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(A0t,"defineUnwant");function E0t(){var e=[Gi.varint,Gi.bool];$U.encodingLength=t,$U.encode=r,$U.decode=n;function t(i){var s=0;if(!vr(i.index))throw new Error("index is required");var o=e[0].encodingLength(i.index);if(s+=1+o,vr(i.bytes)){var o=e[0].encodingLength(i.bytes);s+=1+o}if(vr(i.hash)){var o=e[1].encodingLength(i.hash);s+=1+o}if(vr(i.nodes)){var o=e[0].encodingLength(i.nodes);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.index))throw new Error("index is required");return s[o++]=8,e[0].encode(i.index,s,o),o+=e[0].encode.bytes,vr(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes),vr(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes),vr(i.nodes)&&(s[o++]=32,e[0].encode(i.nodes,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={index:0,bytes:0,hash:!1,nodes:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.index=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.bytes=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:l.hash=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:l.nodes=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(E0t,"defineRequest");function S0t(){var e=[Gi.varint,Gi.bool];XU.encodingLength=t,XU.encode=r,XU.decode=n;function t(i){var s=0;if(!vr(i.index))throw new Error("index is required");var o=e[0].encodingLength(i.index);if(s+=1+o,vr(i.bytes)){var o=e[0].encodingLength(i.bytes);s+=1+o}if(vr(i.hash)){var o=e[1].encodingLength(i.hash);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;if(!vr(i.index))throw new Error("index is required");return s[o++]=8,e[0].encode(i.index,s,o),o+=e[0].encode.bytes,vr(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes),vr(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={index:0,bytes:0,hash:!1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-u,l}var h=Xn.decode(i,s);s+=Xn.decode.bytes;var p=h>>3;switch(p){case 1:l.index=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:l.bytes=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:l.hash=e[1].decode(i,s),s+=e[1].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(S0t,"defineCancel");function k0t(){var e=Wk.Node={buffer:!0,encodingLength:null,encode:null,decode:null};t();function t(){var o=[Gi.varint,Gi.bytes];e.encodingLength=u,e.encode=l,e.decode=f;function u(h){var p=0;if(!vr(h.index))throw new Error("index is required");var g=o[0].encodingLength(h.index);if(p+=1+g,!vr(h.hash))throw new Error("hash is required");var g=o[1].encodingLength(h.hash);if(p+=1+g,!vr(h.size))throw new Error("size is required");var g=o[0].encodingLength(h.size);return p+=1+g,p}a(u,"encodingLength");function l(h,p,g){g||(g=0),p||(p=b.Buffer.allocUnsafe(u(h)));var y=g;if(!vr(h.index))throw new Error("index is required");if(p[g++]=8,o[0].encode(h.index,p,g),g+=o[0].encode.bytes,!vr(h.hash))throw new Error("hash is required");if(p[g++]=18,o[1].encode(h.hash,p,g),g+=o[1].encode.bytes,!vr(h.size))throw new Error("size is required");return p[g++]=24,o[0].encode(h.size,p,g),g+=o[0].encode.bytes,l.bytes=g-y,p}a(l,"encode");function f(h,p,g){if(p||(p=0),g||(g=h.length),!(g<=h.length&&p<=h.length))throw new Error("Decoded message is not valid");for(var y=p,E={index:0,hash:null,size:0},M=!1,z=!1,P=!1;;){if(g<=p){if(!M||!z||!P)throw new Error("Decoded message is not valid");return f.bytes=p-y,E}var Q=Xn.decode(h,p);p+=Xn.decode.bytes;var V=Q>>3;switch(V){case 1:E.index=o[0].decode(h,p),p+=o[0].decode.bytes,M=!0;break;case 2:E.hash=o[1].decode(h,p),p+=o[1].decode.bytes,z=!0;break;case 3:E.size=o[0].decode(h,p),p+=o[0].decode.bytes,P=!0;break;default:p=ac(Q&7,h,p)}}}a(f,"decode")}a(t,"defineNode");var r=[Gi.varint,Gi.bytes,e];Wk.encodingLength=n,Wk.encode=i,Wk.decode=s;function n(o){var u=0;if(!vr(o.index))throw new Error("index is required");var l=r[0].encodingLength(o.index);if(u+=1+l,vr(o.value)){var l=r[1].encodingLength(o.value);u+=1+l}if(vr(o.nodes)){for(var f=0;f<o.nodes.length;f++)if(!!vr(o.nodes[f])){var l=r[2].encodingLength(o.nodes[f]);u+=Xn.encodingLength(l),u+=1+l}}if(vr(o.signature)){var l=r[1].encodingLength(o.signature);u+=1+l}return u}a(n,"encodingLength");function i(o,u,l){l||(l=0),u||(u=b.Buffer.allocUnsafe(n(o)));var f=l;if(!vr(o.index))throw new Error("index is required");if(u[l++]=8,r[0].encode(o.index,u,l),l+=r[0].encode.bytes,vr(o.value)&&(u[l++]=18,r[1].encode(o.value,u,l),l+=r[1].encode.bytes),vr(o.nodes))for(var h=0;h<o.nodes.length;h++)!vr(o.nodes[h])||(u[l++]=26,Xn.encode(r[2].encodingLength(o.nodes[h]),u,l),l+=Xn.encode.bytes,r[2].encode(o.nodes[h],u,l),l+=r[2].encode.bytes);return vr(o.signature)&&(u[l++]=34,r[1].encode(o.signature,u,l),l+=r[1].encode.bytes),i.bytes=l-f,u}a(i,"encode");function s(o,u,l){if(u||(u=0),l||(l=o.length),!(l<=o.length&&u<=o.length))throw new Error("Decoded message is not valid");for(var f=u,h={index:0,value:null,nodes:[],signature:null},p=!1;;){if(l<=u){if(!p)throw new Error("Decoded message is not valid");return s.bytes=u-f,h}var g=Xn.decode(o,u);u+=Xn.decode.bytes;var y=g>>3;switch(y){case 1:h.index=r[0].decode(o,u),u+=r[0].decode.bytes,p=!0;break;case 2:h.value=r[1].decode(o,u),u+=r[1].decode.bytes;break;case 3:var E=Xn.decode(o,u);u+=Xn.decode.bytes,h.nodes.push(r[2].decode(o,u,u+E)),u+=r[2].decode.bytes;break;case 4:h.signature=r[1].decode(o,u),u+=r[1].decode.bytes;break;default:u=ac(g&7,o,u)}}}a(s,"decode")}a(k0t,"defineData");function C0t(){var e=[Gi.bytes];JU.encodingLength=t,JU.encode=r,JU.decode=n;function t(i){var s=0;if(vr(i.discoveryKey)){var o=e[0].encodingLength(i.discoveryKey);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var u=o;return vr(i.discoveryKey)&&(s[o++]=10,e[0].encode(i.discoveryKey,s,o),o+=e[0].encode.bytes),r.bytes=o-u,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var u=s,l={discoveryKey:null};;){if(o<=s)return n.bytes=s-u,l;var f=Xn.decode(i,s);s+=Xn.decode.bytes;var h=f>>3;switch(h){case 1:l.discoveryKey=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(C0t,"defineClose");function vr(e){return e!=null&&(typeof e!="number"||!isNaN(e))}a(vr,"defined")});var Fve=j((p2r,Pve)=>{d();var I0t=V8();Pve.exports=a(class{constructor(t,r){this.instance=I0t(t,r)}update(t,r){this.instance.update(r,t)}final(){this.instance.finalize()}},"XORJS")});var Hve=j((b2r,Yve)=>{d();var Uve=Fve(),T0t=g3();Yve.exports=a(class{constructor(t,r){this.rnonce=t.rnonce,this.tnonce=t.tnonce,this.rx=new Uve(this.rnonce,r.rx.slice(0,32)),this.tx=new Uve(this.tnonce,r.tx.slice(0,32))}encrypt(t){return this.tx.update(t,t),t}decrypt(t){return this.rx.update(t,t),t}destroy(){this.tx.final(),this.rx.final()}static nonce(){return T0t.randomBytes(24)}},"XOR")});var Qve=j((w2r,zve)=>{d();var Ou=yh();zve.exports=a(class{constructor({maxSize:t=8*1024*1024,context:r=null,onmessage:n=null,onmissing:i=null,types:s=null}={}){this._message=null,this._ptr=0,this._varint=0,this._factor=1,this._length=0,this._header=0,this._state=0,this._consumed=0,this._maxSize=t,this._types=s||[],this.receiving=!1,this.destroyed=!1,this.error=null,this.context=r,this.onmessage=n,this.onmissing=i}destroy(t){t&&(this.error=t),this.destroyed=!0}recv(t){if(this.receiving===!0)throw new Error("Cannot recursively receive data");this.receiving=!0;let r=0;for(;r<t.length;)this._state===2?r=this._readMessage(t,r):r=this._readVarint(t,r);return this._state===2&&this._length===0&&this._readMessage(t,r),this.receiving=!1,!this.destroyed}_readMessage(t,r){let n=t.length-r;return n>=this._length?(this._message?t.copy(this._message,this._message.length-this._length,r):this._message=t.slice(r,r+this._length),this._nextState(t,r+=this._length)?r:t.length):(this._message||(this._message=b.Buffer.allocUnsafe(this._length)),t.copy(this._message,this._message.length-this._length,r),this._length-=n,t.length)}_readVarint(t,r){for(;r<t.length;r++){if(this._varint+=(t[r]&127)*this._factor,this._consumed++,t[r]<128)return this._nextState(t,++r)?r:t.length;this._factor*=128}return this._consumed>=8&&this.destroy(new Error("Incoming varint is invalid")),t.length}_nextState(t,r){switch(this._state){case 0:return this._state=1,this._factor=1,this._length=this._varint,this._consumed=this._varint=0,this._length===0&&(this._state=0),!0;case 1:if(this._state=2,this._factor=1,this._header=this._varint,this._length-=this._consumed,this._consumed=this._varint=0,this._length<0||this._length>this._maxSize)return this.destroy(new Error("Incoming message is larger than max size")),!1;if(this.onmissing){let n=t.length-r;this._length>n&&this.onmissing(this._length-n,this.context)}return!0;case 2:return this._state=0,this._onmessage(this._header>>4,this._header&15,this._message,t,r),this._message=null,!this.destroyed;default:return!1}}_onmessage(t,r,n,i,s){if(r>=this._types.length)return this.onmessage===null?void 0:this.onmessage(t,r,n,this.context,i,s);let o=null,{onmessage:u,encoding:l,context:f}=this._types[r];try{o=l.decode(n)}catch(h){this.destroy(h);return}u(t,o,f,i,s)}send(t,r,n){let i=t<<4|r,s=this._encodingLength(r,n)+Ou.encodingLength(i),o=b.Buffer.allocUnsafe(Ou.encodingLength(s)+s);Ou.encode(s,o,0);let u=Ou.encode.bytes;return Ou.encode(i,o,u),this._encode(r,n,o,u+Ou.encode.bytes),o}sendBatch(t){let r=0,n=0;for(let{type:s,message:o}of t)r+=16+this._encodingLength(s,o);let i=b.Buffer.allocUnsafe(r);for(let{channel:s,type:o,message:u}of t){let l=s<<4|o,f=this._encodingLength(o,u)+Ou.encodingLength(l);Ou.encode(f,i,n),n+=Ou.encode.bytes,Ou.encode(l,i,n),n+=Ou.encode.bytes,n+=this._encode(o,u,i,n)}return i.slice(0,n)}_encodingLength(t,r){return t>=this._types.length?r.length:this._types[t].encoding.encodingLength(r)}_encode(t,r,n,i){if(t>=this._types.length)return r.copy(n,i),r.length;let s=this._types[t].encoding;return s.encode(r,n,i),s.encode.bytes}},"SimpleMessageChannels")});var Kve=j((k2r,Gve)=>{d();var Wve=Ove(),oc=qve(),Vve=Hve(),M0t=Qve(),jve=g3(),m3=yh();Gve.exports=a(class{constructor(t,r){let n={nonce:Vve.nonce()};this.handlers=r||{},this.remotePayload=null,this.remotePublicKey=null,this.publicKey=null,this.handshakeHash=null,this.destroyed=!1,this._initiator=t,this._payload=n,this._pending=[],this._handshake=null,this._split=null,this._encryption=null,this._noise=!(r.encrypted===!1&&r.noise===!1),this._buffering=null,this._handshaking=!1,this._messages=new M0t({onmessage:H0t,onmissing:z0t,context:this,types:[{context:this,onmessage:B0t,encoding:oc.Open},{context:this,onmessage:R0t,encoding:oc.Options},{context:this,onmessage:L0t,encoding:oc.Status},{context:this,onmessage:D0t,encoding:oc.Have},{context:this,onmessage:N0t,encoding:oc.Unhave},{context:this,onmessage:O0t,encoding:oc.Want},{context:this,onmessage:q0t,encoding:oc.Unwant},{context:this,onmessage:P0t,encoding:oc.Request},{context:this,onmessage:F0t,encoding:oc.Cancel},{context:this,onmessage:U0t,encoding:oc.Data},{context:this,onmessage:Y0t,encoding:oc.Close}]}),(r.encrypted!==!1||r.noise!==!1)&&(this._handshaking=!0,typeof this.handlers.keyPair!="function"?this._onkeypair(null,this.handlers.keyPair||null):(this._buffering=[],this.handlers.keyPair(this._onkeypair.bind(this))))}_onkeypair(t,r){if(t)return this.destroy(t);if(this._handshake!==null)return;this.handlers.keyPair=r;let n=new Wve(this._initiator,oc.NoisePayload.encode(this._payload),this.handlers,this._onhandshake.bind(this));if(this.publicKey=n.keyPair.publicKey,this._handshake=n,this._buffering)for(;this._buffering.length;)this._recv(this._buffering.shift());this._buffering=null}open(t,r){return this._send(t,0,r)}options(t,r){return this._send(t,1,r)}status(t,r){return this._send(t,2,r)}have(t,r){return this._send(t,3,r)}unhave(t,r){return this._send(t,4,r)}want(t,r){return this._send(t,5,r)}unwant(t,r){return this._send(t,6,r)}request(t,r){return this._send(t,7,r)}cancel(t,r){return this._send(t,8,r)}data(t,r){return this._send(t,9,r)}close(t,r){return this._send(t,10,r||{})}extension(t,r,n){let i=b.Buffer.allocUnsafe(m3.encodingLength(r)+n.length);return m3.encode(r,i,0),n.copy(i,m3.encode.bytes),this._send(t,15,i)}ping(){if(this._handshaking||this._pending.length)return;let t=b.Buffer.from([0]);return this._encryption!==null&&(t=this._encryption.encrypt(t)),this.handlers.send(t)}_onhandshake(t,r,n,i,s,o){if(t)return this.destroy(new Error("Noise handshake error"));if(!r)return this.destroy(new Error("Remote did not include a handshake payload"));this.remotePublicKey=s,this.handshakeHash=o;try{r=oc.NoisePayload.decode(r)}catch{return this.destroy(new Error("Could not parse remote payload"))}if(this._handshake=null,this._handshaking=!1,this._split=n,this._encryption=this.handlers.encrypted===!1?null:new Vve({rnonce:r.nonce,tnonce:this._payload.nonce},n),this.remotePayload=r,this.handlers.onhandshake&&this.handlers.onhandshake(),!this.destroyed)for(i&&this.recv(i);this._pending.length&&!this.destroyed;)this._sendNow(...this._pending.shift())}_send(t,r,n){return this._handshaking||this._pending.length?(this._pending.push([t,r,n]),!1):this._sendNow(t,r,n)}_sendNow(t,r,n){r===0&&n.key&&!n.capability&&(n.capability=this.capability(n.key),n.key=null);let i=this._messages.send(t,r,n);return this._encryption!==null&&(i=this._encryption.encrypt(i)),this.handlers.send(i)}capability(t){return jve.capability(t,this._split)}remoteCapability(t){return jve.remoteCapability(t,this._split)}recv(t){this._buffering!==null?this._buffering.push(t):this._recv(t)}_recv(t){if(!this.destroyed){if(this._handshaking){this._handshake.recv(t);return}this._encryption!==null&&(t=this._encryption.decrypt(t)),this._messages.recv(t)||this.destroy(this._messages.error)}}destroy(t){this.destroyed||(this.destroyed=!0,this._handshake&&this._handshake.destroy(),this._encryption&&this._encryption.destroy(),this.handlers.destroy&&this.handlers.destroy(t))}static keyPair(t){return Wve.keyPair(t)}},"SimpleProtocol");function B0t(e,t,r){r.handlers.onopen&&r.handlers.onopen(e,t)}a(B0t,"onopen");function R0t(e,t,r){r.handlers.onoptions&&r.handlers.onoptions(e,t)}a(R0t,"onoptions");function L0t(e,t,r){r.handlers.onstatus&&r.handlers.onstatus(e,t)}a(L0t,"onstatus");function D0t(e,t,r){r.handlers.onhave&&r.handlers.onhave(e,t)}a(D0t,"onhave");function N0t(e,t,r){r.handlers.onunhave&&r.handlers.onunhave(e,t)}a(N0t,"onunhave");function O0t(e,t,r){r.handlers.onwant&&r.handlers.onwant(e,t)}a(O0t,"onwant");function q0t(e,t,r){r.handlers.onunwant&&r.handlers.onunwant(e,t)}a(q0t,"onunwant");function P0t(e,t,r){r.handlers.onrequest&&r.handlers.onrequest(e,t)}a(P0t,"onrequest");function F0t(e,t,r){r.handlers.oncancel&&r.handlers.oncancel(e,t)}a(F0t,"oncancel");function U0t(e,t,r){r.handlers.ondata&&r.handlers.ondata(e,t)}a(U0t,"ondata");function Y0t(e,t,r){r.handlers.onclose&&r.handlers.onclose(e,t)}a(Y0t,"onclose");function H0t(e,t,r,n){if(t!==15)return;let i=m3.decode(r),s=r.slice(m3.decode.bytes);n.handlers.onextension&&n.handlers.onextension(e,i,s)}a(H0t,"onmessage");function z0t(e,t){t.handlers.onmissing&&t.handlers.onmissing(e)}a(z0t,"onmissing")});var Jve=j((T2r,Xve)=>{d();Xve.exports=b3;function b3(e,t,r){if(!(this instanceof b3))return new b3(e,t,r);this.ms=e,this.ontimeout=t,this.context=r||null,this.called=!1,this._timeout=setTimeout($ve,e,this)}a(b3,"Timeout");b3.prototype.refresh=function(){this.called||this.ontimeout===null||(clearTimeout(this._timeout),this._timeout=setTimeout($ve,this.ms,this))};b3.prototype.destroy=function(){this.ontimeout=null,clearTimeout(this._timeout)};function $ve(e){e.called=!0,e.ontimeout.call(e.context)}a($ve,"call")});var e_e=j((L2r,Zve)=>{d();Zve.exports=a(class{constructor(){this._tick=0,this._fns=[],this._dep=null}get waiting(){return this._tick>0}depend(t){if(this._dep!==null)throw new Error("Can only depend on one other guard currently");this._dep=t}wait(){this._tick++}continue(t,r,n){this._tick===1?_.default.nextTick(Q0t,this):this._tick--,t&&t(r,n)}waitAndContinue(){let t=!1;return this.wait(),()=>t?!1:(t=!0,this.continue(),!0)}continueSync(t,r,n){if(!--this._tick){for(;this._fns!==null&&this._fns.length;)this._ready(this._fns.pop());t&&t(r,n)}}destroy(){let t=this._fns;if(!t)for(this._fns=null;t.length;)t.pop()()}ready(t){this._fns===null||this._tick===0?this._ready(t):this._fns.push(t)}_ready(t){this._dep===null?t():this._dep.ready(t)}},"Nanoguard");function Q0t(e){e.continueSync()}a(Q0t,"continueNT")});var r_e=j((O2r,t_e)=>{d();t_e.exports=a(function(t){return b.Buffer.isBuffer(t)&&(t=t.toString("hex")),typeof t=="string"&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t},"prettyHash")});var a_e=j((F2r,i_e)=>{d();i_e.exports=Ra;Ra.ascii=ab("ascii");Ra.utf8=ab("utf-8");Ra.hex=ab("hex");Ra.base64=ab("base64");Ra.ucs2=ab("ucs2");Ra.utf16le=ab("utf16le");Ra.ndjson=n_e(!0);Ra.json=n_e(!1);Ra.binary={name:"binary",encode:a(function(t){return typeof t=="string"?b.Buffer.from(t,"utf-8"):b.Buffer.isBuffer(t)?t:b.Buffer.from(t.buffer,t.byteOffset,t.byteLength)},"encodeBinary"),decode:a(function(t){return b.Buffer.isBuffer(t)?t:b.Buffer.from(t.buffer,t.byteOffset,t.byteLength)},"decodeBinary")};function Ra(e,t){if(typeof e=="object"&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return Ra.ndjson;case"json":return Ra.json;case"ascii":return Ra.ascii;case"utf-8":case"utf8":return Ra.utf8;case"hex":return Ra.hex;case"base64":return Ra.base64;case"ucs-2":case"ucs2":return Ra.ucs2;case"utf16-le":case"utf16le":return Ra.utf16le}return t!==void 0?t:Ra.binary}a(Ra,"codecs");function n_e(e){return{name:e?"ndjson":"json",encode:e?r:t,decode:a(function(i){return JSON.parse(i.toString())},"decodeJSON")};function t(n){return b.Buffer.from(JSON.stringify(n))}function r(n){return b.Buffer.from(JSON.stringify(n)+`
`)}}a(n_e,"createJSON");function ab(e){return{name:e,encode:a(function(r){return typeof r!="string"&&(r=r.toString()),b.Buffer.from(r,e)},"encodeString"),decode:a(function(r){return r.toString(e)},"decodeString")}}a(ab,"createString")});var c_e=j((H2r,o_e)=>{d();var s_e=a_e(),Vk=class{constructor(t,r,n={}){this.id=0,this.name=r,this.encoding=s_e(n.encoding||"binary"),this.handlers=n,this.local=t}encode(t){return this.encoding.encode(t)}remoteSupports(){return!!(this.local&&this.local.map&&this.local.map[this.id]===this)}onmessage(t,r){if(!this.handlers.onmessage)return;let n;try{n=this.encoding.decode(t)}catch(i){this.handlers.onerror&&this.handlers.onerror(i,r);return}this.handlers.onmessage(n,r)}get destroyed(){return this.local===null}destroy(){this.local!==null&&(this.local._remove(this),this.local=null)}static createLocal(t=null){return new Gk(t,this)}};a(Vk,"AbstractExtension");var jk=class{constructor(t){this.local=t,this.names=null,this.map=null,this.changes=0}update(t){this.names=t,this.changes=0}onmessage(t,r,n=null){this.changes!==this.local.changes&&(this.map=this.names?V0t(this.local.messages,this.names):null,this.changes=this.local.changes);let i=this.map&&this.map[t];i&&i.onmessage(r,n)}};a(jk,"Remote");var Gk=class{constructor(t=null,r){this.messages=[],this.handlers=t,this.Extension=r,this.changes=1,this.exclusive=!0}get length(){return this.messages.length}[Symbol.iterator](){return this.messages[Symbol.iterator]()}get(t){for(let r of this.messages)if(r.name===t)return r;return null}add(t,r){let n;typeof r!="function"?n=new this.Extension(this,t,r):(n=new this.Extension(this,t,{}),n.handlers=r(n)||{},n.encoding=s_e(n.handlers.encoding||"binary")),this.changes++,this.messages.push(n),this.messages.sort(W0t);for(let i=0;i<this.messages.length;i++)this.messages[i].id=i;if(this.exclusive&&(n.id>0&&this.messages[n.id-1].name===n.name||n.id<this.messages.length-1&&this.messages[n.id+1].name===n.name))throw this._remove(n),new Error("Cannot add multiple messages with the same name");return this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate(),n}remote(){return new jk(this)}_remove(t){this.changes++,this.messages.splice(t.id,1),t.id=-1,this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate()}names(){let t=new Array(this.messages.length);for(let r=0;r<t.length;r++)t[r]=this.messages[r].name;return t}};a(Gk,"Local");function W0t(e,t){return e.name<t.name?-1:e.name>t.name?1:0}a(W0t,"sortMessages");function V0t(e,t){let r=0,n=0,i=new Array(t.length);for(;r<e.length&&n<t.length;){let s=e[r].name,o=t[n];s<o?r++:s>o?n++:i[n++]=e[r]}return i}a(V0t,"match");o_e.exports=Vk});var l_e=j((W2r,u_e)=>{d();u_e.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var h_e=j((G2r,f_e)=>{d();f_e.exports=a(class{constructor(t){if(!(t>0)||(t-1&t)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}},"FixedFIFO")});var g_e=j((J2r,p_e)=>{d();var d_e=h_e();p_e.exports=a(class{constructor(t){this.hwm=t||16,this.head=new d_e(this.hwm),this.tail=this.head}push(t){if(!this.head.push(t)){let r=this.head;this.head=r.next=new d_e(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return t}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}},"FastFIFO")});var q_e=j((tbr,O_e)=>{d();var{EventEmitter:j0t}=ea(),rY=new Error("Stream was destroyed"),ZU=new Error("Premature close"),__e=l_e(),x_e=g_e(),La=(1<<25)-1,hg=1,ug=2,w3=4,w_e=La^hg,dg=1<<3,nC=2<<3,iC=4<<3,C0=8<<3,ob=16<<3,aC=32<<3,lg=64<<3,eY=128<<3,nY=256<<3,iY=512<<3,qu=1024<<3,tC=2049<<3,sC=4096<<3,G0t=La^dg,K0t=La^nC,$0t=La^(nC|sC),X0t=La^iC,J0t=La^sC,Z0t=La^ob,ept=La^(C0|iY),tpt=La^lg,y_e=La^(ob|aC),rpt=La^tC,T0=1<<16,aY=2<<16,sY=4<<16,fg=8<<16,A3=16<<16,pg=32<<16,tY=64<<16,rC=129<<16,cb=256<<16,A_e=La^T0,npt=La^sY,E_e=La^aY,ipt=La^cb,apt=La^A3,spt=La^fg,opt=La^rC,ub=dg|T0,S_e=La^ub,oY=qu|pg,qh=ug|w3,Pu=qh|hg,k_e=qh|oY,cpt=E_e&K0t,C_e=(rC|tC)&S_e,I_e=ub|C_e,T_e=Pu|C_e,upt=Pu|lg|qu,m_e=Pu|qu|C0,lpt=ob|aC,fpt=dg|iC,hpt=dg|iC|sC,dpt=nC|dg,ppt=Pu|lg|C0,gpt=nY|C0,ypt=Pu|nY|C0|iY,mpt=Pu|dg|lg|qu|sC,bpt=qh|lg|qu,vpt=Pu|cb|pg,_pt=fg|A3,M_e=fg|T0,xpt=fg|A3|Pu|T0,b_e=Pu|T0|fg,wpt=aY|T0,Apt=T0|sY,Ept=Pu|cb|M_e|pg,Spt=A3|qh|cb|pg,Kk=Symbol.asyncIterator||Symbol("asyncIterator"),v3=class{constructor(t,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=t,this.queue=new x_e,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||s||N_e,this.map=i||n,this.afterWrite=Ipt.bind(this),this.afterUpdateNextTick=Bpt.bind(this)}get ended(){return(this.stream._duplexState&pg)!==0}push(t){return this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=fg,!0):(this.stream._duplexState|=_pt,!1)}shift(){let t=this.queue.shift(),r=this.stream;return this.buffered-=this.byteLength(t),this.buffered===0&&(r._duplexState&=spt),t}end(t){typeof t=="function"?this.stream.once("finish",t):t!=null&&this.push(t),this.stream._duplexState=(this.stream._duplexState|cb)&E_e}autoBatch(t,r){let n=[],i=this.stream;for(n.push(t);(i._duplexState&b_e)===M_e;)n.push(i._writableState.shift());if((i._duplexState&Pu)!==0)return r(null);i._writev(n,r)}update(){let t=this.stream;for(;(t._duplexState&b_e)===fg;){let r=this.shift();t._duplexState|=Apt,t._write(r,this.afterWrite),t._duplexState&=npt}(t._duplexState&wpt)===0&&this.updateNonPrimary()}updateNonPrimary(){let t=this.stream;if((t._duplexState&Ept)===cb){t._duplexState=(t._duplexState|T0)&ipt,t._final(Cpt.bind(this));return}if((t._duplexState&qh)===ug){(t._duplexState&I_e)===0&&(t._duplexState|=ub,t._destroy(B_e.bind(this)));return}(t._duplexState&T_e)===hg&&(t._duplexState=(t._duplexState|ub)&w_e,t._open(R_e.bind(this)))}updateNextTick(){(this.stream._duplexState&rC)===0&&(this.stream._duplexState|=rC,__e(this.afterUpdateNextTick))}};a(v3,"WritableState");var $k=class{constructor(t,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=t,this.queue=new x_e,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||s||N_e,this.map=i||n,this.pipeTo=null,this.afterRead=Tpt.bind(this),this.afterUpdateNextTick=Mpt.bind(this)}get ended(){return(this.stream._duplexState&qu)!==0}pipe(t,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=aC,this.pipeTo=t,this.pipeline=new Jk(this.stream,t,r),r&&this.stream.on("error",v_e),oC(t))t._writableState.pipeline=this.pipeline,r&&t.on("error",v_e),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,t),i=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",n),t.on("close",i),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",kpt.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){let r=this.stream;return t===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|lg)&$0t,!1):(this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),r._duplexState=(r._duplexState|C0)&J0t,this.buffered<this.highWaterMark)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=ept),t}unshift(t){let r,n=[];for(;(r=this.queue.shift())!==void 0;)n.push(r);this.push(t);for(let i=0;i<n.length;i++)this.queue.push(n[i])}read(){let t=this.stream;if((t._duplexState&m_e)===C0){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(t._duplexState&=y_e),(t._duplexState&eY)!==0&&t.emit("data",r),r}return null}drain(){let t=this.stream;for(;(t._duplexState&m_e)===C0&&(t._duplexState&lpt)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(t._duplexState&=y_e),(t._duplexState&eY)!==0&&t.emit("data",r)}}update(){let t=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(t._duplexState&mpt)===0;)t._duplexState|=hpt,t._read(this.afterRead),t._duplexState&=X0t,(t._duplexState&dg)===0&&this.drain();(t._duplexState&ypt)===gpt&&(t._duplexState|=iY,t.emit("readable")),(t._duplexState&dpt)===0&&this.updateNonPrimary()}updateNonPrimary(){let t=this.stream;if((t._duplexState&ppt)===lg&&(t._duplexState=(t._duplexState|qu)&tpt,t.emit("end"),(t._duplexState&k_e)===oY&&(t._duplexState|=ug),this.pipeTo!==null&&this.pipeTo.end()),(t._duplexState&qh)===ug){(t._duplexState&I_e)===0&&(t._duplexState|=ub,t._destroy(B_e.bind(this)));return}(t._duplexState&T_e)===hg&&(t._duplexState=(t._duplexState|ub)&w_e,t._open(R_e.bind(this)))}updateNextTick(){(this.stream._duplexState&tC)===0&&(this.stream._duplexState|=tC,__e(this.afterUpdateNextTick))}};a($k,"ReadableState");var Xk=class{constructor(t){this.data=null,this.afterTransform=Rpt.bind(t),this.afterFinal=null}};a(Xk,"TransformState");var Jk=class{constructor(t,r,n){this.from=t,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,r){if(r&&(this.error=r),t===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&qu)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(t===this.from&&(this.from=null,this.to!==null)){(t._duplexState&qu)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};a(Jk,"Pipeline");function kpt(){this.stream._duplexState|=aC,(this.stream._duplexState&fpt)===0?this.updateNextTick():this.drain()}a(kpt,"afterDrain");function Cpt(e){let t=this.stream;e&&t.destroy(e),(t._duplexState&qh)===0&&(t._duplexState|=pg,t.emit("finish")),(t._duplexState&k_e)===oY&&(t._duplexState|=ug),t._duplexState&=A_e,this.update()}a(Cpt,"afterFinal");function B_e(e){let t=this.stream;!e&&this.error!==rY&&(e=this.error),e&&t.emit("error",e),t._duplexState|=w3,t.emit("close");let r=t._readableState,n=t._writableState;r!==null&&r.pipeline!==null&&r.pipeline.done(t,e),n!==null&&n.pipeline!==null&&n.pipeline.done(t,e)}a(B_e,"afterDestroy");function Ipt(e){let t=this.stream;e&&t.destroy(e),t._duplexState&=A_e,(t._duplexState&xpt)===A3&&(t._duplexState&=apt,(t._duplexState&tY)===tY&&t.emit("drain")),(t._duplexState&sY)===0&&this.update()}a(Ipt,"afterWrite");function Tpt(e){e&&this.stream.destroy(e),this.stream._duplexState&=G0t,(this.stream._duplexState&iC)===0&&this.update()}a(Tpt,"afterRead");function Mpt(){this.stream._duplexState&=rpt,this.update()}a(Mpt,"updateReadNT");function Bpt(){this.stream._duplexState&=opt,this.update()}a(Bpt,"updateWriteNT");function R_e(e){let t=this.stream;e&&t.destroy(e),(t._duplexState&ug)===0&&((t._duplexState&upt)===0&&(t._duplexState|=nC),(t._duplexState&vpt)===0&&(t._duplexState|=aY),t.emit("open")),t._duplexState&=S_e,t._writableState!==null&&t._writableState.update(),t._readableState!==null&&t._readableState.update()}a(R_e,"afterOpen");function Rpt(e,t){t!=null&&this.push(t),this._writableState.afterWrite(e)}a(Rpt,"afterTransform");var sb=class extends j0t{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",qpt.bind(this)))}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&w3)!==0}get destroying(){return(this._duplexState&qh)!==0}destroy(t){(this._duplexState&qh)===0&&(t||(t=rY),this._duplexState=(this._duplexState|ug)&cpt,this._readableState!==null&&(this._readableState.error=t,this._readableState.updateNextTick()),this._writableState!==null&&(this._writableState.error=t,this._writableState.updateNextTick()),this._predestroy())}on(t,r){return this._readableState!==null&&(t==="data"&&(this._duplexState|=eY|ob,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=nY,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=tY,this._writableState.updateNextTick()),super.on(t,r)}};a(sb,"Stream");var I0=class extends sb{constructor(t){super(t),this._duplexState|=hg|pg,this._readableState=new $k(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this.resume().pause())}_read(t){t(null)}pipe(t,r){return this._readableState.pipe(t,r),this._readableState.updateNextTick(),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=ob,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Z0t,this}static _fromAsyncIterator(t,r){let n,i=new I0({...r,read(o){t.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=t.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(t,r){if(Npt(t))return t;if(t[Kk])return this._fromAsyncIterator(t[Kk](),r);Array.isArray(t)||(t=t===void 0?[]:[t]);let n=0;return new I0({...r,read(i){this.push(n===t.length?null:t[n++]),i(null)}})}static isBackpressured(t){return(t._duplexState&bpt)!==0||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return(t._duplexState&ob)===0}[Kk](){let t=this,r=null,n=null,i=null;return this.on("error",f=>{r=f}),this.on("readable",s),this.on("close",o),{[Kk](){return this},next(){return new Promise(function(f,h){n=f,i=h;let p=t.read();p!==null?u(p):(t._duplexState&w3)!==0&&u(null)})},return(){return l(null)},throw(f){return l(f)}};function s(){n!==null&&u(t.read())}a(s,"onreadable");function o(){n!==null&&u(null)}a(o,"onclose");function u(f){i!==null&&(r?i(r):f===null&&(t._duplexState&qu)===0?i(rY):n({value:f,done:f===null}),i=n=null)}a(u,"ondata");function l(f){return t.destroy(f),new Promise((h,p)=>{if(t._duplexState&w3)return h({value:void 0,done:!0});t.once("close",function(){f?p(f):h({value:void 0,done:!0})})})}a(l,"destroy")}};a(I0,"Readable");var Zk=class extends sb{constructor(t){super(t),this._duplexState|=hg|qu,this._writableState=new v3(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,r){r(null)}_write(t,r){this._writableState.autoBatch(t,r)}_final(t){t(null)}static isBackpressured(t){return(t._duplexState&Spt)!==0}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};a(Zk,"Writable");var _3=class extends I0{constructor(t){super(t),this._duplexState=hg,this._writableState=new v3(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,r){r(null)}_write(t,r){this._writableState.autoBatch(t,r)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};a(_3,"Duplex");var x3=class extends _3{constructor(t){super(t),this._transformState=new Xk(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,t(null),this._transform(r,this._transformState.afterTransform)}else t(null)}_transform(t,r){r(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(Lpt.bind(this))}};a(x3,"Transform");var eC=class extends x3{};a(eC,"PassThrough");function Lpt(e,t){let r=this._transformState.afterFinal;if(e)return r(e);t!=null&&this.push(t),this.push(null),r(null)}a(Lpt,"transformAfterFlush");function Dpt(...e){return new Promise((t,r)=>L_e(...e,n=>{if(n)return r(n);t()}))}a(Dpt,"pipelinePromise");function L_e(e,...t){let r=Array.isArray(e)?[...e,...t]:[e,...t],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let f=1;f<r.length;f++)s=r[f],oC(i)?i.pipe(s,l):(u(i,!0,f>1,l),i.pipe(s)),i=s;if(n){let f=!1;s.on("finish",()=>{f=!0}),s.on("error",h=>{o=o||h}),s.on("close",()=>n(o||(f?null:ZU)))}return s;function u(f,h,p,g){f.on("error",g),f.on("close",y);function y(){if(h&&f._readableState&&!f._readableState.ended||p&&f._writableState&&!f._writableState.ended)return g(ZU)}a(y,"onclose")}function l(f){if(!(!f||o)){o=f;for(let h of r)h.destroy(f)}}}a(L_e,"pipeline");function D_e(e){return!!e._readableState||!!e._writableState}a(D_e,"isStream");function oC(e){return typeof e._duplexState=="number"&&D_e(e)}a(oC,"isStreamx");function Npt(e){return oC(e)&&e.readable}a(Npt,"isReadStreamx");function Opt(e){return typeof e=="object"&&e!==null&&typeof e.byteLength=="number"}a(Opt,"isTypedArray");function N_e(e){return Opt(e)?e.byteLength:1024}a(N_e,"defaultByteLength");function v_e(){}a(v_e,"noop");function qpt(){this.destroy(new Error("Stream aborted."))}a(qpt,"abort");O_e.exports={pipeline:L_e,pipelinePromise:Dpt,isStream:D_e,isStreamx:oC,Stream:sb,Writable:Zk,Readable:I0,Duplex:_3,Transform:x3,PassThrough:eC}});var H_e=j((ibr,Y_e)=>{d();var P_e=Kve(),cC=g3(),cY=Jve(),Ppt=KN(),Fpt=e_e(),F_e=r_e(),Upt=c_e(),{Duplex:Ypt}=q_e(),Li=Hc()("hypercore-protocol"),uC=class extends Upt{send(t){let r=this.local.handlers;return r._changes!==this.local.changes&&(r._changes=this.local.changes,r.state.options(0,{extensions:this.local.names()})),r.state.extension(0,this.id,this.encode(t))}};a(uC,"StreamExtension");var lC=class{constructor(t,{encrypted:r,noise:n,keyPair:i}){this.stream=t,this.created=new Map,this.local=[null],this.remote=[null],this.noise=!(n===!1&&r===!1),this.encrypted=r!==!1,this.keyPair=i}allocLocal(){let t=this.local.indexOf(null);return t>0?t:(this.local.push(null),this.local.length-1)}attachLocal(t){let r=this.allocLocal();this.local[r]=t,t.localId=r}attachRemote(t,r){this.remote.length===r&&this.remote.push(null),this.remote[r]=t,t.remoteId=r}detachChannel(t){t.localId>-1&&this.local[t.localId]===t&&(this.local[t.localId]=null,t.localId=-1,t.handlers&&t.handlers.onclose&&t.handlers.onclose()),t.remoteId>-1&&this.remote[t.remoteId]===t&&(this.remote[t.remoteId]=null);let r=t.discoveryKey.toString("hex");this.created.get(r)===t&&this.created.delete(r)}getChannel(t){return this.created.get(t.toString("hex"))}createChannel(t){let r=t.toString("hex"),n=this.created.get(r);if(n)return n;let i=new fC(this.stream.state,this.stream,t);return this.created.set(r,i),i}onauthenticate(t,r){this.stream.handlers&&this.stream.handlers.onauthenticate?this.stream.handlers.onauthenticate(t,r):r(null)}onhandshake(){Li("recv handshake"),this.stream.handlers&&this.stream.handlers.onhandshake&&this.stream.handlers.onhandshake(),this.stream.emit("handshake")}onopen(t,r){Li("recv open",t,r);let n=this.createChannel(r.discoveryKey);if(n.remoteCapability=r.capability,this.attachRemote(n,t),n.localId===-1)this.stream.handlers.ondiscoverykey&&this.stream.handlers.ondiscoverykey(n.discoveryKey),this.stream.emit("discovery-key",n.discoveryKey);else{if(this.noise&&!n.remoteVerified){this.stream.destroy(new Error("Invalid remote channel capability"));return}this.stream.emit("duplex-channel",n)}n.handlers&&n.handlers.onopen&&n.handlers.onopen(),this.stream.handlers.onremoteopen&&this.stream.handlers.onremoteopen(n.discoveryKey),this.stream.emit("remote-open",n.discoveryKey)}onoptions(t,r){Li("recv options",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onoptions?n.handlers.onoptions(r):t===0&&!n&&this.stream._updateExtensions(r.extensions)}onstatus(t,r){Li("recv status",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onstatus&&n.handlers.onstatus(r)}onhave(t,r){Li("recv have",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onhave&&n.handlers.onhave(r)}onunhave(t,r){Li("recv unhave",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onunhave&&n.handlers.onunhave(r)}onwant(t,r){Li("recv want",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onwant&&n.handlers.onwant(r)}onunwant(t,r){Li("recv unwant",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onunwant&&n.handlers.onunwant(r)}onrequest(t,r){Li("recv request",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onrequest&&n.handlers.onrequest(r)}oncancel(t,r){Li("recv cancel",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.oncancel&&n.handlers.oncancel(r)}ondata(t,r){Li("recv data",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.ondata&&n.handlers.ondata(r)}onextension(t,r,n){Li("recv extension",t,r);let i=this.remote[t];i&&i.handlers&&i.handlers.onextension?i.handlers.onextension(r,n):t===0&&!i&&this.stream.remoteExtensions.onmessage(r,n)}onclose(t,r){Li("recv close",t,r);let n=t<this.remote.length?this.remote[t]:null;if(n?this.remote[t]=null:r.discoveryKey&&(n=this.getChannel(r.discoveryKey)),!n)return;n.localId>-1&&this.local[n.localId]===n&&(this.local[n.localId]=null,n.state.close(n.localId,{}),n.localId=-1,n.handlers&&n.handlers.onclose&&n.handlers.onclose()),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(n.discoveryKey,n.key);let i=n.discoveryKey.toString("hex");this.created.get(i)===n&&this.created.delete(i),this.stream._prefinalize()}onmissing(t){this.stream._utp!==null&&this.stream._utp.setContentSize(t)}send(t){return this.stream.keepAlive!==null&&this.stream.keepAlive.refresh(),this.stream.bytesSent+=t.length,this.stream.push(t)}destroy(t){this.stream.destroy(t),this.local=[],this.remote=[];for(let r of this.created.values()){let n=r.localId===-1;r.localId=r.remoteId=-1,!n&&r.handlers&&r.handlers.onclose&&r.handlers.onclose(),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(r.discoveryKey,r.key)}this.created.clear()}};a(lC,"Channelizer");var fC=class{constructor(t,r,n){this.key=null,this.discoveryKey=n,this.localId=-1,this.remoteId=-1,this.remoteCapability=null,this.handlers=null,this.state=t,this.stream=r}get opened(){return this.localId>-1}get closed(){return this.localId===-1}get remoteOpened(){return this.remoteId>-1}get remoteVerified(){return this.localId>-1&&this.remoteId>-1&&!!this.remoteCapability&&this.remoteCapability.equals(this.state.remoteCapability(this.key))}options(t){return Li("send options",t),this.state.options(this.localId,t)}status(t){return Li("send status",t),this.state.status(this.localId,t)}have(t){return Li("send have",t),this.state.have(this.localId,t)}unhave(t){return Li("send unhave",t),this.state.unhave(this.localId,t)}want(t){return Li("send want",t),this.state.want(this.localId,t)}unwant(t){return Li("send unwant",t),this.state.unwant(this.localId,t)}request(t){return Li("send request",t),this.state.request(this.localId,t)}cancel(t){return Li("send cancel",t),this.state.cancel(this.localId,t)}data(t){return Li("send data",t),this.state.data(this.localId,t)}extension(t,r){return Li("send extension",t),this.state.extension(this.localId,t,r)}close(){if(Li("send close"),this.closed)return;let t=this.localId;this.stream.channelizer.detachChannel(this),this.state.close(t,{}),this.stream._prefinalize()}destroy(t){this.stream.destroy(t)}};a(fC,"Channel");Y_e.exports=a(class U_e extends Ypt{constructor(t,r={}){if(super(),typeof t!="boolean")throw new Error("Must specify initiator boolean in replication stream");if(this.initiator=t,this.handlers=r,this.channelizer=new lC(this,{encrypted:r.encrypted,noise:r.noise,keyPair:r.keyPair}),this.state=new P_e(t,this.channelizer),this.live=!!r.live,this.timeout=null,this.keepAlive=null,this.prefinalize=new Fpt,this.bytesSent=0,this.bytesReceived=0,this.extensions=uC.createLocal(this),this.remoteExtensions=this.extensions.remote(),this._utp=null,this._changes=0,this.once("finish",this.push.bind(this,null)),this.on("pipe",this._onpipe),r.timeout!==!1&&r.timeout!==0){let n=r.timeout||2e4;this.setTimeout(n,()=>this.destroy(new Error("ETIMEDOUT"))),this.setKeepAlive(Math.ceil(n/2))}}registerExtension(t,r){return this.extensions.add(t,r)}[Ppt](t,r){let n="";if(typeof r.indentationLvl=="number")for(;n.length<r.indentationLvl;)n+=" ";return`HypercoreProtocolStream(
`+n+"  publicKey: "+r.stylize(this.publicKey&&F_e(this.publicKey),"string")+`
`+n+"  remotePublicKey: "+r.stylize(this.remotePublicKey&&F_e(this.remotePublicKey),"string")+`
`+n+"  remoteAddress: "+r.stylize(this.remoteAddress,"string")+`
`+n+"  remoteType: "+r.stylize(this.remoteType,"string")+`
`+n+"  live: "+r.stylize(this.live,"boolean")+`
`+n+"  initiator: "+r.stylize(this.initiator,"boolean")+`
`+n+"  channelCount: "+r.stylize(this.channelCount,"number")+`
`+n+"  destroyed: "+r.stylize(this.destroyed,"boolean")+`
`+n+"  prefinalized: "+r.stylize(!this.prefinalize.waiting,"boolean")+`
`+n+"  bytesSent: "+r.stylize(this.bytesSent,"number")+`
`+n+"  bytesReceived: "+r.stylize(this.bytesReceived,"number")+`
`+n+")"}static isProtocolStream(t){return!!(t&&typeof t.initiator=="boolean"&&typeof t.pipe=="function"&&t.state)}static keyPair(t){return P_e.keyPair(t)}get remoteAddress(){let t=this._readableState.pipeTo;return!t||U_e.isProtocolStream(t)?null:t.remoteAddress}get remoteType(){let t=this._readableState.pipeTo;return t?t._utp?"utp":t.remoteAddress?"tcp":"unknown":null}get publicKey(){return this.state.publicKey}get remotePublicKey(){return this.state.remotePublicKey}_onpipe(t){typeof t.setContentSize=="function"&&(this._utp=t)}_write(t,r){this.timeout!==null&&this.timeout.refresh(),this.bytesReceived+=t.length,this.state.recv(t),r(null)}_destroy(t){this._predestroy(),this.channelizer.destroy(),this.state.destroy(),t(null)}_predestroy(){this.timeout!==null&&(this.timeout.destroy(),this.timeout=null),this.keepAlive!==null&&(this.keepAlive.destroy(),this.keepAlive=null),this.prefinalize.destroy()}_prefinalize(){this.emit("prefinalize"),this.prefinalize.ready(()=>{this.destroyed||this.channelCount||this.live||this.finalize()})}_updateExtensions(t){this.remoteExtensions.update(t),this.handlers.onextensions&&this.handlers.onextensions(t),this.emit("extensions",t)}remoteOpened(t){let r=this.channelizer.getChannel(cC.discoveryKey(t));return!!(r&&r.remoteId>-1)}remoteVerified(t){let r=this.channelizer.getChannel(cC.discoveryKey(t));return!!r&&!!r.remoteCapability&&r.remoteCapability.equals(this.state.remoteCapability(t))}opened(t){let r=this.channelizer.getChannel(cC.discoveryKey(t));return!!(r&&r.localId>-1)}ping(){return this.state.ping()}setKeepAlive(t){if(this.keepAlive&&this.keepAlive.destroy(),!t){this.keepAlive=null;return}this.keepAlive=cY(t,r,this);function r(){this.ping(),this.keepAlive=cY(t,r,this)}a(r,"ping")}setTimeout(t,r){if(this.timeout&&this.timeout.destroy(),!t){this.timeout=null;return}this.timeout=cY(t,this.emit.bind(this,"timeout")),r&&this.once("timeout",r)}get channelCount(){return this.channelizer.created.size}get channels(){return this.channelizer.created.values()}open(t,r){let n=cC.discoveryKey(t),i=this.channelizer.createChannel(n);return i.key===null&&(i.key=t,this.channelizer.attachLocal(i),this.state.open(i.localId,{key:t,discoveryKey:n})),r&&(i.handlers=r),i.remoteId>-1&&this.emit("duplex-channel",i),i}close(t){let r=this.channelizer.getChannel(t);if(r&&r.localId>-1){r.close();return}this.state.close(this.channelizer.allocLocal(),{discoveryKey:t})}finalize(){this.push(null)}},"ProtocolStream")});var W_e=j((obr,Q_e)=>{d();var Hpt=Ube(),zpt=H_e(),Qpt=Ld(),{hyperWire:Wpt}=WE(),z_e=Hc()("modem56"),hC=class{constructor(t=null,r){z_e("[Modem56] Brrrrrr.. ptong ptong ptong ptong *whitenoise*"),this.swarm=t||Hpt(r),this._topic=null,this._spawnWire=null,this._onconnection=this._onconnection.bind(this),this.swarm.on("error",n=>console.error("[Modem56] swarm error: ",n.message))}join(t,r){if(this._topic){this._spawnWire=r||this._spawnWire;return}return typeof t=="string"&&(t=Qpt.createHash("sha256").update(t).digest()),this.swarm.join(t),this._spawnWire=r,this._topic=t,this.swarm.on("connection",this._onconnection),()=>this.leave()}_onconnection(t,r){z_e("[Modem56] peer connected",r);let{client:n}=r,i=new zpt(n);t.pipe(i).pipe(t),i.on("error",u=>console.error("[Modem56] hyper-proto error: ",u.message)),t.on("error",u=>console.error("[Modem56] socket error: ",u.message));let s=this._topic,o=this._spawnWire(r);Wpt(o,i,s)}leave(){this.swarm.leave(this._topic),this.swarm.off("connection",this._onconnection),this._topic=null}};a(hC,"Modem56");Q_e.exports=hC});var X_e=j((uY,lY)=>{d();(function(e,t){typeof uY=="object"&&typeof lY<"u"?lY.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(uY,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",u="day",l="week",f="month",h="quarter",p="year",g="date",y="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var N=["th","st","nd","rd"],m=x%100;return"["+x+(N[(m-20)%10]||N[m]||N[0])+"]"}},P=a(function(x,N,m){var v=String(x);return!v||v.length>=N?x:""+Array(N+1-v.length).join(m)+x},"m"),Q={s:P,z:function(x){var N=-x.utcOffset(),m=Math.abs(N),v=Math.floor(m/60),A=m%60;return(N<=0?"+":"-")+P(v,2,"0")+":"+P(A,2,"0")},m:a(function x(N,m){if(N.date()<m.date())return-x(m,N);var v=12*(m.year()-N.year())+(m.month()-N.month()),A=N.clone().add(v,f),U=m-A<0,G=N.clone().add(v+(U?-1:1),f);return+(-(v+(m-A)/(U?A-G:G-A))||0)},"t"),a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y:p,w:l,d:u,D:g,h:o,m:s,s:i,ms:n,Q:h}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},V="en",W={};W[V]=z;var F=a(function(x){return x instanceof k},"p"),B=a(function x(N,m,v){var A;if(!N)return V;if(typeof N=="string"){var U=N.toLowerCase();W[U]&&(A=U),m&&(W[U]=m,A=U);var G=N.split("-");if(!A&&G.length>1)return x(G[0])}else{var K=N.name;W[K]=N,A=K}return!v&&A&&(V=A),A||!v&&V},"t"),S=a(function(x,N){if(F(x))return x.clone();var m=typeof N=="object"?N:{};return m.date=x,m.args=arguments,new k(m)},"w"),T=Q;T.l=B,T.i=F,T.w=function(x,N){return S(x,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var k=function(){function x(m){this.$L=B(m.locale,null,!0),this.parse(m)}a(x,"M");var N=x.prototype;return N.parse=function(m){this.$d=function(v){var A=v.date,U=v.utc;if(A===null)return new Date(NaN);if(T.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var G=A.match(E);if(G){var K=G[2]-1||0,Z=(G[7]||"0").substring(0,3);return U?new Date(Date.UTC(G[1],K,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Z)):new Date(G[1],K,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Z)}}return new Date(A)}(m),this.$x=m.x||{},this.init()},N.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},N.$utils=function(){return T},N.isValid=function(){return this.$d.toString()!==y},N.isSame=function(m,v){var A=S(m);return this.startOf(v)<=A&&A<=this.endOf(v)},N.isAfter=function(m,v){return S(m)<this.startOf(v)},N.isBefore=function(m,v){return this.endOf(v)<S(m)},N.$g=function(m,v,A){return T.u(m)?this[v]:this.set(A,m)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(m,v){var A=this,U=!!T.u(v)||v,G=T.p(m),K=a(function(se,be){var Y=T.w(A.$u?Date.UTC(A.$y,be,se):new Date(A.$y,be,se),A);return U?Y:Y.endOf(u)},"l"),Z=a(function(se,be){return T.w(A.toDate()[se].apply(A.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(be)),A)},"$"),O=this.$W,$=this.$M,L=this.$D,ee="set"+(this.$u?"UTC":"");switch(G){case p:return U?K(1,0):K(31,11);case f:return U?K(1,$):K(0,$+1);case l:var ve=this.$locale().weekStart||0,ye=(O<ve?O+7:O)-ve;return K(U?L-ye:L+(6-ye),$);case u:case g:return Z(ee+"Hours",0);case o:return Z(ee+"Minutes",1);case s:return Z(ee+"Seconds",2);case i:return Z(ee+"Milliseconds",3);default:return this.clone()}},N.endOf=function(m){return this.startOf(m,!1)},N.$set=function(m,v){var A,U=T.p(m),G="set"+(this.$u?"UTC":""),K=(A={},A[u]=G+"Date",A[g]=G+"Date",A[f]=G+"Month",A[p]=G+"FullYear",A[o]=G+"Hours",A[s]=G+"Minutes",A[i]=G+"Seconds",A[n]=G+"Milliseconds",A)[U],Z=U===u?this.$D+(v-this.$W):v;if(U===f||U===p){var O=this.clone().set(g,1);O.$d[K](Z),O.init(),this.$d=O.set(g,Math.min(this.$D,O.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},N.set=function(m,v){return this.clone().$set(m,v)},N.get=function(m){return this[T.p(m)]()},N.add=function(m,v){var A,U=this;m=Number(m);var G=T.p(v),K=a(function($){var L=S(U);return T.w(L.date(L.date()+Math.round($*m)),U)},"y");if(G===f)return this.set(f,this.$M+m);if(G===p)return this.set(p,this.$y+m);if(G===u)return K(1);if(G===l)return K(7);var Z=(A={},A[s]=t,A[o]=r,A[i]=e,A)[G]||1,O=this.$d.getTime()+m*Z;return T.w(O,this)},N.subtract=function(m,v){return this.add(-1*m,v)},N.format=function(m){var v=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var U=m||"YYYY-MM-DDTHH:mm:ssZ",G=T.z(this),K=this.$H,Z=this.$m,O=this.$M,$=A.weekdays,L=A.months,ee=a(function(be,Y,D,J){return be&&(be[Y]||be(v,U))||D[Y].slice(0,J)},"h"),ve=a(function(be){return T.s(K%12||12,be,"0")},"c"),ye=A.meridiem||function(be,Y,D){var J=be<12?"AM":"PM";return D?J.toLowerCase():J},se={YY:String(this.$y).slice(-2),YYYY:this.$y,M:O+1,MM:T.s(O+1,2,"0"),MMM:ee(A.monthsShort,O,L,3),MMMM:ee(L,O),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:ee(A.weekdaysMin,this.$W,$,2),ddd:ee(A.weekdaysShort,this.$W,$,3),dddd:$[this.$W],H:String(K),HH:T.s(K,2,"0"),h:ve(1),hh:ve(2),a:ye(K,Z,!0),A:ye(K,Z,!1),m:String(Z),mm:T.s(Z,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:G};return U.replace(M,function(be,Y){return Y||se[be]||G.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(m,v,A){var U,G=T.p(v),K=S(m),Z=(K.utcOffset()-this.utcOffset())*t,O=this-K,$=T.m(this,K);return $=(U={},U[p]=$/12,U[f]=$,U[h]=$/3,U[l]=(O-Z)/6048e5,U[u]=(O-Z)/864e5,U[o]=O/r,U[s]=O/t,U[i]=O/e,U)[G]||O,A?$:T.a($)},N.daysInMonth=function(){return this.endOf(f).$D},N.$locale=function(){return W[this.$L]},N.locale=function(m,v){if(!m)return this.$L;var A=this.clone(),U=B(m,v,!0);return U&&(A.$L=U),A},N.clone=function(){return T.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},x}(),R=k.prototype;return S.prototype=R,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",u],["$M",f],["$y",p],["$D",g]].forEach(function(x){R[x[1]]=function(N){return this.$g(N,x[0],x[1])}}),S.extend=function(x,N){return x.$i||(x(N,k,S),x.$i=!0),S},S.locale=B,S.isDayjs=F,S.unix=function(x){return S(1e3*x)},S.en=W[V],S.Ls=W,S.p={},S})});var J_e=j((fY,hY)=>{d();(function(e,t){typeof fY=="object"&&typeof hY<"u"?hY.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_relativeTime=t()})(fY,function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(u,l,f,h){return n.fromToBase(u,l,f,h)}a(s,"i"),r.en.relativeTime=i,n.fromToBase=function(u,l,f,h,p){for(var g,y,E,M=f.$locale().relativeTime||i,z=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],P=z.length,Q=0;Q<P;Q+=1){var V=z[Q];V.d&&(g=h?r(u).diff(f,V.d,!0):f.diff(u,V.d,!0));var W=(e.rounding||Math.round)(Math.abs(g));if(E=g>0,W<=V.r||!V.r){W<=1&&Q>0&&(V=z[Q-1]);var F=M[V.l];p&&(W=p(""+W)),y=typeof F=="string"?F.replace("%d",W):F(W,l,V.l,E);break}}if(l)return y;var B=E?M.future:M.past;return typeof B=="function"?B(y):B.replace("%s",y)},n.to=function(u,l){return s(u,l,this,!0)},n.from=function(u,l){return s(u,l,this)};var o=a(function(u){return u.$u?r.utc():r()},"d");n.toNow=function(u){return this.to(o(this),u)},n.fromNow=function(u){return this.from(o(this),u)}}})});var axe=j((nxe,ixe)=>{d();var rxe=function(){var e=a(function(Q,V){var W=236,F=17,B=Q,S=r[V],T=null,k=0,R=null,x=[],N={},m=a(function(ye,se){k=B*4+17,T=function(be){for(var Y=new Array(be),D=0;D<be;D+=1){Y[D]=new Array(be);for(var J=0;J<be;J+=1)Y[D][J]=null}return Y}(k),v(0,0),v(k-7,0),v(0,k-7),G(),U(),Z(ye,se),B>=7&&K(ye),R==null&&(R=L(B,S,x)),O(R,se)},"makeImpl"),v=a(function(ye,se){for(var be=-1;be<=7;be+=1)if(!(ye+be<=-1||k<=ye+be))for(var Y=-1;Y<=7;Y+=1)se+Y<=-1||k<=se+Y||(0<=be&&be<=6&&(Y==0||Y==6)||0<=Y&&Y<=6&&(be==0||be==6)||2<=be&&be<=4&&2<=Y&&Y<=4?T[ye+be][se+Y]=!0:T[ye+be][se+Y]=!1)},"setupPositionProbePattern"),A=a(function(){for(var ye=0,se=0,be=0;be<8;be+=1){m(!0,be);var Y=i.getLostPoint(N);(be==0||ye>Y)&&(ye=Y,se=be)}return se},"getBestMaskPattern"),U=a(function(){for(var ye=8;ye<k-8;ye+=1)T[ye][6]==null&&(T[ye][6]=ye%2==0);for(var se=8;se<k-8;se+=1)T[6][se]==null&&(T[6][se]=se%2==0)},"setupTimingPattern"),G=a(function(){for(var ye=i.getPatternPosition(B),se=0;se<ye.length;se+=1)for(var be=0;be<ye.length;be+=1){var Y=ye[se],D=ye[be];if(T[Y][D]==null)for(var J=-2;J<=2;J+=1)for(var q=-2;q<=2;q+=1)J==-2||J==2||q==-2||q==2||J==0&&q==0?T[Y+J][D+q]=!0:T[Y+J][D+q]=!1}},"setupPositionAdjustPattern"),K=a(function(ye){for(var se=i.getBCHTypeNumber(B),be=0;be<18;be+=1){var Y=!ye&&(se>>be&1)==1;T[Math.floor(be/3)][be%3+k-8-3]=Y}for(var be=0;be<18;be+=1){var Y=!ye&&(se>>be&1)==1;T[be%3+k-8-3][Math.floor(be/3)]=Y}},"setupTypeNumber"),Z=a(function(ye,se){for(var be=S<<3|se,Y=i.getBCHTypeInfo(be),D=0;D<15;D+=1){var J=!ye&&(Y>>D&1)==1;D<6?T[D][8]=J:D<8?T[D+1][8]=J:T[k-15+D][8]=J}for(var D=0;D<15;D+=1){var J=!ye&&(Y>>D&1)==1;D<8?T[8][k-D-1]=J:D<9?T[8][15-D-1+1]=J:T[8][15-D-1]=J}T[k-8][8]=!ye},"setupTypeInfo"),O=a(function(ye,se){for(var be=-1,Y=k-1,D=7,J=0,q=i.getMaskFunction(se),I=k-1;I>0;I-=2)for(I==6&&(I-=1);;){for(var H=0;H<2;H+=1)if(T[Y][I-H]==null){var te=!1;J<ye.length&&(te=(ye[J]>>>D&1)==1);var ie=q(Y,I-H);ie&&(te=!te),T[Y][I-H]=te,D-=1,D==-1&&(J+=1,D=7)}if(Y+=be,Y<0||k<=Y){Y-=be,be=-be;break}}},"mapData"),$=a(function(ye,se){for(var be=0,Y=0,D=0,J=new Array(se.length),q=new Array(se.length),I=0;I<se.length;I+=1){var H=se[I].dataCount,te=se[I].totalCount-H;Y=Math.max(Y,H),D=Math.max(D,te),J[I]=new Array(H);for(var ie=0;ie<J[I].length;ie+=1)J[I][ie]=255&ye.getBuffer()[ie+be];be+=H;var he=i.getErrorCorrectPolynomial(te),De=o(J[I],he.getLength()-1),$e=De.mod(he);q[I]=new Array(he.getLength()-1);for(var ie=0;ie<q[I].length;ie+=1){var ze=ie+$e.getLength()-q[I].length;q[I][ie]=ze>=0?$e.getAt(ze):0}}for(var Qe=0,ie=0;ie<se.length;ie+=1)Qe+=se[ie].totalCount;for(var je=new Array(Qe),We=0,ie=0;ie<Y;ie+=1)for(var I=0;I<se.length;I+=1)ie<J[I].length&&(je[We]=J[I][ie],We+=1);for(var ie=0;ie<D;ie+=1)for(var I=0;I<se.length;I+=1)ie<q[I].length&&(je[We]=q[I][ie],We+=1);return je},"createBytes"),L=a(function(ye,se,be){for(var Y=u.getRSBlocks(ye,se),D=l(),J=0;J<be.length;J+=1){var q=be[J];D.put(q.getMode(),4),D.put(q.getLength(),i.getLengthInBits(q.getMode(),ye)),q.write(D)}for(var I=0,J=0;J<Y.length;J+=1)I+=Y[J].dataCount;if(D.getLengthInBits()>I*8)throw"code length overflow. ("+D.getLengthInBits()+">"+I*8+")";for(D.getLengthInBits()+4<=I*8&&D.put(0,4);D.getLengthInBits()%8!=0;)D.putBit(!1);for(;!(D.getLengthInBits()>=I*8||(D.put(W,8),D.getLengthInBits()>=I*8));)D.put(F,8);return $(D,Y)},"createData");N.addData=function(ye,se){se=se||"Byte";var be=null;switch(se){case"Numeric":be=f(ye);break;case"Alphanumeric":be=h(ye);break;case"Byte":be=p(ye);break;case"Kanji":be=g(ye);break;default:throw"mode:"+se}x.push(be),R=null},N.isDark=function(ye,se){if(ye<0||k<=ye||se<0||k<=se)throw ye+","+se;return T[ye][se]},N.getModuleCount=function(){return k},N.make=function(){if(B<1){for(var ye=1;ye<40;ye++){for(var se=u.getRSBlocks(ye,S),be=l(),Y=0;Y<x.length;Y++){var D=x[Y];be.put(D.getMode(),4),be.put(D.getLength(),i.getLengthInBits(D.getMode(),ye)),D.write(be)}for(var J=0,Y=0;Y<se.length;Y++)J+=se[Y].dataCount;if(be.getLengthInBits()<=J*8)break}B=ye}m(!1,A())},N.createTableTag=function(ye,se){ye=ye||2,se=typeof se>"u"?ye*4:se;var be="";be+='<table style="',be+=" border-width: 0px; border-style: none;",be+=" border-collapse: collapse;",be+=" padding: 0px; margin: "+se+"px;",be+='">',be+="<tbody>";for(var Y=0;Y<N.getModuleCount();Y+=1){be+="<tr>";for(var D=0;D<N.getModuleCount();D+=1)be+='<td style="',be+=" border-width: 0px; border-style: none;",be+=" border-collapse: collapse;",be+=" padding: 0px; margin: 0px;",be+=" width: "+ye+"px;",be+=" height: "+ye+"px;",be+=" background-color: ",be+=N.isDark(Y,D)?"#000000":"#ffffff",be+=";",be+='"/>';be+="</tr>"}return be+="</tbody>",be+="</table>",be},N.createSvgTag=function(ye,se,be,Y){var D={};typeof arguments[0]=="object"&&(D=arguments[0],ye=D.cellSize,se=D.margin,be=D.alt,Y=D.title),ye=ye||2,se=typeof se>"u"?ye*4:se,be=typeof be=="string"?{text:be}:be||{},be.text=be.text||null,be.id=be.text?be.id||"qrcode-description":null,Y=typeof Y=="string"?{text:Y}:Y||{},Y.text=Y.text||null,Y.id=Y.text?Y.id||"qrcode-title":null;var J=N.getModuleCount()*ye+se*2,q,I,H,te,ie="",he;for(he="l"+ye+",0 0,"+ye+" -"+ye+",0 0,-"+ye+"z ",ie+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',ie+=D.scalable?"":' width="'+J+'px" height="'+J+'px"',ie+=' viewBox="0 0 '+J+" "+J+'" ',ie+=' preserveAspectRatio="xMinYMin meet"',ie+=Y.text||be.text?' role="img" aria-labelledby="'+ee([Y.id,be.id].join(" ").trim())+'"':"",ie+=">",ie+=Y.text?'<title id="'+ee(Y.id)+'">'+ee(Y.text)+"</title>":"",ie+=be.text?'<description id="'+ee(be.id)+'">'+ee(be.text)+"</description>":"",ie+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',ie+='<path d="',H=0;H<N.getModuleCount();H+=1)for(te=H*ye+se,q=0;q<N.getModuleCount();q+=1)N.isDark(H,q)&&(I=q*ye+se,ie+="M"+I+","+te+he);return ie+='" stroke="transparent" fill="black"/>',ie+="</svg>",ie},N.createDataURL=function(ye,se){ye=ye||2,se=typeof se>"u"?ye*4:se;var be=N.getModuleCount()*ye+se*2,Y=se,D=be-se;return P(be,be,function(J,q){if(Y<=J&&J<D&&Y<=q&&q<D){var I=Math.floor((J-Y)/ye),H=Math.floor((q-Y)/ye);return N.isDark(H,I)?0:1}else return 1})},N.createImgTag=function(ye,se,be){ye=ye||2,se=typeof se>"u"?ye*4:se;var Y=N.getModuleCount()*ye+se*2,D="";return D+="<img",D+=' src="',D+=N.createDataURL(ye,se),D+='"',D+=' width="',D+=Y,D+='"',D+=' height="',D+=Y,D+='"',be&&(D+=' alt="',D+=ee(be),D+='"'),D+="/>",D};var ee=a(function(ye){for(var se="",be=0;be<ye.length;be+=1){var Y=ye.charAt(be);switch(Y){case"<":se+="&lt;";break;case">":se+="&gt;";break;case"&":se+="&amp;";break;case'"':se+="&quot;";break;default:se+=Y;break}}return se},"escapeXml"),ve=a(function(ye){var se=1;ye=typeof ye>"u"?se*2:ye;var be=N.getModuleCount()*se+ye*2,Y=ye,D=be-ye,J,q,I,H,te,ie={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},he={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},De="";for(J=0;J<be;J+=2){for(I=Math.floor((J-Y)/se),H=Math.floor((J+1-Y)/se),q=0;q<be;q+=1)te="\u2588",Y<=q&&q<D&&Y<=J&&J<D&&N.isDark(I,Math.floor((q-Y)/se))&&(te=" "),Y<=q&&q<D&&Y<=J+1&&J+1<D&&N.isDark(H,Math.floor((q-Y)/se))?te+=" ":te+="\u2588",De+=ye<1&&J+1>=D?he[te]:ie[te];De+=`
`}return be%2&&ye>0?De.substring(0,De.length-be-1)+Array(be+1).join("\u2580"):De.substring(0,De.length-1)},"_createHalfASCII");return N.createASCII=function(ye,se){if(ye=ye||1,ye<2)return ve(se);ye-=1,se=typeof se>"u"?ye*2:se;var be=N.getModuleCount()*ye+se*2,Y=se,D=be-se,J,q,I,H,te=Array(ye+1).join("\u2588\u2588"),ie=Array(ye+1).join("  "),he="",De="";for(J=0;J<be;J+=1){for(I=Math.floor((J-Y)/ye),De="",q=0;q<be;q+=1)H=1,Y<=q&&q<D&&Y<=J&&J<D&&N.isDark(I,Math.floor((q-Y)/ye))&&(H=0),De+=H?te:ie;for(I=0;I<ye;I+=1)he+=De+`
`}return he.substring(0,he.length-1)},N.renderTo2dContext=function(ye,se){se=se||2;for(var be=N.getModuleCount(),Y=0;Y<be;Y++)for(var D=0;D<be;D++)ye.fillStyle=N.isDark(Y,D)?"black":"white",ye.fillRect(Y*se,D*se,se,se)},N},"qrcode");e.stringToBytesFuncs={default:function(Q){for(var V=[],W=0;W<Q.length;W+=1){var F=Q.charCodeAt(W);V.push(F&255)}return V}},e.stringToBytes=e.stringToBytesFuncs.default,e.createStringToBytes=function(Q,V){var W=function(){for(var B=M(Q),S=a(function(){var U=B.read();if(U==-1)throw"eof";return U},"read"),T=0,k={};;){var R=B.read();if(R==-1)break;var x=S(),N=S(),m=S(),v=String.fromCharCode(R<<8|x),A=N<<8|m;k[v]=A,T+=1}if(T!=V)throw T+" != "+V;return k}(),F="?".charCodeAt(0);return function(B){for(var S=[],T=0;T<B.length;T+=1){var k=B.charCodeAt(T);if(k<128)S.push(k);else{var R=W[B.charAt(T)];typeof R=="number"?(R&255)==R?S.push(R):(S.push(R>>>8),S.push(R&255)):S.push(F)}}return S}};var t={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},r={L:1,M:0,Q:3,H:2},n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=function(){var Q=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],V=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,W=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,F=1<<14|1<<12|1<<10|1<<4|1<<1,B={},S=a(function(T){for(var k=0;T!=0;)k+=1,T>>>=1;return k},"getBCHDigit");return B.getBCHTypeInfo=function(T){for(var k=T<<10;S(k)-S(V)>=0;)k^=V<<S(k)-S(V);return(T<<10|k)^F},B.getBCHTypeNumber=function(T){for(var k=T<<12;S(k)-S(W)>=0;)k^=W<<S(k)-S(W);return T<<12|k},B.getPatternPosition=function(T){return Q[T-1]},B.getMaskFunction=function(T){switch(T){case n.PATTERN000:return function(k,R){return(k+R)%2==0};case n.PATTERN001:return function(k,R){return k%2==0};case n.PATTERN010:return function(k,R){return R%3==0};case n.PATTERN011:return function(k,R){return(k+R)%3==0};case n.PATTERN100:return function(k,R){return(Math.floor(k/2)+Math.floor(R/3))%2==0};case n.PATTERN101:return function(k,R){return k*R%2+k*R%3==0};case n.PATTERN110:return function(k,R){return(k*R%2+k*R%3)%2==0};case n.PATTERN111:return function(k,R){return(k*R%3+(k+R)%2)%2==0};default:throw"bad maskPattern:"+T}},B.getErrorCorrectPolynomial=function(T){for(var k=o([1],0),R=0;R<T;R+=1)k=k.multiply(o([1,s.gexp(R)],0));return k},B.getLengthInBits=function(T,k){if(1<=k&&k<10)switch(T){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw"mode:"+T}else if(k<27)switch(T){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw"mode:"+T}else if(k<41)switch(T){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw"mode:"+T}else throw"type:"+k},B.getLostPoint=function(T){for(var k=T.getModuleCount(),R=0,x=0;x<k;x+=1)for(var N=0;N<k;N+=1){for(var m=0,v=T.isDark(x,N),A=-1;A<=1;A+=1)if(!(x+A<0||k<=x+A))for(var U=-1;U<=1;U+=1)N+U<0||k<=N+U||A==0&&U==0||v==T.isDark(x+A,N+U)&&(m+=1);m>5&&(R+=3+m-5)}for(var x=0;x<k-1;x+=1)for(var N=0;N<k-1;N+=1){var G=0;T.isDark(x,N)&&(G+=1),T.isDark(x+1,N)&&(G+=1),T.isDark(x,N+1)&&(G+=1),T.isDark(x+1,N+1)&&(G+=1),(G==0||G==4)&&(R+=3)}for(var x=0;x<k;x+=1)for(var N=0;N<k-6;N+=1)T.isDark(x,N)&&!T.isDark(x,N+1)&&T.isDark(x,N+2)&&T.isDark(x,N+3)&&T.isDark(x,N+4)&&!T.isDark(x,N+5)&&T.isDark(x,N+6)&&(R+=40);for(var N=0;N<k;N+=1)for(var x=0;x<k-6;x+=1)T.isDark(x,N)&&!T.isDark(x+1,N)&&T.isDark(x+2,N)&&T.isDark(x+3,N)&&T.isDark(x+4,N)&&!T.isDark(x+5,N)&&T.isDark(x+6,N)&&(R+=40);for(var K=0,N=0;N<k;N+=1)for(var x=0;x<k;x+=1)T.isDark(x,N)&&(K+=1);var Z=Math.abs(100*K/k/k-50)/5;return R+=Z*10,R},B}(),s=function(){for(var Q=new Array(256),V=new Array(256),W=0;W<8;W+=1)Q[W]=1<<W;for(var W=8;W<256;W+=1)Q[W]=Q[W-4]^Q[W-5]^Q[W-6]^Q[W-8];for(var W=0;W<255;W+=1)V[Q[W]]=W;var F={};return F.glog=function(B){if(B<1)throw"glog("+B+")";return V[B]},F.gexp=function(B){for(;B<0;)B+=255;for(;B>=256;)B-=255;return Q[B]},F}();function o(Q,V){if(typeof Q.length>"u")throw Q.length+"/"+V;var W=function(){for(var B=0;B<Q.length&&Q[B]==0;)B+=1;for(var S=new Array(Q.length-B+V),T=0;T<Q.length-B;T+=1)S[T]=Q[T+B];return S}(),F={};return F.getAt=function(B){return W[B]},F.getLength=function(){return W.length},F.multiply=function(B){for(var S=new Array(F.getLength()+B.getLength()-1),T=0;T<F.getLength();T+=1)for(var k=0;k<B.getLength();k+=1)S[T+k]^=s.gexp(s.glog(F.getAt(T))+s.glog(B.getAt(k)));return o(S,0)},F.mod=function(B){if(F.getLength()-B.getLength()<0)return F;for(var S=s.glog(F.getAt(0))-s.glog(B.getAt(0)),T=new Array(F.getLength()),k=0;k<F.getLength();k+=1)T[k]=F.getAt(k);for(var k=0;k<B.getLength();k+=1)T[k]^=s.gexp(s.glog(B.getAt(k))+S);return o(T,0).mod(B)},F}a(o,"qrPolynomial");var u=function(){var Q=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],V=a(function(B,S){var T={};return T.totalCount=B,T.dataCount=S,T},"qrRSBlock"),W={},F=a(function(B,S){switch(S){case r.L:return Q[(B-1)*4+0];case r.M:return Q[(B-1)*4+1];case r.Q:return Q[(B-1)*4+2];case r.H:return Q[(B-1)*4+3];default:return}},"getRsBlockTable");return W.getRSBlocks=function(B,S){var T=F(B,S);if(typeof T>"u")throw"bad rs block @ typeNumber:"+B+"/errorCorrectionLevel:"+S;for(var k=T.length/3,R=[],x=0;x<k;x+=1)for(var N=T[x*3+0],m=T[x*3+1],v=T[x*3+2],A=0;A<N;A+=1)R.push(V(m,v));return R},W}(),l=a(function(){var Q=[],V=0,W={};return W.getBuffer=function(){return Q},W.getAt=function(F){var B=Math.floor(F/8);return(Q[B]>>>7-F%8&1)==1},W.put=function(F,B){for(var S=0;S<B;S+=1)W.putBit((F>>>B-S-1&1)==1)},W.getLengthInBits=function(){return V},W.putBit=function(F){var B=Math.floor(V/8);Q.length<=B&&Q.push(0),F&&(Q[B]|=128>>>V%8),V+=1},W},"qrBitBuffer"),f=a(function(Q){var V=t.MODE_NUMBER,W=Q,F={};F.getMode=function(){return V},F.getLength=function(T){return W.length},F.write=function(T){for(var k=W,R=0;R+2<k.length;)T.put(B(k.substring(R,R+3)),10),R+=3;R<k.length&&(k.length-R==1?T.put(B(k.substring(R,R+1)),4):k.length-R==2&&T.put(B(k.substring(R,R+2)),7))};var B=a(function(T){for(var k=0,R=0;R<T.length;R+=1)k=k*10+S(T.charAt(R));return k},"strToNum"),S=a(function(T){if("0"<=T&&T<="9")return T.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+T},"chatToNum");return F},"qrNumber"),h=a(function(Q){var V=t.MODE_ALPHA_NUM,W=Q,F={};F.getMode=function(){return V},F.getLength=function(S){return W.length},F.write=function(S){for(var T=W,k=0;k+1<T.length;)S.put(B(T.charAt(k))*45+B(T.charAt(k+1)),11),k+=2;k<T.length&&S.put(B(T.charAt(k)),6)};var B=a(function(S){if("0"<=S&&S<="9")return S.charCodeAt(0)-"0".charCodeAt(0);if("A"<=S&&S<="Z")return S.charCodeAt(0)-"A".charCodeAt(0)+10;switch(S){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+S}},"getCode");return F},"qrAlphaNum"),p=a(function(Q){var V=t.MODE_8BIT_BYTE,W=Q,F=e.stringToBytes(Q),B={};return B.getMode=function(){return V},B.getLength=function(S){return F.length},B.write=function(S){for(var T=0;T<F.length;T+=1)S.put(F[T],8)},B},"qr8BitByte"),g=a(function(Q){var V=t.MODE_KANJI,W=Q,F=e.stringToBytesFuncs.SJIS;if(!F)throw"sjis not supported.";(function(T,k){var R=F(T);if(R.length!=2||(R[0]<<8|R[1])!=k)throw"sjis not supported."})("\u53CB",38726);var B=F(Q),S={};return S.getMode=function(){return V},S.getLength=function(T){return~~(B.length/2)},S.write=function(T){for(var k=B,R=0;R+1<k.length;){var x=(255&k[R])<<8|255&k[R+1];if(33088<=x&&x<=40956)x-=33088;else if(57408<=x&&x<=60351)x-=49472;else throw"illegal char at "+(R+1)+"/"+x;x=(x>>>8&255)*192+(x&255),T.put(x,13),R+=2}if(R<k.length)throw"illegal char at "+(R+1)},S},"qrKanji"),y=a(function(){var Q=[],V={};return V.writeByte=function(W){Q.push(W&255)},V.writeShort=function(W){V.writeByte(W),V.writeByte(W>>>8)},V.writeBytes=function(W,F,B){F=F||0,B=B||W.length;for(var S=0;S<B;S+=1)V.writeByte(W[S+F])},V.writeString=function(W){for(var F=0;F<W.length;F+=1)V.writeByte(W.charCodeAt(F))},V.toByteArray=function(){return Q},V.toString=function(){var W="";W+="[";for(var F=0;F<Q.length;F+=1)F>0&&(W+=","),W+=Q[F];return W+="]",W},V},"byteArrayOutputStream"),E=a(function(){var Q=0,V=0,W=0,F="",B={},S=a(function(k){F+=String.fromCharCode(T(k&63))},"writeEncoded"),T=a(function(k){if(!(k<0)){if(k<26)return 65+k;if(k<52)return 97+(k-26);if(k<62)return 48+(k-52);if(k==62)return 43;if(k==63)return 47}throw"n:"+k},"encode");return B.writeByte=function(k){for(Q=Q<<8|k&255,V+=8,W+=1;V>=6;)S(Q>>>V-6),V-=6},B.flush=function(){if(V>0&&(S(Q<<6-V),Q=0,V=0),W%3!=0)for(var k=3-W%3,R=0;R<k;R+=1)F+="="},B.toString=function(){return F},B},"base64EncodeOutputStream"),M=a(function(Q){var V=Q,W=0,F=0,B=0,S={};S.read=function(){for(;B<8;){if(W>=V.length){if(B==0)return-1;throw"unexpected end of file./"+B}var k=V.charAt(W);if(W+=1,k=="=")return B=0,-1;if(k.match(/^\s$/))continue;F=F<<6|T(k.charCodeAt(0)),B+=6}var R=F>>>B-8&255;return B-=8,R};var T=a(function(k){if(65<=k&&k<=90)return k-65;if(97<=k&&k<=122)return k-97+26;if(48<=k&&k<=57)return k-48+52;if(k==43)return 62;if(k==47)return 63;throw"c:"+k},"decode");return S},"base64DecodeInputStream"),z=a(function(Q,V){var W=Q,F=V,B=new Array(Q*V),S={};S.setPixel=function(x,N,m){B[N*W+x]=m},S.write=function(x){x.writeString("GIF87a"),x.writeShort(W),x.writeShort(F),x.writeByte(128),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(255),x.writeByte(255),x.writeByte(255),x.writeString(","),x.writeShort(0),x.writeShort(0),x.writeShort(W),x.writeShort(F),x.writeByte(0);var N=2,m=k(N);x.writeByte(N);for(var v=0;m.length-v>255;)x.writeByte(255),x.writeBytes(m,v,255),v+=255;x.writeByte(m.length-v),x.writeBytes(m,v,m.length-v),x.writeByte(0),x.writeString(";")};var T=a(function(x){var N=x,m=0,v=0,A={};return A.write=function(U,G){if(U>>>G!=0)throw"length over";for(;m+G>=8;)N.writeByte(255&(U<<m|v)),G-=8-m,U>>>=8-m,v=0,m=0;v=U<<m|v,m=m+G},A.flush=function(){m>0&&N.writeByte(v)},A},"bitOutputStream"),k=a(function(x){for(var N=1<<x,m=(1<<x)+1,v=x+1,A=R(),U=0;U<N;U+=1)A.add(String.fromCharCode(U));A.add(String.fromCharCode(N)),A.add(String.fromCharCode(m));var G=y(),K=T(G);K.write(N,v);var Z=0,O=String.fromCharCode(B[Z]);for(Z+=1;Z<B.length;){var $=String.fromCharCode(B[Z]);Z+=1,A.contains(O+$)?O=O+$:(K.write(A.indexOf(O),v),A.size()<4095&&(A.size()==1<<v&&(v+=1),A.add(O+$)),O=$)}return K.write(A.indexOf(O),v),K.write(m,v),K.flush(),G.toByteArray()},"getLZWRaster"),R=a(function(){var x={},N=0,m={};return m.add=function(v){if(m.contains(v))throw"dup key:"+v;x[v]=N,N+=1},m.size=function(){return N},m.indexOf=function(v){return x[v]},m.contains=function(v){return typeof x[v]<"u"},m},"lzwTable");return S},"gifImage"),P=a(function(Q,V,W){for(var F=z(Q,V),B=0;B<V;B+=1)for(var S=0;S<Q;S+=1)F.setPixel(S,B,W(S,B));var T=y();F.write(T);for(var k=E(),R=T.toByteArray(),x=0;x<R.length;x+=1)k.writeByte(R[x]);return k.flush(),"data:image/gif;base64,"+k},"createDataURL");return e}();(function(){rxe.stringToBytesFuncs["UTF-8"]=function(e){function t(r){for(var n=[],i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?n.push(s):s<2048?n.push(192|s>>6,128|s&63):s<55296||s>=57344?n.push(224|s>>12,128|s>>6&63,128|s&63):(i++,s=65536+((s&1023)<<10|r.charCodeAt(i)&1023),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63))}return n}return a(t,"toUTF8Array"),t(e)}})();(function(e){typeof define=="function"&&define.amd?define([],e):typeof nxe=="object"&&(ixe.exports=e())})(function(){return rxe})});var oxe=j((gY,hb)=>{d();(function(e,t){typeof gY=="object"&&typeof hb<"u"?hb.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(gY,function(){"use strict";var e;function t(){return e.apply(null,arguments)}a(t,"f");function r(C){return C instanceof Array||Object.prototype.toString.call(C)==="[object Array]"}a(r,"a");function n(C){return C!=null&&Object.prototype.toString.call(C)==="[object Object]"}a(n,"F");function i(C,X){return Object.prototype.hasOwnProperty.call(C,X)}a(i,"c");function s(C){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(C).length===0;for(var X in C)if(i(C,X))return;return 1}a(s,"L");function o(C){return C===void 0}a(o,"o");function u(C){return typeof C=="number"||Object.prototype.toString.call(C)==="[object Number]"}a(u,"u");function l(C){return C instanceof Date||Object.prototype.toString.call(C)==="[object Date]"}a(l,"V");function f(C,X){for(var fe=[],we=C.length,Fe=0;Fe<we;++Fe)fe.push(X(C[Fe],Fe));return fe}a(f,"G");function h(C,X){for(var fe in X)i(X,fe)&&(C[fe]=X[fe]);return i(X,"toString")&&(C.toString=X.toString),i(X,"valueOf")&&(C.valueOf=X.valueOf),C}a(h,"E");function p(C,X,fe,we){return Xe(C,X,fe,we,!0).utc()}a(p,"l");function g(C){return C._pf==null&&(C._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),C._pf}a(g,"m");function y(C){if(C._isValid==null){var X=g(C),fe=M.call(X.parsedDateParts,function(we){return we!=null}),fe=!isNaN(C._d.getTime())&&X.overflow<0&&!X.empty&&!X.invalidEra&&!X.invalidMonth&&!X.invalidWeekday&&!X.weekdayMismatch&&!X.nullInput&&!X.invalidFormat&&!X.userInvalidated&&(!X.meridiem||X.meridiem&&fe);if(C._strict&&(fe=fe&&X.charsLeftOver===0&&X.unusedTokens.length===0&&X.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(C))return fe;C._isValid=fe}return C._isValid}a(y,"A");function E(C){var X=p(NaN);return C!=null?h(g(X),C):g(X).userInvalidated=!0,X}a(E,"I");var M=Array.prototype.some||function(C){for(var X=Object(this),fe=X.length>>>0,we=0;we<fe;we++)if(we in X&&C.call(this,X[we],we,X))return!0;return!1},z=t.momentProperties=[],P=!1;function Q(C,X){var fe,we,Fe,dt=z.length;if(o(X._isAMomentObject)||(C._isAMomentObject=X._isAMomentObject),o(X._i)||(C._i=X._i),o(X._f)||(C._f=X._f),o(X._l)||(C._l=X._l),o(X._strict)||(C._strict=X._strict),o(X._tzm)||(C._tzm=X._tzm),o(X._isUTC)||(C._isUTC=X._isUTC),o(X._offset)||(C._offset=X._offset),o(X._pf)||(C._pf=g(X)),o(X._locale)||(C._locale=X._locale),0<dt)for(fe=0;fe<dt;fe++)o(Fe=X[we=z[fe]])||(C[we]=Fe);return C}a(Q,"$");function V(C){Q(this,C),this._d=new Date(C._d!=null?C._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,t.updateOffset(this),P=!1)}a(V,"q");function W(C){return C instanceof V||C!=null&&C._isAMomentObject!=null}a(W,"h");function F(C){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+C)}a(F,"B");function B(C,X){var fe=!0;return h(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,C),fe){for(var we,Fe,dt=[],Nt=arguments.length,Qt=0;Qt<Nt;Qt++){if(we="",typeof arguments[Qt]=="object"){for(Fe in we+=`
[`+Qt+"] ",arguments[0])i(arguments[0],Fe)&&(we+=Fe+": "+arguments[0][Fe]+", ");we=we.slice(0,-2)}else we=arguments[Qt];dt.push(we)}F(C+`
Arguments: `+Array.prototype.slice.call(dt).join("")+`
`+new Error().stack),fe=!1}return X.apply(this,arguments)},X)}a(B,"e");var S={};function T(C,X){t.deprecationHandler!=null&&t.deprecationHandler(C,X),S[C]||(F(X),S[C]=!0)}a(T,"Q");function k(C){return typeof Function<"u"&&C instanceof Function||Object.prototype.toString.call(C)==="[object Function]"}a(k,"d");function R(C,X){var fe,we=h({},C);for(fe in X)i(X,fe)&&(n(C[fe])&&n(X[fe])?(we[fe]={},h(we[fe],C[fe]),h(we[fe],X[fe])):X[fe]!=null?we[fe]=X[fe]:delete we[fe]);for(fe in C)i(C,fe)&&!i(X,fe)&&n(C[fe])&&(we[fe]=h({},we[fe]));return we}a(R,"X");function x(C){C!=null&&this.set(C)}a(x,"K"),t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var N=Object.keys||function(C){var X,fe=[];for(X in C)i(C,X)&&fe.push(X);return fe};function m(C,X,fe){var we=""+Math.abs(C);return(0<=C?fe?"+":"":"-")+Math.pow(10,Math.max(0,X-we.length)).toString().substr(1)+we}a(m,"r");var v=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},G={};function K(C,X,fe,we){var Fe=typeof we=="string"?function(){return this[we]()}:we;C&&(G[C]=Fe),X&&(G[X[0]]=function(){return m(Fe.apply(this,arguments),X[1],X[2])}),fe&&(G[fe]=function(){return this.localeData().ordinal(Fe.apply(this,arguments),C)})}a(K,"s");function Z(C,X){return C.isValid()?(X=O(X,C.localeData()),U[X]=U[X]||function(fe){for(var we,Fe=fe.match(v),dt=0,Nt=Fe.length;dt<Nt;dt++)G[Fe[dt]]?Fe[dt]=G[Fe[dt]]:Fe[dt]=(we=Fe[dt]).match(/\[[\s\S]/)?we.replace(/^\[|\]$/g,""):we.replace(/\\/g,"");return function(Qt){for(var hr="",ir=0;ir<Nt;ir++)hr+=k(Fe[ir])?Fe[ir].call(Qt,fe):Fe[ir];return hr}}(X),U[X](C)):C.localeData().invalidDate()}a(Z,"re");function O(C,X){var fe=5;function we(Fe){return X.longDateFormat(Fe)||Fe}for(a(we,"s"),A.lastIndex=0;0<=fe&&A.test(C);)C=C.replace(A,we),A.lastIndex=0,--fe;return C}a(O,"ae");var $={};function L(C,X){var fe=C.toLowerCase();$[fe]=$[fe+"s"]=$[X]=C}a(L,"t");function ee(C){return typeof C=="string"?$[C]||$[C.toLowerCase()]:void 0}a(ee,"_");function ve(C){var X,fe,we={};for(fe in C)i(C,fe)&&(X=ee(fe))&&(we[X]=C[fe]);return we}a(ve,"ue");var ye={};function se(C,X){ye[C]=X}a(se,"n");function be(C){return C%4==0&&C%100!=0||C%400==0}a(be,"he");function Y(C){return C<0?Math.ceil(C)||0:Math.floor(C)}a(Y,"y");function D(X){var X=+X,fe=0;return fe=X!=0&&isFinite(X)?Y(X):fe}a(D,"g");function J(C,X){return function(fe){return fe!=null?(I(this,C,fe),t.updateOffset(this,X),this):q(this,C)}}a(J,"de");function q(C,X){return C.isValid()?C._d["get"+(C._isUTC?"UTC":"")+X]():NaN}a(q,"ce");function I(C,X,fe){C.isValid()&&!isNaN(fe)&&(X==="FullYear"&&be(C.year())&&C.month()===1&&C.date()===29?(fe=D(fe),C._d["set"+(C._isUTC?"UTC":"")+X](fe,C.month(),it(fe,C.month()))):C._d["set"+(C._isUTC?"UTC":"")+X](fe))}a(I,"fe");var H=/\d/,Or=/\d\d/,te=/\d{3}/,ka=/\d{4}/,Ys=/[+-]?\d{6}/,ie=/\d\d?/,he=/\d\d\d\d?/,De=/\d\d\d\d\d\d?/,$e=/\d{1,3}/,Po=/\d{1,4}/,Wn=/[+-]?\d{1,6}/,ze=/\d+/,Qe=/[+-]?\d+/,je=/Z|[+-]\d\d:?\d\d/gi,We=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Te(C,X,fe){ge[C]=k(X)?X:function(we,Fe){return we&&fe?fe:X}}a(Te,"v");function Je(C,X){return i(ge,C)?ge[C](X._strict,X._locale):new RegExp(rt(C.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(fe,we,Fe,dt,Nt){return we||Fe||dt||Nt})))}a(Je,"Oe");function rt(C){return C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}a(rt,"M");var ge={},xe={};function qe(C,X){var fe,we,Fe=X;for(typeof C=="string"&&(C=[C]),u(X)&&(Fe=a(function(dt,Nt){Nt[X]=D(dt)},"i")),we=C.length,fe=0;fe<we;fe++)xe[C[fe]]=Fe}a(qe,"D");function ot(C,X){qe(C,function(fe,we,Fe,dt){Fe._w=Fe._w||{},X(fe,Fe._w,Fe,dt)})}a(ot,"Te");var at,pe=0,Re=1,He=2,tt=3,Ve=4,et=5,gt=6,ut=7,zt=8;function it(C,X){if(isNaN(C)||isNaN(X))return NaN;var fe=(X%(fe=12)+fe)%fe;return C+=(X-fe)/12,fe==1?be(C)?29:28:31-fe%7%2}a(it,"We"),at=Array.prototype.indexOf||function(C){for(var X=0;X<this.length;++X)if(this[X]===C)return X;return-1},K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(C){return this.localeData().monthsShort(this,C)}),K("MMMM",0,0,function(C){return this.localeData().months(this,C)}),L("month","M"),se("month",8),Te("M",ie),Te("MM",ie,Or),Te("MMM",function(C,X){return X.monthsShortRegex(C)}),Te("MMMM",function(C,X){return X.monthsRegex(C)}),qe(["M","MM"],function(C,X){X[Re]=D(C)-1}),qe(["MMM","MMMM"],function(C,X,fe,we){we=fe._locale.monthsParse(C,we,fe._strict),we!=null?X[Re]=we:g(fe).invalidMonth=C});var Wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie=Ce,ue=Ce;function _e(C,X){var fe;if(C.isValid()){if(typeof X=="string"){if(/^\d+$/.test(X))X=D(X);else if(!u(X=C.localeData().monthsParse(X)))return}fe=Math.min(C.date(),it(C.year(),X)),C._d["set"+(C._isUTC?"UTC":"")+"Month"](X,fe)}}a(_e,"Ve");function ae(C){return C!=null?(_e(this,C),t.updateOffset(this,!0),this):q(this,"Month")}a(ae,"Ge");function ce(){function C(Nt,Qt){return Qt.length-Nt.length}a(C,"e");for(var X,fe=[],we=[],Fe=[],dt=0;dt<12;dt++)X=p([2e3,dt]),fe.push(this.monthsShort(X,"")),we.push(this.months(X,"")),Fe.push(this.months(X,"")),Fe.push(this.monthsShort(X,""));for(fe.sort(C),we.sort(C),Fe.sort(C),dt=0;dt<12;dt++)fe[dt]=rt(fe[dt]),we[dt]=rt(we[dt]);for(dt=0;dt<24;dt++)Fe[dt]=rt(Fe[dt]);this._monthsRegex=new RegExp("^("+Fe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+we.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+fe.join("|")+")","i")}a(ce,"Ee");function re(C){return be(C)?366:365}a(re,"Ae"),K("Y",0,0,function(){var C=this.year();return C<=9999?m(C,4):"+"+C}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),L("year","y"),se("year",1),Te("Y",Qe),Te("YY",ie,Or),Te("YYYY",Po,ka),Te("YYYYY",Wn,Ys),Te("YYYYYY",Wn,Ys),qe(["YYYYY","YYYYYY"],pe),qe("YYYY",function(C,X){X[pe]=C.length===2?t.parseTwoDigitYear(C):D(C)}),qe("YY",function(C,X){X[pe]=t.parseTwoDigitYear(C)}),qe("Y",function(C,X){X[pe]=parseInt(C,10)}),t.parseTwoDigitYear=function(C){return D(C)+(68<D(C)?1900:2e3)};var sl=J("FullYear",!0);function le(C,X,fe,we,Fe,dt,Nt){var Qt;return C<100&&0<=C?(Qt=new Date(C+400,X,fe,we,Fe,dt,Nt),isFinite(Qt.getFullYear())&&Qt.setFullYear(C)):Qt=new Date(C,X,fe,we,Fe,dt,Nt),Qt}a(le,"je");function me(C){var X;return C<100&&0<=C?((X=Array.prototype.slice.call(arguments))[0]=C+400,X=new Date(Date.UTC.apply(null,X)),isFinite(X.getUTCFullYear())&&X.setUTCFullYear(C)):X=new Date(Date.UTC.apply(null,arguments)),X}a(me,"Ze");function Ae(C,X,fe){return fe=7+X-fe,fe-(7+me(C,0,fe).getUTCDay()-X)%7-1}a(Ae,"ze");function Oe(C,Nt,Qt,we,Fe){var dt,Nt=1+7*(Nt-1)+(7+Qt-we)%7+Ae(C,we,Fe),Qt=Nt<=0?re(dt=C-1)+Nt:Nt>re(C)?(dt=C+1,Nt-re(C)):(dt=C,Nt);return{year:dt,dayOfYear:Qt}}a(Oe,"$e");function Ge(C,X,fe){var we,Fe,dt=Ae(C.year(),X,fe),dt=Math.floor((C.dayOfYear()-dt-1)/7)+1;return dt<1?we=dt+ke(Fe=C.year()-1,X,fe):dt>ke(C.year(),X,fe)?(we=dt-ke(C.year(),X,fe),Fe=C.year()+1):(Fe=C.year(),we=dt),{week:we,year:Fe}}a(Ge,"qe");function ke(C,Fe,fe){var we=Ae(C,Fe,fe),Fe=Ae(C+1,Fe,fe);return(re(C)-we+Fe)/7}a(ke,"P"),K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),se("week",5),se("isoWeek",5),Te("w",ie),Te("ww",ie,Or),Te("W",ie),Te("WW",ie,Or),ot(["w","ww","W","WW"],function(C,X,fe,we){X[we.substr(0,1)]=D(C)});function st(C,X){return C.slice(X,7).concat(C.slice(0,X))}a(st,"Be"),K("d",0,"do","day"),K("dd",0,0,function(C){return this.localeData().weekdaysMin(this,C)}),K("ddd",0,0,function(C){return this.localeData().weekdaysShort(this,C)}),K("dddd",0,0,function(C){return this.localeData().weekdays(this,C)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),se("day",11),se("weekday",11),se("isoWeekday",11),Te("d",ie),Te("e",ie),Te("E",ie),Te("dd",function(C,X){return X.weekdaysMinRegex(C)}),Te("ddd",function(C,X){return X.weekdaysShortRegex(C)}),Te("dddd",function(C,X){return X.weekdaysRegex(C)}),ot(["dd","ddd","dddd"],function(C,X,fe,we){we=fe._locale.weekdaysParse(C,we,fe._strict),we!=null?X.d=we:g(fe).invalidWeekday=C}),ot(["d","e","E"],function(C,X,fe,we){X[we]=D(C)});var yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=Ce,Pt=Ce,tr=Ce;function cr(){function C(ir,Ur){return Ur.length-ir.length}a(C,"e");for(var X,fe,we,Fe=[],dt=[],Nt=[],Qt=[],hr=0;hr<7;hr++)we=p([2e3,1]).day(hr),X=rt(this.weekdaysMin(we,"")),fe=rt(this.weekdaysShort(we,"")),we=rt(this.weekdays(we,"")),Fe.push(X),dt.push(fe),Nt.push(we),Qt.push(X),Qt.push(fe),Qt.push(we);Fe.sort(C),dt.sort(C),Nt.sort(C),Qt.sort(C),this._weekdaysRegex=new RegExp("^("+Qt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Nt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+dt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Fe.join("|")+")","i")}a(cr,"nt");function pr(){return this.hours()%12||12}a(pr,"st");function Cr(C,X){K(C,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),X)})}a(Cr,"it");function Wr(C,X){return X._meridiemParse}a(Wr,"rt"),K("H",["HH",2],0,"hour"),K("h",["hh",2],0,pr),K("k",["kk",2],0,function(){return this.hours()||24}),K("hmm",0,0,function(){return""+pr.apply(this)+m(this.minutes(),2)}),K("hmmss",0,0,function(){return""+pr.apply(this)+m(this.minutes(),2)+m(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+m(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+m(this.minutes(),2)+m(this.seconds(),2)}),Cr("a",!0),Cr("A",!1),L("hour","h"),se("hour",13),Te("a",Wr),Te("A",Wr),Te("H",ie),Te("h",ie),Te("k",ie),Te("HH",ie,Or),Te("hh",ie,Or),Te("kk",ie,Or),Te("hmm",he),Te("hmmss",De),Te("Hmm",he),Te("Hmmss",De),qe(["H","HH"],tt),qe(["k","kk"],function(C,X,fe){C=D(C),X[tt]=C===24?0:C}),qe(["a","A"],function(C,X,fe){fe._isPm=fe._locale.isPM(C),fe._meridiem=C}),qe(["h","hh"],function(C,X,fe){X[tt]=D(C),g(fe).bigHour=!0}),qe("hmm",function(C,X,fe){var we=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we)),g(fe).bigHour=!0}),qe("hmmss",function(C,X,fe){var we=C.length-4,Fe=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we,2)),X[et]=D(C.substr(Fe)),g(fe).bigHour=!0}),qe("Hmm",function(C,X,fe){var we=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we))}),qe("Hmmss",function(C,X,fe){var we=C.length-4,Fe=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we,2)),X[et]=D(C.substr(Fe))}),Ce=J("Hours",!0);var Tr,lr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Wt,monthsShort:bt,week:{dow:0,doy:6},weekdays:yt,weekdaysMin:wt,weekdaysShort:pt,meridiemParse:/[ap]\.?m?\.?/i},fr={},Mr={};function Br(C){return C&&C.toLowerCase().replace("_","-")}a(Br,"lt");function Ne(C){for(var X,fe,we,Fe,dt=0;dt<C.length;){for(X=(Fe=Br(C[dt]).split("-")).length,fe=(fe=Br(C[dt+1]))?fe.split("-"):null;0<X;){if(we=Ze(Fe.slice(0,X).join("-")))return we;if(fe&&fe.length>=X&&function(Nt,Qt){for(var hr=Math.min(Nt.length,Qt.length),ir=0;ir<hr;ir+=1)if(Nt[ir]!==Qt[ir])return ir;return hr}(Fe,fe)>=X-1)break;X--}dt++}return Tr}a(Ne,"ht");function Ze(C){var X;if(fr[C]===void 0&&typeof hb<"u"&&hb&&hb.exports&&C.match("^[^/\\\\]*$")!=null)try{X=Tr._abbr,Hi("./locale/"+C),Tt(X)}catch{fr[C]=null}return fr[C]}a(Ze,"dt");function Tt(C,X){return C&&((X=o(X)?At(C):Ft(C,X))?Tr=X:typeof console<"u"&&console.warn&&console.warn("Locale "+C+" not found. Did you forget to load it?")),Tr._abbr}a(Tt,"ct");function Ft(C,X){if(X===null)return delete fr[C],null;var fe,we=lr;if(X.abbr=C,fr[C]!=null)T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),we=fr[C]._config;else if(X.parentLocale!=null)if(fr[X.parentLocale]!=null)we=fr[X.parentLocale]._config;else{if((fe=Ze(X.parentLocale))==null)return Mr[X.parentLocale]||(Mr[X.parentLocale]=[]),Mr[X.parentLocale].push({name:C,config:X}),null;we=fe._config}return fr[C]=new x(R(we,X)),Mr[C]&&Mr[C].forEach(function(Fe){Ft(Fe.name,Fe.config)}),Tt(C),fr[C]}a(Ft,"ft");function At(C){var X;if(!(C=C&&C._locale&&C._locale._abbr?C._locale._abbr:C))return Tr;if(!r(C)){if(X=Ze(C))return X;C=[C]}return Ne(C)}a(At,"mt");function Ot(C){var X=C._a;return X&&g(C).overflow===-2&&(X=X[Re]<0||11<X[Re]?Re:X[He]<1||X[He]>it(X[pe],X[Re])?He:X[tt]<0||24<X[tt]||X[tt]===24&&(X[Ve]!==0||X[et]!==0||X[gt]!==0)?tt:X[Ve]<0||59<X[Ve]?Ve:X[et]<0||59<X[et]?et:X[gt]<0||999<X[gt]?gt:-1,g(C)._overflowDayOfYear&&(X<pe||He<X)&&(X=He),g(C)._overflowWeeks&&X===-1&&(X=ut),g(C)._overflowWeekday&&X===-1&&(X=zt),g(C).overflow=X),C}a(Ot,"_t");var Vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,er=/Z|[+-]\d\d(?::?\d\d)?/,Ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ir=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ct=/^\/?Date\((-?\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fi(C){var X,fe,we,Fe,dt,Nt,hr=C._i,Qt=Vt.exec(hr)||Ct.exec(hr),hr=Ue.length,ir=Ir.length;if(Qt){for(g(C).iso=!0,X=0,fe=hr;X<fe;X++)if(Ue[X][1].exec(Qt[1])){Fe=Ue[X][0],we=Ue[X][2]!==!1;break}if(Fe==null)C._isValid=!1;else{if(Qt[3]){for(X=0,fe=ir;X<fe;X++)if(Ir[X][1].exec(Qt[3])){dt=(Qt[2]||" ")+Ir[X][0];break}if(dt==null)return void(C._isValid=!1)}if(we||dt==null){if(Qt[4]){if(!er.exec(Qt[4]))return void(C._isValid=!1);Nt="Z"}C._f=Fe+(dt||"")+(Nt||""),Be(C)}else C._isValid=!1}}else C._isValid=!1}a(Fi,"St");function Ya(C,X,fe,we,Fe,dt){return C=[function(Nt){Nt=parseInt(Nt,10);{if(Nt<=49)return 2e3+Nt;if(Nt<=999)return 1900+Nt}return Nt}(C),bt.indexOf(X),parseInt(fe,10),parseInt(we,10),parseInt(Fe,10)],dt&&C.push(parseInt(dt,10)),C}a(Ya,"Yt");function Ha(C){var X,fe,we,Fe,dt=xn.exec(C._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));dt?(X=Ya(dt[4],dt[3],dt[2],dt[5],dt[6],dt[7]),fe=dt[1],we=X,Fe=C,fe&&pt.indexOf(fe)!==new Date(we[0],we[1],we[2]).getDay()?(g(Fe).weekdayMismatch=!0,Fe._isValid=!1):(C._a=X,C._tzm=(fe=dt[8],we=dt[9],Fe=dt[10],fe?Mn[fe]:we?0:60*(((fe=parseInt(Fe,10))-(we=fe%100))/100)+we),C._d=me.apply(null,C._a),C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),g(C).rfc2822=!0)):C._isValid=!1}a(Ha,"Ot");function hn(C,X,fe){return C??X??fe}a(hn,"bt");function oe(C){var X,fe,we,Fe,dt,Nt,Qt,hr,ir,Ur,Lr,wi=[];if(!C._d){for(we=C,Fe=new Date(t.now()),fe=we._useUTC?[Fe.getUTCFullYear(),Fe.getUTCMonth(),Fe.getUTCDate()]:[Fe.getFullYear(),Fe.getMonth(),Fe.getDate()],C._w&&C._a[He]==null&&C._a[Re]==null&&((Fe=(we=C)._w).GG!=null||Fe.W!=null||Fe.E!=null?(hr=1,ir=4,dt=hn(Fe.GG,we._a[pe],Ge(lt(),1,4).year),Nt=hn(Fe.W,1),((Qt=hn(Fe.E,1))<1||7<Qt)&&(Ur=!0)):(hr=we._locale._week.dow,ir=we._locale._week.doy,Lr=Ge(lt(),hr,ir),dt=hn(Fe.gg,we._a[pe],Lr.year),Nt=hn(Fe.w,Lr.week),Fe.d!=null?((Qt=Fe.d)<0||6<Qt)&&(Ur=!0):Fe.e!=null?(Qt=Fe.e+hr,(Fe.e<0||6<Fe.e)&&(Ur=!0)):Qt=hr),Nt<1||Nt>ke(dt,hr,ir)?g(we)._overflowWeeks=!0:Ur!=null?g(we)._overflowWeekday=!0:(Lr=Oe(dt,Nt,Qt,hr,ir),we._a[pe]=Lr.year,we._dayOfYear=Lr.dayOfYear)),C._dayOfYear!=null&&(Fe=hn(C._a[pe],fe[pe]),(C._dayOfYear>re(Fe)||C._dayOfYear===0)&&(g(C)._overflowDayOfYear=!0),Ur=me(Fe,0,C._dayOfYear),C._a[Re]=Ur.getUTCMonth(),C._a[He]=Ur.getUTCDate()),X=0;X<3&&C._a[X]==null;++X)C._a[X]=wi[X]=fe[X];for(;X<7;X++)C._a[X]=wi[X]=C._a[X]==null?X===2?1:0:C._a[X];C._a[tt]===24&&C._a[Ve]===0&&C._a[et]===0&&C._a[gt]===0&&(C._nextDay=!0,C._a[tt]=0),C._d=(C._useUTC?me:le).apply(null,wi),dt=C._useUTC?C._d.getUTCDay():C._d.getDay(),C._tzm!=null&&C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),C._nextDay&&(C._a[tt]=24),C._w&&C._w.d!==void 0&&C._w.d!==dt&&(g(C).weekdayMismatch=!0)}}a(oe,"xt");function Be(C){if(C._f===t.ISO_8601)Fi(C);else if(C._f===t.RFC_2822)Ha(C);else{C._a=[],g(C).empty=!0;for(var X,fe,we,Fe,dt,Nt=""+C._i,Qt=Nt.length,hr=0,ir=O(C._f,C._locale).match(v)||[],Ur=ir.length,Lr=0;Lr<Ur;Lr++)fe=ir[Lr],(X=(Nt.match(Je(fe,C))||[])[0])&&(0<(we=Nt.substr(0,Nt.indexOf(X))).length&&g(C).unusedInput.push(we),Nt=Nt.slice(Nt.indexOf(X)+X.length),hr+=X.length),G[fe]?(X?g(C).empty=!1:g(C).unusedTokens.push(fe),we=fe,dt=C,(Fe=X)!=null&&i(xe,we)&&xe[we](Fe,dt._a,dt,we)):C._strict&&!X&&g(C).unusedTokens.push(fe);g(C).charsLeftOver=Qt-hr,0<Nt.length&&g(C).unusedInput.push(Nt),C._a[tt]<=12&&g(C).bigHour===!0&&0<C._a[tt]&&(g(C).bigHour=void 0),g(C).parsedDateParts=C._a.slice(0),g(C).meridiem=C._meridiem,C._a[tt]=function(wi,Yi,ho){return ho==null?Yi:wi.meridiemHour!=null?wi.meridiemHour(Yi,ho):wi.isPM!=null?((wi=wi.isPM(ho))&&Yi<12&&(Yi+=12),Yi=wi||Yi!==12?Yi:0):Yi}(C._locale,C._a[tt],C._meridiem),(Qt=g(C).era)!==null&&(C._a[pe]=C._locale.erasConvertYear(Qt,C._a[pe])),oe(C),Ot(C)}}a(Be,"Tt");function Le(C){var X,fe,we,Fe=C._i,dt=C._f;return C._locale=C._locale||At(C._l),Fe===null||dt===void 0&&Fe===""?E({nullInput:!0}):(typeof Fe=="string"&&(C._i=Fe=C._locale.preparse(Fe)),W(Fe)?new V(Ot(Fe)):(l(Fe)?C._d=Fe:r(dt)?function(Nt){var Qt,hr,ir,Ur,Lr,wi,Yi=!1,ho=Nt._f.length;if(ho===0)return g(Nt).invalidFormat=!0,Nt._d=new Date(NaN);for(Ur=0;Ur<ho;Ur++)Lr=0,wi=!1,Qt=Q({},Nt),Nt._useUTC!=null&&(Qt._useUTC=Nt._useUTC),Qt._f=Nt._f[Ur],Be(Qt),y(Qt)&&(wi=!0),Lr=(Lr+=g(Qt).charsLeftOver)+10*g(Qt).unusedTokens.length,g(Qt).score=Lr,Yi?Lr<ir&&(ir=Lr,hr=Qt):(ir==null||Lr<ir||wi)&&(ir=Lr,hr=Qt,wi&&(Yi=!0));h(Nt,hr||Qt)}(C):dt?Be(C):o(dt=(Fe=C)._i)?Fe._d=new Date(t.now()):l(dt)?Fe._d=new Date(dt.valueOf()):typeof dt=="string"?(fe=Fe,(X=ct.exec(fe._i))!==null?fe._d=new Date(+X[1]):(Fi(fe),fe._isValid===!1&&(delete fe._isValid,Ha(fe),fe._isValid===!1&&(delete fe._isValid,fe._strict?fe._isValid=!1:t.createFromInputFallback(fe))))):r(dt)?(Fe._a=f(dt.slice(0),function(Nt){return parseInt(Nt,10)}),oe(Fe)):n(dt)?(X=Fe)._d||(we=(fe=ve(X._i)).day===void 0?fe.date:fe.day,X._a=f([fe.year,fe.month,we,fe.hour,fe.minute,fe.second,fe.millisecond],function(Nt){return Nt&&parseInt(Nt,10)}),oe(X)):u(dt)?Fe._d=new Date(dt):t.createFromInputFallback(Fe),y(C)||(C._d=null),C))}a(Le,"Nt");function Xe(C,X,fe,we,Fe){var dt={};return X!==!0&&X!==!1||(we=X,X=void 0),fe!==!0&&fe!==!1||(we=fe,fe=void 0),(n(C)&&s(C)||r(C)&&C.length===0)&&(C=void 0),dt._isAMomentObject=!0,dt._useUTC=dt._isUTC=Fe,dt._l=fe,dt._i=C,dt._f=X,dt._strict=we,(Fe=new V(Ot(Le(Fe=dt))))._nextDay&&(Fe.add(1,"d"),Fe._nextDay=void 0),Fe}a(Xe,"Pt");function lt(C,X,fe,we){return Xe(C,X,fe,we,!1)}a(lt,"W"),t.createFromInputFallback=B("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(C){C._d=new Date(C._i+(C._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){},he=B("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=lt.apply(null,arguments);return this.isValid()&&C.isValid()?C<this?this:C:E()}),De=B("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=lt.apply(null,arguments);return this.isValid()&&C.isValid()?this<C?this:C:E()});function Ke(C,X){var fe,we;if(!(X=X.length===1&&r(X[0])?X[0]:X).length)return lt();for(fe=X[0],we=1;we<X.length;++we)X[we].isValid()&&!X[we][C](fe)||(fe=X[we]);return fe}a(Ke,"Rt");var Et=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nt(X){var X=ve(X),fe=X.year||0,we=X.quarter||0,Fe=X.month||0,dt=X.week||X.isoWeek||0,Nt=X.day||0,Qt=X.hour||0,hr=X.minute||0,ir=X.second||0,Ur=X.millisecond||0;this._isValid=function(Lr){var wi,Yi,ho=!1,dy=Et.length;for(wi in Lr)if(i(Lr,wi)&&(at.call(Et,wi)===-1||Lr[wi]!=null&&isNaN(Lr[wi])))return!1;for(Yi=0;Yi<dy;++Yi)if(Lr[Et[Yi]]){if(ho)return!1;parseFloat(Lr[Et[Yi]])!==D(Lr[Et[Yi]])&&(ho=!0)}return!0}(X),this._milliseconds=+Ur+1e3*ir+6e4*hr+1e3*Qt*60*60,this._days=+Nt+7*dt,this._months=+Fe+3*we+12*fe,this._data={},this._locale=At(),this._bubble()}a(nt,"Ct");function Rt(C){return C instanceof nt}a(Rt,"Ut");function jt(C){return C<0?-1*Math.round(-1*C):Math.round(C)}a(jt,"Ht");function Xt(C,X){K(C,0,0,function(){var fe=this.utcOffset(),we="+";return fe<0&&(fe=-fe,we="-"),we+m(~~(fe/60),2)+X+m(~~fe%60,2)})}a(Xt,"Ft"),Xt("Z",":"),Xt("ZZ",""),Te("Z",We),Te("ZZ",We),qe(["Z","ZZ"],function(C,X,fe){fe._useUTC=!0,fe._tzm=Er(We,C)});var ur=/([\+\-]|\d\d)/gi;function Er(C,fe){var fe=(fe||"").match(C);return fe===null?null:(fe=60*(C=((fe[fe.length-1]||[])+"").match(ur)||["-",0,0])[1]+D(C[2]))===0?0:C[0]==="+"?fe:-fe}a(Er,"Vt");function Kr(C,X){var fe;return X._isUTC?(X=X.clone(),fe=(W(C)||l(C)?C:lt(C)).valueOf()-X.valueOf(),X._d.setTime(X._d.valueOf()+fe),t.updateOffset(X,!1),X):lt(C).local()}a(Kr,"Gt");function Rr(C){return-Math.round(C._d.getTimezoneOffset())}a(Rr,"Et");function jr(){return!!this.isValid()&&this._isUTC&&this._offset===0}a(jr,"At"),t.updateOffset=function(){};var en=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Un=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yn(C,X){var fe,we=C,Fe=null;return Rt(C)?we={ms:C._milliseconds,d:C._days,M:C._months}:u(C)||!isNaN(+C)?(we={},X?we[X]=+C:we.milliseconds=+C):(Fe=en.exec(C))?(fe=Fe[1]==="-"?-1:1,we={y:0,d:D(Fe[He])*fe,h:D(Fe[tt])*fe,m:D(Fe[Ve])*fe,s:D(Fe[et])*fe,ms:D(jt(1e3*Fe[gt]))*fe}):(Fe=Un.exec(C))?(fe=Fe[1]==="-"?-1:1,we={y:Nn(Fe[2],fe),M:Nn(Fe[3],fe),w:Nn(Fe[4],fe),d:Nn(Fe[5],fe),h:Nn(Fe[6],fe),m:Nn(Fe[7],fe),s:Nn(Fe[8],fe)}):we==null?we={}:typeof we=="object"&&("from"in we||"to"in we)&&(X=function(dt,Nt){var Qt;return!dt.isValid()||!Nt.isValid()?{milliseconds:0,months:0}:(Nt=Kr(Nt,dt),dt.isBefore(Nt)?Qt=gi(dt,Nt):((Qt=gi(Nt,dt)).milliseconds=-Qt.milliseconds,Qt.months=-Qt.months),Qt)}(lt(we.from),lt(we.to)),(we={}).ms=X.milliseconds,we.M=X.months),Fe=new nt(we),Rt(C)&&i(C,"_locale")&&(Fe._locale=C._locale),Rt(C)&&i(C,"_isValid")&&(Fe._isValid=C._isValid),Fe}a(yn,"C");function Nn(C,X){return C=C&&parseFloat(C.replace(",",".")),(isNaN(C)?0:C)*X}a(Nn,"Zt");function gi(C,X){var fe={};return fe.months=X.month()-C.month()+12*(X.year()-C.year()),C.clone().add(fe.months,"M").isAfter(X)&&--fe.months,fe.milliseconds=+X-+C.clone().add(fe.months,"M"),fe}a(gi,"zt");function ca(C,X){return function(fe,we){var Fe;return we===null||isNaN(+we)||(T(X,"moment()."+X+"(period, number) is deprecated. Please use moment()."+X+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Fe=fe,fe=we,we=Fe),ci(this,yn(fe,we),C),this}}a(ca,"$t");function ci(C,Nt,fe,we){var Fe=Nt._milliseconds,dt=jt(Nt._days),Nt=jt(Nt._months);C.isValid()&&(we=we==null||we,Nt&&_e(C,q(C,"Month")+Nt*fe),dt&&I(C,"Date",q(C,"Date")+dt*fe),Fe&&C._d.setTime(C._d.valueOf()+Fe*fe),we&&t.updateOffset(C,dt||Nt))}a(ci,"qt"),yn.fn=nt.prototype,yn.invalid=function(){return yn(NaN)},Wt=ca(1,"add"),yt=ca(-1,"subtract");function Di(C){return typeof C=="string"||C instanceof String}a(Di,"Bt");function za(C){return W(C)||l(C)||Di(C)||u(C)||function(X){var fe=r(X),we=!1;return fe&&(we=X.filter(function(Fe){return!u(Fe)&&Di(X)}).length===0),fe&&we}(C)||function(X){var fe,we,Fe=n(X)&&!s(X),dt=!1,Nt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Qt=Nt.length;for(fe=0;fe<Qt;fe+=1)we=Nt[fe],dt=dt||i(X,we);return Fe&&dt}(C)||C==null}a(za,"Jt");function Ni(C,Fe){if(C.date()<Fe.date())return-Ni(Fe,C);var fe=12*(Fe.year()-C.year())+(Fe.month()-C.month()),we=C.clone().add(fe,"months"),Fe=Fe-we<0?(Fe-we)/(we-C.clone().add(fe-1,"months")):(Fe-we)/(C.clone().add(1+fe,"months")-we);return-(fe+Fe)||0}a(Ni,"Qt");function ua(C){return C===void 0?this._locale._abbr:((C=At(C))!=null&&(this._locale=C),this)}a(ua,"Xt"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",wt=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(C){return C===void 0?this.localeData():this.locale(C)});function Ui(){return this._locale}a(Ui,"Kt");var Qr=126227808e5;function rr(C,X){return(C%X+X)%X}a(rr,"tn");function mt(C,X,fe){return C<100&&0<=C?new Date(C+400,X,fe)-Qr:new Date(C,X,fe).valueOf()}a(mt,"nn");function $t(C,X,fe){return C<100&&0<=C?Date.UTC(C+400,X,fe)-Qr:Date.UTC(C,X,fe)}a($t,"sn");function or(C,X){return X.erasAbbrRegex(C)}a(or,"rn");function Xr(){for(var C=[],X=[],fe=[],we=[],Fe=this.eras(),dt=0,Nt=Fe.length;dt<Nt;++dt)X.push(rt(Fe[dt].name)),C.push(rt(Fe[dt].abbr)),fe.push(rt(Fe[dt].narrow)),we.push(rt(Fe[dt].name)),we.push(rt(Fe[dt].abbr)),we.push(rt(Fe[dt].narrow));this._erasRegex=new RegExp("^("+we.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+X.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+fe.join("|")+")","i")}a(Xr,"an");function ui(C,X){K(0,[C,C.length],0,X)}a(ui,"on");function li(C,X,fe,we,Fe){var dt;return C==null?Ge(this,we,Fe).year:(dt=ke(C,we,Fe),function(Nt,Qt,hr,ir,Ur){return Nt=Oe(Nt,Qt,hr,ir,Ur),Qt=me(Nt.year,0,Nt.dayOfYear),this.year(Qt.getUTCFullYear()),this.month(Qt.getUTCMonth()),this.date(Qt.getUTCDate()),this}.call(this,C,X=dt<X?dt:X,fe,we,Fe))}a(li,"un"),K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),Te("N",or),Te("NN",or),Te("NNN",or),Te("NNNN",function(C,X){return X.erasNameRegex(C)}),Te("NNNNN",function(C,X){return X.erasNarrowRegex(C)}),qe(["N","NN","NNN","NNNN","NNNNN"],function(C,X,fe,we){we=fe._locale.erasParse(C,we,fe._strict),we?g(fe).era=we:g(fe).invalidEra=C}),Te("y",ze),Te("yy",ze),Te("yyy",ze),Te("yyyy",ze),Te("yo",function(C,X){return X._eraYearOrdinalRegex||ze}),qe(["y","yy","yyy","yyyy"],pe),qe(["yo"],function(C,X,fe,we){var Fe;fe._locale._eraYearOrdinalRegex&&(Fe=C.match(fe._locale._eraYearOrdinalRegex)),fe._locale.eraYearOrdinalParse?X[pe]=fe._locale.eraYearOrdinalParse(C,Fe):X[pe]=parseInt(C,10)}),K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ui("gggg","weekYear"),ui("ggggg","weekYear"),ui("GGGG","isoWeekYear"),ui("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),se("weekYear",1),se("isoWeekYear",1),Te("G",Qe),Te("g",Qe),Te("GG",ie,Or),Te("gg",ie,Or),Te("GGGG",Po,ka),Te("gggg",Po,ka),Te("GGGGG",Wn,Ys),Te("ggggg",Wn,Ys),ot(["gggg","ggggg","GGGG","GGGGG"],function(C,X,fe,we){X[we.substr(0,2)]=D(C)}),ot(["gg","GG"],function(C,X,fe,we){X[we]=t.parseTwoDigitYear(C)}),K("Q",0,"Qo","quarter"),L("quarter","Q"),se("quarter",7),Te("Q",H),qe("Q",function(C,X){X[Re]=3*(D(C)-1)}),K("D",["DD",2],"Do","date"),L("date","D"),se("date",9),Te("D",ie),Te("DD",ie,Or),Te("Do",function(C,X){return C?X._dayOfMonthOrdinalParse||X._ordinalParse:X._dayOfMonthOrdinalParseLenient}),qe(["D","DD"],He),qe("Do",function(C,X){X[He]=D(C.match(ie)[0])}),Po=J("Date",!0),K("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),se("dayOfYear",4),Te("DDD",$e),Te("DDDD",te),qe(["DDD","DDDD"],function(C,X,fe){fe._dayOfYear=D(C)}),K("m",["mm",2],0,"minute"),L("minute","m"),se("minute",14),Te("m",ie),Te("mm",ie,Or),qe(["m","mm"],Ve);var Bn,ka=J("Minutes",!1),Wn=(K("s",["ss",2],0,"second"),L("second","s"),se("second",15),Te("s",ie),Te("ss",ie,Or),qe(["s","ss"],et),J("Seconds",!1));for(K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return 10*this.millisecond()}),K(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),K(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),K(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),K(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),K(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),se("millisecond",16),Te("S",$e,H),Te("SS",$e,Or),Te("SSS",$e,te),Bn="SSSS";Bn.length<=9;Bn+="S")Te(Bn,ze);function Fs(C,X){X[gt]=D(1e3*("0."+C))}for(a(Fs,"hn"),Bn="S";Bn.length<=9;Bn+="S")qe(Bn,Fs);Ys=J("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName"),H=V.prototype;function Ca(C){return C}a(Ca,"dn"),H.add=Wt,H.calendar=function(fe,Fe){arguments.length===1&&(arguments[0]?za(arguments[0])?(fe=arguments[0],Fe=void 0):function(dt){for(var Nt=n(dt)&&!s(dt),Qt=!1,hr=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ir=0;ir<hr.length;ir+=1)Qt=Qt||i(dt,hr[ir]);return Nt&&Qt}(arguments[0])&&(Fe=arguments[0],fe=void 0):Fe=fe=void 0);var fe=fe||lt(),we=Kr(fe,this).startOf("day"),we=t.calendarFormat(this,we)||"sameElse",Fe=Fe&&(k(Fe[we])?Fe[we].call(this,fe):Fe[we]);return this.format(Fe||this.localeData().calendar(we,this,lt(fe)))},H.clone=function(){return new V(this)},H.diff=function(C,X,fe){var we,Fe,dt;if(!this.isValid())return NaN;if(!(we=Kr(C,this)).isValid())return NaN;switch(Fe=6e4*(we.utcOffset()-this.utcOffset()),X=ee(X)){case"year":dt=Ni(this,we)/12;break;case"month":dt=Ni(this,we);break;case"quarter":dt=Ni(this,we)/3;break;case"second":dt=(this-we)/1e3;break;case"minute":dt=(this-we)/6e4;break;case"hour":dt=(this-we)/36e5;break;case"day":dt=(this-we-Fe)/864e5;break;case"week":dt=(this-we-Fe)/6048e5;break;default:dt=this-we}return fe?dt:Y(dt)},H.endOf=function(C){var X,fe;if((C=ee(C))===void 0||C==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?$t:mt,C){case"year":X=fe(this.year()+1,0,1)-1;break;case"quarter":X=fe(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":X=fe(this.year(),this.month()+1,1)-1;break;case"week":X=fe(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":X=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":X=fe(this.year(),this.month(),this.date()+1)-1;break;case"hour":X=this._d.valueOf(),X+=36e5-rr(X+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":X=this._d.valueOf(),X+=6e4-rr(X,6e4)-1;break;case"second":X=this._d.valueOf(),X+=1e3-rr(X,1e3)-1;break}return this._d.setTime(X),t.updateOffset(this,!0),this},H.format=function(C){return C=C||(this.isUtc()?t.defaultFormatUtc:t.defaultFormat),C=Z(this,C),this.localeData().postformat(C)},H.from=function(C,X){return this.isValid()&&(W(C)&&C.isValid()||lt(C).isValid())?yn({to:this,from:C}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()},H.fromNow=function(C){return this.from(lt(),C)},H.to=function(C,X){return this.isValid()&&(W(C)&&C.isValid()||lt(C).isValid())?yn({from:this,to:C}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()},H.toNow=function(C){return this.to(lt(),C)},H.get=function(C){return k(this[C=ee(C)])?this[C]():this},H.invalidAt=function(){return g(this).overflow},H.isAfter=function(C,X){return C=W(C)?C:lt(C),!(!this.isValid()||!C.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()>C.valueOf():C.valueOf()<this.clone().startOf(X).valueOf())},H.isBefore=function(C,X){return C=W(C)?C:lt(C),!(!this.isValid()||!C.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()<C.valueOf():this.clone().endOf(X).valueOf()<C.valueOf())},H.isBetween=function(C,X,fe,we){return C=W(C)?C:lt(C),X=W(X)?X:lt(X),!!(this.isValid()&&C.isValid()&&X.isValid())&&((we=we||"()")[0]==="("?this.isAfter(C,fe):!this.isBefore(C,fe))&&(we[1]===")"?this.isBefore(X,fe):!this.isAfter(X,fe))},H.isSame=function(fe,X){var fe=W(fe)?fe:lt(fe);return!(!this.isValid()||!fe.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()===fe.valueOf():(fe=fe.valueOf(),this.clone().startOf(X).valueOf()<=fe&&fe<=this.clone().endOf(X).valueOf()))},H.isSameOrAfter=function(C,X){return this.isSame(C,X)||this.isAfter(C,X)},H.isSameOrBefore=function(C,X){return this.isSame(C,X)||this.isBefore(C,X)},H.isValid=function(){return y(this)},H.lang=wt,H.locale=ua,H.localeData=Ui,H.max=De,H.min=he,H.parsingFlags=function(){return h({},g(this))},H.set=function(C,X){if(typeof C=="object")for(var fe=function(dt){var Nt,Qt=[];for(Nt in dt)i(dt,Nt)&&Qt.push({unit:Nt,priority:ye[Nt]});return Qt.sort(function(hr,ir){return hr.priority-ir.priority}),Qt}(C=ve(C)),we=fe.length,Fe=0;Fe<we;Fe++)this[fe[Fe].unit](C[fe[Fe].unit]);else if(k(this[C=ee(C)]))return this[C](X);return this},H.startOf=function(C){var X,fe;if((C=ee(C))===void 0||C==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?$t:mt,C){case"year":X=fe(this.year(),0,1);break;case"quarter":X=fe(this.year(),this.month()-this.month()%3,1);break;case"month":X=fe(this.year(),this.month(),1);break;case"week":X=fe(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":X=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":X=fe(this.year(),this.month(),this.date());break;case"hour":X=this._d.valueOf(),X-=rr(X+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":X=this._d.valueOf(),X-=rr(X,6e4);break;case"second":X=this._d.valueOf(),X-=rr(X,1e3);break}return this._d.setTime(X),t.updateOffset(this,!0),this},H.subtract=yt,H.toArray=function(){var C=this;return[C.year(),C.month(),C.date(),C.hour(),C.minute(),C.second(),C.millisecond()]},H.toObject=function(){var C=this;return{years:C.year(),months:C.month(),date:C.date(),hours:C.hours(),minutes:C.minutes(),seconds:C.seconds(),milliseconds:C.milliseconds()}},H.toDate=function(){return new Date(this.valueOf())},H.toISOString=function(C){if(!this.isValid())return null;var X=(C=C!==!0)?this.clone().utc():this;return X.year()<0||9999<X.year()?Z(X,C?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?C?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Z(X,"Z")):Z(X,C?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},H.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var C,X="moment",fe="";return this.isLocal()||(X=this.utcOffset()===0?"moment.utc":"moment.parseZone",fe="Z"),X="["+X+'("]',C=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(X+C+"-MM-DD[T]HH:mm:ss.SSS"+(fe+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},H.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},H.eraName=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].name;return""},H.eraNarrow=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].narrow;return""},H.eraAbbr=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].abbr;return""},H.eraYear=function(){for(var C,X,fe=this.localeData().eras(),we=0,Fe=fe.length;we<Fe;++we)if(C=fe[we].since<=fe[we].until?1:-1,X=this.clone().startOf("day").valueOf(),fe[we].since<=X&&X<=fe[we].until||fe[we].until<=X&&X<=fe[we].since)return(this.year()-t(fe[we].since).year())*C+fe[we].offset;return this.year()},H.year=sl,H.isLeapYear=function(){return be(this.year())},H.weekYear=function(C){return li.call(this,C,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},H.isoWeekYear=function(C){return li.call(this,C,this.isoWeek(),this.isoWeekday(),1,4)},H.quarter=H.quarters=function(C){return C==null?Math.ceil((this.month()+1)/3):this.month(3*(C-1)+this.month()%3)},H.month=ae,H.daysInMonth=function(){return it(this.year(),this.month())},H.week=H.weeks=function(C){var X=this.localeData().week(this);return C==null?X:this.add(7*(C-X),"d")},H.isoWeek=H.isoWeeks=function(C){var X=Ge(this,1,4).week;return C==null?X:this.add(7*(C-X),"d")},H.weeksInYear=function(){var C=this.localeData()._week;return ke(this.year(),C.dow,C.doy)},H.weeksInWeekYear=function(){var C=this.localeData()._week;return ke(this.weekYear(),C.dow,C.doy)},H.isoWeeksInYear=function(){return ke(this.year(),1,4)},H.isoWeeksInISOWeekYear=function(){return ke(this.isoWeekYear(),1,4)},H.date=Po,H.day=H.days=function(C){if(!this.isValid())return C!=null?this:NaN;var X,fe,we=this._isUTC?this._d.getUTCDay():this._d.getDay();return C!=null?(X=C,fe=this.localeData(),C=typeof X!="string"?X:isNaN(X)?typeof(X=fe.weekdaysParse(X))=="number"?X:null:parseInt(X,10),this.add(C-we,"d")):we},H.weekday=function(C){if(!this.isValid())return C!=null?this:NaN;var X=(this.day()+7-this.localeData()._week.dow)%7;return C==null?X:this.add(C-X,"d")},H.isoWeekday=function(C){return this.isValid()?C!=null?(X=C,fe=this.localeData(),fe=typeof X=="string"?fe.weekdaysParse(X)%7||7:isNaN(X)?null:X,this.day(this.day()%7?fe:fe-7)):this.day()||7:C!=null?this:NaN;var X,fe},H.dayOfYear=function(C){var X=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return C==null?X:this.add(C-X,"d")},H.hour=H.hours=Ce,H.minute=H.minutes=ka,H.second=H.seconds=Wn,H.millisecond=H.milliseconds=Ys,H.utcOffset=function(C,X,fe){var we,Fe=this._offset||0;if(!this.isValid())return C!=null?this:NaN;if(C==null)return this._isUTC?Fe:Rr(this);if(typeof C=="string"){if((C=Er(We,C))===null)return this}else Math.abs(C)<16&&!fe&&(C*=60);return!this._isUTC&&X&&(we=Rr(this)),this._offset=C,this._isUTC=!0,we!=null&&this.add(we,"m"),Fe!==C&&(!X||this._changeInProgress?ci(this,yn(C-Fe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this},H.utc=function(C){return this.utcOffset(0,C)},H.local=function(C){return this._isUTC&&(this.utcOffset(0,C),this._isUTC=!1,C&&this.subtract(Rr(this),"m")),this},H.parseZone=function(){var C;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((C=Er(je,this._i))!=null?this.utcOffset(C):this.utcOffset(0,!0)),this},H.hasAlignedHourOffset=function(C){return!!this.isValid()&&(C=C?lt(C).utcOffset():0,(this.utcOffset()-C)%60==0)},H.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},H.isLocal=function(){return!!this.isValid()&&!this._isUTC},H.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},H.isUtc=jr,H.isUTC=jr,H.zoneAbbr=function(){return this._isUTC?"UTC":""},H.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},H.dates=B("dates accessor is deprecated. Use date instead.",Po),H.months=B("months accessor is deprecated. Use month instead",ae),H.years=B("years accessor is deprecated. Use year instead",sl),H.zone=B("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(C,X){return C!=null?(this.utcOffset(C=typeof C!="string"?-C:C,X),this):-this.utcOffset()}),H.isDSTShifted=B("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var C,X={};return Q(X,this),(X=Le(X))._a?(C=(X._isUTC?p:lt)(X._a),this._isDSTShifted=this.isValid()&&0<function(fe,we,Fe){for(var dt=Math.min(fe.length,we.length),Nt=Math.abs(fe.length-we.length),Qt=0,hr=0;hr<dt;hr++)(Fe&&fe[hr]!==we[hr]||!Fe&&D(fe[hr])!==D(we[hr]))&&Qt++;return Qt+Nt}(X._a,C.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),Or=x.prototype;function qo(C,X,fe,dt){var Fe=At(),dt=p().set(dt,X);return Fe[fe](dt,C)}a(qo,"cn");function xf(C,X,fe){if(u(C)&&(X=C,C=void 0),C=C||"",X!=null)return qo(C,X,fe,"month");for(var we=[],Fe=0;Fe<12;Fe++)we[Fe]=qo(C,Fe,fe,"month");return we}a(xf,"fn");function al(C,X,fe,we){X=(typeof C=="boolean"?u(X)&&(fe=X,X=void 0):(X=C,C=!1,u(fe=X)&&(fe=X,X=void 0)),X||"");var Fe,dt=At(),Nt=C?dt._week.dow:0,Qt=[];if(fe!=null)return qo(X,(fe+Nt)%7,we,"day");for(Fe=0;Fe<7;Fe++)Qt[Fe]=qo(X,(Fe+Nt)%7,we,"day");return Qt}a(al,"mn"),Or.calendar=function(C,X,fe){return k(C=this._calendar[C]||this._calendar.sameElse)?C.call(X,fe):C},Or.longDateFormat=function(C){var X=this._longDateFormat[C],fe=this._longDateFormat[C.toUpperCase()];return X||!fe?X:(this._longDateFormat[C]=fe.match(v).map(function(we){return we==="MMMM"||we==="MM"||we==="DD"||we==="dddd"?we.slice(1):we}).join(""),this._longDateFormat[C])},Or.invalidDate=function(){return this._invalidDate},Or.ordinal=function(C){return this._ordinal.replace("%d",C)},Or.preparse=Ca,Or.postformat=Ca,Or.relativeTime=function(C,X,fe,we){var Fe=this._relativeTime[fe];return k(Fe)?Fe(C,X,fe,we):Fe.replace(/%d/i,C)},Or.pastFuture=function(C,X){return k(C=this._relativeTime[0<C?"future":"past"])?C(X):C.replace(/%s/i,X)},Or.set=function(C){var X,fe;for(fe in C)i(C,fe)&&(k(X=C[fe])?this[fe]=X:this["_"+fe]=X);this._config=C,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Or.eras=function(C,X){for(var fe,we=this._eras||At("en")._eras,Fe=0,dt=we.length;Fe<dt;++Fe){switch(typeof we[Fe].since){case"string":fe=t(we[Fe].since).startOf("day"),we[Fe].since=fe.valueOf();break}switch(typeof we[Fe].until){case"undefined":we[Fe].until=1/0;break;case"string":fe=t(we[Fe].until).startOf("day").valueOf(),we[Fe].until=fe.valueOf();break}}return we},Or.erasParse=function(C,X,fe){var we,Fe,dt,Nt,Qt,hr=this.eras();for(C=C.toUpperCase(),we=0,Fe=hr.length;we<Fe;++we)if(dt=hr[we].name.toUpperCase(),Nt=hr[we].abbr.toUpperCase(),Qt=hr[we].narrow.toUpperCase(),fe)switch(X){case"N":case"NN":case"NNN":if(Nt===C)return hr[we];break;case"NNNN":if(dt===C)return hr[we];break;case"NNNNN":if(Qt===C)return hr[we];break}else if(0<=[dt,Nt,Qt].indexOf(C))return hr[we]},Or.erasConvertYear=function(C,X){var fe=C.since<=C.until?1:-1;return X===void 0?t(C.since).year():t(C.since).year()+(X-C.offset)*fe},Or.erasAbbrRegex=function(C){return i(this,"_erasAbbrRegex")||Xr.call(this),C?this._erasAbbrRegex:this._erasRegex},Or.erasNameRegex=function(C){return i(this,"_erasNameRegex")||Xr.call(this),C?this._erasNameRegex:this._erasRegex},Or.erasNarrowRegex=function(C){return i(this,"_erasNarrowRegex")||Xr.call(this),C?this._erasNarrowRegex:this._erasRegex},Or.months=function(C,X){return C?(r(this._months)?this._months:this._months[(this._months.isFormat||Se).test(X)?"format":"standalone"])[C.month()]:r(this._months)?this._months:this._months.standalone},Or.monthsShort=function(C,X){return C?(r(this._monthsShort)?this._monthsShort:this._monthsShort[Se.test(X)?"format":"standalone"])[C.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Or.monthsParse=function(C,X,fe){var we,Fe;if(this._monthsParseExact)return function(Lr,Nt,Qt){var hr,ir,Ur,Lr=Lr.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],hr=0;hr<12;++hr)Ur=p([2e3,hr]),this._shortMonthsParse[hr]=this.monthsShort(Ur,"").toLocaleLowerCase(),this._longMonthsParse[hr]=this.months(Ur,"").toLocaleLowerCase();return Qt?Nt==="MMM"?(ir=at.call(this._shortMonthsParse,Lr))!==-1?ir:null:(ir=at.call(this._longMonthsParse,Lr))!==-1?ir:null:Nt==="MMM"?(ir=at.call(this._shortMonthsParse,Lr))!==-1||(ir=at.call(this._longMonthsParse,Lr))!==-1?ir:null:(ir=at.call(this._longMonthsParse,Lr))!==-1||(ir=at.call(this._shortMonthsParse,Lr))!==-1?ir:null}.call(this,C,X,fe);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),we=0;we<12;we++)if(Fe=p([2e3,we]),fe&&!this._longMonthsParse[we]&&(this._longMonthsParse[we]=new RegExp("^"+this.months(Fe,"").replace(".","")+"$","i"),this._shortMonthsParse[we]=new RegExp("^"+this.monthsShort(Fe,"").replace(".","")+"$","i")),fe||this._monthsParse[we]||(Fe="^"+this.months(Fe,"")+"|^"+this.monthsShort(Fe,""),this._monthsParse[we]=new RegExp(Fe.replace(".",""),"i")),fe&&X==="MMMM"&&this._longMonthsParse[we].test(C)||fe&&X==="MMM"&&this._shortMonthsParse[we].test(C)||!fe&&this._monthsParse[we].test(C))return we},Or.monthsRegex=function(C){return this._monthsParseExact?(i(this,"_monthsRegex")||ce.call(this),C?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=ue),this._monthsStrictRegex&&C?this._monthsStrictRegex:this._monthsRegex)},Or.monthsShortRegex=function(C){return this._monthsParseExact?(i(this,"_monthsRegex")||ce.call(this),C?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&C?this._monthsShortStrictRegex:this._monthsShortRegex)},Or.week=function(C){return Ge(C,this._week.dow,this._week.doy).week},Or.firstDayOfYear=function(){return this._week.doy},Or.firstDayOfWeek=function(){return this._week.dow},Or.weekdays=function(C,X){return X=r(this._weekdays)?this._weekdays:this._weekdays[C&&C!==!0&&this._weekdays.isFormat.test(X)?"format":"standalone"],C===!0?st(X,this._week.dow):C?X[C.day()]:X},Or.weekdaysMin=function(C){return C===!0?st(this._weekdaysMin,this._week.dow):C?this._weekdaysMin[C.day()]:this._weekdaysMin},Or.weekdaysShort=function(C){return C===!0?st(this._weekdaysShort,this._week.dow):C?this._weekdaysShort[C.day()]:this._weekdaysShort},Or.weekdaysParse=function(C,X,fe){var we,Fe;if(this._weekdaysParseExact)return function(Lr,Nt,Qt){var hr,ir,Ur,Lr=Lr.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],hr=0;hr<7;++hr)Ur=p([2e3,1]).day(hr),this._minWeekdaysParse[hr]=this.weekdaysMin(Ur,"").toLocaleLowerCase(),this._shortWeekdaysParse[hr]=this.weekdaysShort(Ur,"").toLocaleLowerCase(),this._weekdaysParse[hr]=this.weekdays(Ur,"").toLocaleLowerCase();return Qt?Nt==="dddd"?(ir=at.call(this._weekdaysParse,Lr))!==-1?ir:null:Nt==="ddd"?(ir=at.call(this._shortWeekdaysParse,Lr))!==-1?ir:null:(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:Nt==="dddd"?(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._shortWeekdaysParse,Lr))!==-1||(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:Nt==="ddd"?(ir=at.call(this._shortWeekdaysParse,Lr))!==-1||(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:(ir=at.call(this._minWeekdaysParse,Lr))!==-1||(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._shortWeekdaysParse,Lr))!==-1?ir:null}.call(this,C,X,fe);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),we=0;we<7;we++)if(Fe=p([2e3,1]).day(we),fe&&!this._fullWeekdaysParse[we]&&(this._fullWeekdaysParse[we]=new RegExp("^"+this.weekdays(Fe,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[we]=new RegExp("^"+this.weekdaysShort(Fe,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[we]=new RegExp("^"+this.weekdaysMin(Fe,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[we]||(Fe="^"+this.weekdays(Fe,"")+"|^"+this.weekdaysShort(Fe,"")+"|^"+this.weekdaysMin(Fe,""),this._weekdaysParse[we]=new RegExp(Fe.replace(".",""),"i")),fe&&X==="dddd"&&this._fullWeekdaysParse[we].test(C)||fe&&X==="ddd"&&this._shortWeekdaysParse[we].test(C)||fe&&X==="dd"&&this._minWeekdaysParse[we].test(C)||!fe&&this._weekdaysParse[we].test(C))return we},Or.weekdaysRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&C?this._weekdaysStrictRegex:this._weekdaysRegex)},Or.weekdaysShortRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pt),this._weekdaysShortStrictRegex&&C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Or.weekdaysMinRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tr),this._weekdaysMinStrictRegex&&C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Or.isPM=function(C){return(C+"").toLowerCase().charAt(0)==="p"},Or.meridiem=function(C,X,fe){return 11<C?fe?"pm":"PM":fe?"am":"AM"},Tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(C){var X=C%10;return C+(D(C%100/10)===1?"th":X==1?"st":X==2?"nd":X==3?"rd":"th")}}),t.lang=B("moment.lang is deprecated. Use moment.locale instead.",Tt),t.langData=B("moment.langData is deprecated. Use moment.localeData instead.",At);var is=Math.abs;function wf(C,X,fe,we){return X=yn(X,fe),C._milliseconds+=we*X._milliseconds,C._days+=we*X._days,C._months+=we*X._months,C._bubble()}a(wf,"yn");function Us(C){return C<0?Math.floor(C):Math.ceil(C)}a(Us,"gn");function y6(C){return 4800*C/146097}a(y6,"wn");function qv(C){return 146097*C/4800}a(qv,"pn");function mc(C){return function(){return this.as(C)}}a(mc,"kn"),$e=mc("ms"),te=mc("s"),Wt=mc("m"),De=mc("h"),he=mc("d"),yt=mc("w"),Ce=mc("M"),ka=mc("Q"),Wn=mc("y");function Af(C){return function(){return this.isValid()?this._data[C]:NaN}}a(Af,"vn");var Ys=Af("milliseconds"),Po=Af("seconds"),sl=Af("minutes"),Or=Af("hours"),fy=Af("days"),IB=Af("months"),Pv=Af("years"),Fo=Math.round,bc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function hy(C,X,fe,we){var ir=yn(C).abs(),Ur=Fo(ir.as("s")),Fe=Fo(ir.as("m")),dt=Fo(ir.as("h")),Nt=Fo(ir.as("d")),Qt=Fo(ir.as("M")),hr=Fo(ir.as("w")),ir=Fo(ir.as("y")),Ur=(Ur<=fe.ss?["s",Ur]:Ur<fe.s&&["ss",Ur])||Fe<=1&&["m"]||Fe<fe.m&&["mm",Fe]||dt<=1&&["h"]||dt<fe.h&&["hh",dt]||Nt<=1&&["d"]||Nt<fe.d&&["dd",Nt];return(Ur=(Ur=fe.w!=null?Ur||hr<=1&&["w"]||hr<fe.w&&["ww",hr]:Ur)||Qt<=1&&["M"]||Qt<fe.M&&["MM",Qt]||ir<=1&&["y"]||["yy",ir])[2]=X,Ur[3]=0<+C,Ur[4]=we,function(Lr,wi,Yi,ho,dy){return dy.relativeTime(wi||1,!!Yi,Lr,ho)}.apply(null,Ur)}a(hy,"bn");var _d=Math.abs;function Uo(C){return(0<C)-(C<0)||+C}a(Uo,"Tn");function xd(){if(!this.isValid())return this.localeData().invalidDate();var C,X,fe,we,Fe,dt,Nt,Qt=_d(this._milliseconds)/1e3,hr=_d(this._days),ir=_d(this._months),Ur=this.asSeconds();return Ur?(C=Y(Qt/60),X=Y(C/60),Qt%=60,C%=60,fe=Y(ir/12),ir%=12,we=Qt?Qt.toFixed(3).replace(/\.?0+$/,""):"",Fe=Uo(this._months)!==Uo(Ur)?"-":"",dt=Uo(this._days)!==Uo(Ur)?"-":"",Nt=Uo(this._milliseconds)!==Uo(Ur)?"-":"",(Ur<0?"-":"")+"P"+(fe?Fe+fe+"Y":"")+(ir?Fe+ir+"M":"")+(hr?dt+hr+"D":"")+(X||C||Qt?"T":"")+(X?Nt+X+"H":"")+(C?Nt+C+"M":"")+(Qt?Nt+we+"S":"")):"P0D"}a(xd,"Nn");var dn=nt.prototype;return dn.isValid=function(){return this._isValid},dn.abs=function(){var C=this._data;return this._milliseconds=is(this._milliseconds),this._days=is(this._days),this._months=is(this._months),C.milliseconds=is(C.milliseconds),C.seconds=is(C.seconds),C.minutes=is(C.minutes),C.hours=is(C.hours),C.months=is(C.months),C.years=is(C.years),this},dn.add=function(C,X){return wf(this,C,X,1)},dn.subtract=function(C,X){return wf(this,C,X,-1)},dn.as=function(C){if(!this.isValid())return NaN;var X,fe,we=this._milliseconds;if((C=ee(C))==="month"||C==="quarter"||C==="year")switch(X=this._days+we/864e5,fe=this._months+y6(X),C){case"month":return fe;case"quarter":return fe/3;case"year":return fe/12}else switch(X=this._days+Math.round(qv(this._months)),C){case"week":return X/7+we/6048e5;case"day":return X+we/864e5;case"hour":return 24*X+we/36e5;case"minute":return 1440*X+we/6e4;case"second":return 86400*X+we/1e3;case"millisecond":return Math.floor(864e5*X)+we;default:throw new Error("Unknown unit "+C)}},dn.asMilliseconds=$e,dn.asSeconds=te,dn.asMinutes=Wt,dn.asHours=De,dn.asDays=he,dn.asWeeks=yt,dn.asMonths=Ce,dn.asQuarters=ka,dn.asYears=Wn,dn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN},dn._bubble=function(){var C=this._milliseconds,X=this._days,fe=this._months,we=this._data;return 0<=C&&0<=X&&0<=fe||C<=0&&X<=0&&fe<=0||(C+=864e5*Us(qv(fe)+X),fe=X=0),we.milliseconds=C%1e3,C=Y(C/1e3),we.seconds=C%60,C=Y(C/60),we.minutes=C%60,C=Y(C/60),we.hours=C%24,X+=Y(C/24),fe+=C=Y(y6(X)),X-=Us(qv(C)),C=Y(fe/12),fe%=12,we.days=X,we.months=fe,we.years=C,this},dn.clone=function(){return yn(this)},dn.get=function(C){return C=ee(C),this.isValid()?this[C+"s"]():NaN},dn.milliseconds=Ys,dn.seconds=Po,dn.minutes=sl,dn.hours=Or,dn.days=fy,dn.weeks=function(){return Y(this.days()/7)},dn.months=IB,dn.years=Pv,dn.humanize=function(C,X){if(!this.isValid())return this.localeData().invalidDate();var fe=!1,we=bc;return typeof C=="object"&&(X=C,C=!1),typeof C=="boolean"&&(fe=C),typeof X=="object"&&(we=Object.assign({},bc,X),X.s!=null&&X.ss==null&&(we.ss=X.s-1)),C=this.localeData(),X=hy(this,!fe,we,C),fe&&(X=C.pastFuture(+this,X)),C.postformat(X)},dn.toISOString=xd,dn.toString=xd,dn.toJSON=xd,dn.locale=ua,dn.localeData=Ui,dn.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xd),dn.lang=wt,K("X",0,0,"unix"),K("x",0,0,"valueOf"),Te("x",Qe),Te("X",/[+-]?\d+(\.\d{1,3})?/),qe("X",function(C,X,fe){fe._d=new Date(1e3*parseFloat(C))}),qe("x",function(C,X,fe){fe._d=new Date(D(C))}),t.version="2.29.4",e=lt,t.fn=H,t.min=function(){return Ke("isBefore",[].slice.call(arguments,0))},t.max=function(){return Ke("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=p,t.unix=function(C){return lt(1e3*C)},t.months=function(C,X){return xf(C,X,"months")},t.isDate=l,t.locale=Tt,t.invalid=E,t.duration=yn,t.isMoment=W,t.weekdays=function(C,X,fe){return al(C,X,fe,"weekdays")},t.parseZone=function(){return lt.apply(null,arguments).parseZone()},t.localeData=At,t.isDuration=Rt,t.monthsShort=function(C,X){return xf(C,X,"monthsShort")},t.weekdaysMin=function(C,X,fe){return al(C,X,fe,"weekdaysMin")},t.defineLocale=Ft,t.updateLocale=function(C,X){var fe,we;return X!=null?(we=lr,fr[C]!=null&&fr[C].parentLocale!=null?fr[C].set(R(fr[C]._config,X)):(X=R(we=(fe=Ze(C))!=null?fe._config:we,X),fe==null&&(X.abbr=C),(we=new x(X)).parentLocale=fr[C],fr[C]=we),Tt(C)):fr[C]!=null&&(fr[C].parentLocale!=null?(fr[C]=fr[C].parentLocale,C===Tt()&&Tt(C)):fr[C]!=null&&delete fr[C]),fr[C]},t.locales=function(){return N(fr)},t.weekdaysShort=function(C,X,fe){return al(C,X,fe,"weekdaysShort")},t.normalizeUnits=ee,t.relativeTimeRounding=function(C){return C===void 0?Fo:typeof C=="function"&&(Fo=C,!0)},t.relativeTimeThreshold=function(C,X){return bc[C]!==void 0&&(X===void 0?bc[C]:(bc[C]=X,C==="s"&&(bc.ss=X-1),!0))},t.calendarFormat=function(C,X){return(C=C.diff(X,"days",!0))<-6?"sameElse":C<-1?"lastWeek":C<0?"lastDay":C<1?"sameDay":C<2?"nextDay":C<7?"nextWeek":"sameElse"},t.prototype=H,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var cxe=j(gC=>{"use strict";d();Object.defineProperty(gC,"__esModule",{value:!0});gC.sanitizeUrl=void 0;var $pt=/^([^\w]*)(javascript|data|vbscript)/im,Xpt=/&#(\w+)(^\w|;)?/g,Jpt=/&tab;/gi,Zpt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e1t=/^.+(:|&colon;)/gim,t1t=[".","/"];function r1t(e){return t1t.indexOf(e[0])>-1}a(r1t,"isRelativeUrlWithoutProtocol");function n1t(e){return e=e.replace(Jpt,"&#9;"),e.replace(Xpt,function(t,r){return String.fromCharCode(r)})}a(n1t,"decodeHtmlCharacters");function i1t(e){var t=n1t(e||"").replace(Zpt,"").trim();if(!t)return"about:blank";if(r1t(t))return t;var r=t.match(e1t);if(!r)return t;var n=r[0];return $pt.test(n)?"about:blank":t}a(i1t,"sanitizeUrl");gC.sanitizeUrl=i1t});var H5e=j((AKr,Y5e)=>{d();function i3t(){this.__data__=[],this.size=0}a(i3t,"listCacheClear");Y5e.exports=i3t});var Wg=j((kKr,z5e)=>{d();function a3t(e,t){return e===t||e!==e&&t!==t}a(a3t,"eq");z5e.exports=a3t});var t5=j((TKr,Q5e)=>{d();var s3t=Wg();function o3t(e,t){for(var r=e.length;r--;)if(s3t(e[r][0],t))return r;return-1}a(o3t,"assocIndexOf");Q5e.exports=o3t});var V5e=j((RKr,W5e)=>{d();var c3t=t5(),u3t=Array.prototype,l3t=u3t.splice;function f3t(e){var t=this.__data__,r=c3t(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():l3t.call(t,r,1),--this.size,!0}a(f3t,"listCacheDelete");W5e.exports=f3t});var G5e=j((NKr,j5e)=>{d();var h3t=t5();function d3t(e){var t=this.__data__,r=h3t(t,e);return r<0?void 0:t[r][1]}a(d3t,"listCacheGet");j5e.exports=d3t});var $5e=j((PKr,K5e)=>{d();var p3t=t5();function g3t(e){return p3t(this.__data__,e)>-1}a(g3t,"listCacheHas");K5e.exports=g3t});var J5e=j((YKr,X5e)=>{d();var y3t=t5();function m3t(e,t){var r=this.__data__,n=y3t(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}a(m3t,"listCacheSet");X5e.exports=m3t});var r5=j((QKr,Z5e)=>{d();var b3t=H5e(),v3t=V5e(),_3t=G5e(),x3t=$5e(),w3t=J5e();function Zb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Zb,"ListCache");Zb.prototype.clear=b3t;Zb.prototype.delete=v3t;Zb.prototype.get=_3t;Zb.prototype.has=x3t;Zb.prototype.set=w3t;Z5e.exports=Zb});var t6e=j((jKr,e6e)=>{d();var A3t=r5();function E3t(){this.__data__=new A3t,this.size=0}a(E3t,"stackClear");e6e.exports=E3t});var n6e=j(($Kr,r6e)=>{d();function S3t(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}a(S3t,"stackDelete");r6e.exports=S3t});var a6e=j((ZKr,i6e)=>{d();function k3t(e){return this.__data__.get(e)}a(k3t,"stackGet");i6e.exports=k3t});var o6e=j((r$r,s6e)=>{d();function C3t(e){return this.__data__.has(e)}a(C3t,"stackHas");s6e.exports=C3t});var QV=j((a$r,c6e)=>{d();var I3t=typeof w=="object"&&w&&w.Object===Object&&w;c6e.exports=I3t});var ru=j((o$r,u6e)=>{d();var T3t=QV(),M3t=typeof self=="object"&&self&&self.Object===Object&&self,B3t=T3t||M3t||Function("return this")();u6e.exports=B3t});var Vg=j((u$r,l6e)=>{d();var R3t=ru(),L3t=R3t.Symbol;l6e.exports=L3t});var p6e=j((f$r,d6e)=>{d();var f6e=Vg(),h6e=Object.prototype,D3t=h6e.hasOwnProperty,N3t=h6e.toString,n5=f6e?f6e.toStringTag:void 0;function O3t(e){var t=D3t.call(e,n5),r=e[n5];try{e[n5]=void 0;var n=!0}catch{}var i=N3t.call(e);return n&&(t?e[n5]=r:delete e[n5]),i}a(O3t,"getRawTag");d6e.exports=O3t});var y6e=j((p$r,g6e)=>{d();var q3t=Object.prototype,P3t=q3t.toString;function F3t(e){return P3t.call(e)}a(F3t,"objectToString");g6e.exports=F3t});var rp=j((m$r,v6e)=>{d();var m6e=Vg(),U3t=p6e(),Y3t=y6e(),H3t="[object Null]",z3t="[object Undefined]",b6e=m6e?m6e.toStringTag:void 0;function Q3t(e){return e==null?e===void 0?z3t:H3t:b6e&&b6e in Object(e)?U3t(e):Y3t(e)}a(Q3t,"baseGetTag");v6e.exports=Q3t});var fc=j((_$r,_6e)=>{d();function W3t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}a(W3t,"isObject");_6e.exports=W3t});var jg=j((A$r,x6e)=>{d();var V3t=rp(),j3t=fc(),G3t="[object AsyncFunction]",K3t="[object Function]",$3t="[object GeneratorFunction]",X3t="[object Proxy]";function J3t(e){if(!j3t(e))return!1;var t=V3t(e);return t==K3t||t==$3t||t==G3t||t==X3t}a(J3t,"isFunction");x6e.exports=J3t});var A6e=j((k$r,w6e)=>{d();var Z3t=ru(),e4t=Z3t["__core-js_shared__"];w6e.exports=e4t});var k6e=j((I$r,S6e)=>{d();var WV=A6e(),E6e=function(){var e=/[^.]+$/.exec(WV&&WV.keys&&WV.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function t4t(e){return!!E6e&&E6e in e}a(t4t,"isMasked");S6e.exports=t4t});var VV=j((B$r,C6e)=>{d();var r4t=Function.prototype,n4t=r4t.toString;function i4t(e){if(e!=null){try{return n4t.call(e)}catch{}try{return e+""}catch{}}return""}a(i4t,"toSource");C6e.exports=i4t});var T6e=j((D$r,I6e)=>{d();var a4t=jg(),s4t=k6e(),o4t=fc(),c4t=VV(),u4t=/[\\^$.*+?()[\]{}|]/g,l4t=/^\[object .+?Constructor\]$/,f4t=Function.prototype,h4t=Object.prototype,d4t=f4t.toString,p4t=h4t.hasOwnProperty,g4t=RegExp("^"+d4t.call(p4t).replace(u4t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y4t(e){if(!o4t(e)||s4t(e))return!1;var t=a4t(e)?g4t:l4t;return t.test(c4t(e))}a(y4t,"baseIsNative");I6e.exports=y4t});var B6e=j((q$r,M6e)=>{d();function m4t(e,t){return e?.[t]}a(m4t,"getValue");M6e.exports=m4t});var np=j((U$r,R6e)=>{d();var b4t=T6e(),v4t=B6e();function _4t(e,t){var r=v4t(e,t);return b4t(r)?r:void 0}a(_4t,"getNative");R6e.exports=_4t});var RI=j((z$r,L6e)=>{d();var x4t=np(),w4t=ru(),A4t=x4t(w4t,"Map");L6e.exports=A4t});var i5=j((W$r,D6e)=>{d();var E4t=np(),S4t=E4t(Object,"create");D6e.exports=S4t});var q6e=j((j$r,O6e)=>{d();var N6e=i5();function k4t(){this.__data__=N6e?N6e(null):{},this.size=0}a(k4t,"hashClear");O6e.exports=k4t});var F6e=j(($$r,P6e)=>{d();function C4t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}a(C4t,"hashDelete");P6e.exports=C4t});var Y6e=j((Z$r,U6e)=>{d();var I4t=i5(),T4t="__lodash_hash_undefined__",M4t=Object.prototype,B4t=M4t.hasOwnProperty;function R4t(e){var t=this.__data__;if(I4t){var r=t[e];return r===T4t?void 0:r}return B4t.call(t,e)?t[e]:void 0}a(R4t,"hashGet");U6e.exports=R4t});var z6e=j((rXr,H6e)=>{d();var L4t=i5(),D4t=Object.prototype,N4t=D4t.hasOwnProperty;function O4t(e){var t=this.__data__;return L4t?t[e]!==void 0:N4t.call(t,e)}a(O4t,"hashHas");H6e.exports=O4t});var W6e=j((aXr,Q6e)=>{d();var q4t=i5(),P4t="__lodash_hash_undefined__";function F4t(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q4t&&t===void 0?P4t:t,this}a(F4t,"hashSet");Q6e.exports=F4t});var j6e=j((cXr,V6e)=>{d();var U4t=q6e(),Y4t=F6e(),H4t=Y6e(),z4t=z6e(),Q4t=W6e();function ev(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(ev,"Hash");ev.prototype.clear=U4t;ev.prototype.delete=Y4t;ev.prototype.get=H4t;ev.prototype.has=z4t;ev.prototype.set=Q4t;V6e.exports=ev});var $6e=j((fXr,K6e)=>{d();var G6e=j6e(),W4t=r5(),V4t=RI();function j4t(){this.size=0,this.__data__={hash:new G6e,map:new(V4t||W4t),string:new G6e}}a(j4t,"mapCacheClear");K6e.exports=j4t});var J6e=j((pXr,X6e)=>{d();function G4t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}a(G4t,"isKeyable");X6e.exports=G4t});var a5=j((mXr,Z6e)=>{d();var K4t=J6e();function $4t(e,t){var r=e.__data__;return K4t(t)?r[typeof t=="string"?"string":"hash"]:r.map}a($4t,"getMapData");Z6e.exports=$4t});var tAe=j((_Xr,eAe)=>{d();var X4t=a5();function J4t(e){var t=X4t(this,e).delete(e);return this.size-=t?1:0,t}a(J4t,"mapCacheDelete");eAe.exports=J4t});var nAe=j((AXr,rAe)=>{d();var Z4t=a5();function e5t(e){return Z4t(this,e).get(e)}a(e5t,"mapCacheGet");rAe.exports=e5t});var aAe=j((kXr,iAe)=>{d();var t5t=a5();function r5t(e){return t5t(this,e).has(e)}a(r5t,"mapCacheHas");iAe.exports=r5t});var oAe=j((TXr,sAe)=>{d();var n5t=a5();function i5t(e,t){var r=n5t(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}a(i5t,"mapCacheSet");sAe.exports=i5t});var LI=j((RXr,cAe)=>{d();var a5t=$6e(),s5t=tAe(),o5t=nAe(),c5t=aAe(),u5t=oAe();function tv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(tv,"MapCache");tv.prototype.clear=a5t;tv.prototype.delete=s5t;tv.prototype.get=o5t;tv.prototype.has=c5t;tv.prototype.set=u5t;cAe.exports=tv});var lAe=j((NXr,uAe)=>{d();var l5t=r5(),f5t=RI(),h5t=LI(),d5t=200;function p5t(e,t){var r=this.__data__;if(r instanceof l5t){var n=r.__data__;if(!f5t||n.length<d5t-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new h5t(n)}return r.set(e,t),this.size=r.size,this}a(p5t,"stackSet");uAe.exports=p5t});var s5=j((PXr,fAe)=>{d();var g5t=r5(),y5t=t6e(),m5t=n6e(),b5t=a6e(),v5t=o6e(),_5t=lAe();function rv(e){var t=this.__data__=new g5t(e);this.size=t.size}a(rv,"Stack");rv.prototype.clear=y5t;rv.prototype.delete=m5t;rv.prototype.get=b5t;rv.prototype.has=v5t;rv.prototype.set=_5t;fAe.exports=rv});var DI=j((YXr,hAe)=>{d();function x5t(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}a(x5t,"arrayEach");hAe.exports=x5t});var jV=j((QXr,dAe)=>{d();var w5t=np(),A5t=function(){try{var e=w5t(Object,"defineProperty");return e({},"",{}),e}catch{}}();dAe.exports=A5t});var o5=j((VXr,gAe)=>{d();var pAe=jV();function E5t(e,t,r){t=="__proto__"&&pAe?pAe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}a(E5t,"baseAssignValue");gAe.exports=E5t});var c5=j((KXr,yAe)=>{d();var S5t=o5(),k5t=Wg(),C5t=Object.prototype,I5t=C5t.hasOwnProperty;function T5t(e,t,r){var n=e[t];(!(I5t.call(e,t)&&k5t(n,r))||r===void 0&&!(t in e))&&S5t(e,t,r)}a(T5t,"assignValue");yAe.exports=T5t});var nv=j((JXr,mAe)=>{d();var M5t=c5(),B5t=o5();function R5t(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var u=t[s],l=n?n(r[u],e[u],u,r,e):void 0;l===void 0&&(l=e[u]),i?B5t(r,u,l):M5t(r,u,l)}return r}a(R5t,"copyObject");mAe.exports=R5t});var vAe=j((tJr,bAe)=>{d();function L5t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}a(L5t,"baseTimes");bAe.exports=L5t});var ju=j((iJr,_Ae)=>{d();function D5t(e){return e!=null&&typeof e=="object"}a(D5t,"isObjectLike");_Ae.exports=D5t});var wAe=j((oJr,xAe)=>{d();var N5t=rp(),O5t=ju(),q5t="[object Arguments]";function P5t(e){return O5t(e)&&N5t(e)==q5t}a(P5t,"baseIsArguments");xAe.exports=P5t});var iv=j((lJr,SAe)=>{d();var AAe=wAe(),F5t=ju(),EAe=Object.prototype,U5t=EAe.hasOwnProperty,Y5t=EAe.propertyIsEnumerable,H5t=AAe(function(){return arguments}())?AAe:function(e){return F5t(e)&&U5t.call(e,"callee")&&!Y5t.call(e,"callee")};SAe.exports=H5t});var ia=j((hJr,kAe)=>{d();var z5t=Array.isArray;kAe.exports=z5t});var IAe=j((pJr,CAe)=>{d();function Q5t(){return!1}a(Q5t,"stubFalse");CAe.exports=Q5t});var Gg=j((u5,av)=>{d();var W5t=ru(),V5t=IAe(),BAe=typeof u5=="object"&&u5&&!u5.nodeType&&u5,TAe=BAe&&typeof av=="object"&&av&&!av.nodeType&&av,j5t=TAe&&TAe.exports===BAe,MAe=j5t?W5t.Buffer:void 0,G5t=MAe?MAe.isBuffer:void 0,K5t=G5t||V5t;av.exports=K5t});var l5=j((bJr,RAe)=>{d();var $5t=9007199254740991,X5t=/^(?:0|[1-9]\d*)$/;function J5t(e,t){var r=typeof e;return t=t??$5t,!!t&&(r=="number"||r!="symbol"&&X5t.test(e))&&e>-1&&e%1==0&&e<t}a(J5t,"isIndex");RAe.exports=J5t});var NI=j((xJr,LAe)=>{d();var Z5t=9007199254740991;function e6t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z5t}a(e6t,"isLength");LAe.exports=e6t});var NAe=j((EJr,DAe)=>{d();var t6t=rp(),r6t=NI(),n6t=ju(),i6t="[object Arguments]",a6t="[object Array]",s6t="[object Boolean]",o6t="[object Date]",c6t="[object Error]",u6t="[object Function]",l6t="[object Map]",f6t="[object Number]",h6t="[object Object]",d6t="[object RegExp]",p6t="[object Set]",g6t="[object String]",y6t="[object WeakMap]",m6t="[object ArrayBuffer]",b6t="[object DataView]",v6t="[object Float32Array]",_6t="[object Float64Array]",x6t="[object Int8Array]",w6t="[object Int16Array]",A6t="[object Int32Array]",E6t="[object Uint8Array]",S6t="[object Uint8ClampedArray]",k6t="[object Uint16Array]",C6t="[object Uint32Array]",Bi={};Bi[v6t]=Bi[_6t]=Bi[x6t]=Bi[w6t]=Bi[A6t]=Bi[E6t]=Bi[S6t]=Bi[k6t]=Bi[C6t]=!0;Bi[i6t]=Bi[a6t]=Bi[m6t]=Bi[s6t]=Bi[b6t]=Bi[o6t]=Bi[c6t]=Bi[u6t]=Bi[l6t]=Bi[f6t]=Bi[h6t]=Bi[d6t]=Bi[p6t]=Bi[g6t]=Bi[y6t]=!1;function I6t(e){return n6t(e)&&r6t(e.length)&&!!Bi[t6t(e)]}a(I6t,"baseIsTypedArray");DAe.exports=I6t});var f5=j((CJr,OAe)=>{d();function T6t(e){return function(t){return e(t)}}a(T6t,"baseUnary");OAe.exports=T6t});var OI=j((h5,sv)=>{d();var M6t=QV(),qAe=typeof h5=="object"&&h5&&!h5.nodeType&&h5,d5=qAe&&typeof sv=="object"&&sv&&!sv.nodeType&&sv,B6t=d5&&d5.exports===qAe,GV=B6t&&M6t.process,R6t=function(){try{var e=d5&&d5.require&&d5.require("util").types;return e||GV&&GV.binding&&GV.binding("util")}catch{}}();sv.exports=R6t});var ov=j((BJr,UAe)=>{d();var L6t=NAe(),D6t=f5(),PAe=OI(),FAe=PAe&&PAe.isTypedArray,N6t=FAe?D6t(FAe):L6t;UAe.exports=N6t});var KV=j((LJr,YAe)=>{d();var O6t=vAe(),q6t=iv(),P6t=ia(),F6t=Gg(),U6t=l5(),Y6t=ov(),H6t=Object.prototype,z6t=H6t.hasOwnProperty;function Q6t(e,t){var r=P6t(e),n=!r&&q6t(e),i=!r&&!n&&F6t(e),s=!r&&!n&&!i&&Y6t(e),o=r||n||i||s,u=o?O6t(e.length,String):[],l=u.length;for(var f in e)(t||z6t.call(e,f))&&!(o&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||U6t(f,l)))&&u.push(f);return u}a(Q6t,"arrayLikeKeys");YAe.exports=Q6t});var p5=j((OJr,HAe)=>{d();var W6t=Object.prototype;function V6t(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||W6t;return e===r}a(V6t,"isPrototype");HAe.exports=V6t});var $V=j((FJr,zAe)=>{d();function j6t(e,t){return function(r){return e(t(r))}}a(j6t,"overArg");zAe.exports=j6t});var WAe=j((HJr,QAe)=>{d();var G6t=$V(),K6t=G6t(Object.keys,Object);QAe.exports=K6t});var qI=j((QJr,VAe)=>{d();var $6t=p5(),X6t=WAe(),J6t=Object.prototype,Z6t=J6t.hasOwnProperty;function eAt(e){if(!$6t(e))return X6t(e);var t=[];for(var r in Object(e))Z6t.call(e,r)&&r!="constructor"&&t.push(r);return t}a(eAt,"baseKeys");VAe.exports=eAt});var of=j((jJr,jAe)=>{d();var tAt=jg(),rAt=NI();function nAt(e){return e!=null&&rAt(e.length)&&!tAt(e)}a(nAt,"isArrayLike");jAe.exports=nAt});var td=j(($Jr,GAe)=>{d();var iAt=KV(),aAt=qI(),sAt=of();function oAt(e){return sAt(e)?iAt(e):aAt(e)}a(oAt,"keys");GAe.exports=oAt});var $Ae=j((ZJr,KAe)=>{d();var cAt=nv(),uAt=td();function lAt(e,t){return e&&cAt(t,uAt(t),e)}a(lAt,"baseAssign");KAe.exports=lAt});var JAe=j((rZr,XAe)=>{d();function fAt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}a(fAt,"nativeKeysIn");XAe.exports=fAt});var e8e=j((aZr,ZAe)=>{d();var hAt=fc(),dAt=p5(),pAt=JAe(),gAt=Object.prototype,yAt=gAt.hasOwnProperty;function mAt(e){if(!hAt(e))return pAt(e);var t=dAt(e),r=[];for(var n in e)n=="constructor"&&(t||!yAt.call(e,n))||r.push(n);return r}a(mAt,"baseKeysIn");ZAe.exports=mAt});var ip=j((cZr,t8e)=>{d();var bAt=KV(),vAt=e8e(),_At=of();function xAt(e){return _At(e)?bAt(e,!0):vAt(e)}a(xAt,"keysIn");t8e.exports=xAt});var n8e=j((fZr,r8e)=>{d();var wAt=nv(),AAt=ip();function EAt(e,t){return e&&wAt(t,AAt(t),e)}a(EAt,"baseAssignIn");r8e.exports=EAt});var XV=j((g5,cv)=>{d();var SAt=ru(),o8e=typeof g5=="object"&&g5&&!g5.nodeType&&g5,i8e=o8e&&typeof cv=="object"&&cv&&!cv.nodeType&&cv,kAt=i8e&&i8e.exports===o8e,a8e=kAt?SAt.Buffer:void 0,s8e=a8e?a8e.allocUnsafe:void 0;function CAt(e,t){if(t)return e.slice();var r=e.length,n=s8e?s8e(r):new e.constructor(r);return e.copy(n),n}a(CAt,"cloneBuffer");cv.exports=CAt});var JV=j((yZr,c8e)=>{d();function IAt(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}a(IAt,"copyArray");c8e.exports=IAt});var ZV=j((vZr,u8e)=>{d();function TAt(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}a(TAt,"arrayFilter");u8e.exports=TAt});var ej=j((wZr,l8e)=>{d();function MAt(){return[]}a(MAt,"stubArray");l8e.exports=MAt});var PI=j((SZr,h8e)=>{d();var BAt=ZV(),RAt=ej(),LAt=Object.prototype,DAt=LAt.propertyIsEnumerable,f8e=Object.getOwnPropertySymbols,NAt=f8e?function(e){return e==null?[]:(e=Object(e),BAt(f8e(e),function(t){return DAt.call(e,t)}))}:RAt;h8e.exports=NAt});var p8e=j((CZr,d8e)=>{d();var OAt=nv(),qAt=PI();function PAt(e,t){return OAt(e,qAt(e),t)}a(PAt,"copySymbols");d8e.exports=PAt});var FI=j((MZr,g8e)=>{d();function FAt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}a(FAt,"arrayPush");g8e.exports=FAt});var y5=j((LZr,y8e)=>{d();var UAt=$V(),YAt=UAt(Object.getPrototypeOf,Object);y8e.exports=YAt});var tj=j((NZr,m8e)=>{d();var HAt=FI(),zAt=y5(),QAt=PI(),WAt=ej(),VAt=Object.getOwnPropertySymbols,jAt=VAt?function(e){for(var t=[];e;)HAt(t,QAt(e)),e=zAt(e);return t}:WAt;m8e.exports=jAt});var v8e=j((qZr,b8e)=>{d();var GAt=nv(),KAt=tj();function $At(e,t){return GAt(e,KAt(e),t)}a($At,"copySymbolsIn");b8e.exports=$At});var rj=j((UZr,_8e)=>{d();var XAt=FI(),JAt=ia();function ZAt(e,t,r){var n=t(e);return JAt(e)?n:XAt(n,r(e))}a(ZAt,"baseGetAllKeys");_8e.exports=ZAt});var nj=j((zZr,x8e)=>{d();var e8t=rj(),t8t=PI(),r8t=td();function n8t(e){return e8t(e,r8t,t8t)}a(n8t,"getAllKeys");x8e.exports=n8t});var A8e=j((VZr,w8e)=>{d();var i8t=rj(),a8t=tj(),s8t=ip();function o8t(e){return i8t(e,s8t,a8t)}a(o8t,"getAllKeysIn");w8e.exports=o8t});var S8e=j((KZr,E8e)=>{d();var c8t=np(),u8t=ru(),l8t=c8t(u8t,"DataView");E8e.exports=l8t});var C8e=j((XZr,k8e)=>{d();var f8t=np(),h8t=ru(),d8t=f8t(h8t,"Promise");k8e.exports=d8t});var ij=j((ZZr,I8e)=>{d();var p8t=np(),g8t=ru(),y8t=p8t(g8t,"Set");I8e.exports=y8t});var M8e=j((ten,T8e)=>{d();var m8t=np(),b8t=ru(),v8t=m8t(b8t,"WeakMap");T8e.exports=v8t});var $g=j((nen,q8e)=>{d();var aj=S8e(),sj=RI(),oj=C8e(),cj=ij(),uj=M8e(),O8e=rp(),uv=VV(),B8e="[object Map]",_8t="[object Object]",R8e="[object Promise]",L8e="[object Set]",D8e="[object WeakMap]",N8e="[object DataView]",x8t=uv(aj),w8t=uv(sj),A8t=uv(oj),E8t=uv(cj),S8t=uv(uj),Kg=O8e;(aj&&Kg(new aj(new ArrayBuffer(1)))!=N8e||sj&&Kg(new sj)!=B8e||oj&&Kg(oj.resolve())!=R8e||cj&&Kg(new cj)!=L8e||uj&&Kg(new uj)!=D8e)&&(Kg=a(function(e){var t=O8e(e),r=t==_8t?e.constructor:void 0,n=r?uv(r):"";if(n)switch(n){case x8t:return N8e;case w8t:return B8e;case A8t:return R8e;case E8t:return L8e;case S8t:return D8e}return t},"getTag"));q8e.exports=Kg});var F8e=j((sen,P8e)=>{d();var k8t=Object.prototype,C8t=k8t.hasOwnProperty;function I8t(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&C8t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}a(I8t,"initCloneArray");P8e.exports=I8t});var lj=j((uen,U8e)=>{d();var T8t=ru(),M8t=T8t.Uint8Array;U8e.exports=M8t});var UI=j((fen,H8e)=>{d();var Y8e=lj();function B8t(e){var t=new e.constructor(e.byteLength);return new Y8e(t).set(new Y8e(e)),t}a(B8t,"cloneArrayBuffer");H8e.exports=B8t});var Q8e=j((pen,z8e)=>{d();var R8t=UI();function L8t(e,t){var r=t?R8t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}a(L8t,"cloneDataView");z8e.exports=L8t});var V8e=j((men,W8e)=>{d();var D8t=/\w*$/;function N8t(e){var t=new e.constructor(e.source,D8t.exec(e));return t.lastIndex=e.lastIndex,t}a(N8t,"cloneRegExp");W8e.exports=N8t});var X8e=j((_en,$8e)=>{d();var j8e=Vg(),G8e=j8e?j8e.prototype:void 0,K8e=G8e?G8e.valueOf:void 0;function O8t(e){return K8e?Object(K8e.call(e)):{}}a(O8t,"cloneSymbol");$8e.exports=O8t});var fj=j((Aen,J8e)=>{d();var q8t=UI();function P8t(e,t){var r=t?q8t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}a(P8t,"cloneTypedArray");J8e.exports=P8t});var eEe=j((ken,Z8e)=>{d();var F8t=UI(),U8t=Q8e(),Y8t=V8e(),H8t=X8e(),z8t=fj(),Q8t="[object Boolean]",W8t="[object Date]",V8t="[object Map]",j8t="[object Number]",G8t="[object RegExp]",K8t="[object Set]",$8t="[object String]",X8t="[object Symbol]",J8t="[object ArrayBuffer]",Z8t="[object DataView]",eEt="[object Float32Array]",tEt="[object Float64Array]",rEt="[object Int8Array]",nEt="[object Int16Array]",iEt="[object Int32Array]",aEt="[object Uint8Array]",sEt="[object Uint8ClampedArray]",oEt="[object Uint16Array]",cEt="[object Uint32Array]";function uEt(e,t,r){var n=e.constructor;switch(t){case J8t:return F8t(e);case Q8t:case W8t:return new n(+e);case Z8t:return U8t(e,r);case eEt:case tEt:case rEt:case nEt:case iEt:case aEt:case sEt:case oEt:case cEt:return z8t(e,r);case V8t:return new n;case j8t:case $8t:return new n(e);case G8t:return Y8t(e);case K8t:return new n;case X8t:return H8t(e)}}a(uEt,"initCloneByTag");Z8e.exports=uEt});var hj=j((Ten,rEe)=>{d();var lEt=fc(),tEe=Object.create,fEt=function(){function e(){}return a(e,"object"),function(t){if(!lEt(t))return{};if(tEe)return tEe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();rEe.exports=fEt});var dj=j((Ren,nEe)=>{d();var hEt=hj(),dEt=y5(),pEt=p5();function gEt(e){return typeof e.constructor=="function"&&!pEt(e)?hEt(dEt(e)):{}}a(gEt,"initCloneObject");nEe.exports=gEt});var aEe=j((Nen,iEe)=>{d();var yEt=$g(),mEt=ju(),bEt="[object Map]";function vEt(e){return mEt(e)&&yEt(e)==bEt}a(vEt,"baseIsMap");iEe.exports=vEt});var uEe=j((Pen,cEe)=>{d();var _Et=aEe(),xEt=f5(),sEe=OI(),oEe=sEe&&sEe.isMap,wEt=oEe?xEt(oEe):_Et;cEe.exports=wEt});var fEe=j((Uen,lEe)=>{d();var AEt=$g(),EEt=ju(),SEt="[object Set]";function kEt(e){return EEt(e)&&AEt(e)==SEt}a(kEt,"baseIsSet");lEe.exports=kEt});var gEe=j((zen,pEe)=>{d();var CEt=fEe(),IEt=f5(),hEe=OI(),dEe=hEe&&hEe.isSet,TEt=dEe?IEt(dEe):CEt;pEe.exports=TEt});var pj=j((Wen,vEe)=>{d();var MEt=s5(),BEt=DI(),REt=c5(),LEt=$Ae(),DEt=n8e(),NEt=XV(),OEt=JV(),qEt=p8e(),PEt=v8e(),FEt=nj(),UEt=A8e(),YEt=$g(),HEt=F8e(),zEt=eEe(),QEt=dj(),WEt=ia(),VEt=Gg(),jEt=uEe(),GEt=fc(),KEt=gEe(),$Et=td(),XEt=ip(),JEt=1,ZEt=2,eSt=4,yEe="[object Arguments]",tSt="[object Array]",rSt="[object Boolean]",nSt="[object Date]",iSt="[object Error]",mEe="[object Function]",aSt="[object GeneratorFunction]",sSt="[object Map]",oSt="[object Number]",bEe="[object Object]",cSt="[object RegExp]",uSt="[object Set]",lSt="[object String]",fSt="[object Symbol]",hSt="[object WeakMap]",dSt="[object ArrayBuffer]",pSt="[object DataView]",gSt="[object Float32Array]",ySt="[object Float64Array]",mSt="[object Int8Array]",bSt="[object Int16Array]",vSt="[object Int32Array]",_St="[object Uint8Array]",xSt="[object Uint8ClampedArray]",wSt="[object Uint16Array]",ASt="[object Uint32Array]",_i={};_i[yEe]=_i[tSt]=_i[dSt]=_i[pSt]=_i[rSt]=_i[nSt]=_i[gSt]=_i[ySt]=_i[mSt]=_i[bSt]=_i[vSt]=_i[sSt]=_i[oSt]=_i[bEe]=_i[cSt]=_i[uSt]=_i[lSt]=_i[fSt]=_i[_St]=_i[xSt]=_i[wSt]=_i[ASt]=!0;_i[iSt]=_i[mEe]=_i[hSt]=!1;function YI(e,t,r,n,i,s){var o,u=t&JEt,l=t&ZEt,f=t&eSt;if(r&&(o=i?r(e,n,i,s):r(e)),o!==void 0)return o;if(!GEt(e))return e;var h=WEt(e);if(h){if(o=HEt(e),!u)return OEt(e,o)}else{var p=YEt(e),g=p==mEe||p==aSt;if(VEt(e))return NEt(e,u);if(p==bEe||p==yEe||g&&!i){if(o=l||g?{}:QEt(e),!u)return l?PEt(e,DEt(o,e)):qEt(e,LEt(o,e))}else{if(!_i[p])return i?e:{};o=zEt(e,p,u)}}s||(s=new MEt);var y=s.get(e);if(y)return y;s.set(e,o),KEt(e)?e.forEach(function(z){o.add(YI(z,t,r,z,e,s))}):jEt(e)&&e.forEach(function(z,P){o.set(P,YI(z,t,r,P,e,s))});var E=f?l?UEt:FEt:l?XEt:$Et,M=h?void 0:E(e);return BEt(M||e,function(z,P){M&&(P=z,z=e[P]),REt(o,P,YI(z,t,r,P,e,s))}),o}a(YI,"baseClone");vEe.exports=YI});var xEe=j((Gen,_Ee)=>{d();var ESt=pj(),SSt=4;function kSt(e){return ESt(e,SSt)}a(kSt,"clone");_Ee.exports=kSt});var HI=j((Xen,wEe)=>{d();function CSt(e){return function(){return e}}a(CSt,"constant");wEe.exports=CSt});var EEe=j((etn,AEe)=>{d();function ISt(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),u=o.length;u--;){var l=o[e?u:++i];if(r(s[l],l,s)===!1)break}return t}}a(ISt,"createBaseFor");AEe.exports=ISt});var zI=j((ntn,SEe)=>{d();var TSt=EEe(),MSt=TSt();SEe.exports=MSt});var QI=j((atn,kEe)=>{d();var BSt=zI(),RSt=td();function LSt(e,t){return e&&BSt(e,t,RSt)}a(LSt,"baseForOwn");kEe.exports=LSt});var IEe=j((ctn,CEe)=>{d();var DSt=of();function NSt(e,t){return function(r,n){if(r==null)return r;if(!DSt(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}a(NSt,"createBaseEach");CEe.exports=NSt});var m5=j((ftn,TEe)=>{d();var OSt=QI(),qSt=IEe(),PSt=qSt(OSt);TEe.exports=PSt});var ap=j((dtn,MEe)=>{d();function FSt(e){return e}a(FSt,"identity");MEe.exports=FSt});var gj=j((ytn,BEe)=>{d();var USt=ap();function YSt(e){return typeof e=="function"?e:USt}a(YSt,"castFunction");BEe.exports=YSt});var yj=j((vtn,REe)=>{d();var HSt=DI(),zSt=m5(),QSt=gj(),WSt=ia();function VSt(e,t){var r=WSt(e)?HSt:zSt;return r(e,QSt(t))}a(VSt,"forEach");REe.exports=VSt});var WI=j((wtn,LEe)=>{d();LEe.exports=yj()});var NEe=j((Etn,DEe)=>{d();var jSt=m5();function GSt(e,t){var r=[];return jSt(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}a(GSt,"baseFilter");DEe.exports=GSt});var qEe=j((Ctn,OEe)=>{d();var KSt="__lodash_hash_undefined__";function $St(e){return this.__data__.set(e,KSt),this}a($St,"setCacheAdd");OEe.exports=$St});var FEe=j((Mtn,PEe)=>{d();function XSt(e){return this.__data__.has(e)}a(XSt,"setCacheHas");PEe.exports=XSt});var mj=j((Ltn,UEe)=>{d();var JSt=LI(),ZSt=qEe(),e7t=FEe();function VI(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new JSt;++t<r;)this.add(e[t])}a(VI,"SetCache");VI.prototype.add=VI.prototype.push=ZSt;VI.prototype.has=e7t;UEe.exports=VI});var HEe=j((Otn,YEe)=>{d();function t7t(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}a(t7t,"arraySome");YEe.exports=t7t});var bj=j((Ftn,zEe)=>{d();function r7t(e,t){return e.has(t)}a(r7t,"cacheHas");zEe.exports=r7t});var vj=j((Htn,QEe)=>{d();var n7t=mj(),i7t=HEe(),a7t=bj(),s7t=1,o7t=2;function c7t(e,t,r,n,i,s){var o=r&s7t,u=e.length,l=t.length;if(u!=l&&!(o&&l>u))return!1;var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,y=r&o7t?new n7t:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var E=e[p],M=t[p];if(n)var z=o?n(M,E,p,t,e,s):n(E,M,p,e,t,s);if(z!==void 0){if(z)continue;g=!1;break}if(y){if(!i7t(t,function(P,Q){if(!a7t(y,Q)&&(E===P||i(E,P,r,n,s)))return y.push(Q)})){g=!1;break}}else if(!(E===M||i(E,M,r,n,s))){g=!1;break}}return s.delete(e),s.delete(t),g}a(c7t,"equalArrays");QEe.exports=c7t});var VEe=j((Wtn,WEe)=>{d();function u7t(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}a(u7t,"mapToArray");WEe.exports=u7t});var jI=j((Gtn,jEe)=>{d();function l7t(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}a(l7t,"setToArray");jEe.exports=l7t});var JEe=j((Xtn,XEe)=>{d();var GEe=Vg(),KEe=lj(),f7t=Wg(),h7t=vj(),d7t=VEe(),p7t=jI(),g7t=1,y7t=2,m7t="[object Boolean]",b7t="[object Date]",v7t="[object Error]",_7t="[object Map]",x7t="[object Number]",w7t="[object RegExp]",A7t="[object Set]",E7t="[object String]",S7t="[object Symbol]",k7t="[object ArrayBuffer]",C7t="[object DataView]",$Ee=GEe?GEe.prototype:void 0,_j=$Ee?$Ee.valueOf:void 0;function I7t(e,t,r,n,i,s,o){switch(r){case C7t:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k7t:return!(e.byteLength!=t.byteLength||!s(new KEe(e),new KEe(t)));case m7t:case b7t:case x7t:return f7t(+e,+t);case v7t:return e.name==t.name&&e.message==t.message;case w7t:case E7t:return e==t+"";case _7t:var u=d7t;case A7t:var l=n&g7t;if(u||(u=p7t),e.size!=t.size&&!l)return!1;var f=o.get(e);if(f)return f==t;n|=y7t,o.set(e,t);var h=h7t(u(e),u(t),n,i,s,o);return o.delete(e),h;case S7t:if(_j)return _j.call(e)==_j.call(t)}return!1}a(I7t,"equalByTag");XEe.exports=I7t});var tSe=j((ern,eSe)=>{d();var ZEe=nj(),T7t=1,M7t=Object.prototype,B7t=M7t.hasOwnProperty;function R7t(e,t,r,n,i,s){var o=r&T7t,u=ZEe(e),l=u.length,f=ZEe(t),h=f.length;if(l!=h&&!o)return!1;for(var p=l;p--;){var g=u[p];if(!(o?g in t:B7t.call(t,g)))return!1}var y=s.get(e),E=s.get(t);if(y&&E)return y==t&&E==e;var M=!0;s.set(e,t),s.set(t,e);for(var z=o;++p<l;){g=u[p];var P=e[g],Q=t[g];if(n)var V=o?n(Q,P,g,t,e,s):n(P,Q,g,e,t,s);if(!(V===void 0?P===Q||i(P,Q,r,n,s):V)){M=!1;break}z||(z=g=="constructor")}if(M&&!z){var W=e.constructor,F=t.constructor;W!=F&&"constructor"in e&&"constructor"in t&&!(typeof W=="function"&&W instanceof W&&typeof F=="function"&&F instanceof F)&&(M=!1)}return s.delete(e),s.delete(t),M}a(R7t,"equalObjects");eSe.exports=R7t});var uSe=j((nrn,cSe)=>{d();var xj=s5(),L7t=vj(),D7t=JEe(),N7t=tSe(),rSe=$g(),nSe=ia(),iSe=Gg(),O7t=ov(),q7t=1,aSe="[object Arguments]",sSe="[object Array]",GI="[object Object]",P7t=Object.prototype,oSe=P7t.hasOwnProperty;function F7t(e,t,r,n,i,s){var o=nSe(e),u=nSe(t),l=o?sSe:rSe(e),f=u?sSe:rSe(t);l=l==aSe?GI:l,f=f==aSe?GI:f;var h=l==GI,p=f==GI,g=l==f;if(g&&iSe(e)){if(!iSe(t))return!1;o=!0,h=!1}if(g&&!h)return s||(s=new xj),o||O7t(e)?L7t(e,t,r,n,i,s):D7t(e,t,l,r,n,i,s);if(!(r&q7t)){var y=h&&oSe.call(e,"__wrapped__"),E=p&&oSe.call(t,"__wrapped__");if(y||E){var M=y?e.value():e,z=E?t.value():t;return s||(s=new xj),i(M,z,r,n,s)}}return g?(s||(s=new xj),N7t(e,t,r,n,i,s)):!1}a(F7t,"baseIsEqualDeep");cSe.exports=F7t});var wj=j((srn,hSe)=>{d();var U7t=uSe(),lSe=ju();function fSe(e,t,r,n,i){return e===t?!0:e==null||t==null||!lSe(e)&&!lSe(t)?e!==e&&t!==t:U7t(e,t,r,n,fSe,i)}a(fSe,"baseIsEqual");hSe.exports=fSe});var pSe=j((urn,dSe)=>{d();var Y7t=s5(),H7t=wj(),z7t=1,Q7t=2;function W7t(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var u=r[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){u=r[i];var l=u[0],f=e[l],h=u[1];if(o&&u[2]){if(f===void 0&&!(l in e))return!1}else{var p=new Y7t;if(n)var g=n(f,h,l,e,t,p);if(!(g===void 0?H7t(h,f,z7t|Q7t,n,p):g))return!1}}return!0}a(W7t,"baseIsMatch");dSe.exports=W7t});var Aj=j((hrn,gSe)=>{d();var V7t=fc();function j7t(e){return e===e&&!V7t(e)}a(j7t,"isStrictComparable");gSe.exports=j7t});var mSe=j((grn,ySe)=>{d();var G7t=Aj(),K7t=td();function $7t(e){for(var t=K7t(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,G7t(i)]}return t}a($7t,"getMatchData");ySe.exports=$7t});var Ej=j((brn,bSe)=>{d();function X7t(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}a(X7t,"matchesStrictComparable");bSe.exports=X7t});var _Se=j((xrn,vSe)=>{d();var J7t=pSe(),Z7t=mSe(),ekt=Ej();function tkt(e){var t=Z7t(e);return t.length==1&&t[0][2]?ekt(t[0][0],t[0][1]):function(r){return r===e||J7t(r,e,t)}}a(tkt,"baseMatches");vSe.exports=tkt});var Xg=j((Ern,xSe)=>{d();var rkt=rp(),nkt=ju(),ikt="[object Symbol]";function akt(e){return typeof e=="symbol"||nkt(e)&&rkt(e)==ikt}a(akt,"isSymbol");xSe.exports=akt});var KI=j((Crn,wSe)=>{d();var skt=ia(),okt=Xg(),ckt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ukt=/^\w*$/;function lkt(e,t){if(skt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||okt(e)?!0:ukt.test(e)||!ckt.test(e)||t!=null&&e in Object(t)}a(lkt,"isKey");wSe.exports=lkt});var SSe=j((Mrn,ESe)=>{d();var ASe=LI(),fkt="Expected a function";function Sj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fkt);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o},"memoized");return r.cache=new(Sj.Cache||ASe),r}a(Sj,"memoize");Sj.Cache=ASe;ESe.exports=Sj});var CSe=j((Lrn,kSe)=>{d();var hkt=SSe(),dkt=500;function pkt(e){var t=hkt(e,function(n){return r.size===dkt&&r.clear(),n}),r=t.cache;return t}a(pkt,"memoizeCapped");kSe.exports=pkt});var TSe=j((Orn,ISe)=>{d();var gkt=CSe(),ykt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mkt=/\\(\\)?/g,bkt=gkt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ykt,function(r,n,i,s){t.push(i?s.replace(mkt,"$1"):n||r)}),t});ISe.exports=bkt});var b5=j((Prn,MSe)=>{d();function vkt(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}a(vkt,"arrayMap");MSe.exports=vkt});var OSe=j((Yrn,NSe)=>{d();var BSe=Vg(),_kt=b5(),xkt=ia(),wkt=Xg(),Akt=1/0,RSe=BSe?BSe.prototype:void 0,LSe=RSe?RSe.toString:void 0;function DSe(e){if(typeof e=="string")return e;if(xkt(e))return _kt(e,DSe)+"";if(wkt(e))return LSe?LSe.call(e):"";var t=e+"";return t=="0"&&1/e==-Akt?"-0":t}a(DSe,"baseToString");NSe.exports=DSe});var kj=j((Qrn,qSe)=>{d();var Ekt=OSe();function Skt(e){return e==null?"":Ekt(e)}a(Skt,"toString");qSe.exports=Skt});var v5=j((jrn,PSe)=>{d();var kkt=ia(),Ckt=KI(),Ikt=TSe(),Tkt=kj();function Mkt(e,t){return kkt(e)?e:Ckt(e,t)?[e]:Ikt(Tkt(e))}a(Mkt,"castPath");PSe.exports=Mkt});var lv=j(($rn,FSe)=>{d();var Bkt=Xg(),Rkt=1/0;function Lkt(e){if(typeof e=="string"||Bkt(e))return e;var t=e+"";return t=="0"&&1/e==-Rkt?"-0":t}a(Lkt,"toKey");FSe.exports=Lkt});var _5=j((Zrn,USe)=>{d();var Dkt=v5(),Nkt=lv();function Okt(e,t){t=Dkt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Nkt(t[r++])];return r&&r==n?e:void 0}a(Okt,"baseGet");USe.exports=Okt});var HSe=j((rnn,YSe)=>{d();var qkt=_5();function Pkt(e,t,r){var n=e==null?void 0:qkt(e,t);return n===void 0?r:n}a(Pkt,"get");YSe.exports=Pkt});var QSe=j((ann,zSe)=>{d();function Fkt(e,t){return e!=null&&t in Object(e)}a(Fkt,"baseHasIn");zSe.exports=Fkt});var Cj=j((cnn,WSe)=>{d();var Ukt=v5(),Ykt=iv(),Hkt=ia(),zkt=l5(),Qkt=NI(),Wkt=lv();function Vkt(e,t,r){t=Ukt(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=Wkt(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&Qkt(i)&&zkt(o,i)&&(Hkt(e)||Ykt(e)))}a(Vkt,"hasPath");WSe.exports=Vkt});var Ij=j((fnn,VSe)=>{d();var jkt=QSe(),Gkt=Cj();function Kkt(e,t){return e!=null&&Gkt(e,t,jkt)}a(Kkt,"hasIn");VSe.exports=Kkt});var GSe=j((pnn,jSe)=>{d();var $kt=wj(),Xkt=HSe(),Jkt=Ij(),Zkt=KI(),eCt=Aj(),tCt=Ej(),rCt=lv(),nCt=1,iCt=2;function aCt(e,t){return Zkt(e)&&eCt(t)?tCt(rCt(e),t):function(r){var n=Xkt(r,e);return n===void 0&&n===t?Jkt(r,e):$kt(t,n,nCt|iCt)}}a(aCt,"baseMatchesProperty");jSe.exports=aCt});var Tj=j((mnn,KSe)=>{d();function sCt(e){return function(t){return t?.[e]}}a(sCt,"baseProperty");KSe.exports=sCt});var XSe=j((_nn,$Se)=>{d();var oCt=_5();function cCt(e){return function(t){return oCt(t,e)}}a(cCt,"basePropertyDeep");$Se.exports=cCt});var ZSe=j((Ann,JSe)=>{d();var uCt=Tj(),lCt=XSe(),fCt=KI(),hCt=lv();function dCt(e){return fCt(e)?uCt(hCt(e)):lCt(e)}a(dCt,"property");JSe.exports=dCt});var cf=j((knn,e7e)=>{d();var pCt=_Se(),gCt=GSe(),yCt=ap(),mCt=ia(),bCt=ZSe();function vCt(e){return typeof e=="function"?e:e==null?yCt:typeof e=="object"?mCt(e)?gCt(e[0],e[1]):pCt(e):bCt(e)}a(vCt,"baseIteratee");e7e.exports=vCt});var Mj=j((Tnn,t7e)=>{d();var _Ct=ZV(),xCt=NEe(),wCt=cf(),ACt=ia();function ECt(e,t){var r=ACt(e)?_Ct:xCt;return r(e,wCt(t,3))}a(ECt,"filter");t7e.exports=ECt});var n7e=j((Rnn,r7e)=>{d();var SCt=Object.prototype,kCt=SCt.hasOwnProperty;function CCt(e,t){return e!=null&&kCt.call(e,t)}a(CCt,"baseHas");r7e.exports=CCt});var $I=j((Nnn,i7e)=>{d();var ICt=n7e(),TCt=Cj();function MCt(e,t){return e!=null&&TCt(e,t,ICt)}a(MCt,"has");i7e.exports=MCt});var s7e=j((Pnn,a7e)=>{d();var BCt=qI(),RCt=$g(),LCt=iv(),DCt=ia(),NCt=of(),OCt=Gg(),qCt=p5(),PCt=ov(),FCt="[object Map]",UCt="[object Set]",YCt=Object.prototype,HCt=YCt.hasOwnProperty;function zCt(e){if(e==null)return!0;if(NCt(e)&&(DCt(e)||typeof e=="string"||typeof e.splice=="function"||OCt(e)||PCt(e)||LCt(e)))return!e.length;var t=RCt(e);if(t==FCt||t==UCt)return!e.size;if(qCt(e))return!BCt(e).length;for(var r in e)if(HCt.call(e,r))return!1;return!0}a(zCt,"isEmpty");a7e.exports=zCt});var Bj=j((Ynn,o7e)=>{d();function QCt(e){return e===void 0}a(QCt,"isUndefined");o7e.exports=QCt});var Rj=j((Qnn,c7e)=>{d();var WCt=m5(),VCt=of();function jCt(e,t){var r=-1,n=VCt(e)?Array(e.length):[];return WCt(e,function(i,s,o){n[++r]=t(i,s,o)}),n}a(jCt,"baseMap");c7e.exports=jCt});var Lj=j((jnn,u7e)=>{d();var GCt=b5(),KCt=cf(),$Ct=Rj(),XCt=ia();function JCt(e,t){var r=XCt(e)?GCt:$Ct;return r(e,KCt(t,3))}a(JCt,"map");u7e.exports=JCt});var f7e=j(($nn,l7e)=>{d();function ZCt(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}a(ZCt,"arrayReduce");l7e.exports=ZCt});var d7e=j((Znn,h7e)=>{d();function e9t(e,t,r,n,i){return i(e,function(s,o,u){r=n?(n=!1,s):t(r,s,o,u)}),r}a(e9t,"baseReduce");h7e.exports=e9t});var Dj=j((rin,p7e)=>{d();var t9t=f7e(),r9t=m5(),n9t=cf(),i9t=d7e(),a9t=ia();function s9t(e,t,r){var n=a9t(e)?t9t:i9t,i=arguments.length<3;return n(e,n9t(t,4),r,i,r9t)}a(s9t,"reduce");p7e.exports=s9t});var y7e=j((ain,g7e)=>{d();var o9t=rp(),c9t=ia(),u9t=ju(),l9t="[object String]";function f9t(e){return typeof e=="string"||!c9t(e)&&u9t(e)&&o9t(e)==l9t}a(f9t,"isString");g7e.exports=f9t});var b7e=j((cin,m7e)=>{d();var h9t=Tj(),d9t=h9t("length");m7e.exports=d9t});var _7e=j((lin,v7e)=>{d();var p9t="\\ud800-\\udfff",g9t="\\u0300-\\u036f",y9t="\\ufe20-\\ufe2f",m9t="\\u20d0-\\u20ff",b9t=g9t+y9t+m9t,v9t="\\ufe0e\\ufe0f",_9t="\\u200d",x9t=RegExp("["+_9t+p9t+b9t+v9t+"]");function w9t(e){return x9t.test(e)}a(w9t,"hasUnicode");v7e.exports=w9t});var T7e=j((din,I7e)=>{d();var w7e="\\ud800-\\udfff",A9t="\\u0300-\\u036f",E9t="\\ufe20-\\ufe2f",S9t="\\u20d0-\\u20ff",k9t=A9t+E9t+S9t,C9t="\\ufe0e\\ufe0f",I9t="["+w7e+"]",Nj="["+k9t+"]",Oj="\\ud83c[\\udffb-\\udfff]",T9t="(?:"+Nj+"|"+Oj+")",A7e="[^"+w7e+"]",E7e="(?:\\ud83c[\\udde6-\\uddff]){2}",S7e="[\\ud800-\\udbff][\\udc00-\\udfff]",M9t="\\u200d",k7e=T9t+"?",C7e="["+C9t+"]?",B9t="(?:"+M9t+"(?:"+[A7e,E7e,S7e].join("|")+")"+C7e+k7e+")*",R9t=C7e+k7e+B9t,L9t="(?:"+[A7e+Nj+"?",Nj,E7e,S7e,I9t].join("|")+")",x7e=RegExp(Oj+"(?="+Oj+")|"+L9t+R9t,"g");function D9t(e){for(var t=x7e.lastIndex=0;x7e.test(e);)++t;return t}a(D9t,"unicodeSize");I7e.exports=D9t});var B7e=j((yin,M7e)=>{d();var N9t=b7e(),O9t=_7e(),q9t=T7e();function P9t(e){return O9t(e)?q9t(e):N9t(e)}a(P9t,"stringSize");M7e.exports=P9t});var L7e=j((vin,R7e)=>{d();var F9t=qI(),U9t=$g(),Y9t=of(),H9t=y7e(),z9t=B7e(),Q9t="[object Map]",W9t="[object Set]";function V9t(e){if(e==null)return 0;if(Y9t(e))return H9t(e)?z9t(e):e.length;var t=U9t(e);return t==Q9t||t==W9t?e.size:F9t(e).length}a(V9t,"size");R7e.exports=V9t});var N7e=j((win,D7e)=>{d();var j9t=DI(),G9t=hj(),K9t=QI(),$9t=cf(),X9t=y5(),J9t=ia(),Z9t=Gg(),eIt=jg(),tIt=fc(),rIt=ov();function nIt(e,t,r){var n=J9t(e),i=n||Z9t(e)||rIt(e);if(t=$9t(t,4),r==null){var s=e&&e.constructor;i?r=n?new s:[]:tIt(e)?r=eIt(s)?G9t(X9t(e)):{}:r={}}return(i?j9t:K9t)(e,function(o,u,l){return t(r,o,u,l)}),r}a(nIt,"transform");D7e.exports=nIt});var F7e=j((Sin,P7e)=>{d();var O7e=Vg(),iIt=iv(),aIt=ia(),q7e=O7e?O7e.isConcatSpreadable:void 0;function sIt(e){return aIt(e)||iIt(e)||!!(q7e&&e&&e[q7e])}a(sIt,"isFlattenable");P7e.exports=sIt});var XI=j((Iin,Y7e)=>{d();var oIt=FI(),cIt=F7e();function U7e(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=cIt),i||(i=[]);++s<o;){var u=e[s];t>0&&r(u)?t>1?U7e(u,t-1,r,n,i):oIt(i,u):n||(i[i.length]=u)}return i}a(U7e,"baseFlatten");Y7e.exports=U7e});var z7e=j((Bin,H7e)=>{d();function uIt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}a(uIt,"apply");H7e.exports=uIt});var qj=j((Din,W7e)=>{d();var lIt=z7e(),Q7e=Math.max;function fIt(e,t,r){return t=Q7e(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=Q7e(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),lIt(e,this,u)}}a(fIt,"overRest");W7e.exports=fIt});var G7e=j((qin,j7e)=>{d();var hIt=HI(),V7e=jV(),dIt=ap(),pIt=V7e?function(e,t){return V7e(e,"toString",{configurable:!0,enumerable:!1,value:hIt(t),writable:!0})}:dIt;j7e.exports=pIt});var $7e=j((Fin,K7e)=>{d();var gIt=800,yIt=16,mIt=Date.now;function bIt(e){var t=0,r=0;return function(){var n=mIt(),i=yIt-(n-r);if(r=n,i>0){if(++t>=gIt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}a(bIt,"shortOut");K7e.exports=bIt});var Pj=j((Hin,X7e)=>{d();var vIt=G7e(),_It=$7e(),xIt=_It(vIt);X7e.exports=xIt});var x5=j((Qin,J7e)=>{d();var wIt=ap(),AIt=qj(),EIt=Pj();function SIt(e,t){return EIt(AIt(e,t,wIt),e+"")}a(SIt,"baseRest");J7e.exports=SIt});var Fj=j((jin,Z7e)=>{d();function kIt(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}a(kIt,"baseFindIndex");Z7e.exports=kIt});var tke=j(($in,eke)=>{d();function CIt(e){return e!==e}a(CIt,"baseIsNaN");eke.exports=CIt});var nke=j((Zin,rke)=>{d();function IIt(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}a(IIt,"strictIndexOf");rke.exports=IIt});var ake=j((ran,ike)=>{d();var TIt=Fj(),MIt=tke(),BIt=nke();function RIt(e,t,r){return t===t?BIt(e,t,r):TIt(e,MIt,r)}a(RIt,"baseIndexOf");ike.exports=RIt});var oke=j((aan,ske)=>{d();var LIt=ake();function DIt(e,t){var r=e==null?0:e.length;return!!r&&LIt(e,t,0)>-1}a(DIt,"arrayIncludes");ske.exports=DIt});var uke=j((can,cke)=>{d();function NIt(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}a(NIt,"arrayIncludesWith");cke.exports=NIt});var fke=j((fan,lke)=>{d();function OIt(){}a(OIt,"noop");lke.exports=OIt});var dke=j((pan,hke)=>{d();var Uj=ij(),qIt=fke(),PIt=jI(),FIt=1/0,UIt=Uj&&1/PIt(new Uj([,-0]))[1]==FIt?function(e){return new Uj(e)}:qIt;hke.exports=UIt});var gke=j((yan,pke)=>{d();var YIt=mj(),HIt=oke(),zIt=uke(),QIt=bj(),WIt=dke(),VIt=jI(),jIt=200;function GIt(e,t,r){var n=-1,i=HIt,s=e.length,o=!0,u=[],l=u;if(r)o=!1,i=zIt;else if(s>=jIt){var f=t?null:WIt(e);if(f)return VIt(f);o=!1,i=QIt,l=new YIt}else l=t?[]:u;e:for(;++n<s;){var h=e[n],p=t?t(h):h;if(h=r||h!==0?h:0,o&&p===p){for(var g=l.length;g--;)if(l[g]===p)continue e;t&&l.push(p),u.push(h)}else i(l,p,r)||(l!==u&&l.push(p),u.push(h))}return u}a(GIt,"baseUniq");pke.exports=GIt});var Yj=j((van,yke)=>{d();var KIt=of(),$It=ju();function XIt(e){return $It(e)&&KIt(e)}a(XIt,"isArrayLikeObject");yke.exports=XIt});var bke=j((wan,mke)=>{d();var JIt=XI(),ZIt=x5(),eTt=gke(),tTt=Yj(),rTt=ZIt(function(e){return eTt(JIt(e,1,tTt,!0))});mke.exports=rTt});var _ke=j((Ean,vke)=>{d();var nTt=b5();function iTt(e,t){return nTt(t,function(r){return e[r]})}a(iTt,"baseValues");vke.exports=iTt});var Hj=j((Can,xke)=>{d();var aTt=_ke(),sTt=td();function oTt(e){return e==null?[]:aTt(e,sTt(e))}a(oTt,"values");xke.exports=oTt});var hc=j((Man,wke)=>{d();var JI;if(typeof Hi=="function")try{JI={clone:xEe(),constant:HI(),each:WI(),filter:Mj(),has:$I(),isArray:ia(),isEmpty:s7e(),isFunction:jg(),isUndefined:Bj(),keys:td(),map:Lj(),reduce:Dj(),size:L7e(),transform:N7e(),union:bke(),values:Hj()}}catch{}JI||(JI=window._);wke.exports=JI});var ZI=j((Lan,kke)=>{"use strict";d();var Jr=hc();kke.exports=gn;var cTt="\0",Jg="\0",Ake="";function gn(e){this._isDirected=Jr.has(e,"directed")?e.directed:!0,this._isMultigraph=Jr.has(e,"multigraph")?e.multigraph:!1,this._isCompound=Jr.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Jr.constant(void 0),this._defaultEdgeLabelFn=Jr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Jg]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a(gn,"Graph");gn.prototype._nodeCount=0;gn.prototype._edgeCount=0;gn.prototype.isDirected=function(){return this._isDirected};gn.prototype.isMultigraph=function(){return this._isMultigraph};gn.prototype.isCompound=function(){return this._isCompound};gn.prototype.setGraph=function(e){return this._label=e,this};gn.prototype.graph=function(){return this._label};gn.prototype.setDefaultNodeLabel=function(e){return Jr.isFunction(e)||(e=Jr.constant(e)),this._defaultNodeLabelFn=e,this};gn.prototype.nodeCount=function(){return this._nodeCount};gn.prototype.nodes=function(){return Jr.keys(this._nodes)};gn.prototype.sources=function(){var e=this;return Jr.filter(this.nodes(),function(t){return Jr.isEmpty(e._in[t])})};gn.prototype.sinks=function(){var e=this;return Jr.filter(this.nodes(),function(t){return Jr.isEmpty(e._out[t])})};gn.prototype.setNodes=function(e,t){var r=arguments,n=this;return Jr.each(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this};gn.prototype.setNode=function(e,t){return Jr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Jg,this._children[e]={},this._children[Jg][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};gn.prototype.node=function(e){return this._nodes[e]};gn.prototype.hasNode=function(e){return Jr.has(this._nodes,e)};gn.prototype.removeNode=function(e){var t=this;if(Jr.has(this._nodes,e)){var r=a(function(n){t.removeEdge(t._edgeObjs[n])},"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Jr.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),Jr.each(Jr.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],Jr.each(Jr.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};gn.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jr.isUndefined(t))t=Jg;else{t+="";for(var r=t;!Jr.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};gn.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};gn.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==Jg)return t}};gn.prototype.children=function(e){if(Jr.isUndefined(e)&&(e=Jg),this._isCompound){var t=this._children[e];if(t)return Jr.keys(t)}else{if(e===Jg)return this.nodes();if(this.hasNode(e))return[]}};gn.prototype.predecessors=function(e){var t=this._preds[e];if(t)return Jr.keys(t)};gn.prototype.successors=function(e){var t=this._sucs[e];if(t)return Jr.keys(t)};gn.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return Jr.union(t,this.successors(e))};gn.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};gn.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Jr.each(this._nodes,function(s,o){e(o)&&t.setNode(o,s)}),Jr.each(this._edgeObjs,function(s){t.hasNode(s.v)&&t.hasNode(s.w)&&t.setEdge(s,r.edge(s))});var n={};function i(s){var o=r.parent(s);return o===void 0||t.hasNode(o)?(n[s]=o,o):o in n?n[o]:i(o)}return a(i,"findParent"),this._isCompound&&Jr.each(t.nodes(),function(s){t.setParent(s,i(s))}),t};gn.prototype.setDefaultEdgeLabel=function(e){return Jr.isFunction(e)||(e=Jr.constant(e)),this._defaultEdgeLabelFn=e,this};gn.prototype.edgeCount=function(){return this._edgeCount};gn.prototype.edges=function(){return Jr.values(this._edgeObjs)};gn.prototype.setPath=function(e,t){var r=this,n=arguments;return Jr.reduce(e,function(i,s){return n.length>1?r.setEdge(i,s,t):r.setEdge(i,s),s}),this};gn.prototype.setEdge=function(){var e,t,r,n,i=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,t=s.w,r=s.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=s,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,Jr.isUndefined(r)||(r=""+r);var o=w5(this._isDirected,e,t,r);if(Jr.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!Jr.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,t,r);var u=uTt(this._isDirected,e,t,r);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[o]=u,Eke(this._preds[t],e),Eke(this._sucs[e],t),this._in[t][o]=u,this._out[e][o]=u,this._edgeCount++,this};gn.prototype.edge=function(e,t,r){var n=arguments.length===1?zj(this._isDirected,arguments[0]):w5(this._isDirected,e,t,r);return this._edgeLabels[n]};gn.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?zj(this._isDirected,arguments[0]):w5(this._isDirected,e,t,r);return Jr.has(this._edgeLabels,n)};gn.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?zj(this._isDirected,arguments[0]):w5(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Ske(this._preds[t],e),Ske(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};gn.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=Jr.values(r);return t?Jr.filter(n,function(i){return i.v===t}):n}};gn.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=Jr.values(r);return t?Jr.filter(n,function(i){return i.w===t}):n}};gn.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function Eke(e,t){e[t]?e[t]++:e[t]=1}a(Eke,"incrementOrInitEntry");function Ske(e,t){--e[t]||delete e[t]}a(Ske,"decrementOrRemoveEntry");function w5(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}return i+Ake+s+Ake+(Jr.isUndefined(n)?cTt:n)}a(w5,"edgeArgsToId");function uTt(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}var u={v:i,w:s};return n&&(u.name=n),u}a(uTt,"edgeArgsToObj");function zj(e,t){return w5(e,t.v,t.w,t.name)}a(zj,"edgeObjToId")});var Ike=j((Oan,Cke)=>{d();Cke.exports="2.1.8"});var Mke=j((Pan,Tke)=>{d();Tke.exports={Graph:ZI(),version:Ike()}});var Rke=j((Uan,Bke)=>{d();var uf=hc(),lTt=ZI();Bke.exports={write:fTt,read:pTt};function fTt(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:hTt(e),edges:dTt(e)};return uf.isUndefined(e.graph())||(t.value=uf.clone(e.graph())),t}a(fTt,"write");function hTt(e){return uf.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return uf.isUndefined(r)||(i.value=r),uf.isUndefined(n)||(i.parent=n),i})}a(hTt,"writeNodes");function dTt(e){return uf.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return uf.isUndefined(t.name)||(n.name=t.name),uf.isUndefined(r)||(n.value=r),n})}a(dTt,"writeEdges");function pTt(e){var t=new lTt(e.options).setGraph(e.value);return uf.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),uf.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}a(pTt,"read")});var Dke=j((zan,Lke)=>{d();var eT=hc();Lke.exports=gTt;function gTt(e){var t={},r=[],n;function i(s){eT.has(t,s)||(t[s]=!0,n.push(s),eT.each(e.successors(s),i),eT.each(e.predecessors(s),i))}return a(i,"dfs"),eT.each(e.nodes(),function(s){n=[],i(s),n.length&&r.push(n)}),r}a(gTt,"components")});var Qj=j((Van,Oke)=>{d();var Nke=hc();Oke.exports=nu;function nu(){this._arr=[],this._keyIndices={}}a(nu,"PriorityQueue");nu.prototype.size=function(){return this._arr.length};nu.prototype.keys=function(){return this._arr.map(function(e){return e.key})};nu.prototype.has=function(e){return Nke.has(this._keyIndices,e)};nu.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};nu.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};nu.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!Nke.has(r,e)){var n=this._arr,i=n.length;return r[e]=i,n.push({key:e,priority:t}),this._decrease(i),!0}return!1};nu.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};nu.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};nu.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,i=e;r<t.length&&(i=t[r].priority<t[i].priority?r:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==e&&(this._swap(e,i),this._heapify(i)))};nu.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};nu.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,i=r[e],s=r[t];r[e]=s,r[t]=i,n[s.key]=e,n[i.key]=t}});var Wj=j((Kan,qke)=>{d();var yTt=hc(),mTt=Qj();qke.exports=vTt;var bTt=yTt.constant(1);function vTt(e,t,r,n){return _Tt(e,String(t),r||bTt,n||function(i){return e.outEdges(i)})}a(vTt,"dijkstra");function _Tt(e,t,r,n){var i={},s=new mTt,o,u,l=a(function(f){var h=f.v!==o?f.v:f.w,p=i[h],g=r(f),y=u.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+g);y<p.distance&&(p.distance=y,p.predecessor=o,s.decrease(h,y))},"updateNeighbors");for(e.nodes().forEach(function(f){var h=f===t?0:Number.POSITIVE_INFINITY;i[f]={distance:h},s.add(f,h)});s.size()>0&&(o=s.removeMin(),u=i[o],u.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(l);return i}a(_Tt,"runDijkstra")});var Fke=j((Jan,Pke)=>{d();var xTt=Wj(),wTt=hc();Pke.exports=ATt;function ATt(e,t,r){return wTt.transform(e.nodes(),function(n,i){n[i]=xTt(e,i,t,r)},{})}a(ATt,"dijkstraAll")});var Vj=j((tsn,Yke)=>{d();var Uke=hc();Yke.exports=ETt;function ETt(e){var t=0,r=[],n={},i=[];function s(o){var u=n[o]={onStack:!0,lowlink:t,index:t++};if(r.push(o),e.successors(o).forEach(function(h){Uke.has(n,h)?n[h].onStack&&(u.lowlink=Math.min(u.lowlink,n[h].index)):(s(h),u.lowlink=Math.min(u.lowlink,n[h].lowlink))}),u.lowlink===u.index){var l=[],f;do f=r.pop(),n[f].onStack=!1,l.push(f);while(o!==f);i.push(l)}}return a(s,"dfs"),e.nodes().forEach(function(o){Uke.has(n,o)||s(o)}),i}a(ETt,"tarjan")});var zke=j((isn,Hke)=>{d();var STt=hc(),kTt=Vj();Hke.exports=CTt;function CTt(e){return STt.filter(kTt(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}a(CTt,"findCycles")});var Wke=j((osn,Qke)=>{d();var ITt=hc();Qke.exports=MTt;var TTt=ITt.constant(1);function MTt(e,t,r){return BTt(e,t||TTt,r||function(n){return e.outEdges(n)})}a(MTt,"floydWarshall");function BTt(e,t,r){var n={},i=e.nodes();return i.forEach(function(s){n[s]={},n[s][s]={distance:0},i.forEach(function(o){s!==o&&(n[s][o]={distance:Number.POSITIVE_INFINITY})}),r(s).forEach(function(o){var u=o.v===s?o.w:o.v,l=t(o);n[s][u]={distance:l,predecessor:s}})}),i.forEach(function(s){var o=n[s];i.forEach(function(u){var l=n[u];i.forEach(function(f){var h=l[s],p=o[f],g=l[f],y=h.distance+p.distance;y<g.distance&&(g.distance=y,g.predecessor=p.predecessor)})})}),n}a(BTt,"runFloydWarshall")});var jj=j((lsn,jke)=>{d();var A5=hc();jke.exports=Vke;Vke.CycleException=tT;function Vke(e){var t={},r={},n=[];function i(s){if(A5.has(r,s))throw new tT;A5.has(t,s)||(r[s]=!0,t[s]=!0,A5.each(e.predecessors(s),i),delete r[s],n.push(s))}if(a(i,"visit"),A5.each(e.sinks(),i),A5.size(t)!==e.nodeCount())throw new tT;return n}a(Vke,"topsort");function tT(){}a(tT,"CycleException");tT.prototype=new Error});var $ke=j((dsn,Kke)=>{d();var Gke=jj();Kke.exports=RTt;function RTt(e){try{Gke(e)}catch(t){if(t instanceof Gke.CycleException)return!1;throw t}return!0}a(RTt,"isAcyclic")});var Gj=j((ysn,Jke)=>{d();var rT=hc();Jke.exports=LTt;function LTt(e,t,r){rT.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return rT.each(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);Xke(e,o,r==="post",s,n,i)}),i}a(LTt,"dfs");function Xke(e,t,r,n,i,s){rT.has(n,t)||(n[t]=!0,r||s.push(t),rT.each(i(t),function(o){Xke(e,o,r,n,i,s)}),r&&s.push(t))}a(Xke,"doDfs")});var eCe=j((vsn,Zke)=>{d();var DTt=Gj();Zke.exports=NTt;function NTt(e,t){return DTt(e,t,"post")}a(NTt,"postorder")});var rCe=j((wsn,tCe)=>{d();var OTt=Gj();tCe.exports=qTt;function qTt(e,t){return OTt(e,t,"pre")}a(qTt,"preorder")});var aCe=j((Ssn,iCe)=>{d();var nCe=hc(),PTt=ZI(),FTt=Qj();iCe.exports=UTt;function UTt(e,t){var r=new PTt,n={},i=new FTt,s;function o(l){var f=l.v===s?l.w:l.v,h=i.priority(f);if(h!==void 0){var p=t(l);p<h&&(n[f]=s,i.decrease(f,p))}}if(a(o,"updateNeighbors"),e.nodeCount()===0)return r;nCe.each(e.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),r.setNode(l)}),i.decrease(e.nodes()[0],0);for(var u=!1;i.size()>0;){if(s=i.removeMin(),nCe.has(n,s))r.setEdge(s,n[s]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(s).forEach(o)}return r}a(UTt,"prim")});var oCe=j((Isn,sCe)=>{d();sCe.exports={components:Dke(),dijkstra:Wj(),dijkstraAll:Fke(),findCycles:zke(),floydWarshall:Wke(),isAcyclic:$ke(),postorder:eCe(),preorder:rCe(),prim:aCe(),tarjan:Vj(),topsort:jj()}});var nT=j((Msn,uCe)=>{d();var cCe=Mke();uCe.exports={Graph:cCe.Graph,json:Rke(),alg:oCe(),version:cCe.version}});var iu=j((Rsn,lCe)=>{d();var iT;if(typeof Hi=="function")try{iT=nT()}catch{}iT||(iT=window.graphlib);lCe.exports=iT});var hCe=j((Nsn,fCe)=>{d();var YTt=pj(),HTt=1,zTt=4;function QTt(e){return YTt(e,HTt|zTt)}a(QTt,"cloneDeep");fCe.exports=QTt});var E5=j((Psn,dCe)=>{d();var WTt=Wg(),VTt=of(),jTt=l5(),GTt=fc();function KTt(e,t,r){if(!GTt(r))return!1;var n=typeof t;return(n=="number"?VTt(r)&&jTt(t,r.length):n=="string"&&t in r)?WTt(r[t],e):!1}a(KTt,"isIterateeCall");dCe.exports=KTt});var Kj=j((Ysn,gCe)=>{d();var $Tt=x5(),XTt=Wg(),JTt=E5(),ZTt=ip(),pCe=Object.prototype,eMt=pCe.hasOwnProperty,tMt=$Tt(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&JTt(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],o=ZTt(s),u=-1,l=o.length;++u<l;){var f=o[u],h=e[f];(h===void 0||XTt(h,pCe[f])&&!eMt.call(e,f))&&(e[f]=s[f])}return e});gCe.exports=tMt});var mCe=j((zsn,yCe)=>{d();var rMt=cf(),nMt=of(),iMt=td();function aMt(e){return function(t,r,n){var i=Object(t);if(!nMt(t)){var s=rMt(r,3);t=iMt(t),r=a(function(u){return s(i[u],u,i)},"predicate")}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}a(aMt,"createFind");yCe.exports=aMt});var vCe=j((Vsn,bCe)=>{d();var sMt=/\s/;function oMt(e){for(var t=e.length;t--&&sMt.test(e.charAt(t)););return t}a(oMt,"trimmedEndIndex");bCe.exports=oMt});var xCe=j((Ksn,_Ce)=>{d();var cMt=vCe(),uMt=/^\s+/;function lMt(e){return e&&e.slice(0,cMt(e)+1).replace(uMt,"")}a(lMt,"baseTrim");_Ce.exports=lMt});var SCe=j((Jsn,ECe)=>{d();var fMt=xCe(),wCe=fc(),hMt=Xg(),ACe=0/0,dMt=/^[-+]0x[0-9a-f]+$/i,pMt=/^0b[01]+$/i,gMt=/^0o[0-7]+$/i,yMt=parseInt;function mMt(e){if(typeof e=="number")return e;if(hMt(e))return ACe;if(wCe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=wCe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fMt(e);var r=pMt.test(e);return r||gMt.test(e)?yMt(e.slice(2),r?2:8):dMt.test(e)?ACe:+e}a(mMt,"toNumber");ECe.exports=mMt});var $j=j((ton,CCe)=>{d();var bMt=SCe(),kCe=1/0,vMt=17976931348623157e292;function _Mt(e){if(!e)return e===0?e:0;if(e=bMt(e),e===kCe||e===-kCe){var t=e<0?-1:1;return t*vMt}return e===e?e:0}a(_Mt,"toFinite");CCe.exports=_Mt});var TCe=j((ion,ICe)=>{d();var xMt=$j();function wMt(e){var t=xMt(e),r=t%1;return t===t?r?t-r:t:0}a(wMt,"toInteger");ICe.exports=wMt});var BCe=j((oon,MCe)=>{d();var AMt=Fj(),EMt=cf(),SMt=TCe(),kMt=Math.max;function CMt(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:SMt(r);return i<0&&(i=kMt(n+i,0)),AMt(e,EMt(t,3),i)}a(CMt,"findIndex");MCe.exports=CMt});var LCe=j((lon,RCe)=>{d();var IMt=mCe(),TMt=BCe(),MMt=IMt(TMt);RCe.exports=MMt});var Xj=j((hon,DCe)=>{d();var BMt=XI();function RMt(e){var t=e==null?0:e.length;return t?BMt(e,1):[]}a(RMt,"flatten");DCe.exports=RMt});var OCe=j((gon,NCe)=>{d();var LMt=zI(),DMt=gj(),NMt=ip();function OMt(e,t){return e==null?e:LMt(e,DMt(t),NMt)}a(OMt,"forIn");NCe.exports=OMt});var PCe=j((bon,qCe)=>{d();function qMt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}a(qMt,"last");qCe.exports=qMt});var UCe=j((xon,FCe)=>{d();var PMt=o5(),FMt=QI(),UMt=cf();function YMt(e,t){var r={};return t=UMt(t,3),FMt(e,function(n,i,s){PMt(r,i,t(n,i,s))}),r}a(YMt,"mapValues");FCe.exports=YMt});var aT=j((Eon,YCe)=>{d();var HMt=Xg();function zMt(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(u===void 0?o===o&&!HMt(o):r(o,u)))var u=o,l=s}return l}a(zMt,"baseExtremum");YCe.exports=zMt});var zCe=j((Con,HCe)=>{d();function QMt(e,t){return e>t}a(QMt,"baseGt");HCe.exports=QMt});var WCe=j((Mon,QCe)=>{d();var WMt=aT(),VMt=zCe(),jMt=ap();function GMt(e){return e&&e.length?WMt(e,jMt,VMt):void 0}a(GMt,"max");QCe.exports=GMt});var Jj=j((Lon,VCe)=>{d();var KMt=o5(),$Mt=Wg();function XMt(e,t,r){(r!==void 0&&!$Mt(e[t],r)||r===void 0&&!(t in e))&&KMt(e,t,r)}a(XMt,"assignMergeValue");VCe.exports=XMt});var Zj=j((Oon,GCe)=>{d();var JMt=rp(),ZMt=y5(),eBt=ju(),tBt="[object Object]",rBt=Function.prototype,nBt=Object.prototype,jCe=rBt.toString,iBt=nBt.hasOwnProperty,aBt=jCe.call(Object);function sBt(e){if(!eBt(e)||JMt(e)!=tBt)return!1;var t=ZMt(e);if(t===null)return!0;var r=iBt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&jCe.call(r)==aBt}a(sBt,"isPlainObject");GCe.exports=sBt});var eG=j((Fon,KCe)=>{d();function oBt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}a(oBt,"safeGet");KCe.exports=oBt});var XCe=j((Hon,$Ce)=>{d();var cBt=nv(),uBt=ip();function lBt(e){return cBt(e,uBt(e))}a(lBt,"toPlainObject");$Ce.exports=lBt});var n9e=j((Won,r9e)=>{d();var JCe=Jj(),fBt=XV(),hBt=fj(),dBt=JV(),pBt=dj(),ZCe=iv(),e9e=ia(),gBt=Yj(),yBt=Gg(),mBt=jg(),bBt=fc(),vBt=Zj(),_Bt=ov(),t9e=eG(),xBt=XCe();function wBt(e,t,r,n,i,s,o){var u=t9e(e,r),l=t9e(t,r),f=o.get(l);if(f){JCe(e,r,f);return}var h=s?s(u,l,r+"",e,t,o):void 0,p=h===void 0;if(p){var g=e9e(l),y=!g&&yBt(l),E=!g&&!y&&_Bt(l);h=l,g||y||E?e9e(u)?h=u:gBt(u)?h=dBt(u):y?(p=!1,h=fBt(l,!0)):E?(p=!1,h=hBt(l,!0)):h=[]:vBt(l)||ZCe(l)?(h=u,ZCe(u)?h=xBt(u):(!bBt(u)||mBt(u))&&(h=pBt(l))):p=!1}p&&(o.set(l,h),i(h,l,n,s,o),o.delete(l)),JCe(e,r,h)}a(wBt,"baseMergeDeep");r9e.exports=wBt});var s9e=j((Gon,a9e)=>{d();var ABt=s5(),EBt=Jj(),SBt=zI(),kBt=n9e(),CBt=fc(),IBt=ip(),TBt=eG();function i9e(e,t,r,n,i){e!==t&&SBt(t,function(s,o){if(i||(i=new ABt),CBt(s))kBt(e,t,o,r,i9e,n,i);else{var u=n?n(TBt(e,o),s,o+"",e,t,i):void 0;u===void 0&&(u=s),EBt(e,o,u)}},IBt)}a(i9e,"baseMerge");a9e.exports=i9e});var c9e=j((Xon,o9e)=>{d();var MBt=x5(),BBt=E5();function RBt(e){return MBt(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&BBt(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,s)}return t})}a(RBt,"createAssigner");o9e.exports=RBt});var l9e=j((ecn,u9e)=>{d();var LBt=s9e(),DBt=c9e(),NBt=DBt(function(e,t,r){LBt(e,t,r)});u9e.exports=NBt});var tG=j((rcn,f9e)=>{d();function OBt(e,t){return e<t}a(OBt,"baseLt");f9e.exports=OBt});var d9e=j((acn,h9e)=>{d();var qBt=aT(),PBt=tG(),FBt=ap();function UBt(e){return e&&e.length?qBt(e,FBt,PBt):void 0}a(UBt,"min");h9e.exports=UBt});var g9e=j((ccn,p9e)=>{d();var YBt=aT(),HBt=cf(),zBt=tG();function QBt(e,t){return e&&e.length?YBt(e,HBt(t,2),zBt):void 0}a(QBt,"minBy");p9e.exports=QBt});var m9e=j((fcn,y9e)=>{d();var WBt=ru(),VBt=a(function(){return WBt.Date.now()},"now");y9e.exports=VBt});var _9e=j((pcn,v9e)=>{d();var jBt=c5(),GBt=v5(),KBt=l5(),b9e=fc(),$Bt=lv();function XBt(e,t,r,n){if(!b9e(e))return e;t=GBt(t,e);for(var i=-1,s=t.length,o=s-1,u=e;u!=null&&++i<s;){var l=$Bt(t[i]),f=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var h=u[l];f=n?n(h,l,u):void 0,f===void 0&&(f=b9e(h)?h:KBt(t[i+1])?[]:{})}jBt(u,l,f),u=u[l]}return e}a(XBt,"baseSet");v9e.exports=XBt});var w9e=j((mcn,x9e)=>{d();var JBt=_5(),ZBt=_9e(),eRt=v5();function tRt(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],u=JBt(e,o);r(u,o)&&ZBt(s,eRt(o,e),u)}return s}a(tRt,"basePickBy");x9e.exports=tRt});var E9e=j((_cn,A9e)=>{d();var rRt=w9e(),nRt=Ij();function iRt(e,t){return rRt(e,t,function(r,n){return nRt(e,n)})}a(iRt,"basePick");A9e.exports=iRt});var k9e=j((Acn,S9e)=>{d();var aRt=Xj(),sRt=qj(),oRt=Pj();function cRt(e){return oRt(sRt(e,void 0,aRt),e+"")}a(cRt,"flatRest");S9e.exports=cRt});var rG=j((kcn,C9e)=>{d();var uRt=E9e(),lRt=k9e(),fRt=lRt(function(e,t){return e==null?{}:uRt(e,t)});C9e.exports=fRt});var T9e=j((Icn,I9e)=>{d();var hRt=Math.ceil,dRt=Math.max;function pRt(e,t,r,n){for(var i=-1,s=dRt(hRt((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}a(pRt,"baseRange");I9e.exports=pRt});var B9e=j((Bcn,M9e)=>{d();var gRt=T9e(),yRt=E5(),nG=$j();function mRt(e){return function(t,r,n){return n&&typeof n!="number"&&yRt(t,r,n)&&(r=n=void 0),t=nG(t),r===void 0?(r=t,t=0):r=nG(r),n=n===void 0?t<r?1:-1:nG(n),gRt(t,r,n,e)}}a(mRt,"createRange");M9e.exports=mRt});var iG=j((Dcn,R9e)=>{d();var bRt=B9e(),vRt=bRt();R9e.exports=vRt});var D9e=j((Ocn,L9e)=>{d();function _Rt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}a(_Rt,"baseSortBy");L9e.exports=_Rt});var q9e=j((Fcn,O9e)=>{d();var N9e=Xg();function xRt(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=N9e(e),o=t!==void 0,u=t===null,l=t===t,f=N9e(t);if(!u&&!f&&!s&&e>t||s&&o&&l&&!u&&!f||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!f&&e<t||f&&r&&i&&!n&&!s||u&&r&&i||!o&&i||!l)return-1}return 0}a(xRt,"compareAscending");O9e.exports=xRt});var F9e=j((Hcn,P9e)=>{d();var wRt=q9e();function ARt(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,u=r.length;++n<o;){var l=wRt(i[n],s[n]);if(l){if(n>=u)return l;var f=r[n];return l*(f=="desc"?-1:1)}}return e.index-t.index}a(ARt,"compareMultiple");P9e.exports=ARt});var Y9e=j((Wcn,U9e)=>{d();var aG=b5(),ERt=_5(),SRt=cf(),kRt=Rj(),CRt=D9e(),IRt=f5(),TRt=F9e(),MRt=ap(),BRt=ia();function RRt(e,t,r){t.length?t=aG(t,function(s){return BRt(s)?function(o){return ERt(o,s.length===1?s[0]:s)}:s}):t=[MRt];var n=-1;t=aG(t,IRt(SRt));var i=kRt(e,function(s,o,u){var l=aG(t,function(f){return f(s)});return{criteria:l,index:++n,value:s}});return CRt(i,function(s,o){return TRt(s,o,r)})}a(RRt,"baseOrderBy");U9e.exports=RRt});var Q9e=j((Gcn,z9e)=>{d();var LRt=XI(),DRt=Y9e(),NRt=x5(),H9e=E5(),ORt=NRt(function(e,t){if(e==null)return[];var r=t.length;return r>1&&H9e(e,t[0],t[1])?t=[]:r>2&&H9e(t[0],t[1],t[2])&&(t=[t[0]]),DRt(e,LRt(t,1),[])});z9e.exports=ORt});var sG=j(($cn,W9e)=>{d();var qRt=kj(),PRt=0;function FRt(e){var t=++PRt;return qRt(e)+t}a(FRt,"uniqueId");W9e.exports=FRt});var j9e=j((Zcn,V9e)=>{d();function URt(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var u=n<s?t[n]:void 0;r(o,e[n],u)}return o}a(URt,"baseZipObject");V9e.exports=URt});var K9e=j((run,G9e)=>{d();var YRt=c5(),HRt=j9e();function zRt(e,t){return HRt(e||[],t||[],YRt)}a(zRt,"zipObject");G9e.exports=zRt});var Ri=j((aun,$9e)=>{d();var sT;if(typeof Hi=="function")try{sT={cloneDeep:hCe(),constant:HI(),defaults:Kj(),each:WI(),filter:Mj(),find:LCe(),flatten:Xj(),forEach:yj(),forIn:OCe(),has:$I(),isUndefined:Bj(),last:PCe(),map:Lj(),mapValues:UCe(),max:WCe(),merge:l9e(),min:d9e(),minBy:g9e(),now:m9e(),pick:rG(),range:iG(),reduce:Dj(),sortBy:Q9e(),uniqueId:sG(),values:Hj(),zipObject:K9e()}}catch{}sT||(sT=window._);$9e.exports=sT});var Z9e=j((cun,J9e)=>{d();J9e.exports=oT;function oT(){var e={};e._next=e._prev=e,this._sentinel=e}a(oT,"List");oT.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return X9e(t),t};oT.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&X9e(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};oT.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,QRt)),r=r._prev;return"["+e.join(", ")+"]"};function X9e(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}a(X9e,"unlink");function QRt(e,t){if(e!=="_next"&&e!=="_prev")return t}a(QRt,"filterOutLinks")});var tIe=j((fun,eIe)=>{d();var rd=Ri(),WRt=iu().Graph,VRt=Z9e();eIe.exports=GRt;var jRt=rd.constant(1);function GRt(e,t){if(e.nodeCount()<=1)return[];var r=$Rt(e,t||jRt),n=KRt(r.graph,r.buckets,r.zeroIdx);return rd.flatten(rd.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}a(GRt,"greedyFAS");function KRt(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)oG(e,t,r,o);for(;o=i.dequeue();)oG(e,t,r,o);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(o=t[u].dequeue(),o){n=n.concat(oG(e,t,r,o,!0));break}}}return n}a(KRt,"doGreedyFAS");function oG(e,t,r,n,i){var s=i?[]:void 0;return rd.forEach(e.inEdges(n.v),function(o){var u=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=u,cG(t,r,l)}),rd.forEach(e.outEdges(n.v),function(o){var u=e.edge(o),l=o.w,f=e.node(l);f.in-=u,cG(t,r,f)}),e.removeNode(n.v),s}a(oG,"removeNode");function $Rt(e,t){var r=new WRt,n=0,i=0;rd.forEach(e.nodes(),function(u){r.setNode(u,{v:u,in:0,out:0})}),rd.forEach(e.edges(),function(u){var l=r.edge(u.v,u.w)||0,f=t(u),h=l+f;r.setEdge(u.v,u.w,h),i=Math.max(i,r.node(u.v).out+=f),n=Math.max(n,r.node(u.w).in+=f)});var s=rd.range(i+n+3).map(function(){return new VRt}),o=n+1;return rd.forEach(r.nodes(),function(u){cG(s,o,r.node(u))}),{graph:r,buckets:s,zeroIdx:o}}a($Rt,"buildState");function cG(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}a(cG,"assignBucket")});var nIe=j((pun,rIe)=>{"use strict";d();var Zg=Ri(),XRt=tIe();rIe.exports={run:JRt,undo:eLt};function JRt(e){var t=e.graph().acyclicer==="greedy"?XRt(e,r(e)):ZRt(e);Zg.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Zg.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}a(r,"weightFn")}a(JRt,"run");function ZRt(e){var t=[],r={},n={};function i(s){Zg.has(n,s)||(n[s]=!0,r[s]=!0,Zg.forEach(e.outEdges(s),function(o){Zg.has(r,o.w)?t.push(o):i(o.w)}),delete r[s])}return a(i,"dfs"),Zg.forEach(e.nodes(),i),t}a(ZRt,"dfsFAS");function eLt(e){Zg.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}a(eLt,"undo")});var oo=j((mun,oIe)=>{"use strict";d();var Jn=Ri(),iIe=iu().Graph;oIe.exports={addDummyNode:aIe,simplify:tLt,asNonCompoundGraph:rLt,successorWeights:nLt,predecessorWeights:iLt,intersectRect:aLt,buildLayerMatrix:sLt,normalizeRanks:oLt,removeEmptyRanks:cLt,addBorderNode:uLt,maxRank:sIe,partition:lLt,time:fLt,notime:hLt};function aIe(e,t,r,n){var i;do i=Jn.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}a(aIe,"addDummyNode");function tLt(e){var t=new iIe().setGraph(e.graph());return Jn.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),Jn.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}a(tLt,"simplify");function rLt(e){var t=new iIe({multigraph:e.isMultigraph()}).setGraph(e.graph());return Jn.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Jn.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}a(rLt,"asNonCompoundGraph");function nLt(e){var t=Jn.map(e.nodes(),function(r){var n={};return Jn.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return Jn.zipObject(e.nodes(),t)}a(nLt,"successorWeights");function iLt(e){var t=Jn.map(e.nodes(),function(r){var n={};return Jn.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return Jn.zipObject(e.nodes(),t)}a(iLt,"predecessorWeights");function aLt(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,f;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),l=u*i/s,f=u):(i<0&&(o=-o),l=o,f=o*s/i),{x:r+l,y:n+f}}a(aLt,"intersectRect");function sLt(e){var t=Jn.map(Jn.range(sIe(e)+1),function(){return[]});return Jn.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;Jn.isUndefined(i)||(t[i][n.order]=r)}),t}a(sLt,"buildLayerMatrix");function oLt(e){var t=Jn.min(Jn.map(e.nodes(),function(r){return e.node(r).rank}));Jn.forEach(e.nodes(),function(r){var n=e.node(r);Jn.has(n,"rank")&&(n.rank-=t)})}a(oLt,"normalizeRanks");function cLt(e){var t=Jn.min(Jn.map(e.nodes(),function(s){return e.node(s).rank})),r=[];Jn.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=e.graph().nodeRankFactor;Jn.forEach(r,function(s,o){Jn.isUndefined(s)&&o%i!==0?--n:n&&Jn.forEach(s,function(u){e.node(u).rank+=n})})}a(cLt,"removeEmptyRanks");function uLt(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),aIe(e,"border",i,t)}a(uLt,"addBorderNode");function sIe(e){return Jn.max(Jn.map(e.nodes(),function(t){var r=e.node(t).rank;if(!Jn.isUndefined(r))return r}))}a(sIe,"maxRank");function lLt(e,t){var r={lhs:[],rhs:[]};return Jn.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}a(lLt,"partition");function fLt(e,t){var r=Jn.now();try{return t()}finally{console.log(e+" time: "+(Jn.now()-r)+"ms")}}a(fLt,"time");function hLt(e,t){return t()}a(hLt,"notime")});var lIe=j((_un,uIe)=>{"use strict";d();var cIe=Ri(),dLt=oo();uIe.exports={run:pLt,undo:yLt};function pLt(e){e.graph().dummyChains=[],cIe.forEach(e.edges(),function(t){gLt(e,t)})}a(pLt,"run");function gLt(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,o=t.name,u=e.edge(t),l=u.labelRank;if(s!==n+1){e.removeEdge(t);var f,h,p;for(p=0,++n;n<s;++p,++n)u.points=[],h={width:0,height:0,edgeLabel:u,edgeObj:t,rank:n},f=dLt.addDummyNode(e,"edge",h,"_d"),n===l&&(h.width=u.width,h.height=u.height,h.dummy="edge-label",h.labelpos=u.labelpos),e.setEdge(r,f,{weight:u.weight},o),p===0&&e.graph().dummyChains.push(f),r=f;e.setEdge(r,i,{weight:u.weight},o)}}a(gLt,"normalizeEdge");function yLt(e){cIe.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}a(yLt,"undo")});var S5=j((Aun,fIe)=>{"use strict";d();var cT=Ri();fIe.exports={longestPath:mLt,slack:bLt};function mLt(e){var t={};function r(n){var i=e.node(n);if(cT.has(t,n))return i.rank;t[n]=!0;var s=cT.min(cT.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}a(r,"dfs"),cT.forEach(e.sources(),r)}a(mLt,"longestPath");function bLt(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}a(bLt,"slack")});var uG=j((kun,hIe)=>{"use strict";d();var uT=Ri(),vLt=iu().Graph,lT=S5().slack;hIe.exports=_Lt;function _Lt(e){var t=new vLt({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;xLt(t,e)<n;)i=wLt(t,e),s=t.hasNode(i.v)?lT(e,i):-lT(e,i),ALt(t,e,s);return t}a(_Lt,"feasibleTree");function xLt(e,t){function r(n){uT.forEach(t.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!e.hasNode(o)&&!lT(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return a(r,"dfs"),uT.forEach(e.nodes(),r),e.nodeCount()}a(xLt,"tightTree");function wLt(e,t){return uT.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return lT(t,r)})}a(wLt,"findMinSlackEdge");function ALt(e,t,r){uT.forEach(e.nodes(),function(n){t.node(n).rank+=r})}a(ALt,"shiftRanks")});var _Ie=j((Tun,vIe)=>{"use strict";d();var nd=Ri(),ELt=uG(),SLt=S5().slack,kLt=S5().longestPath,CLt=iu().alg.preorder,ILt=iu().alg.postorder,TLt=oo().simplify;vIe.exports=ey;ey.initLowLimValues=fG;ey.initCutValues=lG;ey.calcCutValue=pIe;ey.leaveEdge=yIe;ey.enterEdge=mIe;ey.exchangeEdges=bIe;function ey(e){e=TLt(e),kLt(e);var t=ELt(e);fG(t),lG(t,e);for(var r,n;r=yIe(t);)n=mIe(t,e,r),bIe(t,e,r,n)}a(ey,"networkSimplex");function lG(e,t){var r=ILt(e,e.nodes());r=r.slice(0,r.length-1),nd.forEach(r,function(n){MLt(e,t,n)})}a(lG,"initCutValues");function MLt(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=pIe(e,t,r)}a(MLt,"assignCutValue");function pIe(e,t,r){var n=e.node(r),i=n.parent,s=!0,o=t.edge(r,i),u=0;return o||(s=!1,o=t.edge(i,r)),u=o.weight,nd.forEach(t.nodeEdges(r),function(l){var f=l.v===r,h=f?l.w:l.v;if(h!==i){var p=f===s,g=t.edge(l).weight;if(u+=p?g:-g,RLt(e,r,h)){var y=e.edge(r,h).cutvalue;u+=p?-y:y}}}),u}a(pIe,"calcCutValue");function fG(e,t){arguments.length<2&&(t=e.nodes()[0]),gIe(e,{},1,t)}a(fG,"initLowLimValues");function gIe(e,t,r,n,i){var s=r,o=e.node(n);return t[n]=!0,nd.forEach(e.neighbors(n),function(u){nd.has(t,u)||(r=gIe(e,t,r,u,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}a(gIe,"dfsAssignLowLim");function yIe(e){return nd.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}a(yIe,"leaveEdge");function mIe(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),o=e.node(i),u=s,l=!1;s.lim>o.lim&&(u=o,l=!0);var f=nd.filter(t.edges(),function(h){return l===dIe(e,e.node(h.v),u)&&l!==dIe(e,e.node(h.w),u)});return nd.minBy(f,function(h){return SLt(t,h)})}a(mIe,"enterEdge");function bIe(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),fG(e),lG(e,t),BLt(e,t)}a(bIe,"exchangeEdges");function BLt(e,t){var r=nd.find(e.nodes(),function(i){return!t.node(i).parent}),n=CLt(e,r);n=n.slice(1),nd.forEach(n,function(i){var s=e.node(i).parent,o=t.edge(i,s),u=!1;o||(o=t.edge(s,i),u=!0),t.node(i).rank=t.node(s).rank+(u?o.minlen:-o.minlen)})}a(BLt,"updateRanks");function RLt(e,t,r){return e.hasEdge(t,r)}a(RLt,"isTreeEdge");function dIe(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}a(dIe,"isDescendant")});var EIe=j((Run,AIe)=>{"use strict";d();var LLt=S5(),wIe=LLt.longestPath,DLt=uG(),NLt=_Ie();AIe.exports=OLt;function OLt(e){switch(e.graph().ranker){case"network-simplex":xIe(e);break;case"tight-tree":PLt(e);break;case"longest-path":qLt(e);break;default:xIe(e)}}a(OLt,"rank");var qLt=wIe;function PLt(e){wIe(e),DLt(e)}a(PLt,"tightTreeRanker");function xIe(e){NLt(e)}a(xIe,"networkSimplexRanker")});var kIe=j((Nun,SIe)=>{d();var hG=Ri();SIe.exports=FLt;function FLt(e){var t=YLt(e);hG.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=ULt(e,t,i.v,i.w),o=s.path,u=s.lca,l=0,f=o[l],h=!0;r!==i.w;){if(n=e.node(r),h){for(;(f=o[l])!==u&&e.node(f).maxRank<n.rank;)l++;f===u&&(h=!1)}if(!h){for(;l<o.length-1&&e.node(f=o[l+1]).minRank<=n.rank;)l++;f=o[l]}e.setParent(r,f),r=e.successors(r)[0]}})}a(FLt,"parentDummyChains");function ULt(e,t,r,n){var i=[],s=[],o=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim),l,f;l=r;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||u>t[l].lim));for(f=l,l=n;(l=e.parent(l))!==f;)s.push(l);return{path:i.concat(s.reverse()),lca:f}}a(ULt,"findPath");function YLt(e){var t={},r=0;function n(i){var s=r;hG.forEach(e.children(i),n),t[i]={low:s,lim:r++}}return a(n,"dfs"),hG.forEach(e.children(),n),t}a(YLt,"postorder")});var TIe=j((Pun,IIe)=>{d();var id=Ri(),dG=oo();IIe.exports={run:HLt,cleanup:WLt};function HLt(e){var t=dG.addDummyNode(e,"root",{},"_root"),r=zLt(e),n=id.max(id.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,id.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=QLt(e)+1;id.forEach(e.children(),function(o){CIe(e,t,i,s,n,r,o)}),e.graph().nodeRankFactor=i}a(HLt,"run");function CIe(e,t,r,n,i,s,o){var u=e.children(o);if(!u.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var l=dG.addBorderNode(e,"_bt"),f=dG.addBorderNode(e,"_bb"),h=e.node(o);e.setParent(l,o),h.borderTop=l,e.setParent(f,o),h.borderBottom=f,id.forEach(u,function(p){CIe(e,t,r,n,i,s,p);var g=e.node(p),y=g.borderTop?g.borderTop:p,E=g.borderBottom?g.borderBottom:p,M=g.borderTop?n:2*n,z=y!==E?1:i-s[o]+1;e.setEdge(l,y,{weight:M,minlen:z,nestingEdge:!0}),e.setEdge(E,f,{weight:M,minlen:z,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}a(CIe,"dfs");function zLt(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&id.forEach(s,function(o){r(o,i+1)}),t[n]=i}return a(r,"dfs"),id.forEach(e.children(),function(n){r(n,1)}),t}a(zLt,"treeDepths");function QLt(e){return id.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}a(QLt,"sumWeights");function WLt(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,id.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}a(WLt,"cleanup")});var RIe=j((Yun,BIe)=>{d();var pG=Ri(),VLt=oo();BIe.exports=jLt;function jLt(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&pG.forEach(n,t),pG.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)MIe(e,"borderLeft","_bl",r,i,s),MIe(e,"borderRight","_br",r,i,s)}}a(t,"dfs"),pG.forEach(e.children(),t)}a(jLt,"addBorderSegments");function MIe(e,t,r,n,i,s){var o={width:0,height:0,rank:s,borderType:t},u=i[t][s-1],l=VLt.addDummyNode(e,"border",o,r);i[t][s]=l,e.setParent(l,n),u&&e.setEdge(u,l,{weight:1})}a(MIe,"addBorderNode")});var OIe=j((Qun,NIe)=>{"use strict";d();var lf=Ri();NIe.exports={adjust:GLt,undo:KLt};function GLt(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&DIe(e)}a(GLt,"adjust");function KLt(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&$Lt(e),(t==="lr"||t==="rl")&&(XLt(e),DIe(e))}a(KLt,"undo");function DIe(e){lf.forEach(e.nodes(),function(t){LIe(e.node(t))}),lf.forEach(e.edges(),function(t){LIe(e.edge(t))})}a(DIe,"swapWidthHeight");function LIe(e){var t=e.width;e.width=e.height,e.height=t}a(LIe,"swapWidthHeightOne");function $Lt(e){lf.forEach(e.nodes(),function(t){gG(e.node(t))}),lf.forEach(e.edges(),function(t){var r=e.edge(t);lf.forEach(r.points,gG),lf.has(r,"y")&&gG(r)})}a($Lt,"reverseY");function gG(e){e.y=-e.y}a(gG,"reverseYOne");function XLt(e){lf.forEach(e.nodes(),function(t){yG(e.node(t))}),lf.forEach(e.edges(),function(t){var r=e.edge(t);lf.forEach(r.points,yG),lf.has(r,"x")&&yG(r)})}a(XLt,"swapXY");function yG(e){var t=e.x;e.x=e.y,e.y=t}a(yG,"swapXYOne")});var PIe=j((jun,qIe)=>{"use strict";d();var ad=Ri();qIe.exports=JLt;function JLt(e){var t={},r=ad.filter(e.nodes(),function(u){return!e.children(u).length}),n=ad.max(ad.map(r,function(u){return e.node(u).rank})),i=ad.map(ad.range(n+1),function(){return[]});function s(u){if(!ad.has(t,u)){t[u]=!0;var l=e.node(u);i[l.rank].push(u),ad.forEach(e.successors(u),s)}}a(s,"dfs");var o=ad.sortBy(r,function(u){return e.node(u).rank});return ad.forEach(o,s),i}a(JLt,"initOrder")});var UIe=j(($un,FIe)=>{"use strict";d();var sp=Ri();FIe.exports=ZLt;function ZLt(e,t){for(var r=0,n=1;n<t.length;++n)r+=eDt(e,t[n-1],t[n]);return r}a(ZLt,"crossCount");function eDt(e,t,r){for(var n=sp.zipObject(r,sp.map(r,function(f,h){return h})),i=sp.flatten(sp.map(t,function(f){return sp.sortBy(sp.map(e.outEdges(f),function(h){return{pos:n[h.w],weight:e.edge(h).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var u=sp.map(new Array(o),function(){return 0}),l=0;return sp.forEach(i.forEach(function(f){var h=f.pos+s;u[h]+=f.weight;for(var p=0;h>0;)h%2&&(p+=u[h+1]),h=h-1>>1,u[h]+=f.weight;l+=f.weight*p})),l}a(eDt,"twoLayerCrossCount")});var zIe=j((Zun,HIe)=>{d();var YIe=Ri();HIe.exports=tDt;function tDt(e,t){return YIe.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=YIe.reduce(n,function(s,o){var u=e.edge(o),l=e.node(o.v);return{sum:s.sum+u.weight*l.order,weight:s.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}a(tDt,"barycenter")});var WIe=j((rln,QIe)=>{"use strict";d();var dc=Ri();QIe.exports=rDt;function rDt(e,t){var r={};dc.forEach(e,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};dc.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),dc.forEach(t.edges(),function(i){var s=r[i.v],o=r[i.w];!dc.isUndefined(s)&&!dc.isUndefined(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=dc.filter(r,function(i){return!i.indegree});return nDt(n)}a(rDt,"resolveConflicts");function nDt(e){var t=[];function r(s){return function(o){o.merged||(dc.isUndefined(o.barycenter)||dc.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&iDt(s,o)}}a(r,"handleIn");function n(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(a(n,"handleOut");e.length;){var i=e.pop();t.push(i),dc.forEach(i.in.reverse(),r(i)),dc.forEach(i.out,n(i))}return dc.map(dc.filter(t,function(s){return!s.merged}),function(s){return dc.pick(s,["vs","i","barycenter","weight"])})}a(nDt,"doResolveConflicts");function iDt(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}a(iDt,"mergeEntries")});var GIe=j((aln,jIe)=>{d();var k5=Ri(),aDt=oo();jIe.exports=sDt;function sDt(e,t){var r=aDt.partition(e,function(h){return k5.has(h,"barycenter")}),n=r.lhs,i=k5.sortBy(r.rhs,function(h){return-h.i}),s=[],o=0,u=0,l=0;n.sort(oDt(!!t)),l=VIe(s,i,l),k5.forEach(n,function(h){l+=h.vs.length,s.push(h.vs),o+=h.barycenter*h.weight,u+=h.weight,l=VIe(s,i,l)});var f={vs:k5.flatten(s,!0)};return u&&(f.barycenter=o/u,f.weight=u),f}a(sDt,"sort");function VIe(e,t,r){for(var n;t.length&&(n=k5.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}a(VIe,"consumeUnsortable");function oDt(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}a(oDt,"compareWithBias")});var XIe=j((cln,$Ie)=>{d();var op=Ri(),cDt=zIe(),uDt=WIe(),lDt=GIe();$Ie.exports=KIe;function KIe(e,t,r,n){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,l={};o&&(i=op.filter(i,function(E){return E!==o&&E!==u}));var f=cDt(e,i);op.forEach(f,function(E){if(e.children(E.v).length){var M=KIe(e,E.v,r,n);l[E.v]=M,op.has(M,"barycenter")&&hDt(E,M)}});var h=uDt(f,r);fDt(h,l);var p=lDt(h,n);if(o&&(p.vs=op.flatten([o,p.vs,u],!0),e.predecessors(o).length)){var g=e.node(e.predecessors(o)[0]),y=e.node(e.predecessors(u)[0]);op.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+y.order)/(p.weight+2),p.weight+=2}return p}a(KIe,"sortSubgraph");function fDt(e,t){op.forEach(e,function(r){r.vs=op.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}a(fDt,"expandSubgraphs");function hDt(e,t){op.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}a(hDt,"mergeBarycenters")});var ZIe=j((fln,JIe)=>{d();var C5=Ri(),dDt=iu().Graph;JIe.exports=pDt;function pDt(e,t,r){var n=gDt(e),i=new dDt({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return C5.forEach(e.nodes(),function(s){var o=e.node(s),u=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,u||n),C5.forEach(e[r](s),function(l){var f=l.v===s?l.w:l.v,h=i.edge(f,s),p=C5.isUndefined(h)?0:h.weight;i.setEdge(f,s,{weight:e.edge(l).weight+p})}),C5.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}a(pDt,"buildLayerGraph");function gDt(e){for(var t;e.hasNode(t=C5.uniqueId("_root")););return t}a(gDt,"createRootNode")});var tTe=j((pln,eTe)=>{d();var yDt=Ri();eTe.exports=mDt;function mDt(e,t,r){var n={},i;yDt.forEach(r,function(s){for(var o=e.parent(s),u,l;o;){if(u=e.parent(o),u?(l=n[u],n[u]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=u}})}a(mDt,"addSubgraphConstraints")});var sTe=j((mln,aTe)=>{"use strict";d();var cp=Ri(),bDt=PIe(),vDt=UIe(),_Dt=XIe(),xDt=ZIe(),wDt=tTe(),ADt=iu().Graph,rTe=oo();aTe.exports=EDt;function EDt(e){var t=rTe.maxRank(e),r=nTe(e,cp.range(1,t+1),"inEdges"),n=nTe(e,cp.range(t-1,-1,-1),"outEdges"),i=bDt(e);iTe(e,i);for(var s=Number.POSITIVE_INFINITY,o,u=0,l=0;l<4;++u,++l){SDt(u%2?r:n,u%4>=2),i=rTe.buildLayerMatrix(e);var f=vDt(e,i);f<s&&(l=0,o=cp.cloneDeep(i),s=f)}iTe(e,o)}a(EDt,"order");function nTe(e,t,r){return cp.map(t,function(n){return xDt(e,n,r)})}a(nTe,"buildLayerGraphs");function SDt(e,t){var r=new ADt;cp.forEach(e,function(n){var i=n.graph().root,s=_Dt(n,i,r,t);cp.forEach(s.vs,function(o,u){n.node(o).order=u}),wDt(n,r,s.vs)})}a(SDt,"sweepLayerGraphs");function iTe(e,t){cp.forEach(t,function(r){cp.forEach(r,function(n,i){e.node(n).order=i})})}a(iTe,"assignOrder")});var yTe=j((_ln,gTe)=>{"use strict";d();var Zr=Ri(),kDt=iu().Graph,CDt=oo();gTe.exports={positionX:MDt,findType1Conflicts:oTe,findType2Conflicts:cTe,addConflict:mG,hasConflict:uTe,verticalAlignment:lTe,horizontalCompaction:fTe,alignCoordinates:dTe,findSmallestWidthAlignment:hTe,balance:pTe};function oTe(e,t){var r={};function n(i,s){var o=0,u=0,l=i.length,f=Zr.last(s);return Zr.forEach(s,function(h,p){var g=IDt(e,h),y=g?e.node(g).order:l;(g||h===f)&&(Zr.forEach(s.slice(u,p+1),function(E){Zr.forEach(e.predecessors(E),function(M){var z=e.node(M),P=z.order;(P<o||y<P)&&!(z.dummy&&e.node(E).dummy)&&mG(r,M,E)})}),u=p+1,o=y)}),s}return a(n,"visitLayer"),Zr.reduce(t,n),r}a(oTe,"findType1Conflicts");function cTe(e,t){var r={};function n(s,o,u,l,f){var h;Zr.forEach(Zr.range(o,u),function(p){h=s[p],e.node(h).dummy&&Zr.forEach(e.predecessors(h),function(g){var y=e.node(g);y.dummy&&(y.order<l||y.order>f)&&mG(r,g,h)})})}a(n,"scan");function i(s,o){var u=-1,l,f=0;return Zr.forEach(o,function(h,p){if(e.node(h).dummy==="border"){var g=e.predecessors(h);g.length&&(l=e.node(g[0]).order,n(o,f,p,u,l),f=p,u=l)}n(o,f,o.length,l,s.length)}),o}return a(i,"visitLayer"),Zr.reduce(t,i),r}a(cTe,"findType2Conflicts");function IDt(e,t){if(e.node(t).dummy)return Zr.find(e.predecessors(t),function(r){return e.node(r).dummy})}a(IDt,"findOtherInnerSegmentNode");function mG(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}a(mG,"addConflict");function uTe(e,t,r){if(t>r){var n=t;t=r,r=n}return Zr.has(e[t],r)}a(uTe,"hasConflict");function lTe(e,t,r,n){var i={},s={},o={};return Zr.forEach(t,function(u){Zr.forEach(u,function(l,f){i[l]=l,s[l]=l,o[l]=f})}),Zr.forEach(t,function(u){var l=-1;Zr.forEach(u,function(f){var h=n(f);if(h.length){h=Zr.sortBy(h,function(M){return o[M]});for(var p=(h.length-1)/2,g=Math.floor(p),y=Math.ceil(p);g<=y;++g){var E=h[g];s[f]===f&&l<o[E]&&!uTe(r,f,E)&&(s[E]=f,s[f]=i[f]=i[E],l=o[E])}}})}),{root:i,align:s}}a(lTe,"verticalAlignment");function fTe(e,t,r,n,i){var s={},o=TDt(e,t,r,i),u=i?"borderLeft":"borderRight";function l(p,g){for(var y=o.nodes(),E=y.pop(),M={};E;)M[E]?p(E):(M[E]=!0,y.push(E),y=y.concat(g(E))),E=y.pop()}a(l,"iterate");function f(p){s[p]=o.inEdges(p).reduce(function(g,y){return Math.max(g,s[y.v]+o.edge(y))},0)}a(f,"pass1");function h(p){var g=o.outEdges(p).reduce(function(E,M){return Math.min(E,s[M.w]-o.edge(M))},Number.POSITIVE_INFINITY),y=e.node(p);g!==Number.POSITIVE_INFINITY&&y.borderType!==u&&(s[p]=Math.max(s[p],g))}return a(h,"pass2"),l(f,o.predecessors.bind(o)),l(h,o.successors.bind(o)),Zr.forEach(n,function(p){s[p]=s[r[p]]}),s}a(fTe,"horizontalCompaction");function TDt(e,t,r,n){var i=new kDt,s=e.graph(),o=BDt(s.nodesep,s.edgesep,n);return Zr.forEach(t,function(u){var l;Zr.forEach(u,function(f){var h=r[f];if(i.setNode(h),l){var p=r[l],g=i.edge(p,h);i.setEdge(p,h,Math.max(o(e,f,l),g||0))}l=f})}),i}a(TDt,"buildBlockGraph");function hTe(e,t){return Zr.minBy(Zr.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Zr.forIn(r,function(s,o){var u=RDt(e,o)/2;n=Math.max(s+u,n),i=Math.min(s-u,i)}),n-i})}a(hTe,"findSmallestWidthAlignment");function dTe(e,t){var r=Zr.values(t),n=Zr.min(r),i=Zr.max(r);Zr.forEach(["u","d"],function(s){Zr.forEach(["l","r"],function(o){var u=s+o,l=e[u],f;if(l!==t){var h=Zr.values(l);f=o==="l"?n-Zr.min(h):i-Zr.max(h),f&&(e[u]=Zr.mapValues(l,function(p){return p+f}))}})})}a(dTe,"alignCoordinates");function pTe(e,t){return Zr.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=Zr.sortBy(Zr.map(e,n));return(i[1]+i[2])/2})}a(pTe,"balance");function MDt(e){var t=CDt.buildLayerMatrix(e),r=Zr.merge(oTe(e,t),cTe(e,t)),n={},i;Zr.forEach(["u","d"],function(o){i=o==="u"?t:Zr.values(t).reverse(),Zr.forEach(["l","r"],function(u){u==="r"&&(i=Zr.map(i,function(p){return Zr.values(p).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),f=lTe(e,i,r,l),h=fTe(e,i,f.root,f.align,u==="r");u==="r"&&(h=Zr.mapValues(h,function(p){return-p})),n[o+u]=h})});var s=hTe(e,n);return dTe(n,s),pTe(n,e.graph().align)}a(MDt,"positionX");function BDt(e,t,r){return function(n,i,s){var o=n.node(i),u=n.node(s),l=0,f;if(l+=o.width/2,Zr.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":f=-o.width/2;break;case"r":f=o.width/2;break}if(f&&(l+=r?f:-f),f=0,l+=(o.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,Zr.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":f=u.width/2;break;case"r":f=-u.width/2;break}return f&&(l+=r?f:-f),f=0,l}}a(BDt,"sep");function RDt(e,t){return e.node(t).width}a(RDt,"width")});var vTe=j((Aln,bTe)=>{"use strict";d();var I5=Ri(),mTe=oo(),LDt=yTe().positionX;bTe.exports=DDt;function DDt(e){e=mTe.asNonCompoundGraph(e),NDt(e),I5.forEach(LDt(e),function(t,r){e.node(r).x=t})}a(DDt,"position");function NDt(e){var t=mTe.buildLayerMatrix(e),r=e.graph().ranksep,n=0;I5.forEach(t,function(i){var s=I5.max(I5.map(i,function(o){return e.node(o).height}));I5.forEach(i,function(o){e.node(o).y=n+s/2}),n+=s+r})}a(NDt,"positionY")});var STe=j((kln,ETe)=>{"use strict";d();var fn=Ri(),_Te=nIe(),xTe=lIe(),ODt=EIe(),qDt=oo().normalizeRanks,PDt=kIe(),FDt=oo().removeEmptyRanks,wTe=TIe(),UDt=RIe(),ATe=OIe(),YDt=sTe(),HDt=vTe(),up=oo(),zDt=iu().Graph;ETe.exports=QDt;function QDt(e,t){var r=t&&t.debugTiming?up.time:up.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return tNt(e)});r("  runLayout",function(){WDt(n,r)}),r("  updateInputGraph",function(){VDt(e,n)})})}a(QDt,"layout");function WDt(e,t){t("    makeSpaceForEdgeLabels",function(){rNt(e)}),t("    removeSelfEdges",function(){fNt(e)}),t("    acyclic",function(){_Te.run(e)}),t("    nestingGraph.run",function(){wTe.run(e)}),t("    rank",function(){ODt(up.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){nNt(e)}),t("    removeEmptyRanks",function(){FDt(e)}),t("    nestingGraph.cleanup",function(){wTe.cleanup(e)}),t("    normalizeRanks",function(){qDt(e)}),t("    assignRankMinMax",function(){iNt(e)}),t("    removeEdgeLabelProxies",function(){aNt(e)}),t("    normalize.run",function(){xTe.run(e)}),t("    parentDummyChains",function(){PDt(e)}),t("    addBorderSegments",function(){UDt(e)}),t("    order",function(){YDt(e)}),t("    insertSelfEdges",function(){hNt(e)}),t("    adjustCoordinateSystem",function(){ATe.adjust(e)}),t("    position",function(){HDt(e)}),t("    positionSelfEdges",function(){dNt(e)}),t("    removeBorderNodes",function(){lNt(e)}),t("    normalize.undo",function(){xTe.undo(e)}),t("    fixupEdgeLabelCoords",function(){cNt(e)}),t("    undoCoordinateSystem",function(){ATe.undo(e)}),t("    translateGraph",function(){sNt(e)}),t("    assignNodeIntersects",function(){oNt(e)}),t("    reversePoints",function(){uNt(e)}),t("    acyclic.undo",function(){_Te.undo(e)})}a(WDt,"runLayout");function VDt(e,t){fn.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),fn.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,fn.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}a(VDt,"updateInputGraph");var jDt=["nodesep","edgesep","ranksep","marginx","marginy"],GDt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},KDt=["acyclicer","ranker","rankdir","align"],$Dt=["width","height"],XDt={width:0,height:0},JDt=["minlen","weight","width","height","labeloffset"],ZDt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},eNt=["labelpos"];function tNt(e){var t=new zDt({multigraph:!0,compound:!0}),r=vG(e.graph());return t.setGraph(fn.merge({},GDt,bG(r,jDt),fn.pick(r,KDt))),fn.forEach(e.nodes(),function(n){var i=vG(e.node(n));t.setNode(n,fn.defaults(bG(i,$Dt),XDt)),t.setParent(n,e.parent(n))}),fn.forEach(e.edges(),function(n){var i=vG(e.edge(n));t.setEdge(n,fn.merge({},ZDt,bG(i,JDt),fn.pick(i,eNt)))}),t}a(tNt,"buildLayoutGraph");function rNt(e){var t=e.graph();t.ranksep/=2,fn.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}a(rNt,"makeSpaceForEdgeLabels");function nNt(e){fn.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};up.addDummyNode(e,"edge-proxy",s,"_ep")}})}a(nNt,"injectEdgeLabelProxies");function iNt(e){var t=0;fn.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=fn.max(t,n.maxRank))}),e.graph().maxRank=t}a(iNt,"assignRankMinMax");function aNt(e){fn.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}a(aNt,"removeEdgeLabelProxies");function sNt(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,u=s.marginy||0;function l(f){var h=f.x,p=f.y,g=f.width,y=f.height;t=Math.min(t,h-g/2),r=Math.max(r,h+g/2),n=Math.min(n,p-y/2),i=Math.max(i,p+y/2)}a(l,"getExtremes"),fn.forEach(e.nodes(),function(f){l(e.node(f))}),fn.forEach(e.edges(),function(f){var h=e.edge(f);fn.has(h,"x")&&l(h)}),t-=o,n-=u,fn.forEach(e.nodes(),function(f){var h=e.node(f);h.x-=t,h.y-=n}),fn.forEach(e.edges(),function(f){var h=e.edge(f);fn.forEach(h.points,function(p){p.x-=t,p.y-=n}),fn.has(h,"x")&&(h.x-=t),fn.has(h,"y")&&(h.y-=n)}),s.width=r-t+o,s.height=i-n+u}a(sNt,"translateGraph");function oNt(e){fn.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(up.intersectRect(n,s)),r.points.push(up.intersectRect(i,o))})}a(oNt,"assignNodeIntersects");function cNt(e){fn.forEach(e.edges(),function(t){var r=e.edge(t);if(fn.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}a(cNt,"fixupEdgeLabelCoords");function uNt(e){fn.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}a(uNt,"reversePointsForReversedEdges");function lNt(e){fn.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(fn.last(r.borderLeft)),o=e.node(fn.last(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),fn.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}a(lNt,"removeBorderNodes");function fNt(e){fn.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}a(fNt,"removeSelfEdges");function hNt(e){var t=up.buildLayerMatrix(e);fn.forEach(t,function(r){var n=0;fn.forEach(r,function(i,s){var o=e.node(i);o.order=s+n,fn.forEach(o.selfEdges,function(u){up.addDummyNode(e,"selfedge",{width:u.label.width,height:u.label.height,rank:o.rank,order:s+ ++n,e:u.e,label:u.label},"_se")}),delete o.selfEdges})})}a(hNt,"insertSelfEdges");function dNt(e){fn.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,u=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:s-u},{x:i+5*o/6,y:s-u},{x:i+o,y:s},{x:i+5*o/6,y:s+u},{x:i+2*o/3,y:s+u}],r.label.x=r.x,r.label.y=r.y}})}a(dNt,"positionSelfEdges");function bG(e,t){return fn.mapValues(fn.pick(e,t),Number)}a(bG,"selectNumberAttrs");function vG(e){var t={};return fn.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}a(vG,"canonicalize")});var CTe=j((Tln,kTe)=>{d();var fT=Ri(),pNt=oo(),gNt=iu().Graph;kTe.exports={debugOrdering:yNt};function yNt(e){var t=pNt.buildLayerMatrix(e),r=new gNt({compound:!0,multigraph:!0}).setGraph({});return fT.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),fT.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),fT.forEach(t,function(n,i){var s="layer"+i;r.setNode(s,{rank:"same"}),fT.reduce(n,function(o,u){return r.setEdge(o,u,{style:"invis"}),u})}),r}a(yNt,"debugOrdering")});var TTe=j((Rln,ITe)=>{d();ITe.exports="0.8.5"});var _G=j((Dln,MTe)=>{d();MTe.exports={graphlib:iu(),layout:STe(),debug:CTe(),util:{time:oo().time,notime:oo().notime},version:TTe()}});var LTe=j((Zln,RTe)=>{d();var dT;if(typeof Hi=="function")try{dT=nT()}catch{}dT||(dT=window.graphlib);RTe.exports=dT});var EG=j((rfn,DTe)=>{d();var pT;if(typeof Hi=="function")try{pT=_G()}catch{}pT||(pT=window.dagre);DTe.exports=pT});var SG=j((afn,NTe)=>{d();NTe.exports=_Nt;function _Nt(e,t){return e.intersect(t)}a(_Nt,"intersectNode")});var gT=j((cfn,OTe)=>{d();OTe.exports=xNt;function xNt(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,u=s-n.y,l=Math.sqrt(t*t*u*u+r*r*o*o),f=Math.abs(t*r*o/l);n.x<i&&(f=-f);var h=Math.abs(t*r*u/l);return n.y<s&&(h=-h),{x:i+f,y:s+h}}a(xNt,"intersectEllipse")});var kG=j((ffn,qTe)=>{d();var wNt=gT();qTe.exports=ANt;function ANt(e,t,r){return wNt(e,t,t,r)}a(ANt,"intersectCircle")});var UTe=j((pfn,FTe)=>{d();FTe.exports=ENt;function ENt(e,t,r,n){var i,s,o,u,l,f,h,p,g,y,E,M,z,P,Q;if(i=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,g=i*r.x+o*r.y+l,y=i*n.x+o*n.y+l,!(g!==0&&y!==0&&PTe(g,y))&&(s=n.y-r.y,u=r.x-n.x,f=n.x*r.y-r.x*n.y,h=s*e.x+u*e.y+f,p=s*t.x+u*t.y+f,!(h!==0&&p!==0&&PTe(h,p))&&(E=i*u-s*o,E!==0)))return M=Math.abs(E/2),z=o*f-u*l,P=z<0?(z-M)/E:(z+M)/E,z=s*l-i*f,Q=z<0?(z-M)/E:(z+M)/E,{x:P,y:Q}}a(ENt,"intersectLine");function PTe(e,t){return e*t>0}a(PTe,"sameSign")});var CG=j((mfn,YTe)=>{d();var SNt=UTe();YTe.exports=kNt;function kNt(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;t.forEach(function(E){o=Math.min(o,E.x),u=Math.min(u,E.y)});for(var l=n-e.width/2-o,f=i-e.height/2-u,h=0;h<t.length;h++){var p=t[h],g=t[h<t.length-1?h+1:0],y=SNt(e,r,{x:l+p.x,y:f+p.y},{x:l+g.x,y:f+g.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(E,M){var z=E.x-r.x,P=E.y-r.y,Q=Math.sqrt(z*z+P*P),V=M.x-r.x,W=M.y-r.y,F=Math.sqrt(V*V+W*W);return Q<F?-1:Q===F?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}a(kNt,"intersectPolygon")});var IG=j((_fn,HTe)=>{d();HTe.exports=CNt;function CNt(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2,l,f;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),l=s===0?0:u*i/s,f=u):(i<0&&(o=-o),l=o,f=i===0?0:o*s/i),{x:r+l,y:n+f}}a(CNt,"intersectRect")});var QTe=j((Afn,zTe)=>{d();zTe.exports={node:SG(),circle:kG(),ellipse:gT(),polygon:CG(),rect:IG()}});var ty=j((Sfn,WTe)=>{d();var yT;if(typeof Hi=="function")try{yT={defaults:Kj(),each:WI(),isFunction:jg(),isPlainObject:Zj(),pick:rG(),has:$I(),range:iG(),uniqueId:sG()}}catch{}yT||(yT=window._);WTe.exports=yT});var fv=j((mT,VTe)=>{d();(function(e,t){typeof mT=="object"&&typeof VTe<"u"?t(mT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(mT,function(e){"use strict";function t(Y,D){return Y<D?-1:Y>D?1:Y>=D?0:NaN}a(t,"ascending");function r(Y){return Y.length===1&&(Y=n(Y)),{left:function(D,J,q,I){for(q==null&&(q=0),I==null&&(I=D.length);q<I;){var H=q+I>>>1;Y(D[H],J)<0?q=H+1:I=H}return q},right:function(D,J,q,I){for(q==null&&(q=0),I==null&&(I=D.length);q<I;){var H=q+I>>>1;Y(D[H],J)>0?I=H:q=H+1}return q}}}a(r,"bisector");function n(Y){return function(D,J){return t(Y(D),J)}}a(n,"ascendingComparator");var i=r(t),s=i.right,o=i.left;function u(Y,D){D==null&&(D=l);for(var J=0,q=Y.length-1,I=Y[0],H=new Array(q<0?0:q);J<q;)H[J]=D(I,I=Y[++J]);return H}a(u,"pairs");function l(Y,D){return[Y,D]}a(l,"pair");function f(Y,D,J){var q=Y.length,I=D.length,H=new Array(q*I),te,ie,he,De;for(J==null&&(J=l),te=he=0;te<q;++te)for(De=Y[te],ie=0;ie<I;++ie,++he)H[he]=J(De,D[ie]);return H}a(f,"cross");function h(Y,D){return D<Y?-1:D>Y?1:D>=Y?0:NaN}a(h,"descending");function p(Y){return Y===null?NaN:+Y}a(p,"number");function g(Y,D){var J=Y.length,q=0,I=-1,H=0,te,ie,he=0;if(D==null)for(;++I<J;)isNaN(te=p(Y[I]))||(ie=te-H,H+=ie/++q,he+=ie*(te-H));else for(;++I<J;)isNaN(te=p(D(Y[I],I,Y)))||(ie=te-H,H+=ie/++q,he+=ie*(te-H));if(q>1)return he/(q-1)}a(g,"variance");function y(Y,D){var J=g(Y,D);return J&&Math.sqrt(J)}a(y,"deviation");function E(Y,D){var J=Y.length,q=-1,I,H,te;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=te=I;++q<J;)(I=Y[q])!=null&&(H>I&&(H=I),te<I&&(te=I))}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=te=I;++q<J;)(I=D(Y[q],q,Y))!=null&&(H>I&&(H=I),te<I&&(te=I));return[H,te]}a(E,"extent");var M=Array.prototype,z=M.slice,P=M.map;function Q(Y){return function(){return Y}}a(Q,"constant");function V(Y){return Y}a(V,"identity");function W(Y,D,J){Y=+Y,D=+D,J=(I=arguments.length)<2?(D=Y,Y=0,1):I<3?1:+J;for(var q=-1,I=Math.max(0,Math.ceil((D-Y)/J))|0,H=new Array(I);++q<I;)H[q]=Y+q*J;return H}a(W,"range");var F=Math.sqrt(50),B=Math.sqrt(10),S=Math.sqrt(2);function T(Y,D,J){var q,I=-1,H,te,ie;if(D=+D,Y=+Y,J=+J,Y===D&&J>0)return[Y];if((q=D<Y)&&(H=Y,Y=D,D=H),(ie=k(Y,D,J))===0||!isFinite(ie))return[];if(ie>0)for(Y=Math.ceil(Y/ie),D=Math.floor(D/ie),te=new Array(H=Math.ceil(D-Y+1));++I<H;)te[I]=(Y+I)*ie;else for(Y=Math.floor(Y*ie),D=Math.ceil(D*ie),te=new Array(H=Math.ceil(Y-D+1));++I<H;)te[I]=(Y-I)/ie;return q&&te.reverse(),te}a(T,"ticks");function k(Y,D,J){var q=(D-Y)/Math.max(0,J),I=Math.floor(Math.log(q)/Math.LN10),H=q/Math.pow(10,I);return I>=0?(H>=F?10:H>=B?5:H>=S?2:1)*Math.pow(10,I):-Math.pow(10,-I)/(H>=F?10:H>=B?5:H>=S?2:1)}a(k,"tickIncrement");function R(Y,D,J){var q=Math.abs(D-Y)/Math.max(0,J),I=Math.pow(10,Math.floor(Math.log(q)/Math.LN10)),H=q/I;return H>=F?I*=10:H>=B?I*=5:H>=S&&(I*=2),D<Y?-I:I}a(R,"tickStep");function x(Y){return Math.ceil(Math.log(Y.length)/Math.LN2)+1}a(x,"sturges");function N(){var Y=V,D=E,J=x;function q(I){var H,te=I.length,ie,he=new Array(te);for(H=0;H<te;++H)he[H]=Y(I[H],H,I);var De=D(he),$e=De[0],ze=De[1],Qe=J(he,$e,ze);Array.isArray(Qe)||(Qe=R($e,ze,Qe),Qe=W(Math.ceil($e/Qe)*Qe,ze,Qe));for(var je=Qe.length;Qe[0]<=$e;)Qe.shift(),--je;for(;Qe[je-1]>ze;)Qe.pop(),--je;var We=new Array(je+1),Ce;for(H=0;H<=je;++H)Ce=We[H]=[],Ce.x0=H>0?Qe[H-1]:$e,Ce.x1=H<je?Qe[H]:ze;for(H=0;H<te;++H)ie=he[H],$e<=ie&&ie<=ze&&We[s(Qe,ie,0,je)].push(I[H]);return We}return a(q,"histogram"),q.value=function(I){return arguments.length?(Y=typeof I=="function"?I:Q(I),q):Y},q.domain=function(I){return arguments.length?(D=typeof I=="function"?I:Q([I[0],I[1]]),q):D},q.thresholds=function(I){return arguments.length?(J=typeof I=="function"?I:Array.isArray(I)?Q(z.call(I)):Q(I),q):J},q}a(N,"histogram");function m(Y,D,J){if(J==null&&(J=p),!!(q=Y.length)){if((D=+D)<=0||q<2)return+J(Y[0],0,Y);if(D>=1)return+J(Y[q-1],q-1,Y);var q,I=(q-1)*D,H=Math.floor(I),te=+J(Y[H],H,Y),ie=+J(Y[H+1],H+1,Y);return te+(ie-te)*(I-H)}}a(m,"quantile");function v(Y,D,J){return Y=P.call(Y,p).sort(t),Math.ceil((J-D)/(2*(m(Y,.75)-m(Y,.25))*Math.pow(Y.length,-1/3)))}a(v,"freedmanDiaconis");function A(Y,D,J){return Math.ceil((J-D)/(3.5*y(Y)*Math.pow(Y.length,-1/3)))}a(A,"scott");function U(Y,D){var J=Y.length,q=-1,I,H;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=I;++q<J;)(I=Y[q])!=null&&I>H&&(H=I)}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=I;++q<J;)(I=D(Y[q],q,Y))!=null&&I>H&&(H=I);return H}a(U,"max");function G(Y,D){var J=Y.length,q=J,I=-1,H,te=0;if(D==null)for(;++I<J;)isNaN(H=p(Y[I]))?--q:te+=H;else for(;++I<J;)isNaN(H=p(D(Y[I],I,Y)))?--q:te+=H;if(q)return te/q}a(G,"mean");function K(Y,D){var J=Y.length,q=-1,I,H=[];if(D==null)for(;++q<J;)isNaN(I=p(Y[q]))||H.push(I);else for(;++q<J;)isNaN(I=p(D(Y[q],q,Y)))||H.push(I);return m(H.sort(t),.5)}a(K,"median");function Z(Y){for(var D=Y.length,J,q=-1,I=0,H,te;++q<D;)I+=Y[q].length;for(H=new Array(I);--D>=0;)for(te=Y[D],J=te.length;--J>=0;)H[--I]=te[J];return H}a(Z,"merge");function O(Y,D){var J=Y.length,q=-1,I,H;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=I;++q<J;)(I=Y[q])!=null&&H>I&&(H=I)}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=I;++q<J;)(I=D(Y[q],q,Y))!=null&&H>I&&(H=I);return H}a(O,"min");function $(Y,D){for(var J=D.length,q=new Array(J);J--;)q[J]=Y[D[J]];return q}a($,"permute");function L(Y,D){if(!!(J=Y.length)){var J,q=0,I=0,H,te=Y[I];for(D==null&&(D=t);++q<J;)(D(H=Y[q],te)<0||D(te,te)!==0)&&(te=H,I=q);if(D(te,te)===0)return I}}a(L,"scan");function ee(Y,D,J){for(var q=(J??Y.length)-(D=D==null?0:+D),I,H;q;)H=Math.random()*q--|0,I=Y[q+D],Y[q+D]=Y[H+D],Y[H+D]=I;return Y}a(ee,"shuffle");function ve(Y,D){var J=Y.length,q=-1,I,H=0;if(D==null)for(;++q<J;)(I=+Y[q])&&(H+=I);else for(;++q<J;)(I=+D(Y[q],q,Y))&&(H+=I);return H}a(ve,"sum");function ye(Y){if(!(H=Y.length))return[];for(var D=-1,J=O(Y,se),q=new Array(J);++D<J;)for(var I=-1,H,te=q[D]=new Array(H);++I<H;)te[I]=Y[I][D];return q}a(ye,"transpose");function se(Y){return Y.length}a(se,"length");function be(){return ye(arguments)}a(be,"zip"),e.bisect=s,e.bisectRight=s,e.bisectLeft=o,e.ascending=t,e.bisector=r,e.cross=f,e.descending=h,e.deviation=y,e.extent=E,e.histogram=N,e.thresholdFreedmanDiaconis=v,e.thresholdScott=A,e.thresholdSturges=x,e.max=U,e.mean=G,e.median=K,e.merge=Z,e.min=O,e.pairs=u,e.permute=$,e.quantile=m,e.range=W,e.scan=L,e.shuffle=ee,e.sum=ve,e.ticks=T,e.tickIncrement=k,e.tickStep=R,e.transpose=ye,e.variance=g,e.zip=be,Object.defineProperty(e,"__esModule",{value:!0})})});var GTe=j((bT,jTe)=>{d();(function(e,t){typeof bT=="object"&&typeof jTe<"u"?t(bT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(bT,function(e){"use strict";var t=Array.prototype.slice;function r(Q){return Q}a(r,"identity");var n=1,i=2,s=3,o=4,u=1e-6;function l(Q){return"translate("+(Q+.5)+",0)"}a(l,"translateX");function f(Q){return"translate(0,"+(Q+.5)+")"}a(f,"translateY");function h(Q){return function(V){return+Q(V)}}a(h,"number");function p(Q){var V=Math.max(0,Q.bandwidth()-1)/2;return Q.round()&&(V=Math.round(V)),function(W){return+Q(W)+V}}a(p,"center");function g(){return!this.__axis}a(g,"entering");function y(Q,V){var W=[],F=null,B=null,S=6,T=6,k=3,R=Q===n||Q===o?-1:1,x=Q===o||Q===i?"x":"y",N=Q===n||Q===s?l:f;function m(v){var A=F??(V.ticks?V.ticks.apply(V,W):V.domain()),U=B??(V.tickFormat?V.tickFormat.apply(V,W):r),G=Math.max(S,0)+k,K=V.range(),Z=+K[0]+.5,O=+K[K.length-1]+.5,$=(V.bandwidth?p:h)(V.copy()),L=v.selection?v.selection():v,ee=L.selectAll(".domain").data([null]),ve=L.selectAll(".tick").data(A,V).order(),ye=ve.exit(),se=ve.enter().append("g").attr("class","tick"),be=ve.select("line"),Y=ve.select("text");ee=ee.merge(ee.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ve=ve.merge(se),be=be.merge(se.append("line").attr("stroke","currentColor").attr(x+"2",R*S)),Y=Y.merge(se.append("text").attr("fill","currentColor").attr(x,R*G).attr("dy",Q===n?"0em":Q===s?"0.71em":"0.32em")),v!==L&&(ee=ee.transition(v),ve=ve.transition(v),be=be.transition(v),Y=Y.transition(v),ye=ye.transition(v).attr("opacity",u).attr("transform",function(D){return isFinite(D=$(D))?N(D):this.getAttribute("transform")}),se.attr("opacity",u).attr("transform",function(D){var J=this.parentNode.__axis;return N(J&&isFinite(J=J(D))?J:$(D))})),ye.remove(),ee.attr("d",Q===o||Q==i?T?"M"+R*T+","+Z+"H0.5V"+O+"H"+R*T:"M0.5,"+Z+"V"+O:T?"M"+Z+","+R*T+"V0.5H"+O+"V"+R*T:"M"+Z+",0.5H"+O),ve.attr("opacity",1).attr("transform",function(D){return N($(D))}),be.attr(x+"2",R*S),Y.attr(x,R*G).text(U),L.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",Q===i?"start":Q===o?"end":"middle"),L.each(function(){this.__axis=$})}return a(m,"axis"),m.scale=function(v){return arguments.length?(V=v,m):V},m.ticks=function(){return W=t.call(arguments),m},m.tickArguments=function(v){return arguments.length?(W=v==null?[]:t.call(v),m):W.slice()},m.tickValues=function(v){return arguments.length?(F=v==null?null:t.call(v),m):F&&F.slice()},m.tickFormat=function(v){return arguments.length?(B=v,m):B},m.tickSize=function(v){return arguments.length?(S=T=+v,m):S},m.tickSizeInner=function(v){return arguments.length?(S=+v,m):S},m.tickSizeOuter=function(v){return arguments.length?(T=+v,m):T},m.tickPadding=function(v){return arguments.length?(k=+v,m):k},m}a(y,"axis");function E(Q){return y(n,Q)}a(E,"axisTop");function M(Q){return y(i,Q)}a(M,"axisRight");function z(Q){return y(s,Q)}a(z,"axisBottom");function P(Q){return y(o,Q)}a(P,"axisLeft"),e.axisTop=E,e.axisRight=M,e.axisBottom=z,e.axisLeft=P,Object.defineProperty(e,"__esModule",{value:!0})})});var ry=j((vT,KTe)=>{d();(function(e,t){typeof vT=="object"&&typeof KTe<"u"?t(vT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(vT,function(e){"use strict";var t={value:function(){}};function r(){for(var u=0,l=arguments.length,f={},h;u<l;++u){if(!(h=arguments[u]+"")||h in f||/[\s.]/.test(h))throw new Error("illegal type: "+h);f[h]=[]}return new n(f)}a(r,"dispatch");function n(u){this._=u}a(n,"Dispatch");function i(u,l){return u.trim().split(/^|\s+/).map(function(f){var h="",p=f.indexOf(".");if(p>=0&&(h=f.slice(p+1),f=f.slice(0,p)),f&&!l.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:h}})}a(i,"parseTypenames"),n.prototype=r.prototype={constructor:n,on:function(u,l){var f=this._,h=i(u+"",f),p,g=-1,y=h.length;if(arguments.length<2){for(;++g<y;)if((p=(u=h[g]).type)&&(p=s(f[p],u.name)))return p;return}if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++g<y;)if(p=(u=h[g]).type)f[p]=o(f[p],u.name,l);else if(l==null)for(p in f)f[p]=o(f[p],u.name,null);return this},copy:function(){var u={},l=this._;for(var f in l)u[f]=l[f].slice();return new n(u)},call:function(u,l){if((p=arguments.length-2)>0)for(var f=new Array(p),h=0,p,g;h<p;++h)f[h]=arguments[h+2];if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(g=this._[u],h=0,p=g.length;h<p;++h)g[h].value.apply(l,f)},apply:function(u,l,f){if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(var h=this._[u],p=0,g=h.length;p<g;++p)h[p].value.apply(l,f)}};function s(u,l){for(var f=0,h=u.length,p;f<h;++f)if((p=u[f]).name===l)return p.value}a(s,"get");function o(u,l,f){for(var h=0,p=u.length;h<p;++h)if(u[h].name===l){u[h]=t,u=u.slice(0,h).concat(u.slice(h+1));break}return f!=null&&u.push({name:l,value:f}),u}a(o,"set"),e.dispatch=r,Object.defineProperty(e,"__esModule",{value:!0})})});var hv=j((_T,$Te)=>{d();(function(e,t){typeof _T=="object"&&typeof $Te<"u"?t(_T):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(_T,function(e){"use strict";var t="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(Ne){var Ze=Ne+="",Tt=Ze.indexOf(":");return Tt>=0&&(Ze=Ne.slice(0,Tt))!=="xmlns"&&(Ne=Ne.slice(Tt+1)),r.hasOwnProperty(Ze)?{space:r[Ze],local:Ne}:Ne}a(n,"namespace");function i(Ne){return function(){var Ze=this.ownerDocument,Tt=this.namespaceURI;return Tt===t&&Ze.documentElement.namespaceURI===t?Ze.createElement(Ne):Ze.createElementNS(Tt,Ne)}}a(i,"creatorInherit");function s(Ne){return function(){return this.ownerDocument.createElementNS(Ne.space,Ne.local)}}a(s,"creatorFixed");function o(Ne){var Ze=n(Ne);return(Ze.local?s:i)(Ze)}a(o,"creator");function u(){}a(u,"none");function l(Ne){return Ne==null?u:function(){return this.querySelector(Ne)}}a(l,"selector");function f(Ne){typeof Ne!="function"&&(Ne=l(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=new Array(Tt),At=0;At<Tt;++At)for(var Ot=Ze[At],Vt=Ot.length,Ct=Ft[At]=new Array(Vt),er,Ue,Ir=0;Ir<Vt;++Ir)(er=Ot[Ir])&&(Ue=Ne.call(er,er.__data__,Ir,Ot))&&("__data__"in er&&(Ue.__data__=er.__data__),Ct[Ir]=Ue);return new wt(Ft,this._parents)}a(f,"selection_select");function h(){return[]}a(h,"empty");function p(Ne){return Ne==null?h:function(){return this.querySelectorAll(Ne)}}a(p,"selectorAll");function g(Ne){typeof Ne!="function"&&(Ne=p(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=[],At=[],Ot=0;Ot<Tt;++Ot)for(var Vt=Ze[Ot],Ct=Vt.length,er,Ue=0;Ue<Ct;++Ue)(er=Vt[Ue])&&(Ft.push(Ne.call(er,er.__data__,Ue,Vt)),At.push(er));return new wt(Ft,At)}a(g,"selection_selectAll");function y(Ne){return function(){return this.matches(Ne)}}a(y,"matcher");function E(Ne){typeof Ne!="function"&&(Ne=y(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=new Array(Tt),At=0;At<Tt;++At)for(var Ot=Ze[At],Vt=Ot.length,Ct=Ft[At]=[],er,Ue=0;Ue<Vt;++Ue)(er=Ot[Ue])&&Ne.call(er,er.__data__,Ue,Ot)&&Ct.push(er);return new wt(Ft,this._parents)}a(E,"selection_filter");function M(Ne){return new Array(Ne.length)}a(M,"sparse");function z(){return new wt(this._enter||this._groups.map(M),this._parents)}a(z,"selection_enter");function P(Ne,Ze){this.ownerDocument=Ne.ownerDocument,this.namespaceURI=Ne.namespaceURI,this._next=null,this._parent=Ne,this.__data__=Ze}a(P,"EnterNode"),P.prototype={constructor:P,appendChild:function(Ne){return this._parent.insertBefore(Ne,this._next)},insertBefore:function(Ne,Ze){return this._parent.insertBefore(Ne,Ze)},querySelector:function(Ne){return this._parent.querySelector(Ne)},querySelectorAll:function(Ne){return this._parent.querySelectorAll(Ne)}};function Q(Ne){return function(){return Ne}}a(Q,"constant");var V="$";function W(Ne,Ze,Tt,Ft,At,Ot){for(var Vt=0,Ct,er=Ze.length,Ue=Ot.length;Vt<Ue;++Vt)(Ct=Ze[Vt])?(Ct.__data__=Ot[Vt],Ft[Vt]=Ct):Tt[Vt]=new P(Ne,Ot[Vt]);for(;Vt<er;++Vt)(Ct=Ze[Vt])&&(At[Vt]=Ct)}a(W,"bindIndex");function F(Ne,Ze,Tt,Ft,At,Ot,Vt){var Ct,er,Ue={},Ir=Ze.length,ct=Ot.length,xn=new Array(Ir),Mn;for(Ct=0;Ct<Ir;++Ct)(er=Ze[Ct])&&(xn[Ct]=Mn=V+Vt.call(er,er.__data__,Ct,Ze),Mn in Ue?At[Ct]=er:Ue[Mn]=er);for(Ct=0;Ct<ct;++Ct)Mn=V+Vt.call(Ne,Ot[Ct],Ct,Ot),(er=Ue[Mn])?(Ft[Ct]=er,er.__data__=Ot[Ct],Ue[Mn]=null):Tt[Ct]=new P(Ne,Ot[Ct]);for(Ct=0;Ct<Ir;++Ct)(er=Ze[Ct])&&Ue[xn[Ct]]===er&&(At[Ct]=er)}a(F,"bindKey");function B(Ne,Ze){if(!Ne)return Mn=new Array(this.size()),Ue=-1,this.each(function(lt){Mn[++Ue]=lt}),Mn;var Tt=Ze?F:W,Ft=this._parents,At=this._groups;typeof Ne!="function"&&(Ne=Q(Ne));for(var Ot=At.length,Vt=new Array(Ot),Ct=new Array(Ot),er=new Array(Ot),Ue=0;Ue<Ot;++Ue){var Ir=Ft[Ue],ct=At[Ue],xn=ct.length,Mn=Ne.call(Ir,Ir&&Ir.__data__,Ue,Ft),Fi=Mn.length,Ya=Ct[Ue]=new Array(Fi),Ha=Vt[Ue]=new Array(Fi),hn=er[Ue]=new Array(xn);Tt(Ir,ct,Ya,Ha,hn,Mn,Ze);for(var oe=0,Be=0,Le,Xe;oe<Fi;++oe)if(Le=Ya[oe]){for(oe>=Be&&(Be=oe+1);!(Xe=Ha[Be])&&++Be<Fi;);Le._next=Xe||null}}return Vt=new wt(Vt,Ft),Vt._enter=Ct,Vt._exit=er,Vt}a(B,"selection_data");function S(){return new wt(this._exit||this._groups.map(M),this._parents)}a(S,"selection_exit");function T(Ne,Ze,Tt){var Ft=this.enter(),At=this,Ot=this.exit();return Ft=typeof Ne=="function"?Ne(Ft):Ft.append(Ne+""),Ze!=null&&(At=Ze(At)),Tt==null?Ot.remove():Tt(Ot),Ft&&At?Ft.merge(At).order():At}a(T,"selection_join");function k(Ne){for(var Ze=this._groups,Tt=Ne._groups,Ft=Ze.length,At=Tt.length,Ot=Math.min(Ft,At),Vt=new Array(Ft),Ct=0;Ct<Ot;++Ct)for(var er=Ze[Ct],Ue=Tt[Ct],Ir=er.length,ct=Vt[Ct]=new Array(Ir),xn,Mn=0;Mn<Ir;++Mn)(xn=er[Mn]||Ue[Mn])&&(ct[Mn]=xn);for(;Ct<Ft;++Ct)Vt[Ct]=Ze[Ct];return new wt(Vt,this._parents)}a(k,"selection_merge");function R(){for(var Ne=this._groups,Ze=-1,Tt=Ne.length;++Ze<Tt;)for(var Ft=Ne[Ze],At=Ft.length-1,Ot=Ft[At],Vt;--At>=0;)(Vt=Ft[At])&&(Ot&&Vt.compareDocumentPosition(Ot)^4&&Ot.parentNode.insertBefore(Vt,Ot),Ot=Vt);return this}a(R,"selection_order");function x(Ne){Ne||(Ne=N);function Ze(ct,xn){return ct&&xn?Ne(ct.__data__,xn.__data__):!ct-!xn}a(Ze,"compareNode");for(var Tt=this._groups,Ft=Tt.length,At=new Array(Ft),Ot=0;Ot<Ft;++Ot){for(var Vt=Tt[Ot],Ct=Vt.length,er=At[Ot]=new Array(Ct),Ue,Ir=0;Ir<Ct;++Ir)(Ue=Vt[Ir])&&(er[Ir]=Ue);er.sort(Ze)}return new wt(At,this._parents).order()}a(x,"selection_sort");function N(Ne,Ze){return Ne<Ze?-1:Ne>Ze?1:Ne>=Ze?0:NaN}a(N,"ascending");function m(){var Ne=arguments[0];return arguments[0]=this,Ne.apply(null,arguments),this}a(m,"selection_call");function v(){var Ne=new Array(this.size()),Ze=-1;return this.each(function(){Ne[++Ze]=this}),Ne}a(v,"selection_nodes");function A(){for(var Ne=this._groups,Ze=0,Tt=Ne.length;Ze<Tt;++Ze)for(var Ft=Ne[Ze],At=0,Ot=Ft.length;At<Ot;++At){var Vt=Ft[At];if(Vt)return Vt}return null}a(A,"selection_node");function U(){var Ne=0;return this.each(function(){++Ne}),Ne}a(U,"selection_size");function G(){return!this.node()}a(G,"selection_empty");function K(Ne){for(var Ze=this._groups,Tt=0,Ft=Ze.length;Tt<Ft;++Tt)for(var At=Ze[Tt],Ot=0,Vt=At.length,Ct;Ot<Vt;++Ot)(Ct=At[Ot])&&Ne.call(Ct,Ct.__data__,Ot,At);return this}a(K,"selection_each");function Z(Ne){return function(){this.removeAttribute(Ne)}}a(Z,"attrRemove");function O(Ne){return function(){this.removeAttributeNS(Ne.space,Ne.local)}}a(O,"attrRemoveNS");function $(Ne,Ze){return function(){this.setAttribute(Ne,Ze)}}a($,"attrConstant");function L(Ne,Ze){return function(){this.setAttributeNS(Ne.space,Ne.local,Ze)}}a(L,"attrConstantNS");function ee(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?this.removeAttribute(Ne):this.setAttribute(Ne,Tt)}}a(ee,"attrFunction");function ve(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?this.removeAttributeNS(Ne.space,Ne.local):this.setAttributeNS(Ne.space,Ne.local,Tt)}}a(ve,"attrFunctionNS");function ye(Ne,Ze){var Tt=n(Ne);if(arguments.length<2){var Ft=this.node();return Tt.local?Ft.getAttributeNS(Tt.space,Tt.local):Ft.getAttribute(Tt)}return this.each((Ze==null?Tt.local?O:Z:typeof Ze=="function"?Tt.local?ve:ee:Tt.local?L:$)(Tt,Ze))}a(ye,"selection_attr");function se(Ne){return Ne.ownerDocument&&Ne.ownerDocument.defaultView||Ne.document&&Ne||Ne.defaultView}a(se,"defaultView");function be(Ne){return function(){this.style.removeProperty(Ne)}}a(be,"styleRemove");function Y(Ne,Ze,Tt){return function(){this.style.setProperty(Ne,Ze,Tt)}}a(Y,"styleConstant");function D(Ne,Ze,Tt){return function(){var Ft=Ze.apply(this,arguments);Ft==null?this.style.removeProperty(Ne):this.style.setProperty(Ne,Ft,Tt)}}a(D,"styleFunction");function J(Ne,Ze,Tt){return arguments.length>1?this.each((Ze==null?be:typeof Ze=="function"?D:Y)(Ne,Ze,Tt??"")):q(this.node(),Ne)}a(J,"selection_style");function q(Ne,Ze){return Ne.style.getPropertyValue(Ze)||se(Ne).getComputedStyle(Ne,null).getPropertyValue(Ze)}a(q,"styleValue");function I(Ne){return function(){delete this[Ne]}}a(I,"propertyRemove");function H(Ne,Ze){return function(){this[Ne]=Ze}}a(H,"propertyConstant");function te(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?delete this[Ne]:this[Ne]=Tt}}a(te,"propertyFunction");function ie(Ne,Ze){return arguments.length>1?this.each((Ze==null?I:typeof Ze=="function"?te:H)(Ne,Ze)):this.node()[Ne]}a(ie,"selection_property");function he(Ne){return Ne.trim().split(/^|\s+/)}a(he,"classArray");function De(Ne){return Ne.classList||new $e(Ne)}a(De,"classList");function $e(Ne){this._node=Ne,this._names=he(Ne.getAttribute("class")||"")}a($e,"ClassList"),$e.prototype={add:function(Ne){var Ze=this._names.indexOf(Ne);Ze<0&&(this._names.push(Ne),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Ne){var Ze=this._names.indexOf(Ne);Ze>=0&&(this._names.splice(Ze,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Ne){return this._names.indexOf(Ne)>=0}};function ze(Ne,Ze){for(var Tt=De(Ne),Ft=-1,At=Ze.length;++Ft<At;)Tt.add(Ze[Ft])}a(ze,"classedAdd");function Qe(Ne,Ze){for(var Tt=De(Ne),Ft=-1,At=Ze.length;++Ft<At;)Tt.remove(Ze[Ft])}a(Qe,"classedRemove");function je(Ne){return function(){ze(this,Ne)}}a(je,"classedTrue");function We(Ne){return function(){Qe(this,Ne)}}a(We,"classedFalse");function Ce(Ne,Ze){return function(){(Ze.apply(this,arguments)?ze:Qe)(this,Ne)}}a(Ce,"classedFunction");function Te(Ne,Ze){var Tt=he(Ne+"");if(arguments.length<2){for(var Ft=De(this.node()),At=-1,Ot=Tt.length;++At<Ot;)if(!Ft.contains(Tt[At]))return!1;return!0}return this.each((typeof Ze=="function"?Ce:Ze?je:We)(Tt,Ze))}a(Te,"selection_classed");function Je(){this.textContent=""}a(Je,"textRemove");function rt(Ne){return function(){this.textContent=Ne}}a(rt,"textConstant");function ge(Ne){return function(){var Ze=Ne.apply(this,arguments);this.textContent=Ze??""}}a(ge,"textFunction");function xe(Ne){return arguments.length?this.each(Ne==null?Je:(typeof Ne=="function"?ge:rt)(Ne)):this.node().textContent}a(xe,"selection_text");function qe(){this.innerHTML=""}a(qe,"htmlRemove");function ot(Ne){return function(){this.innerHTML=Ne}}a(ot,"htmlConstant");function at(Ne){return function(){var Ze=Ne.apply(this,arguments);this.innerHTML=Ze??""}}a(at,"htmlFunction");function pe(Ne){return arguments.length?this.each(Ne==null?qe:(typeof Ne=="function"?at:ot)(Ne)):this.node().innerHTML}a(pe,"selection_html");function Re(){this.nextSibling&&this.parentNode.appendChild(this)}a(Re,"raise");function He(){return this.each(Re)}a(He,"selection_raise");function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(tt,"lower");function Ve(){return this.each(tt)}a(Ve,"selection_lower");function et(Ne){var Ze=typeof Ne=="function"?Ne:o(Ne);return this.select(function(){return this.appendChild(Ze.apply(this,arguments))})}a(et,"selection_append");function gt(){return null}a(gt,"constantNull");function ut(Ne,Ze){var Tt=typeof Ne=="function"?Ne:o(Ne),Ft=Ze==null?gt:typeof Ze=="function"?Ze:l(Ze);return this.select(function(){return this.insertBefore(Tt.apply(this,arguments),Ft.apply(this,arguments)||null)})}a(ut,"selection_insert");function zt(){var Ne=this.parentNode;Ne&&Ne.removeChild(this)}a(zt,"remove");function it(){return this.each(zt)}a(it,"selection_remove");function Wt(){var Ne=this.cloneNode(!1),Ze=this.parentNode;return Ze?Ze.insertBefore(Ne,this.nextSibling):Ne}a(Wt,"selection_cloneShallow");function bt(){var Ne=this.cloneNode(!0),Ze=this.parentNode;return Ze?Ze.insertBefore(Ne,this.nextSibling):Ne}a(bt,"selection_cloneDeep");function Se(Ne){return this.select(Ne?bt:Wt)}a(Se,"selection_clone");function Ie(Ne){return arguments.length?this.property("__data__",Ne):this.node().__data__}a(Ie,"selection_datum");var ue={};if(e.event=null,typeof document<"u"){var _e=document.documentElement;"onmouseenter"in _e||(ue={mouseenter:"mouseover",mouseleave:"mouseout"})}function ae(Ne,Ze,Tt){return Ne=ce(Ne,Ze,Tt),function(Ft){var At=Ft.relatedTarget;(!At||At!==this&&!(At.compareDocumentPosition(this)&8))&&Ne.call(this,Ft)}}a(ae,"filterContextListener");function ce(Ne,Ze,Tt){return function(Ft){var At=e.event;e.event=Ft;try{Ne.call(this,this.__data__,Ze,Tt)}finally{e.event=At}}}a(ce,"contextListener");function re(Ne){return Ne.trim().split(/^|\s+/).map(function(Ze){var Tt="",Ft=Ze.indexOf(".");return Ft>=0&&(Tt=Ze.slice(Ft+1),Ze=Ze.slice(0,Ft)),{type:Ze,name:Tt}})}a(re,"parseTypenames");function le(Ne){return function(){var Ze=this.__on;if(!!Ze){for(var Tt=0,Ft=-1,At=Ze.length,Ot;Tt<At;++Tt)Ot=Ze[Tt],(!Ne.type||Ot.type===Ne.type)&&Ot.name===Ne.name?this.removeEventListener(Ot.type,Ot.listener,Ot.capture):Ze[++Ft]=Ot;++Ft?Ze.length=Ft:delete this.__on}}}a(le,"onRemove");function me(Ne,Ze,Tt){var Ft=ue.hasOwnProperty(Ne.type)?ae:ce;return function(At,Ot,Vt){var Ct=this.__on,er,Ue=Ft(Ze,Ot,Vt);if(Ct){for(var Ir=0,ct=Ct.length;Ir<ct;++Ir)if((er=Ct[Ir]).type===Ne.type&&er.name===Ne.name){this.removeEventListener(er.type,er.listener,er.capture),this.addEventListener(er.type,er.listener=Ue,er.capture=Tt),er.value=Ze;return}}this.addEventListener(Ne.type,Ue,Tt),er={type:Ne.type,name:Ne.name,value:Ze,listener:Ue,capture:Tt},Ct?Ct.push(er):this.__on=[er]}}a(me,"onAdd");function Ae(Ne,Ze,Tt){var Ft=re(Ne+""),At,Ot=Ft.length,Vt;if(arguments.length<2){var Ct=this.node().__on;if(Ct){for(var er=0,Ue=Ct.length,Ir;er<Ue;++er)for(At=0,Ir=Ct[er];At<Ot;++At)if((Vt=Ft[At]).type===Ir.type&&Vt.name===Ir.name)return Ir.value}return}for(Ct=Ze?me:le,Tt==null&&(Tt=!1),At=0;At<Ot;++At)this.each(Ct(Ft[At],Ze,Tt));return this}a(Ae,"selection_on");function Oe(Ne,Ze,Tt,Ft){var At=e.event;Ne.sourceEvent=e.event,e.event=Ne;try{return Ze.apply(Tt,Ft)}finally{e.event=At}}a(Oe,"customEvent");function Ge(Ne,Ze,Tt){var Ft=se(Ne),At=Ft.CustomEvent;typeof At=="function"?At=new At(Ze,Tt):(At=Ft.document.createEvent("Event"),Tt?(At.initEvent(Ze,Tt.bubbles,Tt.cancelable),At.detail=Tt.detail):At.initEvent(Ze,!1,!1)),Ne.dispatchEvent(At)}a(Ge,"dispatchEvent");function ke(Ne,Ze){return function(){return Ge(this,Ne,Ze)}}a(ke,"dispatchConstant");function st(Ne,Ze){return function(){return Ge(this,Ne,Ze.apply(this,arguments))}}a(st,"dispatchFunction");function yt(Ne,Ze){return this.each((typeof Ze=="function"?st:ke)(Ne,Ze))}a(yt,"selection_dispatch");var pt=[null];function wt(Ne,Ze){this._groups=Ne,this._parents=Ze}a(wt,"Selection");function Gt(){return new wt([[document.documentElement]],pt)}a(Gt,"selection"),wt.prototype=Gt.prototype={constructor:wt,select:f,selectAll:g,filter:E,data:B,enter:z,exit:S,join:T,merge:k,order:R,sort:x,call:m,nodes:v,node:A,size:U,empty:G,each:K,attr:ye,style:J,property:ie,classed:Te,text:xe,html:pe,raise:He,lower:Ve,append:et,insert:ut,remove:it,clone:Se,datum:Ie,on:Ae,dispatch:yt};function Pt(Ne){return typeof Ne=="string"?new wt([[document.querySelector(Ne)]],[document.documentElement]):new wt([[Ne]],pt)}a(Pt,"select");function tr(Ne){return Pt(o(Ne).call(document.documentElement))}a(tr,"create");var cr=0;function pr(){return new Cr}a(pr,"local");function Cr(){this._="@"+(++cr).toString(36)}a(Cr,"Local"),Cr.prototype=pr.prototype={constructor:Cr,get:function(Ne){for(var Ze=this._;!(Ze in Ne);)if(!(Ne=Ne.parentNode))return;return Ne[Ze]},set:function(Ne,Ze){return Ne[this._]=Ze},remove:function(Ne){return this._ in Ne&&delete Ne[this._]},toString:function(){return this._}};function Wr(){for(var Ne=e.event,Ze;Ze=Ne.sourceEvent;)Ne=Ze;return Ne}a(Wr,"sourceEvent");function Tr(Ne,Ze){var Tt=Ne.ownerSVGElement||Ne;if(Tt.createSVGPoint){var Ft=Tt.createSVGPoint();return Ft.x=Ze.clientX,Ft.y=Ze.clientY,Ft=Ft.matrixTransform(Ne.getScreenCTM().inverse()),[Ft.x,Ft.y]}var At=Ne.getBoundingClientRect();return[Ze.clientX-At.left-Ne.clientLeft,Ze.clientY-At.top-Ne.clientTop]}a(Tr,"point");function lr(Ne){var Ze=Wr();return Ze.changedTouches&&(Ze=Ze.changedTouches[0]),Tr(Ne,Ze)}a(lr,"mouse");function fr(Ne){return typeof Ne=="string"?new wt([document.querySelectorAll(Ne)],[document.documentElement]):new wt([Ne??[]],pt)}a(fr,"selectAll");function Mr(Ne,Ze,Tt){arguments.length<3&&(Tt=Ze,Ze=Wr().changedTouches);for(var Ft=0,At=Ze?Ze.length:0,Ot;Ft<At;++Ft)if((Ot=Ze[Ft]).identifier===Tt)return Tr(Ne,Ot);return null}a(Mr,"touch");function Br(Ne,Ze){Ze==null&&(Ze=Wr().touches);for(var Tt=0,Ft=Ze?Ze.length:0,At=new Array(Ft);Tt<Ft;++Tt)At[Tt]=Tr(Ne,Ze[Tt]);return At}a(Br,"touches"),e.clientPoint=Tr,e.create=tr,e.creator=o,e.customEvent=Oe,e.local=pr,e.matcher=y,e.mouse=lr,e.namespace=n,e.namespaces=r,e.select=Pt,e.selectAll=fr,e.selection=Gt,e.selector=l,e.selectorAll=p,e.style=q,e.touch=Mr,e.touches=Br,e.window=se,Object.defineProperty(e,"__esModule",{value:!0})})});var wT=j((xT,XTe)=>{d();(function(e,t){typeof xT=="object"&&typeof XTe<"u"?t(xT,ry(),hv()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-selection"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3))})(xT,function(e,t,r){"use strict";function n(){r.event.stopImmediatePropagation()}a(n,"nopropagation");function i(){r.event.preventDefault(),r.event.stopImmediatePropagation()}a(i,"noevent");function s(E){var M=E.document.documentElement,z=r.select(E).on("dragstart.drag",i,!0);"onselectstart"in M?z.on("selectstart.drag",i,!0):(M.__noselect=M.style.MozUserSelect,M.style.MozUserSelect="none")}a(s,"nodrag");function o(E,M){var z=E.document.documentElement,P=r.select(E).on("dragstart.drag",null);M&&(P.on("click.drag",i,!0),setTimeout(function(){P.on("click.drag",null)},0)),"onselectstart"in z?P.on("selectstart.drag",null):(z.style.MozUserSelect=z.__noselect,delete z.__noselect)}a(o,"yesdrag");function u(E){return function(){return E}}a(u,"constant");function l(E,M,z,P,Q,V,W,F,B,S){this.target=E,this.type=M,this.subject=z,this.identifier=P,this.active=Q,this.x=V,this.y=W,this.dx=F,this.dy=B,this._=S}a(l,"DragEvent"),l.prototype.on=function(){var E=this._.on.apply(this._,arguments);return E===this._?this:E};function f(){return!r.event.ctrlKey&&!r.event.button}a(f,"defaultFilter");function h(){return this.parentNode}a(h,"defaultContainer");function p(E){return E??{x:r.event.x,y:r.event.y}}a(p,"defaultSubject");function g(){return navigator.maxTouchPoints||"ontouchstart"in this}a(g,"defaultTouchable");function y(){var E=f,M=h,z=p,P=g,Q={},V=t.dispatch("start","drag","end"),W=0,F,B,S,T,k=0;function R(K){K.on("mousedown.drag",x).filter(P).on("touchstart.drag",v).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(R,"drag");function x(){if(!(T||!E.apply(this,arguments))){var K=G("mouse",M.apply(this,arguments),r.mouse,this,arguments);!K||(r.select(r.event.view).on("mousemove.drag",N,!0).on("mouseup.drag",m,!0),s(r.event.view),n(),S=!1,F=r.event.clientX,B=r.event.clientY,K("start"))}}a(x,"mousedowned");function N(){if(i(),!S){var K=r.event.clientX-F,Z=r.event.clientY-B;S=K*K+Z*Z>k}Q.mouse("drag")}a(N,"mousemoved");function m(){r.select(r.event.view).on("mousemove.drag mouseup.drag",null),o(r.event.view,S),i(),Q.mouse("end")}a(m,"mouseupped");function v(){if(!!E.apply(this,arguments)){var K=r.event.changedTouches,Z=M.apply(this,arguments),O=K.length,$,L;for($=0;$<O;++$)(L=G(K[$].identifier,Z,r.touch,this,arguments))&&(n(),L("start"))}}a(v,"touchstarted");function A(){var K=r.event.changedTouches,Z=K.length,O,$;for(O=0;O<Z;++O)($=Q[K[O].identifier])&&(i(),$("drag"))}a(A,"touchmoved");function U(){var K=r.event.changedTouches,Z=K.length,O,$;for(T&&clearTimeout(T),T=setTimeout(function(){T=null},500),O=0;O<Z;++O)($=Q[K[O].identifier])&&(n(),$("end"))}a(U,"touchended");function G(K,Z,O,$,L){var ee=O(Z,K),ve,ye,se,be=V.copy();if(!!r.customEvent(new l(R,"beforestart",ve,K,W,ee[0],ee[1],0,0,be),function(){return(r.event.subject=ve=z.apply($,L))==null?!1:(ye=ve.x-ee[0]||0,se=ve.y-ee[1]||0,!0)}))return a(function Y(D){var J=ee,q;switch(D){case"start":Q[K]=Y,q=W++;break;case"end":delete Q[K],--W;case"drag":ee=O(Z,K),q=W;break}r.customEvent(new l(R,D,ve,K,q,ee[0]+ye,ee[1]+se,ee[0]-J[0],ee[1]-J[1],be),be.apply,be,[D,$,L])},"gesture")}return a(G,"beforestart"),R.filter=function(K){return arguments.length?(E=typeof K=="function"?K:u(!!K),R):E},R.container=function(K){return arguments.length?(M=typeof K=="function"?K:u(K),R):M},R.subject=function(K){return arguments.length?(z=typeof K=="function"?K:u(K),R):z},R.touchable=function(K){return arguments.length?(P=typeof K=="function"?K:u(!!K),R):P},R.on=function(){var K=V.on.apply(V,arguments);return K===V?R:K},R.clickDistance=function(K){return arguments.length?(k=(K=+K)*K,R):Math.sqrt(k)},R}a(y,"drag"),e.drag=y,e.dragDisable=s,e.dragEnable=o,Object.defineProperty(e,"__esModule",{value:!0})})});var T5=j((AT,JTe)=>{d();(function(e,t){typeof AT=="object"&&typeof JTe<"u"?t(AT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(AT,function(e){"use strict";function t(pe,Re,He){pe.prototype=Re.prototype=He,He.constructor=pe}a(t,"define");function r(pe,Re){var He=Object.create(pe.prototype);for(var tt in Re)He[tt]=Re[tt];return He}a(r,"extend");function n(){}a(n,"Color");var i=.7,s=1/i,o="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),p=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),g=new RegExp("^rgba\\("+[o,o,o,u]+"\\)$"),y=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),E=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),M=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(n,W,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:P,formatHex:P,formatHsl:Q,formatRgb:V,toString:V});function P(){return this.rgb().formatHex()}a(P,"color_formatHex");function Q(){return v(this).formatHsl()}a(Q,"color_formatHsl");function V(){return this.rgb().formatRgb()}a(V,"color_formatRgb");function W(pe){var Re,He;return pe=(pe+"").trim().toLowerCase(),(Re=f.exec(pe))?(He=Re[1].length,Re=parseInt(Re[1],16),He===6?F(Re):He===3?new k(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):He===8?B(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):He===4?B(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=h.exec(pe))?new k(Re[1],Re[2],Re[3],1):(Re=p.exec(pe))?new k(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=g.exec(pe))?B(Re[1],Re[2],Re[3],Re[4]):(Re=y.exec(pe))?B(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=E.exec(pe))?m(Re[1],Re[2]/100,Re[3]/100,1):(Re=M.exec(pe))?m(Re[1],Re[2]/100,Re[3]/100,Re[4]):z.hasOwnProperty(pe)?F(z[pe]):pe==="transparent"?new k(NaN,NaN,NaN,0):null}a(W,"color");function F(pe){return new k(pe>>16&255,pe>>8&255,pe&255,1)}a(F,"rgbn");function B(pe,Re,He,tt){return tt<=0&&(pe=Re=He=NaN),new k(pe,Re,He,tt)}a(B,"rgba");function S(pe){return pe instanceof n||(pe=W(pe)),pe?(pe=pe.rgb(),new k(pe.r,pe.g,pe.b,pe.opacity)):new k}a(S,"rgbConvert");function T(pe,Re,He,tt){return arguments.length===1?S(pe):new k(pe,Re,He,tt??1)}a(T,"rgb");function k(pe,Re,He,tt){this.r=+pe,this.g=+Re,this.b=+He,this.opacity=+tt}a(k,"Rgb"),t(k,T,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new k(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new k(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R,formatHex:R,formatRgb:x,toString:x}));function R(){return"#"+N(this.r)+N(this.g)+N(this.b)}a(R,"rgb_formatHex");function x(){var pe=this.opacity;return pe=isNaN(pe)?1:Math.max(0,Math.min(1,pe)),(pe===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(pe===1?")":", "+pe+")")}a(x,"rgb_formatRgb");function N(pe){return pe=Math.max(0,Math.min(255,Math.round(pe)||0)),(pe<16?"0":"")+pe.toString(16)}a(N,"hex");function m(pe,Re,He,tt){return tt<=0?pe=Re=He=NaN:He<=0||He>=1?pe=Re=NaN:Re<=0&&(pe=NaN),new U(pe,Re,He,tt)}a(m,"hsla");function v(pe){if(pe instanceof U)return new U(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof n||(pe=W(pe)),!pe)return new U;if(pe instanceof U)return pe;pe=pe.rgb();var Re=pe.r/255,He=pe.g/255,tt=pe.b/255,Ve=Math.min(Re,He,tt),et=Math.max(Re,He,tt),gt=NaN,ut=et-Ve,zt=(et+Ve)/2;return ut?(Re===et?gt=(He-tt)/ut+(He<tt)*6:He===et?gt=(tt-Re)/ut+2:gt=(Re-He)/ut+4,ut/=zt<.5?et+Ve:2-et-Ve,gt*=60):ut=zt>0&&zt<1?0:gt,new U(gt,ut,zt,pe.opacity)}a(v,"hslConvert");function A(pe,Re,He,tt){return arguments.length===1?v(pe):new U(pe,Re,He,tt??1)}a(A,"hsl");function U(pe,Re,He,tt){this.h=+pe,this.s=+Re,this.l=+He,this.opacity=+tt}a(U,"Hsl"),t(U,A,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new U(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new U(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+(this.h<0)*360,Re=isNaN(pe)||isNaN(this.s)?0:this.s,He=this.l,tt=He+(He<.5?He:1-He)*Re,Ve=2*He-tt;return new k(G(pe>=240?pe-240:pe+120,Ve,tt),G(pe,Ve,tt),G(pe<120?pe+240:pe-120,Ve,tt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=this.opacity;return pe=isNaN(pe)?1:Math.max(0,Math.min(1,pe)),(pe===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(pe===1?")":", "+pe+")")}}));function G(pe,Re,He){return(pe<60?Re+(He-Re)*pe/60:pe<180?He:pe<240?Re+(He-Re)*(240-pe)/60:Re)*255}a(G,"hsl2rgb");var K=Math.PI/180,Z=180/Math.PI,O=18,$=.96422,L=1,ee=.82521,ve=4/29,ye=6/29,se=3*ye*ye,be=ye*ye*ye;function Y(pe){if(pe instanceof q)return new q(pe.l,pe.a,pe.b,pe.opacity);if(pe instanceof ze)return Qe(pe);pe instanceof k||(pe=S(pe));var Re=ie(pe.r),He=ie(pe.g),tt=ie(pe.b),Ve=I((.2225045*Re+.7168786*He+.0606169*tt)/L),et,gt;return Re===He&&He===tt?et=gt=Ve:(et=I((.4360747*Re+.3850649*He+.1430804*tt)/$),gt=I((.0139322*Re+.0971045*He+.7141733*tt)/ee)),new q(116*Ve-16,500*(et-Ve),200*(Ve-gt),pe.opacity)}a(Y,"labConvert");function D(pe,Re){return new q(pe,0,0,Re??1)}a(D,"gray");function J(pe,Re,He,tt){return arguments.length===1?Y(pe):new q(pe,Re,He,tt??1)}a(J,"lab");function q(pe,Re,He,tt){this.l=+pe,this.a=+Re,this.b=+He,this.opacity=+tt}a(q,"Lab"),t(q,J,r(n,{brighter:function(pe){return new q(this.l+O*(pe??1),this.a,this.b,this.opacity)},darker:function(pe){return new q(this.l-O*(pe??1),this.a,this.b,this.opacity)},rgb:function(){var pe=(this.l+16)/116,Re=isNaN(this.a)?pe:pe+this.a/500,He=isNaN(this.b)?pe:pe-this.b/200;return Re=$*H(Re),pe=L*H(pe),He=ee*H(He),new k(te(3.1338561*Re-1.6168667*pe-.4906146*He),te(-.9787684*Re+1.9161415*pe+.033454*He),te(.0719453*Re-.2289914*pe+1.4052427*He),this.opacity)}}));function I(pe){return pe>be?Math.pow(pe,1/3):pe/se+ve}a(I,"xyz2lab");function H(pe){return pe>ye?pe*pe*pe:se*(pe-ve)}a(H,"lab2xyz");function te(pe){return 255*(pe<=.0031308?12.92*pe:1.055*Math.pow(pe,1/2.4)-.055)}a(te,"lrgb2rgb");function ie(pe){return(pe/=255)<=.04045?pe/12.92:Math.pow((pe+.055)/1.055,2.4)}a(ie,"rgb2lrgb");function he(pe){if(pe instanceof ze)return new ze(pe.h,pe.c,pe.l,pe.opacity);if(pe instanceof q||(pe=Y(pe)),pe.a===0&&pe.b===0)return new ze(NaN,0<pe.l&&pe.l<100?0:NaN,pe.l,pe.opacity);var Re=Math.atan2(pe.b,pe.a)*Z;return new ze(Re<0?Re+360:Re,Math.sqrt(pe.a*pe.a+pe.b*pe.b),pe.l,pe.opacity)}a(he,"hclConvert");function De(pe,Re,He,tt){return arguments.length===1?he(pe):new ze(He,Re,pe,tt??1)}a(De,"lch");function $e(pe,Re,He,tt){return arguments.length===1?he(pe):new ze(pe,Re,He,tt??1)}a($e,"hcl");function ze(pe,Re,He,tt){this.h=+pe,this.c=+Re,this.l=+He,this.opacity=+tt}a(ze,"Hcl");function Qe(pe){if(isNaN(pe.h))return new q(pe.l,0,0,pe.opacity);var Re=pe.h*K;return new q(pe.l,Math.cos(Re)*pe.c,Math.sin(Re)*pe.c,pe.opacity)}a(Qe,"hcl2lab"),t(ze,$e,r(n,{brighter:function(pe){return new ze(this.h,this.c,this.l+O*(pe??1),this.opacity)},darker:function(pe){return new ze(this.h,this.c,this.l-O*(pe??1),this.opacity)},rgb:function(){return Qe(this).rgb()}}));var je=-.14861,We=1.78277,Ce=-.29227,Te=-.90649,Je=1.97294,rt=Je*Te,ge=Je*We,xe=We*Ce-Te*je;function qe(pe){if(pe instanceof at)return new at(pe.h,pe.s,pe.l,pe.opacity);pe instanceof k||(pe=S(pe));var Re=pe.r/255,He=pe.g/255,tt=pe.b/255,Ve=(xe*tt+rt*Re-ge*He)/(xe+rt-ge),et=tt-Ve,gt=(Je*(He-Ve)-Ce*et)/Te,ut=Math.sqrt(gt*gt+et*et)/(Je*Ve*(1-Ve)),zt=ut?Math.atan2(gt,et)*Z-120:NaN;return new at(zt<0?zt+360:zt,ut,Ve,pe.opacity)}a(qe,"cubehelixConvert");function ot(pe,Re,He,tt){return arguments.length===1?qe(pe):new at(pe,Re,He,tt??1)}a(ot,"cubehelix");function at(pe,Re,He,tt){this.h=+pe,this.s=+Re,this.l=+He,this.opacity=+tt}a(at,"Cubehelix"),t(at,ot,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new at(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new at(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=isNaN(this.h)?0:(this.h+120)*K,Re=+this.l,He=isNaN(this.s)?0:this.s*Re*(1-Re),tt=Math.cos(pe),Ve=Math.sin(pe);return new k(255*(Re+He*(je*tt+We*Ve)),255*(Re+He*(Ce*tt+Te*Ve)),255*(Re+He*(Je*tt)),this.opacity)}})),e.color=W,e.cubehelix=ot,e.gray=D,e.hcl=$e,e.hsl=A,e.lab=J,e.lch=De,e.rgb=T,Object.defineProperty(e,"__esModule",{value:!0})})});var ny=j((ET,ZTe)=>{d();(function(e,t){typeof ET=="object"&&typeof ZTe<"u"?t(ET,T5()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(ET,function(e,t){"use strict";function r(ge,xe,qe,ot,at){var pe=ge*ge,Re=pe*ge;return((1-3*ge+3*pe-Re)*xe+(4-6*pe+3*Re)*qe+(1+3*ge+3*pe-3*Re)*ot+Re*at)/6}a(r,"basis");function n(ge){var xe=ge.length-1;return function(qe){var ot=qe<=0?qe=0:qe>=1?(qe=1,xe-1):Math.floor(qe*xe),at=ge[ot],pe=ge[ot+1],Re=ot>0?ge[ot-1]:2*at-pe,He=ot<xe-1?ge[ot+2]:2*pe-at;return r((qe-ot/xe)*xe,Re,at,pe,He)}}a(n,"basis$1");function i(ge){var xe=ge.length;return function(qe){var ot=Math.floor(((qe%=1)<0?++qe:qe)*xe),at=ge[(ot+xe-1)%xe],pe=ge[ot%xe],Re=ge[(ot+1)%xe],He=ge[(ot+2)%xe];return r((qe-ot/xe)*xe,at,pe,Re,He)}}a(i,"basisClosed");function s(ge){return function(){return ge}}a(s,"constant");function o(ge,xe){return function(qe){return ge+qe*xe}}a(o,"linear");function u(ge,xe,qe){return ge=Math.pow(ge,qe),xe=Math.pow(xe,qe)-ge,qe=1/qe,function(ot){return Math.pow(ge+ot*xe,qe)}}a(u,"exponential");function l(ge,xe){var qe=xe-ge;return qe?o(ge,qe>180||qe<-180?qe-360*Math.round(qe/360):qe):s(isNaN(ge)?xe:ge)}a(l,"hue");function f(ge){return(ge=+ge)==1?h:function(xe,qe){return qe-xe?u(xe,qe,ge):s(isNaN(xe)?qe:xe)}}a(f,"gamma");function h(ge,xe){var qe=xe-ge;return qe?o(ge,qe):s(isNaN(ge)?xe:ge)}a(h,"nogamma");var p=a(function ge(xe){var qe=f(xe);function ot(at,pe){var Re=qe((at=t.rgb(at)).r,(pe=t.rgb(pe)).r),He=qe(at.g,pe.g),tt=qe(at.b,pe.b),Ve=h(at.opacity,pe.opacity);return function(et){return at.r=Re(et),at.g=He(et),at.b=tt(et),at.opacity=Ve(et),at+""}}return a(ot,"rgb"),ot.gamma=ge,ot},"rgbGamma")(1);function g(ge){return function(xe){var qe=xe.length,ot=new Array(qe),at=new Array(qe),pe=new Array(qe),Re,He;for(Re=0;Re<qe;++Re)He=t.rgb(xe[Re]),ot[Re]=He.r||0,at[Re]=He.g||0,pe[Re]=He.b||0;return ot=ge(ot),at=ge(at),pe=ge(pe),He.opacity=1,function(tt){return He.r=ot(tt),He.g=at(tt),He.b=pe(tt),He+""}}}a(g,"rgbSpline");var y=g(n),E=g(i);function M(ge,xe){xe||(xe=[]);var qe=ge?Math.min(xe.length,ge.length):0,ot=xe.slice(),at;return function(pe){for(at=0;at<qe;++at)ot[at]=ge[at]*(1-pe)+xe[at]*pe;return ot}}a(M,"numberArray");function z(ge){return ArrayBuffer.isView(ge)&&!(ge instanceof DataView)}a(z,"isNumberArray");function P(ge,xe){return(z(xe)?M:Q)(ge,xe)}a(P,"array");function Q(ge,xe){var qe=xe?xe.length:0,ot=ge?Math.min(qe,ge.length):0,at=new Array(ot),pe=new Array(qe),Re;for(Re=0;Re<ot;++Re)at[Re]=x(ge[Re],xe[Re]);for(;Re<qe;++Re)pe[Re]=xe[Re];return function(He){for(Re=0;Re<ot;++Re)pe[Re]=at[Re](He);return pe}}a(Q,"genericArray");function V(ge,xe){var qe=new Date;return ge=+ge,xe=+xe,function(ot){return qe.setTime(ge*(1-ot)+xe*ot),qe}}a(V,"date");function W(ge,xe){return ge=+ge,xe=+xe,function(qe){return ge*(1-qe)+xe*qe}}a(W,"number");function F(ge,xe){var qe={},ot={},at;(ge===null||typeof ge!="object")&&(ge={}),(xe===null||typeof xe!="object")&&(xe={});for(at in xe)at in ge?qe[at]=x(ge[at],xe[at]):ot[at]=xe[at];return function(pe){for(at in qe)ot[at]=qe[at](pe);return ot}}a(F,"object");var B=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S=new RegExp(B.source,"g");function T(ge){return function(){return ge}}a(T,"zero");function k(ge){return function(xe){return ge(xe)+""}}a(k,"one");function R(ge,xe){var qe=B.lastIndex=S.lastIndex=0,ot,at,pe,Re=-1,He=[],tt=[];for(ge=ge+"",xe=xe+"";(ot=B.exec(ge))&&(at=S.exec(xe));)(pe=at.index)>qe&&(pe=xe.slice(qe,pe),He[Re]?He[Re]+=pe:He[++Re]=pe),(ot=ot[0])===(at=at[0])?He[Re]?He[Re]+=at:He[++Re]=at:(He[++Re]=null,tt.push({i:Re,x:W(ot,at)})),qe=S.lastIndex;return qe<xe.length&&(pe=xe.slice(qe),He[Re]?He[Re]+=pe:He[++Re]=pe),He.length<2?tt[0]?k(tt[0].x):T(xe):(xe=tt.length,function(Ve){for(var et=0,gt;et<xe;++et)He[(gt=tt[et]).i]=gt.x(Ve);return He.join("")})}a(R,"string");function x(ge,xe){var qe=typeof xe,ot;return xe==null||qe==="boolean"?s(xe):(qe==="number"?W:qe==="string"?(ot=t.color(xe))?(xe=ot,p):R:xe instanceof t.color?p:xe instanceof Date?V:z(xe)?M:Array.isArray(xe)?Q:typeof xe.valueOf!="function"&&typeof xe.toString!="function"||isNaN(xe)?F:W)(ge,xe)}a(x,"value");function N(ge){var xe=ge.length;return function(qe){return ge[Math.max(0,Math.min(xe-1,Math.floor(qe*xe)))]}}a(N,"discrete");function m(ge,xe){var qe=l(+ge,+xe);return function(ot){var at=qe(ot);return at-360*Math.floor(at/360)}}a(m,"hue$1");function v(ge,xe){return ge=+ge,xe=+xe,function(qe){return Math.round(ge*(1-qe)+xe*qe)}}a(v,"round");var A=180/Math.PI,U={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function G(ge,xe,qe,ot,at,pe){var Re,He,tt;return(Re=Math.sqrt(ge*ge+xe*xe))&&(ge/=Re,xe/=Re),(tt=ge*qe+xe*ot)&&(qe-=ge*tt,ot-=xe*tt),(He=Math.sqrt(qe*qe+ot*ot))&&(qe/=He,ot/=He,tt/=He),ge*ot<xe*qe&&(ge=-ge,xe=-xe,tt=-tt,Re=-Re),{translateX:at,translateY:pe,rotate:Math.atan2(xe,ge)*A,skewX:Math.atan(tt)*A,scaleX:Re,scaleY:He}}a(G,"decompose");var K,Z,O,$;function L(ge){return ge==="none"?U:(K||(K=document.createElement("DIV"),Z=document.documentElement,O=document.defaultView),K.style.transform=ge,ge=O.getComputedStyle(Z.appendChild(K),null).getPropertyValue("transform"),Z.removeChild(K),ge=ge.slice(7,-1).split(","),G(+ge[0],+ge[1],+ge[2],+ge[3],+ge[4],+ge[5]))}a(L,"parseCss");function ee(ge){return ge==null||($||($=document.createElementNS("http://www.w3.org/2000/svg","g")),$.setAttribute("transform",ge),!(ge=$.transform.baseVal.consolidate()))?U:(ge=ge.matrix,G(ge.a,ge.b,ge.c,ge.d,ge.e,ge.f))}a(ee,"parseSvg");function ve(ge,xe,qe,ot){function at(Ve){return Ve.length?Ve.pop()+" ":""}a(at,"pop");function pe(Ve,et,gt,ut,zt,it){if(Ve!==gt||et!==ut){var Wt=zt.push("translate(",null,xe,null,qe);it.push({i:Wt-4,x:W(Ve,gt)},{i:Wt-2,x:W(et,ut)})}else(gt||ut)&&zt.push("translate("+gt+xe+ut+qe)}a(pe,"translate");function Re(Ve,et,gt,ut){Ve!==et?(Ve-et>180?et+=360:et-Ve>180&&(Ve+=360),ut.push({i:gt.push(at(gt)+"rotate(",null,ot)-2,x:W(Ve,et)})):et&&gt.push(at(gt)+"rotate("+et+ot)}a(Re,"rotate");function He(Ve,et,gt,ut){Ve!==et?ut.push({i:gt.push(at(gt)+"skewX(",null,ot)-2,x:W(Ve,et)}):et&&gt.push(at(gt)+"skewX("+et+ot)}a(He,"skewX");function tt(Ve,et,gt,ut,zt,it){if(Ve!==gt||et!==ut){var Wt=zt.push(at(zt)+"scale(",null,",",null,")");it.push({i:Wt-4,x:W(Ve,gt)},{i:Wt-2,x:W(et,ut)})}else(gt!==1||ut!==1)&&zt.push(at(zt)+"scale("+gt+","+ut+")")}return a(tt,"scale"),function(Ve,et){var gt=[],ut=[];return Ve=ge(Ve),et=ge(et),pe(Ve.translateX,Ve.translateY,et.translateX,et.translateY,gt,ut),Re(Ve.rotate,et.rotate,gt,ut),He(Ve.skewX,et.skewX,gt,ut),tt(Ve.scaleX,Ve.scaleY,et.scaleX,et.scaleY,gt,ut),Ve=et=null,function(zt){for(var it=-1,Wt=ut.length,bt;++it<Wt;)gt[(bt=ut[it]).i]=bt.x(zt);return gt.join("")}}}a(ve,"interpolateTransform");var ye=ve(L,"px, ","px)","deg)"),se=ve(ee,", ",")",")"),be=Math.SQRT2,Y=2,D=4,J=1e-12;function q(ge){return((ge=Math.exp(ge))+1/ge)/2}a(q,"cosh");function I(ge){return((ge=Math.exp(ge))-1/ge)/2}a(I,"sinh");function H(ge){return((ge=Math.exp(2*ge))-1)/(ge+1)}a(H,"tanh");function te(ge,xe){var qe=ge[0],ot=ge[1],at=ge[2],pe=xe[0],Re=xe[1],He=xe[2],tt=pe-qe,Ve=Re-ot,et=tt*tt+Ve*Ve,gt,ut;if(et<J)ut=Math.log(He/at)/be,gt=a(function(Ie){return[qe+Ie*tt,ot+Ie*Ve,at*Math.exp(be*Ie*ut)]},"i");else{var zt=Math.sqrt(et),it=(He*He-at*at+D*et)/(2*at*Y*zt),Wt=(He*He-at*at-D*et)/(2*He*Y*zt),bt=Math.log(Math.sqrt(it*it+1)-it),Se=Math.log(Math.sqrt(Wt*Wt+1)-Wt);ut=(Se-bt)/be,gt=a(function(Ie){var ue=Ie*ut,_e=q(bt),ae=at/(Y*zt)*(_e*H(be*ue+bt)-I(bt));return[qe+ae*tt,ot+ae*Ve,at*_e/q(be*ue+bt)]},"i")}return gt.duration=ut*1e3,gt}a(te,"zoom");function ie(ge){return function(xe,qe){var ot=ge((xe=t.hsl(xe)).h,(qe=t.hsl(qe)).h),at=h(xe.s,qe.s),pe=h(xe.l,qe.l),Re=h(xe.opacity,qe.opacity);return function(He){return xe.h=ot(He),xe.s=at(He),xe.l=pe(He),xe.opacity=Re(He),xe+""}}}a(ie,"hsl");var he=ie(l),De=ie(h);function $e(ge,xe){var qe=h((ge=t.lab(ge)).l,(xe=t.lab(xe)).l),ot=h(ge.a,xe.a),at=h(ge.b,xe.b),pe=h(ge.opacity,xe.opacity);return function(Re){return ge.l=qe(Re),ge.a=ot(Re),ge.b=at(Re),ge.opacity=pe(Re),ge+""}}a($e,"lab");function ze(ge){return function(xe,qe){var ot=ge((xe=t.hcl(xe)).h,(qe=t.hcl(qe)).h),at=h(xe.c,qe.c),pe=h(xe.l,qe.l),Re=h(xe.opacity,qe.opacity);return function(He){return xe.h=ot(He),xe.c=at(He),xe.l=pe(He),xe.opacity=Re(He),xe+""}}}a(ze,"hcl");var Qe=ze(l),je=ze(h);function We(ge){return a(function xe(qe){qe=+qe;function ot(at,pe){var Re=ge((at=t.cubehelix(at)).h,(pe=t.cubehelix(pe)).h),He=h(at.s,pe.s),tt=h(at.l,pe.l),Ve=h(at.opacity,pe.opacity);return function(et){return at.h=Re(et),at.s=He(et),at.l=tt(Math.pow(et,qe)),at.opacity=Ve(et),at+""}}return a(ot,"cubehelix"),ot.gamma=xe,ot},"cubehelixGamma")(1)}a(We,"cubehelix");var Ce=We(l),Te=We(h);function Je(ge,xe){for(var qe=0,ot=xe.length-1,at=xe[0],pe=new Array(ot<0?0:ot);qe<ot;)pe[qe]=ge(at,at=xe[++qe]);return function(Re){var He=Math.max(0,Math.min(ot-1,Math.floor(Re*=ot)));return pe[He](Re-He)}}a(Je,"piecewise");function rt(ge,xe){for(var qe=new Array(xe),ot=0;ot<xe;++ot)qe[ot]=ge(ot/(xe-1));return qe}a(rt,"quantize"),e.interpolate=x,e.interpolateArray=P,e.interpolateBasis=n,e.interpolateBasisClosed=i,e.interpolateCubehelix=Ce,e.interpolateCubehelixLong=Te,e.interpolateDate=V,e.interpolateDiscrete=N,e.interpolateHcl=Qe,e.interpolateHclLong=je,e.interpolateHsl=he,e.interpolateHslLong=De,e.interpolateHue=m,e.interpolateLab=$e,e.interpolateNumber=W,e.interpolateNumberArray=M,e.interpolateObject=F,e.interpolateRgb=p,e.interpolateRgbBasis=y,e.interpolateRgbBasisClosed=E,e.interpolateRound=v,e.interpolateString=R,e.interpolateTransformCss=ye,e.interpolateTransformSvg=se,e.interpolateZoom=te,e.piecewise=Je,e.quantize=rt,Object.defineProperty(e,"__esModule",{value:!0})})});var kT=j((ST,eMe)=>{d();(function(e,t){typeof ST=="object"&&typeof eMe<"u"?t(ST):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(ST,function(e){"use strict";var t=0,r=0,n=0,i=1e3,s,o,u=0,l=0,f=0,h=typeof performance=="object"&&performance.now?performance:Date,p=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(S){setTimeout(S,17)};function g(){return l||(p(y),l=h.now()+f)}a(g,"now");function y(){l=0}a(y,"clearNow");function E(){this._call=this._time=this._next=null}a(E,"Timer"),E.prototype=M.prototype={constructor:E,restart:function(S,T,k){if(typeof S!="function")throw new TypeError("callback is not a function");k=(k==null?g():+k)+(T==null?0:+T),!this._next&&o!==this&&(o?o._next=this:s=this,o=this),this._call=S,this._time=k,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};function M(S,T,k){var R=new E;return R.restart(S,T,k),R}a(M,"timer");function z(){g(),++t;for(var S=s,T;S;)(T=l-S._time)>=0&&S._call.call(null,T),S=S._next;--t}a(z,"timerFlush");function P(){l=(u=h.now())+f,t=r=0;try{z()}finally{t=0,V(),l=0}}a(P,"wake");function Q(){var S=h.now(),T=S-u;T>i&&(f-=T,u=S)}a(Q,"poke");function V(){for(var S,T=s,k,R=1/0;T;)T._call?(R>T._time&&(R=T._time),S=T,T=T._next):(k=T._next,T._next=null,T=S?S._next=k:s=k);o=S,W(R)}a(V,"nap");function W(S){if(!t){r&&(r=clearTimeout(r));var T=S-l;T>24?(S<1/0&&(r=setTimeout(P,S-h.now()-f)),n&&(n=clearInterval(n))):(n||(u=h.now(),n=setInterval(Q,i)),t=1,p(P))}}a(W,"sleep");function F(S,T,k){var R=new E;return T=T==null?0:+T,R.restart(function(x){R.stop(),S(x+T)},T,k),R}a(F,"timeout$1");function B(S,T,k){var R=new E,x=T;return T==null?(R.restart(S,T,k),R):(T=+T,k=k==null?g():+k,R.restart(a(function N(m){m+=x,R.restart(N,x+=T,k),S(m)},"tick"),T,k),R)}a(B,"interval$1"),e.interval=B,e.now=g,e.timeout=F,e.timer=M,e.timerFlush=z,Object.defineProperty(e,"__esModule",{value:!0})})});var TG=j((CT,tMe)=>{d();(function(e,t){typeof CT=="object"&&typeof tMe<"u"?t(CT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(CT,function(e){"use strict";function t(q){return+q}a(t,"linear");function r(q){return q*q}a(r,"quadIn");function n(q){return q*(2-q)}a(n,"quadOut");function i(q){return((q*=2)<=1?q*q:--q*(2-q)+1)/2}a(i,"quadInOut");function s(q){return q*q*q}a(s,"cubicIn");function o(q){return--q*q*q+1}a(o,"cubicOut");function u(q){return((q*=2)<=1?q*q*q:(q-=2)*q*q+2)/2}a(u,"cubicInOut");var l=3,f=a(function q(I){I=+I;function H(te){return Math.pow(te,I)}return a(H,"polyIn"),H.exponent=q,H},"custom")(l),h=a(function q(I){I=+I;function H(te){return 1-Math.pow(1-te,I)}return a(H,"polyOut"),H.exponent=q,H},"custom")(l),p=a(function q(I){I=+I;function H(te){return((te*=2)<=1?Math.pow(te,I):2-Math.pow(2-te,I))/2}return a(H,"polyInOut"),H.exponent=q,H},"custom")(l),g=Math.PI,y=g/2;function E(q){return+q==1?1:1-Math.cos(q*y)}a(E,"sinIn");function M(q){return Math.sin(q*y)}a(M,"sinOut");function z(q){return(1-Math.cos(g*q))/2}a(z,"sinInOut");function P(q){return(Math.pow(2,-10*q)-.0009765625)*1.0009775171065494}a(P,"tpmt");function Q(q){return P(1-+q)}a(Q,"expIn");function V(q){return 1-P(q)}a(V,"expOut");function W(q){return((q*=2)<=1?P(1-q):2-P(q-1))/2}a(W,"expInOut");function F(q){return 1-Math.sqrt(1-q*q)}a(F,"circleIn");function B(q){return Math.sqrt(1- --q*q)}a(B,"circleOut");function S(q){return((q*=2)<=1?1-Math.sqrt(1-q*q):Math.sqrt(1-(q-=2)*q)+1)/2}a(S,"circleInOut");var T=4/11,k=6/11,R=8/11,x=3/4,N=9/11,m=10/11,v=15/16,A=21/22,U=63/64,G=1/T/T;function K(q){return 1-Z(1-q)}a(K,"bounceIn");function Z(q){return(q=+q)<T?G*q*q:q<R?G*(q-=k)*q+x:q<m?G*(q-=N)*q+v:G*(q-=A)*q+U}a(Z,"bounceOut");function O(q){return((q*=2)<=1?1-Z(1-q):Z(q-1)+1)/2}a(O,"bounceInOut");var $=1.70158,L=a(function q(I){I=+I;function H(te){return(te=+te)*te*(I*(te-1)+te)}return a(H,"backIn"),H.overshoot=q,H},"custom")($),ee=a(function q(I){I=+I;function H(te){return--te*te*((te+1)*I+te)+1}return a(H,"backOut"),H.overshoot=q,H},"custom")($),ve=a(function q(I){I=+I;function H(te){return((te*=2)<1?te*te*((I+1)*te-I):(te-=2)*te*((I+1)*te+I)+2)/2}return a(H,"backInOut"),H.overshoot=q,H},"custom")($),ye=2*Math.PI,se=1,be=.3,Y=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return I*P(- --he)*Math.sin((te-he)/H)}return a(ie,"elasticIn"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be),D=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return 1-I*P(he=+he)*Math.sin((he+te)/H)}return a(ie,"elasticOut"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be),J=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return((he=he*2-1)<0?I*P(-he)*Math.sin((te-he)/H):2-I*P(he)*Math.sin((te+he)/H))/2}return a(ie,"elasticInOut"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be);e.easeBack=ve,e.easeBackIn=L,e.easeBackInOut=ve,e.easeBackOut=ee,e.easeBounce=Z,e.easeBounceIn=K,e.easeBounceInOut=O,e.easeBounceOut=Z,e.easeCircle=S,e.easeCircleIn=F,e.easeCircleInOut=S,e.easeCircleOut=B,e.easeCubic=u,e.easeCubicIn=s,e.easeCubicInOut=u,e.easeCubicOut=o,e.easeElastic=D,e.easeElasticIn=Y,e.easeElasticInOut=J,e.easeElasticOut=D,e.easeExp=W,e.easeExpIn=Q,e.easeExpInOut=W,e.easeExpOut=V,e.easeLinear=t,e.easePoly=p,e.easePolyIn=f,e.easePolyInOut=p,e.easePolyOut=h,e.easeQuad=i,e.easeQuadIn=r,e.easeQuadInOut=i,e.easeQuadOut=n,e.easeSin=z,e.easeSinIn=E,e.easeSinInOut=z,e.easeSinOut=M,Object.defineProperty(e,"__esModule",{value:!0})})});var TT=j((IT,rMe)=>{d();(function(e,t){typeof IT=="object"&&typeof rMe<"u"?t(IT,hv(),ry(),kT(),ny(),T5(),TG()):typeof define=="function"&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(IT,function(e,t,r,n,i,s,o){"use strict";var u=r.dispatch("start","end","cancel","interrupt"),l=[],f=0,h=1,p=2,g=3,y=4,E=5,M=6;function z(re,le,me,Ae,Oe,Ge){var ke=re.__transition;if(!ke)re.__transition={};else if(me in ke)return;W(re,me,{name:le,index:Ae,group:Oe,on:u,tween:l,time:Ge.time,delay:Ge.delay,duration:Ge.duration,ease:Ge.ease,timer:null,state:f})}a(z,"schedule");function P(re,le){var me=V(re,le);if(me.state>f)throw new Error("too late; already scheduled");return me}a(P,"init");function Q(re,le){var me=V(re,le);if(me.state>g)throw new Error("too late; already running");return me}a(Q,"set");function V(re,le){var me=re.__transition;if(!me||!(me=me[le]))throw new Error("transition not found");return me}a(V,"get");function W(re,le,me){var Ae=re.__transition,Oe;Ae[le]=me,me.timer=n.timer(Ge,0,me.time);function Ge(pt){me.state=h,me.timer.restart(ke,me.delay,me.time),me.delay<=pt&&ke(pt-me.delay)}a(Ge,"schedule");function ke(pt){var wt,Gt,Pt,tr;if(me.state!==h)return yt();for(wt in Ae)if(tr=Ae[wt],tr.name===me.name){if(tr.state===g)return n.timeout(ke);tr.state===y?(tr.state=M,tr.timer.stop(),tr.on.call("interrupt",re,re.__data__,tr.index,tr.group),delete Ae[wt]):+wt<le&&(tr.state=M,tr.timer.stop(),tr.on.call("cancel",re,re.__data__,tr.index,tr.group),delete Ae[wt])}if(n.timeout(function(){me.state===g&&(me.state=y,me.timer.restart(st,me.delay,me.time),st(pt))}),me.state=p,me.on.call("start",re,re.__data__,me.index,me.group),me.state===p){for(me.state=g,Oe=new Array(Pt=me.tween.length),wt=0,Gt=-1;wt<Pt;++wt)(tr=me.tween[wt].value.call(re,re.__data__,me.index,me.group))&&(Oe[++Gt]=tr);Oe.length=Gt+1}}a(ke,"start");function st(pt){for(var wt=pt<me.duration?me.ease.call(null,pt/me.duration):(me.timer.restart(yt),me.state=E,1),Gt=-1,Pt=Oe.length;++Gt<Pt;)Oe[Gt].call(re,wt);me.state===E&&(me.on.call("end",re,re.__data__,me.index,me.group),yt())}a(st,"tick");function yt(){me.state=M,me.timer.stop(),delete Ae[le];for(var pt in Ae)return;delete re.__transition}a(yt,"stop")}a(W,"create");function F(re,le){var me=re.__transition,Ae,Oe,Ge=!0,ke;if(!!me){le=le==null?null:le+"";for(ke in me){if((Ae=me[ke]).name!==le){Ge=!1;continue}Oe=Ae.state>p&&Ae.state<E,Ae.state=M,Ae.timer.stop(),Ae.on.call(Oe?"interrupt":"cancel",re,re.__data__,Ae.index,Ae.group),delete me[ke]}Ge&&delete re.__transition}}a(F,"interrupt");function B(re){return this.each(function(){F(this,re)})}a(B,"selection_interrupt");function S(re,le){var me,Ae;return function(){var Oe=Q(this,re),Ge=Oe.tween;if(Ge!==me){Ae=me=Ge;for(var ke=0,st=Ae.length;ke<st;++ke)if(Ae[ke].name===le){Ae=Ae.slice(),Ae.splice(ke,1);break}}Oe.tween=Ae}}a(S,"tweenRemove");function T(re,le,me){var Ae,Oe;if(typeof me!="function")throw new Error;return function(){var Ge=Q(this,re),ke=Ge.tween;if(ke!==Ae){Oe=(Ae=ke).slice();for(var st={name:le,value:me},yt=0,pt=Oe.length;yt<pt;++yt)if(Oe[yt].name===le){Oe[yt]=st;break}yt===pt&&Oe.push(st)}Ge.tween=Oe}}a(T,"tweenFunction");function k(re,le){var me=this._id;if(re+="",arguments.length<2){for(var Ae=V(this.node(),me).tween,Oe=0,Ge=Ae.length,ke;Oe<Ge;++Oe)if((ke=Ae[Oe]).name===re)return ke.value;return null}return this.each((le==null?S:T)(me,re,le))}a(k,"transition_tween");function R(re,le,me){var Ae=re._id;return re.each(function(){var Oe=Q(this,Ae);(Oe.value||(Oe.value={}))[le]=me.apply(this,arguments)}),function(Oe){return V(Oe,Ae).value[le]}}a(R,"tweenValue");function x(re,le){var me;return(typeof le=="number"?i.interpolateNumber:le instanceof s.color?i.interpolateRgb:(me=s.color(le))?(le=me,i.interpolateRgb):i.interpolateString)(re,le)}a(x,"interpolate");function N(re){return function(){this.removeAttribute(re)}}a(N,"attrRemove");function m(re){return function(){this.removeAttributeNS(re.space,re.local)}}a(m,"attrRemoveNS");function v(re,le,me){var Ae,Oe=me+"",Ge;return function(){var ke=this.getAttribute(re);return ke===Oe?null:ke===Ae?Ge:Ge=le(Ae=ke,me)}}a(v,"attrConstant");function A(re,le,me){var Ae,Oe=me+"",Ge;return function(){var ke=this.getAttributeNS(re.space,re.local);return ke===Oe?null:ke===Ae?Ge:Ge=le(Ae=ke,me)}}a(A,"attrConstantNS");function U(re,le,me){var Ae,Oe,Ge;return function(){var ke,st=me(this),yt;return st==null?void this.removeAttribute(re):(ke=this.getAttribute(re),yt=st+"",ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=le(Ae=ke,st)))}}a(U,"attrFunction");function G(re,le,me){var Ae,Oe,Ge;return function(){var ke,st=me(this),yt;return st==null?void this.removeAttributeNS(re.space,re.local):(ke=this.getAttributeNS(re.space,re.local),yt=st+"",ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=le(Ae=ke,st)))}}a(G,"attrFunctionNS");function K(re,le){var me=t.namespace(re),Ae=me==="transform"?i.interpolateTransformSvg:x;return this.attrTween(re,typeof le=="function"?(me.local?G:U)(me,Ae,R(this,"attr."+re,le)):le==null?(me.local?m:N)(me):(me.local?A:v)(me,Ae,le))}a(K,"transition_attr");function Z(re,le){return function(me){this.setAttribute(re,le.call(this,me))}}a(Z,"attrInterpolate");function O(re,le){return function(me){this.setAttributeNS(re.space,re.local,le.call(this,me))}}a(O,"attrInterpolateNS");function $(re,le){var me,Ae;function Oe(){var Ge=le.apply(this,arguments);return Ge!==Ae&&(me=(Ae=Ge)&&O(re,Ge)),me}return a(Oe,"tween"),Oe._value=le,Oe}a($,"attrTweenNS");function L(re,le){var me,Ae;function Oe(){var Ge=le.apply(this,arguments);return Ge!==Ae&&(me=(Ae=Ge)&&Z(re,Ge)),me}return a(Oe,"tween"),Oe._value=le,Oe}a(L,"attrTween");function ee(re,le){var me="attr."+re;if(arguments.length<2)return(me=this.tween(me))&&me._value;if(le==null)return this.tween(me,null);if(typeof le!="function")throw new Error;var Ae=t.namespace(re);return this.tween(me,(Ae.local?$:L)(Ae,le))}a(ee,"transition_attrTween");function ve(re,le){return function(){P(this,re).delay=+le.apply(this,arguments)}}a(ve,"delayFunction");function ye(re,le){return le=+le,function(){P(this,re).delay=le}}a(ye,"delayConstant");function se(re){var le=this._id;return arguments.length?this.each((typeof re=="function"?ve:ye)(le,re)):V(this.node(),le).delay}a(se,"transition_delay");function be(re,le){return function(){Q(this,re).duration=+le.apply(this,arguments)}}a(be,"durationFunction");function Y(re,le){return le=+le,function(){Q(this,re).duration=le}}a(Y,"durationConstant");function D(re){var le=this._id;return arguments.length?this.each((typeof re=="function"?be:Y)(le,re)):V(this.node(),le).duration}a(D,"transition_duration");function J(re,le){if(typeof le!="function")throw new Error;return function(){Q(this,re).ease=le}}a(J,"easeConstant");function q(re){var le=this._id;return arguments.length?this.each(J(le,re)):V(this.node(),le).ease}a(q,"transition_ease");function I(re){typeof re!="function"&&(re=t.matcher(re));for(var le=this._groups,me=le.length,Ae=new Array(me),Oe=0;Oe<me;++Oe)for(var Ge=le[Oe],ke=Ge.length,st=Ae[Oe]=[],yt,pt=0;pt<ke;++pt)(yt=Ge[pt])&&re.call(yt,yt.__data__,pt,Ge)&&st.push(yt);return new it(Ae,this._parents,this._name,this._id)}a(I,"transition_filter");function H(re){if(re._id!==this._id)throw new Error;for(var le=this._groups,me=re._groups,Ae=le.length,Oe=me.length,Ge=Math.min(Ae,Oe),ke=new Array(Ae),st=0;st<Ge;++st)for(var yt=le[st],pt=me[st],wt=yt.length,Gt=ke[st]=new Array(wt),Pt,tr=0;tr<wt;++tr)(Pt=yt[tr]||pt[tr])&&(Gt[tr]=Pt);for(;st<Ae;++st)ke[st]=le[st];return new it(ke,this._parents,this._name,this._id)}a(H,"transition_merge");function te(re){return(re+"").trim().split(/^|\s+/).every(function(le){var me=le.indexOf(".");return me>=0&&(le=le.slice(0,me)),!le||le==="start"})}a(te,"start");function ie(re,le,me){var Ae,Oe,Ge=te(le)?P:Q;return function(){var ke=Ge(this,re),st=ke.on;st!==Ae&&(Oe=(Ae=st).copy()).on(le,me),ke.on=Oe}}a(ie,"onFunction");function he(re,le){var me=this._id;return arguments.length<2?V(this.node(),me).on.on(re):this.each(ie(me,re,le))}a(he,"transition_on");function De(re){return function(){var le=this.parentNode;for(var me in this.__transition)if(+me!==re)return;le&&le.removeChild(this)}}a(De,"removeFunction");function $e(){return this.on("end.remove",De(this._id))}a($e,"transition_remove");function ze(re){var le=this._name,me=this._id;typeof re!="function"&&(re=t.selector(re));for(var Ae=this._groups,Oe=Ae.length,Ge=new Array(Oe),ke=0;ke<Oe;++ke)for(var st=Ae[ke],yt=st.length,pt=Ge[ke]=new Array(yt),wt,Gt,Pt=0;Pt<yt;++Pt)(wt=st[Pt])&&(Gt=re.call(wt,wt.__data__,Pt,st))&&("__data__"in wt&&(Gt.__data__=wt.__data__),pt[Pt]=Gt,z(pt[Pt],le,me,Pt,pt,V(wt,me)));return new it(Ge,this._parents,le,me)}a(ze,"transition_select");function Qe(re){var le=this._name,me=this._id;typeof re!="function"&&(re=t.selectorAll(re));for(var Ae=this._groups,Oe=Ae.length,Ge=[],ke=[],st=0;st<Oe;++st)for(var yt=Ae[st],pt=yt.length,wt,Gt=0;Gt<pt;++Gt)if(wt=yt[Gt]){for(var Pt=re.call(wt,wt.__data__,Gt,yt),tr,cr=V(wt,me),pr=0,Cr=Pt.length;pr<Cr;++pr)(tr=Pt[pr])&&z(tr,le,me,pr,Pt,cr);Ge.push(Pt),ke.push(wt)}return new it(Ge,ke,le,me)}a(Qe,"transition_selectAll");var je=t.selection.prototype.constructor;function We(){return new je(this._groups,this._parents)}a(We,"transition_selection");function Ce(re,le){var me,Ae,Oe;return function(){var Ge=t.style(this,re),ke=(this.style.removeProperty(re),t.style(this,re));return Ge===ke?null:Ge===me&&ke===Ae?Oe:Oe=le(me=Ge,Ae=ke)}}a(Ce,"styleNull");function Te(re){return function(){this.style.removeProperty(re)}}a(Te,"styleRemove");function Je(re,le,me){var Ae,Oe=me+"",Ge;return function(){var ke=t.style(this,re);return ke===Oe?null:ke===Ae?Ge:Ge=le(Ae=ke,me)}}a(Je,"styleConstant");function rt(re,le,me){var Ae,Oe,Ge;return function(){var ke=t.style(this,re),st=me(this),yt=st+"";return st==null&&(yt=st=(this.style.removeProperty(re),t.style(this,re))),ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=le(Ae=ke,st))}}a(rt,"styleFunction");function ge(re,le){var me,Ae,Oe,Ge="style."+le,ke="end."+Ge,st;return function(){var yt=Q(this,re),pt=yt.on,wt=yt.value[Ge]==null?st||(st=Te(le)):void 0;(pt!==me||Oe!==wt)&&(Ae=(me=pt).copy()).on(ke,Oe=wt),yt.on=Ae}}a(ge,"styleMaybeRemove");function xe(re,le,me){var Ae=(re+="")=="transform"?i.interpolateTransformCss:x;return le==null?this.styleTween(re,Ce(re,Ae)).on("end.style."+re,Te(re)):typeof le=="function"?this.styleTween(re,rt(re,Ae,R(this,"style."+re,le))).each(ge(this._id,re)):this.styleTween(re,Je(re,Ae,le),me).on("end.style."+re,null)}a(xe,"transition_style");function qe(re,le,me){return function(Ae){this.style.setProperty(re,le.call(this,Ae),me)}}a(qe,"styleInterpolate");function ot(re,le,me){var Ae,Oe;function Ge(){var ke=le.apply(this,arguments);return ke!==Oe&&(Ae=(Oe=ke)&&qe(re,ke,me)),Ae}return a(Ge,"tween"),Ge._value=le,Ge}a(ot,"styleTween");function at(re,le,me){var Ae="style."+(re+="");if(arguments.length<2)return(Ae=this.tween(Ae))&&Ae._value;if(le==null)return this.tween(Ae,null);if(typeof le!="function")throw new Error;return this.tween(Ae,ot(re,le,me??""))}a(at,"transition_styleTween");function pe(re){return function(){this.textContent=re}}a(pe,"textConstant");function Re(re){return function(){var le=re(this);this.textContent=le??""}}a(Re,"textFunction");function He(re){return this.tween("text",typeof re=="function"?Re(R(this,"text",re)):pe(re==null?"":re+""))}a(He,"transition_text");function tt(re){return function(le){this.textContent=re.call(this,le)}}a(tt,"textInterpolate");function Ve(re){var le,me;function Ae(){var Oe=re.apply(this,arguments);return Oe!==me&&(le=(me=Oe)&&tt(Oe)),le}return a(Ae,"tween"),Ae._value=re,Ae}a(Ve,"textTween");function et(re){var le="text";if(arguments.length<1)return(le=this.tween(le))&&le._value;if(re==null)return this.tween(le,null);if(typeof re!="function")throw new Error;return this.tween(le,Ve(re))}a(et,"transition_textTween");function gt(){for(var re=this._name,le=this._id,me=bt(),Ae=this._groups,Oe=Ae.length,Ge=0;Ge<Oe;++Ge)for(var ke=Ae[Ge],st=ke.length,yt,pt=0;pt<st;++pt)if(yt=ke[pt]){var wt=V(yt,le);z(yt,re,me,pt,ke,{time:wt.time+wt.delay+wt.duration,delay:0,duration:wt.duration,ease:wt.ease})}return new it(Ae,this._parents,re,me)}a(gt,"transition_transition");function ut(){var re,le,me=this,Ae=me._id,Oe=me.size();return new Promise(function(Ge,ke){var st={value:ke},yt={value:function(){--Oe===0&&Ge()}};me.each(function(){var pt=Q(this,Ae),wt=pt.on;wt!==re&&(le=(re=wt).copy(),le._.cancel.push(st),le._.interrupt.push(st),le._.end.push(yt)),pt.on=le})})}a(ut,"transition_end");var zt=0;function it(re,le,me,Ae){this._groups=re,this._parents=le,this._name=me,this._id=Ae}a(it,"Transition");function Wt(re){return t.selection().transition(re)}a(Wt,"transition");function bt(){return++zt}a(bt,"newId");var Se=t.selection.prototype;it.prototype=Wt.prototype={constructor:it,select:ze,selectAll:Qe,filter:I,merge:H,selection:We,transition:gt,call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:he,attr:K,attrTween:ee,style:xe,styleTween:at,text:He,textTween:et,remove:$e,tween:k,delay:se,duration:D,ease:q,end:ut};var Ie={time:null,delay:0,duration:250,ease:o.easeCubicInOut};function ue(re,le){for(var me;!(me=re.__transition)||!(me=me[le]);)if(!(re=re.parentNode))return Ie.time=n.now(),Ie;return me}a(ue,"inherit");function _e(re){var le,me;re instanceof it?(le=re._id,re=re._name):(le=bt(),(me=Ie).time=n.now(),re=re==null?null:re+"");for(var Ae=this._groups,Oe=Ae.length,Ge=0;Ge<Oe;++Ge)for(var ke=Ae[Ge],st=ke.length,yt,pt=0;pt<st;++pt)(yt=ke[pt])&&z(yt,re,le,pt,ke,me||ue(yt,le));return new it(Ae,this._parents,re,le)}a(_e,"selection_transition"),t.selection.prototype.interrupt=B,t.selection.prototype.transition=_e;var ae=[null];function ce(re,le){var me=re.__transition,Ae,Oe;if(me){le=le==null?null:le+"";for(Oe in me)if((Ae=me[Oe]).state>h&&Ae.name===le)return new it([[re]],ae,le,+Oe)}return null}a(ce,"active"),e.active=ce,e.interrupt=F,e.transition=Wt,Object.defineProperty(e,"__esModule",{value:!0})})});var iMe=j((MT,nMe)=>{d();(function(e,t){typeof MT=="object"&&typeof nMe<"u"?t(MT,ry(),wT(),ny(),hv(),TT()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(MT,function(e,t,r,n,i,s){"use strict";function o(O){return function(){return O}}a(o,"constant");function u(O,$,L){this.target=O,this.type=$,this.selection=L}a(u,"BrushEvent");function l(){i.event.stopImmediatePropagation()}a(l,"nopropagation");function f(){i.event.preventDefault(),i.event.stopImmediatePropagation()}a(f,"noevent");var h={name:"drag"},p={name:"space"},g={name:"handle"},y={name:"center"};function E(O){return[+O[0],+O[1]]}a(E,"number1");function M(O){return[E(O[0]),E(O[1])]}a(M,"number2");function z(O){return function($){return i.touch($,i.event.touches,O)}}a(z,"toucher");var P={name:"x",handles:["w","e"].map(k),input:function(O,$){return O==null?null:[[+O[0],$[0][1]],[+O[1],$[1][1]]]},output:function(O){return O&&[O[0][0],O[1][0]]}},Q={name:"y",handles:["n","s"].map(k),input:function(O,$){return O==null?null:[[$[0][0],+O[0]],[$[1][0],+O[1]]]},output:function(O){return O&&[O[0][1],O[1][1]]}},V={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(k),input:function(O){return O==null?null:M(O)},output:function(O){return O}},W={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},F={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},B={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},T={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function k(O){return{type:O}}a(k,"type");function R(){return!i.event.ctrlKey&&!i.event.button}a(R,"defaultFilter");function x(){var O=this.ownerSVGElement||this;return O.hasAttribute("viewBox")?(O=O.viewBox.baseVal,[[O.x,O.y],[O.x+O.width,O.y+O.height]]):[[0,0],[O.width.baseVal.value,O.height.baseVal.value]]}a(x,"defaultExtent");function N(){return navigator.maxTouchPoints||"ontouchstart"in this}a(N,"defaultTouchable");function m(O){for(;!O.__brush;)if(!(O=O.parentNode))return;return O.__brush}a(m,"local");function v(O){return O[0][0]===O[1][0]||O[0][1]===O[1][1]}a(v,"empty");function A(O){var $=O.__brush;return $?$.dim.output($.selection):null}a(A,"brushSelection");function U(){return Z(P)}a(U,"brushX");function G(){return Z(Q)}a(G,"brushY");function K(){return Z(V)}a(K,"brush");function Z(O){var $=x,L=R,ee=N,ve=!0,ye=t.dispatch("start","brush","end"),se=6,be;function Y(he){var De=he.property("__brush",ie).selectAll(".overlay").data([k("overlay")]);De.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",W.overlay).merge(De).each(function(){var ze=m(this).extent;i.select(this).attr("x",ze[0][0]).attr("y",ze[0][1]).attr("width",ze[1][0]-ze[0][0]).attr("height",ze[1][1]-ze[0][1])}),he.selectAll(".selection").data([k("selection")]).enter().append("rect").attr("class","selection").attr("cursor",W.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $e=he.selectAll(".handle").data(O.handles,function(ze){return ze.type});$e.exit().remove(),$e.enter().append("rect").attr("class",function(ze){return"handle handle--"+ze.type}).attr("cursor",function(ze){return W[ze.type]}),he.each(D).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",I).filter(ee).on("touchstart.brush",I).on("touchmove.brush",H).on("touchend.brush touchcancel.brush",te).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(Y,"brush"),Y.move=function(he,De){he.selection?he.on("start.brush",function(){J(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){J(this,arguments).end()}).tween("brush",function(){var $e=this,ze=$e.__brush,Qe=J($e,arguments),je=ze.selection,We=O.input(typeof De=="function"?De.apply(this,arguments):De,ze.extent),Ce=n.interpolate(je,We);function Te(Je){ze.selection=Je===1&&We===null?null:Ce(Je),D.call($e),Qe.brush()}return a(Te,"tween"),je!==null&&We!==null?Te:Te(1)}):he.each(function(){var $e=this,ze=arguments,Qe=$e.__brush,je=O.input(typeof De=="function"?De.apply($e,ze):De,Qe.extent),We=J($e,ze).beforestart();s.interrupt($e),Qe.selection=je===null?null:je,D.call($e),We.start().brush().end()})},Y.clear=function(he){Y.move(he,null)};function D(){var he=i.select(this),De=m(this).selection;De?(he.selectAll(".selection").style("display",null).attr("x",De[0][0]).attr("y",De[0][1]).attr("width",De[1][0]-De[0][0]).attr("height",De[1][1]-De[0][1]),he.selectAll(".handle").style("display",null).attr("x",function($e){return $e.type[$e.type.length-1]==="e"?De[1][0]-se/2:De[0][0]-se/2}).attr("y",function($e){return $e.type[0]==="s"?De[1][1]-se/2:De[0][1]-se/2}).attr("width",function($e){return $e.type==="n"||$e.type==="s"?De[1][0]-De[0][0]+se:se}).attr("height",function($e){return $e.type==="e"||$e.type==="w"?De[1][1]-De[0][1]+se:se})):he.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}a(D,"redraw");function J(he,De,$e){var ze=he.__brush.emitter;return ze&&(!$e||!ze.clean)?ze:new q(he,De,$e)}a(J,"emitter");function q(he,De,$e){this.that=he,this.args=De,this.state=he.__brush,this.active=0,this.clean=$e}a(q,"Emitter"),q.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(he){i.customEvent(new u(Y,he,O.output(this.state.selection)),ye.apply,ye,[he,this.that,this.args])}};function I(){if(be&&!i.event.touches||!L.apply(this,arguments))return;var he=this,De=i.event.target.__data__.type,$e=(ve&&i.event.metaKey?De="overlay":De)==="selection"?h:ve&&i.event.altKey?y:g,ze=O===Q?null:S[De],Qe=O===P?null:T[De],je=m(he),We=je.extent,Ce=je.selection,Te=We[0][0],Je,rt,ge=We[0][1],xe,qe,ot=We[1][0],at,pe,Re=We[1][1],He,tt,Ve=0,et=0,gt,ut=ze&&Qe&&ve&&i.event.shiftKey,zt,it,Wt=i.event.touches?z(i.event.changedTouches[0].identifier):i.mouse,bt=Wt(he),Se=bt,Ie=J(he,arguments,!0).beforestart();De==="overlay"?(Ce&&(gt=!0),je.selection=Ce=[[Je=O===Q?Te:bt[0],xe=O===P?ge:bt[1]],[at=O===Q?ot:Je,He=O===P?Re:xe]]):(Je=Ce[0][0],xe=Ce[0][1],at=Ce[1][0],He=Ce[1][1]),rt=Je,qe=xe,pe=at,tt=He;var ue=i.select(he).attr("pointer-events","none"),_e=ue.selectAll(".overlay").attr("cursor",W[De]);if(i.event.touches)Ie.moved=ce,Ie.ended=le;else{var ae=i.select(i.event.view).on("mousemove.brush",ce,!0).on("mouseup.brush",le,!0);ve&&ae.on("keydown.brush",me,!0).on("keyup.brush",Ae,!0),r.dragDisable(i.event.view)}l(),s.interrupt(he),D.call(he),Ie.start();function ce(){var Oe=Wt(he);ut&&!zt&&!it&&(Math.abs(Oe[0]-Se[0])>Math.abs(Oe[1]-Se[1])?it=!0:zt=!0),Se=Oe,gt=!0,f(),re()}a(ce,"moved");function re(){var Oe;switch(Ve=Se[0]-bt[0],et=Se[1]-bt[1],$e){case p:case h:{ze&&(Ve=Math.max(Te-Je,Math.min(ot-at,Ve)),rt=Je+Ve,pe=at+Ve),Qe&&(et=Math.max(ge-xe,Math.min(Re-He,et)),qe=xe+et,tt=He+et);break}case g:{ze<0?(Ve=Math.max(Te-Je,Math.min(ot-Je,Ve)),rt=Je+Ve,pe=at):ze>0&&(Ve=Math.max(Te-at,Math.min(ot-at,Ve)),rt=Je,pe=at+Ve),Qe<0?(et=Math.max(ge-xe,Math.min(Re-xe,et)),qe=xe+et,tt=He):Qe>0&&(et=Math.max(ge-He,Math.min(Re-He,et)),qe=xe,tt=He+et);break}case y:{ze&&(rt=Math.max(Te,Math.min(ot,Je-Ve*ze)),pe=Math.max(Te,Math.min(ot,at+Ve*ze))),Qe&&(qe=Math.max(ge,Math.min(Re,xe-et*Qe)),tt=Math.max(ge,Math.min(Re,He+et*Qe)));break}}pe<rt&&(ze*=-1,Oe=Je,Je=at,at=Oe,Oe=rt,rt=pe,pe=Oe,De in F&&_e.attr("cursor",W[De=F[De]])),tt<qe&&(Qe*=-1,Oe=xe,xe=He,He=Oe,Oe=qe,qe=tt,tt=Oe,De in B&&_e.attr("cursor",W[De=B[De]])),je.selection&&(Ce=je.selection),zt&&(rt=Ce[0][0],pe=Ce[1][0]),it&&(qe=Ce[0][1],tt=Ce[1][1]),(Ce[0][0]!==rt||Ce[0][1]!==qe||Ce[1][0]!==pe||Ce[1][1]!==tt)&&(je.selection=[[rt,qe],[pe,tt]],D.call(he),Ie.brush())}a(re,"move");function le(){if(l(),i.event.touches){if(i.event.touches.length)return;be&&clearTimeout(be),be=setTimeout(function(){be=null},500)}else r.dragEnable(i.event.view,gt),ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ue.attr("pointer-events","all"),_e.attr("cursor",W.overlay),je.selection&&(Ce=je.selection),v(Ce)&&(je.selection=null,D.call(he)),Ie.end()}a(le,"ended");function me(){switch(i.event.keyCode){case 16:{ut=ze&&Qe;break}case 18:{$e===g&&(ze&&(at=pe-Ve*ze,Je=rt+Ve*ze),Qe&&(He=tt-et*Qe,xe=qe+et*Qe),$e=y,re());break}case 32:{($e===g||$e===y)&&(ze<0?at=pe-Ve:ze>0&&(Je=rt-Ve),Qe<0?He=tt-et:Qe>0&&(xe=qe-et),$e=p,_e.attr("cursor",W.selection),re());break}default:return}f()}a(me,"keydowned");function Ae(){switch(i.event.keyCode){case 16:{ut&&(zt=it=ut=!1,re());break}case 18:{$e===y&&(ze<0?at=pe:ze>0&&(Je=rt),Qe<0?He=tt:Qe>0&&(xe=qe),$e=g,re());break}case 32:{$e===p&&(i.event.altKey?(ze&&(at=pe-Ve*ze,Je=rt+Ve*ze),Qe&&(He=tt-et*Qe,xe=qe+et*Qe),$e=y):(ze<0?at=pe:ze>0&&(Je=rt),Qe<0?He=tt:Qe>0&&(xe=qe),$e=g),_e.attr("cursor",W[De]),re());break}default:return}f()}a(Ae,"keyupped")}a(I,"started");function H(){J(this,arguments).moved()}a(H,"touchmoved");function te(){J(this,arguments).ended()}a(te,"touchended");function ie(){var he=this.__brush||{selection:null};return he.extent=M($.apply(this,arguments)),he.dim=O,he}return a(ie,"initialize"),Y.extent=function(he){return arguments.length?($=typeof he=="function"?he:o(M(he)),Y):$},Y.filter=function(he){return arguments.length?(L=typeof he=="function"?he:o(!!he),Y):L},Y.touchable=function(he){return arguments.length?(ee=typeof he=="function"?he:o(!!he),Y):ee},Y.handleSize=function(he){return arguments.length?(se=+he,Y):se},Y.keyModifiers=function(he){return arguments.length?(ve=!!he,Y):ve},Y.on=function(){var he=ye.on.apply(ye,arguments);return he===ye?Y:he},Y}a(Z,"brush$1"),e.brush=K,e.brushSelection=A,e.brushX=U,e.brushY=G,Object.defineProperty(e,"__esModule",{value:!0})})});var RT=j((BT,aMe)=>{d();(function(e,t){typeof BT=="object"&&typeof aMe<"u"?t(BT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(BT,function(e){"use strict";var t=Math.PI,r=2*t,n=1e-6,i=r-n;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}a(s,"Path");function o(){return new s}a(o,"path"),s.prototype=o.prototype={constructor:s,moveTo:function(u,l){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+l)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(u,l){this._+="L"+(this._x1=+u)+","+(this._y1=+l)},quadraticCurveTo:function(u,l,f,h){this._+="Q"+ +u+","+ +l+","+(this._x1=+f)+","+(this._y1=+h)},bezierCurveTo:function(u,l,f,h,p,g){this._+="C"+ +u+","+ +l+","+ +f+","+ +h+","+(this._x1=+p)+","+(this._y1=+g)},arcTo:function(u,l,f,h,p){u=+u,l=+l,f=+f,h=+h,p=+p;var g=this._x1,y=this._y1,E=f-u,M=h-l,z=g-u,P=y-l,Q=z*z+P*P;if(p<0)throw new Error("negative radius: "+p);if(this._x1===null)this._+="M"+(this._x1=u)+","+(this._y1=l);else if(Q>n)if(!(Math.abs(P*E-M*z)>n)||!p)this._+="L"+(this._x1=u)+","+(this._y1=l);else{var V=f-g,W=h-y,F=E*E+M*M,B=V*V+W*W,S=Math.sqrt(F),T=Math.sqrt(Q),k=p*Math.tan((t-Math.acos((F+Q-B)/(2*S*T)))/2),R=k/T,x=k/S;Math.abs(R-1)>n&&(this._+="L"+(u+R*z)+","+(l+R*P)),this._+="A"+p+","+p+",0,0,"+ +(P*V>z*W)+","+(this._x1=u+x*E)+","+(this._y1=l+x*M)}},arc:function(u,l,f,h,p,g){u=+u,l=+l,f=+f,g=!!g;var y=f*Math.cos(h),E=f*Math.sin(h),M=u+y,z=l+E,P=1^g,Q=g?h-p:p-h;if(f<0)throw new Error("negative radius: "+f);this._x1===null?this._+="M"+M+","+z:(Math.abs(this._x1-M)>n||Math.abs(this._y1-z)>n)&&(this._+="L"+M+","+z),f&&(Q<0&&(Q=Q%r+r),Q>i?this._+="A"+f+","+f+",0,1,"+P+","+(u-y)+","+(l-E)+"A"+f+","+f+",0,1,"+P+","+(this._x1=M)+","+(this._y1=z):Q>n&&(this._+="A"+f+","+f+",0,"+ +(Q>=t)+","+P+","+(this._x1=u+f*Math.cos(p))+","+(this._y1=l+f*Math.sin(p))))},rect:function(u,l,f,h){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+l)+"h"+ +f+"v"+ +h+"h"+-f+"Z"},toString:function(){return this._}},e.path=o,Object.defineProperty(e,"__esModule",{value:!0})})});var oMe=j((LT,sMe)=>{d();(function(e,t){typeof LT=="object"&&typeof sMe<"u"?t(LT,fv(),RT()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-path"],t):t(e.d3=e.d3||{},e.d3,e.d3)})(LT,function(e,t,r){"use strict";var n=Math.cos,i=Math.sin,s=Math.PI,o=s/2,u=s*2,l=Math.max;function f(V){return function(W,F){return V(W.source.value+W.target.value,F.source.value+F.target.value)}}a(f,"compareValue");function h(){var V=0,W=null,F=null,B=null;function S(T){var k=T.length,R=[],x=t.range(k),N=[],m=[],v=m.groups=new Array(k),A=new Array(k*k),U,G,K,Z,O,$;for(U=0,O=-1;++O<k;){for(G=0,$=-1;++$<k;)G+=T[O][$];R.push(G),N.push(t.range(k)),U+=G}for(W&&x.sort(function(D,J){return W(R[D],R[J])}),F&&N.forEach(function(D,J){D.sort(function(q,I){return F(T[J][q],T[J][I])})}),U=l(0,u-V*k)/U,Z=U?V:u/k,G=0,O=-1;++O<k;){for(K=G,$=-1;++$<k;){var L=x[O],ee=N[L][$],ve=T[L][ee],ye=G,se=G+=ve*U;A[ee*k+L]={index:L,subindex:ee,startAngle:ye,endAngle:se,value:ve}}v[L]={index:L,startAngle:K,endAngle:G,value:R[L]},G+=Z}for(O=-1;++O<k;)for($=O-1;++$<k;){var be=A[$*k+O],Y=A[O*k+$];(be.value||Y.value)&&m.push(be.value<Y.value?{source:Y,target:be}:{source:be,target:Y})}return B?m.sort(B):m}return a(S,"chord"),S.padAngle=function(T){return arguments.length?(V=l(0,T),S):V},S.sortGroups=function(T){return arguments.length?(W=T,S):W},S.sortSubgroups=function(T){return arguments.length?(F=T,S):F},S.sortChords=function(T){return arguments.length?(T==null?B=null:(B=f(T))._=T,S):B&&B._},S}a(h,"chord");var p=Array.prototype.slice;function g(V){return function(){return V}}a(g,"constant");function y(V){return V.source}a(y,"defaultSource");function E(V){return V.target}a(E,"defaultTarget");function M(V){return V.radius}a(M,"defaultRadius");function z(V){return V.startAngle}a(z,"defaultStartAngle");function P(V){return V.endAngle}a(P,"defaultEndAngle");function Q(){var V=y,W=E,F=M,B=z,S=P,T=null;function k(){var R,x=p.call(arguments),N=V.apply(this,x),m=W.apply(this,x),v=+F.apply(this,(x[0]=N,x)),A=B.apply(this,x)-o,U=S.apply(this,x)-o,G=v*n(A),K=v*i(A),Z=+F.apply(this,(x[0]=m,x)),O=B.apply(this,x)-o,$=S.apply(this,x)-o;if(T||(T=R=r.path()),T.moveTo(G,K),T.arc(0,0,v,A,U),(A!==O||U!==$)&&(T.quadraticCurveTo(0,0,Z*n(O),Z*i(O)),T.arc(0,0,Z,O,$)),T.quadraticCurveTo(0,0,G,K),T.closePath(),R)return T=null,R+""||null}return a(k,"ribbon"),k.radius=function(R){return arguments.length?(F=typeof R=="function"?R:g(+R),k):F},k.startAngle=function(R){return arguments.length?(B=typeof R=="function"?R:g(+R),k):B},k.endAngle=function(R){return arguments.length?(S=typeof R=="function"?R:g(+R),k):S},k.source=function(R){return arguments.length?(V=R,k):V},k.target=function(R){return arguments.length?(W=R,k):W},k.context=function(R){return arguments.length?(T=R??null,k):T},k}a(Q,"ribbon"),e.chord=h,e.ribbon=Q,Object.defineProperty(e,"__esModule",{value:!0})})});var NT=j((DT,cMe)=>{d();(function(e,t){typeof DT=="object"&&typeof cMe<"u"?t(DT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(DT,function(e){"use strict";var t="$";function r(){}a(r,"Map"),r.prototype=n.prototype={constructor:r,has:function(M){return t+M in this},get:function(M){return this[t+M]},set:function(M,z){return this[t+M]=z,this},remove:function(M){var z=t+M;return z in this&&delete this[z]},clear:function(){for(var M in this)M[0]===t&&delete this[M]},keys:function(){var M=[];for(var z in this)z[0]===t&&M.push(z.slice(1));return M},values:function(){var M=[];for(var z in this)z[0]===t&&M.push(this[z]);return M},entries:function(){var M=[];for(var z in this)z[0]===t&&M.push({key:z.slice(1),value:this[z]});return M},size:function(){var M=0;for(var z in this)z[0]===t&&++M;return M},empty:function(){for(var M in this)if(M[0]===t)return!1;return!0},each:function(M){for(var z in this)z[0]===t&&M(this[z],z.slice(1),this)}};function n(M,z){var P=new r;if(M instanceof r)M.each(function(B,S){P.set(S,B)});else if(Array.isArray(M)){var Q=-1,V=M.length,W;if(z==null)for(;++Q<V;)P.set(Q,M[Q]);else for(;++Q<V;)P.set(z(W=M[Q],Q,M),W)}else if(M)for(var F in M)P.set(F,M[F]);return P}a(n,"map");function i(){var M=[],z=[],P,Q,V;function W(B,S,T,k){if(S>=M.length)return P!=null&&B.sort(P),Q!=null?Q(B):B;for(var R=-1,x=B.length,N=M[S++],m,v,A=n(),U,G=T();++R<x;)(U=A.get(m=N(v=B[R])+""))?U.push(v):A.set(m,[v]);return A.each(function(K,Z){k(G,Z,W(K,S,T,k))}),G}a(W,"apply");function F(B,S){if(++S>M.length)return B;var T,k=z[S-1];return Q!=null&&S>=M.length?T=B.entries():(T=[],B.each(function(R,x){T.push({key:x,values:F(R,S)})})),k!=null?T.sort(function(R,x){return k(R.key,x.key)}):T}return a(F,"entries"),V={object:function(B){return W(B,0,s,o)},map:function(B){return W(B,0,u,l)},entries:function(B){return F(W(B,0,u,l),0)},key:function(B){return M.push(B),V},sortKeys:function(B){return z[M.length-1]=B,V},sortValues:function(B){return P=B,V},rollup:function(B){return Q=B,V}}}a(i,"nest");function s(){return{}}a(s,"createObject");function o(M,z,P){M[z]=P}a(o,"setObject");function u(){return n()}a(u,"createMap");function l(M,z,P){M.set(z,P)}a(l,"setMap");function f(){}a(f,"Set");var h=n.prototype;f.prototype=p.prototype={constructor:f,has:h.has,add:function(M){return M+="",this[t+M]=M,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};function p(M,z){var P=new f;if(M instanceof f)M.each(function(W){P.add(W)});else if(M){var Q=-1,V=M.length;if(z==null)for(;++Q<V;)P.add(M[Q]);else for(;++Q<V;)P.add(z(M[Q],Q,M))}return P}a(p,"set");function g(M){var z=[];for(var P in M)z.push(P);return z}a(g,"keys");function y(M){var z=[];for(var P in M)z.push(M[P]);return z}a(y,"values");function E(M){var z=[];for(var P in M)z.push({key:P,value:M[P]});return z}a(E,"entries"),e.nest=i,e.set=p,e.map=n,e.keys=g,e.values=y,e.entries=E,Object.defineProperty(e,"__esModule",{value:!0})})});var lMe=j((OT,uMe)=>{d();(function(e,t){typeof OT=="object"&&typeof uMe<"u"?t(OT,fv()):typeof define=="function"&&define.amd?define(["exports","d3-array"],t):t(e.d3=e.d3||{},e.d3)})(OT,function(e,t){"use strict";var r=Array.prototype,n=r.slice;function i(F,B){return F-B}a(i,"ascending");function s(F){for(var B=0,S=F.length,T=F[S-1][1]*F[0][0]-F[S-1][0]*F[0][1];++B<S;)T+=F[B-1][1]*F[B][0]-F[B-1][0]*F[B][1];return T}a(s,"area");function o(F){return function(){return F}}a(o,"constant");function u(F,B){for(var S=-1,T=B.length,k;++S<T;)if(k=l(F,B[S]))return k;return 0}a(u,"contains");function l(F,B){for(var S=B[0],T=B[1],k=-1,R=0,x=F.length,N=x-1;R<x;N=R++){var m=F[R],v=m[0],A=m[1],U=F[N],G=U[0],K=U[1];if(f(m,U,B))return 0;A>T!=K>T&&S<(G-v)*(T-A)/(K-A)+v&&(k=-k)}return k}a(l,"ringContains");function f(F,B,S){var T;return h(F,B,S)&&p(F[T=+(F[0]===B[0])],S[T],B[T])}a(f,"segmentContains");function h(F,B,S){return(B[0]-F[0])*(S[1]-F[1])===(S[0]-F[0])*(B[1]-F[1])}a(h,"collinear");function p(F,B,S){return F<=B&&B<=S||S<=B&&B<=F}a(p,"within");function g(){}a(g,"noop");var y=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function E(){var F=1,B=1,S=t.thresholdSturges,T=m;function k(v){var A=S(v);if(Array.isArray(A))A=A.slice().sort(i);else{var U=t.extent(v),G=U[0],K=U[1];A=t.tickStep(G,K,A),A=t.range(Math.floor(G/A)*A,Math.floor(K/A)*A,A)}return A.map(function(Z){return R(v,Z)})}a(k,"contours");function R(v,A){var U=[],G=[];return x(v,A,function(K){T(K,v,A),s(K)>0?U.push([K]):G.push(K)}),G.forEach(function(K){for(var Z=0,O=U.length,$;Z<O;++Z)if(u(($=U[Z])[0],K)!==-1){$.push(K);return}}),{type:"MultiPolygon",value:A,coordinates:U}}a(R,"contour");function x(v,A,U){var G=new Array,K=new Array,Z,O,$,L,ee,ve;for(Z=O=-1,L=v[0]>=A,y[L<<1].forEach(ye);++Z<F-1;)$=L,L=v[Z+1]>=A,y[$|L<<1].forEach(ye);for(y[L<<0].forEach(ye);++O<B-1;){for(Z=-1,L=v[O*F+F]>=A,ee=v[O*F]>=A,y[L<<1|ee<<2].forEach(ye);++Z<F-1;)$=L,L=v[O*F+F+Z+1]>=A,ve=ee,ee=v[O*F+Z+1]>=A,y[$|L<<1|ee<<2|ve<<3].forEach(ye);y[L|ee<<3].forEach(ye)}for(Z=-1,ee=v[O*F]>=A,y[ee<<2].forEach(ye);++Z<F-1;)ve=ee,ee=v[O*F+Z+1]>=A,y[ee<<2|ve<<3].forEach(ye);y[ee<<3].forEach(ye);function ye(se){var be=[se[0][0]+Z,se[0][1]+O],Y=[se[1][0]+Z,se[1][1]+O],D=N(be),J=N(Y),q,I;(q=K[D])?(I=G[J])?(delete K[q.end],delete G[I.start],q===I?(q.ring.push(Y),U(q.ring)):G[q.start]=K[I.end]={start:q.start,end:I.end,ring:q.ring.concat(I.ring)}):(delete K[q.end],q.ring.push(Y),K[q.end=J]=q):(q=G[J])?(I=K[D])?(delete G[q.start],delete K[I.end],q===I?(q.ring.push(Y),U(q.ring)):G[I.start]=K[q.end]={start:I.start,end:q.end,ring:I.ring.concat(q.ring)}):(delete G[q.start],q.ring.unshift(be),G[q.start=D]=q):G[D]=K[J]={start:D,end:J,ring:[be,Y]}}a(ye,"stitch")}a(x,"isorings");function N(v){return v[0]*2+v[1]*(F+1)*4}a(N,"index");function m(v,A,U){v.forEach(function(G){var K=G[0],Z=G[1],O=K|0,$=Z|0,L,ee=A[$*F+O];K>0&&K<F&&O===K&&(L=A[$*F+O-1],G[0]=K+(U-L)/(ee-L)-.5),Z>0&&Z<B&&$===Z&&(L=A[($-1)*F+O],G[1]=Z+(U-L)/(ee-L)-.5)})}return a(m,"smoothLinear"),k.contour=R,k.size=function(v){if(!arguments.length)return[F,B];var A=Math.ceil(v[0]),U=Math.ceil(v[1]);if(!(A>0)||!(U>0))throw new Error("invalid size");return F=A,B=U,k},k.thresholds=function(v){return arguments.length?(S=typeof v=="function"?v:Array.isArray(v)?o(n.call(v)):o(v),k):S},k.smooth=function(v){return arguments.length?(T=v?m:g,k):T===m},k}a(E,"contours");function M(F,B,S){for(var T=F.width,k=F.height,R=(S<<1)+1,x=0;x<k;++x)for(var N=0,m=0;N<T+S;++N)N<T&&(m+=F.data[N+x*T]),N>=S&&(N>=R&&(m-=F.data[N-R+x*T]),B.data[N-S+x*T]=m/Math.min(N+1,T-1+R-N,R))}a(M,"blurX");function z(F,B,S){for(var T=F.width,k=F.height,R=(S<<1)+1,x=0;x<T;++x)for(var N=0,m=0;N<k+S;++N)N<k&&(m+=F.data[x+N*T]),N>=S&&(N>=R&&(m-=F.data[x+(N-R)*T]),B.data[x+(N-S)*T]=m/Math.min(N+1,k-1+R-N,R))}a(z,"blurY");function P(F){return F[0]}a(P,"defaultX");function Q(F){return F[1]}a(Q,"defaultY");function V(){return 1}a(V,"defaultWeight");function W(){var F=P,B=Q,S=V,T=960,k=500,R=20,x=2,N=R*3,m=T+N*2>>x,v=k+N*2>>x,A=o(20);function U(L){var ee=new Float32Array(m*v),ve=new Float32Array(m*v);L.forEach(function(be,Y,D){var J=+F(be,Y,D)+N>>x,q=+B(be,Y,D)+N>>x,I=+S(be,Y,D);J>=0&&J<m&&q>=0&&q<v&&(ee[J+q*m]+=I)}),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x);var ye=A(ee);if(!Array.isArray(ye)){var se=t.max(ee);ye=t.tickStep(0,se,ye),ye=t.range(0,Math.floor(se/ye)*ye,ye),ye.shift()}return E().thresholds(ye).size([m,v])(ee).map(G)}a(U,"density");function G(L){return L.value*=Math.pow(2,-2*x),L.coordinates.forEach(K),L}a(G,"transform");function K(L){L.forEach(Z)}a(K,"transformPolygon");function Z(L){L.forEach(O)}a(Z,"transformRing");function O(L){L[0]=L[0]*Math.pow(2,x)-N,L[1]=L[1]*Math.pow(2,x)-N}a(O,"transformPoint");function $(){return N=R*3,m=T+N*2>>x,v=k+N*2>>x,U}return a($,"resize"),U.x=function(L){return arguments.length?(F=typeof L=="function"?L:o(+L),U):F},U.y=function(L){return arguments.length?(B=typeof L=="function"?L:o(+L),U):B},U.weight=function(L){return arguments.length?(S=typeof L=="function"?L:o(+L),U):S},U.size=function(L){if(!arguments.length)return[T,k];var ee=Math.ceil(L[0]),ve=Math.ceil(L[1]);if(!(ee>=0)&&!(ee>=0))throw new Error("invalid size");return T=ee,k=ve,$()},U.cellSize=function(L){if(!arguments.length)return 1<<x;if(!((L=+L)>=1))throw new Error("invalid cell size");return x=Math.floor(Math.log(L)/Math.LN2),$()},U.thresholds=function(L){return arguments.length?(A=typeof L=="function"?L:Array.isArray(L)?o(n.call(L)):o(L),U):A},U.bandwidth=function(L){if(!arguments.length)return Math.sqrt(R*(R+1));if(!((L=+L)>=0))throw new Error("invalid bandwidth");return R=Math.round((Math.sqrt(4*L*L+1)-1)/2),$()},U}a(W,"density"),e.contours=E,e.contourDensity=W,Object.defineProperty(e,"__esModule",{value:!0})})});var MG=j((qT,fMe)=>{d();(function(e,t){typeof qT=="object"&&typeof fMe<"u"?t(qT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(qT,function(e){"use strict";var t={},r={},n=34,i=10,s=13;function o(A){return new Function("d","return {"+A.map(function(U,G){return JSON.stringify(U)+": d["+G+'] || ""'}).join(",")+"}")}a(o,"objectConverter");function u(A,U){var G=o(A);return function(K,Z){return U(G(K),Z,A)}}a(u,"customConverter");function l(A){var U=Object.create(null),G=[];return A.forEach(function(K){for(var Z in K)Z in U||G.push(U[Z]=Z)}),G}a(l,"inferColumns");function f(A,U){var G=A+"",K=G.length;return K<U?new Array(U-K+1).join(0)+G:G}a(f,"pad");function h(A){return A<0?"-"+f(-A,6):A>9999?"+"+f(A,6):f(A,4)}a(h,"formatYear");function p(A){var U=A.getUTCHours(),G=A.getUTCMinutes(),K=A.getUTCSeconds(),Z=A.getUTCMilliseconds();return isNaN(A)?"Invalid Date":h(A.getUTCFullYear())+"-"+f(A.getUTCMonth()+1,2)+"-"+f(A.getUTCDate(),2)+(Z?"T"+f(U,2)+":"+f(G,2)+":"+f(K,2)+"."+f(Z,3)+"Z":K?"T"+f(U,2)+":"+f(G,2)+":"+f(K,2)+"Z":G||U?"T"+f(U,2)+":"+f(G,2)+"Z":"")}a(p,"formatDate");function g(A){var U=new RegExp('["'+A+`
\r]`),G=A.charCodeAt(0);function K(se,be){var Y,D,J=Z(se,function(q,I){if(Y)return Y(q,I-1);D=q,Y=be?u(q,be):o(q)});return J.columns=D||[],J}a(K,"parse");function Z(se,be){var Y=[],D=se.length,J=0,q=0,I,H=D<=0,te=!1;se.charCodeAt(D-1)===i&&--D,se.charCodeAt(D-1)===s&&--D;function ie(){if(H)return r;if(te)return te=!1,t;var De,$e=J,ze;if(se.charCodeAt($e)===n){for(;J++<D&&se.charCodeAt(J)!==n||se.charCodeAt(++J)===n;);return(De=J)>=D?H=!0:(ze=se.charCodeAt(J++))===i?te=!0:ze===s&&(te=!0,se.charCodeAt(J)===i&&++J),se.slice($e+1,De-1).replace(/""/g,'"')}for(;J<D;){if((ze=se.charCodeAt(De=J++))===i)te=!0;else if(ze===s)te=!0,se.charCodeAt(J)===i&&++J;else if(ze!==G)continue;return se.slice($e,De)}return H=!0,se.slice($e,D)}for(a(ie,"token");(I=ie())!==r;){for(var he=[];I!==t&&I!==r;)he.push(I),I=ie();be&&(he=be(he,q++))==null||Y.push(he)}return Y}a(Z,"parseRows");function O(se,be){return se.map(function(Y){return be.map(function(D){return ye(Y[D])}).join(A)})}a(O,"preformatBody");function $(se,be){return be==null&&(be=l(se)),[be.map(ye).join(A)].concat(O(se,be)).join(`
`)}a($,"format");function L(se,be){return be==null&&(be=l(se)),O(se,be).join(`
`)}a(L,"formatBody");function ee(se){return se.map(ve).join(`
`)}a(ee,"formatRows");function ve(se){return se.map(ye).join(A)}a(ve,"formatRow");function ye(se){return se==null?"":se instanceof Date?p(se):U.test(se+="")?'"'+se.replace(/"/g,'""')+'"':se}return a(ye,"formatValue"),{parse:K,parseRows:Z,format:$,formatBody:L,formatRows:ee,formatRow:ve,formatValue:ye}}a(g,"dsv");var y=g(","),E=y.parse,M=y.parseRows,z=y.format,P=y.formatBody,Q=y.formatRows,V=y.formatRow,W=y.formatValue,F=g("	"),B=F.parse,S=F.parseRows,T=F.format,k=F.formatBody,R=F.formatRows,x=F.formatRow,N=F.formatValue;function m(A){for(var U in A){var G=A[U].trim(),K,Z;if(!G)G=null;else if(G==="true")G=!0;else if(G==="false")G=!1;else if(G==="NaN")G=NaN;else if(!isNaN(K=+G))G=K;else if(Z=G.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))v&&!!Z[4]&&!Z[7]&&(G=G.replace(/-/g,"/").replace(/T/," ")),G=new Date(G);else continue;A[U]=G}return A}a(m,"autoType");var v=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=m,e.csvFormat=z,e.csvFormatBody=P,e.csvFormatRow=V,e.csvFormatRows=Q,e.csvFormatValue=W,e.csvParse=E,e.csvParseRows=M,e.dsvFormat=g,e.tsvFormat=T,e.tsvFormatBody=k,e.tsvFormatRow=x,e.tsvFormatRows=R,e.tsvFormatValue=N,e.tsvParse=B,e.tsvParseRows=S,Object.defineProperty(e,"__esModule",{value:!0})})});var dMe=j((PT,hMe)=>{d();(function(e,t){typeof PT=="object"&&typeof hMe<"u"?t(PT,MG()):typeof define=="function"&&define.amd?define(["exports","d3-dsv"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(PT,function(e,t){"use strict";function r(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.blob()}a(r,"responseBlob");function n(V,W){return fetch(V,W).then(r)}a(n,"blob");function i(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.arrayBuffer()}a(i,"responseArrayBuffer");function s(V,W){return fetch(V,W).then(i)}a(s,"buffer");function o(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.text()}a(o,"responseText");function u(V,W){return fetch(V,W).then(o)}a(u,"text");function l(V){return function(W,F,B){return arguments.length===2&&typeof F=="function"&&(B=F,F=void 0),u(W,F).then(function(S){return V(S,B)})}}a(l,"dsvParse");function f(V,W,F,B){arguments.length===3&&typeof F=="function"&&(B=F,F=void 0);var S=t.dsvFormat(V);return u(W,F).then(function(T){return S.parse(T,B)})}a(f,"dsv");var h=l(t.csvParse),p=l(t.tsvParse);function g(V,W){return new Promise(function(F,B){var S=new Image;for(var T in W)S[T]=W[T];S.onerror=B,S.onload=function(){F(S)},S.src=V})}a(g,"image");function y(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);if(!(V.status===204||V.status===205))return V.json()}a(y,"responseJson");function E(V,W){return fetch(V,W).then(y)}a(E,"json");function M(V){return function(W,F){return u(W,F).then(function(B){return new DOMParser().parseFromString(B,V)})}}a(M,"parser");var z=M("application/xml"),P=M("text/html"),Q=M("image/svg+xml");e.blob=n,e.buffer=s,e.csv=h,e.dsv=f,e.html=P,e.image=g,e.json=E,e.svg=Q,e.text=u,e.tsv=p,e.xml=z,Object.defineProperty(e,"__esModule",{value:!0})})});var BG=j((FT,pMe)=>{d();(function(e,t){typeof FT=="object"&&typeof pMe<"u"?t(FT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(FT,function(e){"use strict";function t(S){var T=+this._x.call(null,S),k=+this._y.call(null,S);return r(this.cover(T,k),T,k,S)}a(t,"tree_add");function r(S,T,k,R){if(isNaN(T)||isNaN(k))return S;var x,N=S._root,m={data:R},v=S._x0,A=S._y0,U=S._x1,G=S._y1,K,Z,O,$,L,ee,ve,ye;if(!N)return S._root=m,S;for(;N.length;)if((L=T>=(K=(v+U)/2))?v=K:U=K,(ee=k>=(Z=(A+G)/2))?A=Z:G=Z,x=N,!(N=N[ve=ee<<1|L]))return x[ve]=m,S;if(O=+S._x.call(null,N.data),$=+S._y.call(null,N.data),T===O&&k===$)return m.next=N,x?x[ve]=m:S._root=m,S;do x=x?x[ve]=new Array(4):S._root=new Array(4),(L=T>=(K=(v+U)/2))?v=K:U=K,(ee=k>=(Z=(A+G)/2))?A=Z:G=Z;while((ve=ee<<1|L)===(ye=($>=Z)<<1|O>=K));return x[ye]=N,x[ve]=m,S}a(r,"add");function n(S){var T,k,R=S.length,x,N,m=new Array(R),v=new Array(R),A=1/0,U=1/0,G=-1/0,K=-1/0;for(k=0;k<R;++k)isNaN(x=+this._x.call(null,T=S[k]))||isNaN(N=+this._y.call(null,T))||(m[k]=x,v[k]=N,x<A&&(A=x),x>G&&(G=x),N<U&&(U=N),N>K&&(K=N));if(A>G||U>K)return this;for(this.cover(A,U).cover(G,K),k=0;k<R;++k)r(this,m[k],v[k],S[k]);return this}a(n,"addAll");function i(S,T){if(isNaN(S=+S)||isNaN(T=+T))return this;var k=this._x0,R=this._y0,x=this._x1,N=this._y1;if(isNaN(k))x=(k=Math.floor(S))+1,N=(R=Math.floor(T))+1;else{for(var m=x-k,v=this._root,A,U;k>S||S>=x||R>T||T>=N;)switch(U=(T<R)<<1|S<k,A=new Array(4),A[U]=v,v=A,m*=2,U){case 0:x=k+m,N=R+m;break;case 1:k=x-m,N=R+m;break;case 2:x=k+m,R=N-m;break;case 3:k=x-m,R=N-m;break}this._root&&this._root.length&&(this._root=v)}return this._x0=k,this._y0=R,this._x1=x,this._y1=N,this}a(i,"tree_cover");function s(){var S=[];return this.visit(function(T){if(!T.length)do S.push(T.data);while(T=T.next)}),S}a(s,"tree_data");function o(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}a(o,"tree_extent");function u(S,T,k,R,x){this.node=S,this.x0=T,this.y0=k,this.x1=R,this.y1=x}a(u,"Quad");function l(S,T,k){var R,x=this._x0,N=this._y0,m,v,A,U,G=this._x1,K=this._y1,Z=[],O=this._root,$,L;for(O&&Z.push(new u(O,x,N,G,K)),k==null?k=1/0:(x=S-k,N=T-k,G=S+k,K=T+k,k*=k);$=Z.pop();)if(!(!(O=$.node)||(m=$.x0)>G||(v=$.y0)>K||(A=$.x1)<x||(U=$.y1)<N))if(O.length){var ee=(m+A)/2,ve=(v+U)/2;Z.push(new u(O[3],ee,ve,A,U),new u(O[2],m,ve,ee,U),new u(O[1],ee,v,A,ve),new u(O[0],m,v,ee,ve)),(L=(T>=ve)<<1|S>=ee)&&($=Z[Z.length-1],Z[Z.length-1]=Z[Z.length-1-L],Z[Z.length-1-L]=$)}else{var ye=S-+this._x.call(null,O.data),se=T-+this._y.call(null,O.data),be=ye*ye+se*se;if(be<k){var Y=Math.sqrt(k=be);x=S-Y,N=T-Y,G=S+Y,K=T+Y,R=O.data}}return R}a(l,"tree_find");function f(S){if(isNaN(G=+this._x.call(null,S))||isNaN(K=+this._y.call(null,S)))return this;var T,k=this._root,R,x,N,m=this._x0,v=this._y0,A=this._x1,U=this._y1,G,K,Z,O,$,L,ee,ve;if(!k)return this;if(k.length)for(;;){if(($=G>=(Z=(m+A)/2))?m=Z:A=Z,(L=K>=(O=(v+U)/2))?v=O:U=O,T=k,!(k=k[ee=L<<1|$]))return this;if(!k.length)break;(T[ee+1&3]||T[ee+2&3]||T[ee+3&3])&&(R=T,ve=ee)}for(;k.data!==S;)if(x=k,!(k=k.next))return this;return(N=k.next)&&delete k.next,x?(N?x.next=N:delete x.next,this):T?(N?T[ee]=N:delete T[ee],(k=T[0]||T[1]||T[2]||T[3])&&k===(T[3]||T[2]||T[1]||T[0])&&!k.length&&(R?R[ve]=k:this._root=k),this):(this._root=N,this)}a(f,"tree_remove");function h(S){for(var T=0,k=S.length;T<k;++T)this.remove(S[T]);return this}a(h,"removeAll");function p(){return this._root}a(p,"tree_root");function g(){var S=0;return this.visit(function(T){if(!T.length)do++S;while(T=T.next)}),S}a(g,"tree_size");function y(S){var T=[],k,R=this._root,x,N,m,v,A;for(R&&T.push(new u(R,this._x0,this._y0,this._x1,this._y1));k=T.pop();)if(!S(R=k.node,N=k.x0,m=k.y0,v=k.x1,A=k.y1)&&R.length){var U=(N+v)/2,G=(m+A)/2;(x=R[3])&&T.push(new u(x,U,G,v,A)),(x=R[2])&&T.push(new u(x,N,G,U,A)),(x=R[1])&&T.push(new u(x,U,m,v,G)),(x=R[0])&&T.push(new u(x,N,m,U,G))}return this}a(y,"tree_visit");function E(S){var T=[],k=[],R;for(this._root&&T.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));R=T.pop();){var x=R.node;if(x.length){var N,m=R.x0,v=R.y0,A=R.x1,U=R.y1,G=(m+A)/2,K=(v+U)/2;(N=x[0])&&T.push(new u(N,m,v,G,K)),(N=x[1])&&T.push(new u(N,G,v,A,K)),(N=x[2])&&T.push(new u(N,m,K,G,U)),(N=x[3])&&T.push(new u(N,G,K,A,U))}k.push(R)}for(;R=k.pop();)S(R.node,R.x0,R.y0,R.x1,R.y1);return this}a(E,"tree_visitAfter");function M(S){return S[0]}a(M,"defaultX");function z(S){return arguments.length?(this._x=S,this):this._x}a(z,"tree_x");function P(S){return S[1]}a(P,"defaultY");function Q(S){return arguments.length?(this._y=S,this):this._y}a(Q,"tree_y");function V(S,T,k){var R=new W(T??M,k??P,NaN,NaN,NaN,NaN);return S==null?R:R.addAll(S)}a(V,"quadtree");function W(S,T,k,R,x,N){this._x=S,this._y=T,this._x0=k,this._y0=R,this._x1=x,this._y1=N,this._root=void 0}a(W,"Quadtree");function F(S){for(var T={data:S.data},k=T;S=S.next;)k=k.next={data:S.data};return T}a(F,"leaf_copy");var B=V.prototype=W.prototype;B.copy=function(){var S=new W(this._x,this._y,this._x0,this._y0,this._x1,this._y1),T=this._root,k,R;if(!T)return S;if(!T.length)return S._root=F(T),S;for(k=[{source:T,target:S._root=new Array(4)}];T=k.pop();)for(var x=0;x<4;++x)(R=T.source[x])&&(R.length?k.push({source:R,target:T.target[x]=new Array(4)}):T.target[x]=F(R));return S},B.add=t,B.addAll=n,B.cover=i,B.data=s,B.extent=o,B.find=l,B.remove=f,B.removeAll=h,B.root=p,B.size=g,B.visit=y,B.visitAfter=E,B.x=z,B.y=Q,e.quadtree=V,Object.defineProperty(e,"__esModule",{value:!0})})});var yMe=j((UT,gMe)=>{d();(function(e,t){typeof UT=="object"&&typeof gMe<"u"?t(UT,BG(),NT(),ry(),kT()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(UT,function(e,t,r,n,i){"use strict";function s(S,T){var k;S==null&&(S=0),T==null&&(T=0);function R(){var x,N=k.length,m,v=0,A=0;for(x=0;x<N;++x)m=k[x],v+=m.x,A+=m.y;for(v=v/N-S,A=A/N-T,x=0;x<N;++x)m=k[x],m.x-=v,m.y-=A}return a(R,"force"),R.initialize=function(x){k=x},R.x=function(x){return arguments.length?(S=+x,R):S},R.y=function(x){return arguments.length?(T=+x,R):T},R}a(s,"center");function o(S){return function(){return S}}a(o,"constant");function u(){return(Math.random()-.5)*1e-6}a(u,"jiggle");function l(S){return S.x+S.vx}a(l,"x");function f(S){return S.y+S.vy}a(f,"y");function h(S){var T,k,R=1,x=1;typeof S!="function"&&(S=o(S==null?1:+S));function N(){for(var A,U=T.length,G,K,Z,O,$,L,ee=0;ee<x;++ee)for(G=t.quadtree(T,l,f).visitAfter(m),A=0;A<U;++A)K=T[A],$=k[K.index],L=$*$,Z=K.x+K.vx,O=K.y+K.vy,G.visit(ve);function ve(ye,se,be,Y,D){var J=ye.data,q=ye.r,I=$+q;if(J){if(J.index>K.index){var H=Z-J.x-J.vx,te=O-J.y-J.vy,ie=H*H+te*te;ie<I*I&&(H===0&&(H=u(),ie+=H*H),te===0&&(te=u(),ie+=te*te),ie=(I-(ie=Math.sqrt(ie)))/ie*R,K.vx+=(H*=ie)*(I=(q*=q)/(L+q)),K.vy+=(te*=ie)*I,J.vx-=H*(I=1-I),J.vy-=te*I)}return}return se>Z+I||Y<Z-I||be>O+I||D<O-I}a(ve,"apply")}a(N,"force");function m(A){if(A.data)return A.r=k[A.data.index];for(var U=A.r=0;U<4;++U)A[U]&&A[U].r>A.r&&(A.r=A[U].r)}a(m,"prepare");function v(){if(!!T){var A,U=T.length,G;for(k=new Array(U),A=0;A<U;++A)G=T[A],k[G.index]=+S(G,A,T)}}return a(v,"initialize"),N.initialize=function(A){T=A,v()},N.iterations=function(A){return arguments.length?(x=+A,N):x},N.strength=function(A){return arguments.length?(R=+A,N):R},N.radius=function(A){return arguments.length?(S=typeof A=="function"?A:o(+A),v(),N):S},N}a(h,"collide");function p(S){return S.index}a(p,"index");function g(S,T){var k=S.get(T);if(!k)throw new Error("missing: "+T);return k}a(g,"find");function y(S){var T=p,k=G,R,x=o(30),N,m,v,A,U=1;S==null&&(S=[]);function G(L){return 1/Math.min(v[L.source.index],v[L.target.index])}a(G,"defaultStrength");function K(L){for(var ee=0,ve=S.length;ee<U;++ee)for(var ye=0,se,be,Y,D,J,q,I;ye<ve;++ye)se=S[ye],be=se.source,Y=se.target,D=Y.x+Y.vx-be.x-be.vx||u(),J=Y.y+Y.vy-be.y-be.vy||u(),q=Math.sqrt(D*D+J*J),q=(q-N[ye])/q*L*R[ye],D*=q,J*=q,Y.vx-=D*(I=A[ye]),Y.vy-=J*I,be.vx+=D*(I=1-I),be.vy+=J*I}a(K,"force");function Z(){if(!!m){var L,ee=m.length,ve=S.length,ye=r.map(m,T),se;for(L=0,v=new Array(ee);L<ve;++L)se=S[L],se.index=L,typeof se.source!="object"&&(se.source=g(ye,se.source)),typeof se.target!="object"&&(se.target=g(ye,se.target)),v[se.source.index]=(v[se.source.index]||0)+1,v[se.target.index]=(v[se.target.index]||0)+1;for(L=0,A=new Array(ve);L<ve;++L)se=S[L],A[L]=v[se.source.index]/(v[se.source.index]+v[se.target.index]);R=new Array(ve),O(),N=new Array(ve),$()}}a(Z,"initialize");function O(){if(!!m)for(var L=0,ee=S.length;L<ee;++L)R[L]=+k(S[L],L,S)}a(O,"initializeStrength");function $(){if(!!m)for(var L=0,ee=S.length;L<ee;++L)N[L]=+x(S[L],L,S)}return a($,"initializeDistance"),K.initialize=function(L){m=L,Z()},K.links=function(L){return arguments.length?(S=L,Z(),K):S},K.id=function(L){return arguments.length?(T=L,K):T},K.iterations=function(L){return arguments.length?(U=+L,K):U},K.strength=function(L){return arguments.length?(k=typeof L=="function"?L:o(+L),O(),K):k},K.distance=function(L){return arguments.length?(x=typeof L=="function"?L:o(+L),$(),K):x},K}a(y,"link");function E(S){return S.x}a(E,"x$1");function M(S){return S.y}a(M,"y$1");var z=10,P=Math.PI*(3-Math.sqrt(5));function Q(S){var T,k=1,R=.001,x=1-Math.pow(R,1/300),N=0,m=.6,v=r.map(),A=i.timer(G),U=n.dispatch("tick","end");S==null&&(S=[]);function G(){K(),U.call("tick",T),k<R&&(A.stop(),U.call("end",T))}a(G,"step");function K($){var L,ee=S.length,ve;$===void 0&&($=1);for(var ye=0;ye<$;++ye)for(k+=(N-k)*x,v.each(function(se){se(k)}),L=0;L<ee;++L)ve=S[L],ve.fx==null?ve.x+=ve.vx*=m:(ve.x=ve.fx,ve.vx=0),ve.fy==null?ve.y+=ve.vy*=m:(ve.y=ve.fy,ve.vy=0);return T}a(K,"tick");function Z(){for(var $=0,L=S.length,ee;$<L;++$){if(ee=S[$],ee.index=$,ee.fx!=null&&(ee.x=ee.fx),ee.fy!=null&&(ee.y=ee.fy),isNaN(ee.x)||isNaN(ee.y)){var ve=z*Math.sqrt($),ye=$*P;ee.x=ve*Math.cos(ye),ee.y=ve*Math.sin(ye)}(isNaN(ee.vx)||isNaN(ee.vy))&&(ee.vx=ee.vy=0)}}a(Z,"initializeNodes");function O($){return $.initialize&&$.initialize(S),$}return a(O,"initializeForce"),Z(),T={tick:K,restart:function(){return A.restart(G),T},stop:function(){return A.stop(),T},nodes:function($){return arguments.length?(S=$,Z(),v.each(O),T):S},alpha:function($){return arguments.length?(k=+$,T):k},alphaMin:function($){return arguments.length?(R=+$,T):R},alphaDecay:function($){return arguments.length?(x=+$,T):+x},alphaTarget:function($){return arguments.length?(N=+$,T):N},velocityDecay:function($){return arguments.length?(m=1-$,T):1-m},force:function($,L){return arguments.length>1?(L==null?v.remove($):v.set($,O(L)),T):v.get($)},find:function($,L,ee){var ve=0,ye=S.length,se,be,Y,D,J;for(ee==null?ee=1/0:ee*=ee,ve=0;ve<ye;++ve)D=S[ve],se=$-D.x,be=L-D.y,Y=se*se+be*be,Y<ee&&(J=D,ee=Y);return J},on:function($,L){return arguments.length>1?(U.on($,L),T):U.on($)}}}a(Q,"simulation");function V(){var S,T,k,R=o(-30),x,N=1,m=1/0,v=.81;function A(Z){var O,$=S.length,L=t.quadtree(S,E,M).visitAfter(G);for(k=Z,O=0;O<$;++O)T=S[O],L.visit(K)}a(A,"force");function U(){if(!!S){var Z,O=S.length,$;for(x=new Array(O),Z=0;Z<O;++Z)$=S[Z],x[$.index]=+R($,Z,S)}}a(U,"initialize");function G(Z){var O=0,$,L,ee=0,ve,ye,se;if(Z.length){for(ve=ye=se=0;se<4;++se)($=Z[se])&&(L=Math.abs($.value))&&(O+=$.value,ee+=L,ve+=L*$.x,ye+=L*$.y);Z.x=ve/ee,Z.y=ye/ee}else{$=Z,$.x=$.data.x,$.y=$.data.y;do O+=x[$.data.index];while($=$.next)}Z.value=O}a(G,"accumulate");function K(Z,O,$,L){if(!Z.value)return!0;var ee=Z.x-T.x,ve=Z.y-T.y,ye=L-O,se=ee*ee+ve*ve;if(ye*ye/v<se)return se<m&&(ee===0&&(ee=u(),se+=ee*ee),ve===0&&(ve=u(),se+=ve*ve),se<N&&(se=Math.sqrt(N*se)),T.vx+=ee*Z.value*k/se,T.vy+=ve*Z.value*k/se),!0;if(Z.length||se>=m)return;(Z.data!==T||Z.next)&&(ee===0&&(ee=u(),se+=ee*ee),ve===0&&(ve=u(),se+=ve*ve),se<N&&(se=Math.sqrt(N*se)));do Z.data!==T&&(ye=x[Z.data.index]*k/se,T.vx+=ee*ye,T.vy+=ve*ye);while(Z=Z.next)}return a(K,"apply"),A.initialize=function(Z){S=Z,U()},A.strength=function(Z){return arguments.length?(R=typeof Z=="function"?Z:o(+Z),U(),A):R},A.distanceMin=function(Z){return arguments.length?(N=Z*Z,A):Math.sqrt(N)},A.distanceMax=function(Z){return arguments.length?(m=Z*Z,A):Math.sqrt(m)},A.theta=function(Z){return arguments.length?(v=Z*Z,A):Math.sqrt(v)},A}a(V,"manyBody");function W(S,T,k){var R,x=o(.1),N,m;typeof S!="function"&&(S=o(+S)),T==null&&(T=0),k==null&&(k=0);function v(U){for(var G=0,K=R.length;G<K;++G){var Z=R[G],O=Z.x-T||1e-6,$=Z.y-k||1e-6,L=Math.sqrt(O*O+$*$),ee=(m[G]-L)*N[G]*U/L;Z.vx+=O*ee,Z.vy+=$*ee}}a(v,"force");function A(){if(!!R){var U,G=R.length;for(N=new Array(G),m=new Array(G),U=0;U<G;++U)m[U]=+S(R[U],U,R),N[U]=isNaN(m[U])?0:+x(R[U],U,R)}}return a(A,"initialize"),v.initialize=function(U){R=U,A()},v.strength=function(U){return arguments.length?(x=typeof U=="function"?U:o(+U),A(),v):x},v.radius=function(U){return arguments.length?(S=typeof U=="function"?U:o(+U),A(),v):S},v.x=function(U){return arguments.length?(T=+U,v):T},v.y=function(U){return arguments.length?(k=+U,v):k},v}a(W,"radial");function F(S){var T=o(.1),k,R,x;typeof S!="function"&&(S=o(S==null?0:+S));function N(v){for(var A=0,U=k.length,G;A<U;++A)G=k[A],G.vx+=(x[A]-G.x)*R[A]*v}a(N,"force");function m(){if(!!k){var v,A=k.length;for(R=new Array(A),x=new Array(A),v=0;v<A;++v)R[v]=isNaN(x[v]=+S(k[v],v,k))?0:+T(k[v],v,k)}}return a(m,"initialize"),N.initialize=function(v){k=v,m()},N.strength=function(v){return arguments.length?(T=typeof v=="function"?v:o(+v),m(),N):T},N.x=function(v){return arguments.length?(S=typeof v=="function"?v:o(+v),m(),N):S},N}a(F,"x$2");function B(S){var T=o(.1),k,R,x;typeof S!="function"&&(S=o(S==null?0:+S));function N(v){for(var A=0,U=k.length,G;A<U;++A)G=k[A],G.vy+=(x[A]-G.y)*R[A]*v}a(N,"force");function m(){if(!!k){var v,A=k.length;for(R=new Array(A),x=new Array(A),v=0;v<A;++v)R[v]=isNaN(x[v]=+S(k[v],v,k))?0:+T(k[v],v,k)}}return a(m,"initialize"),N.initialize=function(v){k=v,m()},N.strength=function(v){return arguments.length?(T=typeof v=="function"?v:o(+v),m(),N):T},N.y=function(v){return arguments.length?(S=typeof v=="function"?v:o(+v),m(),N):S},N}a(B,"y$2"),e.forceCenter=s,e.forceCollide=h,e.forceLink=y,e.forceManyBody=V,e.forceRadial=W,e.forceSimulation=Q,e.forceX=F,e.forceY=B,Object.defineProperty(e,"__esModule",{value:!0})})});var RG=j((YT,mMe)=>{d();(function(e,t){typeof YT=="object"&&typeof mMe<"u"?t(YT):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.d3=e.d3||{}))})(YT,function(e){"use strict";function t(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}a(t,"formatDecimal");function r(S,T){if((k=(S=T?S.toExponential(T-1):S.toExponential()).indexOf("e"))<0)return null;var k,R=S.slice(0,k);return[R.length>1?R[0]+R.slice(2):R,+S.slice(k+1)]}a(r,"formatDecimalParts");function n(S){return S=r(Math.abs(S)),S?S[1]:NaN}a(n,"exponent");function i(S,T){return function(k,R){for(var x=k.length,N=[],m=0,v=S[0],A=0;x>0&&v>0&&(A+v+1>R&&(v=Math.max(1,R-A)),N.push(k.substring(x-=v,x+v)),!((A+=v+1)>R));)v=S[m=(m+1)%S.length];return N.reverse().join(T)}}a(i,"formatGroup");function s(S){return function(T){return T.replace(/[0-9]/g,function(k){return S[+k]})}}a(s,"formatNumerals");var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u(S){if(!(T=o.exec(S)))throw new Error("invalid format: "+S);var T;return new l({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}a(u,"formatSpecifier"),u.prototype=l.prototype;function l(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}a(l,"FormatSpecifier"),l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f(S){e:for(var T=S.length,k=1,R=-1,x;k<T;++k)switch(S[k]){case".":R=x=k;break;case"0":R===0&&(R=k),x=k;break;default:if(!+S[k])break e;R>0&&(R=0);break}return R>0?S.slice(0,R)+S.slice(x+1):S}a(f,"formatTrim");var h;function p(S,T){var k=r(S,T);if(!k)return S+"";var R=k[0],x=k[1],N=x-(h=Math.max(-8,Math.min(8,Math.floor(x/3)))*3)+1,m=R.length;return N===m?R:N>m?R+new Array(N-m+1).join("0"):N>0?R.slice(0,N)+"."+R.slice(N):"0."+new Array(1-N).join("0")+r(S,Math.max(0,T+N-1))[0]}a(p,"formatPrefixAuto");function g(S,T){var k=r(S,T);if(!k)return S+"";var R=k[0],x=k[1];return x<0?"0."+new Array(-x).join("0")+R:R.length>x+1?R.slice(0,x+1)+"."+R.slice(x+1):R+new Array(x-R.length+2).join("0")}a(g,"formatRounded");var y={"%":function(S,T){return(S*100).toFixed(T)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:t,e:function(S,T){return S.toExponential(T)},f:function(S,T){return S.toFixed(T)},g:function(S,T){return S.toPrecision(T)},o:function(S){return Math.round(S).toString(8)},p:function(S,T){return g(S*100,T)},r:g,s:p,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function E(S){return S}a(E,"identity");var M=Array.prototype.map,z=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function P(S){var T=S.grouping===void 0||S.thousands===void 0?E:i(M.call(S.grouping,Number),S.thousands+""),k=S.currency===void 0?"":S.currency[0]+"",R=S.currency===void 0?"":S.currency[1]+"",x=S.decimal===void 0?".":S.decimal+"",N=S.numerals===void 0?E:s(M.call(S.numerals,String)),m=S.percent===void 0?"%":S.percent+"",v=S.minus===void 0?"-":S.minus+"",A=S.nan===void 0?"NaN":S.nan+"";function U(K){K=u(K);var Z=K.fill,O=K.align,$=K.sign,L=K.symbol,ee=K.zero,ve=K.width,ye=K.comma,se=K.precision,be=K.trim,Y=K.type;Y==="n"?(ye=!0,Y="g"):y[Y]||(se===void 0&&(se=12),be=!0,Y="g"),(ee||Z==="0"&&O==="=")&&(ee=!0,Z="0",O="=");var D=L==="$"?k:L==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",J=L==="$"?R:/[%p]/.test(Y)?m:"",q=y[Y],I=/[defgprs%]/.test(Y);se=se===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,se)):Math.max(0,Math.min(20,se));function H(te){var ie=D,he=J,De,$e,ze;if(Y==="c")he=q(te)+he,te="";else{te=+te;var Qe=te<0||1/te<0;if(te=isNaN(te)?A:q(Math.abs(te),se),be&&(te=f(te)),Qe&&+te==0&&$!=="+"&&(Qe=!1),ie=(Qe?$==="("?$:v:$==="-"||$==="("?"":$)+ie,he=(Y==="s"?z[8+h/3]:"")+he+(Qe&&$==="("?")":""),I){for(De=-1,$e=te.length;++De<$e;)if(ze=te.charCodeAt(De),48>ze||ze>57){he=(ze===46?x+te.slice(De+1):te.slice(De))+he,te=te.slice(0,De);break}}}ye&&!ee&&(te=T(te,1/0));var je=ie.length+te.length+he.length,We=je<ve?new Array(ve-je+1).join(Z):"";switch(ye&&ee&&(te=T(We+te,We.length?ve-he.length:1/0),We=""),O){case"<":te=ie+te+he+We;break;case"=":te=ie+We+te+he;break;case"^":te=We.slice(0,je=We.length>>1)+ie+te+he+We.slice(je);break;default:te=We+ie+te+he;break}return N(te)}return a(H,"format"),H.toString=function(){return K+""},H}a(U,"newFormat");function G(K,Z){var O=U((K=u(K),K.type="f",K)),$=Math.max(-8,Math.min(8,Math.floor(n(Z)/3)))*3,L=Math.pow(10,-$),ee=z[8+$/3];return function(ve){return O(L*ve)+ee}}return a(G,"formatPrefix"),{format:U,formatPrefix:G}}a(P,"formatLocale");var Q;V({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function V(S){return Q=P(S),e.format=Q.format,e.formatPrefix=Q.formatPrefix,Q}a(V,"defaultLocale");function W(S){return Math.max(0,-n(Math.abs(S)))}a(W,"precisionFixed");function F(S,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(T)/3)))*3-n(Math.abs(S)))}a(F,"precisionPrefix");function B(S,T){return S=Math.abs(S),T=Math.abs(T)-S,Math.max(0,n(T)-n(S))+1}a(B,"precisionRound"),e.FormatSpecifier=l,e.formatDefaultLocale=V,e.formatLocale=P,e.formatSpecifier=u,e.precisionFixed=W,e.precisionPrefix=F,e.precisionRound=B,Object.defineProperty(e,"__esModule",{value:!0})})});var vMe=j((HT,bMe)=>{d();(function(e,t){typeof HT=="object"&&typeof bMe<"u"?t(HT,fv()):typeof define=="function"&&define.amd?define(["exports","d3-array"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(HT,function(e,t){"use strict";function r(){return new n}a(r,"adder");function n(){this.reset()}a(n,"Adder"),n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(ne){s(i,ne,this.t),s(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new n;function s(ne,de,Me){var Ee=ne.s=de+Me,Ye=Ee-de,ht=Ee-Ye;ne.t=de-ht+(Me-Ye)}a(s,"add");var o=1e-6,u=1e-12,l=Math.PI,f=l/2,h=l/4,p=l*2,g=180/l,y=l/180,E=Math.abs,M=Math.atan,z=Math.atan2,P=Math.cos,Q=Math.ceil,V=Math.exp,W=Math.log,F=Math.pow,B=Math.sin,S=Math.sign||function(ne){return ne>0?1:ne<0?-1:0},T=Math.sqrt,k=Math.tan;function R(ne){return ne>1?0:ne<-1?l:Math.acos(ne)}a(R,"acos");function x(ne){return ne>1?f:ne<-1?-f:Math.asin(ne)}a(x,"asin");function N(ne){return(ne=B(ne/2))*ne}a(N,"haversin");function m(){}a(m,"noop");function v(ne,de){ne&&U.hasOwnProperty(ne.type)&&U[ne.type](ne,de)}a(v,"streamGeometry");var A={Feature:function(ne,de){v(ne.geometry,de)},FeatureCollection:function(ne,de){for(var Me=ne.features,Ee=-1,Ye=Me.length;++Ee<Ye;)v(Me[Ee].geometry,de)}},U={Sphere:function(ne,de){de.sphere()},Point:function(ne,de){ne=ne.coordinates,de.point(ne[0],ne[1],ne[2])},MultiPoint:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)ne=Me[Ee],de.point(ne[0],ne[1],ne[2])},LineString:function(ne,de){G(ne.coordinates,de,0)},MultiLineString:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)G(Me[Ee],de,0)},Polygon:function(ne,de){K(ne.coordinates,de)},MultiPolygon:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)K(Me[Ee],de)},GeometryCollection:function(ne,de){for(var Me=ne.geometries,Ee=-1,Ye=Me.length;++Ee<Ye;)v(Me[Ee],de)}};function G(ne,de,Me){var Ee=-1,Ye=ne.length-Me,ht;for(de.lineStart();++Ee<Ye;)ht=ne[Ee],de.point(ht[0],ht[1],ht[2]);de.lineEnd()}a(G,"streamLine");function K(ne,de){var Me=-1,Ee=ne.length;for(de.polygonStart();++Me<Ee;)G(ne[Me],de,1);de.polygonEnd()}a(K,"streamPolygon");function Z(ne,de){ne&&A.hasOwnProperty(ne.type)?A[ne.type](ne,de):v(ne,de)}a(Z,"geoStream");var O=r(),$=r(),L,ee,ve,ye,se,be={point:m,lineStart:m,lineEnd:m,polygonStart:function(){O.reset(),be.lineStart=Y,be.lineEnd=D},polygonEnd:function(){var ne=+O;$.add(ne<0?p+ne:ne),this.lineStart=this.lineEnd=this.point=m},sphere:function(){$.add(p)}};function Y(){be.point=J}a(Y,"areaRingStart");function D(){q(L,ee)}a(D,"areaRingEnd");function J(ne,de){be.point=q,L=ne,ee=de,ne*=y,de*=y,ve=ne,ye=P(de=de/2+h),se=B(de)}a(J,"areaPointFirst");function q(ne,de){ne*=y,de*=y,de=de/2+h;var Me=ne-ve,Ee=Me>=0?1:-1,Ye=Ee*Me,ht=P(de),vt=B(de),It=se*vt,Mt=ye*ht+It*P(Ye),Ut=It*Ee*B(Ye);O.add(z(Ut,Mt)),ve=ne,ye=ht,se=vt}a(q,"areaPoint");function I(ne){return $.reset(),Z(ne,be),$*2}a(I,"area");function H(ne){return[z(ne[1],ne[0]),x(ne[2])]}a(H,"spherical");function te(ne){var de=ne[0],Me=ne[1],Ee=P(Me);return[Ee*P(de),Ee*B(de),B(Me)]}a(te,"cartesian");function ie(ne,de){return ne[0]*de[0]+ne[1]*de[1]+ne[2]*de[2]}a(ie,"cartesianDot");function he(ne,de){return[ne[1]*de[2]-ne[2]*de[1],ne[2]*de[0]-ne[0]*de[2],ne[0]*de[1]-ne[1]*de[0]]}a(he,"cartesianCross");function De(ne,de){ne[0]+=de[0],ne[1]+=de[1],ne[2]+=de[2]}a(De,"cartesianAddInPlace");function $e(ne,de){return[ne[0]*de,ne[1]*de,ne[2]*de]}a($e,"cartesianScale");function ze(ne){var de=T(ne[0]*ne[0]+ne[1]*ne[1]+ne[2]*ne[2]);ne[0]/=de,ne[1]/=de,ne[2]/=de}a(ze,"cartesianNormalizeInPlace");var Qe,je,We,Ce,Te,Je,rt,ge,xe=r(),qe,ot,at={point:pe,lineStart:He,lineEnd:tt,polygonStart:function(){at.point=Ve,at.lineStart=et,at.lineEnd=gt,xe.reset(),be.polygonStart()},polygonEnd:function(){be.polygonEnd(),at.point=pe,at.lineStart=He,at.lineEnd=tt,O<0?(Qe=-(We=180),je=-(Ce=90)):xe>o?Ce=90:xe<-o&&(je=-90),ot[0]=Qe,ot[1]=We},sphere:function(){Qe=-(We=180),je=-(Ce=90)}};function pe(ne,de){qe.push(ot=[Qe=ne,We=ne]),de<je&&(je=de),de>Ce&&(Ce=de)}a(pe,"boundsPoint");function Re(ne,de){var Me=te([ne*y,de*y]);if(ge){var Ee=he(ge,Me),Ye=[Ee[1],-Ee[0],0],ht=he(Ye,Ee);ze(ht),ht=H(ht);var vt=ne-Te,It=vt>0?1:-1,Mt=ht[0]*g*It,Ut,_t=E(vt)>180;_t^(It*Te<Mt&&Mt<It*ne)?(Ut=ht[1]*g,Ut>Ce&&(Ce=Ut)):(Mt=(Mt+360)%360-180,_t^(It*Te<Mt&&Mt<It*ne)?(Ut=-ht[1]*g,Ut<je&&(je=Ut)):(de<je&&(je=de),de>Ce&&(Ce=de))),_t?ne<Te?ut(Qe,ne)>ut(Qe,We)&&(We=ne):ut(ne,We)>ut(Qe,We)&&(Qe=ne):We>=Qe?(ne<Qe&&(Qe=ne),ne>We&&(We=ne)):ne>Te?ut(Qe,ne)>ut(Qe,We)&&(We=ne):ut(ne,We)>ut(Qe,We)&&(Qe=ne)}else qe.push(ot=[Qe=ne,We=ne]);de<je&&(je=de),de>Ce&&(Ce=de),ge=Me,Te=ne}a(Re,"linePoint");function He(){at.point=Re}a(He,"boundsLineStart");function tt(){ot[0]=Qe,ot[1]=We,at.point=pe,ge=null}a(tt,"boundsLineEnd");function Ve(ne,de){if(ge){var Me=ne-Te;xe.add(E(Me)>180?Me+(Me>0?360:-360):Me)}else Je=ne,rt=de;be.point(ne,de),Re(ne,de)}a(Ve,"boundsRingPoint");function et(){be.lineStart()}a(et,"boundsRingStart");function gt(){Ve(Je,rt),be.lineEnd(),E(xe)>o&&(Qe=-(We=180)),ot[0]=Qe,ot[1]=We,ge=null}a(gt,"boundsRingEnd");function ut(ne,de){return(de-=ne)<0?de+360:de}a(ut,"angle");function zt(ne,de){return ne[0]-de[0]}a(zt,"rangeCompare");function it(ne,de){return ne[0]<=ne[1]?ne[0]<=de&&de<=ne[1]:de<ne[0]||ne[1]<de}a(it,"rangeContains");function Wt(ne){var de,Me,Ee,Ye,ht,vt,It;if(Ce=We=-(Qe=je=1/0),qe=[],Z(ne,at),Me=qe.length){for(qe.sort(zt),de=1,Ee=qe[0],ht=[Ee];de<Me;++de)Ye=qe[de],it(Ee,Ye[0])||it(Ee,Ye[1])?(ut(Ee[0],Ye[1])>ut(Ee[0],Ee[1])&&(Ee[1]=Ye[1]),ut(Ye[0],Ee[1])>ut(Ee[0],Ee[1])&&(Ee[0]=Ye[0])):ht.push(Ee=Ye);for(vt=-1/0,Me=ht.length-1,de=0,Ee=ht[Me];de<=Me;Ee=Ye,++de)Ye=ht[de],(It=ut(Ee[1],Ye[0]))>vt&&(vt=It,Qe=Ye[0],We=Ee[1])}return qe=ot=null,Qe===1/0||je===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qe,je],[We,Ce]]}a(Wt,"bounds");var bt,Se,Ie,ue,_e,ae,ce,re,le,me,Ae,Oe,Ge,ke,st,yt,pt={sphere:m,point:wt,lineStart:Pt,lineEnd:pr,polygonStart:function(){pt.lineStart=Cr,pt.lineEnd=Wr},polygonEnd:function(){pt.lineStart=Pt,pt.lineEnd=pr}};function wt(ne,de){ne*=y,de*=y;var Me=P(de);Gt(Me*P(ne),Me*B(ne),B(de))}a(wt,"centroidPoint");function Gt(ne,de,Me){++bt,Ie+=(ne-Ie)/bt,ue+=(de-ue)/bt,_e+=(Me-_e)/bt}a(Gt,"centroidPointCartesian");function Pt(){pt.point=tr}a(Pt,"centroidLineStart");function tr(ne,de){ne*=y,de*=y;var Me=P(de);ke=Me*P(ne),st=Me*B(ne),yt=B(de),pt.point=cr,Gt(ke,st,yt)}a(tr,"centroidLinePointFirst");function cr(ne,de){ne*=y,de*=y;var Me=P(de),Ee=Me*P(ne),Ye=Me*B(ne),ht=B(de),vt=z(T((vt=st*ht-yt*Ye)*vt+(vt=yt*Ee-ke*ht)*vt+(vt=ke*Ye-st*Ee)*vt),ke*Ee+st*Ye+yt*ht);Se+=vt,ae+=vt*(ke+(ke=Ee)),ce+=vt*(st+(st=Ye)),re+=vt*(yt+(yt=ht)),Gt(ke,st,yt)}a(cr,"centroidLinePoint");function pr(){pt.point=wt}a(pr,"centroidLineEnd");function Cr(){pt.point=Tr}a(Cr,"centroidRingStart");function Wr(){lr(Oe,Ge),pt.point=wt}a(Wr,"centroidRingEnd");function Tr(ne,de){Oe=ne,Ge=de,ne*=y,de*=y,pt.point=lr;var Me=P(de);ke=Me*P(ne),st=Me*B(ne),yt=B(de),Gt(ke,st,yt)}a(Tr,"centroidRingPointFirst");function lr(ne,de){ne*=y,de*=y;var Me=P(de),Ee=Me*P(ne),Ye=Me*B(ne),ht=B(de),vt=st*ht-yt*Ye,It=yt*Ee-ke*ht,Mt=ke*Ye-st*Ee,Ut=T(vt*vt+It*It+Mt*Mt),_t=x(Ut),Lt=Ut&&-_t/Ut;le+=Lt*vt,me+=Lt*It,Ae+=Lt*Mt,Se+=_t,ae+=_t*(ke+(ke=Ee)),ce+=_t*(st+(st=Ye)),re+=_t*(yt+(yt=ht)),Gt(ke,st,yt)}a(lr,"centroidRingPoint");function fr(ne){bt=Se=Ie=ue=_e=ae=ce=re=le=me=Ae=0,Z(ne,pt);var de=le,Me=me,Ee=Ae,Ye=de*de+Me*Me+Ee*Ee;return Ye<u&&(de=ae,Me=ce,Ee=re,Se<o&&(de=Ie,Me=ue,Ee=_e),Ye=de*de+Me*Me+Ee*Ee,Ye<u)?[NaN,NaN]:[z(Me,de)*g,x(Ee/T(Ye))*g]}a(fr,"centroid");function Mr(ne){return function(){return ne}}a(Mr,"constant");function Br(ne,de){function Me(Ee,Ye){return Ee=ne(Ee,Ye),de(Ee[0],Ee[1])}return a(Me,"compose"),ne.invert&&de.invert&&(Me.invert=function(Ee,Ye){return Ee=de.invert(Ee,Ye),Ee&&ne.invert(Ee[0],Ee[1])}),Me}a(Br,"compose");function Ne(ne,de){return[E(ne)>l?ne+Math.round(-ne/p)*p:ne,de]}a(Ne,"rotationIdentity"),Ne.invert=Ne;function Ze(ne,de,Me){return(ne%=p)?de||Me?Br(Ft(ne),At(de,Me)):Ft(ne):de||Me?At(de,Me):Ne}a(Ze,"rotateRadians");function Tt(ne){return function(de,Me){return de+=ne,[de>l?de-p:de<-l?de+p:de,Me]}}a(Tt,"forwardRotationLambda");function Ft(ne){var de=Tt(ne);return de.invert=Tt(-ne),de}a(Ft,"rotationLambda");function At(ne,de){var Me=P(ne),Ee=B(ne),Ye=P(de),ht=B(de);function vt(It,Mt){var Ut=P(Mt),_t=P(It)*Ut,Lt=B(It)*Ut,Bt=B(Mt),Yt=Bt*Me+_t*Ee;return[z(Lt*Ye-Yt*ht,_t*Me-Bt*Ee),x(Yt*Ye+Lt*ht)]}return a(vt,"rotation"),vt.invert=function(It,Mt){var Ut=P(Mt),_t=P(It)*Ut,Lt=B(It)*Ut,Bt=B(Mt),Yt=Bt*Ye-Lt*ht;return[z(Lt*Ye+Bt*ht,_t*Me+Yt*Ee),x(Yt*Me-_t*Ee)]},vt}a(At,"rotationPhiGamma");function Ot(ne){ne=Ze(ne[0]*y,ne[1]*y,ne.length>2?ne[2]*y:0);function de(Me){return Me=ne(Me[0]*y,Me[1]*y),Me[0]*=g,Me[1]*=g,Me}return a(de,"forward"),de.invert=function(Me){return Me=ne.invert(Me[0]*y,Me[1]*y),Me[0]*=g,Me[1]*=g,Me},de}a(Ot,"rotation");function Vt(ne,de,Me,Ee,Ye,ht){if(!!Me){var vt=P(de),It=B(de),Mt=Ee*Me;Ye==null?(Ye=de+Ee*p,ht=de-Mt/2):(Ye=Ct(vt,Ye),ht=Ct(vt,ht),(Ee>0?Ye<ht:Ye>ht)&&(Ye+=Ee*p));for(var Ut,_t=Ye;Ee>0?_t>ht:_t<ht;_t-=Mt)Ut=H([vt,-It*P(_t),-It*B(_t)]),ne.point(Ut[0],Ut[1])}}a(Vt,"circleStream");function Ct(ne,de){de=te(de),de[0]-=ne,ze(de);var Me=R(-de[1]);return((-de[2]<0?-Me:Me)+p-o)%p}a(Ct,"circleRadius");function er(){var ne=Mr([0,0]),de=Mr(90),Me=Mr(6),Ee,Ye,ht={point:vt};function vt(Mt,Ut){Ee.push(Mt=Ye(Mt,Ut)),Mt[0]*=g,Mt[1]*=g}a(vt,"point");function It(){var Mt=ne.apply(this,arguments),Ut=de.apply(this,arguments)*y,_t=Me.apply(this,arguments)*y;return Ee=[],Ye=Ze(-Mt[0]*y,-Mt[1]*y,0).invert,Vt(ht,Ut,_t,1),Mt={type:"Polygon",coordinates:[Ee]},Ee=Ye=null,Mt}return a(It,"circle"),It.center=function(Mt){return arguments.length?(ne=typeof Mt=="function"?Mt:Mr([+Mt[0],+Mt[1]]),It):ne},It.radius=function(Mt){return arguments.length?(de=typeof Mt=="function"?Mt:Mr(+Mt),It):de},It.precision=function(Mt){return arguments.length?(Me=typeof Mt=="function"?Mt:Mr(+Mt),It):Me},It}a(er,"circle");function Ue(){var ne=[],de;return{point:function(Me,Ee,Ye){de.push([Me,Ee,Ye])},lineStart:function(){ne.push(de=[])},lineEnd:m,rejoin:function(){ne.length>1&&ne.push(ne.pop().concat(ne.shift()))},result:function(){var Me=ne;return ne=[],de=null,Me}}}a(Ue,"clipBuffer");function Ir(ne,de){return E(ne[0]-de[0])<o&&E(ne[1]-de[1])<o}a(Ir,"pointEqual");function ct(ne,de,Me,Ee){this.x=ne,this.z=de,this.o=Me,this.e=Ee,this.v=!1,this.n=this.p=null}a(ct,"Intersection");function xn(ne,de,Me,Ee,Ye){var ht=[],vt=[],It,Mt;if(ne.forEach(function(Kt){if(!((br=Kt.length-1)<=0)){var br,yr=Kt[0],xr=Kt[br],wr;if(Ir(yr,xr)){if(!yr[2]&&!xr[2]){for(Ye.lineStart(),It=0;It<br;++It)Ye.point((yr=Kt[It])[0],yr[1]);Ye.lineEnd();return}xr[0]+=2*o}ht.push(wr=new ct(yr,Kt,null,!0)),vt.push(wr.o=new ct(yr,null,wr,!1)),ht.push(wr=new ct(xr,Kt,null,!1)),vt.push(wr.o=new ct(xr,null,wr,!0))}}),!!ht.length){for(vt.sort(de),Mn(ht),Mn(vt),It=0,Mt=vt.length;It<Mt;++It)vt[It].e=Me=!Me;for(var Ut=ht[0],_t,Lt;;){for(var Bt=Ut,Yt=!0;Bt.v;)if((Bt=Bt.n)===Ut)return;_t=Bt.z,Ye.lineStart();do{if(Bt.v=Bt.o.v=!0,Bt.e){if(Yt)for(It=0,Mt=_t.length;It<Mt;++It)Ye.point((Lt=_t[It])[0],Lt[1]);else Ee(Bt.x,Bt.n.x,1,Ye);Bt=Bt.n}else{if(Yt)for(_t=Bt.p.z,It=_t.length-1;It>=0;--It)Ye.point((Lt=_t[It])[0],Lt[1]);else Ee(Bt.x,Bt.p.x,-1,Ye);Bt=Bt.p}Bt=Bt.o,_t=Bt.z,Yt=!Yt}while(!Bt.v);Ye.lineEnd()}}}a(xn,"clipRejoin");function Mn(ne){if(!!(de=ne.length)){for(var de,Me=0,Ee=ne[0],Ye;++Me<de;)Ee.n=Ye=ne[Me],Ye.p=Ee,Ee=Ye;Ee.n=Ye=ne[0],Ye.p=Ee}}a(Mn,"link");var Fi=r();function Ya(ne){return E(ne[0])<=l?ne[0]:S(ne[0])*((E(ne[0])+l)%p-l)}a(Ya,"longitude");function Ha(ne,de){var Me=Ya(de),Ee=de[1],Ye=B(Ee),ht=[B(Me),-P(Me),0],vt=0,It=0;Fi.reset(),Ye===1?Ee=f+o:Ye===-1&&(Ee=-f-o);for(var Mt=0,Ut=ne.length;Mt<Ut;++Mt)if(!!(Lt=(_t=ne[Mt]).length))for(var _t,Lt,Bt=_t[Lt-1],Yt=Ya(Bt),Kt=Bt[1]/2+h,br=B(Kt),yr=P(Kt),xr=0;xr<Lt;++xr,Yt=Jt,br=Ar,yr=Pr,Bt=wr){var wr=_t[xr],Jt=Ya(wr),nr=wr[1]/2+h,Ar=B(nr),Pr=P(nr),Sn=Jt-Yt,ri=Sn>=0?1:-1,Vn=ri*Sn,Ai=Vn>l,sn=br*Ar;if(Fi.add(z(sn*ri*B(Vn),yr*Pr+sn*P(Vn))),vt+=Ai?Sn+ri*p:Sn,Ai^Yt>=Me^Jt>=Me){var vs=he(te(Bt),te(wr));ze(vs);var Ia=he(ht,vs);ze(Ia);var fi=(Ai^Sn>=0?-1:1)*x(Ia[2]);(Ee>fi||Ee===fi&&(vs[0]||vs[1]))&&(It+=Ai^Sn>=0?1:-1)}}return(vt<-o||vt<o&&Fi<-o)^It&1}a(Ha,"polygonContains");function hn(ne,de,Me,Ee){return function(Ye){var ht=de(Ye),vt=Ue(),It=de(vt),Mt=!1,Ut,_t,Lt,Bt={point:Yt,lineStart:br,lineEnd:yr,polygonStart:function(){Bt.point=xr,Bt.lineStart=wr,Bt.lineEnd=Jt,_t=[],Ut=[]},polygonEnd:function(){Bt.point=Yt,Bt.lineStart=br,Bt.lineEnd=yr,_t=t.merge(_t);var nr=Ha(Ut,Ee);_t.length?(Mt||(Ye.polygonStart(),Mt=!0),xn(_t,Be,nr,Me,Ye)):nr&&(Mt||(Ye.polygonStart(),Mt=!0),Ye.lineStart(),Me(null,null,1,Ye),Ye.lineEnd()),Mt&&(Ye.polygonEnd(),Mt=!1),_t=Ut=null},sphere:function(){Ye.polygonStart(),Ye.lineStart(),Me(null,null,1,Ye),Ye.lineEnd(),Ye.polygonEnd()}};function Yt(nr,Ar){ne(nr,Ar)&&Ye.point(nr,Ar)}a(Yt,"point");function Kt(nr,Ar){ht.point(nr,Ar)}a(Kt,"pointLine");function br(){Bt.point=Kt,ht.lineStart()}a(br,"lineStart");function yr(){Bt.point=Yt,ht.lineEnd()}a(yr,"lineEnd");function xr(nr,Ar){Lt.push([nr,Ar]),It.point(nr,Ar)}a(xr,"pointRing");function wr(){It.lineStart(),Lt=[]}a(wr,"ringStart");function Jt(){xr(Lt[0][0],Lt[0][1]),It.lineEnd();var nr=It.clean(),Ar=vt.result(),Pr,Sn=Ar.length,ri,Vn,Ai;if(Lt.pop(),Ut.push(Lt),Lt=null,!!Sn){if(nr&1){if(Vn=Ar[0],(ri=Vn.length-1)>0){for(Mt||(Ye.polygonStart(),Mt=!0),Ye.lineStart(),Pr=0;Pr<ri;++Pr)Ye.point((Ai=Vn[Pr])[0],Ai[1]);Ye.lineEnd()}return}Sn>1&&nr&2&&Ar.push(Ar.pop().concat(Ar.shift())),_t.push(Ar.filter(oe))}}return a(Jt,"ringEnd"),Bt}}a(hn,"clip");function oe(ne){return ne.length>1}a(oe,"validSegment");function Be(ne,de){return((ne=ne.x)[0]<0?ne[1]-f-o:f-ne[1])-((de=de.x)[0]<0?de[1]-f-o:f-de[1])}a(Be,"compareIntersection");var Le=hn(function(){return!0},Xe,Ke,[-l,-f]);function Xe(ne){var de=NaN,Me=NaN,Ee=NaN,Ye;return{lineStart:function(){ne.lineStart(),Ye=1},point:function(ht,vt){var It=ht>0?l:-l,Mt=E(ht-de);E(Mt-l)<o?(ne.point(de,Me=(Me+vt)/2>0?f:-f),ne.point(Ee,Me),ne.lineEnd(),ne.lineStart(),ne.point(It,Me),ne.point(ht,Me),Ye=0):Ee!==It&&Mt>=l&&(E(de-Ee)<o&&(de-=Ee*o),E(ht-It)<o&&(ht-=It*o),Me=lt(de,Me,ht,vt),ne.point(Ee,Me),ne.lineEnd(),ne.lineStart(),ne.point(It,Me),Ye=0),ne.point(de=ht,Me=vt),Ee=It},lineEnd:function(){ne.lineEnd(),de=Me=NaN},clean:function(){return 2-Ye}}}a(Xe,"clipAntimeridianLine");function lt(ne,de,Me,Ee){var Ye,ht,vt=B(ne-Me);return E(vt)>o?M((B(de)*(ht=P(Ee))*B(Me)-B(Ee)*(Ye=P(de))*B(ne))/(Ye*ht*vt)):(de+Ee)/2}a(lt,"clipAntimeridianIntersect");function Ke(ne,de,Me,Ee){var Ye;if(ne==null)Ye=Me*f,Ee.point(-l,Ye),Ee.point(0,Ye),Ee.point(l,Ye),Ee.point(l,0),Ee.point(l,-Ye),Ee.point(0,-Ye),Ee.point(-l,-Ye),Ee.point(-l,0),Ee.point(-l,Ye);else if(E(ne[0]-de[0])>o){var ht=ne[0]<de[0]?l:-l;Ye=Me*ht/2,Ee.point(-ht,Ye),Ee.point(0,Ye),Ee.point(ht,Ye)}else Ee.point(de[0],de[1])}a(Ke,"clipAntimeridianInterpolate");function Et(ne){var de=P(ne),Me=6*y,Ee=de>0,Ye=E(de)>o;function ht(_t,Lt,Bt,Yt){Vt(Yt,ne,Me,Bt,_t,Lt)}a(ht,"interpolate");function vt(_t,Lt){return P(_t)*P(Lt)>de}a(vt,"visible");function It(_t){var Lt,Bt,Yt,Kt,br;return{lineStart:function(){Kt=Yt=!1,br=1},point:function(yr,xr){var wr=[yr,xr],Jt,nr=vt(yr,xr),Ar=Ee?nr?0:Ut(yr,xr):nr?Ut(yr+(yr<0?l:-l),xr):0;if(!Lt&&(Kt=Yt=nr)&&_t.lineStart(),nr!==Yt&&(Jt=Mt(Lt,wr),(!Jt||Ir(Lt,Jt)||Ir(wr,Jt))&&(wr[2]=1)),nr!==Yt)br=0,nr?(_t.lineStart(),Jt=Mt(wr,Lt),_t.point(Jt[0],Jt[1])):(Jt=Mt(Lt,wr),_t.point(Jt[0],Jt[1],2),_t.lineEnd()),Lt=Jt;else if(Ye&&Lt&&Ee^nr){var Pr;!(Ar&Bt)&&(Pr=Mt(wr,Lt,!0))&&(br=0,Ee?(_t.lineStart(),_t.point(Pr[0][0],Pr[0][1]),_t.point(Pr[1][0],Pr[1][1]),_t.lineEnd()):(_t.point(Pr[1][0],Pr[1][1]),_t.lineEnd(),_t.lineStart(),_t.point(Pr[0][0],Pr[0][1],3)))}nr&&(!Lt||!Ir(Lt,wr))&&_t.point(wr[0],wr[1]),Lt=wr,Yt=nr,Bt=Ar},lineEnd:function(){Yt&&_t.lineEnd(),Lt=null},clean:function(){return br|(Kt&&Yt)<<1}}}a(It,"clipLine");function Mt(_t,Lt,Bt){var Yt=te(_t),Kt=te(Lt),br=[1,0,0],yr=he(Yt,Kt),xr=ie(yr,yr),wr=yr[0],Jt=xr-wr*wr;if(!Jt)return!Bt&&_t;var nr=de*xr/Jt,Ar=-de*wr/Jt,Pr=he(br,yr),Sn=$e(br,nr),ri=$e(yr,Ar);De(Sn,ri);var Vn=Pr,Ai=ie(Sn,Vn),sn=ie(Vn,Vn),vs=Ai*Ai-sn*(ie(Sn,Sn)-1);if(!(vs<0)){var Ia=T(vs),fi=$e(Vn,(-Ai-Ia)/sn);if(De(fi,Sn),fi=H(fi),!Bt)return fi;var ar=_t[0],kn=Lt[0],Qa=_t[1],po=Lt[1],vc;kn<ar&&(vc=ar,ar=kn,kn=vc);var $v=kn-ar,Ef=E($v-l)<o,vp=Ef||$v<o;if(!Ef&&po<Qa&&(vc=Qa,Qa=po,po=vc),vp?Ef?Qa+po>0^fi[1]<(E(fi[0]-ar)<o?Qa:po):Qa<=fi[1]&&fi[1]<=po:$v>l^(ar<=fi[0]&&fi[0]<=kn)){var Sf=$e(Vn,(-Ai+Ia)/sn);return De(Sf,Sn),[fi,H(Sf)]}}}a(Mt,"intersect");function Ut(_t,Lt){var Bt=Ee?ne:l-ne,Yt=0;return _t<-Bt?Yt|=1:_t>Bt&&(Yt|=2),Lt<-Bt?Yt|=4:Lt>Bt&&(Yt|=8),Yt}return a(Ut,"code"),hn(vt,It,ht,Ee?[0,-ne]:[-l,ne-l])}a(Et,"clipCircle");function nt(ne,de,Me,Ee,Ye,ht){var vt=ne[0],It=ne[1],Mt=de[0],Ut=de[1],_t=0,Lt=1,Bt=Mt-vt,Yt=Ut-It,Kt;if(Kt=Me-vt,!(!Bt&&Kt>0)){if(Kt/=Bt,Bt<0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}else if(Bt>0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}if(Kt=Ye-vt,!(!Bt&&Kt<0)){if(Kt/=Bt,Bt<0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}else if(Bt>0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}if(Kt=Ee-It,!(!Yt&&Kt>0)){if(Kt/=Yt,Yt<0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}else if(Yt>0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}if(Kt=ht-It,!(!Yt&&Kt<0)){if(Kt/=Yt,Yt<0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}else if(Yt>0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}return _t>0&&(ne[0]=vt+_t*Bt,ne[1]=It+_t*Yt),Lt<1&&(de[0]=vt+Lt*Bt,de[1]=It+Lt*Yt),!0}}}}}a(nt,"clipLine");var Rt=1e9,jt=-Rt;function Xt(ne,de,Me,Ee){function Ye(Ut,_t){return ne<=Ut&&Ut<=Me&&de<=_t&&_t<=Ee}a(Ye,"visible");function ht(Ut,_t,Lt,Bt){var Yt=0,Kt=0;if(Ut==null||(Yt=vt(Ut,Lt))!==(Kt=vt(_t,Lt))||Mt(Ut,_t)<0^Lt>0)do Bt.point(Yt===0||Yt===3?ne:Me,Yt>1?Ee:de);while((Yt=(Yt+Lt+4)%4)!==Kt);else Bt.point(_t[0],_t[1])}a(ht,"interpolate");function vt(Ut,_t){return E(Ut[0]-ne)<o?_t>0?0:3:E(Ut[0]-Me)<o?_t>0?2:1:E(Ut[1]-de)<o?_t>0?1:0:_t>0?3:2}a(vt,"corner");function It(Ut,_t){return Mt(Ut.x,_t.x)}a(It,"compareIntersection");function Mt(Ut,_t){var Lt=vt(Ut,1),Bt=vt(_t,1);return Lt!==Bt?Lt-Bt:Lt===0?_t[1]-Ut[1]:Lt===1?Ut[0]-_t[0]:Lt===2?Ut[1]-_t[1]:_t[0]-Ut[0]}return a(Mt,"comparePoint"),function(Ut){var _t=Ut,Lt=Ue(),Bt,Yt,Kt,br,yr,xr,wr,Jt,nr,Ar,Pr,Sn={point:ri,lineStart:vs,lineEnd:Ia,polygonStart:Ai,polygonEnd:sn};function ri(ar,kn){Ye(ar,kn)&&_t.point(ar,kn)}a(ri,"point");function Vn(){for(var ar=0,kn=0,Qa=Yt.length;kn<Qa;++kn)for(var po=Yt[kn],vc=1,$v=po.length,Ef=po[0],vp,Sf,x6=Ef[0],py=Ef[1];vc<$v;++vc)vp=x6,Sf=py,Ef=po[vc],x6=Ef[0],py=Ef[1],Sf<=Ee?py>Ee&&(x6-vp)*(Ee-Sf)>(py-Sf)*(ne-vp)&&++ar:py<=Ee&&(x6-vp)*(Ee-Sf)<(py-Sf)*(ne-vp)&&--ar;return ar}a(Vn,"polygonInside");function Ai(){_t=Lt,Bt=[],Yt=[],Pr=!0}a(Ai,"polygonStart");function sn(){var ar=Vn(),kn=Pr&&ar,Qa=(Bt=t.merge(Bt)).length;(kn||Qa)&&(Ut.polygonStart(),kn&&(Ut.lineStart(),ht(null,null,1,Ut),Ut.lineEnd()),Qa&&xn(Bt,It,ar,ht,Ut),Ut.polygonEnd()),_t=Ut,Bt=Yt=Kt=null}a(sn,"polygonEnd");function vs(){Sn.point=fi,Yt&&Yt.push(Kt=[]),Ar=!0,nr=!1,wr=Jt=NaN}a(vs,"lineStart");function Ia(){Bt&&(fi(br,yr),xr&&nr&&Lt.rejoin(),Bt.push(Lt.result())),Sn.point=ri,nr&&_t.lineEnd()}a(Ia,"lineEnd");function fi(ar,kn){var Qa=Ye(ar,kn);if(Yt&&Kt.push([ar,kn]),Ar)br=ar,yr=kn,xr=Qa,Ar=!1,Qa&&(_t.lineStart(),_t.point(ar,kn));else if(Qa&&nr)_t.point(ar,kn);else{var po=[wr=Math.max(jt,Math.min(Rt,wr)),Jt=Math.max(jt,Math.min(Rt,Jt))],vc=[ar=Math.max(jt,Math.min(Rt,ar)),kn=Math.max(jt,Math.min(Rt,kn))];nt(po,vc,ne,de,Me,Ee)?(nr||(_t.lineStart(),_t.point(po[0],po[1])),_t.point(vc[0],vc[1]),Qa||_t.lineEnd(),Pr=!1):Qa&&(_t.lineStart(),_t.point(ar,kn),Pr=!1)}wr=ar,Jt=kn,nr=Qa}return a(fi,"linePoint"),Sn}}a(Xt,"clipRectangle");function ur(){var ne=0,de=0,Me=960,Ee=500,Ye,ht,vt;return vt={stream:function(It){return Ye&&ht===It?Ye:Ye=Xt(ne,de,Me,Ee)(ht=It)},extent:function(It){return arguments.length?(ne=+It[0][0],de=+It[0][1],Me=+It[1][0],Ee=+It[1][1],Ye=ht=null,vt):[[ne,de],[Me,Ee]]}}}a(ur,"extent");var Er=r(),Kr,Rr,jr,en={sphere:m,point:m,lineStart:Un,lineEnd:m,polygonStart:m,polygonEnd:m};function Un(){en.point=Nn,en.lineEnd=yn}a(Un,"lengthLineStart");function yn(){en.point=en.lineEnd=m}a(yn,"lengthLineEnd");function Nn(ne,de){ne*=y,de*=y,Kr=ne,Rr=B(de),jr=P(de),en.point=gi}a(Nn,"lengthPointFirst");function gi(ne,de){ne*=y,de*=y;var Me=B(de),Ee=P(de),Ye=E(ne-Kr),ht=P(Ye),vt=B(Ye),It=Ee*vt,Mt=jr*Me-Rr*Ee*ht,Ut=Rr*Me+jr*Ee*ht;Er.add(z(T(It*It+Mt*Mt),Ut)),Kr=ne,Rr=Me,jr=Ee}a(gi,"lengthPoint");function ca(ne){return Er.reset(),Z(ne,en),+Er}a(ca,"length");var ci=[null,null],Di={type:"LineString",coordinates:ci};function za(ne,de){return ci[0]=ne,ci[1]=de,ca(Di)}a(za,"distance");var Ni={Feature:function(ne,de){return Ui(ne.geometry,de)},FeatureCollection:function(ne,de){for(var Me=ne.features,Ee=-1,Ye=Me.length;++Ee<Ye;)if(Ui(Me[Ee].geometry,de))return!0;return!1}},ua={Sphere:function(){return!0},Point:function(ne,de){return Qr(ne.coordinates,de)},MultiPoint:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(Qr(Me[Ee],de))return!0;return!1},LineString:function(ne,de){return rr(ne.coordinates,de)},MultiLineString:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(rr(Me[Ee],de))return!0;return!1},Polygon:function(ne,de){return mt(ne.coordinates,de)},MultiPolygon:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(mt(Me[Ee],de))return!0;return!1},GeometryCollection:function(ne,de){for(var Me=ne.geometries,Ee=-1,Ye=Me.length;++Ee<Ye;)if(Ui(Me[Ee],de))return!0;return!1}};function Ui(ne,de){return ne&&ua.hasOwnProperty(ne.type)?ua[ne.type](ne,de):!1}a(Ui,"containsGeometry");function Qr(ne,de){return za(ne,de)===0}a(Qr,"containsPoint");function rr(ne,de){for(var Me,Ee,Ye,ht=0,vt=ne.length;ht<vt;ht++){if(Ee=za(ne[ht],de),Ee===0||ht>0&&(Ye=za(ne[ht],ne[ht-1]),Ye>0&&Me<=Ye&&Ee<=Ye&&(Me+Ee-Ye)*(1-Math.pow((Me-Ee)/Ye,2))<u*Ye))return!0;Me=Ee}return!1}a(rr,"containsLine");function mt(ne,de){return!!Ha(ne.map($t),or(de))}a(mt,"containsPolygon");function $t(ne){return ne=ne.map(or),ne.pop(),ne}a($t,"ringRadians");function or(ne){return[ne[0]*y,ne[1]*y]}a(or,"pointRadians");function Xr(ne,de){return(ne&&Ni.hasOwnProperty(ne.type)?Ni[ne.type]:Ui)(ne,de)}a(Xr,"contains");function ui(ne,de,Me){var Ee=t.range(ne,de-o,Me).concat(de);return function(Ye){return Ee.map(function(ht){return[Ye,ht]})}}a(ui,"graticuleX");function li(ne,de,Me){var Ee=t.range(ne,de-o,Me).concat(de);return function(Ye){return Ee.map(function(ht){return[ht,Ye]})}}a(li,"graticuleY");function Bn(){var ne,de,Me,Ee,Ye,ht,vt,It,Mt=10,Ut=Mt,_t=90,Lt=360,Bt,Yt,Kt,br,yr=2.5;function xr(){return{type:"MultiLineString",coordinates:wr()}}a(xr,"graticule");function wr(){return t.range(Q(Ee/_t)*_t,Me,_t).map(Kt).concat(t.range(Q(It/Lt)*Lt,vt,Lt).map(br)).concat(t.range(Q(de/Mt)*Mt,ne,Mt).filter(function(Jt){return E(Jt%_t)>o}).map(Bt)).concat(t.range(Q(ht/Ut)*Ut,Ye,Ut).filter(function(Jt){return E(Jt%Lt)>o}).map(Yt))}return a(wr,"lines"),xr.lines=function(){return wr().map(function(Jt){return{type:"LineString",coordinates:Jt}})},xr.outline=function(){return{type:"Polygon",coordinates:[Kt(Ee).concat(br(vt).slice(1),Kt(Me).reverse().slice(1),br(It).reverse().slice(1))]}},xr.extent=function(Jt){return arguments.length?xr.extentMajor(Jt).extentMinor(Jt):xr.extentMinor()},xr.extentMajor=function(Jt){return arguments.length?(Ee=+Jt[0][0],Me=+Jt[1][0],It=+Jt[0][1],vt=+Jt[1][1],Ee>Me&&(Jt=Ee,Ee=Me,Me=Jt),It>vt&&(Jt=It,It=vt,vt=Jt),xr.precision(yr)):[[Ee,It],[Me,vt]]},xr.extentMinor=function(Jt){return arguments.length?(de=+Jt[0][0],ne=+Jt[1][0],ht=+Jt[0][1],Ye=+Jt[1][1],de>ne&&(Jt=de,de=ne,ne=Jt),ht>Ye&&(Jt=ht,ht=Ye,Ye=Jt),xr.precision(yr)):[[de,ht],[ne,Ye]]},xr.step=function(Jt){return arguments.length?xr.stepMajor(Jt).stepMinor(Jt):xr.stepMinor()},xr.stepMajor=function(Jt){return arguments.length?(_t=+Jt[0],Lt=+Jt[1],xr):[_t,Lt]},xr.stepMinor=function(Jt){return arguments.length?(Mt=+Jt[0],Ut=+Jt[1],xr):[Mt,Ut]},xr.precision=function(Jt){return arguments.length?(yr=+Jt,Bt=ui(ht,Ye,90),Yt=li(de,ne,yr),Kt=ui(It,vt,90),br=li(Ee,Me,yr),xr):yr},xr.extentMajor([[-180,-90+o],[180,90-o]]).extentMinor([[-180,-80-o],[180,80+o]])}a(Bn,"graticule");function ka(){return Bn()()}a(ka,"graticule10");function Wn(ne,de){var Me=ne[0]*y,Ee=ne[1]*y,Ye=de[0]*y,ht=de[1]*y,vt=P(Ee),It=B(Ee),Mt=P(ht),Ut=B(ht),_t=vt*P(Me),Lt=vt*B(Me),Bt=Mt*P(Ye),Yt=Mt*B(Ye),Kt=2*x(T(N(ht-Ee)+vt*Mt*N(Ye-Me))),br=B(Kt),yr=Kt?function(xr){var wr=B(xr*=Kt)/br,Jt=B(Kt-xr)/br,nr=Jt*_t+wr*Bt,Ar=Jt*Lt+wr*Yt,Pr=Jt*It+wr*Ut;return[z(Ar,nr)*g,z(Pr,T(nr*nr+Ar*Ar))*g]}:function(){return[Me*g,Ee*g]};return yr.distance=Kt,yr}a(Wn,"interpolate");function Fs(ne){return ne}a(Fs,"identity");var Ca=r(),qo=r(),xf,al,is,wf,Us={point:m,lineStart:m,lineEnd:m,polygonStart:function(){Us.lineStart=y6,Us.lineEnd=Af},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=m,Ca.add(E(qo)),qo.reset()},result:function(){var ne=Ca/2;return Ca.reset(),ne}};function y6(){Us.point=qv}a(y6,"areaRingStart$1");function qv(ne,de){Us.point=mc,xf=is=ne,al=wf=de}a(qv,"areaPointFirst$1");function mc(ne,de){qo.add(wf*ne-is*de),is=ne,wf=de}a(mc,"areaPoint$1");function Af(){mc(xf,al)}a(Af,"areaRingEnd$1");var Ys=1/0,Po=Ys,sl=-Ys,Or=sl,fy={point:IB,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m,result:function(){var ne=[[Ys,Po],[sl,Or]];return sl=Or=-(Po=Ys=1/0),ne}};function IB(ne,de){ne<Ys&&(Ys=ne),ne>sl&&(sl=ne),de<Po&&(Po=de),de>Or&&(Or=de)}a(IB,"boundsPoint$1");var Pv=0,Fo=0,bc=0,hy=0,_d=0,Uo=0,xd=0,dn=0,C=0,X,fe,we,Fe,dt={point:Nt,lineStart:Qt,lineEnd:Ur,polygonStart:function(){dt.lineStart=Lr,dt.lineEnd=wi},polygonEnd:function(){dt.point=Nt,dt.lineStart=Qt,dt.lineEnd=Ur},result:function(){var ne=C?[xd/C,dn/C]:Uo?[hy/Uo,_d/Uo]:bc?[Pv/bc,Fo/bc]:[NaN,NaN];return Pv=Fo=bc=hy=_d=Uo=xd=dn=C=0,ne}};function Nt(ne,de){Pv+=ne,Fo+=de,++bc}a(Nt,"centroidPoint$1");function Qt(){dt.point=hr}a(Qt,"centroidLineStart$1");function hr(ne,de){dt.point=ir,Nt(we=ne,Fe=de)}a(hr,"centroidPointFirstLine");function ir(ne,de){var Me=ne-we,Ee=de-Fe,Ye=T(Me*Me+Ee*Ee);hy+=Ye*(we+ne)/2,_d+=Ye*(Fe+de)/2,Uo+=Ye,Nt(we=ne,Fe=de)}a(ir,"centroidPointLine");function Ur(){dt.point=Nt}a(Ur,"centroidLineEnd$1");function Lr(){dt.point=Yi}a(Lr,"centroidRingStart$1");function wi(){ho(X,fe)}a(wi,"centroidRingEnd$1");function Yi(ne,de){dt.point=ho,Nt(X=we=ne,fe=Fe=de)}a(Yi,"centroidPointFirstRing");function ho(ne,de){var Me=ne-we,Ee=de-Fe,Ye=T(Me*Me+Ee*Ee);hy+=Ye*(we+ne)/2,_d+=Ye*(Fe+de)/2,Uo+=Ye,Ye=Fe*ne-we*de,xd+=Ye*(we+ne),dn+=Ye*(Fe+de),C+=Ye*3,Nt(we=ne,Fe=de)}a(ho,"centroidPointRing");function dy(ne){this._context=ne}a(dy,"PathContext"),dy.prototype={_radius:4.5,pointRadius:function(ne){return this._radius=ne,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(ne,de){switch(this._point){case 0:{this._context.moveTo(ne,de),this._point=1;break}case 1:{this._context.lineTo(ne,de);break}default:{this._context.moveTo(ne+this._radius,de),this._context.arc(ne,de,this._radius,0,p);break}}},result:m};var TB=r(),MB,PX,FX,Fv,Uv,Yv={point:m,lineStart:function(){Yv.point=GOe},lineEnd:function(){MB&&UX(PX,FX),Yv.point=m},polygonStart:function(){MB=!0},polygonEnd:function(){MB=null},result:function(){var ne=+TB;return TB.reset(),ne}};function GOe(ne,de){Yv.point=UX,PX=Fv=ne,FX=Uv=de}a(GOe,"lengthPointFirst$1");function UX(ne,de){Fv-=ne,Uv-=de,TB.add(T(Fv*Fv+Uv*Uv)),Fv=ne,Uv=de}a(UX,"lengthPoint$1");function YX(){this._string=[]}a(YX,"PathString"),YX.prototype={_radius:4.5,_circle:HX(4.5),pointRadius:function(ne){return(ne=+ne)!==this._radius&&(this._radius=ne,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(ne,de){switch(this._point){case 0:{this._string.push("M",ne,",",de),this._point=1;break}case 1:{this._string.push("L",ne,",",de);break}default:{this._circle==null&&(this._circle=HX(this._radius)),this._string.push("M",ne,",",de,this._circle);break}}},result:function(){if(this._string.length){var ne=this._string.join("");return this._string=[],ne}else return null}};function HX(ne){return"m0,"+ne+"a"+ne+","+ne+" 0 1,1 0,"+-2*ne+"a"+ne+","+ne+" 0 1,1 0,"+2*ne+"z"}a(HX,"circle$1");function KOe(ne,de){var Me=4.5,Ee,Ye;function ht(vt){return vt&&(typeof Me=="function"&&Ye.pointRadius(+Me.apply(this,arguments)),Z(vt,Ee(Ye))),Ye.result()}return a(ht,"path"),ht.area=function(vt){return Z(vt,Ee(Us)),Us.result()},ht.measure=function(vt){return Z(vt,Ee(Yv)),Yv.result()},ht.bounds=function(vt){return Z(vt,Ee(fy)),fy.result()},ht.centroid=function(vt){return Z(vt,Ee(dt)),dt.result()},ht.projection=function(vt){return arguments.length?(Ee=vt==null?(ne=null,Fs):(ne=vt).stream,ht):ne},ht.context=function(vt){return arguments.length?(Ye=vt==null?(de=null,new YX):new dy(de=vt),typeof Me!="function"&&Ye.pointRadius(Me),ht):de},ht.pointRadius=function(vt){return arguments.length?(Me=typeof vt=="function"?vt:(Ye.pointRadius(+vt),+vt),ht):Me},ht.projection(ne).context(de)}a(KOe,"index");function $Oe(ne){return{stream:Hv(ne)}}a($Oe,"transform");function Hv(ne){return function(de){var Me=new BB;for(var Ee in ne)Me[Ee]=ne[Ee];return Me.stream=de,Me}}a(Hv,"transformer");function BB(){}a(BB,"TransformStream"),BB.prototype={constructor:BB,point:function(ne,de){this.stream.point(ne,de)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function RB(ne,de,Me){var Ee=ne.clipExtent&&ne.clipExtent();return ne.scale(150).translate([0,0]),Ee!=null&&ne.clipExtent(null),Z(Me,ne.stream(fy)),de(fy.result()),Ee!=null&&ne.clipExtent(Ee),ne}a(RB,"fit");function m6(ne,de,Me){return RB(ne,function(Ee){var Ye=de[1][0]-de[0][0],ht=de[1][1]-de[0][1],vt=Math.min(Ye/(Ee[1][0]-Ee[0][0]),ht/(Ee[1][1]-Ee[0][1])),It=+de[0][0]+(Ye-vt*(Ee[1][0]+Ee[0][0]))/2,Mt=+de[0][1]+(ht-vt*(Ee[1][1]+Ee[0][1]))/2;ne.scale(150*vt).translate([It,Mt])},Me)}a(m6,"fitExtent");function LB(ne,de,Me){return m6(ne,[[0,0],de],Me)}a(LB,"fitSize");function DB(ne,de,Me){return RB(ne,function(Ee){var Ye=+de,ht=Ye/(Ee[1][0]-Ee[0][0]),vt=(Ye-ht*(Ee[1][0]+Ee[0][0]))/2,It=-ht*Ee[0][1];ne.scale(150*ht).translate([vt,It])},Me)}a(DB,"fitWidth");function NB(ne,de,Me){return RB(ne,function(Ee){var Ye=+de,ht=Ye/(Ee[1][1]-Ee[0][1]),vt=-ht*Ee[0][0],It=(Ye-ht*(Ee[1][1]+Ee[0][1]))/2;ne.scale(150*ht).translate([vt,It])},Me)}a(NB,"fitHeight");var zX=16,XOe=P(30*y);function QX(ne,de){return+de?ZOe(ne,de):JOe(ne)}a(QX,"resample");function JOe(ne){return Hv({point:function(de,Me){de=ne(de,Me),this.stream.point(de[0],de[1])}})}a(JOe,"resampleNone");function ZOe(ne,de){function Me(Ee,Ye,ht,vt,It,Mt,Ut,_t,Lt,Bt,Yt,Kt,br,yr){var xr=Ut-Ee,wr=_t-Ye,Jt=xr*xr+wr*wr;if(Jt>4*de&&br--){var nr=vt+Bt,Ar=It+Yt,Pr=Mt+Kt,Sn=T(nr*nr+Ar*Ar+Pr*Pr),ri=x(Pr/=Sn),Vn=E(E(Pr)-1)<o||E(ht-Lt)<o?(ht+Lt)/2:z(Ar,nr),Ai=ne(Vn,ri),sn=Ai[0],vs=Ai[1],Ia=sn-Ee,fi=vs-Ye,ar=wr*Ia-xr*fi;(ar*ar/Jt>de||E((xr*Ia+wr*fi)/Jt-.5)>.3||vt*Bt+It*Yt+Mt*Kt<XOe)&&(Me(Ee,Ye,ht,vt,It,Mt,sn,vs,Vn,nr/=Sn,Ar/=Sn,Pr,br,yr),yr.point(sn,vs),Me(sn,vs,Vn,nr,Ar,Pr,Ut,_t,Lt,Bt,Yt,Kt,br,yr))}}return a(Me,"resampleLineTo"),function(Ee){var Ye,ht,vt,It,Mt,Ut,_t,Lt,Bt,Yt,Kt,br,yr={point:xr,lineStart:wr,lineEnd:nr,polygonStart:function(){Ee.polygonStart(),yr.lineStart=Ar},polygonEnd:function(){Ee.polygonEnd(),yr.lineStart=wr}};function xr(ri,Vn){ri=ne(ri,Vn),Ee.point(ri[0],ri[1])}a(xr,"point");function wr(){Lt=NaN,yr.point=Jt,Ee.lineStart()}a(wr,"lineStart");function Jt(ri,Vn){var Ai=te([ri,Vn]),sn=ne(ri,Vn);Me(Lt,Bt,_t,Yt,Kt,br,Lt=sn[0],Bt=sn[1],_t=ri,Yt=Ai[0],Kt=Ai[1],br=Ai[2],zX,Ee),Ee.point(Lt,Bt)}a(Jt,"linePoint");function nr(){yr.point=xr,Ee.lineEnd()}a(nr,"lineEnd");function Ar(){wr(),yr.point=Pr,yr.lineEnd=Sn}a(Ar,"ringStart");function Pr(ri,Vn){Jt(Ye=ri,Vn),ht=Lt,vt=Bt,It=Yt,Mt=Kt,Ut=br,yr.point=Jt}a(Pr,"ringPoint");function Sn(){Me(Lt,Bt,_t,Yt,Kt,br,ht,vt,Ye,It,Mt,Ut,zX,Ee),yr.lineEnd=nr,nr()}return a(Sn,"ringEnd"),yr}}a(ZOe,"resample$1");var eqe=Hv({point:function(ne,de){this.stream.point(ne*y,de*y)}});function tqe(ne){return Hv({point:function(de,Me){var Ee=ne(de,Me);return this.stream.point(Ee[0],Ee[1])}})}a(tqe,"transformRotate");function rqe(ne,de,Me,Ee,Ye){function ht(vt,It){return vt*=Ee,It*=Ye,[de+ne*vt,Me-ne*It]}return a(ht,"transform"),ht.invert=function(vt,It){return[(vt-de)/ne*Ee,(Me-It)/ne*Ye]},ht}a(rqe,"scaleTranslate");function WX(ne,de,Me,Ee,Ye,ht){var vt=P(ht),It=B(ht),Mt=vt*ne,Ut=It*ne,_t=vt/ne,Lt=It/ne,Bt=(It*Me-vt*de)/ne,Yt=(It*de+vt*Me)/ne;function Kt(br,yr){return br*=Ee,yr*=Ye,[Mt*br-Ut*yr+de,Me-Ut*br-Mt*yr]}return a(Kt,"transform"),Kt.invert=function(br,yr){return[Ee*(_t*br-Lt*yr+Bt),Ye*(Yt-Lt*br-_t*yr)]},Kt}a(WX,"scaleTranslateRotate");function ol(ne){return OB(function(){return ne})()}a(ol,"projection");function OB(ne){var de,Me=150,Ee=480,Ye=250,ht=0,vt=0,It=0,Mt=0,Ut=0,_t,Lt=0,Bt=1,Yt=1,Kt=null,br=Le,yr=null,xr,wr,Jt,nr=Fs,Ar=.5,Pr,Sn,ri,Vn,Ai;function sn(ar){return ri(ar[0]*y,ar[1]*y)}a(sn,"projection");function vs(ar){return ar=ri.invert(ar[0],ar[1]),ar&&[ar[0]*g,ar[1]*g]}a(vs,"invert"),sn.stream=function(ar){return Vn&&Ai===ar?Vn:Vn=eqe(tqe(_t)(br(Pr(nr(Ai=ar)))))},sn.preclip=function(ar){return arguments.length?(br=ar,Kt=void 0,fi()):br},sn.postclip=function(ar){return arguments.length?(nr=ar,yr=xr=wr=Jt=null,fi()):nr},sn.clipAngle=function(ar){return arguments.length?(br=+ar?Et(Kt=ar*y):(Kt=null,Le),fi()):Kt*g},sn.clipExtent=function(ar){return arguments.length?(nr=ar==null?(yr=xr=wr=Jt=null,Fs):Xt(yr=+ar[0][0],xr=+ar[0][1],wr=+ar[1][0],Jt=+ar[1][1]),fi()):yr==null?null:[[yr,xr],[wr,Jt]]},sn.scale=function(ar){return arguments.length?(Me=+ar,Ia()):Me},sn.translate=function(ar){return arguments.length?(Ee=+ar[0],Ye=+ar[1],Ia()):[Ee,Ye]},sn.center=function(ar){return arguments.length?(ht=ar[0]%360*y,vt=ar[1]%360*y,Ia()):[ht*g,vt*g]},sn.rotate=function(ar){return arguments.length?(It=ar[0]%360*y,Mt=ar[1]%360*y,Ut=ar.length>2?ar[2]%360*y:0,Ia()):[It*g,Mt*g,Ut*g]},sn.angle=function(ar){return arguments.length?(Lt=ar%360*y,Ia()):Lt*g},sn.reflectX=function(ar){return arguments.length?(Bt=ar?-1:1,Ia()):Bt<0},sn.reflectY=function(ar){return arguments.length?(Yt=ar?-1:1,Ia()):Yt<0},sn.precision=function(ar){return arguments.length?(Pr=QX(Sn,Ar=ar*ar),fi()):T(Ar)},sn.fitExtent=function(ar,kn){return m6(sn,ar,kn)},sn.fitSize=function(ar,kn){return LB(sn,ar,kn)},sn.fitWidth=function(ar,kn){return DB(sn,ar,kn)},sn.fitHeight=function(ar,kn){return NB(sn,ar,kn)};function Ia(){var ar=WX(Me,0,0,Bt,Yt,Lt).apply(null,de(ht,vt)),kn=(Lt?WX:rqe)(Me,Ee-ar[0],Ye-ar[1],Bt,Yt,Lt);return _t=Ze(It,Mt,Ut),Sn=Br(de,kn),ri=Br(_t,Sn),Pr=QX(Sn,Ar),fi()}a(Ia,"recenter");function fi(){return Vn=Ai=null,sn}return a(fi,"reset"),function(){return de=ne.apply(this,arguments),sn.invert=de.invert&&vs,Ia()}}a(OB,"projectionMutator");function qB(ne){var de=0,Me=l/3,Ee=OB(ne),Ye=Ee(de,Me);return Ye.parallels=function(ht){return arguments.length?Ee(de=ht[0]*y,Me=ht[1]*y):[de*g,Me*g]},Ye}a(qB,"conicProjection");function nqe(ne){var de=P(ne);function Me(Ee,Ye){return[Ee*de,B(Ye)/de]}return a(Me,"forward"),Me.invert=function(Ee,Ye){return[Ee/de,x(Ye*de)]},Me}a(nqe,"cylindricalEqualAreaRaw");function VX(ne,de){var Me=B(ne),Ee=(Me+B(de))/2;if(E(Ee)<o)return nqe(ne);var Ye=1+Me*(2*Ee-Me),ht=T(Ye)/Ee;function vt(It,Mt){var Ut=T(Ye-2*Ee*B(Mt))/Ee;return[Ut*B(It*=Ee),ht-Ut*P(It)]}return a(vt,"project"),vt.invert=function(It,Mt){var Ut=ht-Mt,_t=z(It,E(Ut))*S(Ut);return Ut*Ee<0&&(_t-=l*S(It)*S(Ut)),[_t/Ee,x((Ye-(It*It+Ut*Ut)*Ee*Ee)/(2*Ee))]},vt}a(VX,"conicEqualAreaRaw");function b6(){return qB(VX).scale(155.424).center([0,33.6442])}a(b6,"conicEqualArea");function jX(){return b6().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}a(jX,"albers");function iqe(ne){var de=ne.length;return{point:function(Me,Ee){for(var Ye=-1;++Ye<de;)ne[Ye].point(Me,Ee)},sphere:function(){for(var Me=-1;++Me<de;)ne[Me].sphere()},lineStart:function(){for(var Me=-1;++Me<de;)ne[Me].lineStart()},lineEnd:function(){for(var Me=-1;++Me<de;)ne[Me].lineEnd()},polygonStart:function(){for(var Me=-1;++Me<de;)ne[Me].polygonStart()},polygonEnd:function(){for(var Me=-1;++Me<de;)ne[Me].polygonEnd()}}}a(iqe,"multiplex");function aqe(){var ne,de,Me=jX(),Ee,Ye=b6().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ht,vt=b6().rotate([157,0]).center([-3,19.9]).parallels([8,18]),It,Mt,Ut={point:function(Bt,Yt){Mt=[Bt,Yt]}};function _t(Bt){var Yt=Bt[0],Kt=Bt[1];return Mt=null,Ee.point(Yt,Kt),Mt||(ht.point(Yt,Kt),Mt)||(It.point(Yt,Kt),Mt)}a(_t,"albersUsa"),_t.invert=function(Bt){var Yt=Me.scale(),Kt=Me.translate(),br=(Bt[0]-Kt[0])/Yt,yr=(Bt[1]-Kt[1])/Yt;return(yr>=.12&&yr<.234&&br>=-.425&&br<-.214?Ye:yr>=.166&&yr<.234&&br>=-.214&&br<-.115?vt:Me).invert(Bt)},_t.stream=function(Bt){return ne&&de===Bt?ne:ne=iqe([Me.stream(de=Bt),Ye.stream(Bt),vt.stream(Bt)])},_t.precision=function(Bt){return arguments.length?(Me.precision(Bt),Ye.precision(Bt),vt.precision(Bt),Lt()):Me.precision()},_t.scale=function(Bt){return arguments.length?(Me.scale(Bt),Ye.scale(Bt*.35),vt.scale(Bt),_t.translate(Me.translate())):Me.scale()},_t.translate=function(Bt){if(!arguments.length)return Me.translate();var Yt=Me.scale(),Kt=+Bt[0],br=+Bt[1];return Ee=Me.translate(Bt).clipExtent([[Kt-.455*Yt,br-.238*Yt],[Kt+.455*Yt,br+.238*Yt]]).stream(Ut),ht=Ye.translate([Kt-.307*Yt,br+.201*Yt]).clipExtent([[Kt-.425*Yt+o,br+.12*Yt+o],[Kt-.214*Yt-o,br+.234*Yt-o]]).stream(Ut),It=vt.translate([Kt-.205*Yt,br+.212*Yt]).clipExtent([[Kt-.214*Yt+o,br+.166*Yt+o],[Kt-.115*Yt-o,br+.234*Yt-o]]).stream(Ut),Lt()},_t.fitExtent=function(Bt,Yt){return m6(_t,Bt,Yt)},_t.fitSize=function(Bt,Yt){return LB(_t,Bt,Yt)},_t.fitWidth=function(Bt,Yt){return DB(_t,Bt,Yt)},_t.fitHeight=function(Bt,Yt){return NB(_t,Bt,Yt)};function Lt(){return ne=de=null,_t}return a(Lt,"reset"),_t.scale(1070)}a(aqe,"albersUsa");function GX(ne){return function(de,Me){var Ee=P(de),Ye=P(Me),ht=ne(Ee*Ye);return[ht*Ye*B(de),ht*B(Me)]}}a(GX,"azimuthalRaw");function zv(ne){return function(de,Me){var Ee=T(de*de+Me*Me),Ye=ne(Ee),ht=B(Ye),vt=P(Ye);return[z(de*ht,Ee*vt),x(Ee&&Me*ht/Ee)]}}a(zv,"azimuthalInvert");var PB=GX(function(ne){return T(2/(1+ne))});PB.invert=zv(function(ne){return 2*x(ne/2)});function sqe(){return ol(PB).scale(124.75).clipAngle(180-.001)}a(sqe,"azimuthalEqualArea");var FB=GX(function(ne){return(ne=R(ne))&&ne/B(ne)});FB.invert=zv(function(ne){return ne});function oqe(){return ol(FB).scale(79.4188).clipAngle(180-.001)}a(oqe,"azimuthalEquidistant");function Qv(ne,de){return[ne,W(k((f+de)/2))]}a(Qv,"mercatorRaw"),Qv.invert=function(ne,de){return[ne,2*M(V(de))-f]};function cqe(){return KX(Qv).scale(961/p)}a(cqe,"mercator");function KX(ne){var de=ol(ne),Me=de.center,Ee=de.scale,Ye=de.translate,ht=de.clipExtent,vt=null,It,Mt,Ut;de.scale=function(Lt){return arguments.length?(Ee(Lt),_t()):Ee()},de.translate=function(Lt){return arguments.length?(Ye(Lt),_t()):Ye()},de.center=function(Lt){return arguments.length?(Me(Lt),_t()):Me()},de.clipExtent=function(Lt){return arguments.length?(Lt==null?vt=It=Mt=Ut=null:(vt=+Lt[0][0],It=+Lt[0][1],Mt=+Lt[1][0],Ut=+Lt[1][1]),_t()):vt==null?null:[[vt,It],[Mt,Ut]]};function _t(){var Lt=l*Ee(),Bt=de(Ot(de.rotate()).invert([0,0]));return ht(vt==null?[[Bt[0]-Lt,Bt[1]-Lt],[Bt[0]+Lt,Bt[1]+Lt]]:ne===Qv?[[Math.max(Bt[0]-Lt,vt),It],[Math.min(Bt[0]+Lt,Mt),Ut]]:[[vt,Math.max(Bt[1]-Lt,It)],[Mt,Math.min(Bt[1]+Lt,Ut)]])}return a(_t,"reclip"),_t()}a(KX,"mercatorProjection");function v6(ne){return k((f+ne)/2)}a(v6,"tany");function $X(ne,de){var Me=P(ne),Ee=ne===de?B(ne):W(Me/P(de))/W(v6(de)/v6(ne)),Ye=Me*F(v6(ne),Ee)/Ee;if(!Ee)return Qv;function ht(vt,It){Ye>0?It<-f+o&&(It=-f+o):It>f-o&&(It=f-o);var Mt=Ye/F(v6(It),Ee);return[Mt*B(Ee*vt),Ye-Mt*P(Ee*vt)]}return a(ht,"project"),ht.invert=function(vt,It){var Mt=Ye-It,Ut=S(Ee)*T(vt*vt+Mt*Mt),_t=z(vt,E(Mt))*S(Mt);return Mt*Ee<0&&(_t-=l*S(vt)*S(Mt)),[_t/Ee,2*M(F(Ye/Ut,1/Ee))-f]},ht}a($X,"conicConformalRaw");function uqe(){return qB($X).scale(109.5).parallels([30,30])}a(uqe,"conicConformal");function Wv(ne,de){return[ne,de]}a(Wv,"equirectangularRaw"),Wv.invert=Wv;function lqe(){return ol(Wv).scale(152.63)}a(lqe,"equirectangular");function XX(ne,de){var Me=P(ne),Ee=ne===de?B(ne):(Me-P(de))/(de-ne),Ye=Me/Ee+ne;if(E(Ee)<o)return Wv;function ht(vt,It){var Mt=Ye-It,Ut=Ee*vt;return[Mt*B(Ut),Ye-Mt*P(Ut)]}return a(ht,"project"),ht.invert=function(vt,It){var Mt=Ye-It,Ut=z(vt,E(Mt))*S(Mt);return Mt*Ee<0&&(Ut-=l*S(vt)*S(Mt)),[Ut/Ee,Ye-S(Ee)*T(vt*vt+Mt*Mt)]},ht}a(XX,"conicEquidistantRaw");function fqe(){return qB(XX).scale(131.154).center([0,13.9389])}a(fqe,"conicEquidistant");var Vv=1.340264,jv=-.081106,Gv=893e-6,Kv=.003796,_6=T(3)/2,hqe=12;function UB(ne,de){var Me=x(_6*B(de)),Ee=Me*Me,Ye=Ee*Ee*Ee;return[ne*P(Me)/(_6*(Vv+3*jv*Ee+Ye*(7*Gv+9*Kv*Ee))),Me*(Vv+jv*Ee+Ye*(Gv+Kv*Ee))]}a(UB,"equalEarthRaw"),UB.invert=function(ne,de){for(var Me=de,Ee=Me*Me,Ye=Ee*Ee*Ee,ht=0,vt,It,Mt;ht<hqe&&(It=Me*(Vv+jv*Ee+Ye*(Gv+Kv*Ee))-de,Mt=Vv+3*jv*Ee+Ye*(7*Gv+9*Kv*Ee),Me-=vt=It/Mt,Ee=Me*Me,Ye=Ee*Ee*Ee,!(E(vt)<u));++ht);return[_6*ne*(Vv+3*jv*Ee+Ye*(7*Gv+9*Kv*Ee))/P(Me),x(B(Me)/_6)]};function dqe(){return ol(UB).scale(177.158)}a(dqe,"equalEarth");function YB(ne,de){var Me=P(de),Ee=P(ne)*Me;return[Me*B(ne)/Ee,B(de)/Ee]}a(YB,"gnomonicRaw"),YB.invert=zv(M);function pqe(){return ol(YB).scale(144.049).clipAngle(60)}a(pqe,"gnomonic");function gqe(){var ne=1,de=0,Me=0,Ee=1,Ye=1,ht=0,vt,It,Mt=null,Ut,_t,Lt,Bt=1,Yt=1,Kt=Hv({point:function(nr,Ar){var Pr=Jt([nr,Ar]);this.stream.point(Pr[0],Pr[1])}}),br=Fs,yr,xr;function wr(){return Bt=ne*Ee,Yt=ne*Ye,yr=xr=null,Jt}a(wr,"reset");function Jt(nr){var Ar=nr[0]*Bt,Pr=nr[1]*Yt;if(ht){var Sn=Pr*vt-Ar*It;Ar=Ar*vt+Pr*It,Pr=Sn}return[Ar+de,Pr+Me]}return a(Jt,"projection"),Jt.invert=function(nr){var Ar=nr[0]-de,Pr=nr[1]-Me;if(ht){var Sn=Pr*vt+Ar*It;Ar=Ar*vt-Pr*It,Pr=Sn}return[Ar/Bt,Pr/Yt]},Jt.stream=function(nr){return yr&&xr===nr?yr:yr=Kt(br(xr=nr))},Jt.postclip=function(nr){return arguments.length?(br=nr,Mt=Ut=_t=Lt=null,wr()):br},Jt.clipExtent=function(nr){return arguments.length?(br=nr==null?(Mt=Ut=_t=Lt=null,Fs):Xt(Mt=+nr[0][0],Ut=+nr[0][1],_t=+nr[1][0],Lt=+nr[1][1]),wr()):Mt==null?null:[[Mt,Ut],[_t,Lt]]},Jt.scale=function(nr){return arguments.length?(ne=+nr,wr()):ne},Jt.translate=function(nr){return arguments.length?(de=+nr[0],Me=+nr[1],wr()):[de,Me]},Jt.angle=function(nr){return arguments.length?(ht=nr%360*y,It=B(ht),vt=P(ht),wr()):ht*g},Jt.reflectX=function(nr){return arguments.length?(Ee=nr?-1:1,wr()):Ee<0},Jt.reflectY=function(nr){return arguments.length?(Ye=nr?-1:1,wr()):Ye<0},Jt.fitExtent=function(nr,Ar){return m6(Jt,nr,Ar)},Jt.fitSize=function(nr,Ar){return LB(Jt,nr,Ar)},Jt.fitWidth=function(nr,Ar){return DB(Jt,nr,Ar)},Jt.fitHeight=function(nr,Ar){return NB(Jt,nr,Ar)},Jt}a(gqe,"identity$1");function HB(ne,de){var Me=de*de,Ee=Me*Me;return[ne*(.8707-.131979*Me+Ee*(-.013791+Ee*(.003971*Me-.001529*Ee))),de*(1.007226+Me*(.015085+Ee*(-.044475+.028874*Me-.005916*Ee)))]}a(HB,"naturalEarth1Raw"),HB.invert=function(ne,de){var Me=de,Ee=25,Ye;do{var ht=Me*Me,vt=ht*ht;Me-=Ye=(Me*(1.007226+ht*(.015085+vt*(-.044475+.028874*ht-.005916*vt)))-de)/(1.007226+ht*(.015085*3+vt*(-.044475*7+.028874*9*ht-.005916*11*vt)))}while(E(Ye)>o&&--Ee>0);return[ne/(.8707+(ht=Me*Me)*(-.131979+ht*(-.013791+ht*ht*ht*(.003971-.001529*ht)))),Me]};function yqe(){return ol(HB).scale(175.295)}a(yqe,"naturalEarth1");function zB(ne,de){return[P(de)*B(ne),B(de)]}a(zB,"orthographicRaw"),zB.invert=zv(x);function mqe(){return ol(zB).scale(249.5).clipAngle(90+o)}a(mqe,"orthographic");function QB(ne,de){var Me=P(de),Ee=1+P(ne)*Me;return[Me*B(ne)/Ee,B(de)/Ee]}a(QB,"stereographicRaw"),QB.invert=zv(function(ne){return 2*M(ne)});function bqe(){return ol(QB).scale(250).clipAngle(142)}a(bqe,"stereographic");function WB(ne,de){return[W(k((f+de)/2)),-ne]}a(WB,"transverseMercatorRaw"),WB.invert=function(ne,de){return[-de,2*M(V(ne))-f]};function vqe(){var ne=KX(WB),de=ne.center,Me=ne.rotate;return ne.center=function(Ee){return arguments.length?de([-Ee[1],Ee[0]]):(Ee=de(),[Ee[1],-Ee[0]])},ne.rotate=function(Ee){return arguments.length?Me([Ee[0],Ee[1],Ee.length>2?Ee[2]+90:90]):(Ee=Me(),[Ee[0],Ee[1],Ee[2]-90])},Me([0,0,90]).scale(159.155)}a(vqe,"transverseMercator"),e.geoAlbers=jX,e.geoAlbersUsa=aqe,e.geoArea=I,e.geoAzimuthalEqualArea=sqe,e.geoAzimuthalEqualAreaRaw=PB,e.geoAzimuthalEquidistant=oqe,e.geoAzimuthalEquidistantRaw=FB,e.geoBounds=Wt,e.geoCentroid=fr,e.geoCircle=er,e.geoClipAntimeridian=Le,e.geoClipCircle=Et,e.geoClipExtent=ur,e.geoClipRectangle=Xt,e.geoConicConformal=uqe,e.geoConicConformalRaw=$X,e.geoConicEqualArea=b6,e.geoConicEqualAreaRaw=VX,e.geoConicEquidistant=fqe,e.geoConicEquidistantRaw=XX,e.geoContains=Xr,e.geoDistance=za,e.geoEqualEarth=dqe,e.geoEqualEarthRaw=UB,e.geoEquirectangular=lqe,e.geoEquirectangularRaw=Wv,e.geoGnomonic=pqe,e.geoGnomonicRaw=YB,e.geoGraticule=Bn,e.geoGraticule10=ka,e.geoIdentity=gqe,e.geoInterpolate=Wn,e.geoLength=ca,e.geoMercator=cqe,e.geoMercatorRaw=Qv,e.geoNaturalEarth1=yqe,e.geoNaturalEarth1Raw=HB,e.geoOrthographic=mqe,e.geoOrthographicRaw=zB,e.geoPath=KOe,e.geoProjection=ol,e.geoProjectionMutator=OB,e.geoRotation=Ot,e.geoStereographic=bqe,e.geoStereographicRaw=QB,e.geoStream=Z,e.geoTransform=$Oe,e.geoTransverseMercator=vqe,e.geoTransverseMercatorRaw=WB,Object.defineProperty(e,"__esModule",{value:!0})})});var xMe=j((zT,_Me)=>{d();(function(e,t){typeof zT=="object"&&typeof _Me<"u"?t(zT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(zT,function(e){"use strict";function t(Se,Ie){return Se.parent===Ie.parent?1:2}a(t,"defaultSeparation");function r(Se){return Se.reduce(n,0)/Se.length}a(r,"meanX");function n(Se,Ie){return Se+Ie.x}a(n,"meanXReduce");function i(Se){return 1+Se.reduce(s,0)}a(i,"maxY");function s(Se,Ie){return Math.max(Se,Ie.y)}a(s,"maxYReduce");function o(Se){for(var Ie;Ie=Se.children;)Se=Ie[0];return Se}a(o,"leafLeft");function u(Se){for(var Ie;Ie=Se.children;)Se=Ie[Ie.length-1];return Se}a(u,"leafRight");function l(){var Se=t,Ie=1,ue=1,_e=!1;function ae(ce){var re,le=0;ce.eachAfter(function(ke){var st=ke.children;st?(ke.x=r(st),ke.y=i(st)):(ke.x=re?le+=Se(ke,re):0,ke.y=0,re=ke)});var me=o(ce),Ae=u(ce),Oe=me.x-Se(me,Ae)/2,Ge=Ae.x+Se(Ae,me)/2;return ce.eachAfter(_e?function(ke){ke.x=(ke.x-ce.x)*Ie,ke.y=(ce.y-ke.y)*ue}:function(ke){ke.x=(ke.x-Oe)/(Ge-Oe)*Ie,ke.y=(1-(ce.y?ke.y/ce.y:1))*ue})}return a(ae,"cluster"),ae.separation=function(ce){return arguments.length?(Se=ce,ae):Se},ae.size=function(ce){return arguments.length?(_e=!1,Ie=+ce[0],ue=+ce[1],ae):_e?null:[Ie,ue]},ae.nodeSize=function(ce){return arguments.length?(_e=!0,Ie=+ce[0],ue=+ce[1],ae):_e?[Ie,ue]:null},ae}a(l,"cluster");function f(Se){var Ie=0,ue=Se.children,_e=ue&&ue.length;if(!_e)Ie=1;else for(;--_e>=0;)Ie+=ue[_e].value;Se.value=Ie}a(f,"count");function h(){return this.eachAfter(f)}a(h,"node_count");function p(Se){var Ie=this,ue,_e=[Ie],ae,ce,re;do for(ue=_e.reverse(),_e=[];Ie=ue.pop();)if(Se(Ie),ae=Ie.children,ae)for(ce=0,re=ae.length;ce<re;++ce)_e.push(ae[ce]);while(_e.length);return this}a(p,"node_each");function g(Se){for(var Ie=this,ue=[Ie],_e,ae;Ie=ue.pop();)if(Se(Ie),_e=Ie.children,_e)for(ae=_e.length-1;ae>=0;--ae)ue.push(_e[ae]);return this}a(g,"node_eachBefore");function y(Se){for(var Ie=this,ue=[Ie],_e=[],ae,ce,re;Ie=ue.pop();)if(_e.push(Ie),ae=Ie.children,ae)for(ce=0,re=ae.length;ce<re;++ce)ue.push(ae[ce]);for(;Ie=_e.pop();)Se(Ie);return this}a(y,"node_eachAfter");function E(Se){return this.eachAfter(function(Ie){for(var ue=+Se(Ie.data)||0,_e=Ie.children,ae=_e&&_e.length;--ae>=0;)ue+=_e[ae].value;Ie.value=ue})}a(E,"node_sum");function M(Se){return this.eachBefore(function(Ie){Ie.children&&Ie.children.sort(Se)})}a(M,"node_sort");function z(Se){for(var Ie=this,ue=P(Ie,Se),_e=[Ie];Ie!==ue;)Ie=Ie.parent,_e.push(Ie);for(var ae=_e.length;Se!==ue;)_e.splice(ae,0,Se),Se=Se.parent;return _e}a(z,"node_path");function P(Se,Ie){if(Se===Ie)return Se;var ue=Se.ancestors(),_e=Ie.ancestors(),ae=null;for(Se=ue.pop(),Ie=_e.pop();Se===Ie;)ae=Se,Se=ue.pop(),Ie=_e.pop();return ae}a(P,"leastCommonAncestor");function Q(){for(var Se=this,Ie=[Se];Se=Se.parent;)Ie.push(Se);return Ie}a(Q,"node_ancestors");function V(){var Se=[];return this.each(function(Ie){Se.push(Ie)}),Se}a(V,"node_descendants");function W(){var Se=[];return this.eachBefore(function(Ie){Ie.children||Se.push(Ie)}),Se}a(W,"node_leaves");function F(){var Se=this,Ie=[];return Se.each(function(ue){ue!==Se&&Ie.push({source:ue.parent,target:ue})}),Ie}a(F,"node_links");function B(Se,Ie){var ue=new x(Se),_e=+Se.value&&(ue.value=Se.value),ae,ce=[ue],re,le,me,Ae;for(Ie==null&&(Ie=T);ae=ce.pop();)if(_e&&(ae.value=+ae.data.value),(le=Ie(ae.data))&&(Ae=le.length))for(ae.children=new Array(Ae),me=Ae-1;me>=0;--me)ce.push(re=ae.children[me]=new x(le[me])),re.parent=ae,re.depth=ae.depth+1;return ue.eachBefore(R)}a(B,"hierarchy");function S(){return B(this).eachBefore(k)}a(S,"node_copy");function T(Se){return Se.children}a(T,"defaultChildren");function k(Se){Se.data=Se.data.data}a(k,"copyData");function R(Se){var Ie=0;do Se.height=Ie;while((Se=Se.parent)&&Se.height<++Ie)}a(R,"computeHeight");function x(Se){this.data=Se,this.depth=this.height=0,this.parent=null}a(x,"Node"),x.prototype=B.prototype={constructor:x,count:h,each:p,eachAfter:y,eachBefore:g,sum:E,sort:M,path:z,ancestors:Q,descendants:V,leaves:W,links:F,copy:S};var N=Array.prototype.slice;function m(Se){for(var Ie=Se.length,ue,_e;Ie;)_e=Math.random()*Ie--|0,ue=Se[Ie],Se[Ie]=Se[_e],Se[_e]=ue;return Se}a(m,"shuffle");function v(Se){for(var Ie=0,ue=(Se=m(N.call(Se))).length,_e=[],ae,ce;Ie<ue;)ae=Se[Ie],ce&&G(ce,ae)?++Ie:(ce=Z(_e=A(_e,ae)),Ie=0);return ce}a(v,"enclose");function A(Se,Ie){var ue,_e;if(K(Ie,Se))return[Ie];for(ue=0;ue<Se.length;++ue)if(U(Ie,Se[ue])&&K($(Se[ue],Ie),Se))return[Se[ue],Ie];for(ue=0;ue<Se.length-1;++ue)for(_e=ue+1;_e<Se.length;++_e)if(U($(Se[ue],Se[_e]),Ie)&&U($(Se[ue],Ie),Se[_e])&&U($(Se[_e],Ie),Se[ue])&&K(L(Se[ue],Se[_e],Ie),Se))return[Se[ue],Se[_e],Ie];throw new Error}a(A,"extendBasis");function U(Se,Ie){var ue=Se.r-Ie.r,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return ue<0||ue*ue<_e*_e+ae*ae}a(U,"enclosesNot");function G(Se,Ie){var ue=Se.r-Ie.r+1e-6,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return ue>0&&ue*ue>_e*_e+ae*ae}a(G,"enclosesWeak");function K(Se,Ie){for(var ue=0;ue<Ie.length;++ue)if(!G(Se,Ie[ue]))return!1;return!0}a(K,"enclosesWeakAll");function Z(Se){switch(Se.length){case 1:return O(Se[0]);case 2:return $(Se[0],Se[1]);case 3:return L(Se[0],Se[1],Se[2])}}a(Z,"encloseBasis");function O(Se){return{x:Se.x,y:Se.y,r:Se.r}}a(O,"encloseBasis1");function $(Se,Ie){var ue=Se.x,_e=Se.y,ae=Se.r,ce=Ie.x,re=Ie.y,le=Ie.r,me=ce-ue,Ae=re-_e,Oe=le-ae,Ge=Math.sqrt(me*me+Ae*Ae);return{x:(ue+ce+me/Ge*Oe)/2,y:(_e+re+Ae/Ge*Oe)/2,r:(Ge+ae+le)/2}}a($,"encloseBasis2");function L(Se,Ie,ue){var _e=Se.x,ae=Se.y,ce=Se.r,re=Ie.x,le=Ie.y,me=Ie.r,Ae=ue.x,Oe=ue.y,Ge=ue.r,ke=_e-re,st=_e-Ae,yt=ae-le,pt=ae-Oe,wt=me-ce,Gt=Ge-ce,Pt=_e*_e+ae*ae-ce*ce,tr=Pt-re*re-le*le+me*me,cr=Pt-Ae*Ae-Oe*Oe+Ge*Ge,pr=st*yt-ke*pt,Cr=(yt*cr-pt*tr)/(pr*2)-_e,Wr=(pt*wt-yt*Gt)/pr,Tr=(st*tr-ke*cr)/(pr*2)-ae,lr=(ke*Gt-st*wt)/pr,fr=Wr*Wr+lr*lr-1,Mr=2*(ce+Cr*Wr+Tr*lr),Br=Cr*Cr+Tr*Tr-ce*ce,Ne=-(fr?(Mr+Math.sqrt(Mr*Mr-4*fr*Br))/(2*fr):Br/Mr);return{x:_e+Cr+Wr*Ne,y:ae+Tr+lr*Ne,r:Ne}}a(L,"encloseBasis3");function ee(Se,Ie,ue){var _e=Se.x-Ie.x,ae,ce,re=Se.y-Ie.y,le,me,Ae=_e*_e+re*re;Ae?(ce=Ie.r+ue.r,ce*=ce,me=Se.r+ue.r,me*=me,ce>me?(ae=(Ae+me-ce)/(2*Ae),le=Math.sqrt(Math.max(0,me/Ae-ae*ae)),ue.x=Se.x-ae*_e-le*re,ue.y=Se.y-ae*re+le*_e):(ae=(Ae+ce-me)/(2*Ae),le=Math.sqrt(Math.max(0,ce/Ae-ae*ae)),ue.x=Ie.x+ae*_e-le*re,ue.y=Ie.y+ae*re+le*_e)):(ue.x=Ie.x+ue.r,ue.y=Ie.y)}a(ee,"place");function ve(Se,Ie){var ue=Se.r+Ie.r-1e-6,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return ue>0&&ue*ue>_e*_e+ae*ae}a(ve,"intersects");function ye(Se){var Ie=Se._,ue=Se.next._,_e=Ie.r+ue.r,ae=(Ie.x*ue.r+ue.x*Ie.r)/_e,ce=(Ie.y*ue.r+ue.y*Ie.r)/_e;return ae*ae+ce*ce}a(ye,"score");function se(Se){this._=Se,this.next=null,this.previous=null}a(se,"Node$1");function be(Se){if(!(ae=Se.length))return 0;var Ie,ue,_e,ae,ce,re,le,me,Ae,Oe,Ge;if(Ie=Se[0],Ie.x=0,Ie.y=0,!(ae>1))return Ie.r;if(ue=Se[1],Ie.x=-ue.r,ue.x=Ie.r,ue.y=0,!(ae>2))return Ie.r+ue.r;ee(ue,Ie,_e=Se[2]),Ie=new se(Ie),ue=new se(ue),_e=new se(_e),Ie.next=_e.previous=ue,ue.next=Ie.previous=_e,_e.next=ue.previous=Ie;e:for(le=3;le<ae;++le){ee(Ie._,ue._,_e=Se[le]),_e=new se(_e),me=ue.next,Ae=Ie.previous,Oe=ue._.r,Ge=Ie._.r;do if(Oe<=Ge){if(ve(me._,_e._)){ue=me,Ie.next=ue,ue.previous=Ie,--le;continue e}Oe+=me._.r,me=me.next}else{if(ve(Ae._,_e._)){Ie=Ae,Ie.next=ue,ue.previous=Ie,--le;continue e}Ge+=Ae._.r,Ae=Ae.previous}while(me!==Ae.next);for(_e.previous=Ie,_e.next=ue,Ie.next=ue.previous=ue=_e,ce=ye(Ie);(_e=_e.next)!==ue;)(re=ye(_e))<ce&&(Ie=_e,ce=re);ue=Ie.next}for(Ie=[ue._],_e=ue;(_e=_e.next)!==ue;)Ie.push(_e._);for(_e=v(Ie),le=0;le<ae;++le)Ie=Se[le],Ie.x-=_e.x,Ie.y-=_e.y;return _e.r}a(be,"packEnclose");function Y(Se){return be(Se),Se}a(Y,"siblings");function D(Se){return Se==null?null:J(Se)}a(D,"optional");function J(Se){if(typeof Se!="function")throw new Error;return Se}a(J,"required");function q(){return 0}a(q,"constantZero");function I(Se){return function(){return Se}}a(I,"constant");function H(Se){return Math.sqrt(Se.value)}a(H,"defaultRadius");function te(){var Se=null,Ie=1,ue=1,_e=q;function ae(ce){return ce.x=Ie/2,ce.y=ue/2,Se?ce.eachBefore(ie(Se)).eachAfter(he(_e,.5)).eachBefore(De(1)):ce.eachBefore(ie(H)).eachAfter(he(q,1)).eachAfter(he(_e,ce.r/Math.min(Ie,ue))).eachBefore(De(Math.min(Ie,ue)/(2*ce.r))),ce}return a(ae,"pack"),ae.radius=function(ce){return arguments.length?(Se=D(ce),ae):Se},ae.size=function(ce){return arguments.length?(Ie=+ce[0],ue=+ce[1],ae):[Ie,ue]},ae.padding=function(ce){return arguments.length?(_e=typeof ce=="function"?ce:I(+ce),ae):_e},ae}a(te,"index");function ie(Se){return function(Ie){Ie.children||(Ie.r=Math.max(0,+Se(Ie)||0))}}a(ie,"radiusLeaf");function he(Se,Ie){return function(ue){if(_e=ue.children){var _e,ae,ce=_e.length,re=Se(ue)*Ie||0,le;if(re)for(ae=0;ae<ce;++ae)_e[ae].r+=re;if(le=be(_e),re)for(ae=0;ae<ce;++ae)_e[ae].r-=re;ue.r=le+re}}}a(he,"packChildren");function De(Se){return function(Ie){var ue=Ie.parent;Ie.r*=Se,ue&&(Ie.x=ue.x+Se*Ie.x,Ie.y=ue.y+Se*Ie.y)}}a(De,"translateChild");function $e(Se){Se.x0=Math.round(Se.x0),Se.y0=Math.round(Se.y0),Se.x1=Math.round(Se.x1),Se.y1=Math.round(Se.y1)}a($e,"roundNode");function ze(Se,Ie,ue,_e,ae){for(var ce=Se.children,re,le=-1,me=ce.length,Ae=Se.value&&(_e-Ie)/Se.value;++le<me;)re=ce[le],re.y0=ue,re.y1=ae,re.x0=Ie,re.x1=Ie+=re.value*Ae}a(ze,"treemapDice");function Qe(){var Se=1,Ie=1,ue=0,_e=!1;function ae(re){var le=re.height+1;return re.x0=re.y0=ue,re.x1=Se,re.y1=Ie/le,re.eachBefore(ce(Ie,le)),_e&&re.eachBefore($e),re}a(ae,"partition");function ce(re,le){return function(me){me.children&&ze(me,me.x0,re*(me.depth+1)/le,me.x1,re*(me.depth+2)/le);var Ae=me.x0,Oe=me.y0,Ge=me.x1-ue,ke=me.y1-ue;Ge<Ae&&(Ae=Ge=(Ae+Ge)/2),ke<Oe&&(Oe=ke=(Oe+ke)/2),me.x0=Ae,me.y0=Oe,me.x1=Ge,me.y1=ke}}return a(ce,"positionNode"),ae.round=function(re){return arguments.length?(_e=!!re,ae):_e},ae.size=function(re){return arguments.length?(Se=+re[0],Ie=+re[1],ae):[Se,Ie]},ae.padding=function(re){return arguments.length?(ue=+re,ae):ue},ae}a(Qe,"partition");var je="$",We={depth:-1},Ce={};function Te(Se){return Se.id}a(Te,"defaultId");function Je(Se){return Se.parentId}a(Je,"defaultParentId");function rt(){var Se=Te,Ie=Je;function ue(_e){var ae,ce,re=_e.length,le,me,Ae,Oe=new Array(re),Ge,ke,st={};for(ce=0;ce<re;++ce)ae=_e[ce],Ae=Oe[ce]=new x(ae),(Ge=Se(ae,ce,_e))!=null&&(Ge+="")&&(ke=je+(Ae.id=Ge),st[ke]=ke in st?Ce:Ae);for(ce=0;ce<re;++ce)if(Ae=Oe[ce],Ge=Ie(_e[ce],ce,_e),Ge==null||!(Ge+="")){if(le)throw new Error("multiple roots");le=Ae}else{if(me=st[je+Ge],!me)throw new Error("missing: "+Ge);if(me===Ce)throw new Error("ambiguous: "+Ge);me.children?me.children.push(Ae):me.children=[Ae],Ae.parent=me}if(!le)throw new Error("no root");if(le.parent=We,le.eachBefore(function(yt){yt.depth=yt.parent.depth+1,--re}).eachBefore(R),le.parent=null,re>0)throw new Error("cycle");return le}return a(ue,"stratify"),ue.id=function(_e){return arguments.length?(Se=J(_e),ue):Se},ue.parentId=function(_e){return arguments.length?(Ie=J(_e),ue):Ie},ue}a(rt,"stratify");function ge(Se,Ie){return Se.parent===Ie.parent?1:2}a(ge,"defaultSeparation$1");function xe(Se){var Ie=Se.children;return Ie?Ie[0]:Se.t}a(xe,"nextLeft");function qe(Se){var Ie=Se.children;return Ie?Ie[Ie.length-1]:Se.t}a(qe,"nextRight");function ot(Se,Ie,ue){var _e=ue/(Ie.i-Se.i);Ie.c-=_e,Ie.s+=ue,Se.c+=_e,Ie.z+=ue,Ie.m+=ue}a(ot,"moveSubtree");function at(Se){for(var Ie=0,ue=0,_e=Se.children,ae=_e.length,ce;--ae>=0;)ce=_e[ae],ce.z+=Ie,ce.m+=Ie,Ie+=ce.s+(ue+=ce.c)}a(at,"executeShifts");function pe(Se,Ie,ue){return Se.a.parent===Ie.parent?Se.a:ue}a(pe,"nextAncestor");function Re(Se,Ie){this._=Se,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ie}a(Re,"TreeNode"),Re.prototype=Object.create(x.prototype);function He(Se){for(var Ie=new Re(Se,0),ue,_e=[Ie],ae,ce,re,le;ue=_e.pop();)if(ce=ue._.children)for(ue.children=new Array(le=ce.length),re=le-1;re>=0;--re)_e.push(ae=ue.children[re]=new Re(ce[re],re)),ae.parent=ue;return(Ie.parent=new Re(null,0)).children=[Ie],Ie}a(He,"treeRoot");function tt(){var Se=ge,Ie=1,ue=1,_e=null;function ae(Ae){var Oe=He(Ae);if(Oe.eachAfter(ce),Oe.parent.m=-Oe.z,Oe.eachBefore(re),_e)Ae.eachBefore(me);else{var Ge=Ae,ke=Ae,st=Ae;Ae.eachBefore(function(Pt){Pt.x<Ge.x&&(Ge=Pt),Pt.x>ke.x&&(ke=Pt),Pt.depth>st.depth&&(st=Pt)});var yt=Ge===ke?1:Se(Ge,ke)/2,pt=yt-Ge.x,wt=Ie/(ke.x+yt+pt),Gt=ue/(st.depth||1);Ae.eachBefore(function(Pt){Pt.x=(Pt.x+pt)*wt,Pt.y=Pt.depth*Gt})}return Ae}a(ae,"tree");function ce(Ae){var Oe=Ae.children,Ge=Ae.parent.children,ke=Ae.i?Ge[Ae.i-1]:null;if(Oe){at(Ae);var st=(Oe[0].z+Oe[Oe.length-1].z)/2;ke?(Ae.z=ke.z+Se(Ae._,ke._),Ae.m=Ae.z-st):Ae.z=st}else ke&&(Ae.z=ke.z+Se(Ae._,ke._));Ae.parent.A=le(Ae,ke,Ae.parent.A||Ge[0])}a(ce,"firstWalk");function re(Ae){Ae._.x=Ae.z+Ae.parent.m,Ae.m+=Ae.parent.m}a(re,"secondWalk");function le(Ae,Oe,Ge){if(Oe){for(var ke=Ae,st=Ae,yt=Oe,pt=ke.parent.children[0],wt=ke.m,Gt=st.m,Pt=yt.m,tr=pt.m,cr;yt=qe(yt),ke=xe(ke),yt&&ke;)pt=xe(pt),st=qe(st),st.a=Ae,cr=yt.z+Pt-ke.z-wt+Se(yt._,ke._),cr>0&&(ot(pe(yt,Ae,Ge),Ae,cr),wt+=cr,Gt+=cr),Pt+=yt.m,wt+=ke.m,tr+=pt.m,Gt+=st.m;yt&&!qe(st)&&(st.t=yt,st.m+=Pt-Gt),ke&&!xe(pt)&&(pt.t=ke,pt.m+=wt-tr,Ge=Ae)}return Ge}a(le,"apportion");function me(Ae){Ae.x*=Ie,Ae.y=Ae.depth*ue}return a(me,"sizeNode"),ae.separation=function(Ae){return arguments.length?(Se=Ae,ae):Se},ae.size=function(Ae){return arguments.length?(_e=!1,Ie=+Ae[0],ue=+Ae[1],ae):_e?null:[Ie,ue]},ae.nodeSize=function(Ae){return arguments.length?(_e=!0,Ie=+Ae[0],ue=+Ae[1],ae):_e?[Ie,ue]:null},ae}a(tt,"tree");function Ve(Se,Ie,ue,_e,ae){for(var ce=Se.children,re,le=-1,me=ce.length,Ae=Se.value&&(ae-ue)/Se.value;++le<me;)re=ce[le],re.x0=Ie,re.x1=_e,re.y0=ue,re.y1=ue+=re.value*Ae}a(Ve,"treemapSlice");var et=(1+Math.sqrt(5))/2;function gt(Se,Ie,ue,_e,ae,ce){for(var re=[],le=Ie.children,me,Ae,Oe=0,Ge=0,ke=le.length,st,yt,pt=Ie.value,wt,Gt,Pt,tr,cr,pr,Cr;Oe<ke;){st=ae-ue,yt=ce-_e;do wt=le[Ge++].value;while(!wt&&Ge<ke);for(Gt=Pt=wt,pr=Math.max(yt/st,st/yt)/(pt*Se),Cr=wt*wt*pr,cr=Math.max(Pt/Cr,Cr/Gt);Ge<ke;++Ge){if(wt+=Ae=le[Ge].value,Ae<Gt&&(Gt=Ae),Ae>Pt&&(Pt=Ae),Cr=wt*wt*pr,tr=Math.max(Pt/Cr,Cr/Gt),tr>cr){wt-=Ae;break}cr=tr}re.push(me={value:wt,dice:st<yt,children:le.slice(Oe,Ge)}),me.dice?ze(me,ue,_e,ae,pt?_e+=yt*wt/pt:ce):Ve(me,ue,_e,pt?ue+=st*wt/pt:ae,ce),pt-=wt,Oe=Ge}return re}a(gt,"squarifyRatio");var ut=a(function Se(Ie){function ue(_e,ae,ce,re,le){gt(Ie,_e,ae,ce,re,le)}return a(ue,"squarify"),ue.ratio=function(_e){return Se((_e=+_e)>1?_e:1)},ue},"custom")(et);function zt(){var Se=ut,Ie=!1,ue=1,_e=1,ae=[0],ce=q,re=q,le=q,me=q,Ae=q;function Oe(ke){return ke.x0=ke.y0=0,ke.x1=ue,ke.y1=_e,ke.eachBefore(Ge),ae=[0],Ie&&ke.eachBefore($e),ke}a(Oe,"treemap");function Ge(ke){var st=ae[ke.depth],yt=ke.x0+st,pt=ke.y0+st,wt=ke.x1-st,Gt=ke.y1-st;wt<yt&&(yt=wt=(yt+wt)/2),Gt<pt&&(pt=Gt=(pt+Gt)/2),ke.x0=yt,ke.y0=pt,ke.x1=wt,ke.y1=Gt,ke.children&&(st=ae[ke.depth+1]=ce(ke)/2,yt+=Ae(ke)-st,pt+=re(ke)-st,wt-=le(ke)-st,Gt-=me(ke)-st,wt<yt&&(yt=wt=(yt+wt)/2),Gt<pt&&(pt=Gt=(pt+Gt)/2),Se(ke,yt,pt,wt,Gt))}return a(Ge,"positionNode"),Oe.round=function(ke){return arguments.length?(Ie=!!ke,Oe):Ie},Oe.size=function(ke){return arguments.length?(ue=+ke[0],_e=+ke[1],Oe):[ue,_e]},Oe.tile=function(ke){return arguments.length?(Se=J(ke),Oe):Se},Oe.padding=function(ke){return arguments.length?Oe.paddingInner(ke).paddingOuter(ke):Oe.paddingInner()},Oe.paddingInner=function(ke){return arguments.length?(ce=typeof ke=="function"?ke:I(+ke),Oe):ce},Oe.paddingOuter=function(ke){return arguments.length?Oe.paddingTop(ke).paddingRight(ke).paddingBottom(ke).paddingLeft(ke):Oe.paddingTop()},Oe.paddingTop=function(ke){return arguments.length?(re=typeof ke=="function"?ke:I(+ke),Oe):re},Oe.paddingRight=function(ke){return arguments.length?(le=typeof ke=="function"?ke:I(+ke),Oe):le},Oe.paddingBottom=function(ke){return arguments.length?(me=typeof ke=="function"?ke:I(+ke),Oe):me},Oe.paddingLeft=function(ke){return arguments.length?(Ae=typeof ke=="function"?ke:I(+ke),Oe):Ae},Oe}a(zt,"index$1");function it(Se,Ie,ue,_e,ae){var ce=Se.children,re,le=ce.length,me,Ae=new Array(le+1);for(Ae[0]=me=re=0;re<le;++re)Ae[re+1]=me+=ce[re].value;Oe(0,le,Se.value,Ie,ue,_e,ae);function Oe(Ge,ke,st,yt,pt,wt,Gt){if(Ge>=ke-1){var Pt=ce[Ge];Pt.x0=yt,Pt.y0=pt,Pt.x1=wt,Pt.y1=Gt;return}for(var tr=Ae[Ge],cr=st/2+tr,pr=Ge+1,Cr=ke-1;pr<Cr;){var Wr=pr+Cr>>>1;Ae[Wr]<cr?pr=Wr+1:Cr=Wr}cr-Ae[pr-1]<Ae[pr]-cr&&Ge+1<pr&&--pr;var Tr=Ae[pr]-tr,lr=st-Tr;if(wt-yt>Gt-pt){var fr=(yt*lr+wt*Tr)/st;Oe(Ge,pr,Tr,yt,pt,fr,Gt),Oe(pr,ke,lr,fr,pt,wt,Gt)}else{var Mr=(pt*lr+Gt*Tr)/st;Oe(Ge,pr,Tr,yt,pt,wt,Mr),Oe(pr,ke,lr,yt,Mr,wt,Gt)}}a(Oe,"partition")}a(it,"binary");function Wt(Se,Ie,ue,_e,ae){(Se.depth&1?Ve:ze)(Se,Ie,ue,_e,ae)}a(Wt,"sliceDice");var bt=a(function Se(Ie){function ue(_e,ae,ce,re,le){if((me=_e._squarify)&&me.ratio===Ie)for(var me,Ae,Oe,Ge,ke=-1,st,yt=me.length,pt=_e.value;++ke<yt;){for(Ae=me[ke],Oe=Ae.children,Ge=Ae.value=0,st=Oe.length;Ge<st;++Ge)Ae.value+=Oe[Ge].value;Ae.dice?ze(Ae,ae,ce,re,ce+=(le-ce)*Ae.value/pt):Ve(Ae,ae,ce,ae+=(re-ae)*Ae.value/pt,le),pt-=Ae.value}else _e._squarify=me=gt(Ie,_e,ae,ce,re,le),me.ratio=Ie}return a(ue,"resquarify"),ue.ratio=function(_e){return Se((_e=+_e)>1?_e:1)},ue},"custom")(et);e.cluster=l,e.hierarchy=B,e.pack=te,e.packEnclose=v,e.packSiblings=Y,e.partition=Qe,e.stratify=rt,e.tree=tt,e.treemap=zt,e.treemapBinary=it,e.treemapDice=ze,e.treemapResquarify=bt,e.treemapSlice=Ve,e.treemapSliceDice=Wt,e.treemapSquarify=ut,Object.defineProperty(e,"__esModule",{value:!0})})});var AMe=j((QT,wMe)=>{d();(function(e,t){typeof QT=="object"&&typeof wMe<"u"?t(QT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(QT,function(e){"use strict";function t(f){for(var h=-1,p=f.length,g,y=f[p-1],E=0;++h<p;)g=y,y=f[h],E+=g[1]*y[0]-g[0]*y[1];return E/2}a(t,"area");function r(f){for(var h=-1,p=f.length,g=0,y=0,E,M=f[p-1],z,P=0;++h<p;)E=M,M=f[h],P+=z=E[0]*M[1]-M[0]*E[1],g+=(E[0]+M[0])*z,y+=(E[1]+M[1])*z;return P*=3,[g/P,y/P]}a(r,"centroid");function n(f,h,p){return(h[0]-f[0])*(p[1]-f[1])-(h[1]-f[1])*(p[0]-f[0])}a(n,"cross");function i(f,h){return f[0]-h[0]||f[1]-h[1]}a(i,"lexicographicOrder");function s(f){for(var h=f.length,p=[0,1],g=2,y=2;y<h;++y){for(;g>1&&n(f[p[g-2]],f[p[g-1]],f[y])<=0;)--g;p[g++]=y}return p.slice(0,g)}a(s,"computeUpperHullIndexes");function o(f){if((p=f.length)<3)return null;var h,p,g=new Array(p),y=new Array(p);for(h=0;h<p;++h)g[h]=[+f[h][0],+f[h][1],h];for(g.sort(i),h=0;h<p;++h)y[h]=[g[h][0],-g[h][1]];var E=s(g),M=s(y),z=M[0]===E[0],P=M[M.length-1]===E[E.length-1],Q=[];for(h=E.length-1;h>=0;--h)Q.push(f[g[E[h]][2]]);for(h=+z;h<M.length-P;++h)Q.push(f[g[M[h]][2]]);return Q}a(o,"hull");function u(f,h){for(var p=f.length,g=f[p-1],y=h[0],E=h[1],M=g[0],z=g[1],P,Q,V=!1,W=0;W<p;++W)g=f[W],P=g[0],Q=g[1],Q>E!=z>E&&y<(M-P)*(E-Q)/(z-Q)+P&&(V=!V),M=P,z=Q;return V}a(u,"contains");function l(f){for(var h=-1,p=f.length,g=f[p-1],y,E,M=g[0],z=g[1],P=0;++h<p;)y=M,E=z,g=f[h],M=g[0],z=g[1],y-=M,E-=z,P+=Math.sqrt(y*y+E*E);return P}a(l,"length"),e.polygonArea=t,e.polygonCentroid=r,e.polygonContains=u,e.polygonHull=o,e.polygonLength=l,Object.defineProperty(e,"__esModule",{value:!0})})});var SMe=j((WT,EMe)=>{d();(function(e,t){typeof WT=="object"&&typeof EMe<"u"?t(WT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(WT,function(e){"use strict";function t(){return Math.random()}a(t,"defaultSource");var r=a(function l(f){function h(p,g){return p=p==null?0:+p,g=g==null?1:+g,arguments.length===1?(g=p,p=0):g-=p,function(){return f()*g+p}}return a(h,"randomUniform"),h.source=l,h},"sourceRandomUniform")(t),n=a(function l(f){function h(p,g){var y,E;return p=p==null?0:+p,g=g==null?1:+g,function(){var M;if(y!=null)M=y,y=null;else do y=f()*2-1,M=f()*2-1,E=y*y+M*M;while(!E||E>1);return p+g*M*Math.sqrt(-2*Math.log(E)/E)}}return a(h,"randomNormal"),h.source=l,h},"sourceRandomNormal")(t),i=a(function l(f){function h(){var p=n.source(f).apply(this,arguments);return function(){return Math.exp(p())}}return a(h,"randomLogNormal"),h.source=l,h},"sourceRandomLogNormal")(t),s=a(function l(f){function h(p){return function(){for(var g=0,y=0;y<p;++y)g+=f();return g}}return a(h,"randomIrwinHall"),h.source=l,h},"sourceRandomIrwinHall")(t),o=a(function l(f){function h(p){var g=s.source(f)(p);return function(){return g()/p}}return a(h,"randomBates"),h.source=l,h},"sourceRandomBates")(t),u=a(function l(f){function h(p){return function(){return-Math.log(1-f())/p}}return a(h,"randomExponential"),h.source=l,h},"sourceRandomExponential")(t);e.randomUniform=r,e.randomNormal=n,e.randomLogNormal=i,e.randomBates=o,e.randomIrwinHall=s,e.randomExponential=u,Object.defineProperty(e,"__esModule",{value:!0})})});var jT=j((VT,kMe)=>{d();(function(e,t){typeof VT=="object"&&typeof kMe<"u"?t(VT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(VT,function(e){"use strict";var t=new Date,r=new Date;function n(ge,xe,qe,ot){function at(pe){return ge(pe=arguments.length===0?new Date:new Date(+pe)),pe}return a(at,"interval"),at.floor=function(pe){return ge(pe=new Date(+pe)),pe},at.ceil=function(pe){return ge(pe=new Date(pe-1)),xe(pe,1),ge(pe),pe},at.round=function(pe){var Re=at(pe),He=at.ceil(pe);return pe-Re<He-pe?Re:He},at.offset=function(pe,Re){return xe(pe=new Date(+pe),Re==null?1:Math.floor(Re)),pe},at.range=function(pe,Re,He){var tt=[],Ve;if(pe=at.ceil(pe),He=He==null?1:Math.floor(He),!(pe<Re)||!(He>0))return tt;do tt.push(Ve=new Date(+pe)),xe(pe,He),ge(pe);while(Ve<pe&&pe<Re);return tt},at.filter=function(pe){return n(function(Re){if(Re>=Re)for(;ge(Re),!pe(Re);)Re.setTime(Re-1)},function(Re,He){if(Re>=Re)if(He<0)for(;++He<=0;)for(;xe(Re,-1),!pe(Re););else for(;--He>=0;)for(;xe(Re,1),!pe(Re););})},qe&&(at.count=function(pe,Re){return t.setTime(+pe),r.setTime(+Re),ge(t),ge(r),Math.floor(qe(t,r))},at.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?at.filter(ot?function(Re){return ot(Re)%pe===0}:function(Re){return at.count(0,Re)%pe===0}):at}),at}a(n,"newInterval");var i=n(function(){},function(ge,xe){ge.setTime(+ge+xe)},function(ge,xe){return xe-ge});i.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(xe){xe.setTime(Math.floor(xe/ge)*ge)},function(xe,qe){xe.setTime(+xe+qe*ge)},function(xe,qe){return(qe-xe)/ge}):i};var s=i.range,o=1e3,u=6e4,l=36e5,f=864e5,h=6048e5,p=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,xe){ge.setTime(+ge+xe*o)},function(ge,xe){return(xe-ge)/o},function(ge){return ge.getUTCSeconds()}),g=p.range,y=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o)},function(ge,xe){ge.setTime(+ge+xe*u)},function(ge,xe){return(xe-ge)/u},function(ge){return ge.getMinutes()}),E=y.range,M=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o-ge.getMinutes()*u)},function(ge,xe){ge.setTime(+ge+xe*l)},function(ge,xe){return(xe-ge)/l},function(ge){return ge.getHours()}),z=M.range,P=n(function(ge){ge.setHours(0,0,0,0)},function(ge,xe){ge.setDate(ge.getDate()+xe)},function(ge,xe){return(xe-ge-(xe.getTimezoneOffset()-ge.getTimezoneOffset())*u)/f},function(ge){return ge.getDate()-1}),Q=P.range;function V(ge){return n(function(xe){xe.setDate(xe.getDate()-(xe.getDay()+7-ge)%7),xe.setHours(0,0,0,0)},function(xe,qe){xe.setDate(xe.getDate()+qe*7)},function(xe,qe){return(qe-xe-(qe.getTimezoneOffset()-xe.getTimezoneOffset())*u)/h})}a(V,"weekday");var W=V(0),F=V(1),B=V(2),S=V(3),T=V(4),k=V(5),R=V(6),x=W.range,N=F.range,m=B.range,v=S.range,A=T.range,U=k.range,G=R.range,K=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,xe){ge.setMonth(ge.getMonth()+xe)},function(ge,xe){return xe.getMonth()-ge.getMonth()+(xe.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),Z=K.range,O=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,xe){ge.setFullYear(ge.getFullYear()+xe)},function(ge,xe){return xe.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});O.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(xe){xe.setFullYear(Math.floor(xe.getFullYear()/ge)*ge),xe.setMonth(0,1),xe.setHours(0,0,0,0)},function(xe,qe){xe.setFullYear(xe.getFullYear()+qe*ge)})};var $=O.range,L=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,xe){ge.setTime(+ge+xe*u)},function(ge,xe){return(xe-ge)/u},function(ge){return ge.getUTCMinutes()}),ee=L.range,ve=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,xe){ge.setTime(+ge+xe*l)},function(ge,xe){return(xe-ge)/l},function(ge){return ge.getUTCHours()}),ye=ve.range,se=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCDate(ge.getUTCDate()+xe)},function(ge,xe){return(xe-ge)/f},function(ge){return ge.getUTCDate()-1}),be=se.range;function Y(ge){return n(function(xe){xe.setUTCDate(xe.getUTCDate()-(xe.getUTCDay()+7-ge)%7),xe.setUTCHours(0,0,0,0)},function(xe,qe){xe.setUTCDate(xe.getUTCDate()+qe*7)},function(xe,qe){return(qe-xe)/h})}a(Y,"utcWeekday");var D=Y(0),J=Y(1),q=Y(2),I=Y(3),H=Y(4),te=Y(5),ie=Y(6),he=D.range,De=J.range,$e=q.range,ze=I.range,Qe=H.range,je=te.range,We=ie.range,Ce=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCMonth(ge.getUTCMonth()+xe)},function(ge,xe){return xe.getUTCMonth()-ge.getUTCMonth()+(xe.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Te=Ce.range,Je=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCFullYear(ge.getUTCFullYear()+xe)},function(ge,xe){return xe.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Je.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(xe){xe.setUTCFullYear(Math.floor(xe.getUTCFullYear()/ge)*ge),xe.setUTCMonth(0,1),xe.setUTCHours(0,0,0,0)},function(xe,qe){xe.setUTCFullYear(xe.getUTCFullYear()+qe*ge)})};var rt=Je.range;e.timeDay=P,e.timeDays=Q,e.timeFriday=k,e.timeFridays=U,e.timeHour=M,e.timeHours=z,e.timeInterval=n,e.timeMillisecond=i,e.timeMilliseconds=s,e.timeMinute=y,e.timeMinutes=E,e.timeMonday=F,e.timeMondays=N,e.timeMonth=K,e.timeMonths=Z,e.timeSaturday=R,e.timeSaturdays=G,e.timeSecond=p,e.timeSeconds=g,e.timeSunday=W,e.timeSundays=x,e.timeThursday=T,e.timeThursdays=A,e.timeTuesday=B,e.timeTuesdays=m,e.timeWednesday=S,e.timeWednesdays=v,e.timeWeek=W,e.timeWeeks=x,e.timeYear=O,e.timeYears=$,e.utcDay=se,e.utcDays=be,e.utcFriday=te,e.utcFridays=je,e.utcHour=ve,e.utcHours=ye,e.utcMillisecond=i,e.utcMilliseconds=s,e.utcMinute=L,e.utcMinutes=ee,e.utcMonday=J,e.utcMondays=De,e.utcMonth=Ce,e.utcMonths=Te,e.utcSaturday=ie,e.utcSaturdays=We,e.utcSecond=p,e.utcSeconds=g,e.utcSunday=D,e.utcSundays=he,e.utcThursday=H,e.utcThursdays=Qe,e.utcTuesday=q,e.utcTuesdays=$e,e.utcWednesday=I,e.utcWednesdays=ze,e.utcWeek=D,e.utcWeeks=he,e.utcYear=Je,e.utcYears=rt,Object.defineProperty(e,"__esModule",{value:!0})})});var LG=j((GT,CMe)=>{d();(function(e,t){typeof GT=="object"&&typeof CMe<"u"?t(GT,jT()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(GT,function(e,t){"use strict";function r(ae){if(0<=ae.y&&ae.y<100){var ce=new Date(-1,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L);return ce.setFullYear(ae.y),ce}return new Date(ae.y,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L)}a(r,"localDate");function n(ae){if(0<=ae.y&&ae.y<100){var ce=new Date(Date.UTC(-1,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L));return ce.setUTCFullYear(ae.y),ce}return new Date(Date.UTC(ae.y,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L))}a(n,"utcDate");function i(ae,ce,re){return{y:ae,m:ce,d:re,H:0,M:0,S:0,L:0}}a(i,"newDate");function s(ae){var ce=ae.dateTime,re=ae.date,le=ae.time,me=ae.periods,Ae=ae.days,Oe=ae.shortDays,Ge=ae.months,ke=ae.shortMonths,st=g(me),yt=y(me),pt=g(Ae),wt=y(Ae),Gt=g(Oe),Pt=y(Oe),tr=g(Ge),cr=y(Ge),pr=g(ke),Cr=y(ke),Wr={a:er,A:Ue,b:Ir,B:ct,c:null,d:K,e:K,f:ee,g:te,G:he,H:Z,I:O,j:$,L,m:ve,M:ye,p:xn,q:Mn,Q:ut,s:zt,S:se,u:be,U:Y,V:J,w:q,W:I,x:null,X:null,y:H,Y:ie,Z:De,"%":gt},Tr={a:Fi,A:Ya,b:Ha,B:hn,c:null,d:$e,e:$e,f:Ce,g:He,G:Ve,H:ze,I:Qe,j:je,L:We,m:Te,M:Je,p:oe,q:Be,Q:ut,s:zt,S:rt,u:ge,U:xe,V:ot,w:at,W:pe,x:null,X:null,y:Re,Y:tt,Z:et,"%":gt},lr={a:Ze,A:Tt,b:Ft,B:At,c:Ot,d:T,e:T,f:v,g:W,G:V,H:R,I:R,j:k,L:m,m:S,M:x,p:Ne,q:B,Q:U,s:G,S:N,u:M,U:z,V:P,w:E,W:Q,x:Vt,X:Ct,y:W,Y:V,Z:F,"%":A};Wr.x=fr(re,Wr),Wr.X=fr(le,Wr),Wr.c=fr(ce,Wr),Tr.x=fr(re,Tr),Tr.X=fr(le,Tr),Tr.c=fr(ce,Tr);function fr(Le,Xe){return function(lt){var Ke=[],Et=-1,nt=0,Rt=Le.length,jt,Xt,ur;for(lt instanceof Date||(lt=new Date(+lt));++Et<Rt;)Le.charCodeAt(Et)===37&&(Ke.push(Le.slice(nt,Et)),(Xt=o[jt=Le.charAt(++Et)])!=null?jt=Le.charAt(++Et):Xt=jt==="e"?" ":"0",(ur=Xe[jt])&&(jt=ur(lt,Xt)),Ke.push(jt),nt=Et+1);return Ke.push(Le.slice(nt,Et)),Ke.join("")}}a(fr,"newFormat");function Mr(Le,Xe){return function(lt){var Ke=i(1900,void 0,1),Et=Br(Ke,Le,lt+="",0),nt,Rt;if(Et!=lt.length)return null;if("Q"in Ke)return new Date(Ke.Q);if("s"in Ke)return new Date(Ke.s*1e3+("L"in Ke?Ke.L:0));if(Xe&&!("Z"in Ke)&&(Ke.Z=0),"p"in Ke&&(Ke.H=Ke.H%12+Ke.p*12),Ke.m===void 0&&(Ke.m="q"in Ke?Ke.q:0),"V"in Ke){if(Ke.V<1||Ke.V>53)return null;"w"in Ke||(Ke.w=1),"Z"in Ke?(nt=n(i(Ke.y,0,1)),Rt=nt.getUTCDay(),nt=Rt>4||Rt===0?t.utcMonday.ceil(nt):t.utcMonday(nt),nt=t.utcDay.offset(nt,(Ke.V-1)*7),Ke.y=nt.getUTCFullYear(),Ke.m=nt.getUTCMonth(),Ke.d=nt.getUTCDate()+(Ke.w+6)%7):(nt=r(i(Ke.y,0,1)),Rt=nt.getDay(),nt=Rt>4||Rt===0?t.timeMonday.ceil(nt):t.timeMonday(nt),nt=t.timeDay.offset(nt,(Ke.V-1)*7),Ke.y=nt.getFullYear(),Ke.m=nt.getMonth(),Ke.d=nt.getDate()+(Ke.w+6)%7)}else("W"in Ke||"U"in Ke)&&("w"in Ke||(Ke.w="u"in Ke?Ke.u%7:"W"in Ke?1:0),Rt="Z"in Ke?n(i(Ke.y,0,1)).getUTCDay():r(i(Ke.y,0,1)).getDay(),Ke.m=0,Ke.d="W"in Ke?(Ke.w+6)%7+Ke.W*7-(Rt+5)%7:Ke.w+Ke.U*7-(Rt+6)%7);return"Z"in Ke?(Ke.H+=Ke.Z/100|0,Ke.M+=Ke.Z%100,n(Ke)):r(Ke)}}a(Mr,"newParse");function Br(Le,Xe,lt,Ke){for(var Et=0,nt=Xe.length,Rt=lt.length,jt,Xt;Et<nt;){if(Ke>=Rt)return-1;if(jt=Xe.charCodeAt(Et++),jt===37){if(jt=Xe.charAt(Et++),Xt=lr[jt in o?Xe.charAt(Et++):jt],!Xt||(Ke=Xt(Le,lt,Ke))<0)return-1}else if(jt!=lt.charCodeAt(Ke++))return-1}return Ke}a(Br,"parseSpecifier");function Ne(Le,Xe,lt){var Ke=st.exec(Xe.slice(lt));return Ke?(Le.p=yt[Ke[0].toLowerCase()],lt+Ke[0].length):-1}a(Ne,"parsePeriod");function Ze(Le,Xe,lt){var Ke=Gt.exec(Xe.slice(lt));return Ke?(Le.w=Pt[Ke[0].toLowerCase()],lt+Ke[0].length):-1}a(Ze,"parseShortWeekday");function Tt(Le,Xe,lt){var Ke=pt.exec(Xe.slice(lt));return Ke?(Le.w=wt[Ke[0].toLowerCase()],lt+Ke[0].length):-1}a(Tt,"parseWeekday");function Ft(Le,Xe,lt){var Ke=pr.exec(Xe.slice(lt));return Ke?(Le.m=Cr[Ke[0].toLowerCase()],lt+Ke[0].length):-1}a(Ft,"parseShortMonth");function At(Le,Xe,lt){var Ke=tr.exec(Xe.slice(lt));return Ke?(Le.m=cr[Ke[0].toLowerCase()],lt+Ke[0].length):-1}a(At,"parseMonth");function Ot(Le,Xe,lt){return Br(Le,ce,Xe,lt)}a(Ot,"parseLocaleDateTime");function Vt(Le,Xe,lt){return Br(Le,re,Xe,lt)}a(Vt,"parseLocaleDate");function Ct(Le,Xe,lt){return Br(Le,le,Xe,lt)}a(Ct,"parseLocaleTime");function er(Le){return Oe[Le.getDay()]}a(er,"formatShortWeekday");function Ue(Le){return Ae[Le.getDay()]}a(Ue,"formatWeekday");function Ir(Le){return ke[Le.getMonth()]}a(Ir,"formatShortMonth");function ct(Le){return Ge[Le.getMonth()]}a(ct,"formatMonth");function xn(Le){return me[+(Le.getHours()>=12)]}a(xn,"formatPeriod");function Mn(Le){return 1+~~(Le.getMonth()/3)}a(Mn,"formatQuarter");function Fi(Le){return Oe[Le.getUTCDay()]}a(Fi,"formatUTCShortWeekday");function Ya(Le){return Ae[Le.getUTCDay()]}a(Ya,"formatUTCWeekday");function Ha(Le){return ke[Le.getUTCMonth()]}a(Ha,"formatUTCShortMonth");function hn(Le){return Ge[Le.getUTCMonth()]}a(hn,"formatUTCMonth");function oe(Le){return me[+(Le.getUTCHours()>=12)]}a(oe,"formatUTCPeriod");function Be(Le){return 1+~~(Le.getUTCMonth()/3)}return a(Be,"formatUTCQuarter"),{format:function(Le){var Xe=fr(Le+="",Wr);return Xe.toString=function(){return Le},Xe},parse:function(Le){var Xe=Mr(Le+="",!1);return Xe.toString=function(){return Le},Xe},utcFormat:function(Le){var Xe=fr(Le+="",Tr);return Xe.toString=function(){return Le},Xe},utcParse:function(Le){var Xe=Mr(Le+="",!0);return Xe.toString=function(){return Le},Xe}}}a(s,"formatLocale");var o={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,f=/[\\^$*+?|[\]().{}]/g;function h(ae,ce,re){var le=ae<0?"-":"",me=(le?-ae:ae)+"",Ae=me.length;return le+(Ae<re?new Array(re-Ae+1).join(ce)+me:me)}a(h,"pad");function p(ae){return ae.replace(f,"\\$&")}a(p,"requote");function g(ae){return new RegExp("^(?:"+ae.map(p).join("|")+")","i")}a(g,"formatRe");function y(ae){for(var ce={},re=-1,le=ae.length;++re<le;)ce[ae[re].toLowerCase()]=re;return ce}a(y,"formatLookup");function E(ae,ce,re){var le=u.exec(ce.slice(re,re+1));return le?(ae.w=+le[0],re+le[0].length):-1}a(E,"parseWeekdayNumberSunday");function M(ae,ce,re){var le=u.exec(ce.slice(re,re+1));return le?(ae.u=+le[0],re+le[0].length):-1}a(M,"parseWeekdayNumberMonday");function z(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.U=+le[0],re+le[0].length):-1}a(z,"parseWeekNumberSunday");function P(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.V=+le[0],re+le[0].length):-1}a(P,"parseWeekNumberISO");function Q(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.W=+le[0],re+le[0].length):-1}a(Q,"parseWeekNumberMonday");function V(ae,ce,re){var le=u.exec(ce.slice(re,re+4));return le?(ae.y=+le[0],re+le[0].length):-1}a(V,"parseFullYear");function W(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.y=+le[0]+(+le[0]>68?1900:2e3),re+le[0].length):-1}a(W,"parseYear");function F(ae,ce,re){var le=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ce.slice(re,re+6));return le?(ae.Z=le[1]?0:-(le[2]+(le[3]||"00")),re+le[0].length):-1}a(F,"parseZone");function B(ae,ce,re){var le=u.exec(ce.slice(re,re+1));return le?(ae.q=le[0]*3-3,re+le[0].length):-1}a(B,"parseQuarter");function S(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.m=le[0]-1,re+le[0].length):-1}a(S,"parseMonthNumber");function T(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.d=+le[0],re+le[0].length):-1}a(T,"parseDayOfMonth");function k(ae,ce,re){var le=u.exec(ce.slice(re,re+3));return le?(ae.m=0,ae.d=+le[0],re+le[0].length):-1}a(k,"parseDayOfYear");function R(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.H=+le[0],re+le[0].length):-1}a(R,"parseHour24");function x(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.M=+le[0],re+le[0].length):-1}a(x,"parseMinutes");function N(ae,ce,re){var le=u.exec(ce.slice(re,re+2));return le?(ae.S=+le[0],re+le[0].length):-1}a(N,"parseSeconds");function m(ae,ce,re){var le=u.exec(ce.slice(re,re+3));return le?(ae.L=+le[0],re+le[0].length):-1}a(m,"parseMilliseconds");function v(ae,ce,re){var le=u.exec(ce.slice(re,re+6));return le?(ae.L=Math.floor(le[0]/1e3),re+le[0].length):-1}a(v,"parseMicroseconds");function A(ae,ce,re){var le=l.exec(ce.slice(re,re+1));return le?re+le[0].length:-1}a(A,"parseLiteralPercent");function U(ae,ce,re){var le=u.exec(ce.slice(re));return le?(ae.Q=+le[0],re+le[0].length):-1}a(U,"parseUnixTimestamp");function G(ae,ce,re){var le=u.exec(ce.slice(re));return le?(ae.s=+le[0],re+le[0].length):-1}a(G,"parseUnixTimestampSeconds");function K(ae,ce){return h(ae.getDate(),ce,2)}a(K,"formatDayOfMonth");function Z(ae,ce){return h(ae.getHours(),ce,2)}a(Z,"formatHour24");function O(ae,ce){return h(ae.getHours()%12||12,ce,2)}a(O,"formatHour12");function $(ae,ce){return h(1+t.timeDay.count(t.timeYear(ae),ae),ce,3)}a($,"formatDayOfYear");function L(ae,ce){return h(ae.getMilliseconds(),ce,3)}a(L,"formatMilliseconds");function ee(ae,ce){return L(ae,ce)+"000"}a(ee,"formatMicroseconds");function ve(ae,ce){return h(ae.getMonth()+1,ce,2)}a(ve,"formatMonthNumber");function ye(ae,ce){return h(ae.getMinutes(),ce,2)}a(ye,"formatMinutes");function se(ae,ce){return h(ae.getSeconds(),ce,2)}a(se,"formatSeconds");function be(ae){var ce=ae.getDay();return ce===0?7:ce}a(be,"formatWeekdayNumberMonday");function Y(ae,ce){return h(t.timeSunday.count(t.timeYear(ae)-1,ae),ce,2)}a(Y,"formatWeekNumberSunday");function D(ae){var ce=ae.getDay();return ce>=4||ce===0?t.timeThursday(ae):t.timeThursday.ceil(ae)}a(D,"dISO");function J(ae,ce){return ae=D(ae),h(t.timeThursday.count(t.timeYear(ae),ae)+(t.timeYear(ae).getDay()===4),ce,2)}a(J,"formatWeekNumberISO");function q(ae){return ae.getDay()}a(q,"formatWeekdayNumberSunday");function I(ae,ce){return h(t.timeMonday.count(t.timeYear(ae)-1,ae),ce,2)}a(I,"formatWeekNumberMonday");function H(ae,ce){return h(ae.getFullYear()%100,ce,2)}a(H,"formatYear");function te(ae,ce){return ae=D(ae),h(ae.getFullYear()%100,ce,2)}a(te,"formatYearISO");function ie(ae,ce){return h(ae.getFullYear()%1e4,ce,4)}a(ie,"formatFullYear");function he(ae,ce){var re=ae.getDay();return ae=re>=4||re===0?t.timeThursday(ae):t.timeThursday.ceil(ae),h(ae.getFullYear()%1e4,ce,4)}a(he,"formatFullYearISO");function De(ae){var ce=ae.getTimezoneOffset();return(ce>0?"-":(ce*=-1,"+"))+h(ce/60|0,"0",2)+h(ce%60,"0",2)}a(De,"formatZone");function $e(ae,ce){return h(ae.getUTCDate(),ce,2)}a($e,"formatUTCDayOfMonth");function ze(ae,ce){return h(ae.getUTCHours(),ce,2)}a(ze,"formatUTCHour24");function Qe(ae,ce){return h(ae.getUTCHours()%12||12,ce,2)}a(Qe,"formatUTCHour12");function je(ae,ce){return h(1+t.utcDay.count(t.utcYear(ae),ae),ce,3)}a(je,"formatUTCDayOfYear");function We(ae,ce){return h(ae.getUTCMilliseconds(),ce,3)}a(We,"formatUTCMilliseconds");function Ce(ae,ce){return We(ae,ce)+"000"}a(Ce,"formatUTCMicroseconds");function Te(ae,ce){return h(ae.getUTCMonth()+1,ce,2)}a(Te,"formatUTCMonthNumber");function Je(ae,ce){return h(ae.getUTCMinutes(),ce,2)}a(Je,"formatUTCMinutes");function rt(ae,ce){return h(ae.getUTCSeconds(),ce,2)}a(rt,"formatUTCSeconds");function ge(ae){var ce=ae.getUTCDay();return ce===0?7:ce}a(ge,"formatUTCWeekdayNumberMonday");function xe(ae,ce){return h(t.utcSunday.count(t.utcYear(ae)-1,ae),ce,2)}a(xe,"formatUTCWeekNumberSunday");function qe(ae){var ce=ae.getUTCDay();return ce>=4||ce===0?t.utcThursday(ae):t.utcThursday.ceil(ae)}a(qe,"UTCdISO");function ot(ae,ce){return ae=qe(ae),h(t.utcThursday.count(t.utcYear(ae),ae)+(t.utcYear(ae).getUTCDay()===4),ce,2)}a(ot,"formatUTCWeekNumberISO");function at(ae){return ae.getUTCDay()}a(at,"formatUTCWeekdayNumberSunday");function pe(ae,ce){return h(t.utcMonday.count(t.utcYear(ae)-1,ae),ce,2)}a(pe,"formatUTCWeekNumberMonday");function Re(ae,ce){return h(ae.getUTCFullYear()%100,ce,2)}a(Re,"formatUTCYear");function He(ae,ce){return ae=qe(ae),h(ae.getUTCFullYear()%100,ce,2)}a(He,"formatUTCYearISO");function tt(ae,ce){return h(ae.getUTCFullYear()%1e4,ce,4)}a(tt,"formatUTCFullYear");function Ve(ae,ce){var re=ae.getUTCDay();return ae=re>=4||re===0?t.utcThursday(ae):t.utcThursday.ceil(ae),h(ae.getUTCFullYear()%1e4,ce,4)}a(Ve,"formatUTCFullYearISO");function et(){return"+0000"}a(et,"formatUTCZone");function gt(){return"%"}a(gt,"formatLiteralPercent");function ut(ae){return+ae}a(ut,"formatUnixTimestamp");function zt(ae){return Math.floor(+ae/1e3)}a(zt,"formatUnixTimestampSeconds");var it;Wt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wt(ae){return it=s(ae),e.timeFormat=it.format,e.timeParse=it.parse,e.utcFormat=it.utcFormat,e.utcParse=it.utcParse,it}a(Wt,"defaultLocale");var bt="%Y-%m-%dT%H:%M:%S.%LZ";function Se(ae){return ae.toISOString()}a(Se,"formatIsoNative");var Ie=Date.prototype.toISOString?Se:e.utcFormat(bt);function ue(ae){var ce=new Date(ae);return isNaN(ce)?null:ce}a(ue,"parseIsoNative");var _e=+new Date("2000-01-01T00:00:00.000Z")?ue:e.utcParse(bt);e.isoFormat=Ie,e.isoParse=_e,e.timeFormatDefaultLocale=Wt,e.timeFormatLocale=s,Object.defineProperty(e,"__esModule",{value:!0})})});var TMe=j((KT,IMe)=>{d();(function(e,t){typeof KT=="object"&&typeof IMe<"u"?t(KT,NT(),fv(),ny(),RG(),jT(),LG()):typeof define=="function"&&define.amd?define(["exports","d3-collection","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})(KT,function(e,t,r,n,i,s,o){"use strict";function u(ue,_e){switch(arguments.length){case 0:break;case 1:this.range(ue);break;default:this.range(_e).domain(ue);break}return this}a(u,"initRange");function l(ue,_e){switch(arguments.length){case 0:break;case 1:this.interpolator(ue);break;default:this.interpolator(_e).domain(ue);break}return this}a(l,"initInterpolator");var f=Array.prototype,h=f.map,p=f.slice,g={name:"implicit"};function y(){var ue=t.map(),_e=[],ae=[],ce=g;function re(le){var me=le+"",Ae=ue.get(me);if(!Ae){if(ce!==g)return ce;ue.set(me,Ae=_e.push(le))}return ae[(Ae-1)%ae.length]}return a(re,"scale"),re.domain=function(le){if(!arguments.length)return _e.slice();_e=[],ue=t.map();for(var me=-1,Ae=le.length,Oe,Ge;++me<Ae;)ue.has(Ge=(Oe=le[me])+"")||ue.set(Ge,_e.push(Oe));return re},re.range=function(le){return arguments.length?(ae=p.call(le),re):ae.slice()},re.unknown=function(le){return arguments.length?(ce=le,re):ce},re.copy=function(){return y(_e,ae).unknown(ce)},u.apply(re,arguments),re}a(y,"ordinal");function E(){var ue=y().unknown(void 0),_e=ue.domain,ae=ue.range,ce=[0,1],re,le,me=!1,Ae=0,Oe=0,Ge=.5;delete ue.unknown;function ke(){var st=_e().length,yt=ce[1]<ce[0],pt=ce[yt-0],wt=ce[1-yt];re=(wt-pt)/Math.max(1,st-Ae+Oe*2),me&&(re=Math.floor(re)),pt+=(wt-pt-re*(st-Ae))*Ge,le=re*(1-Ae),me&&(pt=Math.round(pt),le=Math.round(le));var Gt=r.range(st).map(function(Pt){return pt+re*Pt});return ae(yt?Gt.reverse():Gt)}return a(ke,"rescale"),ue.domain=function(st){return arguments.length?(_e(st),ke()):_e()},ue.range=function(st){return arguments.length?(ce=[+st[0],+st[1]],ke()):ce.slice()},ue.rangeRound=function(st){return ce=[+st[0],+st[1]],me=!0,ke()},ue.bandwidth=function(){return le},ue.step=function(){return re},ue.round=function(st){return arguments.length?(me=!!st,ke()):me},ue.padding=function(st){return arguments.length?(Ae=Math.min(1,Oe=+st),ke()):Ae},ue.paddingInner=function(st){return arguments.length?(Ae=Math.min(1,st),ke()):Ae},ue.paddingOuter=function(st){return arguments.length?(Oe=+st,ke()):Oe},ue.align=function(st){return arguments.length?(Ge=Math.max(0,Math.min(1,st)),ke()):Ge},ue.copy=function(){return E(_e(),ce).round(me).paddingInner(Ae).paddingOuter(Oe).align(Ge)},u.apply(ke(),arguments)}a(E,"band");function M(ue){var _e=ue.copy;return ue.padding=ue.paddingOuter,delete ue.paddingInner,delete ue.paddingOuter,ue.copy=function(){return M(_e())},ue}a(M,"pointish");function z(){return M(E.apply(null,arguments).paddingInner(1))}a(z,"point");function P(ue){return function(){return ue}}a(P,"constant");function Q(ue){return+ue}a(Q,"number");var V=[0,1];function W(ue){return ue}a(W,"identity");function F(ue,_e){return(_e-=ue=+ue)?function(ae){return(ae-ue)/_e}:P(isNaN(_e)?NaN:.5)}a(F,"normalize");function B(ue){var _e=ue[0],ae=ue[ue.length-1],ce;return _e>ae&&(ce=_e,_e=ae,ae=ce),function(re){return Math.max(_e,Math.min(ae,re))}}a(B,"clamper");function S(ue,_e,ae){var ce=ue[0],re=ue[1],le=_e[0],me=_e[1];return re<ce?(ce=F(re,ce),le=ae(me,le)):(ce=F(ce,re),le=ae(le,me)),function(Ae){return le(ce(Ae))}}a(S,"bimap");function T(ue,_e,ae){var ce=Math.min(ue.length,_e.length)-1,re=new Array(ce),le=new Array(ce),me=-1;for(ue[ce]<ue[0]&&(ue=ue.slice().reverse(),_e=_e.slice().reverse());++me<ce;)re[me]=F(ue[me],ue[me+1]),le[me]=ae(_e[me],_e[me+1]);return function(Ae){var Oe=r.bisect(ue,Ae,1,ce)-1;return le[Oe](re[Oe](Ae))}}a(T,"polymap");function k(ue,_e){return _e.domain(ue.domain()).range(ue.range()).interpolate(ue.interpolate()).clamp(ue.clamp()).unknown(ue.unknown())}a(k,"copy");function R(){var ue=V,_e=V,ae=n.interpolate,ce,re,le,me=W,Ae,Oe,Ge;function ke(){return Ae=Math.min(ue.length,_e.length)>2?T:S,Oe=Ge=null,st}a(ke,"rescale");function st(yt){return isNaN(yt=+yt)?le:(Oe||(Oe=Ae(ue.map(ce),_e,ae)))(ce(me(yt)))}return a(st,"scale"),st.invert=function(yt){return me(re((Ge||(Ge=Ae(_e,ue.map(ce),n.interpolateNumber)))(yt)))},st.domain=function(yt){return arguments.length?(ue=h.call(yt,Q),me===W||(me=B(ue)),ke()):ue.slice()},st.range=function(yt){return arguments.length?(_e=p.call(yt),ke()):_e.slice()},st.rangeRound=function(yt){return _e=p.call(yt),ae=n.interpolateRound,ke()},st.clamp=function(yt){return arguments.length?(me=yt?B(ue):W,st):me!==W},st.interpolate=function(yt){return arguments.length?(ae=yt,ke()):ae},st.unknown=function(yt){return arguments.length?(le=yt,st):le},function(yt,pt){return ce=yt,re=pt,ke()}}a(R,"transformer");function x(ue,_e){return R()(ue,_e)}a(x,"continuous");function N(ue,_e,ae,ce){var re=r.tickStep(ue,_e,ae),le;switch(ce=i.formatSpecifier(ce??",f"),ce.type){case"s":{var me=Math.max(Math.abs(ue),Math.abs(_e));return ce.precision==null&&!isNaN(le=i.precisionPrefix(re,me))&&(ce.precision=le),i.formatPrefix(ce,me)}case"":case"e":case"g":case"p":case"r":{ce.precision==null&&!isNaN(le=i.precisionRound(re,Math.max(Math.abs(ue),Math.abs(_e))))&&(ce.precision=le-(ce.type==="e"));break}case"f":case"%":{ce.precision==null&&!isNaN(le=i.precisionFixed(re))&&(ce.precision=le-(ce.type==="%")*2);break}}return i.format(ce)}a(N,"tickFormat");function m(ue){var _e=ue.domain;return ue.ticks=function(ae){var ce=_e();return r.ticks(ce[0],ce[ce.length-1],ae??10)},ue.tickFormat=function(ae,ce){var re=_e();return N(re[0],re[re.length-1],ae??10,ce)},ue.nice=function(ae){ae==null&&(ae=10);var ce=_e(),re=0,le=ce.length-1,me=ce[re],Ae=ce[le],Oe;return Ae<me&&(Oe=me,me=Ae,Ae=Oe,Oe=re,re=le,le=Oe),Oe=r.tickIncrement(me,Ae,ae),Oe>0?(me=Math.floor(me/Oe)*Oe,Ae=Math.ceil(Ae/Oe)*Oe,Oe=r.tickIncrement(me,Ae,ae)):Oe<0&&(me=Math.ceil(me*Oe)/Oe,Ae=Math.floor(Ae*Oe)/Oe,Oe=r.tickIncrement(me,Ae,ae)),Oe>0?(ce[re]=Math.floor(me/Oe)*Oe,ce[le]=Math.ceil(Ae/Oe)*Oe,_e(ce)):Oe<0&&(ce[re]=Math.ceil(me*Oe)/Oe,ce[le]=Math.floor(Ae*Oe)/Oe,_e(ce)),ue},ue}a(m,"linearish");function v(){var ue=x(W,W);return ue.copy=function(){return k(ue,v())},u.apply(ue,arguments),m(ue)}a(v,"linear");function A(ue){var _e;function ae(ce){return isNaN(ce=+ce)?_e:ce}return a(ae,"scale"),ae.invert=ae,ae.domain=ae.range=function(ce){return arguments.length?(ue=h.call(ce,Q),ae):ue.slice()},ae.unknown=function(ce){return arguments.length?(_e=ce,ae):_e},ae.copy=function(){return A(ue).unknown(_e)},ue=arguments.length?h.call(ue,Q):[0,1],m(ae)}a(A,"identity$1");function U(ue,_e){ue=ue.slice();var ae=0,ce=ue.length-1,re=ue[ae],le=ue[ce],me;return le<re&&(me=ae,ae=ce,ce=me,me=re,re=le,le=me),ue[ae]=_e.floor(re),ue[ce]=_e.ceil(le),ue}a(U,"nice");function G(ue){return Math.log(ue)}a(G,"transformLog");function K(ue){return Math.exp(ue)}a(K,"transformExp");function Z(ue){return-Math.log(-ue)}a(Z,"transformLogn");function O(ue){return-Math.exp(-ue)}a(O,"transformExpn");function $(ue){return isFinite(ue)?+("1e"+ue):ue<0?0:ue}a($,"pow10");function L(ue){return ue===10?$:ue===Math.E?Math.exp:function(_e){return Math.pow(ue,_e)}}a(L,"powp");function ee(ue){return ue===Math.E?Math.log:ue===10&&Math.log10||ue===2&&Math.log2||(ue=Math.log(ue),function(_e){return Math.log(_e)/ue})}a(ee,"logp");function ve(ue){return function(_e){return-ue(-_e)}}a(ve,"reflect");function ye(ue){var _e=ue(G,K),ae=_e.domain,ce=10,re,le;function me(){return re=ee(ce),le=L(ce),ae()[0]<0?(re=ve(re),le=ve(le),ue(Z,O)):ue(G,K),_e}return a(me,"rescale"),_e.base=function(Ae){return arguments.length?(ce=+Ae,me()):ce},_e.domain=function(Ae){return arguments.length?(ae(Ae),me()):ae()},_e.ticks=function(Ae){var Oe=ae(),Ge=Oe[0],ke=Oe[Oe.length-1],st;(st=ke<Ge)&&(yt=Ge,Ge=ke,ke=yt);var yt=re(Ge),pt=re(ke),wt,Gt,Pt,tr=Ae==null?10:+Ae,cr=[];if(!(ce%1)&&pt-yt<tr){if(yt=Math.round(yt)-1,pt=Math.round(pt)+1,Ge>0){for(;yt<pt;++yt)for(Gt=1,wt=le(yt);Gt<ce;++Gt)if(Pt=wt*Gt,!(Pt<Ge)){if(Pt>ke)break;cr.push(Pt)}}else for(;yt<pt;++yt)for(Gt=ce-1,wt=le(yt);Gt>=1;--Gt)if(Pt=wt*Gt,!(Pt<Ge)){if(Pt>ke)break;cr.push(Pt)}}else cr=r.ticks(yt,pt,Math.min(pt-yt,tr)).map(le);return st?cr.reverse():cr},_e.tickFormat=function(Ae,Oe){if(Oe==null&&(Oe=ce===10?".0e":","),typeof Oe!="function"&&(Oe=i.format(Oe)),Ae===1/0)return Oe;Ae==null&&(Ae=10);var Ge=Math.max(1,ce*Ae/_e.ticks().length);return function(ke){var st=ke/le(Math.round(re(ke)));return st*ce<ce-.5&&(st*=ce),st<=Ge?Oe(ke):""}},_e.nice=function(){return ae(U(ae(),{floor:function(Ae){return le(Math.floor(re(Ae)))},ceil:function(Ae){return le(Math.ceil(re(Ae)))}}))},_e}a(ye,"loggish");function se(){var ue=ye(R()).domain([1,10]);return ue.copy=function(){return k(ue,se()).base(ue.base())},u.apply(ue,arguments),ue}a(se,"log");function be(ue){return function(_e){return Math.sign(_e)*Math.log1p(Math.abs(_e/ue))}}a(be,"transformSymlog");function Y(ue){return function(_e){return Math.sign(_e)*Math.expm1(Math.abs(_e))*ue}}a(Y,"transformSymexp");function D(ue){var _e=1,ae=ue(be(_e),Y(_e));return ae.constant=function(ce){return arguments.length?ue(be(_e=+ce),Y(_e)):_e},m(ae)}a(D,"symlogish");function J(){var ue=D(R());return ue.copy=function(){return k(ue,J()).constant(ue.constant())},u.apply(ue,arguments)}a(J,"symlog");function q(ue){return function(_e){return _e<0?-Math.pow(-_e,ue):Math.pow(_e,ue)}}a(q,"transformPow");function I(ue){return ue<0?-Math.sqrt(-ue):Math.sqrt(ue)}a(I,"transformSqrt");function H(ue){return ue<0?-ue*ue:ue*ue}a(H,"transformSquare");function te(ue){var _e=ue(W,W),ae=1;function ce(){return ae===1?ue(W,W):ae===.5?ue(I,H):ue(q(ae),q(1/ae))}return a(ce,"rescale"),_e.exponent=function(re){return arguments.length?(ae=+re,ce()):ae},m(_e)}a(te,"powish");function ie(){var ue=te(R());return ue.copy=function(){return k(ue,ie()).exponent(ue.exponent())},u.apply(ue,arguments),ue}a(ie,"pow");function he(){return ie.apply(null,arguments).exponent(.5)}a(he,"sqrt");function De(){var ue=[],_e=[],ae=[],ce;function re(){var me=0,Ae=Math.max(1,_e.length);for(ae=new Array(Ae-1);++me<Ae;)ae[me-1]=r.quantile(ue,me/Ae);return le}a(re,"rescale");function le(me){return isNaN(me=+me)?ce:_e[r.bisect(ae,me)]}return a(le,"scale"),le.invertExtent=function(me){var Ae=_e.indexOf(me);return Ae<0?[NaN,NaN]:[Ae>0?ae[Ae-1]:ue[0],Ae<ae.length?ae[Ae]:ue[ue.length-1]]},le.domain=function(me){if(!arguments.length)return ue.slice();ue=[];for(var Ae=0,Oe=me.length,Ge;Ae<Oe;++Ae)Ge=me[Ae],Ge!=null&&!isNaN(Ge=+Ge)&&ue.push(Ge);return ue.sort(r.ascending),re()},le.range=function(me){return arguments.length?(_e=p.call(me),re()):_e.slice()},le.unknown=function(me){return arguments.length?(ce=me,le):ce},le.quantiles=function(){return ae.slice()},le.copy=function(){return De().domain(ue).range(_e).unknown(ce)},u.apply(le,arguments)}a(De,"quantile");function $e(){var ue=0,_e=1,ae=1,ce=[.5],re=[0,1],le;function me(Oe){return Oe<=Oe?re[r.bisect(ce,Oe,0,ae)]:le}a(me,"scale");function Ae(){var Oe=-1;for(ce=new Array(ae);++Oe<ae;)ce[Oe]=((Oe+1)*_e-(Oe-ae)*ue)/(ae+1);return me}return a(Ae,"rescale"),me.domain=function(Oe){return arguments.length?(ue=+Oe[0],_e=+Oe[1],Ae()):[ue,_e]},me.range=function(Oe){return arguments.length?(ae=(re=p.call(Oe)).length-1,Ae()):re.slice()},me.invertExtent=function(Oe){var Ge=re.indexOf(Oe);return Ge<0?[NaN,NaN]:Ge<1?[ue,ce[0]]:Ge>=ae?[ce[ae-1],_e]:[ce[Ge-1],ce[Ge]]},me.unknown=function(Oe){return arguments.length&&(le=Oe),me},me.thresholds=function(){return ce.slice()},me.copy=function(){return $e().domain([ue,_e]).range(re).unknown(le)},u.apply(m(me),arguments)}a($e,"quantize");function ze(){var ue=[.5],_e=[0,1],ae,ce=1;function re(le){return le<=le?_e[r.bisect(ue,le,0,ce)]:ae}return a(re,"scale"),re.domain=function(le){return arguments.length?(ue=p.call(le),ce=Math.min(ue.length,_e.length-1),re):ue.slice()},re.range=function(le){return arguments.length?(_e=p.call(le),ce=Math.min(ue.length,_e.length-1),re):_e.slice()},re.invertExtent=function(le){var me=_e.indexOf(le);return[ue[me-1],ue[me]]},re.unknown=function(le){return arguments.length?(ae=le,re):ae},re.copy=function(){return ze().domain(ue).range(_e).unknown(ae)},u.apply(re,arguments)}a(ze,"threshold");var Qe=1e3,je=Qe*60,We=je*60,Ce=We*24,Te=Ce*7,Je=Ce*30,rt=Ce*365;function ge(ue){return new Date(ue)}a(ge,"date");function xe(ue){return ue instanceof Date?+ue:+new Date(+ue)}a(xe,"number$1");function qe(ue,_e,ae,ce,re,le,me,Ae,Oe){var Ge=x(W,W),ke=Ge.invert,st=Ge.domain,yt=Oe(".%L"),pt=Oe(":%S"),wt=Oe("%I:%M"),Gt=Oe("%I %p"),Pt=Oe("%a %d"),tr=Oe("%b %d"),cr=Oe("%B"),pr=Oe("%Y"),Cr=[[me,1,Qe],[me,5,5*Qe],[me,15,15*Qe],[me,30,30*Qe],[le,1,je],[le,5,5*je],[le,15,15*je],[le,30,30*je],[re,1,We],[re,3,3*We],[re,6,6*We],[re,12,12*We],[ce,1,Ce],[ce,2,2*Ce],[ae,1,Te],[_e,1,Je],[_e,3,3*Je],[ue,1,rt]];function Wr(lr){return(me(lr)<lr?yt:le(lr)<lr?pt:re(lr)<lr?wt:ce(lr)<lr?Gt:_e(lr)<lr?ae(lr)<lr?Pt:tr:ue(lr)<lr?cr:pr)(lr)}a(Wr,"tickFormat");function Tr(lr,fr,Mr,Br){if(lr==null&&(lr=10),typeof lr=="number"){var Ne=Math.abs(Mr-fr)/lr,Ze=r.bisector(function(Tt){return Tt[2]}).right(Cr,Ne);Ze===Cr.length?(Br=r.tickStep(fr/rt,Mr/rt,lr),lr=ue):Ze?(Ze=Cr[Ne/Cr[Ze-1][2]<Cr[Ze][2]/Ne?Ze-1:Ze],Br=Ze[1],lr=Ze[0]):(Br=Math.max(r.tickStep(fr,Mr,lr),1),lr=Ae)}return Br==null?lr:lr.every(Br)}return a(Tr,"tickInterval"),Ge.invert=function(lr){return new Date(ke(lr))},Ge.domain=function(lr){return arguments.length?st(h.call(lr,xe)):st().map(ge)},Ge.ticks=function(lr,fr){var Mr=st(),Br=Mr[0],Ne=Mr[Mr.length-1],Ze=Ne<Br,Tt;return Ze&&(Tt=Br,Br=Ne,Ne=Tt),Tt=Tr(lr,Br,Ne,fr),Tt=Tt?Tt.range(Br,Ne+1):[],Ze?Tt.reverse():Tt},Ge.tickFormat=function(lr,fr){return fr==null?Wr:Oe(fr)},Ge.nice=function(lr,fr){var Mr=st();return(lr=Tr(lr,Mr[0],Mr[Mr.length-1],fr))?st(U(Mr,lr)):Ge},Ge.copy=function(){return k(Ge,qe(ue,_e,ae,ce,re,le,me,Ae,Oe))},Ge}a(qe,"calendar");function ot(){return u.apply(qe(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}a(ot,"time");function at(){return u.apply(qe(s.utcYear,s.utcMonth,s.utcWeek,s.utcDay,s.utcHour,s.utcMinute,s.utcSecond,s.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}a(at,"utcTime");function pe(){var ue=0,_e=1,ae,ce,re,le,me=W,Ae=!1,Oe;function Ge(ke){return isNaN(ke=+ke)?Oe:me(re===0?.5:(ke=(le(ke)-ae)*re,Ae?Math.max(0,Math.min(1,ke)):ke))}return a(Ge,"scale"),Ge.domain=function(ke){return arguments.length?(ae=le(ue=+ke[0]),ce=le(_e=+ke[1]),re=ae===ce?0:1/(ce-ae),Ge):[ue,_e]},Ge.clamp=function(ke){return arguments.length?(Ae=!!ke,Ge):Ae},Ge.interpolator=function(ke){return arguments.length?(me=ke,Ge):me},Ge.unknown=function(ke){return arguments.length?(Oe=ke,Ge):Oe},function(ke){return le=ke,ae=ke(ue),ce=ke(_e),re=ae===ce?0:1/(ce-ae),Ge}}a(pe,"transformer$1");function Re(ue,_e){return _e.domain(ue.domain()).interpolator(ue.interpolator()).clamp(ue.clamp()).unknown(ue.unknown())}a(Re,"copy$1");function He(){var ue=m(pe()(W));return ue.copy=function(){return Re(ue,He())},l.apply(ue,arguments)}a(He,"sequential");function tt(){var ue=ye(pe()).domain([1,10]);return ue.copy=function(){return Re(ue,tt()).base(ue.base())},l.apply(ue,arguments)}a(tt,"sequentialLog");function Ve(){var ue=D(pe());return ue.copy=function(){return Re(ue,Ve()).constant(ue.constant())},l.apply(ue,arguments)}a(Ve,"sequentialSymlog");function et(){var ue=te(pe());return ue.copy=function(){return Re(ue,et()).exponent(ue.exponent())},l.apply(ue,arguments)}a(et,"sequentialPow");function gt(){return et.apply(null,arguments).exponent(.5)}a(gt,"sequentialSqrt");function ut(){var ue=[],_e=W;function ae(ce){if(!isNaN(ce=+ce))return _e((r.bisect(ue,ce)-1)/(ue.length-1))}return a(ae,"scale"),ae.domain=function(ce){if(!arguments.length)return ue.slice();ue=[];for(var re=0,le=ce.length,me;re<le;++re)me=ce[re],me!=null&&!isNaN(me=+me)&&ue.push(me);return ue.sort(r.ascending),ae},ae.interpolator=function(ce){return arguments.length?(_e=ce,ae):_e},ae.copy=function(){return ut(_e).domain(ue)},l.apply(ae,arguments)}a(ut,"sequentialQuantile");function zt(){var ue=0,_e=.5,ae=1,ce,re,le,me,Ae,Oe=W,Ge,ke=!1,st;function yt(pt){return isNaN(pt=+pt)?st:(pt=.5+((pt=+Ge(pt))-re)*(pt<re?me:Ae),Oe(ke?Math.max(0,Math.min(1,pt)):pt))}return a(yt,"scale"),yt.domain=function(pt){return arguments.length?(ce=Ge(ue=+pt[0]),re=Ge(_e=+pt[1]),le=Ge(ae=+pt[2]),me=ce===re?0:.5/(re-ce),Ae=re===le?0:.5/(le-re),yt):[ue,_e,ae]},yt.clamp=function(pt){return arguments.length?(ke=!!pt,yt):ke},yt.interpolator=function(pt){return arguments.length?(Oe=pt,yt):Oe},yt.unknown=function(pt){return arguments.length?(st=pt,yt):st},function(pt){return Ge=pt,ce=pt(ue),re=pt(_e),le=pt(ae),me=ce===re?0:.5/(re-ce),Ae=re===le?0:.5/(le-re),yt}}a(zt,"transformer$2");function it(){var ue=m(zt()(W));return ue.copy=function(){return Re(ue,it())},l.apply(ue,arguments)}a(it,"diverging");function Wt(){var ue=ye(zt()).domain([.1,1,10]);return ue.copy=function(){return Re(ue,Wt()).base(ue.base())},l.apply(ue,arguments)}a(Wt,"divergingLog");function bt(){var ue=D(zt());return ue.copy=function(){return Re(ue,bt()).constant(ue.constant())},l.apply(ue,arguments)}a(bt,"divergingSymlog");function Se(){var ue=te(zt());return ue.copy=function(){return Re(ue,Se()).exponent(ue.exponent())},l.apply(ue,arguments)}a(Se,"divergingPow");function Ie(){return Se.apply(null,arguments).exponent(.5)}a(Ie,"divergingSqrt"),e.scaleBand=E,e.scalePoint=z,e.scaleIdentity=A,e.scaleLinear=v,e.scaleLog=se,e.scaleSymlog=J,e.scaleOrdinal=y,e.scaleImplicit=g,e.scalePow=ie,e.scaleSqrt=he,e.scaleQuantile=De,e.scaleQuantize=$e,e.scaleThreshold=ze,e.scaleTime=ot,e.scaleUtc=at,e.scaleSequential=He,e.scaleSequentialLog=tt,e.scaleSequentialPow=et,e.scaleSequentialSqrt=gt,e.scaleSequentialSymlog=Ve,e.scaleSequentialQuantile=ut,e.scaleDiverging=it,e.scaleDivergingLog=Wt,e.scaleDivergingPow=Se,e.scaleDivergingSqrt=Ie,e.scaleDivergingSymlog=bt,e.tickFormat=N,Object.defineProperty(e,"__esModule",{value:!0})})});var BMe=j(($T,MMe)=>{d();(function(e,t){typeof $T=="object"&&typeof MMe<"u"?t($T,ny(),T5()):typeof define=="function"&&define.amd?define(["exports","d3-interpolate","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3))})($T,function(e,t,r){"use strict";function n(ce){for(var re=ce.length/6|0,le=new Array(re),me=0;me<re;)le[me]="#"+ce.slice(me*6,++me*6);return le}a(n,"colors");var i=n("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),s=n("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=n("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),u=n("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l=n("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),f=n("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),h=n("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),p=n("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),g=n("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),y=n("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function E(ce){return t.interpolateRgbBasis(ce[ce.length-1])}a(E,"ramp");var M=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n),z=E(M),P=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n),Q=E(P),V=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n),W=E(V),F=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n),B=E(F),S=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n),T=E(S),k=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n),R=E(k),x=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n),N=E(x),m=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n),v=E(m),A=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n),U=E(A),G=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n),K=E(G),Z=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n),O=E(Z),$=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n),L=E($),ee=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n),ve=E(ee),ye=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n),se=E(ye),be=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n),Y=E(be),D=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n),J=E(D),q=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n),I=E(q),H=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n),te=E(H),ie=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n),he=E(ie),De=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n),$e=E(De),ze=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n),Qe=E(ze),je=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n),We=E(je),Ce=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n),Te=E(Ce),Je=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n),rt=E(Je),ge=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n),xe=E(ge),qe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n),ot=E(qe),at=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n),pe=E(at);function Re(ce){return ce=Math.max(0,Math.min(1,ce)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-ce*(35.34-ce*(2381.73-ce*(6402.7-ce*(7024.72-ce*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+ce*(170.73+ce*(52.82-ce*(131.46-ce*(176.58-ce*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+ce*(442.36-ce*(2482.43-ce*(6167.24-ce*(6614.94-ce*2475.67)))))))+")"}a(Re,"cividis");var He=t.interpolateCubehelixLong(r.cubehelix(300,.5,0),r.cubehelix(-240,.5,1)),tt=t.interpolateCubehelixLong(r.cubehelix(-100,.75,.35),r.cubehelix(80,1.5,.8)),Ve=t.interpolateCubehelixLong(r.cubehelix(260,.75,.35),r.cubehelix(80,1.5,.8)),et=r.cubehelix();function gt(ce){(ce<0||ce>1)&&(ce-=Math.floor(ce));var re=Math.abs(ce-.5);return et.h=360*ce-100,et.s=1.5-1.5*re,et.l=.8-.9*re,et+""}a(gt,"rainbow");var ut=r.rgb(),zt=Math.PI/3,it=Math.PI*2/3;function Wt(ce){var re;return ce=(.5-ce)*Math.PI,ut.r=255*(re=Math.sin(ce))*re,ut.g=255*(re=Math.sin(ce+zt))*re,ut.b=255*(re=Math.sin(ce+it))*re,ut+""}a(Wt,"sinebow");function bt(ce){return ce=Math.max(0,Math.min(1,ce)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+ce*(1172.33-ce*(10793.56-ce*(33300.12-ce*(38394.49-ce*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+ce*(557.33+ce*(1225.33-ce*(3574.96-ce*(1073.77+ce*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+ce*(3211.1-ce*(15327.97-ce*(27814-ce*(22569.18-ce*6838.66)))))))+")"}a(bt,"turbo");function Se(ce){var re=ce.length;return function(le){return ce[Math.max(0,Math.min(re-1,Math.floor(le*re)))]}}a(Se,"ramp$1");var Ie=Se(n("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ue=Se(n("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_e=Se(n("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ae=Se(n("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.interpolateBlues=We,e.interpolateBrBG=z,e.interpolateBuGn=K,e.interpolateBuPu=O,e.interpolateCividis=Re,e.interpolateCool=Ve,e.interpolateCubehelixDefault=He,e.interpolateGnBu=L,e.interpolateGreens=Te,e.interpolateGreys=rt,e.interpolateInferno=_e,e.interpolateMagma=ue,e.interpolateOrRd=ve,e.interpolateOranges=pe,e.interpolatePRGn=Q,e.interpolatePiYG=W,e.interpolatePlasma=ae,e.interpolatePuBu=Y,e.interpolatePuBuGn=se,e.interpolatePuOr=B,e.interpolatePuRd=J,e.interpolatePurples=xe,e.interpolateRainbow=gt,e.interpolateRdBu=T,e.interpolateRdGy=R,e.interpolateRdPu=I,e.interpolateRdYlBu=N,e.interpolateRdYlGn=v,e.interpolateReds=ot,e.interpolateSinebow=Wt,e.interpolateSpectral=U,e.interpolateTurbo=bt,e.interpolateViridis=Ie,e.interpolateWarm=tt,e.interpolateYlGn=he,e.interpolateYlGnBu=te,e.interpolateYlOrBr=$e,e.interpolateYlOrRd=Qe,e.schemeAccent=s,e.schemeBlues=je,e.schemeBrBG=M,e.schemeBuGn=G,e.schemeBuPu=Z,e.schemeCategory10=i,e.schemeDark2=o,e.schemeGnBu=$,e.schemeGreens=Ce,e.schemeGreys=Je,e.schemeOrRd=ee,e.schemeOranges=at,e.schemePRGn=P,e.schemePaired=u,e.schemePastel1=l,e.schemePastel2=f,e.schemePiYG=V,e.schemePuBu=be,e.schemePuBuGn=ye,e.schemePuOr=F,e.schemePuRd=D,e.schemePurples=ge,e.schemeRdBu=S,e.schemeRdGy=k,e.schemeRdPu=q,e.schemeRdYlBu=x,e.schemeRdYlGn=m,e.schemeReds=qe,e.schemeSet1=h,e.schemeSet2=p,e.schemeSet3=g,e.schemeSpectral=A,e.schemeTableau10=y,e.schemeYlGn=ie,e.schemeYlGnBu=H,e.schemeYlOrBr=De,e.schemeYlOrRd=ze,Object.defineProperty(e,"__esModule",{value:!0})})});var LMe=j((XT,RMe)=>{d();(function(e,t){typeof XT=="object"&&typeof RMe<"u"?t(XT,RT()):typeof define=="function"&&define.amd?define(["exports","d3-path"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(XT,function(e,t){"use strict";function r(oe){return a(function(){return oe},"constant")}a(r,"constant");var n=Math.abs,i=Math.atan2,s=Math.cos,o=Math.max,u=Math.min,l=Math.sin,f=Math.sqrt,h=1e-12,p=Math.PI,g=p/2,y=2*p;function E(oe){return oe>1?0:oe<-1?p:Math.acos(oe)}a(E,"acos");function M(oe){return oe>=1?g:oe<=-1?-g:Math.asin(oe)}a(M,"asin");function z(oe){return oe.innerRadius}a(z,"arcInnerRadius");function P(oe){return oe.outerRadius}a(P,"arcOuterRadius");function Q(oe){return oe.startAngle}a(Q,"arcStartAngle");function V(oe){return oe.endAngle}a(V,"arcEndAngle");function W(oe){return oe&&oe.padAngle}a(W,"arcPadAngle");function F(oe,Be,Le,Xe,lt,Ke,Et,nt){var Rt=Le-oe,jt=Xe-Be,Xt=Et-lt,ur=nt-Ke,Er=ur*Rt-Xt*jt;if(!(Er*Er<h))return Er=(Xt*(Be-Ke)-ur*(oe-lt))/Er,[oe+Er*Rt,Be+Er*jt]}a(F,"intersect");function B(oe,Be,Le,Xe,lt,Ke,Et){var nt=oe-Le,Rt=Be-Xe,jt=(Et?Ke:-Ke)/f(nt*nt+Rt*Rt),Xt=jt*Rt,ur=-jt*nt,Er=oe+Xt,Kr=Be+ur,Rr=Le+Xt,jr=Xe+ur,en=(Er+Rr)/2,Un=(Kr+jr)/2,yn=Rr-Er,Nn=jr-Kr,gi=yn*yn+Nn*Nn,ca=lt-Ke,ci=Er*jr-Rr*Kr,Di=(Nn<0?-1:1)*f(o(0,ca*ca*gi-ci*ci)),za=(ci*Nn-yn*Di)/gi,Ni=(-ci*yn-Nn*Di)/gi,ua=(ci*Nn+yn*Di)/gi,Ui=(-ci*yn+Nn*Di)/gi,Qr=za-en,rr=Ni-Un,mt=ua-en,$t=Ui-Un;return Qr*Qr+rr*rr>mt*mt+$t*$t&&(za=ua,Ni=Ui),{cx:za,cy:Ni,x01:-Xt,y01:-ur,x11:za*(lt/ca-1),y11:Ni*(lt/ca-1)}}a(B,"cornerTangents");function S(){var oe=z,Be=P,Le=r(0),Xe=null,lt=Q,Ke=V,Et=W,nt=null;function Rt(){var jt,Xt,ur=+oe.apply(this,arguments),Er=+Be.apply(this,arguments),Kr=lt.apply(this,arguments)-g,Rr=Ke.apply(this,arguments)-g,jr=n(Rr-Kr),en=Rr>Kr;if(nt||(nt=jt=t.path()),Er<ur&&(Xt=Er,Er=ur,ur=Xt),!(Er>h))nt.moveTo(0,0);else if(jr>y-h)nt.moveTo(Er*s(Kr),Er*l(Kr)),nt.arc(0,0,Er,Kr,Rr,!en),ur>h&&(nt.moveTo(ur*s(Rr),ur*l(Rr)),nt.arc(0,0,ur,Rr,Kr,en));else{var Un=Kr,yn=Rr,Nn=Kr,gi=Rr,ca=jr,ci=jr,Di=Et.apply(this,arguments)/2,za=Di>h&&(Xe?+Xe.apply(this,arguments):f(ur*ur+Er*Er)),Ni=u(n(Er-ur)/2,+Le.apply(this,arguments)),ua=Ni,Ui=Ni,Qr,rr;if(za>h){var mt=M(za/ur*l(Di)),$t=M(za/Er*l(Di));(ca-=mt*2)>h?(mt*=en?1:-1,Nn+=mt,gi-=mt):(ca=0,Nn=gi=(Kr+Rr)/2),(ci-=$t*2)>h?($t*=en?1:-1,Un+=$t,yn-=$t):(ci=0,Un=yn=(Kr+Rr)/2)}var or=Er*s(Un),Xr=Er*l(Un),ui=ur*s(gi),li=ur*l(gi);if(Ni>h){var Bn=Er*s(yn),ka=Er*l(yn),Wn=ur*s(Nn),Fs=ur*l(Nn),Ca;if(jr<p&&(Ca=F(or,Xr,Wn,Fs,Bn,ka,ui,li))){var qo=or-Ca[0],xf=Xr-Ca[1],al=Bn-Ca[0],is=ka-Ca[1],wf=1/l(E((qo*al+xf*is)/(f(qo*qo+xf*xf)*f(al*al+is*is)))/2),Us=f(Ca[0]*Ca[0]+Ca[1]*Ca[1]);ua=u(Ni,(ur-Us)/(wf-1)),Ui=u(Ni,(Er-Us)/(wf+1))}}ci>h?Ui>h?(Qr=B(Wn,Fs,or,Xr,Er,Ui,en),rr=B(Bn,ka,ui,li,Er,Ui,en),nt.moveTo(Qr.cx+Qr.x01,Qr.cy+Qr.y01),Ui<Ni?nt.arc(Qr.cx,Qr.cy,Ui,i(Qr.y01,Qr.x01),i(rr.y01,rr.x01),!en):(nt.arc(Qr.cx,Qr.cy,Ui,i(Qr.y01,Qr.x01),i(Qr.y11,Qr.x11),!en),nt.arc(0,0,Er,i(Qr.cy+Qr.y11,Qr.cx+Qr.x11),i(rr.cy+rr.y11,rr.cx+rr.x11),!en),nt.arc(rr.cx,rr.cy,Ui,i(rr.y11,rr.x11),i(rr.y01,rr.x01),!en))):(nt.moveTo(or,Xr),nt.arc(0,0,Er,Un,yn,!en)):nt.moveTo(or,Xr),!(ur>h)||!(ca>h)?nt.lineTo(ui,li):ua>h?(Qr=B(ui,li,Bn,ka,ur,-ua,en),rr=B(or,Xr,Wn,Fs,ur,-ua,en),nt.lineTo(Qr.cx+Qr.x01,Qr.cy+Qr.y01),ua<Ni?nt.arc(Qr.cx,Qr.cy,ua,i(Qr.y01,Qr.x01),i(rr.y01,rr.x01),!en):(nt.arc(Qr.cx,Qr.cy,ua,i(Qr.y01,Qr.x01),i(Qr.y11,Qr.x11),!en),nt.arc(0,0,ur,i(Qr.cy+Qr.y11,Qr.cx+Qr.x11),i(rr.cy+rr.y11,rr.cx+rr.x11),en),nt.arc(rr.cx,rr.cy,ua,i(rr.y11,rr.x11),i(rr.y01,rr.x01),!en))):nt.arc(0,0,ur,gi,Nn,en)}if(nt.closePath(),jt)return nt=null,jt+""||null}return a(Rt,"arc"),Rt.centroid=function(){var jt=(+oe.apply(this,arguments)+ +Be.apply(this,arguments))/2,Xt=(+lt.apply(this,arguments)+ +Ke.apply(this,arguments))/2-p/2;return[s(Xt)*jt,l(Xt)*jt]},Rt.innerRadius=function(jt){return arguments.length?(oe=typeof jt=="function"?jt:r(+jt),Rt):oe},Rt.outerRadius=function(jt){return arguments.length?(Be=typeof jt=="function"?jt:r(+jt),Rt):Be},Rt.cornerRadius=function(jt){return arguments.length?(Le=typeof jt=="function"?jt:r(+jt),Rt):Le},Rt.padRadius=function(jt){return arguments.length?(Xe=jt==null?null:typeof jt=="function"?jt:r(+jt),Rt):Xe},Rt.startAngle=function(jt){return arguments.length?(lt=typeof jt=="function"?jt:r(+jt),Rt):lt},Rt.endAngle=function(jt){return arguments.length?(Ke=typeof jt=="function"?jt:r(+jt),Rt):Ke},Rt.padAngle=function(jt){return arguments.length?(Et=typeof jt=="function"?jt:r(+jt),Rt):Et},Rt.context=function(jt){return arguments.length?(nt=jt??null,Rt):nt},Rt}a(S,"arc");function T(oe){this._context=oe}a(T,"Linear"),T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;default:this._context.lineTo(oe,Be);break}}};function k(oe){return new T(oe)}a(k,"curveLinear");function R(oe){return oe[0]}a(R,"x");function x(oe){return oe[1]}a(x,"y");function N(){var oe=R,Be=x,Le=r(!0),Xe=null,lt=k,Ke=null;function Et(nt){var Rt,jt=nt.length,Xt,ur=!1,Er;for(Xe==null&&(Ke=lt(Er=t.path())),Rt=0;Rt<=jt;++Rt)!(Rt<jt&&Le(Xt=nt[Rt],Rt,nt))===ur&&((ur=!ur)?Ke.lineStart():Ke.lineEnd()),ur&&Ke.point(+oe(Xt,Rt,nt),+Be(Xt,Rt,nt));if(Er)return Ke=null,Er+""||null}return a(Et,"line"),Et.x=function(nt){return arguments.length?(oe=typeof nt=="function"?nt:r(+nt),Et):oe},Et.y=function(nt){return arguments.length?(Be=typeof nt=="function"?nt:r(+nt),Et):Be},Et.defined=function(nt){return arguments.length?(Le=typeof nt=="function"?nt:r(!!nt),Et):Le},Et.curve=function(nt){return arguments.length?(lt=nt,Xe!=null&&(Ke=lt(Xe)),Et):lt},Et.context=function(nt){return arguments.length?(nt==null?Xe=Ke=null:Ke=lt(Xe=nt),Et):Xe},Et}a(N,"line");function m(){var oe=R,Be=null,Le=r(0),Xe=x,lt=r(!0),Ke=null,Et=k,nt=null;function Rt(Xt){var ur,Er,Kr,Rr=Xt.length,jr,en=!1,Un,yn=new Array(Rr),Nn=new Array(Rr);for(Ke==null&&(nt=Et(Un=t.path())),ur=0;ur<=Rr;++ur){if(!(ur<Rr&&lt(jr=Xt[ur],ur,Xt))===en)if(en=!en)Er=ur,nt.areaStart(),nt.lineStart();else{for(nt.lineEnd(),nt.lineStart(),Kr=ur-1;Kr>=Er;--Kr)nt.point(yn[Kr],Nn[Kr]);nt.lineEnd(),nt.areaEnd()}en&&(yn[ur]=+oe(jr,ur,Xt),Nn[ur]=+Le(jr,ur,Xt),nt.point(Be?+Be(jr,ur,Xt):yn[ur],Xe?+Xe(jr,ur,Xt):Nn[ur]))}if(Un)return nt=null,Un+""||null}a(Rt,"area");function jt(){return N().defined(lt).curve(Et).context(Ke)}return a(jt,"arealine"),Rt.x=function(Xt){return arguments.length?(oe=typeof Xt=="function"?Xt:r(+Xt),Be=null,Rt):oe},Rt.x0=function(Xt){return arguments.length?(oe=typeof Xt=="function"?Xt:r(+Xt),Rt):oe},Rt.x1=function(Xt){return arguments.length?(Be=Xt==null?null:typeof Xt=="function"?Xt:r(+Xt),Rt):Be},Rt.y=function(Xt){return arguments.length?(Le=typeof Xt=="function"?Xt:r(+Xt),Xe=null,Rt):Le},Rt.y0=function(Xt){return arguments.length?(Le=typeof Xt=="function"?Xt:r(+Xt),Rt):Le},Rt.y1=function(Xt){return arguments.length?(Xe=Xt==null?null:typeof Xt=="function"?Xt:r(+Xt),Rt):Xe},Rt.lineX0=Rt.lineY0=function(){return jt().x(oe).y(Le)},Rt.lineY1=function(){return jt().x(oe).y(Xe)},Rt.lineX1=function(){return jt().x(Be).y(Le)},Rt.defined=function(Xt){return arguments.length?(lt=typeof Xt=="function"?Xt:r(!!Xt),Rt):lt},Rt.curve=function(Xt){return arguments.length?(Et=Xt,Ke!=null&&(nt=Et(Ke)),Rt):Et},Rt.context=function(Xt){return arguments.length?(Xt==null?Ke=nt=null:nt=Et(Ke=Xt),Rt):Ke},Rt}a(m,"area");function v(oe,Be){return Be<oe?-1:Be>oe?1:Be>=oe?0:NaN}a(v,"descending");function A(oe){return oe}a(A,"identity");function U(){var oe=A,Be=v,Le=null,Xe=r(0),lt=r(y),Ke=r(0);function Et(nt){var Rt,jt=nt.length,Xt,ur,Er=0,Kr=new Array(jt),Rr=new Array(jt),jr=+Xe.apply(this,arguments),en=Math.min(y,Math.max(-y,lt.apply(this,arguments)-jr)),Un,yn=Math.min(Math.abs(en)/jt,Ke.apply(this,arguments)),Nn=yn*(en<0?-1:1),gi;for(Rt=0;Rt<jt;++Rt)(gi=Rr[Kr[Rt]=Rt]=+oe(nt[Rt],Rt,nt))>0&&(Er+=gi);for(Be!=null?Kr.sort(function(ca,ci){return Be(Rr[ca],Rr[ci])}):Le!=null&&Kr.sort(function(ca,ci){return Le(nt[ca],nt[ci])}),Rt=0,ur=Er?(en-jt*Nn)/Er:0;Rt<jt;++Rt,jr=Un)Xt=Kr[Rt],gi=Rr[Xt],Un=jr+(gi>0?gi*ur:0)+Nn,Rr[Xt]={data:nt[Xt],index:Rt,value:gi,startAngle:jr,endAngle:Un,padAngle:yn};return Rr}return a(Et,"pie"),Et.value=function(nt){return arguments.length?(oe=typeof nt=="function"?nt:r(+nt),Et):oe},Et.sortValues=function(nt){return arguments.length?(Be=nt,Le=null,Et):Be},Et.sort=function(nt){return arguments.length?(Le=nt,Be=null,Et):Le},Et.startAngle=function(nt){return arguments.length?(Xe=typeof nt=="function"?nt:r(+nt),Et):Xe},Et.endAngle=function(nt){return arguments.length?(lt=typeof nt=="function"?nt:r(+nt),Et):lt},Et.padAngle=function(nt){return arguments.length?(Ke=typeof nt=="function"?nt:r(+nt),Et):Ke},Et}a(U,"pie");var G=Z(k);function K(oe){this._curve=oe}a(K,"Radial"),K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(oe,Be){this._curve.point(Be*Math.sin(oe),Be*-Math.cos(oe))}};function Z(oe){function Be(Le){return new K(oe(Le))}return a(Be,"radial"),Be._curve=oe,Be}a(Z,"curveRadial");function O(oe){var Be=oe.curve;return oe.angle=oe.x,delete oe.x,oe.radius=oe.y,delete oe.y,oe.curve=function(Le){return arguments.length?Be(Z(Le)):Be()._curve},oe}a(O,"lineRadial");function $(){return O(N().curve(G))}a($,"lineRadial$1");function L(){var oe=m().curve(G),Be=oe.curve,Le=oe.lineX0,Xe=oe.lineX1,lt=oe.lineY0,Ke=oe.lineY1;return oe.angle=oe.x,delete oe.x,oe.startAngle=oe.x0,delete oe.x0,oe.endAngle=oe.x1,delete oe.x1,oe.radius=oe.y,delete oe.y,oe.innerRadius=oe.y0,delete oe.y0,oe.outerRadius=oe.y1,delete oe.y1,oe.lineStartAngle=function(){return O(Le())},delete oe.lineX0,oe.lineEndAngle=function(){return O(Xe())},delete oe.lineX1,oe.lineInnerRadius=function(){return O(lt())},delete oe.lineY0,oe.lineOuterRadius=function(){return O(Ke())},delete oe.lineY1,oe.curve=function(Et){return arguments.length?Be(Z(Et)):Be()._curve},oe}a(L,"areaRadial");function ee(oe,Be){return[(Be=+Be)*Math.cos(oe-=Math.PI/2),Be*Math.sin(oe)]}a(ee,"pointRadial");var ve=Array.prototype.slice;function ye(oe){return oe.source}a(ye,"linkSource");function se(oe){return oe.target}a(se,"linkTarget");function be(oe){var Be=ye,Le=se,Xe=R,lt=x,Ke=null;function Et(){var nt,Rt=ve.call(arguments),jt=Be.apply(this,Rt),Xt=Le.apply(this,Rt);if(Ke||(Ke=nt=t.path()),oe(Ke,+Xe.apply(this,(Rt[0]=jt,Rt)),+lt.apply(this,Rt),+Xe.apply(this,(Rt[0]=Xt,Rt)),+lt.apply(this,Rt)),nt)return Ke=null,nt+""||null}return a(Et,"link"),Et.source=function(nt){return arguments.length?(Be=nt,Et):Be},Et.target=function(nt){return arguments.length?(Le=nt,Et):Le},Et.x=function(nt){return arguments.length?(Xe=typeof nt=="function"?nt:r(+nt),Et):Xe},Et.y=function(nt){return arguments.length?(lt=typeof nt=="function"?nt:r(+nt),Et):lt},Et.context=function(nt){return arguments.length?(Ke=nt??null,Et):Ke},Et}a(be,"link");function Y(oe,Be,Le,Xe,lt){oe.moveTo(Be,Le),oe.bezierCurveTo(Be=(Be+Xe)/2,Le,Be,lt,Xe,lt)}a(Y,"curveHorizontal");function D(oe,Be,Le,Xe,lt){oe.moveTo(Be,Le),oe.bezierCurveTo(Be,Le=(Le+lt)/2,Xe,Le,Xe,lt)}a(D,"curveVertical");function J(oe,Be,Le,Xe,lt){var Ke=ee(Be,Le),Et=ee(Be,Le=(Le+lt)/2),nt=ee(Xe,Le),Rt=ee(Xe,lt);oe.moveTo(Ke[0],Ke[1]),oe.bezierCurveTo(Et[0],Et[1],nt[0],nt[1],Rt[0],Rt[1])}a(J,"curveRadial$1");function q(){return be(Y)}a(q,"linkHorizontal");function I(){return be(D)}a(I,"linkVertical");function H(){var oe=be(J);return oe.angle=oe.x,delete oe.x,oe.radius=oe.y,delete oe.y,oe}a(H,"linkRadial");var te={draw:function(oe,Be){var Le=Math.sqrt(Be/p);oe.moveTo(Le,0),oe.arc(0,0,Le,0,y)}},ie={draw:function(oe,Be){var Le=Math.sqrt(Be/5)/2;oe.moveTo(-3*Le,-Le),oe.lineTo(-Le,-Le),oe.lineTo(-Le,-3*Le),oe.lineTo(Le,-3*Le),oe.lineTo(Le,-Le),oe.lineTo(3*Le,-Le),oe.lineTo(3*Le,Le),oe.lineTo(Le,Le),oe.lineTo(Le,3*Le),oe.lineTo(-Le,3*Le),oe.lineTo(-Le,Le),oe.lineTo(-3*Le,Le),oe.closePath()}},he=Math.sqrt(1/3),De=he*2,$e={draw:function(oe,Be){var Le=Math.sqrt(Be/De),Xe=Le*he;oe.moveTo(0,-Le),oe.lineTo(Xe,0),oe.lineTo(0,Le),oe.lineTo(-Xe,0),oe.closePath()}},ze=.8908130915292852,Qe=Math.sin(p/10)/Math.sin(7*p/10),je=Math.sin(y/10)*Qe,We=-Math.cos(y/10)*Qe,Ce={draw:function(oe,Be){var Le=Math.sqrt(Be*ze),Xe=je*Le,lt=We*Le;oe.moveTo(0,-Le),oe.lineTo(Xe,lt);for(var Ke=1;Ke<5;++Ke){var Et=y*Ke/5,nt=Math.cos(Et),Rt=Math.sin(Et);oe.lineTo(Rt*Le,-nt*Le),oe.lineTo(nt*Xe-Rt*lt,Rt*Xe+nt*lt)}oe.closePath()}},Te={draw:function(oe,Be){var Le=Math.sqrt(Be),Xe=-Le/2;oe.rect(Xe,Xe,Le,Le)}},Je=Math.sqrt(3),rt={draw:function(oe,Be){var Le=-Math.sqrt(Be/(Je*3));oe.moveTo(0,Le*2),oe.lineTo(-Je*Le,-Le),oe.lineTo(Je*Le,-Le),oe.closePath()}},ge=-.5,xe=Math.sqrt(3)/2,qe=1/Math.sqrt(12),ot=(qe/2+1)*3,at={draw:function(oe,Be){var Le=Math.sqrt(Be/ot),Xe=Le/2,lt=Le*qe,Ke=Xe,Et=Le*qe+Le,nt=-Ke,Rt=Et;oe.moveTo(Xe,lt),oe.lineTo(Ke,Et),oe.lineTo(nt,Rt),oe.lineTo(ge*Xe-xe*lt,xe*Xe+ge*lt),oe.lineTo(ge*Ke-xe*Et,xe*Ke+ge*Et),oe.lineTo(ge*nt-xe*Rt,xe*nt+ge*Rt),oe.lineTo(ge*Xe+xe*lt,ge*lt-xe*Xe),oe.lineTo(ge*Ke+xe*Et,ge*Et-xe*Ke),oe.lineTo(ge*nt+xe*Rt,ge*Rt-xe*nt),oe.closePath()}},pe=[te,ie,$e,Te,Ce,rt,at];function Re(){var oe=r(te),Be=r(64),Le=null;function Xe(){var lt;if(Le||(Le=lt=t.path()),oe.apply(this,arguments).draw(Le,+Be.apply(this,arguments)),lt)return Le=null,lt+""||null}return a(Xe,"symbol"),Xe.type=function(lt){return arguments.length?(oe=typeof lt=="function"?lt:r(lt),Xe):oe},Xe.size=function(lt){return arguments.length?(Be=typeof lt=="function"?lt:r(+lt),Xe):Be},Xe.context=function(lt){return arguments.length?(Le=lt??null,Xe):Le},Xe}a(Re,"symbol");function He(){}a(He,"noop");function tt(oe,Be,Le){oe._context.bezierCurveTo((2*oe._x0+oe._x1)/3,(2*oe._y0+oe._y1)/3,(oe._x0+2*oe._x1)/3,(oe._y0+2*oe._y1)/3,(oe._x0+4*oe._x1+Be)/6,(oe._y0+4*oe._y1+Le)/6)}a(tt,"point");function Ve(oe){this._context=oe}a(Ve,"Basis"),Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function et(oe){return new Ve(oe)}a(et,"basis");function gt(oe){this._context=oe}a(gt,"BasisClosed"),gt.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._x2=oe,this._y2=Be;break;case 1:this._point=2,this._x3=oe,this._y3=Be;break;case 2:this._point=3,this._x4=oe,this._y4=Be,this._context.moveTo((this._x0+4*this._x1+oe)/6,(this._y0+4*this._y1+Be)/6);break;default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function ut(oe){return new gt(oe)}a(ut,"basisClosed");function zt(oe){this._context=oe}a(zt,"BasisOpen"),zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Le=(this._x0+4*this._x1+oe)/6,Xe=(this._y0+4*this._y1+Be)/6;this._line?this._context.lineTo(Le,Xe):this._context.moveTo(Le,Xe);break;case 3:this._point=4;default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function it(oe){return new zt(oe)}a(it,"basisOpen");function Wt(oe,Be){this._basis=new Ve(oe),this._beta=Be}a(Wt,"Bundle"),Wt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var oe=this._x,Be=this._y,Le=oe.length-1;if(Le>0)for(var Xe=oe[0],lt=Be[0],Ke=oe[Le]-Xe,Et=Be[Le]-lt,nt=-1,Rt;++nt<=Le;)Rt=nt/Le,this._basis.point(this._beta*oe[nt]+(1-this._beta)*(Xe+Rt*Ke),this._beta*Be[nt]+(1-this._beta)*(lt+Rt*Et));this._x=this._y=null,this._basis.lineEnd()},point:function(oe,Be){this._x.push(+oe),this._y.push(+Be)}};var bt=a(function oe(Be){function Le(Xe){return Be===1?new Ve(Xe):new Wt(Xe,Be)}return a(Le,"bundle"),Le.beta=function(Xe){return oe(+Xe)},Le},"custom")(.85);function Se(oe,Be,Le){oe._context.bezierCurveTo(oe._x1+oe._k*(oe._x2-oe._x0),oe._y1+oe._k*(oe._y2-oe._y0),oe._x2+oe._k*(oe._x1-Be),oe._y2+oe._k*(oe._y1-Le),oe._x2,oe._y2)}a(Se,"point$1");function Ie(oe,Be){this._context=oe,this._k=(1-Be)/6}a(Ie,"Cardinal"),Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Se(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2,this._x1=oe,this._y1=Be;break;case 2:this._point=3;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var ue=a(function oe(Be){function Le(Xe){return new Ie(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function _e(oe,Be){this._context=oe,this._k=(1-Be)/6}a(_e,"CardinalClosed"),_e.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._x3=oe,this._y3=Be;break;case 1:this._point=2,this._context.moveTo(this._x4=oe,this._y4=Be);break;case 2:this._point=3,this._x5=oe,this._y5=Be;break;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var ae=a(function oe(Be){function Le(Xe){return new _e(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function ce(oe,Be){this._context=oe,this._k=(1-Be)/6}a(ce,"CardinalOpen"),ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var re=a(function oe(Be){function Le(Xe){return new ce(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function le(oe,Be,Le){var Xe=oe._x1,lt=oe._y1,Ke=oe._x2,Et=oe._y2;if(oe._l01_a>h){var nt=2*oe._l01_2a+3*oe._l01_a*oe._l12_a+oe._l12_2a,Rt=3*oe._l01_a*(oe._l01_a+oe._l12_a);Xe=(Xe*nt-oe._x0*oe._l12_2a+oe._x2*oe._l01_2a)/Rt,lt=(lt*nt-oe._y0*oe._l12_2a+oe._y2*oe._l01_2a)/Rt}if(oe._l23_a>h){var jt=2*oe._l23_2a+3*oe._l23_a*oe._l12_a+oe._l12_2a,Xt=3*oe._l23_a*(oe._l23_a+oe._l12_a);Ke=(Ke*jt+oe._x1*oe._l23_2a-Be*oe._l12_2a)/Xt,Et=(Et*jt+oe._y1*oe._l23_2a-Le*oe._l12_2a)/Xt}oe._context.bezierCurveTo(Xe,lt,Ke,Et,oe._x2,oe._y2)}a(le,"point$2");function me(oe,Be){this._context=oe,this._alpha=Be}a(me,"CatmullRom"),me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3;default:le(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var Ae=a(function oe(Be){function Le(Xe){return Be?new me(Xe,Be):new Ie(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function Oe(oe,Be){this._context=oe,this._alpha=Be}a(Oe,"CatmullRomClosed"),Oe.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=oe,this._y3=Be;break;case 1:this._point=2,this._context.moveTo(this._x4=oe,this._y4=Be);break;case 2:this._point=3,this._x5=oe,this._y5=Be;break;default:le(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var Ge=a(function oe(Be){function Le(Xe){return Be?new Oe(Xe,Be):new _e(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function ke(oe,Be){this._context=oe,this._alpha=Be}a(ke,"CatmullRomOpen"),ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:le(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var st=a(function oe(Be){function Le(Xe){return Be?new ke(Xe,Be):new ce(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function yt(oe){this._context=oe}a(yt,"LinearClosed"),yt.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(oe,Be){oe=+oe,Be=+Be,this._point?this._context.lineTo(oe,Be):(this._point=1,this._context.moveTo(oe,Be))}};function pt(oe){return new yt(oe)}a(pt,"linearClosed");function wt(oe){return oe<0?-1:1}a(wt,"sign");function Gt(oe,Be,Le){var Xe=oe._x1-oe._x0,lt=Be-oe._x1,Ke=(oe._y1-oe._y0)/(Xe||lt<0&&-0),Et=(Le-oe._y1)/(lt||Xe<0&&-0),nt=(Ke*lt+Et*Xe)/(Xe+lt);return(wt(Ke)+wt(Et))*Math.min(Math.abs(Ke),Math.abs(Et),.5*Math.abs(nt))||0}a(Gt,"slope3");function Pt(oe,Be){var Le=oe._x1-oe._x0;return Le?(3*(oe._y1-oe._y0)/Le-Be)/2:Be}a(Pt,"slope2");function tr(oe,Be,Le){var Xe=oe._x0,lt=oe._y0,Ke=oe._x1,Et=oe._y1,nt=(Ke-Xe)/3;oe._context.bezierCurveTo(Xe+nt,lt+nt*Be,Ke-nt,Et-nt*Le,Ke,Et)}a(tr,"point$3");function cr(oe){this._context=oe}a(cr,"MonotoneX"),cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tr(this,this._t0,Pt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){var Le=NaN;if(oe=+oe,Be=+Be,!(oe===this._x1&&Be===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3,tr(this,Pt(this,Le=Gt(this,oe,Be)),Le);break;default:tr(this,this._t0,Le=Gt(this,oe,Be));break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be,this._t0=Le}}};function pr(oe){this._context=new Cr(oe)}a(pr,"MonotoneY"),(pr.prototype=Object.create(cr.prototype)).point=function(oe,Be){cr.prototype.point.call(this,Be,oe)};function Cr(oe){this._context=oe}a(Cr,"ReflectContext"),Cr.prototype={moveTo:function(oe,Be){this._context.moveTo(Be,oe)},closePath:function(){this._context.closePath()},lineTo:function(oe,Be){this._context.lineTo(Be,oe)},bezierCurveTo:function(oe,Be,Le,Xe,lt,Ke){this._context.bezierCurveTo(Be,oe,Xe,Le,Ke,lt)}};function Wr(oe){return new cr(oe)}a(Wr,"monotoneX");function Tr(oe){return new pr(oe)}a(Tr,"monotoneY");function lr(oe){this._context=oe}a(lr,"Natural"),lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var oe=this._x,Be=this._y,Le=oe.length;if(Le)if(this._line?this._context.lineTo(oe[0],Be[0]):this._context.moveTo(oe[0],Be[0]),Le===2)this._context.lineTo(oe[1],Be[1]);else for(var Xe=fr(oe),lt=fr(Be),Ke=0,Et=1;Et<Le;++Ke,++Et)this._context.bezierCurveTo(Xe[0][Ke],lt[0][Ke],Xe[1][Ke],lt[1][Ke],oe[Et],Be[Et]);(this._line||this._line!==0&&Le===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(oe,Be){this._x.push(+oe),this._y.push(+Be)}};function fr(oe){var Be,Le=oe.length-1,Xe,lt=new Array(Le),Ke=new Array(Le),Et=new Array(Le);for(lt[0]=0,Ke[0]=2,Et[0]=oe[0]+2*oe[1],Be=1;Be<Le-1;++Be)lt[Be]=1,Ke[Be]=4,Et[Be]=4*oe[Be]+2*oe[Be+1];for(lt[Le-1]=2,Ke[Le-1]=7,Et[Le-1]=8*oe[Le-1]+oe[Le],Be=1;Be<Le;++Be)Xe=lt[Be]/Ke[Be-1],Ke[Be]-=Xe,Et[Be]-=Xe*Et[Be-1];for(lt[Le-1]=Et[Le-1]/Ke[Le-1],Be=Le-2;Be>=0;--Be)lt[Be]=(Et[Be]-lt[Be+1])/Ke[Be];for(Ke[Le-1]=(oe[Le]+lt[Le-1])/2,Be=0;Be<Le-1;++Be)Ke[Be]=2*oe[Be+1]-lt[Be+1];return[lt,Ke]}a(fr,"controlPoints");function Mr(oe){return new lr(oe)}a(Mr,"natural");function Br(oe,Be){this._context=oe,this._t=Be}a(Br,"Step"),Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Be),this._context.lineTo(oe,Be);else{var Le=this._x*(1-this._t)+oe*this._t;this._context.lineTo(Le,this._y),this._context.lineTo(Le,Be)}break}}this._x=oe,this._y=Be}};function Ne(oe){return new Br(oe,.5)}a(Ne,"step");function Ze(oe){return new Br(oe,0)}a(Ze,"stepBefore");function Tt(oe){return new Br(oe,1)}a(Tt,"stepAfter");function Ft(oe,Be){if((Et=oe.length)>1)for(var Le=1,Xe,lt,Ke=oe[Be[0]],Et,nt=Ke.length;Le<Et;++Le)for(lt=Ke,Ke=oe[Be[Le]],Xe=0;Xe<nt;++Xe)Ke[Xe][1]+=Ke[Xe][0]=isNaN(lt[Xe][1])?lt[Xe][0]:lt[Xe][1]}a(Ft,"none");function At(oe){for(var Be=oe.length,Le=new Array(Be);--Be>=0;)Le[Be]=Be;return Le}a(At,"none$1");function Ot(oe,Be){return oe[Be]}a(Ot,"stackValue");function Vt(){var oe=r([]),Be=At,Le=Ft,Xe=Ot;function lt(Ke){var Et=oe.apply(this,arguments),nt,Rt=Ke.length,jt=Et.length,Xt=new Array(jt),ur;for(nt=0;nt<jt;++nt){for(var Er=Et[nt],Kr=Xt[nt]=new Array(Rt),Rr=0,jr;Rr<Rt;++Rr)Kr[Rr]=jr=[0,+Xe(Ke[Rr],Er,Rr,Ke)],jr.data=Ke[Rr];Kr.key=Er}for(nt=0,ur=Be(Xt);nt<jt;++nt)Xt[ur[nt]].index=nt;return Le(Xt,ur),Xt}return a(lt,"stack"),lt.keys=function(Ke){return arguments.length?(oe=typeof Ke=="function"?Ke:r(ve.call(Ke)),lt):oe},lt.value=function(Ke){return arguments.length?(Xe=typeof Ke=="function"?Ke:r(+Ke),lt):Xe},lt.order=function(Ke){return arguments.length?(Be=Ke==null?At:typeof Ke=="function"?Ke:r(ve.call(Ke)),lt):Be},lt.offset=function(Ke){return arguments.length?(Le=Ke??Ft,lt):Le},lt}a(Vt,"stack");function Ct(oe,Be){if((Xe=oe.length)>0){for(var Le,Xe,lt=0,Ke=oe[0].length,Et;lt<Ke;++lt){for(Et=Le=0;Le<Xe;++Le)Et+=oe[Le][lt][1]||0;if(Et)for(Le=0;Le<Xe;++Le)oe[Le][lt][1]/=Et}Ft(oe,Be)}}a(Ct,"expand");function er(oe,Be){if((Rt=oe.length)>0)for(var Le,Xe=0,lt,Ke,Et,nt,Rt,jt=oe[Be[0]].length;Xe<jt;++Xe)for(Et=nt=0,Le=0;Le<Rt;++Le)(Ke=(lt=oe[Be[Le]][Xe])[1]-lt[0])>0?(lt[0]=Et,lt[1]=Et+=Ke):Ke<0?(lt[1]=nt,lt[0]=nt+=Ke):(lt[0]=0,lt[1]=Ke)}a(er,"diverging");function Ue(oe,Be){if((lt=oe.length)>0){for(var Le=0,Xe=oe[Be[0]],lt,Ke=Xe.length;Le<Ke;++Le){for(var Et=0,nt=0;Et<lt;++Et)nt+=oe[Et][Le][1]||0;Xe[Le][1]+=Xe[Le][0]=-nt/2}Ft(oe,Be)}}a(Ue,"silhouette");function Ir(oe,Be){if(!(!((Et=oe.length)>0)||!((Ke=(lt=oe[Be[0]]).length)>0))){for(var Le=0,Xe=1,lt,Ke,Et;Xe<Ke;++Xe){for(var nt=0,Rt=0,jt=0;nt<Et;++nt){for(var Xt=oe[Be[nt]],ur=Xt[Xe][1]||0,Er=Xt[Xe-1][1]||0,Kr=(ur-Er)/2,Rr=0;Rr<nt;++Rr){var jr=oe[Be[Rr]],en=jr[Xe][1]||0,Un=jr[Xe-1][1]||0;Kr+=en-Un}Rt+=ur,jt+=Kr*ur}lt[Xe-1][1]+=lt[Xe-1][0]=Le,Rt&&(Le-=jt/Rt)}lt[Xe-1][1]+=lt[Xe-1][0]=Le,Ft(oe,Be)}}a(Ir,"wiggle");function ct(oe){var Be=oe.map(xn);return At(oe).sort(function(Le,Xe){return Be[Le]-Be[Xe]})}a(ct,"appearance");function xn(oe){for(var Be=-1,Le=0,Xe=oe.length,lt,Ke=-1/0;++Be<Xe;)(lt=+oe[Be][1])>Ke&&(Ke=lt,Le=Be);return Le}a(xn,"peak");function Mn(oe){var Be=oe.map(Fi);return At(oe).sort(function(Le,Xe){return Be[Le]-Be[Xe]})}a(Mn,"ascending");function Fi(oe){for(var Be=0,Le=-1,Xe=oe.length,lt;++Le<Xe;)(lt=+oe[Le][1])&&(Be+=lt);return Be}a(Fi,"sum");function Ya(oe){return Mn(oe).reverse()}a(Ya,"descending$1");function Ha(oe){var Be=oe.length,Le,Xe,lt=oe.map(Fi),Ke=ct(oe),Et=0,nt=0,Rt=[],jt=[];for(Le=0;Le<Be;++Le)Xe=Ke[Le],Et<nt?(Et+=lt[Xe],Rt.push(Xe)):(nt+=lt[Xe],jt.push(Xe));return jt.reverse().concat(Rt)}a(Ha,"insideOut");function hn(oe){return At(oe).reverse()}a(hn,"reverse"),e.arc=S,e.area=m,e.areaRadial=L,e.curveBasis=et,e.curveBasisClosed=ut,e.curveBasisOpen=it,e.curveBundle=bt,e.curveCardinal=ue,e.curveCardinalClosed=ae,e.curveCardinalOpen=re,e.curveCatmullRom=Ae,e.curveCatmullRomClosed=Ge,e.curveCatmullRomOpen=st,e.curveLinear=k,e.curveLinearClosed=pt,e.curveMonotoneX=Wr,e.curveMonotoneY=Tr,e.curveNatural=Mr,e.curveStep=Ne,e.curveStepAfter=Tt,e.curveStepBefore=Ze,e.line=N,e.lineRadial=$,e.linkHorizontal=q,e.linkRadial=H,e.linkVertical=I,e.pie=U,e.pointRadial=ee,e.radialArea=L,e.radialLine=$,e.stack=Vt,e.stackOffsetDiverging=er,e.stackOffsetExpand=Ct,e.stackOffsetNone=Ft,e.stackOffsetSilhouette=Ue,e.stackOffsetWiggle=Ir,e.stackOrderAppearance=ct,e.stackOrderAscending=Mn,e.stackOrderDescending=Ya,e.stackOrderInsideOut=Ha,e.stackOrderNone=At,e.stackOrderReverse=hn,e.symbol=Re,e.symbolCircle=te,e.symbolCross=ie,e.symbolDiamond=$e,e.symbolSquare=Te,e.symbolStar=Ce,e.symbolTriangle=rt,e.symbolWye=at,e.symbols=pe,Object.defineProperty(e,"__esModule",{value:!0})})});var NMe=j((JT,DMe)=>{d();(function(e,t){typeof JT=="object"&&typeof DMe<"u"?t(JT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(JT,function(e){"use strict";function t(Y){return function(){return Y}}a(t,"constant");function r(Y){return Y[0]}a(r,"x");function n(Y){return Y[1]}a(n,"y");function i(){this._=null}a(i,"RedBlackTree");function s(Y){Y.U=Y.C=Y.L=Y.R=Y.P=Y.N=null}a(s,"RedBlackNode"),i.prototype={constructor:i,insert:function(Y,D){var J,q,I;if(Y){if(D.P=Y,D.N=Y.N,Y.N&&(Y.N.P=D),Y.N=D,Y.R){for(Y=Y.R;Y.L;)Y=Y.L;Y.L=D}else Y.R=D;J=Y}else this._?(Y=l(this._),D.P=null,D.N=Y,Y.P=Y.L=D,J=Y):(D.P=D.N=null,this._=D,J=null);for(D.L=D.R=null,D.U=J,D.C=!0,Y=D;J&&J.C;)q=J.U,J===q.L?(I=q.R,I&&I.C?(J.C=I.C=!1,q.C=!0,Y=q):(Y===J.R&&(o(this,J),Y=J,J=Y.U),J.C=!1,q.C=!0,u(this,q))):(I=q.L,I&&I.C?(J.C=I.C=!1,q.C=!0,Y=q):(Y===J.L&&(u(this,J),Y=J,J=Y.U),J.C=!1,q.C=!0,o(this,q))),J=Y.U;this._.C=!1},remove:function(Y){Y.N&&(Y.N.P=Y.P),Y.P&&(Y.P.N=Y.N),Y.N=Y.P=null;var D=Y.U,J,q=Y.L,I=Y.R,H,te;if(q?I?H=l(I):H=q:H=I,D?D.L===Y?D.L=H:D.R=H:this._=H,q&&I?(te=H.C,H.C=Y.C,H.L=q,q.U=H,H!==I?(D=H.U,H.U=Y.U,Y=H.R,D.L=Y,H.R=I,I.U=H):(H.U=D,D=H,Y=H.R)):(te=Y.C,Y=H),Y&&(Y.U=D),!te){if(Y&&Y.C){Y.C=!1;return}do{if(Y===this._)break;if(Y===D.L){if(J=D.R,J.C&&(J.C=!1,D.C=!0,o(this,D),J=D.R),J.L&&J.L.C||J.R&&J.R.C){(!J.R||!J.R.C)&&(J.L.C=!1,J.C=!0,u(this,J),J=D.R),J.C=D.C,D.C=J.R.C=!1,o(this,D),Y=this._;break}}else if(J=D.L,J.C&&(J.C=!1,D.C=!0,u(this,D),J=D.L),J.L&&J.L.C||J.R&&J.R.C){(!J.L||!J.L.C)&&(J.R.C=!1,J.C=!0,o(this,J),J=D.L),J.C=D.C,D.C=J.L.C=!1,u(this,D),Y=this._;break}J.C=!0,Y=D,D=D.U}while(!Y.C);Y&&(Y.C=!1)}}};function o(Y,D){var J=D,q=D.R,I=J.U;I?I.L===J?I.L=q:I.R=q:Y._=q,q.U=I,J.U=q,J.R=q.L,J.R&&(J.R.U=J),q.L=J}a(o,"RedBlackRotateLeft");function u(Y,D){var J=D,q=D.L,I=J.U;I?I.L===J?I.L=q:I.R=q:Y._=q,q.U=I,J.U=q,J.L=q.R,J.L&&(J.L.U=J),q.R=J}a(u,"RedBlackRotateRight");function l(Y){for(;Y.L;)Y=Y.L;return Y}a(l,"RedBlackFirst");function f(Y,D,J,q){var I=[null,null],H=ee.push(I)-1;return I.left=Y,I.right=D,J&&p(I,Y,D,J),q&&p(I,D,Y,q),$[Y.index].halfedges.push(H),$[D.index].halfedges.push(H),I}a(f,"createEdge");function h(Y,D,J){var q=[D,J];return q.left=Y,q}a(h,"createBorderEdge");function p(Y,D,J,q){!Y[0]&&!Y[1]?(Y[0]=q,Y.left=D,Y.right=J):Y.left===J?Y[1]=q:Y[0]=q}a(p,"setEdgeEnd");function g(Y,D,J,q,I){var H=Y[0],te=Y[1],ie=H[0],he=H[1],De=te[0],$e=te[1],ze=0,Qe=1,je=De-ie,We=$e-he,Ce;if(Ce=D-ie,!(!je&&Ce>0)){if(Ce/=je,je<0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}else if(je>0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}if(Ce=q-ie,!(!je&&Ce<0)){if(Ce/=je,je<0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}else if(je>0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}if(Ce=J-he,!(!We&&Ce>0)){if(Ce/=We,We<0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}else if(We>0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}if(Ce=I-he,!(!We&&Ce<0)){if(Ce/=We,We<0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}else if(We>0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}return!(ze>0)&&!(Qe<1)||(ze>0&&(Y[0]=[ie+ze*je,he+ze*We]),Qe<1&&(Y[1]=[ie+Qe*je,he+Qe*We])),!0}}}}}a(g,"clipEdge");function y(Y,D,J,q,I){var H=Y[1];if(H)return!0;var te=Y[0],ie=Y.left,he=Y.right,De=ie[0],$e=ie[1],ze=he[0],Qe=he[1],je=(De+ze)/2,We=($e+Qe)/2,Ce,Te;if(Qe===$e){if(je<D||je>=q)return;if(De>ze){if(!te)te=[je,J];else if(te[1]>=I)return;H=[je,I]}else{if(!te)te=[je,I];else if(te[1]<J)return;H=[je,J]}}else if(Ce=(De-ze)/(Qe-$e),Te=We-Ce*je,Ce<-1||Ce>1)if(De>ze){if(!te)te=[(J-Te)/Ce,J];else if(te[1]>=I)return;H=[(I-Te)/Ce,I]}else{if(!te)te=[(I-Te)/Ce,I];else if(te[1]<J)return;H=[(J-Te)/Ce,J]}else if($e<Qe){if(!te)te=[D,Ce*D+Te];else if(te[0]>=q)return;H=[q,Ce*q+Te]}else{if(!te)te=[q,Ce*q+Te];else if(te[0]<D)return;H=[D,Ce*D+Te]}return Y[0]=te,Y[1]=H,!0}a(y,"connectEdge");function E(Y,D,J,q){for(var I=ee.length,H;I--;)(!y(H=ee[I],Y,D,J,q)||!g(H,Y,D,J,q)||!(Math.abs(H[0][0]-H[1][0])>K||Math.abs(H[0][1]-H[1][1])>K))&&delete ee[I]}a(E,"clipEdges");function M(Y){return $[Y.index]={site:Y,halfedges:[]}}a(M,"createCell");function z(Y,D){var J=Y.site,q=D.left,I=D.right;return J===I&&(I=q,q=J),I?Math.atan2(I[1]-q[1],I[0]-q[0]):(J===q?(q=D[1],I=D[0]):(q=D[0],I=D[1]),Math.atan2(q[0]-I[0],I[1]-q[1]))}a(z,"cellHalfedgeAngle");function P(Y,D){return D[+(D.left!==Y.site)]}a(P,"cellHalfedgeStart");function Q(Y,D){return D[+(D.left===Y.site)]}a(Q,"cellHalfedgeEnd");function V(){for(var Y=0,D=$.length,J,q,I,H;Y<D;++Y)if((J=$[Y])&&(H=(q=J.halfedges).length)){var te=new Array(H),ie=new Array(H);for(I=0;I<H;++I)te[I]=I,ie[I]=z(J,ee[q[I]]);for(te.sort(function(he,De){return ie[De]-ie[he]}),I=0;I<H;++I)ie[I]=q[te[I]];for(I=0;I<H;++I)q[I]=ie[I]}}a(V,"sortCellHalfedges");function W(Y,D,J,q){var I=$.length,H,te,ie,he,De,$e,ze,Qe,je,We,Ce,Te,Je=!0;for(H=0;H<I;++H)if(te=$[H]){for(ie=te.site,De=te.halfedges,he=De.length;he--;)ee[De[he]]||De.splice(he,1);for(he=0,$e=De.length;he<$e;)We=Q(te,ee[De[he]]),Ce=We[0],Te=We[1],ze=P(te,ee[De[++he%$e]]),Qe=ze[0],je=ze[1],(Math.abs(Ce-Qe)>K||Math.abs(Te-je)>K)&&(De.splice(he,0,ee.push(h(ie,We,Math.abs(Ce-Y)<K&&q-Te>K?[Y,Math.abs(Qe-Y)<K?je:q]:Math.abs(Te-q)<K&&J-Ce>K?[Math.abs(je-q)<K?Qe:J,q]:Math.abs(Ce-J)<K&&Te-D>K?[J,Math.abs(Qe-J)<K?je:D]:Math.abs(Te-D)<K&&Ce-Y>K?[Math.abs(je-D)<K?Qe:Y,D]:null))-1),++$e);$e&&(Je=!1)}if(Je){var rt,ge,xe,qe=1/0;for(H=0,Je=null;H<I;++H)(te=$[H])&&(ie=te.site,rt=ie[0]-Y,ge=ie[1]-D,xe=rt*rt+ge*ge,xe<qe&&(qe=xe,Je=te));if(Je){var ot=[Y,D],at=[Y,q],pe=[J,q],Re=[J,D];Je.halfedges.push(ee.push(h(ie=Je.site,ot,at))-1,ee.push(h(ie,at,pe))-1,ee.push(h(ie,pe,Re))-1,ee.push(h(ie,Re,ot))-1)}}for(H=0;H<I;++H)(te=$[H])&&(te.halfedges.length||delete $[H])}a(W,"clipCells");var F=[],B;function S(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}a(S,"Circle");function T(Y){var D=Y.P,J=Y.N;if(!(!D||!J)){var q=D.site,I=Y.site,H=J.site;if(q!==H){var te=I[0],ie=I[1],he=q[0]-te,De=q[1]-ie,$e=H[0]-te,ze=H[1]-ie,Qe=2*(he*ze-De*$e);if(!(Qe>=-Z)){var je=he*he+De*De,We=$e*$e+ze*ze,Ce=(ze*je-De*We)/Qe,Te=(he*We-$e*je)/Qe,Je=F.pop()||new S;Je.arc=Y,Je.site=I,Je.x=Ce+te,Je.y=(Je.cy=Te+ie)+Math.sqrt(Ce*Ce+Te*Te),Y.circle=Je;for(var rt=null,ge=L._;ge;)if(Je.y<ge.y||Je.y===ge.y&&Je.x<=ge.x)if(ge.L)ge=ge.L;else{rt=ge.P;break}else if(ge.R)ge=ge.R;else{rt=ge;break}L.insert(rt,Je),rt||(B=Je)}}}}a(T,"attachCircle");function k(Y){var D=Y.circle;D&&(D.P||(B=D.N),L.remove(D),F.push(D),s(D),Y.circle=null)}a(k,"detachCircle");var R=[];function x(){s(this),this.edge=this.site=this.circle=null}a(x,"Beach");function N(Y){var D=R.pop()||new x;return D.site=Y,D}a(N,"createBeach");function m(Y){k(Y),O.remove(Y),R.push(Y),s(Y)}a(m,"detachBeach");function v(Y){var D=Y.circle,J=D.x,q=D.cy,I=[J,q],H=Y.P,te=Y.N,ie=[Y];m(Y);for(var he=H;he.circle&&Math.abs(J-he.circle.x)<K&&Math.abs(q-he.circle.cy)<K;)H=he.P,ie.unshift(he),m(he),he=H;ie.unshift(he),k(he);for(var De=te;De.circle&&Math.abs(J-De.circle.x)<K&&Math.abs(q-De.circle.cy)<K;)te=De.N,ie.push(De),m(De),De=te;ie.push(De),k(De);var $e=ie.length,ze;for(ze=1;ze<$e;++ze)De=ie[ze],he=ie[ze-1],p(De.edge,he.site,De.site,I);he=ie[0],De=ie[$e-1],De.edge=f(he.site,De.site,null,I),T(he),T(De)}a(v,"removeBeach");function A(Y){for(var D=Y[0],J=Y[1],q,I,H,te,ie=O._;ie;)if(H=U(ie,J)-D,H>K)ie=ie.L;else if(te=D-G(ie,J),te>K){if(!ie.R){q=ie;break}ie=ie.R}else{H>-K?(q=ie.P,I=ie):te>-K?(q=ie,I=ie.N):q=I=ie;break}M(Y);var he=N(Y);if(O.insert(q,he),!(!q&&!I)){if(q===I){k(q),I=N(q.site),O.insert(he,I),he.edge=I.edge=f(q.site,he.site),T(q),T(I);return}if(!I){he.edge=f(q.site,he.site);return}k(q),k(I);var De=q.site,$e=De[0],ze=De[1],Qe=Y[0]-$e,je=Y[1]-ze,We=I.site,Ce=We[0]-$e,Te=We[1]-ze,Je=2*(Qe*Te-je*Ce),rt=Qe*Qe+je*je,ge=Ce*Ce+Te*Te,xe=[(Te*rt-je*ge)/Je+$e,(Qe*ge-Ce*rt)/Je+ze];p(I.edge,De,We,xe),he.edge=f(De,Y,null,xe),I.edge=f(Y,We,null,xe),T(q),T(I)}}a(A,"addBeach");function U(Y,D){var J=Y.site,q=J[0],I=J[1],H=I-D;if(!H)return q;var te=Y.P;if(!te)return-1/0;J=te.site;var ie=J[0],he=J[1],De=he-D;if(!De)return ie;var $e=ie-q,ze=1/H-1/De,Qe=$e/De;return ze?(-Qe+Math.sqrt(Qe*Qe-2*ze*($e*$e/(-2*De)-he+De/2+I-H/2)))/ze+q:(q+ie)/2}a(U,"leftBreakPoint");function G(Y,D){var J=Y.N;if(J)return U(J,D);var q=Y.site;return q[1]===D?q[0]:1/0}a(G,"rightBreakPoint");var K=1e-6,Z=1e-12,O,$,L,ee;function ve(Y,D,J){return(Y[0]-J[0])*(D[1]-Y[1])-(Y[0]-D[0])*(J[1]-Y[1])}a(ve,"triangleArea");function ye(Y,D){return D[1]-Y[1]||D[0]-Y[0]}a(ye,"lexicographic");function se(Y,D){var J=Y.sort(ye).pop(),q,I,H;for(ee=[],$=new Array(Y.length),O=new i,L=new i;;)if(H=B,J&&(!H||J[1]<H.y||J[1]===H.y&&J[0]<H.x))(J[0]!==q||J[1]!==I)&&(A(J),q=J[0],I=J[1]),J=Y.pop();else if(H)v(H.arc);else break;if(V(),D){var te=+D[0][0],ie=+D[0][1],he=+D[1][0],De=+D[1][1];E(te,ie,he,De),W(te,ie,he,De)}this.edges=ee,this.cells=$,O=L=ee=$=null}a(se,"Diagram"),se.prototype={constructor:se,polygons:function(){var Y=this.edges;return this.cells.map(function(D){var J=D.halfedges.map(function(q){return P(D,Y[q])});return J.data=D.site.data,J})},triangles:function(){var Y=[],D=this.edges;return this.cells.forEach(function(J,q){if(!!(ie=(H=J.halfedges).length))for(var I=J.site,H,te=-1,ie,he,De=D[H[ie-1]],$e=De.left===I?De.right:De.left;++te<ie;)he=$e,De=D[H[te]],$e=De.left===I?De.right:De.left,he&&$e&&q<he.index&&q<$e.index&&ve(I,he,$e)<0&&Y.push([I.data,he.data,$e.data])}),Y},links:function(){return this.edges.filter(function(Y){return Y.right}).map(function(Y){return{source:Y.left.data,target:Y.right.data}})},find:function(Y,D,J){for(var q=this,I,H=q._found||0,te=q.cells.length,ie;!(ie=q.cells[H]);)if(++H>=te)return null;var he=Y-ie.site[0],De=D-ie.site[1],$e=he*he+De*De;do ie=q.cells[I=H],H=null,ie.halfedges.forEach(function(ze){var Qe=q.edges[ze],je=Qe.left;if(!((je===ie.site||!je)&&!(je=Qe.right))){var We=Y-je[0],Ce=D-je[1],Te=We*We+Ce*Ce;Te<$e&&($e=Te,H=je.index)}});while(H!==null);return q._found=I,J==null||$e<=J*J?ie.site:null}};function be(){var Y=r,D=n,J=null;function q(I){return new se(I.map(function(H,te){var ie=[Math.round(Y(H,te,I)/K)*K,Math.round(D(H,te,I)/K)*K];return ie.index=te,ie.data=H,ie}),J)}return a(q,"voronoi"),q.polygons=function(I){return q(I).polygons()},q.links=function(I){return q(I).links()},q.triangles=function(I){return q(I).triangles()},q.x=function(I){return arguments.length?(Y=typeof I=="function"?I:t(+I),q):Y},q.y=function(I){return arguments.length?(D=typeof I=="function"?I:t(+I),q):D},q.extent=function(I){return arguments.length?(J=I==null?null:[[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]],q):J&&[[J[0][0],J[0][1]],[J[1][0],J[1][1]]]},q.size=function(I){return arguments.length?(J=I==null?null:[[0,0],[+I[0],+I[1]]],q):J&&[J[1][0]-J[0][0],J[1][1]-J[0][1]]},q}a(be,"voronoi"),e.voronoi=be,Object.defineProperty(e,"__esModule",{value:!0})})});var qMe=j((ZT,OMe)=>{d();(function(e,t){typeof ZT=="object"&&typeof OMe<"u"?t(ZT,ry(),wT(),ny(),hv(),TT()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(ZT,function(e,t,r,n,i,s){"use strict";function o(W){return function(){return W}}a(o,"constant");function u(W,F,B){this.target=W,this.type=F,this.transform=B}a(u,"ZoomEvent");function l(W,F,B){this.k=W,this.x=F,this.y=B}a(l,"Transform"),l.prototype={constructor:l,scale:function(W){return W===1?this:new l(this.k*W,this.x,this.y)},translate:function(W,F){return W===0&F===0?this:new l(this.k,this.x+this.k*W,this.y+this.k*F)},apply:function(W){return[W[0]*this.k+this.x,W[1]*this.k+this.y]},applyX:function(W){return W*this.k+this.x},applyY:function(W){return W*this.k+this.y},invert:function(W){return[(W[0]-this.x)/this.k,(W[1]-this.y)/this.k]},invertX:function(W){return(W-this.x)/this.k},invertY:function(W){return(W-this.y)/this.k},rescaleX:function(W){return W.copy().domain(W.range().map(this.invertX,this).map(W.invert,W))},rescaleY:function(W){return W.copy().domain(W.range().map(this.invertY,this).map(W.invert,W))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f=new l(1,0,0);h.prototype=l.prototype;function h(W){for(;!W.__zoom;)if(!(W=W.parentNode))return f;return W.__zoom}a(h,"transform");function p(){i.event.stopImmediatePropagation()}a(p,"nopropagation");function g(){i.event.preventDefault(),i.event.stopImmediatePropagation()}a(g,"noevent");function y(){return!i.event.ctrlKey&&!i.event.button}a(y,"defaultFilter");function E(){var W=this;return W instanceof SVGElement?(W=W.ownerSVGElement||W,W.hasAttribute("viewBox")?(W=W.viewBox.baseVal,[[W.x,W.y],[W.x+W.width,W.y+W.height]]):[[0,0],[W.width.baseVal.value,W.height.baseVal.value]]):[[0,0],[W.clientWidth,W.clientHeight]]}a(E,"defaultExtent");function M(){return this.__zoom||f}a(M,"defaultTransform");function z(){return-i.event.deltaY*(i.event.deltaMode===1?.05:i.event.deltaMode?1:.002)}a(z,"defaultWheelDelta");function P(){return navigator.maxTouchPoints||"ontouchstart"in this}a(P,"defaultTouchable");function Q(W,F,B){var S=W.invertX(F[0][0])-B[0][0],T=W.invertX(F[1][0])-B[1][0],k=W.invertY(F[0][1])-B[0][1],R=W.invertY(F[1][1])-B[1][1];return W.translate(T>S?(S+T)/2:Math.min(0,S)||Math.max(0,T),R>k?(k+R)/2:Math.min(0,k)||Math.max(0,R))}a(Q,"defaultConstrain");function V(){var W=y,F=E,B=Q,S=z,T=P,k=[0,1/0],R=[[-1/0,-1/0],[1/0,1/0]],x=250,N=n.interpolateZoom,m=t.dispatch("start","zoom","end"),v,A,U=500,G=150,K=0;function Z(I){I.property("__zoom",M).on("wheel.zoom",se).on("mousedown.zoom",be).on("dblclick.zoom",Y).filter(T).on("touchstart.zoom",D).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(Z,"zoom"),Z.transform=function(I,H,te){var ie=I.selection?I.selection():I;ie.property("__zoom",M),I!==ie?ee(I,H,te):ie.interrupt().each(function(){ve(this,arguments).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},Z.scaleBy=function(I,H,te){Z.scaleTo(I,function(){var ie=this.__zoom.k,he=typeof H=="function"?H.apply(this,arguments):H;return ie*he},te)},Z.scaleTo=function(I,H,te){Z.transform(I,function(){var ie=F.apply(this,arguments),he=this.__zoom,De=te==null?L(ie):typeof te=="function"?te.apply(this,arguments):te,$e=he.invert(De),ze=typeof H=="function"?H.apply(this,arguments):H;return B($(O(he,ze),De,$e),ie,R)},te)},Z.translateBy=function(I,H,te){Z.transform(I,function(){return B(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof te=="function"?te.apply(this,arguments):te),F.apply(this,arguments),R)})},Z.translateTo=function(I,H,te,ie){Z.transform(I,function(){var he=F.apply(this,arguments),De=this.__zoom,$e=ie==null?L(he):typeof ie=="function"?ie.apply(this,arguments):ie;return B(f.translate($e[0],$e[1]).scale(De.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof te=="function"?-te.apply(this,arguments):-te),he,R)},ie)};function O(I,H){return H=Math.max(k[0],Math.min(k[1],H)),H===I.k?I:new l(H,I.x,I.y)}a(O,"scale");function $(I,H,te){var ie=H[0]-te[0]*I.k,he=H[1]-te[1]*I.k;return ie===I.x&&he===I.y?I:new l(I.k,ie,he)}a($,"translate");function L(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}a(L,"centroid");function ee(I,H,te){I.on("start.zoom",function(){ve(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){ve(this,arguments).end()}).tween("zoom",function(){var ie=this,he=arguments,De=ve(ie,he),$e=F.apply(ie,he),ze=te==null?L($e):typeof te=="function"?te.apply(ie,he):te,Qe=Math.max($e[1][0]-$e[0][0],$e[1][1]-$e[0][1]),je=ie.__zoom,We=typeof H=="function"?H.apply(ie,he):H,Ce=N(je.invert(ze).concat(Qe/je.k),We.invert(ze).concat(Qe/We.k));return function(Te){if(Te===1)Te=We;else{var Je=Ce(Te),rt=Qe/Je[2];Te=new l(rt,ze[0]-Je[0]*rt,ze[1]-Je[1]*rt)}De.zoom(null,Te)}})}a(ee,"schedule");function ve(I,H,te){return!te&&I.__zooming||new ye(I,H)}a(ve,"gesture");function ye(I,H){this.that=I,this.args=H,this.active=0,this.extent=F.apply(I,H),this.taps=0}a(ye,"Gesture"),ye.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,H){return this.mouse&&I!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){i.customEvent(new u(Z,I,this.that.__zoom),m.apply,m,[I,this.that,this.args])}};function se(){if(!W.apply(this,arguments))return;var I=ve(this,arguments),H=this.__zoom,te=Math.max(k[0],Math.min(k[1],H.k*Math.pow(2,S.apply(this,arguments)))),ie=i.mouse(this);if(I.wheel)(I.mouse[0][0]!==ie[0]||I.mouse[0][1]!==ie[1])&&(I.mouse[1]=H.invert(I.mouse[0]=ie)),clearTimeout(I.wheel);else{if(H.k===te)return;I.mouse=[ie,H.invert(ie)],s.interrupt(this),I.start()}g(),I.wheel=setTimeout(he,G),I.zoom("mouse",B($(O(H,te),I.mouse[0],I.mouse[1]),I.extent,R));function he(){I.wheel=null,I.end()}a(he,"wheelidled")}a(se,"wheeled");function be(){if(A||!W.apply(this,arguments))return;var I=ve(this,arguments,!0),H=i.select(i.event.view).on("mousemove.zoom",De,!0).on("mouseup.zoom",$e,!0),te=i.mouse(this),ie=i.event.clientX,he=i.event.clientY;r.dragDisable(i.event.view),p(),I.mouse=[te,this.__zoom.invert(te)],s.interrupt(this),I.start();function De(){if(g(),!I.moved){var ze=i.event.clientX-ie,Qe=i.event.clientY-he;I.moved=ze*ze+Qe*Qe>K}I.zoom("mouse",B($(I.that.__zoom,I.mouse[0]=i.mouse(I.that),I.mouse[1]),I.extent,R))}a(De,"mousemoved");function $e(){H.on("mousemove.zoom mouseup.zoom",null),r.dragEnable(i.event.view,I.moved),g(),I.end()}a($e,"mouseupped")}a(be,"mousedowned");function Y(){if(!!W.apply(this,arguments)){var I=this.__zoom,H=i.mouse(this),te=I.invert(H),ie=I.k*(i.event.shiftKey?.5:2),he=B($(O(I,ie),H,te),F.apply(this,arguments),R);g(),x>0?i.select(this).transition().duration(x).call(ee,he,H):i.select(this).call(Z.transform,he)}}a(Y,"dblclicked");function D(){if(!!W.apply(this,arguments)){var I=i.event.touches,H=I.length,te=ve(this,arguments,i.event.changedTouches.length===H),ie,he,De,$e;for(p(),he=0;he<H;++he)De=I[he],$e=i.touch(this,I,De.identifier),$e=[$e,this.__zoom.invert($e),De.identifier],te.touch0?!te.touch1&&te.touch0[2]!==$e[2]&&(te.touch1=$e,te.taps=0):(te.touch0=$e,ie=!0,te.taps=1+!!v);v&&(v=clearTimeout(v)),ie&&(te.taps<2&&(v=setTimeout(function(){v=null},U)),s.interrupt(this),te.start())}}a(D,"touchstarted");function J(){if(!!this.__zooming){var I=ve(this,arguments),H=i.event.changedTouches,te=H.length,ie,he,De,$e;for(g(),v&&(v=clearTimeout(v)),I.taps=0,ie=0;ie<te;++ie)he=H[ie],De=i.touch(this,H,he.identifier),I.touch0&&I.touch0[2]===he.identifier?I.touch0[0]=De:I.touch1&&I.touch1[2]===he.identifier&&(I.touch1[0]=De);if(he=I.that.__zoom,I.touch1){var ze=I.touch0[0],Qe=I.touch0[1],je=I.touch1[0],We=I.touch1[1],Ce=(Ce=je[0]-ze[0])*Ce+(Ce=je[1]-ze[1])*Ce,Te=(Te=We[0]-Qe[0])*Te+(Te=We[1]-Qe[1])*Te;he=O(he,Math.sqrt(Ce/Te)),De=[(ze[0]+je[0])/2,(ze[1]+je[1])/2],$e=[(Qe[0]+We[0])/2,(Qe[1]+We[1])/2]}else if(I.touch0)De=I.touch0[0],$e=I.touch0[1];else return;I.zoom("touch",B($(he,De,$e),I.extent,R))}}a(J,"touchmoved");function q(){if(!!this.__zooming){var I=ve(this,arguments),H=i.event.changedTouches,te=H.length,ie,he;for(p(),A&&clearTimeout(A),A=setTimeout(function(){A=null},U),ie=0;ie<te;++ie)he=H[ie],I.touch0&&I.touch0[2]===he.identifier?delete I.touch0:I.touch1&&I.touch1[2]===he.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2){var De=i.select(this).on("dblclick.zoom");De&&De.apply(this,arguments)}}}return a(q,"touchended"),Z.wheelDelta=function(I){return arguments.length?(S=typeof I=="function"?I:o(+I),Z):S},Z.filter=function(I){return arguments.length?(W=typeof I=="function"?I:o(!!I),Z):W},Z.touchable=function(I){return arguments.length?(T=typeof I=="function"?I:o(!!I),Z):T},Z.extent=function(I){return arguments.length?(F=typeof I=="function"?I:o([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),Z):F},Z.scaleExtent=function(I){return arguments.length?(k[0]=+I[0],k[1]=+I[1],Z):[k[0],k[1]]},Z.translateExtent=function(I){return arguments.length?(R[0][0]=+I[0][0],R[1][0]=+I[1][0],R[0][1]=+I[0][1],R[1][1]=+I[1][1],Z):[[R[0][0],R[0][1]],[R[1][0],R[1][1]]]},Z.constrain=function(I){return arguments.length?(B=I,Z):B},Z.duration=function(I){return arguments.length?(x=+I,Z):x},Z.interpolate=function(I){return arguments.length?(N=I,Z):N},Z.on=function(){var I=m.on.apply(m,arguments);return I===m?Z:I},Z.clickDistance=function(I){return arguments.length?(K=(I=+I)*I,Z):Math.sqrt(K)},Z}a(V,"zoom"),e.zoom=V,e.zoomIdentity=f,e.zoomTransform=h,Object.defineProperty(e,"__esModule",{value:!0})})});var gBe=j(Dn=>{"use strict";d();Object.defineProperty(Dn,"__esModule",{value:!0});var PMe=fv(),FMe=GTe(),UMe=iMe(),YMe=oMe(),HMe=NT(),zMe=T5(),QMe=lMe(),WMe=ry(),VMe=wT(),jMe=MG(),GMe=TG(),KMe=dMe(),$Me=yMe(),XMe=RG(),JMe=vMe(),ZMe=xMe(),eBe=ny(),tBe=RT(),rBe=AMe(),nBe=BG(),iBe=SMe(),aBe=TMe(),sBe=BMe(),oBe=hv(),cBe=LMe(),uBe=jT(),lBe=LG(),fBe=kT(),hBe=TT(),dBe=NMe(),pBe=qMe(),INt="5.16.0";Object.keys(PMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return PMe[e]}})});Object.keys(FMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return FMe[e]}})});Object.keys(UMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return UMe[e]}})});Object.keys(YMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return YMe[e]}})});Object.keys(HMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return HMe[e]}})});Object.keys(zMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return zMe[e]}})});Object.keys(QMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return QMe[e]}})});Object.keys(WMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return WMe[e]}})});Object.keys(VMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return VMe[e]}})});Object.keys(jMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return jMe[e]}})});Object.keys(GMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return GMe[e]}})});Object.keys(KMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return KMe[e]}})});Object.keys($Me).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return $Me[e]}})});Object.keys(XMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return XMe[e]}})});Object.keys(JMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return JMe[e]}})});Object.keys(ZMe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return ZMe[e]}})});Object.keys(eBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return eBe[e]}})});Object.keys(tBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return tBe[e]}})});Object.keys(rBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return rBe[e]}})});Object.keys(nBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return nBe[e]}})});Object.keys(iBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return iBe[e]}})});Object.keys(aBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return aBe[e]}})});Object.keys(sBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return sBe[e]}})});Object.keys(oBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return oBe[e]}})});Object.keys(cBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return cBe[e]}})});Object.keys(uBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return uBe[e]}})});Object.keys(lBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return lBe[e]}})});Object.keys(fBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return fBe[e]}})});Object.keys(hBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return hBe[e]}})});Object.keys(dBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return dBe[e]}})});Object.keys(pBe).forEach(function(e){e!=="default"&&Object.defineProperty(Dn,e,{enumerable:!0,get:function(){return pBe[e]}})});Dn.version=INt});var sd=j((Phn,yBe)=>{d();var M5;if(!M5&&typeof Hi=="function")try{M5=gBe()}catch{}M5||(M5=window.d3);yBe.exports=M5});var pc=j((Yhn,bBe)=>{d();var mBe=ty();bBe.exports={isSubgraph:TNt,edgeToId:MNt,applyStyle:RNt,applyClass:LNt,applyTransition:DNt};function TNt(e,t){return!!e.children(t).length}a(TNt,"isSubgraph");function MNt(e){return DG(e.v)+":"+DG(e.w)+":"+DG(e.name)}a(MNt,"edgeToId");var BNt=/:/g;function DG(e){return e?String(e).replace(BNt,"\\:"):""}a(DG,"escapeId");function RNt(e,t){t&&e.attr("style",t)}a(RNt,"applyStyle");function LNt(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}a(LNt,"applyClass");function DNt(e,t){var r=t.graph();if(mBe.isPlainObject(r)){var n=r.transition;if(mBe.isFunction(n))return n(e)}return e}a(DNt,"applyTransition")});var _Be=j((Qhn,vBe)=>{d();var NNt=pc();vBe.exports=ONt;function ONt(e,t){for(var r=e.append("text"),n=qNt(t.label).split(`
`),i=0;i<n.length;i++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[i]);return NNt.applyStyle(r,t.labelStyle),r}a(ONt,"addTextLabel");function qNt(e){for(var t="",r=!1,n,i=0;i<e.length;++i)if(n=e[i],r){switch(n){case"n":t+=`
`;break;default:t+=n}r=!1}else n==="\\"?r=!0:t+=n;return t}a(qNt,"processEscapeSequences")});var wBe=j((jhn,xBe)=>{d();var PNt=pc();xBe.exports=FNt;function FNt(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}PNt.applyStyle(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n.node().getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}a(FNt,"addHtmlLabel")});var EBe=j(($hn,ABe)=>{d();var UNt=pc();ABe.exports=YNt;function YNt(e,t){var r=e;return r.node().appendChild(t.label),UNt.applyStyle(r,t.labelStyle),r}a(YNt,"addSVGLabel")});var eM=j((Zhn,SBe)=>{d();var HNt=_Be(),zNt=wBe(),QNt=EBe();SBe.exports=WNt;function WNt(e,t,r){var n=t.label,i=e.append("g");t.labelType==="svg"?QNt(i,t):typeof n!="string"||t.labelType==="html"?zNt(i,t):HNt(i,t);var s=i.node().getBBox(),o;switch(r){case"top":o=-t.height/2;break;case"bottom":o=t.height/2-s.height;break;default:o=-s.height/2}return i.attr("transform","translate("+-s.width/2+","+o+")"),i}a(WNt,"addLabel")});var IBe=j((rdn,CBe)=>{"use strict";d();var NG=ty(),VNt=eM(),tM=pc(),kBe=sd();CBe.exports=jNt;function jNt(e,t,r){var n=t.nodes().filter(function(o){return!tM.isSubgraph(t,o)}),i=e.selectAll("g.node").data(n,function(o){return o}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=e.selectAll("g.node"),i.each(function(o){var u=t.node(o),l=kBe.select(this);tM.applyClass(l,u.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var f=l.append("g").attr("class","label"),h=VNt(f,u),p=r[u.shape],g=NG.pick(h.node().getBBox(),"width","height");u.elem=this,u.id&&l.attr("id",u.id),u.labelId&&f.attr("id",u.labelId),NG.has(u,"width")&&(g.width=u.width),NG.has(u,"height")&&(g.height=u.height),g.width+=u.paddingLeft+u.paddingRight,g.height+=u.paddingTop+u.paddingBottom,f.attr("transform","translate("+(u.paddingLeft-u.paddingRight)/2+","+(u.paddingTop-u.paddingBottom)/2+")");var y=kBe.select(this);y.select(".label-container").remove();var E=p(y,g,u).classed("label-container",!0);tM.applyStyle(E,u.style);var M=E.node().getBBox();u.width=M.width,u.height=M.height});var s;return i.exit?s=i.exit():s=i.selectAll(null),tM.applyTransition(s,t).style("opacity",0).remove(),i}a(jNt,"createNodes")});var MBe=j((adn,TBe)=>{d();var rM=pc(),OG=sd(),GNt=eM();TBe.exports=KNt;function KNt(e,t){var r=t.nodes().filter(function(s){return rM.isSubgraph(t,s)}),n=e.selectAll("g.cluster").data(r,function(s){return s});n.selectAll("*").remove(),n.enter().append("g").attr("class","cluster").attr("id",function(s){var o=t.node(s);return o.id}).style("opacity",0),n=e.selectAll("g.cluster"),rM.applyTransition(n,t).style("opacity",1),n.each(function(s){var o=t.node(s),u=OG.select(this);OG.select(this).append("rect");var l=u.append("g").attr("class","label");GNt(l,o,o.clusterLabelPos)}),n.selectAll("rect").each(function(s){var o=t.node(s),u=OG.select(this);rM.applyStyle(u,o.style)});var i;return n.exit?i=n.exit():i=n.selectAll(null),rM.applyTransition(i,t).style("opacity",0).remove(),n}a(KNt,"createClusters")});var DBe=j((cdn,LBe)=>{"use strict";d();var BBe=ty(),$Nt=eM(),RBe=pc(),XNt=sd();LBe.exports=JNt;function JNt(e,t){var r=e.selectAll("g.edgeLabel").data(t.edges(),function(i){return RBe.edgeToId(i)}).classed("update",!0);r.exit().remove(),r.enter().append("g").classed("edgeLabel",!0).style("opacity",0),r=e.selectAll("g.edgeLabel"),r.each(function(i){var s=XNt.select(this);s.select(".label").remove();var o=t.edge(i),u=$Nt(s,t.edge(i),0,0).classed("label",!0),l=u.node().getBBox();o.labelId&&u.attr("id",o.labelId),BBe.has(o,"width")||(o.width=l.width),BBe.has(o,"height")||(o.height=l.height)});var n;return r.exit?n=r.exit():n=r.selectAll(null),RBe.applyTransition(n,t).style("opacity",0).remove(),r}a(JNt,"createEdgeLabels")});var FBe=j((fdn,PBe)=>{"use strict";d();var OBe=ty(),NBe=SG(),dv=pc(),B5=sd();PBe.exports=ZNt;function ZNt(e,t,r){var n=e.selectAll("g.edgePath").data(t.edges(),function(o){return dv.edgeToId(o)}).classed("update",!0),i=nOt(n,t);iOt(n,t);var s=n.merge!==void 0?n.merge(i):n;return dv.applyTransition(s,t).style("opacity",1),s.each(function(o){var u=B5.select(this),l=t.edge(o);l.elem=this,l.id&&u.attr("id",l.id),dv.applyClass(u,l.class,(u.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(o){var u=t.edge(o);u.arrowheadId=OBe.uniqueId("arrowhead");var l=B5.select(this).attr("marker-end",function(){return"url("+eOt(location.href,u.arrowheadId)+")"}).style("fill","none");dv.applyTransition(l,t).attr("d",function(f){return tOt(t,f)}),dv.applyStyle(l,u.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(o){var u=t.edge(o),l=r[u.arrowhead];l(B5.select(this),u.arrowheadId,u,"arrowhead")}),s}a(ZNt,"createEdgePaths");function eOt(e,t){var r=e.split("#")[0];return r+"#"+t}a(eOt,"makeFragmentRef");function tOt(e,t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s=r.points.slice(1,r.points.length-1);return s.unshift(NBe(n,s[0])),s.push(NBe(i,s[s.length-1])),qBe(r,s)}a(tOt,"calcPoints");function qBe(e,t){var r=(B5.line||B5.svg.line)().x(function(n){return n.x}).y(function(n){return n.y});return(r.curve||r.interpolate)(e.curve),r(t)}a(qBe,"createLine");function rOt(e){var t=e.getBBox(),r=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:r.e,y:r.f}}a(rOt,"getCoords");function nOt(e,t){var r=e.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",function(n){var i=t.edge(n),s=t.node(n.v).elem,o=OBe.range(i.points.length).map(function(){return rOt(s)});return qBe(i,o)}),r.append("defs"),r}a(nOt,"enter");function iOt(e,t){var r=e.exit();dv.applyTransition(r,t).style("opacity",0).remove()}a(iOt,"exit")});var YBe=j((pdn,UBe)=>{"use strict";d();var aOt=pc(),sOt=sd();UBe.exports=oOt;function oOt(e,t){var r=e.filter(function(){return!sOt.select(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),aOt.applyTransition(e,t).style("opacity",1).attr("transform",n)}a(oOt,"positionNodes")});var zBe=j((mdn,HBe)=>{"use strict";d();var cOt=pc(),uOt=sd(),lOt=ty();HBe.exports=fOt;function fOt(e,t){var r=e.filter(function(){return!uOt.select(this).classed("update")});function n(i){var s=t.edge(i);return lOt.has(s,"x")?"translate("+s.x+","+s.y+")":""}a(n,"translate"),r.attr("transform",n),cOt.applyTransition(e,t).style("opacity",1).attr("transform",n)}a(fOt,"positionEdgeLabels")});var VBe=j((_dn,WBe)=>{"use strict";d();var QBe=pc(),hOt=sd();WBe.exports=dOt;function dOt(e,t){var r=e.filter(function(){return!hOt.select(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),QBe.applyTransition(e,t).style("opacity",1).attr("transform",n),QBe.applyTransition(r.selectAll("rect"),t).attr("width",function(i){return t.node(i).width}).attr("height",function(i){return t.node(i).height}).attr("x",function(i){var s=t.node(i);return-s.width/2}).attr("y",function(i){var s=t.node(i);return-s.height/2})}a(dOt,"positionClusters")});var GBe=j((Adn,jBe)=>{"use strict";d();var pOt=IG(),gOt=gT(),yOt=kG(),mOt=CG();jBe.exports={rect:bOt,ellipse:vOt,circle:_Ot,diamond:xOt};function bOt(e,t,r){var n=e.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return r.intersect=function(i){return pOt(r,i)},n}a(bOt,"rect");function vOt(e,t,r){var n=t.width/2,i=t.height/2,s=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",n).attr("ry",i);return r.intersect=function(o){return gOt(r,n,i,o)},s}a(vOt,"ellipse");function _Ot(e,t,r){var n=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",n);return r.intersect=function(s){return yOt(r,n,s)},i}a(_Ot,"circle");function xOt(e,t,r){var n=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,s=[{x:0,y:-i},{x:-n,y:0},{x:0,y:i},{x:n,y:0}],o=e.insert("polygon",":first-child").attr("points",s.map(function(u){return u.x+","+u.y}).join(" "));return r.intersect=function(u){return mOt(r,s,u)},o}a(xOt,"diamond")});var XBe=j((kdn,$Be)=>{d();var qG=pc();$Be.exports={default:KBe,normal:KBe,vee:wOt,undirected:AOt};function KBe(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");qG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(KBe,"normal");function wOt(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");qG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(wOt,"vee");function AOt(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");qG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(AOt,"undirected")});var ZBe=j((Tdn,JBe)=>{d();var Os=ty(),EOt=sd(),SOt=EG().layout;JBe.exports=kOt;function kOt(){var e=IBe(),t=MBe(),r=DBe(),n=FBe(),i=YBe(),s=zBe(),o=VBe(),u=GBe(),l=XBe(),f=a(function(h,p){TOt(p);var g=R5(h,"output"),y=R5(g,"clusters"),E=R5(g,"edgePaths"),M=r(R5(g,"edgeLabels"),p),z=e(R5(g,"nodes"),p,u);SOt(p),i(z,p),s(M,p),n(E,p,l);var P=t(y,p);o(P,p),MOt(p)},"fn");return f.createNodes=function(h){return arguments.length?(e=h,f):e},f.createClusters=function(h){return arguments.length?(t=h,f):t},f.createEdgeLabels=function(h){return arguments.length?(r=h,f):r},f.createEdgePaths=function(h){return arguments.length?(n=h,f):n},f.shapes=function(h){return arguments.length?(u=h,f):u},f.arrows=function(h){return arguments.length?(l=h,f):l},f}a(kOt,"render");var COt={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},IOt={arrowhead:"normal",curve:EOt.curveLinear};function TOt(e){e.nodes().forEach(function(t){var r=e.node(t);!Os.has(r,"label")&&!e.children(t).length&&(r.label=t),Os.has(r,"paddingX")&&Os.defaults(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),Os.has(r,"paddingY")&&Os.defaults(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),Os.has(r,"padding")&&Os.defaults(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),Os.defaults(r,COt),Os.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(n){r[n]=Number(r[n])}),Os.has(r,"width")&&(r._prevWidth=r.width),Os.has(r,"height")&&(r._prevHeight=r.height)}),e.edges().forEach(function(t){var r=e.edge(t);Os.has(r,"label")||(r.label=""),Os.defaults(r,IOt)})}a(TOt,"preProcessGraph");function MOt(e){Os.each(e.nodes(),function(t){var r=e.node(t);Os.has(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,Os.has(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}a(MOt,"postProcessGraph");function R5(e,t){var r=e.select("g."+t);return r.empty()&&(r=e.append("g").attr("class",t)),r}a(R5,"createOrSelectGroup")});var tRe=j((Rdn,eRe)=>{d();eRe.exports="0.6.4"});var nRe=j((Ddn,rRe)=>{d();rRe.exports={graphlib:LTe(),dagre:EG(),intersect:QTe(),render:ZBe(),util:pc(),version:tRe()}});d();var an=wn(yo(),1);d();var Ude=wn(Dm(),1);d();d();var zle=wn(eh(),1);var Ll=0,Ix=1;function Si(e,t=-1){return b.Buffer.isBuffer(e)&&t>0&&(e=e.slice(0,Math.min(t,e.length))),e.toString("hex")}a(Si,"btok");function Xs(e){return typeof e=="string"&&e.startsWith("draft:")}a(Xs,"isDraftID");function $o(e){return b.Buffer.isBuffer(e)&&e.length===zle.default.SIGNATURE_SIZE}a($o,"isRantID");function Tx(e,t){return Xs(e)&&e===t||$o(e)&&$o(t)&&e.equals(t)}a(Tx,"isEqualID");d();d();function $le(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}a($le,"getDefaults");var qm=$le();function eet(e){qm=e}a(eet,"changeDefaults");var tet=/[&<>"']/,ret=/[&<>"']/g,net=/[<>"']|&(?!#?\w+;)/,iet=/[<>"']|&(?!#?\w+;)/g,aet={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qle=a(e=>aet[e],"getEscapeReplacement");function Xa(e,t){if(t){if(tet.test(e))return e.replace(ret,Qle)}else if(net.test(e))return e.replace(iet,Qle);return e}a(Xa,"escape");var set=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Xle(e){return e.replace(set,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}a(Xle,"unescape");var oet=/(^|[^\[])\^/g;function pi(e,t){e=typeof e=="string"?e:e.source,t=t||"";let r={replace:(n,i)=>(i=i.source||i,i=i.replace(oet,"$1"),e=e.replace(n,i),r),getRegex:()=>new RegExp(e,t)};return r}a(pi,"edit");var cet=/[^\w:]/g,uet=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Wle(e,t,r){if(e){let n;try{n=decodeURIComponent(Xle(r)).replace(cet,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}t&&!uet.test(r)&&(r=pet(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}a(Wle,"cleanUrl");var XE={},fet=/^[^:]+:\/*[^/]*$/,het=/^([^:]+:)[\s\S]*$/,det=/^([^:]+:\/*[^/]*)[\s\S]*$/;function pet(e,t){XE[" "+e]||(fet.test(e)?XE[" "+e]=e+"/":XE[" "+e]=JE(e,"/",!0)),e=XE[" "+e];let r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(het,"$1")+t:t.charAt(0)==="/"?r?t:e.replace(det,"$1")+t:e+t}a(pet,"resolveUrl");var ZE={exec:a(function(){},"noopTest")};function Su(e){let t=1,r,n;for(;t<arguments.length;t++){r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}a(Su,"merge");function Vle(e,t){let r=e.replace(/\|/g,(s,o,u)=>{let l=!1,f=o;for(;--f>=0&&u[f]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}a(Vle,"splitCells");function JE(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n;){let s=e.charAt(n-i-1);if(s===t&&!r)i++;else if(s!==t&&r)i++;else break}return e.slice(0,n-i)}a(JE,"rtrim");function yet(e,t){if(e.indexOf(t[1])===-1)return-1;let r=e.length,n=0,i=0;for(;i<r;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}a(yet,"findClosingBracket");function Jle(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}a(Jle,"checkSanitizeDeprecation");function jle(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}a(jle,"repeatString");function Gle(e,t,r,n){let i=t.href,s=t.title?Xa(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;let u={type:"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,u}return{type:"image",raw:r,href:i,title:s,text:Xa(o)}}a(Gle,"outputLink");function met(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let n=r[1];return t.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}a(met,"indentCodeCompensation");var Nm=class{constructor(t){this.options=t||qm}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:JE(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=met(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim():r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){let i=JE(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=r[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n,i,s,o,u,l,f,h,p,g,y,E,M=r[1].trim(),z=M.length>1,P={type:"list",raw:"",ordered:z,start:z?+M.slice(0,-1):"",loose:!1,items:[]};M=z?`\\d{1,9}\\${M.slice(-1)}`:`\\${M}`,this.options.pedantic&&(M=z?M:"[*+-]");let Q=new RegExp(`^( {0,3}${M})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(E=!1,!(!(r=Q.exec(t))||this.rules.block.hr.test(t)));){if(n=r[0],t=t.substring(n.length),h=r[2].split(`
`,1)[0],p=t.split(`
`,1)[0],this.options.pedantic?(o=2,y=h.trimLeft()):(o=r[2].search(/[^ ]/),o=o>4?1:o,y=h.slice(o),o+=r[1].length),l=!1,!h&&/^ *$/.test(p)&&(n+=p+`
`,t=t.substring(p.length+1),E=!0),!E){let W=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),F=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),B=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(g=t.split(`
`,1)[0],h=g,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(B.test(h)||S.test(h)||W.test(h)||F.test(t)));){if(h.search(/[^ ]/)>=o||!h.trim())y+=`
`+h.slice(o);else if(!l)y+=`
`+h;else break;!l&&!h.trim()&&(l=!0),n+=g+`
`,t=t.substring(g.length+1)}}P.loose||(f?P.loose=!0:/\n *\n *$/.test(n)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(y),i&&(s=i[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),P.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:y}),P.raw+=n}P.items[P.items.length-1].raw=n.trimRight(),P.items[P.items.length-1].text=y.trimRight(),P.raw=P.raw.trimRight();let V=P.items.length;for(u=0;u<V;u++){this.lexer.state.top=!1,P.items[u].tokens=this.lexer.blockTokens(P.items[u].text,[]);let W=P.items[u].tokens.filter(B=>B.type==="space"),F=W.every(B=>{let S=B.raw.split(""),T=0;for(let k of S)if(k===`
`&&(T+=1),T>1)return!0;return!1});!P.loose&&W.length&&F&&(P.loose=!0,P.items[u].loose=!0)}return P}}html(t){let r=this.rules.block.html.exec(t);if(r){let n={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){let i=this.options.sanitizer?this.options.sanitizer(r[0]):Xa(r[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(t){let r=this.rules.block.def.exec(t);if(r)return r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),{type:"def",tag:r[1].toLowerCase().replace(/\s+/g," "),raw:r[0],href:r[2],title:r[3]}}table(t){let r=this.rules.block.table.exec(t);if(r){let n={type:"table",header:Vle(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let i=n.align.length,s,o,u,l;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=Vle(n.rows[s],n.header.length).map(f=>({text:f}));for(i=n.header.length,o=0;o<i;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(i=n.rows.length,o=0;o<i;o++)for(l=n.rows[o],u=0;u<l.length;u++)l[u].tokens=this.lexer.inline(l[u].text);return n}}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Xa(r[1])}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Xa(r[0]):r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=JE(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=yet(r[2],"()");if(o>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Gle(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i||!i.href){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Gle(n,i,n[0],this.lexer)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrong.lDelim.exec(t);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){let o=i[0].length-1,u,l,f=o,h=0,p=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+o);(i=p.exec(r))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(l=u.length,i[3]||i[4]){f+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){h+=l;continue}if(f-=l,f>0)continue;l=Math.min(l,l+f+h);let g=t.slice(0,o+i.index+(i[0].length-u.length)+l);if(Math.min(o,l)%2){let E=g.slice(1,-1);return{type:"em",raw:g,text:E,tokens:this.lexer.inlineTokens(E)}}let y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," "),i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Xa(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t,r){let n=this.rules.inline.autolink.exec(t);if(n){let i,s;return n[2]==="@"?(i=Xa(this.options.mangle?r(n[1]):n[1]),s="mailto:"+i):(i=Xa(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t,r){let n;if(n=this.rules.inline.url.exec(t)){let i,s;if(n[2]==="@")i=Xa(this.options.mangle?r(n[0]):n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);i=Xa(n[0]),n[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t,r){let n=this.rules.inline.text.exec(t);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xa(n[0]):n[0]:i=Xa(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}};a(Nm,"Tokenizer");var Fr={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ZE,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Fr._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Fr._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Fr.def=pi(Fr.def).replace("label",Fr._label).replace("title",Fr._title).getRegex();Fr.bullet=/(?:[*+-]|\d{1,9}[.)])/;Fr.listItemStart=pi(/^( *)(bull) */).replace("bull",Fr.bullet).getRegex();Fr.list=pi(Fr.list).replace(/bull/g,Fr.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Fr.def.source+")").getRegex();Fr._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Fr._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Fr.html=pi(Fr.html,"i").replace("comment",Fr._comment).replace("tag",Fr._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Fr.paragraph=pi(Fr._paragraph).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.blockquote=pi(Fr.blockquote).replace("paragraph",Fr.paragraph).getRegex();Fr.normal=Su({},Fr);Fr.gfm=Su({},Fr.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Fr.gfm.table=pi(Fr.gfm.table).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.gfm.paragraph=pi(Fr._paragraph).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Fr.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.pedantic=Su({},Fr.normal,{html:pi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Fr._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ZE,paragraph:pi(Fr.normal._paragraph).replace("hr",Fr.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fr.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var _r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ZE,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ZE,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};_r._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";_r.punctuation=pi(_r.punctuation).replace(/punctuation/g,_r._punctuation).getRegex();_r.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;_r.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;_r._comment=pi(Fr._comment).replace("(?:-->|$)","-->").getRegex();_r.emStrong.lDelim=pi(_r.emStrong.lDelim).replace(/punct/g,_r._punctuation).getRegex();_r.emStrong.rDelimAst=pi(_r.emStrong.rDelimAst,"g").replace(/punct/g,_r._punctuation).getRegex();_r.emStrong.rDelimUnd=pi(_r.emStrong.rDelimUnd,"g").replace(/punct/g,_r._punctuation).getRegex();_r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;_r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;_r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;_r.autolink=pi(_r.autolink).replace("scheme",_r._scheme).replace("email",_r._email).getRegex();_r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;_r.tag=pi(_r.tag).replace("comment",_r._comment).replace("attribute",_r._attribute).getRegex();_r._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;_r._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;_r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;_r.link=pi(_r.link).replace("label",_r._label).replace("href",_r._href).replace("title",_r._title).getRegex();_r.reflink=pi(_r.reflink).replace("label",_r._label).replace("ref",Fr._label).getRegex();_r.nolink=pi(_r.nolink).replace("ref",Fr._label).getRegex();_r.reflinkSearch=pi(_r.reflinkSearch,"g").replace("reflink",_r.reflink).replace("nolink",_r.nolink).getRegex();_r.normal=Su({},_r);_r.pedantic=Su({},_r.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:pi(/^!?\[(label)\]\((.*?)\)/).replace("label",_r._label).getRegex(),reflink:pi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_r._label).getRegex()});_r.gfm=Su({},_r.normal,{escape:pi(_r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});_r.gfm.url=pi(_r.gfm.url,"i").replace("email",_r.gfm._extended_email).getRegex();_r.breaks=Su({},_r.gfm,{br:pi(_r.br).replace("{2,}","*").getRegex(),text:pi(_r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function bet(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}a(bet,"smartypants");function Kle(e){let t="",r,n,i=e.length;for(r=0;r<i;r++)n=e.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),t+="&#"+n+";";return t}a(Kle,"mangle");var Wc=class{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||qm,this.options.tokenizer=this.options.tokenizer||new Nm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:Fr.normal,inline:_r.normal};this.options.pedantic?(r.block=Fr.pedantic,r.inline=_r.pedantic):this.options.gfm&&(r.block=Fr.gfm,this.options.breaks?r.inline=_r.breaks:r.inline=_r.gfm),this.tokenizer.rules=r}static get rules(){return{block:Fr,inline:_r}}static lex(t,r){return new Wc(r).lex(t)}static lexInline(t,r){return new Wc(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,l,f)=>l+"    ".repeat(f.length));let n,i,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(n=u.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,l=t.slice(1),f;this.options.extensions.startBlock.forEach(function(h){f=h.call({lexer:this},l),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=t.substring(0,u+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=r[r.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),o=s.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,s,o=t,u,l,f;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,u.index)+"["+jle("a",u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,u.index)+"["+jle("a",u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,u.index+u[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(l||(f=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,o,f)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t,Kle)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t,Kle))){t=t.substring(n.raw.length),r.push(n);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0,p=t.slice(1),g;this.options.extensions.startInline.forEach(function(y){g=y.call({lexer:this},p),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(s=t.substring(0,h+1))}if(n=this.tokenizer.inlineText(s,bet)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(f=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}};a(Wc,"Lexer");var Om=class{constructor(t){this.options=t||qm}code(t,r,n){let i=(r||"").match(/\S*/)[0];if(this.options.highlight){let s=this.options.highlight(t,i);s!=null&&s!==t&&(n=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Xa(i,!0)+'">'+(n?t:Xa(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:Xa(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,r,n,i){if(this.options.headerIds){let s=this.options.headerPrefix+i.slug(n);return`<h${r} id="${s}">${t}</h${r}>
`}return`<h${r}>${t}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,r,n){let i=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+t+"</"+i+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){let n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){if(t=Wle(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let i='<a href="'+Xa(t)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){if(t=Wle(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let i=`<img src="${t}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=this.options.xhtml?"/>":">",i}text(t){return t}};a(Om,"Renderer");var Mx=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}};a(Mx,"TextRenderer");var Bx=class{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,r){let n=t,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[t];do i++,n=t+"-"+i;while(this.seen.hasOwnProperty(n))}return r||(this.seen[t]=i,this.seen[n]=0),n}slug(t,r={}){let n=this.serialize(t);return this.getNextSafeSlug(n,r.dryrun)}};a(Bx,"Slugger");var Xo=class{constructor(t){this.options=t||qm,this.options.renderer=this.options.renderer||new Om,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mx,this.slugger=new Bx}static parse(t,r){return new Xo(r).parse(t)}static parseInline(t,r){return new Xo(r).parseInline(t)}parse(t,r=!0){let n="",i,s,o,u,l,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S=t.length;for(i=0;i<S;i++){if(y=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(B=this.options.extensions.renderers[y.type].call({parser:this},y),B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type))){n+=B||"";continue}switch(y.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(y.tokens),y.depth,Xle(this.parseInline(y.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(y.text,y.lang,y.escaped);continue}case"table":{for(p="",h="",u=y.header.length,s=0;s<u;s++)h+=this.renderer.tablecell(this.parseInline(y.header[s].tokens),{header:!0,align:y.align[s]});for(p+=this.renderer.tablerow(h),g="",u=y.rows.length,s=0;s<u;s++){for(f=y.rows[s],h="",l=f.length,o=0;o<l;o++)h+=this.renderer.tablecell(this.parseInline(f[o].tokens),{header:!1,align:y.align[o]});g+=this.renderer.tablerow(h)}n+=this.renderer.table(p,g);continue}case"blockquote":{g=this.parse(y.tokens),n+=this.renderer.blockquote(g);continue}case"list":{for(E=y.ordered,M=y.start,z=y.loose,u=y.items.length,g="",s=0;s<u;s++)Q=y.items[s],V=Q.checked,W=Q.task,P="",Q.task&&(F=this.renderer.checkbox(V),z?Q.tokens.length>0&&Q.tokens[0].type==="paragraph"?(Q.tokens[0].text=F+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=F+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:F}):P+=F),P+=this.parse(Q.tokens,z),g+=this.renderer.listitem(P,W,V);n+=this.renderer.list(g,E,M);continue}case"html":{n+=this.renderer.html(y.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(y.tokens));continue}case"text":{for(g=y.tokens?this.parseInline(y.tokens):y.text;i+1<S&&t[i+1].type==="text";)y=t[++i],g+=`
`+(y.tokens?this.parseInline(y.tokens):y.text);n+=r?this.renderer.paragraph(g):g;continue}default:{let T='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(T);return}else throw new Error(T)}}}return n}parseInline(t,r){r=r||this.renderer;let n="",i,s,o,u=t.length;for(i=0;i<u;i++){if(s=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=o||"";continue}switch(s.type){case"escape":{n+=r.text(s.text);break}case"html":{n+=r.html(s.text);break}case"link":{n+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{n+=r.image(s.href,s.title,s.text);break}case"strong":{n+=r.strong(this.parseInline(s.tokens,r));break}case"em":{n+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{n+=r.codespan(s.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(s.tokens,r));break}case"text":{n+=r.text(s.text);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return n}};a(Xo,"Parser");function Hr(e,t,r){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=Su({},Hr.defaults,t||{}),Jle(t),r){let i=t.highlight,s;try{s=Wc.lex(e,t)}catch(l){return r(l)}let o=a(function(l){let f;if(!l)try{t.walkTokens&&Hr.walkTokens(s,t.walkTokens),f=Xo.parse(s,t)}catch(h){l=h}return t.highlight=i,l?r(l):r(null,f)},"done");if(!i||i.length<3||(delete t.highlight,!s.length))return o();let u=0;Hr.walkTokens(s,function(l){l.type==="code"&&(u++,setTimeout(()=>{i(l.text,l.lang,function(f,h){if(f)return o(f);h!=null&&h!==l.text&&(l.text=h,l.escaped=!0),u--,u===0&&o()})},0))}),u===0&&o();return}function n(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Xa(i.message+"",!0)+"</pre>";throw i}a(n,"onError");try{let i=Wc.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Hr.walkTokens(i,t.walkTokens)).then(()=>Xo.parse(i,t)).catch(n);Hr.walkTokens(i,t.walkTokens)}return Xo.parse(i,t)}catch(i){n(i)}}a(Hr,"marked");Hr.options=Hr.setOptions=function(e){return Su(Hr.defaults,e),eet(Hr.defaults),Hr};Hr.getDefaults=$le;Hr.defaults=qm;Hr.use=function(...e){let t=Su({},...e),r=Hr.defaults.extensions||{renderers:{},childTokens:{}},n;e.forEach(i=>{if(i.extensions&&(n=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let o=r.renderers?r.renderers[s.name]:null;o?r.renderers[s.name]=function(...u){let l=s.renderer.apply(this,u);return l===!1&&(l=o.apply(this,u)),l}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),i.renderer){let s=Hr.defaults.renderer||new Om;for(let o in i.renderer){let u=s[o];s[o]=(...l)=>{let f=i.renderer[o].apply(s,l);return f===!1&&(f=u.apply(s,l)),f}}t.renderer=s}if(i.tokenizer){let s=Hr.defaults.tokenizer||new Nm;for(let o in i.tokenizer){let u=s[o];s[o]=(...l)=>{let f=i.tokenizer[o].apply(s,l);return f===!1&&(f=u.apply(s,l)),f}}t.tokenizer=s}if(i.walkTokens){let s=Hr.defaults.walkTokens;t.walkTokens=function(o){let u=[];return u.push(i.walkTokens.call(this,o)),s&&(u=u.concat(s.call(this,o))),u}}n&&(t.extensions=r),Hr.setOptions(t)})};Hr.walkTokens=function(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(Hr,n)),n.type){case"table":{for(let i of n.header)r=r.concat(Hr.walkTokens(i.tokens,t));for(let i of n.rows)for(let s of i)r=r.concat(Hr.walkTokens(s.tokens,t));break}case"list":{r=r.concat(Hr.walkTokens(n.items,t));break}default:Hr.defaults.extensions&&Hr.defaults.extensions.childTokens&&Hr.defaults.extensions.childTokens[n.type]?Hr.defaults.extensions.childTokens[n.type].forEach(function(i){r=r.concat(Hr.walkTokens(n[i],t))}):n.tokens&&(r=r.concat(Hr.walkTokens(n.tokens,t)))}return r};Hr.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Su({},Hr.defaults,t||{}),Jle(t);try{let r=Wc.lexInline(e,t);return t.walkTokens&&Hr.walkTokens(r,t.walkTokens),Xo.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Xa(r.message+"",!0)+"</pre>";throw r}};Hr.Parser=Xo;Hr.parser=Xo.parse;Hr.Renderer=Om;Hr.TextRenderer=Mx;Hr.Lexer=Wc;Hr.lexer=Wc.lex;Hr.Tokenizer=Nm;Hr.Slugger=Bx;Hr.parse=Hr;var ncr=Hr.options,icr=Hr.setOptions,acr=Hr.use,scr=Hr.walkTokens,ocr=Hr.parseInline;var ccr=Xo.parse,ucr=Wc.lex;var hq=wn(vO(),1),Ide=wn(wde(),1),Tde=wn(Ede(),1);Sx();var Mde=wn(Dm(),1);d();var fq=wn(Ld(),1);function Sde(e,t){let r=t.repeat(32).substr(0,32),n=t.repeat(16).substr(0,16),i=fq.default.createCipheriv("aes-256-ctr",r,n),s=i.update(e,"utf8","hex");return s+=i.final("hex"),s}a(Sde,"encrypt");function kde(e,t){let r=t.repeat(32).substr(0,32),n=t.repeat(16).substr(0,16),i=fq.default.createDecipheriv("aes-256-ctr",r,n),s=i.update(e,"hex","utf8");return s+=i.final("utf8"),s.includes("\uFFFD")?(console.log("\uFFFD\uFFFDwe g\uFFFDt some wi\uFFFDrd chars man\uFFFD\uFFFD"),!1):s}a(kde,"decrypt");Hr.use({renderer:{code(e,t){return t!=="mermaid"?!1:`<mermaid-graph>${e}</mermaid-graph>`}}});var DS=["dark","light","decent","morpheus","ghostwriter"],{compress:Yit,decompress:Hit}=Ide.default,{compressToUint8Array:zit,decompressFromUint8Array:Qit}=Tde.default,LS=/!([FLDd~|/.-]{0,4})([^!\n .}]{1,8})!/;function dq(e,t){if(b.Buffer.isBuffer(e))throw new Error("Expected a card object");return UE(pq(e,t,!0))}a(dq,"encode");function Ux(e,t,r){if(!b.Buffer.isBuffer(e))throw new Error("Expected binary Buffer");let n=wx(e);return A1(n,t,r)}a(Ux,"decode");function pq(e,t,r){if(!e)throw new Error("Expeceted Props");let{date:n,page:i,theme:s,type:o,encryption:u}=e;if(typeof e.text!="string"||!e.text.length)throw new Error("Expected text");let l=e.text.replace(/\r/,""),f=null;if(!r&&u===1)try{l&&(l=Sde(l,t),f=!0)}catch(M){throw new Error(`something went wrong in the encrypt department 
`,M.message)}let h=[b.Buffer.from(l,"utf8"),Yit(b.Buffer.from(l,"utf8")),zit(l)],p=[...h].sort((M,z)=>M.length>z.length)[0],g=h.indexOf(p),y=b.Buffer.from(p);return{b:o||0,t:y,z:g,x:u||0,y:f||!1,l:s||0,d:n||Date.now(),s:i||0,p:!!e.public}}a(pq,"pack");function A1(e,t,r){let n=[s=>s.toString("utf8"),Hit,Qit],i;switch(e.x){case 0:i=e.t;break;case 1:i=e.t;break;default:throw console.info("unknown",e,e.x),new Error("UnknownEncryption")}return i=n[e.z](i),{type:e.b,text:i,date:e.d,compression:e.z,encryption:e.x,encrypted:e.y,theme:e.l,page:e.s,public:e.p}}a(A1,"unpack");function gq(e,t){let r=Mde.Feed.from(e),n=wx(r.first.body);return A1(n,t)}a(gq,"unpackFeed");function Yx(e){if(typeof e!="string"&&!e.length)return;let t="",r=e.match(/^\s*(.+)\s*\n==+/m);return r||(r=e.match(/^#+(.+)$/m)),r&&(t=r[1],this&&(this.rawOffset=r.index+r[0].length)),t.replace(new RegExp(LS,"g"),"").trim()}a(Yx,"extractTitle");function NS(e){if(typeof e!="string"&&!e.length)return;let t=e.match(LS);if(t)return t[2].trim()}a(NS,"extractIcon");function OS(e,t=40){if(typeof e!="string"&&!e.length)return;let r={};return Yx.bind(r)(e),e.substr(r.rawOffset+1,Math.min(e.length,t)).replace(/[\n#`*_[\]]/g,"").trim()}a(OS,"extractExcerpt");function qS(e,...t){e=[...e];for(let r=t.length;r>0;r--)e.splice(r,0,t.pop());return e.join("").split(`
`).map(r=>r.trim()).join(`
`).trim()}a(qS,"bq");function Cde(e,t){if(typeof e!="string")throw new Error(`Expected text to be a string, got: ${typeof e}`);let r={".":"","~":"wave","-":"dash","/":"sway","|":"bounce",L:"acid",F:"flicker",D:"dance",d:"dig"};return e=e.replace(new RegExp(LS,"g"),n=>{let i=n.match(LS),s=i[1],o=i[2];return`<bmoji class="${s.split("").map(l=>r[l]).join(" ")}">${o}</bmoji>`}),e=e.replace(/\B(#{1,6})= ([^\n]+)/g,'$1 <div class="text-center">$2</div>'),t&&(e=e.replace(/\{\{DATE\}\}/gi,new Date(t.date))),e}a(Cde,"runMacros");function PS(e){return e=hq.default.sanitize(e),e=Cde(e),e=hq.default.sanitize(Hr(e),{ADD_TAGS:["bmoji","mermaid-graph"]}),Cde(e)}a(PS,"processText");var Bde=wn(Dm(),1);var{decodeBlock:yq}=Bde.SimpleKernel;function mq(e="rants",t){let r=null,n=a(()=>{if(r)return r;if(typeof t=="function"){if(r=t(),!r)throw new Error("RacingCondition? falsy localKey");return r}else throw new Error("resolveLocalKey expected to be function")},"localKey");return{name:e,initialValue:{},filter({block:i,parentBlock:s}){let o=yq(i.body),{type:u}=o;switch(u){case Ll:if(i.body.length>1024)return"RantTooBig";break;case Ix:{if(!(i.key.equals(s.key)||n()?.equals(i.key)))return"NotYourRant";if(yq(s.body).type!==Ll)return"ExpectedParentToBeRant"}break;default:return"UnknownBlock"}return!1},reducer({state:i,block:s,parentBlock:o,CHAIN:u,mark:l}){let f=yq(s.body),{type:h}=f;if(h===Ix){i[Si(u)].entombed=!0;let g=s.key.equals(o.key)&&n()?.equals(s.key);return l(u,g?Date.now()+60*6e4:Date.now()),i}let p=A1(f,null,!0);return i[Si(u)]={...p,id:u,author:s.key,rev:s.sig,size:s.body.length,entombed:!1,encryption:p.encryption},{...i}},sweep({state:i,CHAIN:s,mark:o,drop:u}){if(!i[Si(s)].entombed)throw new Error("MentalError: BuriedAlive");return u(),delete i[Si(s)],i}}}a(mq,"Notebook");d();var Rde=wn(yo(),1);function bq(){let e={};return{config(t,r){if(typeof t!="string")throw new Error("Expected key to be string");if(!e[t]){let[n,i]=(0,Rde.write)(r),s=a(async o=>{i(o),await this.repo.writeReg(`cnf|${t}`,JSON.stringify(o))},"setter");this.repo.readReg(`cnf|${t}`).then(o=>{if(typeof o>"u"&&typeof r<"u")return i(r),s(r);i(JSON.parse(o))}),e[t]=[n,s]}return e[t]}}}a(bq,"ConfigModule");d();var FS=wn(eh(),1),qn=wn(yo(),1);function vq(e,t){e=e.sublevel("drafts",{keyEncoding:"utf8",valueEncoding:"buffer"});let[r,n]=(0,qn.write)(),[i,s]=(0,qn.write)(""),[o,u]=t("lastUsedTheme",0),[l,f]=(0,qn.write)(Date.now()),[h,p]=t("lastUsedEncryption",0),[g,y]=(0,qn.write)(),[E]=(0,qn.write)(!1),M=(0,qn.memo)((0,qn.combine)({id:r,text:i,theme:o,encryption:h,date:l,encrypted:E})),[z,P]=(0,qn.write)([]),Q=null;return{get $current(){return r},get $draft(){return M},get drafts(){return W},isEditing:F,$drafts(){return z},$rant(B){let S=(0,qn.combine)(r,M,T=>this.store.on("rants",T));return(0,qn.mute)(S,([T,k,R])=>Hx($o(T)?R[Si(T)]:k,T,B))},$rants(){let B=(0,qn.get)(r);return(0,qn.mute)(S=>this.store.on("rants",S),S=>Object.values(S).filter(T=>!T.entombed).map(T=>Hx(T,B)).sort((T,k)=>k.date-T.date))},async setText(B,S=!1){if(!F())throw new Error("EditMode not active");return s(B),this.saveDraft(S)},async setTheme(B){if(!F())throw new Error("EditMode not active");u(B),await this.saveDraft()},async setEncryption(B){if(!F())throw new Error("EditMode not active");p(B),await this.saveDraft()},async setSecret(B){y(B)},async commit(B=!1){if(!F())throw new Error("EditMode not active");let S=new FS.default,T=(0,qn.get)(r),k={...(0,qn.get)(M),public:B,date:Date.now(),page:await this._inc("page")},R=pq(k,(0,qn.get)(g),!1);await this.createBlock(S,Ll,R);let x=S.last.sig;return await this.checkout(x),await this.deleteRant(T),await W(),x},async pickle(B){if(!B&&F())throw new Error("Provide Id or set current to published rant");if(B||(B=(0,qn.get)(r)),!$o(B))throw new Error("InvalidRantId");let T=(0,qn.get)(m=>this.store.on("rants",m))[Si(B)];if(!T)throw new Error("RantNotFound");let k=await this.repo.readBlock(T?.rev)||await this.repo.readBlock(B),R=FS.default.from(k).pickle(),x=T.title;return x?`${encodeURIComponent(x.replace(/ +/g,"_"))}-${R}`:R},async saveDraft(B=!1){if(!F())throw new Error("EditMode not active");if(B)return this._saveLater();if(Q&&(clearTimeout(Q),Q=null),!(0,qn.get)(M).text?.length)return;f(Date.now());let S=(0,qn.get)(M),T=(0,qn.get)(g),k=dq(S,T);await e.put(S.id,k),await W()},_saveLater(){Q&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,this.saveDraft().then(()=>console.info("Draft Autosaved")).catch(S=>console.error("AutoSaveFailed:",S))},3e3)},async checkout(B,S=!1){if(!Xs(B)&&!$o(B)&&B!==null)throw new Error("Expected checkout(string|Buffer|null)");if(S&&!$o(B))throw new Error("ForkOnlyWorksOnRans");let T=(0,qn.get)(r);if(!S&&Tx(B,T))return[T,T];if(Xs(T)&&await this.saveDraft(),B===null)B="draft:"+await this._inc("draft"),V();else if(Xs(B)){let k=await e.get(B);if(!k)throw new Error("DraftNotFound");let R=(0,qn.get)(g);V(Ux(k,R))}else{let R=(0,qn.get)(x=>this.store.on("rants",x))[Si(B)];if(!R)throw new Error("UnknownRant");S&&(B="draft:"+await this._inc("draft"),V(R))}return n(B),[B,T]},async deleteRant(B){let S=(0,qn.get)(r);if(Tx(B,S)&&await this.checkout(null),Xs(B))await e.del(B),await this.drafts();else if($o(B)){let T=await this.repo.resolveFeed(B);if(!T)throw new Error("RantNotFound");return await this.createBlock(T,Ix,{id:B})}else throw new Error("DeleteWhat?")},async import(B){let S=FS.default.from(B);await this.dispatch(S,!0);let T=S.first.sig;return n(T),T}};function V(B={}){s(B.text||""),u(B.theme||(0,qn.get)(o)),p(B.encryption||(0,qn.get)(h)),f(B.date||Date.now())}async function W(){let B=e.iterator(),S=[],T=(0,qn.get)(r);for await(let[k,R]of B){let x=Ux(R);S.push(Hx({id:k,...x},T))}return S.sort((k,R)=>R.date-k.date),P(S),S}function F(){return Xs((0,qn.get)(r))}}a(vq,"DraftsModule");function Hx(e,t=null,r){if(!e)throw new Error("NoRant");let n=Tx(t,e.id),i=!e.rev,s=e.size;i&&(s=e.text?dq(e).length:0);let o=i?"draft":"signed",l=r&&e.encrypted?kde(e.text,r):e.text;return{...e,message:l,state:o,selected:n,size:s,title:Yx(e.text),excerpt:OS(e.text),icon:NS(e.text),decrypted:e.encrypted?!!l:!0}}a(Hx,"mapRant");d();var Fde=wn(Pde(),1);function zx(){return{async inspect(){let e=await(0,Fde.inspect)(this.repo,{blockLabel(t,{link:r}){let n=Si(t.key,3),i=Ux(t.body),s=qS`
            [${Si(t.sig,3)}]
            ${i.seq}:${n}
          `;return i.type!==Ll?qS`
            ${s}
            UnknownBlock
          `:qS`
          ${s}
          ${NS(i.text)}
          ${Yx(i.text)}
          ${OS(i.text,12)}
          🎨${i.theme} 🔒${i.encryption} 🗜️${i.compression}
        `}});return console.info(e),e}}}a(zx,"InspectModule");var Gm=class extends Ude.SimpleKernel{constructor(t){super(t),this.repo.allowDetached=!0,this.store.register(mq("rants",()=>this.pk)),Object.assign(this,bq()),Object.assign(this,vq(t,this.config.bind(this))),Object.assign(this,zx())}async boot(){await super.boot(),await this.drafts()}async _inc(t){let r=await this.repo.readReg(`inc|${t}`),n=(r?JSON.parse(r):-1)+1;return await this.repo.writeReg(`inc|${t}`,JSON.stringify(n)),n}async onquery(t={}){let r=get(this.$rants()).filter(i=>!t.onlyPublic||i.public),n=[];for(let i of r){let s=await this.repo.resolveFeed(i.id);n.push(s)}}};a(Gm,"Kernel");d();d();var Km=class{constructor(t,r,n){this.isTonicTemplate=!0,this.unsafe=n,this.rawText=t,this.templateStrings=r}valueOf(){return this.rawText}toString(){return this.rawText}};a(Km,"TonicTemplate");var Nr=class extends window.HTMLElement{constructor(){super();let t=Nr._states[super.id];delete Nr._states[super.id],this._state=t||{},this.preventRenderOnReconnect=!1,this.props={},this.elements=[...this.children],this.elements.__children__=!0,this.nodes=[...this.childNodes],this.nodes.__children__=!0,this._events()}static _createId(){return`tonic${Nr._index++}`}static _splitName(t){return t.match(/[A-Z][a-z0-9]*/g).join("-")}static _normalizeAttrs(t,r={}){return[...t].forEach(n=>r[n.name]=n.value),r}_checkId(){let t=super.id;if(!t){let r=this.outerHTML.replace(this.innerHTML,"...");throw new Error(`Component: ${r} has no id`)}return t}get state(){return this._checkId(),this._state}set state(t){this._state=(this._checkId(),t)}_events(){let t=Object.getOwnPropertyNames(window.HTMLElement.prototype);for(let r of this._props)t.indexOf("on"+r)!==-1&&this.addEventListener(r,this)}_prop(t){let r=this._id,n=`__${r}__${Nr._createId()}__`;return Nr._data[r]=Nr._data[r]||{},Nr._data[r][n]=t,n}_placehold(t){let r=this._id,n=`placehold:${r}:${Nr._createId()}__`;return Nr._children[r]=Nr._children[r]||{},Nr._children[r][n]=t,n}static match(t,r){return t.matches||(t=t.parentElement),t.matches(r)?t:t.closest(r)}static getPropertyNames(t){let r=[];for(;t&&t!==Nr.prototype;)r.push(...Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return r}static add(t,r){if(!(r||t.name&&t.name.length>1))throw Error("Mangling. https://bit.ly/2TkJ6zP");if(r||(r=Nr._splitName(t.name).toLowerCase()),!Nr.ssr&&window.customElements.get(r))throw new Error(`Cannot Tonic.add(${t.name}, '${r}') twice`);if(!t.prototype||!t.prototype.isTonicComponent){let i={[t.name]:class extends Nr{}}[t.name];i.prototype.render=t,t=i}return t.prototype._props=Nr.getPropertyNames(t.prototype),Nr._reg[r]=t,Nr._tags=Object.keys(Nr._reg).join(),window.customElements.define(r,t),typeof t.stylesheet=="function"&&Nr.registerStyles(t.stylesheet),t}static registerStyles(t){if(Nr._stylesheetRegistry.includes(t))return;Nr._stylesheetRegistry.push(t);let r=document.createElement("style");Nr.nonce&&r.setAttribute("nonce",Nr.nonce),r.appendChild(document.createTextNode(t())),document.head&&document.head.appendChild(r)}static escape(t){return t.replace(Nr.ESC,r=>Nr.MAP[r])}static unsafeRawString(t,r){return new Km(t,r,!0)}dispatch(t,r=null){let n={bubbles:!0,detail:r};this.dispatchEvent(new window.CustomEvent(t,n))}html(t,...r){let n=a(o=>{if(o&&o.__children__)return this._placehold(o);if(o&&o.isTonicTemplate)return o.rawText;switch(Object.prototype.toString.call(o)){case"[object HTMLCollection]":case"[object NodeList]":return this._placehold([...o]);case"[object Array]":return o.every(u=>u.isTonicTemplate&&!u.unsafe)?new Km(o.join(`
`),null,!1):this._prop(o);case"[object Object]":case"[object Function]":return this._prop(o);case"[object NamedNodeMap]":return this._prop(Nr._normalizeAttrs(o));case"[object Number]":return`${o}__float`;case"[object String]":return Nr.escape(o);case"[object Boolean]":return`${o}__boolean`;case"[object Null]":return`${o}__null`;case"[object HTMLElement]":return this._placehold([o])}return typeof o=="object"&&o&&o.nodeType===1&&typeof o.cloneNode=="function"?this._placehold([o]):o},"refs"),i=[];for(let o=0;o<t.length-1;o++)i.push(t[o],n(r[o]));i.push(t[t.length-1]);let s=i.join("").replace(Nr.SPREAD,(o,u)=>{let l=Nr._data[u.split("__")[1]][u];return Object.entries(l).map(([f,h])=>{let p=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return h===!0?p:h?`${p}="${Nr.escape(String(h))}"`:""}).filter(Boolean).join(" ")});return new Km(s,t,!1)}scheduleReRender(t){return this.pendingReRender?this.pendingReRender:(this.pendingReRender=new Promise(r=>setTimeout(()=>{if(!this.isInDocument(this.shadowRoot||this))return;let n=this._set(this.shadowRoot||this,this.render);if(this.pendingReRender=null,n&&n.then)return n.then(()=>{this.updated&&this.updated(t),r()});this.updated&&this.updated(t),r()},0)),this.pendingReRender)}reRender(t=this.props){let r={...this.props};return this.props=typeof t=="function"?t(r):t,this.scheduleReRender(r)}handleEvent(t){this[t.type](t)}_drainIterator(t,r){return r.next().then(n=>{if(this._set(t,null,n.value),!n.done)return this._drainIterator(t,r)})}_set(t,r,n=""){this.willRender&&this.willRender();for(let i of t.querySelectorAll(Nr._tags)){if(!i.isTonicComponent)continue;let s=i.getAttribute("id");!s||!Nr._refIds.includes(s)||(Nr._states[s]=i.state)}if(r instanceof Nr.AsyncFunction)return r.call(this,this.html,this.props).then(i=>this._apply(t,i));if(r instanceof Nr.AsyncFunctionGenerator)return this._drainIterator(t,r.call(this));r===null?this._apply(t,n):r instanceof Function&&this._apply(t,r.call(this,this.html,this.props)||"")}_apply(t,r){if(r&&r.isTonicTemplate?r=r.rawText:typeof r=="string"&&(r=Nr.escape(r)),typeof r=="string"){if(this.stylesheet&&(r=`<style nonce=${Nr.nonce||""}>${this.stylesheet()}</style>${r}`),t.innerHTML=r,this.styles){let s=this.styles();for(let o of t.querySelectorAll("[styles]"))for(let u of o.getAttribute("styles").split(/\s+/))Object.assign(o.style,s[u.trim()])}let n=Nr._children[this._id]||{},i=a((s,o)=>{if(s.nodeType===3){let l=s.textContent.trim();n[l]&&o(s,n[l],l)}let u=s.childNodes;if(!!u)for(let l=0;l<u.length;l++)i(u[l],o)},"walk");i(t,(s,o,u)=>{for(let l of o)s.parentNode.insertBefore(l,s);delete Nr._children[this._id][u],s.parentNode.removeChild(s)})}else t.innerHTML="",t.appendChild(r.cloneNode(!0))}connectedCallback(){this.root=this.shadowRoot||this,super.id&&!Nr._refIds.includes(super.id)&&Nr._refIds.push(super.id);let t=a(r=>r.replace(/-(.)/g,(n,i)=>i.toUpperCase()),"cc");for(let{name:r,value:n}of this.attributes){let i=t(r),s=this.props[i]=n;if(/__\w+__\w+__/.test(s)){let{1:o}=s.split("__");this.props[i]=Nr._data[o][s]}else if(/\d+__float/.test(s))this.props[i]=parseFloat(s,10);else if(s==="null__null")this.props[i]=null;else if(/\w+__boolean/.test(s))this.props[i]=s.includes("true");else if(/placehold:\w+:\w+__/.test(s)){let{1:o}=s.split(":");this.props[i]=Nr._children[o][s][0]}}if(this.props=Object.assign(this.defaults?this.defaults():{},this.props),this._id=this._id||Nr._createId(),this.willConnect&&this.willConnect(),!!this.isInDocument(this.root)){if(!this.preventRenderOnReconnect){this._source?this.innerHTML=this._source:this._source=this.innerHTML;let r=this._set(this.root,this.render);if(r&&r.then)return r.then(()=>this.connected&&this.connected())}this.connected&&this.connected()}}isInDocument(t){let r=t.getRootNode();return r===document||r.toString()==="[object ShadowRoot]"}disconnectedCallback(){this.disconnected&&this.disconnected(),delete Nr._data[this._id],delete Nr._children[this._id]}};a(Nr,"Tonic");Nr.prototype.isTonicComponent=!0;Object.assign(Nr,{_tags:"",_refIds:[],_data:{},_states:{},_children:{},_reg:{},_stylesheetRegistry:[],_index:0,version:typeof Hi<"u"?Yde().version:null,SPREAD:/\.\.\.\s?(__\w+__\w+__)/g,ESC:/["&'<>`/]/g,AsyncFunctionGenerator:async function*(){}.constructor,AsyncFunction:async function(){}.constructor,MAP:{'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;","/":"&#x2F;"}});var En=Nr;d();var $it=`{"keypad-dialog.css":"QGltcG9ydCAiYnVpbGQvYnVuZGxlLmNzcyI7CkBpbXBvcnQgImdsb2JhbC5jc3MiOwoKLmtleXBhZHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHBhZGRpbmc6IDFyZW07CiAgd2lkdGg6IGZpdC1jb250ZW50Owp9Ci5rZXlwYWQgLm51bS1idXR0b257CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiAwLjFyZW0gIWltcG9ydGFudDsKICBib3JkZXItcmFkaXVzOiAwOwp9Ci5rZXlwYWQgLmxvY2stYnV0dG9uewogIG1hcmdpbjogMC4xcmVtICFpbXBvcnRhbnQ7Cn0KLmtleXBhZCAucm93ewogIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwp9Ci5rZXlwYWQgLmJhY2tzcGFjZS1idXR0b257CiAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsKICBtYXJnaW46IGF1dG8gIWltcG9ydGFudDsKICBtYXJnaW4tYm90dG9tOiAxcmVtICFpbXBvcnRhbnQ7CiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCAhaW1wb3J0YW50OwogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAgIWltcG9ydGFudDsKfQojS2V5UGFkRGlzcGxheXsKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsKfQojS2V5UGFkRGlzcGxheVVubG9ja3sKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsKfQojS2V5UGFkRGlzcGxheVVubG9jazo6cGxhY2Vob2xkZXIgewogIGNvbG9yOiAjZjE0NjQ2OwogIG9wYWNpdHk6IDE7Cn0KLmtleXBhZC1hcnRpY2xlewogIG92ZXJmbG93OiBoaWRkZW47Cn0KLnVubG9jay1rZXlwYWQtdGl0bGV7CiAgZGlzcGxheTogZmxleDsKICB0cmFuc2l0aW9uOiAwLjJzOwp9Ci51bmxvY2sta2V5cGFkLXRpdGxlIHNwYW57CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogYXV0bzsKICBmb250LXNpemU6IDEuNXJlbTsKfQoKLmNsb3NlLXVubG9ja3sKICB0b3A6IC0xMDBweDsKfQouY2xvc2UtbG9ja3sKICB0b3A6IC02MHB4Owp9Ci5jbG9zZS1idG57CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiBmaXQtY29udGVudDsKICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMSwgMSwgMSwgMCk7CiAgYm9yZGVyOiBub25lOwogIGJveC1zaGFkb3c6IGluc2V0IC0zcHggLTNweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMS44cmVtOwogIGxlZnQ6IC0zMHB4Owp9Ci5jbG9zZS1idG46aG92ZXJ7CiAgYmFja2dyb3VuZC1jb2xvcjojZTc1ZTVlOwogIGJveC1zaGFkb3c6IDNweCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7Cn0KLmNsb3NlLWJ0bjpmb2N1c3sKICBib3gtc2hhZG93OiBub25lOwp9Cgo=","static-loader.css":"LnN0YXRpYy1sb2FkZXItY2xhc3N7CiAgcGFkZGluZzowLjVyZW07CiAgd2lkdGg6NTAlOwogIG1hcmdpbjphdXRvOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOjAuM3JlbTsKfQouc3RhdGljLWxvYWRlci1jbGFzczpob3ZlcnsKICBmaWx0ZXI6YnJpZ2h0bmVzcygxLjEpOwogIGN1cnNvcjpwb2ludGVyOwp9Ci5zdGF0aWMtbG9hZGVyLWNsYXNzOmFjdGl2ZXsKICBmaWx0ZXI6YnJpZ2h0bmVzcygwLjkpOwp9CmNoaWxkLWVsZW1lbnR7CiAgZGlzcGxheTpmbGV4OwogIHRleHQtYWxpZ246Y2VudGVyOwp9CnB7dGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbjowOyBwYWRkaW5nOjFyZW07fQ=="}
`;function Hde(e){e=e+".css";let t=JSON.parse($it),r=b.Buffer.from(t[e],"base64").toString();return console.info(`\u{1F489}injecting stylesheet "${e}"`),r}a(Hde,"getStyleSheet");var Wx=wn(yo(),1);d();function rn(e){let t=e;if(typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("ElementNotFound:"+t);return e}a(rn,"nEl");function n0(e,t,r){let n=rn(e),i=t(o=>{n.type==="checkbox"?n.checked=o:n.value=o}),s=a(()=>{typeof r=="function"&&(n.type==="checkbox"?r(n.checked):r(n.value))},"handler");return typeof r=="function"&&(n.addEventListener("keyup",s),n.addEventListener("change",s)),()=>{i(),typeof r=="function"&&(n.removeEventListener("keyup",s),n.removeEventListener("change",s))}}a(n0,"nValue");function _q(e,t,r){let n=rn(e);return r(i=>n.classList.toggle(t,i))}a(_q,"nClass");function Tu(e,t){return e=rn(e),e.addEventListener("click",t),()=>e.removeEventListener("click",t)}a(Tu,"nClick");function Qx(e,t){return e=rn(e),t(r=>{e.innerText=r})}a(Qx,"nText");function E1(e,t,r){return e=rn(e),r(n=>{e.dataset[t]=n})}a(E1,"nAttr");function zde(e,t){return e=rn(e),t(r=>{e.disabled=!!r})}a(zde,"nDisabled");function Qde(e,t){return e=rn(e),t(r=>{e.style.display=r?"none":null})}a(Qde,"nHide");var[Wde,Vx]=(0,Wx.write)(null);En.add(a(class extends En{constructor(){super(),this.state.styles=Hde("keypad-dialog"),this.attachShadow({mode:"open"})}async click(t){let r,n;switch(this.props.post==="false"?(r=this.shadowRoot.getElementById("KeyPadDisplayUnlock"),n=this.shadowRoot.getElementById("KeyPadDisplayUnlock").value):(r=this.shadowRoot.getElementById("KeyPadDisplay"),n=this.shadowRoot.getElementById("KeyPadDisplay").value),t.composedPath()[0].accessKey){case"keyBtn":r.value=n+t.composedPath()[0].value;break;case"lockBtn":await Xit(n),rn("edit-keypad-dlg").open=!1,r.value="";break;case"BackspaceBtn":r.value=Vde(n);break;case"closeBtn":rn("edit-keypad-dlg").open?rn("edit-keypad-dlg").open=!1:rn("edit-keypad-dlg2").open&&(rn("edit-keypad-dlg2").open=!1),r.value="",Vx("EVENT:CLOSE");break;case"keyBtnUnlock":r.value=n+t.composedPath()[0].value,r.placeholder!==""&&(r.placeholder="");break;case"UnlockBtn":Vx(n),r.value="";break;case"BackspaceBtnUnlock":r.value=Vde(n);break}}render(){let t=this.props.post==="false",r={...t?{display:"KeyPadDisplayUnlock"}:{display:"KeyPadDisplay"},...t?{backspace:"BackspaceBtnUnlock"}:{backspace:"BackspaceBtn"},...t?{number:"keyBtnUnlock"}:{number:"keyBtn"},...t?{lock:"UnlockBtn"}:{lock:"lockBtn"},...t?{lockID:"unlock-button"}:{lockID:"lock-button"},...t?{lockText:"Unlock"}:{lockText:"Lock"},...t?{close:"close-unlock"}:{close:"close-lock"}},n=[];for(let s=1;s<10;s++)n.push(this.html(`<button value='${s}' accessKey='${r.number}' class='num-button'>${s}</button>`));let i=[];for(let s=0;s<3;s++){let o=s<1?0:s*3,u=s<1?3:s*3+3;i.push(this.html(`<div class='row'>${n.slice(o,u).join("")}</div>`))}return this.html`
      <div class='keypad'>
        <div class='row'>
          <input id='${r.display}' type='password' data-value='1' disabled/>
          <button accessKey="${r.backspace}" class='backspace-button'>⌫</button>
        </div>
        ${i}
        <div class='row'>
          <button accessKey='${r.lock}' class='lock-button' id='${r.lockID}'>${r.lockText}</button>
        </div>
        <button accessKey='closeBtn' class='close-btn ${r.close}'>Close</button>
      </div>
    `}stylesheet(){return this.state.styles}},"KeypadDialog"));function Vde(e){return e=e.slice(0,-1),e}a(Vde,"RemoveLastChar");async function Xit(e){Vx(e)}a(Xit,"pushSecret");async function jx(e){if(e){rn("edit-keypad-dlg2").open=!0;let t=await(0,Wx.next)(Wde);return rn("edit-keypad-dlg2").open=!1,Vx(null),t}else{rn("edit-keypad-dlg").open=!0;let t=await(0,Wx.next)(Wde);return t==="EVENT:CLOSE"?!1:(rn("edit-keypad-dlg").open=!1,Vx(null),t)}}a(jx,"promptPIN");d();var X0e=wn(j0e(),1),Ul=wn(yo(),1);d();var rP=wn(Dm(),1),K0e=wn(yo(),1);var{decodeBlock:G0e}=rP.SimpleKernel,tP="shit",d2=class extends rP.SimpleKernel{constructor(t,r=Date.now){super(t),this.repo.allowDetached=!0,this.store.register(Jat(void 0,void 0,r)),Object.assign(this,zx())}$rants(){return(0,K0e.mute)(a(r=>this.store.on("rants",r),"$rs"),r=>Object.values(r).map(Hx))}async externalRants(t){}async onquery(t){let r=await super.onquery(t);return typeof this.propaganda=="function"&&await this.externalRants(),r}gc(t){return this.store.gc(t)}async bump(t){b.Buffer.isBuffer(t)||(t=b.Buffer.from(t,"hex"));let r=await this.repo.resolveFeed(t),n={emo:"\u{1F4A9}"};await this.createBlock(r,tP,n)}};a(d2,"PublicKernel");var Xat=36e5;function Jat(e=50,t=Xat,r=Date.now){return{name:"rants",initialValue:{},filter({state:n,block:i,parentBlock:s,CHAIN:o,mark:u}){let l=G0e(i.body),{type:f}=l;switch(f){case Ll:{let h=A1(l);if(i.body.length>1024)return"RantTooBig";if(h.encryption!==0)return"RantEncrypted";if(h.public!==!0)return"RantNotPublic";if(h.date+t<r())return"RantExpired"}break;case tP:{let h=n[Si(o)];if(h.bumpedBy.some(y=>y.equals(i.key)))return"AlreadyBumped";if(l.date>r())return"TimeManipulation";if(l.date>h.expiresAt)return"TooLate";if(l.date<h.lastBumpAt)return"TimeManipulation";if(r()-h.lastBumpAt<1e4)return"TooSoonToBump";if(h.bumpCount>=10)return"BumpLimitReached"}break;default:return"UnknownBlock"}return!1},reducer({state:n,block:i,parentBlock:s,CHAIN:o,mark:u}){let l=G0e(i.body),{type:f}=l;switch(f){case Ll:{let h=A1(l);n[Si(o)]={...h,id:o,author:i.key,rev:i.sig,size:i.body.length,expiresAt:h.date+t,overflowAt:0,bumpCount:0,lastBumpAt:r(),bumpedBy:[i.key]},u(Si(o),n[Si(o)].expiresAt);let p=Object.values(n).filter(g=>!g.overflowAt);if(p.length>e){let g=Zat(p)[p.length-1];g.overflowAt=r(),u(Si(g.id))}}break;case tP:{let h=n[Si(o)];h.expiresAt+=1e3*60*5,h.bumpCount+=1,h.lastBumpAt=r(),h.bumpedBy.push(i.key),console.info(`bump count: ${h.bumpCount}`)}}return{...n}},sweep({state:n,CHAIN:i,mark:s,drop:o,payload:u}){let l=n[Si(i)];return l?(!l.overflowAt&&l.expiresAt>r()?s(u,l.expiresAt):(o(),delete n[Si(i)]),n):(console.warning("RantAlreadyGone"),n)}}}a(Jat,"TinyBoard");function Zat(e){return e.sort((t,r)=>r.expiresAt>t.expiresAt)}a(Zat,"sortByWeight");d();var m7=wn(yo(),1);var[b7,est]=(0,m7.write)({}),$0e=(0,m7.mute)(b7,e=>e?.path||"pitch");function nP(){let{origin:e,hash:t}=window.location;t!=="#/"&&t!==""?rn("frontPage").style.display="none":rn("frontPage").style.display="",t.split("/")[0]!=="#edit"?rn("edit-pub-toggle").style.display="none":rn("edit-pub-toggle").style.display="";let r=new URL(e+"/"+t.replace(/^#\/?/,"")),n="pitch",i,s=r.pathname.match(/^\/([^/]+)(?:\/(.+))?/);s&&(n=s[1],i=s[2]),n=n.toLowerCase();let o={},u=!0;if(n!=="r"){let l=new URLSearchParams(r.search);for(let[f,h]of l.entries())o[f]=h,u=void 0}est({path:n,id:i,q:u&&o})}a(nP,"apply");function pa(e){e.startsWith("#")||(e="#"+e),e=e.replace(/^#\/+/,"#/"),window.history.pushState(null,null,e),nP()}a(pa,"navigate");window.addEventListener("popstate",nP);nP();var J0e=new X0e.BrowserLevel("rant.lvl",{valueEncoding:"buffer",keyEncoding:"buffer"}),Yr=new Gm(J0e);await Yr.boot();var Kc=new d2(J0e.sublevel("PUB",{keyEncoding:"buffer",valueEncoding:"buffer"}));Kc.externalRants=e=>Yr.onquery({...e,onlyPublic:!0});await Kc.boot();var[tst,rst]=(0,Ul.write)(!1),$c=rst,p2=(0,Ul.mute)((0,Ul.combine)(tst,$0e),([e,t])=>["pitch","show","edit"].find(r=>r===t)?t==="pitch"?!1:e:!0);async function Z0e(){await Yr.checkout(null);let e=(0,Ul.get)(Yr.$rant());pa(`edit/${e.id}`),$c(!0)}a(Z0e,"createNewDraft");async function v7(){await ist().catch(e=>(console.warn("navigator.share() failed, trying clipboard",e),nst().then(()=>window.alert("Copied URL to clipboard"))))}a(v7,"shareDefault");async function epe(){let e=(0,Ul.get)(Yr.$current);if(Xs(e))return!1;let t=await Yr.pickle(e),r=new URL(window.location);return r.hash="r/"+t,r.toString()}a(epe,"currentPickle");async function nst(){let e=await epe();e&&await navigator.clipboard.writeText(e)}a(nst,"currentToClipboard");async function ist(){let e=await epe();if(!e)return;let{title:t,excerpt:r}=(0,Ul.get)(Yr.$rant()),n={title:`1k | ${t||"Note"}`,text:r,url:e};return await navigator.share(n)}a(ist,"navigatorShare");d();var lb=wn(yo(),1);var G_e=wn(W_e(),1);d();function M0(e,t,r,n){if(document.getElementById(`${e.id}:alert-${r}`))return;let i=document.createElement("div");i.classList.add("alert-collapse");let s=document.createElement("div");s.classList.add(`alert-${t}`),s.id=`${e.id}:alert-${r}`;let o=document.createElement("p");o.innerText=r,s.appendChild(o),i.appendChild(s),e.appendChild(i),Vpt(i)}a(M0,"createAlert");function Vpt(e){V_e(e),setTimeout(()=>V_e(e),2e3),setTimeout(()=>e.remove(),2200)}a(Vpt,"clearAlert");function V_e(e){e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}a(V_e,"collapseAlert");var j_e="GLOBAL_RANT_WARNING";En.add(a(class extends En{constructor(){super(),this.modem=new G_e.default,this.isSwarming=!0,this.modem.join(j_e,(...t)=>Kc.spawnWire(...t)),console.log("second kernel booted, topic joined",j_e),this.reRender(t=>t)}connected(){this.ready=this.dataset.ready==="true";let t=Kc.$rants(),r=(0,lb.gate)((0,lb.combine)({rants:t,peers:(0,lb.mute)(Kc.$connections(),n=>n.length)}));this.unsub=r(n=>{this.reRender(i=>({...i,...n}))})}disconnected(){this.unsub()}render(){let t=this.props.rants||[],r=this.props.peers||0;this.classList.add("pad");let n=a(()=>t.length?t.sort((s,o)=>o.expiresAt-s.expiresAt).map(s=>this.html`
          <rant-card rant=${s}></rant-card>
        `):this.html`
          <h5 aria-busy="true">Searching for peers...</h5>
        `,"listRants");return this.html`
    <div style="text-align: center;">
      <h1 style="font-size: 6rem; margin-bottom:0.25rem;">1k</h1>
      <p>Real Times News Network</p>
    </div>
    <div>
      Peers: ${r+""}
    </div>
      ${n()}
    `}static stylesheet(){return`
      discover-page { display: block; }
    `}},"FrontpageFeed"));var K_e=a(e=>{let t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return t+":"+(r<10?"0":"")+r},"convertToReadableLifeSpan"),jpt=a((e,t)=>{e.innerText=K_e(t-Date.now())},"timeTick"),dC=class extends En{async click(t){let r=En.match(t.target,"b[data-id]");if(r){let n=r.dataset.id;try{await Kc.bump(n)}catch(i){switch(i.message=i.toString().split("Error: InvalidBlock: ")[1],i.message){case"TooSoonToBump":r.setAttribute("disabled","true"),setTimeout(()=>r.removeAttribute("disabled"),2e3),M0(rn(`frontpage-alert-${n}`),"danger","Rant was recently bumped. Try again in a couple of seconds!",!0);break;case"BumpLimitReached":M0(rn(`frontpage-alert-${n}`),"danger","Bump Limit Reached",!0);break;case"TimeManipulation":M0(rn(`frontpage-alert-${n}`),"danger","Time Manipulation Detected!",!0);break;case"TooLate":M0(rn(`frontpage-alert-${n}`),"danger","Rant already expired \u{1F622}",!0);break;case"AlreadyBumped":M0(rn(`frontpage-alert-${n}`),"danger","You have alerady bumped this rant!",!0);break;default:break}}}}connected(){let t=this.props.rant,r=Si(t.id),n=rn(`lifespan-${r}`);setInterval(()=>jpt(n,t.expiresAt),1e3)}render(){let t=this.props.rant,r=Kc.pk,n=K_e(t.expiresAt-Date.now());if(!$o(t?.id))return this.html`<error>Invalid rant</error>`;let i=Si(t.id),s=this.html([PS(t.text)]),o=t.bumpedBy.some(f=>f.equals(r)),u=t.author.equals(Yr.pk),l=t.bumpCount<10&&!o?u?this.html`<small>Your Rant</small>`:this.html`<b role="button" class="btn-round" data-id="${i}"><span>💩</span></b> <span class="btn-dope-text">+5min</span>`:o?this.html`<small>You bumped this</small>`:this.html`<small>bump limit reached</small>`;return this.html`
    <div id="frontpage-alert-${i}"></div>
      <article class="rant" data-id="${i}" data-theme="${DS[t.theme]}">
        <div class="contents">
          ${s}
        </div>
        <footer class="row space-between">
          <!-- picoshit rebirth -->
          <small id="lifespan-${i}">${n}</small>
          <div class="btn-dope-container">${l}</div>
        </foot>
      </article>
    `}static stylesheet(){return`
      article.rant .contents {
        max-height: 400px;
        overflow: hidden;
      }
    `}};a(dC,"RantCard");En.add(dC);d();var fb=null,E3=class extends En{constructor(){super(),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),fb=t,this.reRender(r=>r)})}click(t){En.match(t.target,"button.cancel")&&(fb=null,this.reRender(r=>r)),En.match(t.target,"button.install")&&(fb.prompt(),fb.userChoice.then(r=>{r.outcome==="accepted"&&window.alert("Thank you, you are awesome! No joke."),fb=null,this.reRender(n=>n)}))}render(){if(!!fb)return this.html`
      <dialog open>
        <article>
          <header>Add to Homescreen</header>
          <p>
            This app was designed to be stuked to your homescreen.<br/>
            Install it to get better display realestate.</br>
            Quick When-In-Panic access.<br/>
            Create incentive to port kernel to background workers.<br/>
            No, no notifcations. They're scheduled for future releases when
            the kernel is ported and will fire when you pass an
            attractive individual in your area.
            </br>
          </p>

          <p>
            What are you waiting for?<br/>
            Press <strong>install</strong> now!
          </p>
          <footer class="row space-between">
            <button class="hgap cancel">Nope!</button>
            <button class="hgap install">Install</button>
          </footer>
        </article>
      </dialog>
    `}static stylesheet(){return`
      button.cancel { --primary: red; }
    `}};a(E3,"InstallButton");En.add(E3);d();En.add(a(class extends En{click(t){let r=En.match(t.target,"button[data-route]");if(!r)return;let n=r.dataset.route;pa(n)}render(){return this.html`
      <nav class="row">
        <button data-route="/" data-toltip="Home"><ico>🏠</ico></button>
        <button data-route="home" data-toltip="Drafts"><ico>📑</ico></button>
        <button data-route="saved" data-toltip="Saved"><ico>🌟</ico></button>
        <button data-route="settings" data-toltip="Settings"><ico>⚙️</ico></button>
      </nav>
    `}},"MainMenu"));d();var $_e=wn(yo(),1);En.add(a(class extends En{async click(t){En.match(t.target,"#btn-toggle")&&(this.props.state==="pitch"&&pa("home"),$c(!(0,$_e.get)(p2))),En.match(t.target,".btn-export")&&v7()}render(){let{state:t,rant:r}=this.props;if(!t)return;if(t==="pitch")return this.html`
        <ctrls class="row space-between xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
        </ctrls>
      `;let n=new Date(r.date).toLocaleString(),i=t==="draft"?this.html`
        <sup><code>DRAFT</code></sup>
        <small>saved: ${n}</small>
      `:this.html`
        <small>Author: ${r.author.slice(0,4).toString("hex")}</small>
        <small>Date: <span id="author-id">${n}</span></small>

      `;return this.html`
      <ctrls class="row space-between xcenter">
        <!-- left -->
        <div class="row xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
          <div class="col">${i}</div>
        </div>
        <!-- right -->
        ${t==="draft"?this.html`
            <!-- <b role="button">Publish</b> -->
          `:this.html`
          <!--<button class="btn-round"><ico>📤</ico></button>-->
          <b role="button" class="outline secondary btn-export">share</b>
          `}
      </ctrls>
    `}},"RenderCtrls"));d();var txe=wn(yo(),1);d();var dY=wn(X_e(),1),Z_e=wn(J_e(),1);dY.default.extend(Z_e.default);var exe=dY.default;d();var pY=wn(yo(),1);var Gpt=gq("PIC0.K0.GFZu8O6IJ1_4DVdAZHQr32fJx8afn6MUbyyXz987iLAB0.3Dq-Z9Oa8L6SiTU6LWCssrPRyPN_RPXC40XzrwQf2dHdWTWGyUpwzvFoMYzZ3_DTtXlvgl1EI+1Z+pGPCJcFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOw3gAHoWIAoXTFA44jIENoZWF0U2hlZXQKCiMjIE1hY3JvcwoKfCBleHByZXNzaW9uIHwgbmFtZXwgc3RhdHVzfAp8LcQBxgbIBy0tOnwKfGAh8J+TtyAhYHwgQmlnIEVtb2ppIFBpY3R1cmVzfCBkb25lxCZ7a2V5fWB8IEF1dGhvciBQdWJsaWMta2V5fCB0b2RvxSN0OmVwb2NoXHxmb3JtYXTEL0NvdW50ZG93bssnZzp1NjIycmQ4bXdwfWAgfCBFbWJlZCBHZW9oYXNofCBwbGFubmVkIMQtfn54b3I6cHdcfHJlZGFjdGVkfn7EM0lucGxhY2UgZW5jcnlwdOYA88s65AEZQmFzaWNzCiMjIyBUeXBvZ3JhcGh5CnzqASZ8cmVzdWx05gEexQQKfGAqKmJvbGQqKsRmICAgyA_EG19pdGFsaWNzX2B8IMkMxBl+flN0cmlrZSBUaHJvdWdo5gCk0hZ8CnwgQmFja3RpY2tzLcViYGNvZGVg5gCyIyBIZWFkaW5ncwpgYGBtYXJr5AE6CskXIDHkANfIDTLMMiAzxA7KDzTFD8oQNcYQyhE2xGPGdUxpc3TlAScjIyBVbm9yZGVyZWTtAIItIHN3aW1txDh3ZWFyCi0gcGFzc3BvcnTEG3VuZ2xhc3Nl5QC2xVMjIyBP00cxLiBNb25rZXkKMskKMy4gQmFuYW5hxT3EOlRhYmxlcwrNOnwgYWxpZ24gcmlnaHQgyA5sZWbKDWNlbnRlcuQCNegC3sQBOnw6yw7NDeUC_uQB4yAgyVjFUsYBxRttaWRkbGXFD8ksxAEwIHwgQ2HIK8YsygHNLEFCIHwgQUxQSEEgQkVUQcgseMks6AD4TGlua3MgJmFtcDsgSW1hZ_ABBFvEISB0ZXh0XShodHRwczovL2hvc3QudGxkKQohW2FsdCBpxDjXJC_FHS5wbmcpxXRfVE9ETzogYmxvY2sgcmVtb3RlxkBzIGZyb20gdW50cnVzdGVkIGHlA_RzLl_mAjBCxDJxdW90Ze0AoD4gVGhlIHRyZWUgd2FzIHRhbGxlciB0aGFuIGFueXRo5AI+c2hlCj4gaGFkIGV2ZXIgc2VlbiBiZWZvcmUuCj4KPiAtVGhleSBzYWlkIGl0xShixCN0aGVyZSBhIHdoaWxlLuoCukNvZGXmAI9zCuQBTcQZxAggIGNvbnN0IHggPSA0MssTb2xlLmxvZyh4KcgwoXoBoXgAoWwAoWTLQngxnEIYkAChcwo"),Kpt=gq("PIC0.K0.xQLjkWClGDyYFYam0PBJa1I0UFpKa7AhS_TNdBO0wWMB0.MGnJgexXLCNKXt-r3TddbRsP6Vvy6LdeGcF8SK_f1ou7N2_fGnEEwjrdZLQ4TiG4smbEV7CS4m6DTlBkTJk0CQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEu3gAHoWIAoXTFAQwxACCECMDWYFCwFQBYEsDOJ0gIYgC4oB2AniAGYCuANlaQPoDCVA9hQCZkBOApt3SADlmebgAdsbAHSwAknhAB3ZpygYAxswC2oqtxG0QzMmSpFuAGhyE2ilDRBok2HiELDuGAG4pcARQBKGmwWIACq_gAyVjaivJwAtABM8bHcnA4KzprSsMCgESiaKHiwIAB8IADyhNwgANJ2zCAAQsQi8MjYeADkGAB+iQAMg4rKbBh4TUjcVKIgxKzkzGoUGMyEik7yWIWiynjYhHg5ADy4SDxkALwARMDcAPQ1CjcgnMy6twBGFHiThK81FRsGg0N8WGooDcyghOKRiicHtgyvAwIAeDcAwvtwIAAoXoCoXgAoWwAoWTLQngx2M+2QAChcwI");En.add(a(class extends En{async click(t){if(!t.target.matches("button.create"))return;console.log("Button clicked");let[r]=await Yr.checkout(null);$c(!0),pa(`edit/${r}`)}preprocess(t=""){let r=this.props;return PS(t,r)}async render(){let{pickle:t,state:r,encrypted:n}=this.props?.n||{},i;n&&(i=await S3(null,0),i||(console.info("too many attempts"),pa("saved/"),M0(rn("saved-rants-alert"),"danger","Too many attempts",!0)),i==="EVENT:CLOSE"&&(pa("saved/"),i=!1));let s=(0,pY.get)(Yr.$rant(i));if(rn("markdown-area").value=s.message,t&&console.log("We have a pickle!",t),s.message===""&&r!=="draft")return this.html`<code>Empty Casette</code>`;if(this.props.id==="pitch-render")return rn("render-ctrls")?.reRender({state:"pitch"}),this.html`
        ${this.html([this.preprocess(Kpt.text)])}
      `;rn("render-ctrls")?.reRender({state:r,rant:this.props.n});let o=this.preprocess(s.message||Gpt.text);return this.html([o])}},"MessagePreview"));var S3=a(async(e,t)=>{if(e){if(e==="EVENT:CLOSE")return"EVENT:CLOSE";if((0,pY.get)(Yr.$rant(e)).message)return e;{if(t++,t>=3)return!1;let n=await jx(!0);return await S3(n,t)}}else{let r=await jx(!0);return await S3(r,t)}},"promptUntilCorrect");En.add(a(class extends En{async click(t){let r=En.match(t.target,"rant");if(!r)return;let n;if(r.dataset.id==="new")return Z0e();if(n=Xs(r.dataset.id)?r.dataset.id:b.Buffer.from(r.dataset.id,"base64"),En.match(t.target,".trash")){if(t.target.dataset.encrypted==="true"){await Yr.checkout(n);let s=await S3(null,0);s&&s!=="EVENT:CLOSE"&&(console.info("deleteRant",n),await Yr.deleteRant(n))}else console.info("deleteRant",n),await Yr.deleteRant(n);await Yr.checkout(null);return}await Yr.checkout(n);let i=(0,txe.get)(Yr.$rant());if(i.state==="draft")pa(`edit/${i.id}`),$c(!0);else if(i.state==="signed"){let s=await Yr.pickle(n);pa(`show/${s}`)}}render(){let{n:t}=this.props,r=this.dataset.create==="true",n="";return r&&(n=this.html`
        <rant data-id="new" class="row xcenter">
          <icon>🥚</icon>
          <h4>New Note</h4>
        </rant>
      `),!Array.isArray(t)&&!r?this.html`<p class="text-center"><code>No rants</code></p>`:this.html`
      ${n}
      ${(t||[]).map(i=>{let s=i.id;$o(i.id)&&(s=s.toString("base64"));let o=i.encrypted&&(!i.decrypted||i.decrypted===void 0)?"[Locked] \u{1F510}":`${i.excerpt}...`;return this.html`
          <rant class="row xcenter space-between"
            data-id="${s}"
            data-state="${i.state}">
            <div class="row xcenter">
              <icon>${i.icon}</icon>
              <div class="col xstart">
                <h6>${i.title}</h6>
                <small>${exe(i.date).fromNow()}</small>
                <div class="sampl">${o}</div>
              </div>
            </div>
            <b role="button" class="btn-round trash" data-encrypted=${i.encrypted.toString()}></b>
          </rant>
        `})}
    `}},"RantList"));d();var sxe=wn(axe(),1);var pC=class extends En{render(){let t=this.props.n||"",r=this.props.level||"L",n=this.props.margin||15,i=this.props.size||4;if(!t)return this.html`<!--qr-code data empty-->`;b.Buffer.isBuffer(t)&&(t=t.toString("base64"));let s=new sxe.default(0,r);s.addData(t,"Byte"),s.make();let o=s.createSvgTag(i,n);return this.html`
      ${this.html([o])}
    `}};a(pC,"QrCode");En.add(pC);d();d();var ou=wn(oxe(),1),_f=wn(cxe(),1);d();d();d();var gg=class extends Map{constructor(t,r=o1t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(uxe(this,t))}has(t){return super.has(uxe(this,t))}set(t,r){return super.set(a1t(this,t),r)}delete(t){return super.delete(s1t(this,t))}};a(gg,"InternMap");function uxe({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}a(uxe,"intern_get");function a1t({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}a(a1t,"intern_set");function s1t({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}a(s1t,"intern_delete");function o1t(e){return e!==null&&typeof e=="object"?e.valueOf():e}a(o1t,"keyof");d();function yC(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}a(yC,"max");d();function mC(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}a(mC,"min");d();d();d();function yY(e){return e}a(yY,"default");var vC=1,mY=2,bY=3,bC=4,lxe=1e-6;function c1t(e){return"translate("+e+",0)"}a(c1t,"translateX");function u1t(e){return"translate(0,"+e+")"}a(u1t,"translateY");function l1t(e){return t=>+e(t)}a(l1t,"number");function f1t(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}a(f1t,"center");function h1t(){return!this.__axis}a(h1t,"entering");function fxe(e,t){var r=[],n=null,i=null,s=6,o=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===vC||e===bC?-1:1,h=e===bC||e===mY?"x":"y",p=e===vC||e===bY?c1t:u1t;function g(y){var E=n??(t.ticks?t.ticks.apply(t,r):t.domain()),M=i??(t.tickFormat?t.tickFormat.apply(t,r):yY),z=Math.max(s,0)+u,P=t.range(),Q=+P[0]+l,V=+P[P.length-1]+l,W=(t.bandwidth?f1t:l1t)(t.copy(),l),F=y.selection?y.selection():y,B=F.selectAll(".domain").data([null]),S=F.selectAll(".tick").data(E,t).order(),T=S.exit(),k=S.enter().append("g").attr("class","tick"),R=S.select("line"),x=S.select("text");B=B.merge(B.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(h+"2",f*s)),x=x.merge(k.append("text").attr("fill","currentColor").attr(h,f*z).attr("dy",e===vC?"0em":e===bY?"0.71em":"0.32em")),y!==F&&(B=B.transition(y),S=S.transition(y),R=R.transition(y),x=x.transition(y),T=T.transition(y).attr("opacity",lxe).attr("transform",function(N){return isFinite(N=W(N))?p(N+l):this.getAttribute("transform")}),k.attr("opacity",lxe).attr("transform",function(N){var m=this.parentNode.__axis;return p((m&&isFinite(m=m(N))?m:W(N))+l)})),T.remove(),B.attr("d",e===bC||e===mY?o?"M"+f*o+","+Q+"H"+l+"V"+V+"H"+f*o:"M"+l+","+Q+"V"+V:o?"M"+Q+","+f*o+"V"+l+"H"+V+"V"+f*o:"M"+Q+","+l+"H"+V),S.attr("opacity",1).attr("transform",function(N){return p(W(N)+l)}),R.attr(h+"2",f*s),x.attr(h,f*z).text(M),F.filter(h1t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===mY?"start":e===bC?"end":"middle"),F.each(function(){this.__axis=W})}return a(g,"axis"),g.scale=function(y){return arguments.length?(t=y,g):t},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(r=y==null?[]:Array.from(y),g):r.slice()},g.tickValues=function(y){return arguments.length?(n=y==null?null:Array.from(y),g):n&&n.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(s=o=+y,g):s},g.tickSizeInner=function(y){return arguments.length?(s=+y,g):s},g.tickSizeOuter=function(y){return arguments.length?(o=+y,g):o},g.tickPadding=function(y){return arguments.length?(u=+y,g):u},g.offset=function(y){return arguments.length?(l=+y,g):l},g}a(fxe,"axis");function vY(e){return fxe(vC,e)}a(vY,"axisTop");function _Y(e){return fxe(bY,e)}a(_Y,"axisBottom");d();d();d();d();var d1t={value:()=>{}};function dxe(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new _C(r)}a(dxe,"dispatch");function _C(e){this._=e}a(_C,"Dispatch");function p1t(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(p1t,"parseTypenames");_C.prototype=dxe.prototype={constructor:_C,on:function(e,t){var r=this._,n=p1t(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=g1t(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=hxe(r[i],e.name,t);else if(t==null)for(i in r)r[i]=hxe(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new _C(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function g1t(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(g1t,"get");function hxe(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=d1t,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(hxe,"set");var xY=dxe;d();d();d();d();var xC="http://www.w3.org/1999/xhtml",wY={svg:"http://www.w3.org/2000/svg",xhtml:xC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xl(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),wY.hasOwnProperty(t)?{space:wY[t],local:e}:e}a(Xl,"default");function y1t(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===xC&&t.documentElement.namespaceURI===xC?t.createElement(e):t.createElementNS(r,e)}}a(y1t,"creatorInherit");function m1t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(m1t,"creatorFixed");function k3(e){var t=Xl(e);return(t.local?m1t:y1t)(t)}a(k3,"default");d();d();d();function b1t(){}a(b1t,"none");function B0(e){return e==null?b1t:function(){return this.querySelector(e)}}a(B0,"default");function AY(e){typeof e!="function"&&(e=B0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=new Array(o),l,f,h=0;h<o;++h)(l=s[h])&&(f=e.call(l,l.__data__,h,s))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f);return new Da(n,this._parents)}a(AY,"default");d();d();function EY(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(EY,"array");d();function v1t(){return[]}a(v1t,"empty");function db(e){return e==null?v1t:function(){return this.querySelectorAll(e)}}a(db,"default");function _1t(e){return function(){return EY(e.apply(this,arguments))}}a(_1t,"arrayAll");function SY(e){typeof e=="function"?e=_1t(e):e=db(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(n.push(e.call(l,l.__data__,f,o)),i.push(l));return new Da(n,i)}a(SY,"default");d();d();function pb(e){return function(){return this.matches(e)}}a(pb,"default");function wC(e){return function(t){return t.matches(e)}}a(wC,"childMatcher");var x1t=Array.prototype.find;function w1t(e){return function(){return x1t.call(this.children,e)}}a(w1t,"childFind");function A1t(){return this.firstElementChild}a(A1t,"childFirst");function kY(e){return this.select(e==null?A1t:w1t(typeof e=="function"?e:wC(e)))}a(kY,"default");d();var E1t=Array.prototype.filter;function S1t(){return Array.from(this.children)}a(S1t,"children");function k1t(e){return function(){return E1t.call(this.children,e)}}a(k1t,"childrenFilter");function CY(e){return this.selectAll(e==null?S1t:k1t(typeof e=="function"?e:wC(e)))}a(CY,"default");d();function IY(e){typeof e!="function"&&(e=pb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new Da(n,this._parents)}a(IY,"default");d();d();d();function C3(e){return new Array(e.length)}a(C3,"default");function TY(){return new Da(this._enter||this._groups.map(C3),this._parents)}a(TY,"default");function I3(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a(I3,"EnterNode");I3.prototype={constructor:I3,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function MY(e){return function(){return e}}a(MY,"default");function C1t(e,t,r,n,i,s){for(var o=0,u,l=t.length,f=s.length;o<f;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new I3(e,s[o]);for(;o<l;++o)(u=t[o])&&(i[o]=u)}a(C1t,"bindIndex");function I1t(e,t,r,n,i,s,o){var u,l,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(u=0;u<h;++u)(l=t[u])&&(g[u]=y=o.call(l,l.__data__,u,t)+"",f.has(y)?i[u]=l:f.set(y,l));for(u=0;u<p;++u)y=o.call(e,s[u],u,s)+"",(l=f.get(y))?(n[u]=l,l.__data__=s[u],f.delete(y)):r[u]=new I3(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&f.get(g[u])===l&&(i[u]=l)}a(I1t,"bindKey");function T1t(e){return e.__data__}a(T1t,"datum");function BY(e,t){if(!arguments.length)return Array.from(this,T1t);var r=t?I1t:C1t,n=this._parents,i=this._groups;typeof e!="function"&&(e=MY(e));for(var s=i.length,o=new Array(s),u=new Array(s),l=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=M1t(e.call(h,h&&h.__data__,f,n)),E=y.length,M=u[f]=new Array(E),z=o[f]=new Array(E),P=l[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new Da(o,n),o._enter=u,o._exit=l,o}a(BY,"default");function M1t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(M1t,"arraylike");d();function RY(){return new Da(this._exit||this._groups.map(C3),this._parents)}a(RY,"default");d();function LY(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(LY,"default");d();function DY(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),u=new Array(i),l=0;l<o;++l)for(var f=r[l],h=n[l],p=f.length,g=u[l]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;l<i;++l)u[l]=r[l];return new Da(u,this._parents)}a(DY,"default");d();function NY(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(NY,"default");d();function OY(e){e||(e=B1t);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=i[s]=new Array(u),f,h=0;h<u;++h)(f=o[h])&&(l[h]=f);l.sort(t)}return new Da(i,this._parents).order()}a(OY,"default");function B1t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(B1t,"ascending");d();function qY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(qY,"default");d();function PY(){return Array.from(this)}a(PY,"default");d();function FY(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(FY,"default");d();function UY(){let e=0;for(let t of this)++e;return e}a(UY,"default");d();function YY(){return!this.node()}a(YY,"default");d();function HY(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,u;s<o;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}a(HY,"default");d();function R1t(e){return function(){this.removeAttribute(e)}}a(R1t,"attrRemove");function L1t(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(L1t,"attrRemoveNS");function D1t(e,t){return function(){this.setAttribute(e,t)}}a(D1t,"attrConstant");function N1t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a(N1t,"attrConstantNS");function O1t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(O1t,"attrFunction");function q1t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(q1t,"attrFunctionNS");function zY(e,t){var r=Xl(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?L1t:R1t:typeof t=="function"?r.local?q1t:O1t:r.local?N1t:D1t)(r,t))}a(zY,"default");d();d();function T3(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(T3,"default");function P1t(e){return function(){this.style.removeProperty(e)}}a(P1t,"styleRemove");function F1t(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(F1t,"styleConstant");function U1t(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(U1t,"styleFunction");function QY(e,t,r){return arguments.length>1?this.each((t==null?P1t:typeof t=="function"?U1t:F1t)(e,t,r??"")):R0(this.node(),e)}a(QY,"default");function R0(e,t){return e.style.getPropertyValue(t)||T3(e).getComputedStyle(e,null).getPropertyValue(t)}a(R0,"styleValue");d();function Y1t(e){return function(){delete this[e]}}a(Y1t,"propertyRemove");function H1t(e,t){return function(){this[e]=t}}a(H1t,"propertyConstant");function z1t(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(z1t,"propertyFunction");function WY(e,t){return arguments.length>1?this.each((t==null?Y1t:typeof t=="function"?z1t:H1t)(e,t)):this.node()[e]}a(WY,"default");d();function pxe(e){return e.trim().split(/^|\s+/)}a(pxe,"classArray");function VY(e){return e.classList||new gxe(e)}a(VY,"classList");function gxe(e){this._node=e,this._names=pxe(e.getAttribute("class")||"")}a(gxe,"ClassList");gxe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yxe(e,t){for(var r=VY(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(yxe,"classedAdd");function mxe(e,t){for(var r=VY(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(mxe,"classedRemove");function Q1t(e){return function(){yxe(this,e)}}a(Q1t,"classedTrue");function W1t(e){return function(){mxe(this,e)}}a(W1t,"classedFalse");function V1t(e,t){return function(){(t.apply(this,arguments)?yxe:mxe)(this,e)}}a(V1t,"classedFunction");function jY(e,t){var r=pxe(e+"");if(arguments.length<2){for(var n=VY(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?V1t:t?Q1t:W1t)(r,t))}a(jY,"default");d();function j1t(){this.textContent=""}a(j1t,"textRemove");function G1t(e){return function(){this.textContent=e}}a(G1t,"textConstant");function K1t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(K1t,"textFunction");function GY(e){return arguments.length?this.each(e==null?j1t:(typeof e=="function"?K1t:G1t)(e)):this.node().textContent}a(GY,"default");d();function $1t(){this.innerHTML=""}a($1t,"htmlRemove");function X1t(e){return function(){this.innerHTML=e}}a(X1t,"htmlConstant");function J1t(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a(J1t,"htmlFunction");function KY(e){return arguments.length?this.each(e==null?$1t:(typeof e=="function"?J1t:X1t)(e)):this.node().innerHTML}a(KY,"default");d();function Z1t(){this.nextSibling&&this.parentNode.appendChild(this)}a(Z1t,"raise");function $Y(){return this.each(Z1t)}a($Y,"default");d();function egt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(egt,"lower");function XY(){return this.each(egt)}a(XY,"default");d();function JY(e){var t=typeof e=="function"?e:k3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a(JY,"default");d();function tgt(){return null}a(tgt,"constantNull");function ZY(e,t){var r=typeof e=="function"?e:k3(e),n=t==null?tgt:typeof t=="function"?t:B0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(ZY,"default");d();function rgt(){var e=this.parentNode;e&&e.removeChild(this)}a(rgt,"remove");function eH(){return this.each(rgt)}a(eH,"default");d();function ngt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(ngt,"selection_cloneShallow");function igt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(igt,"selection_cloneDeep");function tH(e){return this.select(e?igt:ngt)}a(tH,"default");d();function rH(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(rH,"default");d();function agt(e){return function(t){e.call(this,t,this.__data__)}}a(agt,"contextListener");function sgt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(sgt,"parseTypenames");function ogt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(ogt,"onRemove");function cgt(e,t,r){return function(){var n=this.__on,i,s=agt(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(cgt,"onAdd");function nH(e,t,r){var n=sgt(e+""),i,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,h;l<f;++l)for(i=0,h=u[l];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?cgt:ogt,i=0;i<s;++i)this.each(u(n[i],t,r));return this}a(nH,"default");d();function bxe(e,t,r){var n=T3(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(bxe,"dispatchEvent");function ugt(e,t){return function(){return bxe(this,e,t)}}a(ugt,"dispatchConstant");function lgt(e,t){return function(){return bxe(this,e,t.apply(this,arguments))}}a(lgt,"dispatchFunction");function iH(e,t){return this.each((typeof t=="function"?lgt:ugt)(e,t))}a(iH,"default");d();function*aH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(aH,"default");var fgt=[null];function Da(e,t){this._groups=e,this._parents=t}a(Da,"Selection");function vxe(){return new Da([[document.documentElement]],fgt)}a(vxe,"selection");function hgt(){return this}a(hgt,"selection_selection");Da.prototype=vxe.prototype={constructor:Da,select:AY,selectAll:SY,selectChild:kY,selectChildren:CY,filter:IY,data:BY,enter:TY,exit:RY,join:LY,merge:DY,selection:hgt,order:NY,sort:OY,call:qY,nodes:PY,node:FY,size:UY,empty:YY,each:HY,attr:zY,style:QY,property:WY,classed:jY,text:GY,html:KY,raise:$Y,lower:XY,append:JY,insert:ZY,remove:eH,clone:tH,datum:rH,on:nH,dispatch:iH,[Symbol.iterator]:aH};var Ph=vxe;d();d();d();d();function M3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(M3,"default");function sH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(sH,"extend");function L3(){}a(L3,"Color");var B3=.7,SC=1/B3,gb="\\s*([+-]?\\d+)\\s*",R3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dgt=/^#([0-9a-f]{3,8})$/,pgt=new RegExp(`^rgb\\(${gb},${gb},${gb}\\)$`),ggt=new RegExp(`^rgb\\(${Jl},${Jl},${Jl}\\)$`),ygt=new RegExp(`^rgba\\(${gb},${gb},${gb},${R3}\\)$`),mgt=new RegExp(`^rgba\\(${Jl},${Jl},${Jl},${R3}\\)$`),bgt=new RegExp(`^hsl\\(${R3},${Jl},${Jl}\\)$`),vgt=new RegExp(`^hsla\\(${R3},${Jl},${Jl},${R3}\\)$`),_xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M3(L3,L0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xxe,formatHex:xxe,formatHex8:_gt,formatHsl:xgt,formatRgb:wxe,toString:wxe});function xxe(){return this.rgb().formatHex()}a(xxe,"color_formatHex");function _gt(){return this.rgb().formatHex8()}a(_gt,"color_formatHex8");function xgt(){return Ixe(this).formatHsl()}a(xgt,"color_formatHsl");function wxe(){return this.rgb().formatRgb()}a(wxe,"color_formatRgb");function L0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dgt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Axe(t):r===3?new Co(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?AC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?AC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pgt.exec(e))?new Co(t[1],t[2],t[3],1):(t=ggt.exec(e))?new Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ygt.exec(e))?AC(t[1],t[2],t[3],t[4]):(t=mgt.exec(e))?AC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bgt.exec(e))?kxe(t[1],t[2]/100,t[3]/100,1):(t=vgt.exec(e))?kxe(t[1],t[2]/100,t[3]/100,t[4]):_xe.hasOwnProperty(e)?Axe(_xe[e]):e==="transparent"?new Co(NaN,NaN,NaN,0):null}a(L0,"color");function Axe(e){return new Co(e>>16&255,e>>8&255,e&255,1)}a(Axe,"rgbn");function AC(e,t,r,n){return n<=0&&(e=t=r=NaN),new Co(e,t,r,n)}a(AC,"rgba");function wgt(e){return e instanceof L3||(e=L0(e)),e?(e=e.rgb(),new Co(e.r,e.g,e.b,e.opacity)):new Co}a(wgt,"rgbConvert");function yb(e,t,r,n){return arguments.length===1?wgt(e):new Co(e,t,r,n??1)}a(yb,"rgb");function Co(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(Co,"Rgb");M3(Co,yb,sH(L3,{brighter(e){return e=e==null?SC:Math.pow(SC,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?B3:Math.pow(B3,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Co(mg(this.r),mg(this.g),mg(this.b),kC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Exe,formatHex:Exe,formatHex8:Agt,formatRgb:Sxe,toString:Sxe}));function Exe(){return`#${yg(this.r)}${yg(this.g)}${yg(this.b)}`}a(Exe,"rgb_formatHex");function Agt(){return`#${yg(this.r)}${yg(this.g)}${yg(this.b)}${yg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Agt,"rgb_formatHex8");function Sxe(){let e=kC(this.opacity);return`${e===1?"rgb(":"rgba("}${mg(this.r)}, ${mg(this.g)}, ${mg(this.b)}${e===1?")":`, ${e})`}`}a(Sxe,"rgb_formatRgb");function kC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(kC,"clampa");function mg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(mg,"clampi");function yg(e){return e=mg(e),(e<16?"0":"")+e.toString(16)}a(yg,"hex");function kxe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fu(e,t,r,n)}a(kxe,"hsla");function Ixe(e){if(e instanceof Fu)return new Fu(e.h,e.s,e.l,e.opacity);if(e instanceof L3||(e=L0(e)),!e)return new Fu;if(e instanceof Fu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,l=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new Fu(o,u,l,e.opacity)}a(Ixe,"hslConvert");function Txe(e,t,r,n){return arguments.length===1?Ixe(e):new Fu(e,t,r,n??1)}a(Txe,"hsl");function Fu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Fu,"Hsl");M3(Fu,Txe,sH(L3,{brighter(e){return e=e==null?SC:Math.pow(SC,e),new Fu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?B3:Math.pow(B3,e),new Fu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Co(oH(e>=240?e-240:e+120,i,n),oH(e,i,n),oH(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Fu(Cxe(this.h),EC(this.s),EC(this.l),kC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=kC(this.opacity);return`${e===1?"hsl(":"hsla("}${Cxe(this.h)}, ${EC(this.s)*100}%, ${EC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cxe(e){return e=(e||0)%360,e<0?e+360:e}a(Cxe,"clamph");function EC(e){return Math.max(0,Math.min(1,e||0))}a(EC,"clampt");function oH(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(oH,"hsl2rgb");d();d();function cH(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(cH,"basis");function uH(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,u=n<t-1?e[n+2]:2*s-i;return cH((r-n/t)*t,o,i,s,u)}}a(uH,"default");d();function lH(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return cH((r-n/t)*t,i,s,o,u)}}a(lH,"default");d();d();var fH=a(e=>()=>e,"default");function Egt(e,t){return function(r){return e+r*t}}a(Egt,"linear");function Sgt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Sgt,"exponential");function Mxe(e){return(e=+e)==1?CC:function(t,r){return r-t?Sgt(t,r,e):fH(isNaN(t)?r:t)}}a(Mxe,"gamma");function CC(e,t){var r=t-e;return r?Egt(e,r):fH(isNaN(e)?t:e)}a(CC,"nogamma");var IC=a(function e(t){var r=Mxe(t);function n(i,s){var o=r((i=yb(i)).r,(s=yb(s)).r),u=r(i.g,s.g),l=r(i.b,s.b),f=CC(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=l(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function Bxe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=yb(t[o]),n[o]=u.r||0,i[o]=u.g||0,s[o]=u.b||0;return n=e(n),i=e(i),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=i(l),u.b=s(l),u+""}}}a(Bxe,"rgbSpline");var kgt=Bxe(uH),Cgt=Bxe(lH);d();function cc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(cc,"default");d();var dH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hH=new RegExp(dH.source,"g");function Igt(e){return function(){return e}}a(Igt,"zero");function Tgt(e){return function(t){return e(t)+""}}a(Tgt,"one");function TC(e,t){var r=dH.lastIndex=hH.lastIndex=0,n,i,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=dH.exec(e))&&(i=hH.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:cc(n,i)})),r=hH.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?Tgt(l[0].x):Igt(t):(t=l.length,function(f){for(var h=0,p;h<t;++h)u[(p=l[h]).i]=p.x(f);return u.join("")})}a(TC,"default");d();d();d();var Rxe=180/Math.PI,MC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BC(e,t,r,n,i,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Rxe,skewX:Math.atan(l)*Rxe,scaleX:o,scaleY:u}}a(BC,"default");var RC;function Lxe(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?MC:BC(t.a,t.b,t.c,t.d,t.e,t.f)}a(Lxe,"parseCss");function Dxe(e){return e==null?MC:(RC||(RC=document.createElementNS("http://www.w3.org/2000/svg","g")),RC.setAttribute("transform",e),(e=RC.transform.baseVal.consolidate())?(e=e.matrix,BC(e.a,e.b,e.c,e.d,e.e,e.f)):MC)}a(Dxe,"parseSvg");function Nxe(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:cc(f,p)},{i:M-2,x:cc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:cc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function u(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:cc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(u,"skewX");function l(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:cc(f,p)},{i:M-2,x:cc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(l,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),u(f.skewX,h.skewX,p,g),l(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(Nxe,"interpolateTransform");var pH=Nxe(Lxe,"px, ","px)","deg)"),gH=Nxe(Dxe,", ",")",")");d();d();d();d();d();d();d();var mb=0,N3=0,D3=0,qxe=1e3,LC,O3,DC=0,bg=0,NC=0,q3=typeof performance=="object"&&performance.now?performance:Date,Pxe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function F3(){return bg||(Pxe(Mgt),bg=q3.now()+NC)}a(F3,"now");function Mgt(){bg=0}a(Mgt,"clearNow");function P3(){this._call=this._time=this._next=null}a(P3,"Timer");P3.prototype=OC.prototype={constructor:P3,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?F3():+r)+(t==null?0:+t),!this._next&&O3!==this&&(O3?O3._next=this:LC=this,O3=this),this._call=e,this._time=r,yH()},stop:function(){this._call&&(this._call=null,this._time=1/0,yH())}};function OC(e,t,r){var n=new P3;return n.restart(e,t,r),n}a(OC,"timer");function Fxe(){F3(),++mb;for(var e=LC,t;e;)(t=bg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mb}a(Fxe,"timerFlush");function Oxe(){bg=(DC=q3.now())+NC,mb=N3=0;try{Fxe()}finally{mb=0,Rgt(),bg=0}}a(Oxe,"wake");function Bgt(){var e=q3.now(),t=e-DC;t>qxe&&(NC-=t,DC=e)}a(Bgt,"poke");function Rgt(){for(var e,t=LC,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:LC=r);O3=e,yH(n)}a(Rgt,"nap");function yH(e){if(!mb){N3&&(N3=clearTimeout(N3));var t=e-bg;t>24?(e<1/0&&(N3=setTimeout(Oxe,e-q3.now()-NC)),D3&&(D3=clearInterval(D3))):(D3||(DC=q3.now(),D3=setInterval(Bgt,qxe)),mb=1,Pxe(Oxe))}}a(yH,"sleep");d();function U3(e,t,r){var n=new P3;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(U3,"default");var Lgt=xY("start","end","cancel","interrupt"),Dgt=[],Hxe=0,Uxe=1,PC=2,qC=3,Yxe=4,FC=5,Y3=6;function Fh(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Ngt(e,r,{name:t,index:n,group:i,on:Lgt,tween:Dgt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Hxe})}a(Fh,"default");function H3(e,t){var r=Na(e,t);if(r.state>Hxe)throw new Error("too late; already scheduled");return r}a(H3,"init");function hs(e,t){var r=Na(e,t);if(r.state>qC)throw new Error("too late; already running");return r}a(hs,"set");function Na(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Na,"get");function Ngt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=OC(s,0,r.time);function s(f){r.state=Uxe,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==Uxe)return l();for(h in n)if(y=n[h],y.name===r.name){if(y.state===qC)return U3(o);y.state===Yxe?(y.state=Y3,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=Y3,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(U3(function(){r.state===qC&&(r.state=Yxe,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=PC,r.on.call("start",e,e.__data__,r.index,r.group),r.state===PC){for(r.state=qC,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function u(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(l),r.state=FC,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===FC&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}a(u,"tick");function l(){r.state=Y3,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(l,"stop")}a(Ngt,"create");function UC(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>PC&&n.state<FC,n.state=Y3,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a(UC,"default");function mH(e){return this.each(function(){UC(this,e)})}a(mH,"default");d();d();d();d();function Ogt(e,t){var r,n;return function(){var i=hs(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(Ogt,"tweenRemove");function qgt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=hs(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},l=0,f=i.length;l<f;++l)if(i[l].name===t){i[l]=u;break}l===f&&i.push(u)}s.tween=i}}a(qgt,"tweenFunction");function bH(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Na(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?Ogt:qgt)(r,e,t))}a(bH,"default");function bb(e,t,r){var n=e._id;return e.each(function(){var i=hs(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Na(i,n).value[t]}}a(bb,"tweenValue");d();function z3(e,t){var r;return(typeof t=="number"?cc:t instanceof L0?IC:(r=L0(t))?(t=r,IC):TC)(e,t)}a(z3,"default");function Pgt(e){return function(){this.removeAttribute(e)}}a(Pgt,"attrRemove");function Fgt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(Fgt,"attrRemoveNS");function Ugt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(Ugt,"attrConstant");function Ygt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(Ygt,"attrConstantNS");function Hgt(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(Hgt,"attrFunction");function zgt(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(zgt,"attrFunctionNS");function vH(e,t){var r=Xl(e),n=r==="transform"?gH:z3;return this.attrTween(e,typeof t=="function"?(r.local?zgt:Hgt)(r,n,bb(this,"attr."+e,t)):t==null?(r.local?Fgt:Pgt)(r):(r.local?Ygt:Ugt)(r,n,t))}a(vH,"default");d();function Qgt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(Qgt,"attrInterpolate");function Wgt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(Wgt,"attrInterpolateNS");function Vgt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Wgt(e,s)),r}return a(i,"tween"),i._value=t,i}a(Vgt,"attrTweenNS");function jgt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Qgt(e,s)),r}return a(i,"tween"),i._value=t,i}a(jgt,"attrTween");function _H(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Xl(e);return this.tween(r,(n.local?Vgt:jgt)(n,t))}a(_H,"default");d();function Ggt(e,t){return function(){H3(this,e).delay=+t.apply(this,arguments)}}a(Ggt,"delayFunction");function Kgt(e,t){return t=+t,function(){H3(this,e).delay=t}}a(Kgt,"delayConstant");function xH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ggt:Kgt)(t,e)):Na(this.node(),t).delay}a(xH,"default");d();function $gt(e,t){return function(){hs(this,e).duration=+t.apply(this,arguments)}}a($gt,"durationFunction");function Xgt(e,t){return t=+t,function(){hs(this,e).duration=t}}a(Xgt,"durationConstant");function wH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$gt:Xgt)(t,e)):Na(this.node(),t).duration}a(wH,"default");d();function Jgt(e,t){if(typeof t!="function")throw new Error;return function(){hs(this,e).ease=t}}a(Jgt,"easeConstant");function AH(e){var t=this._id;return arguments.length?this.each(Jgt(t,e)):Na(this.node(),t).ease}a(AH,"default");d();function Zgt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;hs(this,e).ease=r}}a(Zgt,"easeVarying");function EH(e){if(typeof e!="function")throw new Error;return this.each(Zgt(this._id,e))}a(EH,"default");d();function SH(e){typeof e!="function"&&(e=pb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new to(n,this._parents,this._name,this._id)}a(SH,"default");d();function kH(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),u=0;u<s;++u)for(var l=t[u],f=r[u],h=l.length,p=o[u]=new Array(h),g,y=0;y<h;++y)(g=l[y]||f[y])&&(p[y]=g);for(;u<n;++u)o[u]=t[u];return new to(o,this._parents,this._name,this._id)}a(kH,"default");d();function eyt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(eyt,"start");function tyt(e,t,r){var n,i,s=eyt(t)?H3:hs;return function(){var o=s(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}a(tyt,"onFunction");function CH(e,t){var r=this._id;return arguments.length<2?Na(this.node(),r).on.on(e):this.each(tyt(r,e,t))}a(CH,"default");d();function ryt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(ryt,"removeFunction");function IH(){return this.on("end.remove",ryt(this._id))}a(IH,"default");d();function TH(e){var t=this._name,r=this._id;typeof e!="function"&&(e=B0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],l=u.length,f=s[o]=new Array(l),h,p,g=0;g<l;++g)(h=u[g])&&(p=e.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Fh(f[g],t,r,g,f,Na(h,r)));return new to(s,this._parents,t,r)}a(TH,"default");d();function MH(e){var t=this._name,r=this._id;typeof e!="function"&&(e=db(e));for(var n=this._groups,i=n.length,s=[],o=[],u=0;u<i;++u)for(var l=n[u],f=l.length,h,p=0;p<f;++p)if(h=l[p]){for(var g=e.call(h,h.__data__,p,l),y,E=Na(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Fh(y,t,r,M,g,E);s.push(g),o.push(h)}return new to(s,o,t,r)}a(MH,"default");d();var nyt=Ph.prototype.constructor;function BH(){return new nyt(this._groups,this._parents)}a(BH,"default");d();function iyt(e,t){var r,n,i;return function(){var s=R0(this,e),o=(this.style.removeProperty(e),R0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(iyt,"styleNull");function zxe(e){return function(){this.style.removeProperty(e)}}a(zxe,"styleRemove");function ayt(e,t,r){var n,i=r+"",s;return function(){var o=R0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(ayt,"styleConstant");function syt(e,t,r){var n,i,s;return function(){var o=R0(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),R0(this,e))),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u))}}a(syt,"styleFunction");function oyt(e,t){var r,n,i,s="style."+t,o="end."+s,u;return function(){var l=hs(this,e),f=l.on,h=l.value[s]==null?u||(u=zxe(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),l.on=n}}a(oyt,"styleMaybeRemove");function RH(e,t,r){var n=(e+="")=="transform"?pH:z3;return t==null?this.styleTween(e,iyt(e,n)).on("end.style."+e,zxe(e)):typeof t=="function"?this.styleTween(e,syt(e,n,bb(this,"style."+e,t))).each(oyt(this._id,e)):this.styleTween(e,ayt(e,n,t),r).on("end.style."+e,null)}a(RH,"default");d();function cyt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(cyt,"styleInterpolate");function uyt(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&cyt(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(uyt,"styleTween");function LH(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,uyt(e,t,r??""))}a(LH,"default");d();function lyt(e){return function(){this.textContent=e}}a(lyt,"textConstant");function fyt(e){return function(){var t=e(this);this.textContent=t??""}}a(fyt,"textFunction");function DH(e){return this.tween("text",typeof e=="function"?fyt(bb(this,"text",e)):lyt(e==null?"":e+""))}a(DH,"default");d();function hyt(e){return function(t){this.textContent=e.call(this,t)}}a(hyt,"textInterpolate");function dyt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&hyt(i)),t}return a(n,"tween"),n._value=e,n}a(dyt,"textTween");function NH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dyt(e))}a(NH,"default");d();function OH(){for(var e=this._name,t=this._id,r=YC(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var h=Na(l,t);Fh(l,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new to(n,this._parents,e,r)}a(OH,"default");d();function qH(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var f=hs(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),f.on=t}),i===0&&s()})}a(qH,"default");var pyt=0;function to(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(to,"Transition");function Qxe(e){return Ph().transition(e)}a(Qxe,"transition");function YC(){return++pyt}a(YC,"newId");var Uh=Ph.prototype;to.prototype=Qxe.prototype={constructor:to,select:TH,selectAll:MH,selectChild:Uh.selectChild,selectChildren:Uh.selectChildren,filter:SH,merge:kH,selection:BH,transition:OH,call:Uh.call,nodes:Uh.nodes,node:Uh.node,size:Uh.size,empty:Uh.empty,each:Uh.each,on:CH,attr:vH,attrTween:_H,style:RH,styleTween:LH,text:DH,textTween:NH,remove:IH,tween:bH,delay:xH,duration:wH,ease:AH,easeVarying:EH,end:qH,[Symbol.iterator]:Uh[Symbol.iterator]};d();d();function HC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(HC,"cubicInOut");var gyt={time:null,delay:0,duration:250,ease:HC};function yyt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(yyt,"inherit");function PH(e){var t,r;e instanceof to?(t=e._id,e=e._name):(t=YC(),(r=gyt).time=F3(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&Fh(l,e,t,f,o,r||yyt(l,t));return new to(n,this._parents,e,t)}a(PH,"default");Ph.prototype.interrupt=mH;Ph.prototype.transition=PH;d();d();d();var{abs:s8r,max:o8r,min:c8r}=Math;function Wxe(e){return[+e[0],+e[1]]}a(Wxe,"number1");function myt(e){return[Wxe(e[0]),Wxe(e[1])]}a(myt,"number2");var u8r={name:"x",handles:["w","e"].map(FH),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},l8r={name:"y",handles:["n","s"].map(FH),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},f8r={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(FH),input:function(e){return e==null?null:myt(e)},output:function(e){return e}};function FH(e){return{type:e}}a(FH,"type");d();d();d();function D0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(D0,"default");function vb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(vb,"extend");function N0(){}a(N0,"Color");var Q3=.7,WC=1/Q3,_b="\\s*([+-]?\\d+)\\s*",W3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",byt=/^#([0-9a-f]{3,8})$/,vyt=new RegExp(`^rgb\\(${_b},${_b},${_b}\\)$`),_yt=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),xyt=new RegExp(`^rgba\\(${_b},${_b},${_b},${W3}\\)$`),wyt=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${W3}\\)$`),Ayt=new RegExp(`^hsl\\(${W3},${Zl},${Zl}\\)$`),Eyt=new RegExp(`^hsla\\(${W3},${Zl},${Zl},${W3}\\)$`),Vxe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D0(N0,O0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jxe,formatHex:jxe,formatHex8:Syt,formatHsl:kyt,formatRgb:Gxe,toString:Gxe});function jxe(){return this.rgb().formatHex()}a(jxe,"color_formatHex");function Syt(){return this.rgb().formatHex8()}a(Syt,"color_formatHex8");function kyt(){return ewe(this).formatHsl()}a(kyt,"color_formatHsl");function Gxe(){return this.rgb().formatRgb()}a(Gxe,"color_formatRgb");function O0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=byt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Kxe(t):r===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vyt.exec(e))?new ds(t[1],t[2],t[3],1):(t=_yt.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xyt.exec(e))?zC(t[1],t[2],t[3],t[4]):(t=wyt.exec(e))?zC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ayt.exec(e))?Jxe(t[1],t[2]/100,t[3]/100,1):(t=Eyt.exec(e))?Jxe(t[1],t[2]/100,t[3]/100,t[4]):Vxe.hasOwnProperty(e)?Kxe(Vxe[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}a(O0,"color");function Kxe(e){return new ds(e>>16&255,e>>8&255,e&255,1)}a(Kxe,"rgbn");function zC(e,t,r,n){return n<=0&&(e=t=r=NaN),new ds(e,t,r,n)}a(zC,"rgba");function YH(e){return e instanceof N0||(e=O0(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}a(YH,"rgbConvert");function xb(e,t,r,n){return arguments.length===1?YH(e):new ds(e,t,r,n??1)}a(xb,"rgb");function ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(ds,"Rgb");D0(ds,xb,vb(N0,{brighter(e){return e=e==null?WC:Math.pow(WC,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Q3:Math.pow(Q3,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(_g(this.r),_g(this.g),_g(this.b),VC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$xe,formatHex:$xe,formatHex8:Cyt,formatRgb:Xxe,toString:Xxe}));function $xe(){return`#${vg(this.r)}${vg(this.g)}${vg(this.b)}`}a($xe,"rgb_formatHex");function Cyt(){return`#${vg(this.r)}${vg(this.g)}${vg(this.b)}${vg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Cyt,"rgb_formatHex8");function Xxe(){let e=VC(this.opacity);return`${e===1?"rgb(":"rgba("}${_g(this.r)}, ${_g(this.g)}, ${_g(this.b)}${e===1?")":`, ${e})`}`}a(Xxe,"rgb_formatRgb");function VC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(VC,"clampa");function _g(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(_g,"clampi");function vg(e){return e=_g(e),(e<16?"0":"")+e.toString(16)}a(vg,"hex");function Jxe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Uu(e,t,r,n)}a(Jxe,"hsla");function ewe(e){if(e instanceof Uu)return new Uu(e.h,e.s,e.l,e.opacity);if(e instanceof N0||(e=O0(e)),!e)return new Uu;if(e instanceof Uu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,l=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new Uu(o,u,l,e.opacity)}a(ewe,"hslConvert");function twe(e,t,r,n){return arguments.length===1?ewe(e):new Uu(e,t,r,n??1)}a(twe,"hsl");function Uu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Uu,"Hsl");D0(Uu,twe,vb(N0,{brighter(e){return e=e==null?WC:Math.pow(WC,e),new Uu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Q3:Math.pow(Q3,e),new Uu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ds(UH(e>=240?e-240:e+120,i,n),UH(e,i,n),UH(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Uu(Zxe(this.h),QC(this.s),QC(this.l),VC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=VC(this.opacity);return`${e===1?"hsl(":"hsla("}${Zxe(this.h)}, ${QC(this.s)*100}%, ${QC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zxe(e){return e=(e||0)%360,e<0?e+360:e}a(Zxe,"clamph");function QC(e){return Math.max(0,Math.min(1,e||0))}a(QC,"clampt");function UH(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(UH,"hsl2rgb");d();d();var rwe=Math.PI/180,nwe=180/Math.PI;var jC=18,iwe=.96422,awe=1,swe=.82521,owe=4/29,wb=6/29,cwe=3*wb*wb,Iyt=wb*wb*wb;function uwe(e){if(e instanceof ef)return new ef(e.l,e.a,e.b,e.opacity);if(e instanceof Yh)return lwe(e);e instanceof ds||(e=YH(e));var t=WH(e.r),r=WH(e.g),n=WH(e.b),i=HH((.2225045*t+.7168786*r+.0606169*n)/awe),s,o;return t===r&&r===n?s=o=i:(s=HH((.4360747*t+.3850649*r+.1430804*n)/iwe),o=HH((.0139322*t+.0971045*r+.7141733*n)/swe)),new ef(116*i-16,500*(s-i),200*(i-o),e.opacity)}a(uwe,"labConvert");function VH(e,t,r,n){return arguments.length===1?uwe(e):new ef(e,t,r,n??1)}a(VH,"lab");function ef(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}a(ef,"Lab");D0(ef,VH,vb(N0,{brighter(e){return new ef(this.l+jC*(e??1),this.a,this.b,this.opacity)},darker(e){return new ef(this.l-jC*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=iwe*zH(t),e=awe*zH(e),r=swe*zH(r),new ds(QH(3.1338561*t-1.6168667*e-.4906146*r),QH(-.9787684*t+1.9161415*e+.033454*r),QH(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function HH(e){return e>Iyt?Math.pow(e,1/3):e/cwe+owe}a(HH,"xyz2lab");function zH(e){return e>wb?e*e*e:cwe*(e-owe)}a(zH,"lab2xyz");function QH(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}a(QH,"lrgb2rgb");function WH(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}a(WH,"rgb2lrgb");function Tyt(e){if(e instanceof Yh)return new Yh(e.h,e.c,e.l,e.opacity);if(e instanceof ef||(e=uwe(e)),e.a===0&&e.b===0)return new Yh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*nwe;return new Yh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}a(Tyt,"hclConvert");function V3(e,t,r,n){return arguments.length===1?Tyt(e):new Yh(e,t,r,n??1)}a(V3,"hcl");function Yh(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}a(Yh,"Hcl");function lwe(e){if(isNaN(e.h))return new ef(e.l,0,0,e.opacity);var t=e.h*rwe;return new ef(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}a(lwe,"hcl2lab");D0(Yh,V3,vb(N0,{brighter(e){return new Yh(this.h,this.c,this.l+jC*(e??1),this.opacity)},darker(e){return new Yh(this.h,this.c,this.l-jC*(e??1),this.opacity)},rgb(){return lwe(this).rgb()}}));d();d();var Myt={value:()=>{}};function hwe(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new GC(r)}a(hwe,"dispatch");function GC(e){this._=e}a(GC,"Dispatch");function Byt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(Byt,"parseTypenames");GC.prototype=hwe.prototype={constructor:GC,on:function(e,t){var r=this._,n=Byt(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=Ryt(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=fwe(r[i],e.name,t);else if(t==null)for(i in r)r[i]=fwe(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new GC(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function Ryt(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(Ryt,"get");function fwe(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Myt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(fwe,"set");var jH=hwe;d();d();d();d();var KC="http://www.w3.org/1999/xhtml",GH={svg:"http://www.w3.org/2000/svg",xhtml:KC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tf(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),GH.hasOwnProperty(t)?{space:GH[t],local:e}:e}a(tf,"default");function Lyt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===KC&&t.documentElement.namespaceURI===KC?t.createElement(e):t.createElementNS(r,e)}}a(Lyt,"creatorInherit");function Dyt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(Dyt,"creatorFixed");function j3(e){var t=tf(e);return(t.local?Dyt:Lyt)(t)}a(j3,"default");d();d();d();d();function Nyt(){}a(Nyt,"none");function q0(e){return e==null?Nyt:function(){return this.querySelector(e)}}a(q0,"default");function KH(e){typeof e!="function"&&(e=q0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=new Array(o),l,f,h=0;h<o;++h)(l=s[h])&&(f=e.call(l,l.__data__,h,s))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f);return new Ti(n,this._parents)}a(KH,"default");d();d();function G3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(G3,"array");d();function Oyt(){return[]}a(Oyt,"empty");function Ab(e){return e==null?Oyt:function(){return this.querySelectorAll(e)}}a(Ab,"default");function qyt(e){return function(){return G3(e.apply(this,arguments))}}a(qyt,"arrayAll");function $H(e){typeof e=="function"?e=qyt(e):e=Ab(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(n.push(e.call(l,l.__data__,f,o)),i.push(l));return new Ti(n,i)}a($H,"default");d();d();function Eb(e){return function(){return this.matches(e)}}a(Eb,"default");function $C(e){return function(t){return t.matches(e)}}a($C,"childMatcher");var Pyt=Array.prototype.find;function Fyt(e){return function(){return Pyt.call(this.children,e)}}a(Fyt,"childFind");function Uyt(){return this.firstElementChild}a(Uyt,"childFirst");function XH(e){return this.select(e==null?Uyt:Fyt(typeof e=="function"?e:$C(e)))}a(XH,"default");d();var Yyt=Array.prototype.filter;function Hyt(){return Array.from(this.children)}a(Hyt,"children");function zyt(e){return function(){return Yyt.call(this.children,e)}}a(zyt,"childrenFilter");function JH(e){return this.selectAll(e==null?Hyt:zyt(typeof e=="function"?e:$C(e)))}a(JH,"default");d();function ZH(e){typeof e!="function"&&(e=Eb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new Ti(n,this._parents)}a(ZH,"default");d();d();d();function K3(e){return new Array(e.length)}a(K3,"default");function ez(){return new Ti(this._enter||this._groups.map(K3),this._parents)}a(ez,"default");function $3(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a($3,"EnterNode");$3.prototype={constructor:$3,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function tz(e){return function(){return e}}a(tz,"default");function Qyt(e,t,r,n,i,s){for(var o=0,u,l=t.length,f=s.length;o<f;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new $3(e,s[o]);for(;o<l;++o)(u=t[o])&&(i[o]=u)}a(Qyt,"bindIndex");function Wyt(e,t,r,n,i,s,o){var u,l,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(u=0;u<h;++u)(l=t[u])&&(g[u]=y=o.call(l,l.__data__,u,t)+"",f.has(y)?i[u]=l:f.set(y,l));for(u=0;u<p;++u)y=o.call(e,s[u],u,s)+"",(l=f.get(y))?(n[u]=l,l.__data__=s[u],f.delete(y)):r[u]=new $3(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&f.get(g[u])===l&&(i[u]=l)}a(Wyt,"bindKey");function Vyt(e){return e.__data__}a(Vyt,"datum");function rz(e,t){if(!arguments.length)return Array.from(this,Vyt);var r=t?Wyt:Qyt,n=this._parents,i=this._groups;typeof e!="function"&&(e=tz(e));for(var s=i.length,o=new Array(s),u=new Array(s),l=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=jyt(e.call(h,h&&h.__data__,f,n)),E=y.length,M=u[f]=new Array(E),z=o[f]=new Array(E),P=l[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new Ti(o,n),o._enter=u,o._exit=l,o}a(rz,"default");function jyt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(jyt,"arraylike");d();function nz(){return new Ti(this._exit||this._groups.map(K3),this._parents)}a(nz,"default");d();function iz(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(iz,"default");d();function az(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),u=new Array(i),l=0;l<o;++l)for(var f=r[l],h=n[l],p=f.length,g=u[l]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;l<i;++l)u[l]=r[l];return new Ti(u,this._parents)}a(az,"default");d();function sz(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(sz,"default");d();function oz(e){e||(e=Gyt);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=i[s]=new Array(u),f,h=0;h<u;++h)(f=o[h])&&(l[h]=f);l.sort(t)}return new Ti(i,this._parents).order()}a(oz,"default");function Gyt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(Gyt,"ascending");d();function cz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(cz,"default");d();function uz(){return Array.from(this)}a(uz,"default");d();function lz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(lz,"default");d();function fz(){let e=0;for(let t of this)++e;return e}a(fz,"default");d();function hz(){return!this.node()}a(hz,"default");d();function dz(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,u;s<o;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}a(dz,"default");d();function Kyt(e){return function(){this.removeAttribute(e)}}a(Kyt,"attrRemove");function $yt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a($yt,"attrRemoveNS");function Xyt(e,t){return function(){this.setAttribute(e,t)}}a(Xyt,"attrConstant");function Jyt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a(Jyt,"attrConstantNS");function Zyt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(Zyt,"attrFunction");function emt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(emt,"attrFunctionNS");function pz(e,t){var r=tf(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?$yt:Kyt:typeof t=="function"?r.local?emt:Zyt:r.local?Jyt:Xyt)(r,t))}a(pz,"default");d();d();function X3(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(X3,"default");function tmt(e){return function(){this.style.removeProperty(e)}}a(tmt,"styleRemove");function rmt(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(rmt,"styleConstant");function nmt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(nmt,"styleFunction");function gz(e,t,r){return arguments.length>1?this.each((t==null?tmt:typeof t=="function"?nmt:rmt)(e,t,r??"")):P0(this.node(),e)}a(gz,"default");function P0(e,t){return e.style.getPropertyValue(t)||X3(e).getComputedStyle(e,null).getPropertyValue(t)}a(P0,"styleValue");d();function imt(e){return function(){delete this[e]}}a(imt,"propertyRemove");function amt(e,t){return function(){this[e]=t}}a(amt,"propertyConstant");function smt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(smt,"propertyFunction");function yz(e,t){return arguments.length>1?this.each((t==null?imt:typeof t=="function"?smt:amt)(e,t)):this.node()[e]}a(yz,"default");d();function dwe(e){return e.trim().split(/^|\s+/)}a(dwe,"classArray");function mz(e){return e.classList||new pwe(e)}a(mz,"classList");function pwe(e){this._node=e,this._names=dwe(e.getAttribute("class")||"")}a(pwe,"ClassList");pwe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gwe(e,t){for(var r=mz(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(gwe,"classedAdd");function ywe(e,t){for(var r=mz(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(ywe,"classedRemove");function omt(e){return function(){gwe(this,e)}}a(omt,"classedTrue");function cmt(e){return function(){ywe(this,e)}}a(cmt,"classedFalse");function umt(e,t){return function(){(t.apply(this,arguments)?gwe:ywe)(this,e)}}a(umt,"classedFunction");function bz(e,t){var r=dwe(e+"");if(arguments.length<2){for(var n=mz(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?umt:t?omt:cmt)(r,t))}a(bz,"default");d();function lmt(){this.textContent=""}a(lmt,"textRemove");function fmt(e){return function(){this.textContent=e}}a(fmt,"textConstant");function hmt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(hmt,"textFunction");function vz(e){return arguments.length?this.each(e==null?lmt:(typeof e=="function"?hmt:fmt)(e)):this.node().textContent}a(vz,"default");d();function dmt(){this.innerHTML=""}a(dmt,"htmlRemove");function pmt(e){return function(){this.innerHTML=e}}a(pmt,"htmlConstant");function gmt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a(gmt,"htmlFunction");function _z(e){return arguments.length?this.each(e==null?dmt:(typeof e=="function"?gmt:pmt)(e)):this.node().innerHTML}a(_z,"default");d();function ymt(){this.nextSibling&&this.parentNode.appendChild(this)}a(ymt,"raise");function xz(){return this.each(ymt)}a(xz,"default");d();function mmt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(mmt,"lower");function wz(){return this.each(mmt)}a(wz,"default");d();function Az(e){var t=typeof e=="function"?e:j3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a(Az,"default");d();function bmt(){return null}a(bmt,"constantNull");function Ez(e,t){var r=typeof e=="function"?e:j3(e),n=t==null?bmt:typeof t=="function"?t:q0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(Ez,"default");d();function vmt(){var e=this.parentNode;e&&e.removeChild(this)}a(vmt,"remove");function Sz(){return this.each(vmt)}a(Sz,"default");d();function _mt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(_mt,"selection_cloneShallow");function xmt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(xmt,"selection_cloneDeep");function kz(e){return this.select(e?xmt:_mt)}a(kz,"default");d();function Cz(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(Cz,"default");d();function wmt(e){return function(t){e.call(this,t,this.__data__)}}a(wmt,"contextListener");function Amt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(Amt,"parseTypenames");function Emt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(Emt,"onRemove");function Smt(e,t,r){return function(){var n=this.__on,i,s=wmt(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(Smt,"onAdd");function Iz(e,t,r){var n=Amt(e+""),i,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,h;l<f;++l)for(i=0,h=u[l];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?Smt:Emt,i=0;i<s;++i)this.each(u(n[i],t,r));return this}a(Iz,"default");d();function mwe(e,t,r){var n=X3(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(mwe,"dispatchEvent");function kmt(e,t){return function(){return mwe(this,e,t)}}a(kmt,"dispatchConstant");function Cmt(e,t){return function(){return mwe(this,e,t.apply(this,arguments))}}a(Cmt,"dispatchFunction");function Tz(e,t){return this.each((typeof t=="function"?Cmt:kmt)(e,t))}a(Tz,"default");d();function*Mz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(Mz,"default");var J3=[null];function Ti(e,t){this._groups=e,this._parents=t}a(Ti,"Selection");function bwe(){return new Ti([[document.documentElement]],J3)}a(bwe,"selection");function Imt(){return this}a(Imt,"selection_selection");Ti.prototype=bwe.prototype={constructor:Ti,select:KH,selectAll:$H,selectChild:XH,selectChildren:JH,filter:ZH,data:rz,enter:ez,exit:nz,join:iz,merge:az,selection:Imt,order:sz,sort:oz,call:cz,nodes:uz,node:lz,size:fz,empty:hz,each:dz,attr:pz,style:gz,property:yz,classed:bz,text:vz,html:_z,raise:xz,lower:wz,append:Az,insert:Ez,remove:Sz,clone:kz,datum:Cz,on:Iz,dispatch:Tz,[Symbol.iterator]:Mz};var Hh=bwe;function Zt(e){return typeof e=="string"?new Ti([[document.querySelector(e)]],[document.documentElement]):new Ti([[e]],J3)}a(Zt,"default");d();function Sb(e){return typeof e=="string"?new Ti([document.querySelectorAll(e)],[document.documentElement]):new Ti([G3(e)],J3)}a(Sb,"default");d();d();function XC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(XC,"cubicInOut");d();d();d();function Bz(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(Bz,"basis");function Rz(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,u=n<t-1?e[n+2]:2*s-i;return Bz((r-n/t)*t,o,i,s,u)}}a(Rz,"default");d();function Lz(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return Bz((r-n/t)*t,i,s,o,u)}}a(Lz,"default");d();d();var JC=a(e=>()=>e,"default");function vwe(e,t){return function(r){return e+r*t}}a(vwe,"linear");function Tmt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Tmt,"exponential");function _we(e,t){var r=t-e;return r?vwe(e,r>180||r<-180?r-360*Math.round(r/360):r):JC(isNaN(e)?t:e)}a(_we,"hue");function xwe(e){return(e=+e)==1?zh:function(t,r){return r-t?Tmt(t,r,e):JC(isNaN(t)?r:t)}}a(xwe,"gamma");function zh(e,t){var r=t-e;return r?vwe(e,r):JC(isNaN(e)?t:e)}a(zh,"nogamma");var ZC=a(function e(t){var r=xwe(t);function n(i,s){var o=r((i=xb(i)).r,(s=xb(s)).r),u=r(i.g,s.g),l=r(i.b,s.b),f=zh(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=l(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function wwe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=xb(t[o]),n[o]=u.r||0,i[o]=u.g||0,s[o]=u.b||0;return n=e(n),i=e(i),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=i(l),u.b=s(l),u+""}}}a(wwe,"rgbSpline");var Mmt=wwe(Rz),Bmt=wwe(Lz);d();function uc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(uc,"default");d();var Nz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dz=new RegExp(Nz.source,"g");function Rmt(e){return function(){return e}}a(Rmt,"zero");function Lmt(e){return function(t){return e(t)+""}}a(Lmt,"one");function e9(e,t){var r=Nz.lastIndex=Dz.lastIndex=0,n,i,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=Nz.exec(e))&&(i=Dz.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:uc(n,i)})),r=Dz.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?Lmt(l[0].x):Rmt(t):(t=l.length,function(f){for(var h=0,p;h<t;++h)u[(p=l[h]).i]=p.x(f);return u.join("")})}a(e9,"default");d();d();d();var Awe=180/Math.PI,t9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r9(e,t,r,n,i,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Awe,skewX:Math.atan(l)*Awe,scaleX:o,scaleY:u}}a(r9,"default");var n9;function Ewe(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?t9:r9(t.a,t.b,t.c,t.d,t.e,t.f)}a(Ewe,"parseCss");function Swe(e){return e==null?t9:(n9||(n9=document.createElementNS("http://www.w3.org/2000/svg","g")),n9.setAttribute("transform",e),(e=n9.transform.baseVal.consolidate())?(e=e.matrix,r9(e.a,e.b,e.c,e.d,e.e,e.f)):t9)}a(Swe,"parseSvg");function kwe(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:uc(f,p)},{i:M-2,x:uc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:uc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function u(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:uc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(u,"skewX");function l(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:uc(f,p)},{i:M-2,x:uc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(l,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),u(f.skewX,h.skewX,p,g),l(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(kwe,"interpolateTransform");var Oz=kwe(Ewe,"px, ","px)","deg)"),qz=kwe(Swe,", ",")",")");d();function Cwe(e){return function(t,r){var n=e((t=V3(t)).h,(r=V3(r)).h),i=zh(t.c,r.c),s=zh(t.l,r.l),o=zh(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=i(u),t.l=s(u),t.opacity=o(u),t+""}}}a(Cwe,"hcl");var Pz=Cwe(_we),Dmt=Cwe(zh);d();d();d();d();function xg(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}a(xg,"ascending");d();d();function Fz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}a(Fz,"descending");function wg(e){let t,r,n;e.length!==2?(t=xg,r=a((u,l)=>xg(e(u),l),"compare2"),n=a((u,l)=>e(u)-l,"delta")):(t=e===xg||e===Fz?e:Nmt,r=e,n=e);function i(u,l,f=0,h=u.length){if(f<h){if(t(l,l)!==0)return h;do{let p=f+h>>>1;r(u[p],l)<0?f=p+1:h=p}while(f<h)}return f}a(i,"left");function s(u,l,f=0,h=u.length){if(f<h){if(t(l,l)!==0)return h;do{let p=f+h>>>1;r(u[p],l)<=0?f=p+1:h=p}while(f<h)}return f}a(s,"right");function o(u,l,f=0,h=u.length){let p=i(u,l,f,h-1);return p>f&&n(u[p-1],l)>-n(u[p],l)?p-1:p}return a(o,"center"),{left:i,center:o,right:s}}a(wg,"bisector");function Nmt(){return 0}a(Nmt,"zero");d();function Uz(e){return e===null?NaN:+e}a(Uz,"number");var Iwe=wg(xg),Twe=Iwe.right,Omt=Iwe.left,qmt=wg(Uz).center,Yz=Twe;d();var Hz=Math.sqrt(50),zz=Math.sqrt(10),Qz=Math.sqrt(2);function i9(e,t,r){var n,i=-1,s,o,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(u=a9(e,t,r))===0||!isFinite(u))return[];if(u>0){let l=Math.round(e/u),f=Math.round(t/u);for(l*u<e&&++l,f*u>t&&--f,o=new Array(s=f-l+1);++i<s;)o[i]=(l+i)*u}else{u=-u;let l=Math.round(e*u),f=Math.round(t*u);for(l/u<e&&++l,f/u>t&&--f,o=new Array(s=f-l+1);++i<s;)o[i]=(l+i)/u}return n&&o.reverse(),o}a(i9,"ticks");function a9(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,i);return i>=0?(s>=Hz?10:s>=zz?5:s>=Qz?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=Hz?10:s>=zz?5:s>=Qz?2:1)}a(a9,"tickIncrement");function kb(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/i;return s>=Hz?i*=10:s>=zz?i*=5:s>=Qz&&(i*=2),t<e?-i:i}a(kb,"tickStep");d();function Cb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}a(Cb,"initRange");d();var Wz=Symbol("implicit");function Z3(){var e=new gg,t=[],r=[],n=Wz;function i(s){let o=e.get(s);if(o===void 0){if(n!==Wz)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a(i,"scale"),i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new gg;for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Z3(t,r).unknown(n)},Cb.apply(i,arguments),i}a(Z3,"ordinal");d();d();d();d();d();d();d();function e4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(e4,"default");function Vz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(Vz,"extend");function n4(){}a(n4,"Color");var t4=.7,c9=1/t4,Ib="\\s*([+-]?\\d+)\\s*",r4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pmt=/^#([0-9a-f]{3,8})$/,Fmt=new RegExp(`^rgb\\(${Ib},${Ib},${Ib}\\)$`),Umt=new RegExp(`^rgb\\(${rf},${rf},${rf}\\)$`),Ymt=new RegExp(`^rgba\\(${Ib},${Ib},${Ib},${r4}\\)$`),Hmt=new RegExp(`^rgba\\(${rf},${rf},${rf},${r4}\\)$`),zmt=new RegExp(`^hsl\\(${r4},${rf},${rf}\\)$`),Qmt=new RegExp(`^hsla\\(${r4},${rf},${rf},${r4}\\)$`),Mwe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e4(n4,F0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bwe,formatHex:Bwe,formatHex8:Wmt,formatHsl:Vmt,formatRgb:Rwe,toString:Rwe});function Bwe(){return this.rgb().formatHex()}a(Bwe,"color_formatHex");function Wmt(){return this.rgb().formatHex8()}a(Wmt,"color_formatHex8");function Vmt(){return Pwe(this).formatHsl()}a(Vmt,"color_formatHsl");function Rwe(){return this.rgb().formatRgb()}a(Rwe,"color_formatRgb");function F0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pmt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lwe(t):r===3?new Io(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?s9(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?s9(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fmt.exec(e))?new Io(t[1],t[2],t[3],1):(t=Umt.exec(e))?new Io(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ymt.exec(e))?s9(t[1],t[2],t[3],t[4]):(t=Hmt.exec(e))?s9(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zmt.exec(e))?Owe(t[1],t[2]/100,t[3]/100,1):(t=Qmt.exec(e))?Owe(t[1],t[2]/100,t[3]/100,t[4]):Mwe.hasOwnProperty(e)?Lwe(Mwe[e]):e==="transparent"?new Io(NaN,NaN,NaN,0):null}a(F0,"color");function Lwe(e){return new Io(e>>16&255,e>>8&255,e&255,1)}a(Lwe,"rgbn");function s9(e,t,r,n){return n<=0&&(e=t=r=NaN),new Io(e,t,r,n)}a(s9,"rgba");function jmt(e){return e instanceof n4||(e=F0(e)),e?(e=e.rgb(),new Io(e.r,e.g,e.b,e.opacity)):new Io}a(jmt,"rgbConvert");function Tb(e,t,r,n){return arguments.length===1?jmt(e):new Io(e,t,r,n??1)}a(Tb,"rgb");function Io(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(Io,"Rgb");e4(Io,Tb,Vz(n4,{brighter(e){return e=e==null?c9:Math.pow(c9,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?t4:Math.pow(t4,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Io(Eg(this.r),Eg(this.g),Eg(this.b),u9(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dwe,formatHex:Dwe,formatHex8:Gmt,formatRgb:Nwe,toString:Nwe}));function Dwe(){return`#${Ag(this.r)}${Ag(this.g)}${Ag(this.b)}`}a(Dwe,"rgb_formatHex");function Gmt(){return`#${Ag(this.r)}${Ag(this.g)}${Ag(this.b)}${Ag((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Gmt,"rgb_formatHex8");function Nwe(){let e=u9(this.opacity);return`${e===1?"rgb(":"rgba("}${Eg(this.r)}, ${Eg(this.g)}, ${Eg(this.b)}${e===1?")":`, ${e})`}`}a(Nwe,"rgb_formatRgb");function u9(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(u9,"clampa");function Eg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(Eg,"clampi");function Ag(e){return e=Eg(e),(e<16?"0":"")+e.toString(16)}a(Ag,"hex");function Owe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yu(e,t,r,n)}a(Owe,"hsla");function Pwe(e){if(e instanceof Yu)return new Yu(e.h,e.s,e.l,e.opacity);if(e instanceof n4||(e=F0(e)),!e)return new Yu;if(e instanceof Yu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,l=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new Yu(o,u,l,e.opacity)}a(Pwe,"hslConvert");function Fwe(e,t,r,n){return arguments.length===1?Pwe(e):new Yu(e,t,r,n??1)}a(Fwe,"hsl");function Yu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Yu,"Hsl");e4(Yu,Fwe,Vz(n4,{brighter(e){return e=e==null?c9:Math.pow(c9,e),new Yu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?t4:Math.pow(t4,e),new Yu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Io(jz(e>=240?e-240:e+120,i,n),jz(e,i,n),jz(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yu(qwe(this.h),o9(this.s),o9(this.l),u9(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=u9(this.opacity);return`${e===1?"hsl(":"hsla("}${qwe(this.h)}, ${o9(this.s)*100}%, ${o9(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qwe(e){return e=(e||0)%360,e<0?e+360:e}a(qwe,"clamph");function o9(e){return Math.max(0,Math.min(1,e||0))}a(o9,"clampt");function jz(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(jz,"hsl2rgb");d();d();function Gz(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(Gz,"basis");function Kz(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,u=n<t-1?e[n+2]:2*s-i;return Gz((r-n/t)*t,o,i,s,u)}}a(Kz,"default");d();function $z(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return Gz((r-n/t)*t,i,s,o,u)}}a($z,"default");d();d();var i4=a(e=>()=>e,"default");function Kmt(e,t){return function(r){return e+r*t}}a(Kmt,"linear");function $mt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a($mt,"exponential");function Uwe(e){return(e=+e)==1?l9:function(t,r){return r-t?$mt(t,r,e):i4(isNaN(t)?r:t)}}a(Uwe,"gamma");function l9(e,t){var r=t-e;return r?Kmt(e,r):i4(isNaN(e)?t:e)}a(l9,"nogamma");var Xz=a(function e(t){var r=Uwe(t);function n(i,s){var o=r((i=Tb(i)).r,(s=Tb(s)).r),u=r(i.g,s.g),l=r(i.b,s.b),f=l9(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=l(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function Ywe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=Tb(t[o]),n[o]=u.r||0,i[o]=u.g||0,s[o]=u.b||0;return n=e(n),i=e(i),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=i(l),u.b=s(l),u+""}}}a(Ywe,"rgbSpline");var lIr=Ywe(Kz),fIr=Ywe($z);d();d();function Jz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}a(Jz,"default");function Hwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}a(Hwe,"isNumberArray");function zwe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=U0(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}a(zwe,"genericArray");d();function Zz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}a(Zz,"default");d();function Qh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(Qh,"default");d();function eQ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=U0(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}a(eQ,"default");d();var rQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tQ=new RegExp(rQ.source,"g");function Xmt(e){return function(){return e}}a(Xmt,"zero");function Jmt(e){return function(t){return e(t)+""}}a(Jmt,"one");function nQ(e,t){var r=rQ.lastIndex=tQ.lastIndex=0,n,i,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=rQ.exec(e))&&(i=tQ.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Qh(n,i)})),r=tQ.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?Jmt(l[0].x):Xmt(t):(t=l.length,function(f){for(var h=0,p;h<t;++h)u[(p=l[h]).i]=p.x(f);return u.join("")})}a(nQ,"default");function U0(e,t){var r=typeof t,n;return t==null||r==="boolean"?i4(t):(r==="number"?Qh:r==="string"?(n=F0(t))?(t=n,Xz):nQ:t instanceof F0?Xz:t instanceof Date?Zz:Hwe(t)?Jz:Array.isArray(t)?zwe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eQ:Qh)(e,t)}a(U0,"default");d();function f9(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}a(f9,"default");d();function iQ(e){return function(){return e}}a(iQ,"constants");d();function aQ(e){return+e}a(aQ,"number");var Qwe=[0,1];function Mb(e){return e}a(Mb,"identity");function sQ(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iQ(isNaN(t)?NaN:.5)}a(sQ,"normalize");function Zmt(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}a(Zmt,"clamper");function e2t(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=sQ(i,n),s=r(o,s)):(n=sQ(n,i),s=r(s,o)),function(u){return s(n(u))}}a(e2t,"bimap");function t2t(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=sQ(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var l=Yz(e,u,1,n)-1;return s[l](i[l](u))}}a(t2t,"polymap");function h9(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}a(h9,"copy");function r2t(){var e=Qwe,t=Qwe,r=U0,n,i,s,o=Mb,u,l,f;function h(){var g=Math.min(e.length,t.length);return o!==Mb&&(o=Zmt(e[0],e[g-1])),u=g>2?t2t:e2t,l=f=null,p}a(h,"rescale");function p(g){return g==null||isNaN(g=+g)?s:(l||(l=u(e.map(n),t,r)))(n(o(g)))}return a(p,"scale"),p.invert=function(g){return o(i((f||(f=u(t,e.map(n),Qh)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,aQ),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=f9,h()},p.clamp=function(g){return arguments.length?(o=g?!0:Mb,h()):o!==Mb},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,y){return n=g,i=y,h()}}a(r2t,"transformer");function a4(){return r2t()(Mb,Mb)}a(a4,"continuous");d();d();d();d();d();d();function oQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}a(oQ,"default");function Sg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}a(Sg,"formatDecimalParts");function Hu(e){return e=Sg(Math.abs(e)),e?e[1]:NaN}a(Hu,"default");d();function cQ(e,t){return function(r,n){for(var i=r.length,s=[],o=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),s.push(r.substring(i-=u,i+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}a(cQ,"default");d();function uQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}a(uQ,"default");d();var n2t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y0(e){if(!(t=n2t.exec(e)))throw new Error("invalid format: "+e);var t;return new d9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}a(Y0,"formatSpecifier");Y0.prototype=d9.prototype;function d9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}a(d9,"FormatSpecifier");d9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};d();function lQ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}a(lQ,"default");d();d();var fQ;function hQ(e,t){var r=Sg(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(fQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Sg(e,Math.max(0,t+s-1))[0]}a(hQ,"default");d();function p9(e,t){var r=Sg(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}a(p9,"default");var dQ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p9(e*100,t),r:p9,s:hQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};d();function g9(e){return e}a(g9,"default");var Wwe=Array.prototype.map,Vwe=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function pQ(e){var t=e.grouping===void 0||e.thousands===void 0?g9:cQ(Wwe.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?g9:uQ(Wwe.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Y0(p);var g=p.fill,y=p.align,E=p.sign,M=p.symbol,z=p.zero,P=p.width,Q=p.comma,V=p.precision,W=p.trim,F=p.type;F==="n"?(Q=!0,F="g"):dQ[F]||(V===void 0&&(V=12),W=!0,F="g"),(z||g==="0"&&y==="=")&&(z=!0,g="0",y="=");var B=M==="$"?r:M==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",S=M==="$"?n:/[%p]/.test(F)?o:"",T=dQ[F],k=/[defgprs%]/.test(F);V=V===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function R(x){var N=B,m=S,v,A,U;if(F==="c")m=T(x)+m,x="";else{x=+x;var G=x<0||1/x<0;if(x=isNaN(x)?l:T(Math.abs(x),V),W&&(x=lQ(x)),G&&+x==0&&E!=="+"&&(G=!1),N=(G?E==="("?E:u:E==="-"||E==="("?"":E)+N,m=(F==="s"?Vwe[8+fQ/3]:"")+m+(G&&E==="("?")":""),k){for(v=-1,A=x.length;++v<A;)if(U=x.charCodeAt(v),48>U||U>57){m=(U===46?i+x.slice(v+1):x.slice(v))+m,x=x.slice(0,v);break}}}Q&&!z&&(x=t(x,1/0));var K=N.length+x.length+m.length,Z=K<P?new Array(P-K+1).join(g):"";switch(Q&&z&&(x=t(Z+x,Z.length?P-m.length:1/0),Z=""),y){case"<":x=N+x+m+Z;break;case"=":x=N+Z+x+m;break;case"^":x=Z.slice(0,K=Z.length>>1)+N+x+m+Z.slice(K);break;default:x=Z+N+x+m;break}return s(x)}return a(R,"format"),R.toString=function(){return p+""},R}a(f,"newFormat");function h(p,g){var y=f((p=Y0(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Hu(g)/3)))*3,M=Math.pow(10,-E),z=Vwe[8+E/3];return function(P){return y(M*P)+z}}return a(h,"formatPrefix"),{format:f,formatPrefix:h}}a(pQ,"default");var y9,m9,b9;gQ({thousands:",",grouping:[3],currency:["$",""]});function gQ(e){return y9=pQ(e),m9=y9.format,b9=y9.formatPrefix,y9}a(gQ,"defaultLocale");d();function v9(e){return Math.max(0,-Hu(Math.abs(e)))}a(v9,"default");d();function _9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(t)/3)))*3-Hu(Math.abs(e)))}a(_9,"default");d();function x9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hu(t)-Hu(e))+1}a(x9,"default");function yQ(e,t,r,n){var i=kb(e,t,r),s;switch(n=Y0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=_9(i,o))&&(n.precision=s),b9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=x9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=v9(i))&&(n.precision=s-(n.type==="%")*2);break}}return m9(n)}a(yQ,"tickFormat");function i2t(e){var t=e.domain;return e.ticks=function(r){var n=t();return i9(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return yQ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],u=n[s],l,f,h=10;for(u<o&&(f=o,o=u,u=f,f=i,i=s,s=f);h-- >0;){if(f=a9(o,u,r),f===l)return n[i]=o,n[s]=u,t(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;l=f}return e},e}a(i2t,"linearish");function s4(){var e=a4();return e.copy=function(){return h9(e,s4())},Cb.apply(e,arguments),i2t(e)}a(s4,"linear");d();function mQ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}a(mQ,"nice");d();d();d();var bQ=new Date,vQ=new Date;function Fn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a(i,"interval"),i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,u){var l=[],f;if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return l;do l.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<o);return l},i.filter=function(s){return Fn(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););})},r&&(i.count=function(s,o){return bQ.setTime(+s),vQ.setTime(+o),e(bQ),e(vQ),Math.floor(r(bQ,vQ))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(o){return n(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}a(Fn,"newInterval");d();var w9=Fn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});w9.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):w9};var jwe=w9,KMr=w9.range;d();var Gwe=Fn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Wh=Gwe,Kwe=Gwe.range;d();var $we=Fn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),o4=$we,a2t=$we.range;d();var Xwe=Fn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),c4=Xwe,s2t=Xwe.range;d();var Jwe=Fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),H0=Jwe,o2t=Jwe.range;d();function Ig(e){return Fn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}a(Ig,"weekday");var Vh=Ig(0),Bb=Ig(1),e3e=Ig(2),t3e=Ig(3),z0=Ig(4),r3e=Ig(5),n3e=Ig(6),i3e=Vh.range,c2t=Bb.range,u2t=e3e.range,l2t=t3e.range,f2t=z0.range,h2t=r3e.range,d2t=n3e.range;d();var a3e=Fn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),u4=a3e,p2t=a3e.range;d();var xQ=Fn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});xQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var zu=xQ,g2t=xQ.range;d();var s3e=Fn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),o3e=s3e,xBr=s3e.range;d();var c3e=Fn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),u3e=c3e,SBr=c3e.range;d();var l3e=Fn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),Rb=l3e,y2t=l3e.range;d();function Tg(e){return Fn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}a(Tg,"utcWeekday");var Mg=Tg(0),Lb=Tg(1),f3e=Tg(2),h3e=Tg(3),Q0=Tg(4),d3e=Tg(5),p3e=Tg(6),g3e=Mg.range,m2t=Lb.range,b2t=f3e.range,v2t=h3e.range,_2t=Q0.range,x2t=d3e.range,w2t=p3e.range;d();var y3e=Fn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),m3e=y3e,OBr=y3e.range;d();var wQ=Fn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});wQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var jh=wQ,A2t=wQ.range;d();function v3e(e,t,r,n,i,s){let o=[[Wh,1,1e3],[Wh,5,5*1e3],[Wh,15,15*1e3],[Wh,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(f,h,p){let g=h<f;g&&([f,h]=[h,f]);let y=p&&typeof p.range=="function"?p:l(f,h,p),E=y?y.range(f,+h+1):[];return g?E.reverse():E}a(u,"ticks");function l(f,h,p){let g=Math.abs(h-f)/p,y=wg(([,,z])=>z).right(o,g);if(y===o.length)return e.every(kb(f/31536e6,h/31536e6,p));if(y===0)return jwe.every(Math.max(kb(f,h,p),1));let[E,M]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return E.every(M)}return a(l,"tickInterval"),[u,l]}a(v3e,"ticker");var[S2t,k2t]=v3e(jh,m3e,Mg,Rb,u3e,o3e),[AQ,EQ]=v3e(zu,u4,Vh,H0,c4,o4);d();d();d();function SQ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}a(SQ,"localDate");function kQ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}a(kQ,"utcDate");function l4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}a(l4,"newDate");function CQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,f=f4(i),h=h4(i),p=f4(s),g=h4(s),y=f4(o),E=h4(o),M=f4(u),z=h4(u),P=f4(l),Q=h4(l),V={a:G,A:K,b:Z,B:O,c:null,d:S3e,e:S3e,f:K2t,g:abt,G:obt,H:V2t,I:j2t,j:G2t,L:M3e,m:$2t,M:X2t,p:$,q:L,Q:I3e,s:T3e,S:J2t,u:Z2t,U:ebt,V:tbt,w:rbt,W:nbt,x:null,X:null,y:ibt,Y:sbt,Z:cbt,"%":C3e},W={a:ee,A:ve,b:ye,B:se,c:null,d:k3e,e:k3e,f:hbt,g:wbt,G:Ebt,H:ubt,I:lbt,j:fbt,L:R3e,m:dbt,M:pbt,p:be,q:Y,Q:I3e,s:T3e,S:gbt,u:ybt,U:mbt,V:bbt,w:vbt,W:_bt,x:null,X:null,y:xbt,Y:Abt,Z:Sbt,"%":C3e},F={a:R,A:x,b:N,B:m,c:v,d:A3e,e:A3e,f:H2t,g:w3e,G:x3e,H:E3e,I:E3e,j:P2t,L:Y2t,m:q2t,M:F2t,p:k,q:O2t,Q:Q2t,s:W2t,S:U2t,u:B2t,U:R2t,V:L2t,w:M2t,W:D2t,x:A,X:U,y:w3e,Y:x3e,Z:N2t,"%":z2t};V.x=B(r,V),V.X=B(n,V),V.c=B(t,V),W.x=B(r,W),W.X=B(n,W),W.c=B(t,W);function B(D,J){return function(q){var I=[],H=-1,te=0,ie=D.length,he,De,$e;for(q instanceof Date||(q=new Date(+q));++H<ie;)D.charCodeAt(H)===37&&(I.push(D.slice(te,H)),(De=_3e[he=D.charAt(++H)])!=null?he=D.charAt(++H):De=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,De)),I.push(he),te=H+1);return I.push(D.slice(te,H)),I.join("")}}a(B,"newFormat");function S(D,J){return function(q){var I=l4(1900,void 0,1),H=T(I,D,q+="",0),te,ie;if(H!=q.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(J&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(te=kQ(l4(I.y,0,1)),ie=te.getUTCDay(),te=ie>4||ie===0?Lb.ceil(te):Lb(te),te=Rb.offset(te,(I.V-1)*7),I.y=te.getUTCFullYear(),I.m=te.getUTCMonth(),I.d=te.getUTCDate()+(I.w+6)%7):(te=SQ(l4(I.y,0,1)),ie=te.getDay(),te=ie>4||ie===0?Bb.ceil(te):Bb(te),te=H0.offset(te,(I.V-1)*7),I.y=te.getFullYear(),I.m=te.getMonth(),I.d=te.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),ie="Z"in I?kQ(l4(I.y,0,1)).getUTCDay():SQ(l4(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(ie+5)%7:I.w+I.U*7-(ie+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,kQ(I)):SQ(I)}}a(S,"newParse");function T(D,J,q,I){for(var H=0,te=J.length,ie=q.length,he,De;H<te;){if(I>=ie)return-1;if(he=J.charCodeAt(H++),he===37){if(he=J.charAt(H++),De=F[he in _3e?J.charAt(H++):he],!De||(I=De(D,q,I))<0)return-1}else if(he!=q.charCodeAt(I++))return-1}return I}a(T,"parseSpecifier");function k(D,J,q){var I=f.exec(J.slice(q));return I?(D.p=h.get(I[0].toLowerCase()),q+I[0].length):-1}a(k,"parsePeriod");function R(D,J,q){var I=y.exec(J.slice(q));return I?(D.w=E.get(I[0].toLowerCase()),q+I[0].length):-1}a(R,"parseShortWeekday");function x(D,J,q){var I=p.exec(J.slice(q));return I?(D.w=g.get(I[0].toLowerCase()),q+I[0].length):-1}a(x,"parseWeekday");function N(D,J,q){var I=P.exec(J.slice(q));return I?(D.m=Q.get(I[0].toLowerCase()),q+I[0].length):-1}a(N,"parseShortMonth");function m(D,J,q){var I=M.exec(J.slice(q));return I?(D.m=z.get(I[0].toLowerCase()),q+I[0].length):-1}a(m,"parseMonth");function v(D,J,q){return T(D,t,J,q)}a(v,"parseLocaleDateTime");function A(D,J,q){return T(D,r,J,q)}a(A,"parseLocaleDate");function U(D,J,q){return T(D,n,J,q)}a(U,"parseLocaleTime");function G(D){return o[D.getDay()]}a(G,"formatShortWeekday");function K(D){return s[D.getDay()]}a(K,"formatWeekday");function Z(D){return l[D.getMonth()]}a(Z,"formatShortMonth");function O(D){return u[D.getMonth()]}a(O,"formatMonth");function $(D){return i[+(D.getHours()>=12)]}a($,"formatPeriod");function L(D){return 1+~~(D.getMonth()/3)}a(L,"formatQuarter");function ee(D){return o[D.getUTCDay()]}a(ee,"formatUTCShortWeekday");function ve(D){return s[D.getUTCDay()]}a(ve,"formatUTCWeekday");function ye(D){return l[D.getUTCMonth()]}a(ye,"formatUTCShortMonth");function se(D){return u[D.getUTCMonth()]}a(se,"formatUTCMonth");function be(D){return i[+(D.getUTCHours()>=12)]}a(be,"formatUTCPeriod");function Y(D){return 1+~~(D.getUTCMonth()/3)}return a(Y,"formatUTCQuarter"),{format:function(D){var J=B(D+="",V);return J.toString=function(){return D},J},parse:function(D){var J=S(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=B(D+="",W);return J.toString=function(){return D},J},utcParse:function(D){var J=S(D+="",!0);return J.toString=function(){return D},J}}}a(CQ,"formatLocale");var _3e={"-":"",_:" ",0:"0"},Za=/^\s*\d+/,C2t=/^%/,I2t=/[\\^$*+?|[\]().{}]/g;function Hn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}a(Hn,"pad");function T2t(e){return e.replace(I2t,"\\$&")}a(T2t,"requote");function f4(e){return new RegExp("^(?:"+e.map(T2t).join("|")+")","i")}a(f4,"formatRe");function h4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}a(h4,"formatLookup");function M2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}a(M2t,"parseWeekdayNumberSunday");function B2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}a(B2t,"parseWeekdayNumberMonday");function R2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}a(R2t,"parseWeekNumberSunday");function L2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}a(L2t,"parseWeekNumberISO");function D2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}a(D2t,"parseWeekNumberMonday");function x3e(e,t,r){var n=Za.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}a(x3e,"parseFullYear");function w3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}a(w3e,"parseYear");function N2t(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}a(N2t,"parseZone");function O2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}a(O2t,"parseQuarter");function q2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}a(q2t,"parseMonthNumber");function A3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}a(A3e,"parseDayOfMonth");function P2t(e,t,r){var n=Za.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}a(P2t,"parseDayOfYear");function E3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}a(E3e,"parseHour24");function F2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}a(F2t,"parseMinutes");function U2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}a(U2t,"parseSeconds");function Y2t(e,t,r){var n=Za.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}a(Y2t,"parseMilliseconds");function H2t(e,t,r){var n=Za.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}a(H2t,"parseMicroseconds");function z2t(e,t,r){var n=C2t.exec(t.slice(r,r+1));return n?r+n[0].length:-1}a(z2t,"parseLiteralPercent");function Q2t(e,t,r){var n=Za.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}a(Q2t,"parseUnixTimestamp");function W2t(e,t,r){var n=Za.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}a(W2t,"parseUnixTimestampSeconds");function S3e(e,t){return Hn(e.getDate(),t,2)}a(S3e,"formatDayOfMonth");function V2t(e,t){return Hn(e.getHours(),t,2)}a(V2t,"formatHour24");function j2t(e,t){return Hn(e.getHours()%12||12,t,2)}a(j2t,"formatHour12");function G2t(e,t){return Hn(1+H0.count(zu(e),e),t,3)}a(G2t,"formatDayOfYear");function M3e(e,t){return Hn(e.getMilliseconds(),t,3)}a(M3e,"formatMilliseconds");function K2t(e,t){return M3e(e,t)+"000"}a(K2t,"formatMicroseconds");function $2t(e,t){return Hn(e.getMonth()+1,t,2)}a($2t,"formatMonthNumber");function X2t(e,t){return Hn(e.getMinutes(),t,2)}a(X2t,"formatMinutes");function J2t(e,t){return Hn(e.getSeconds(),t,2)}a(J2t,"formatSeconds");function Z2t(e){var t=e.getDay();return t===0?7:t}a(Z2t,"formatWeekdayNumberMonday");function ebt(e,t){return Hn(Vh.count(zu(e)-1,e),t,2)}a(ebt,"formatWeekNumberSunday");function B3e(e){var t=e.getDay();return t>=4||t===0?z0(e):z0.ceil(e)}a(B3e,"dISO");function tbt(e,t){return e=B3e(e),Hn(z0.count(zu(e),e)+(zu(e).getDay()===4),t,2)}a(tbt,"formatWeekNumberISO");function rbt(e){return e.getDay()}a(rbt,"formatWeekdayNumberSunday");function nbt(e,t){return Hn(Bb.count(zu(e)-1,e),t,2)}a(nbt,"formatWeekNumberMonday");function ibt(e,t){return Hn(e.getFullYear()%100,t,2)}a(ibt,"formatYear");function abt(e,t){return e=B3e(e),Hn(e.getFullYear()%100,t,2)}a(abt,"formatYearISO");function sbt(e,t){return Hn(e.getFullYear()%1e4,t,4)}a(sbt,"formatFullYear");function obt(e,t){var r=e.getDay();return e=r>=4||r===0?z0(e):z0.ceil(e),Hn(e.getFullYear()%1e4,t,4)}a(obt,"formatFullYearISO");function cbt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Hn(t/60|0,"0",2)+Hn(t%60,"0",2)}a(cbt,"formatZone");function k3e(e,t){return Hn(e.getUTCDate(),t,2)}a(k3e,"formatUTCDayOfMonth");function ubt(e,t){return Hn(e.getUTCHours(),t,2)}a(ubt,"formatUTCHour24");function lbt(e,t){return Hn(e.getUTCHours()%12||12,t,2)}a(lbt,"formatUTCHour12");function fbt(e,t){return Hn(1+Rb.count(jh(e),e),t,3)}a(fbt,"formatUTCDayOfYear");function R3e(e,t){return Hn(e.getUTCMilliseconds(),t,3)}a(R3e,"formatUTCMilliseconds");function hbt(e,t){return R3e(e,t)+"000"}a(hbt,"formatUTCMicroseconds");function dbt(e,t){return Hn(e.getUTCMonth()+1,t,2)}a(dbt,"formatUTCMonthNumber");function pbt(e,t){return Hn(e.getUTCMinutes(),t,2)}a(pbt,"formatUTCMinutes");function gbt(e,t){return Hn(e.getUTCSeconds(),t,2)}a(gbt,"formatUTCSeconds");function ybt(e){var t=e.getUTCDay();return t===0?7:t}a(ybt,"formatUTCWeekdayNumberMonday");function mbt(e,t){return Hn(Mg.count(jh(e)-1,e),t,2)}a(mbt,"formatUTCWeekNumberSunday");function L3e(e){var t=e.getUTCDay();return t>=4||t===0?Q0(e):Q0.ceil(e)}a(L3e,"UTCdISO");function bbt(e,t){return e=L3e(e),Hn(Q0.count(jh(e),e)+(jh(e).getUTCDay()===4),t,2)}a(bbt,"formatUTCWeekNumberISO");function vbt(e){return e.getUTCDay()}a(vbt,"formatUTCWeekdayNumberSunday");function _bt(e,t){return Hn(Lb.count(jh(e)-1,e),t,2)}a(_bt,"formatUTCWeekNumberMonday");function xbt(e,t){return Hn(e.getUTCFullYear()%100,t,2)}a(xbt,"formatUTCYear");function wbt(e,t){return e=L3e(e),Hn(e.getUTCFullYear()%100,t,2)}a(wbt,"formatUTCYearISO");function Abt(e,t){return Hn(e.getUTCFullYear()%1e4,t,4)}a(Abt,"formatUTCFullYear");function Ebt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Q0(e):Q0.ceil(e),Hn(e.getUTCFullYear()%1e4,t,4)}a(Ebt,"formatUTCFullYearISO");function Sbt(){return"+0000"}a(Sbt,"formatUTCZone");function C3e(){return"%"}a(C3e,"formatLiteralPercent");function I3e(e){return+e}a(I3e,"formatUnixTimestamp");function T3e(e){return Math.floor(+e/1e3)}a(T3e,"formatUnixTimestampSeconds");var Db,A9,D3e,N3e,O3e;IQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IQ(e){return Db=CQ(e),A9=Db.format,D3e=Db.parse,N3e=Db.utcFormat,O3e=Db.utcParse,Db}a(IQ,"defaultLocale");function kbt(e){return new Date(e)}a(kbt,"date");function Cbt(e){return e instanceof Date?+e:+new Date(+e)}a(Cbt,"number");function q3e(e,t,r,n,i,s,o,u,l,f){var h=a4(),p=h.invert,g=h.domain,y=f(".%L"),E=f(":%S"),M=f("%I:%M"),z=f("%I %p"),P=f("%a %d"),Q=f("%b %d"),V=f("%B"),W=f("%Y");function F(B){return(l(B)<B?y:u(B)<B?E:o(B)<B?M:s(B)<B?z:n(B)<B?i(B)<B?P:Q:r(B)<B?V:W)(B)}return a(F,"tickFormat"),h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?g(Array.from(B,Cbt)):g().map(kbt)},h.ticks=function(B){var S=g();return e(S[0],S[S.length-1],B??10)},h.tickFormat=function(B,S){return S==null?F:f(S)},h.nice=function(B){var S=g();return(!B||typeof B.range!="function")&&(B=t(S[0],S[S.length-1],B??10)),B?g(mQ(S,B)):h},h.copy=function(){return h9(h,q3e(e,t,r,n,i,s,o,u,l,f))},h}a(q3e,"calendar");function E9(){return Cb.apply(q3e(AQ,EQ,zu,u4,Vh,H0,c4,o4,Wh,A9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}a(E9,"time");d();d();d();d();var TQ=Math.PI,MQ=2*TQ,Bg=1e-6,Ibt=MQ-Bg;function BQ(){this._x0=this._y0=this._x1=this._y1=null,this._=""}a(BQ,"Path");function P3e(){return new BQ}a(P3e,"path");BQ.prototype=P3e.prototype={constructor:BQ,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var s=this._x1,o=this._y1,u=r-e,l=n-t,f=s-e,h=o-t,p=f*f+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Bg)if(!(Math.abs(h*u-l*f)>Bg)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-s,y=n-o,E=u*u+l*l,M=g*g+y*y,z=Math.sqrt(E),P=Math.sqrt(p),Q=i*Math.tan((TQ-Math.acos((E+p-M)/(2*z*P)))/2),V=Q/P,W=Q/z;Math.abs(V-1)>Bg&&(this._+="L"+(e+V*f)+","+(t+V*h)),this._+="A"+i+","+i+",0,0,"+ +(h*g>f*y)+","+(this._x1=e+W*u)+","+(this._y1=t+W*l)}},arc:function(e,t,r,n,i,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),u=r*Math.sin(n),l=e+o,f=t+u,h=1^s,p=s?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+f:(Math.abs(this._x1-l)>Bg||Math.abs(this._y1-f)>Bg)&&(this._+="L"+l+","+f),r&&(p<0&&(p=p%MQ+MQ),p>Ibt?this._+="A"+r+","+r+",0,1,"+h+","+(e-o)+","+(t-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=f):p>Bg&&(this._+="A"+r+","+r+",0,"+ +(p>=TQ)+","+h+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var d4=P3e;d();function Mi(e){return a(function(){return e},"constant")}a(Mi,"default");d();var RQ=Math.abs,ps=Math.atan2,W0=Math.cos,F3e=Math.max,S9=Math.min,Qu=Math.sin,Rg=Math.sqrt,ro=1e-12,Nb=Math.PI,p4=Nb/2,Ob=2*Nb;function U3e(e){return e>1?0:e<-1?Nb:Math.acos(e)}a(U3e,"acos");function LQ(e){return e>=1?p4:e<=-1?-p4:Math.asin(e)}a(LQ,"asin");function Tbt(e){return e.innerRadius}a(Tbt,"arcInnerRadius");function Mbt(e){return e.outerRadius}a(Mbt,"arcOuterRadius");function Bbt(e){return e.startAngle}a(Bbt,"arcStartAngle");function Rbt(e){return e.endAngle}a(Rbt,"arcEndAngle");function Lbt(e){return e&&e.padAngle}a(Lbt,"arcPadAngle");function Dbt(e,t,r,n,i,s,o,u){var l=r-e,f=n-t,h=o-i,p=u-s,g=p*l-h*f;if(!(g*g<ro))return g=(h*(t-s)-p*(e-i))/g,[e+g*l,t+g*f]}a(Dbt,"intersect");function k9(e,t,r,n,i,s,o){var u=e-r,l=t-n,f=(o?s:-s)/Rg(u*u+l*l),h=f*l,p=-f*u,g=e+h,y=t+p,E=r+h,M=n+p,z=(g+E)/2,P=(y+M)/2,Q=E-g,V=M-y,W=Q*Q+V*V,F=i-s,B=g*M-E*y,S=(V<0?-1:1)*Rg(F3e(0,F*F*W-B*B)),T=(B*V-Q*S)/W,k=(-B*Q-V*S)/W,R=(B*V+Q*S)/W,x=(-B*Q+V*S)/W,N=T-z,m=k-P,v=R-z,A=x-P;return N*N+m*m>v*v+A*A&&(T=R,k=x),{cx:T,cy:k,x01:-h,y01:-p,x11:T*(i/F-1),y11:k*(i/F-1)}}a(k9,"cornerTangents");function qb(){var e=Tbt,t=Mbt,r=Mi(0),n=null,i=Bbt,s=Rbt,o=Lbt,u=null;function l(){var f,h,p=+e.apply(this,arguments),g=+t.apply(this,arguments),y=i.apply(this,arguments)-p4,E=s.apply(this,arguments)-p4,M=RQ(E-y),z=E>y;if(u||(u=f=d4()),g<p&&(h=g,g=p,p=h),!(g>ro))u.moveTo(0,0);else if(M>Ob-ro)u.moveTo(g*W0(y),g*Qu(y)),u.arc(0,0,g,y,E,!z),p>ro&&(u.moveTo(p*W0(E),p*Qu(E)),u.arc(0,0,p,E,y,z));else{var P=y,Q=E,V=y,W=E,F=M,B=M,S=o.apply(this,arguments)/2,T=S>ro&&(n?+n.apply(this,arguments):Rg(p*p+g*g)),k=S9(RQ(g-p)/2,+r.apply(this,arguments)),R=k,x=k,N,m;if(T>ro){var v=LQ(T/p*Qu(S)),A=LQ(T/g*Qu(S));(F-=v*2)>ro?(v*=z?1:-1,V+=v,W-=v):(F=0,V=W=(y+E)/2),(B-=A*2)>ro?(A*=z?1:-1,P+=A,Q-=A):(B=0,P=Q=(y+E)/2)}var U=g*W0(P),G=g*Qu(P),K=p*W0(W),Z=p*Qu(W);if(k>ro){var O=g*W0(Q),$=g*Qu(Q),L=p*W0(V),ee=p*Qu(V),ve;if(M<Nb&&(ve=Dbt(U,G,L,ee,O,$,K,Z))){var ye=U-ve[0],se=G-ve[1],be=O-ve[0],Y=$-ve[1],D=1/Qu(U3e((ye*be+se*Y)/(Rg(ye*ye+se*se)*Rg(be*be+Y*Y)))/2),J=Rg(ve[0]*ve[0]+ve[1]*ve[1]);R=S9(k,(p-J)/(D-1)),x=S9(k,(g-J)/(D+1))}}B>ro?x>ro?(N=k9(L,ee,U,G,g,x,z),m=k9(O,$,K,Z,g,x,z),u.moveTo(N.cx+N.x01,N.cy+N.y01),x<k?u.arc(N.cx,N.cy,x,ps(N.y01,N.x01),ps(m.y01,m.x01),!z):(u.arc(N.cx,N.cy,x,ps(N.y01,N.x01),ps(N.y11,N.x11),!z),u.arc(0,0,g,ps(N.cy+N.y11,N.cx+N.x11),ps(m.cy+m.y11,m.cx+m.x11),!z),u.arc(m.cx,m.cy,x,ps(m.y11,m.x11),ps(m.y01,m.x01),!z))):(u.moveTo(U,G),u.arc(0,0,g,P,Q,!z)):u.moveTo(U,G),!(p>ro)||!(F>ro)?u.lineTo(K,Z):R>ro?(N=k9(K,Z,O,$,p,-R,z),m=k9(U,G,L,ee,p,-R,z),u.lineTo(N.cx+N.x01,N.cy+N.y01),R<k?u.arc(N.cx,N.cy,R,ps(N.y01,N.x01),ps(m.y01,m.x01),!z):(u.arc(N.cx,N.cy,R,ps(N.y01,N.x01),ps(N.y11,N.x11),!z),u.arc(0,0,p,ps(N.cy+N.y11,N.cx+N.x11),ps(m.cy+m.y11,m.cx+m.x11),z),u.arc(m.cx,m.cy,R,ps(m.y11,m.x11),ps(m.y01,m.x01),!z))):u.arc(0,0,p,W,V,z)}if(u.closePath(),f)return u=null,f+""||null}return a(l,"arc"),l.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Nb/2;return[W0(h)*f,Qu(h)*f]},l.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Mi(+f),l):e},l.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Mi(+f),l):t},l.cornerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:Mi(+f),l):r},l.padRadius=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mi(+f),l):n},l.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Mi(+f),l):i},l.endAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Mi(+f),l):s},l.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Mi(+f),l):o},l.context=function(f){return arguments.length?(u=f??null,l):u},l}a(qb,"default");d();var oLr=Array.prototype.slice;function g4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(g4,"default");d();function Y3e(e){this._context=e}a(Y3e,"Linear");Y3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function no(e){return new Y3e(e)}a(no,"default");d();d();function H3e(e){return e[0]}a(H3e,"x");function z3e(e){return e[1]}a(z3e,"y");function V0(e,t){var r=Mi(!0),n=null,i=no,s=null;e=typeof e=="function"?e:e===void 0?H3e:Mi(e),t=typeof t=="function"?t:t===void 0?z3e:Mi(t);function o(u){var l,f=(u=g4(u)).length,h,p=!1,g;for(n==null&&(s=i(g=d4())),l=0;l<=f;++l)!(l<f&&r(h=u[l],l,u))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(h,l,u),+t(h,l,u));if(g)return s=null,g+""||null}return a(o,"line"),o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Mi(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Mi(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Mi(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),o):n},o}a(V0,"default");d();d();function DQ(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}a(DQ,"default");d();function NQ(e){return e}a(NQ,"default");function C9(){var e=NQ,t=DQ,r=null,n=Mi(0),i=Mi(Ob),s=Mi(0);function o(u){var l,f=(u=g4(u)).length,h,p,g=0,y=new Array(f),E=new Array(f),M=+n.apply(this,arguments),z=Math.min(Ob,Math.max(-Ob,i.apply(this,arguments)-M)),P,Q=Math.min(Math.abs(z)/f,s.apply(this,arguments)),V=Q*(z<0?-1:1),W;for(l=0;l<f;++l)(W=E[y[l]=l]=+e(u[l],l,u))>0&&(g+=W);for(t!=null?y.sort(function(F,B){return t(E[F],E[B])}):r!=null&&y.sort(function(F,B){return r(u[F],u[B])}),l=0,p=g?(z-f*V)/g:0;l<f;++l,M=P)h=y[l],W=E[h],P=M+(W>0?W*p:0)+V,E[h]={data:u[h],index:l,value:W,startAngle:M,endAngle:P,padAngle:Q};return E}return a(o,"pie"),o.value=function(u){return arguments.length?(e=typeof u=="function"?u:Mi(+u),o):e},o.sortValues=function(u){return arguments.length?(t=u,r=null,o):t},o.sort=function(u){return arguments.length?(r=u,t=null,o):r},o.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:Mi(+u),o):n},o.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Mi(+u),o):i},o.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Mi(+u),o):s},o}a(C9,"default");d();d();function Lg(){}a(Lg,"default");d();function Pb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}a(Pb,"point");function Q3e(e){this._context=e}a(Q3e,"Basis");Q3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gh(e){return new Q3e(e)}a(Gh,"default");function W3e(e){this._context=e}a(W3e,"BasisClosed");W3e.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I9(e){return new W3e(e)}a(I9,"default");d();function V3e(e){this._context=e}a(V3e,"BasisOpen");V3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T9(e){return new V3e(e)}a(T9,"default");d();function j3e(e){this._context=e}a(j3e,"LinearClosed");j3e.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function M9(e){return new j3e(e)}a(M9,"default");d();function G3e(e){return e<0?-1:1}a(G3e,"sign");function K3e(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(G3e(s)+G3e(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}a(K3e,"slope3");function $3e(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}a($3e,"slope2");function OQ(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,o-u*r,s,o)}a(OQ,"point");function B9(e){this._context=e}a(B9,"MonotoneX");B9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:OQ(this,this._t0,$3e(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,OQ(this,$3e(this,r=K3e(this,e,t)),r);break;default:OQ(this,this._t0,r=K3e(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function X3e(e){this._context=new J3e(e)}a(X3e,"MonotoneY");(X3e.prototype=Object.create(B9.prototype)).point=function(e,t){B9.prototype.point.call(this,t,e)};function J3e(e){this._context=e}a(J3e,"ReflectContext");J3e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function qQ(e){return new B9(e)}a(qQ,"monotoneX");function PQ(e){return new X3e(e)}a(PQ,"monotoneY");d();function e4e(e){this._context=e}a(e4e,"Natural");e4e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Z3e(e),i=Z3e(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Z3e(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}a(Z3e,"controlPoints");function R9(e){return new e4e(e)}a(R9,"default");d();function L9(e,t){this._context=e,this._t=t}a(L9,"Step");L9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function D9(e){return new L9(e,.5)}a(D9,"default");function FQ(e){return new L9(e,0)}a(FQ,"stepBefore");function UQ(e){return new L9(e,1)}a(UQ,"stepAfter");d();d();var YQ=new Date,HQ=new Date;function Ns(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a(i,"interval"),i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,u){var l=[],f;if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return l;do l.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<o);return l},i.filter=function(s){return Ns(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););})},r&&(i.count=function(s,o){return YQ.setTime(+s),HQ.setTime(+o),e(YQ),e(HQ),Math.floor(r(YQ,HQ))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(o){return n(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}a(Ns,"newInterval");d();var t4e=Ns(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),N9=t4e,qbt=t4e.range;d();function Dg(e){return Ns(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}a(Dg,"weekday");var y4=Dg(0),Fb=Dg(1),r4e=Dg(2),n4e=Dg(3),j0=Dg(4),i4e=Dg(5),a4e=Dg(6),s4e=y4.range,Fbt=Fb.range,Ubt=r4e.range,Ybt=n4e.range,Hbt=j0.range,zbt=i4e.range,Qbt=a4e.range;d();var zQ=Ns(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});zQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var Ng=zQ,Wbt=zQ.range;d();var o4e=Ns(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),O9=o4e,Vbt=o4e.range;d();function Og(e){return Ns(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}a(Og,"utcWeekday");var m4=Og(0),Ub=Og(1),c4e=Og(2),u4e=Og(3),G0=Og(4),l4e=Og(5),f4e=Og(6),h4e=m4.range,jbt=Ub.range,Gbt=c4e.range,Kbt=u4e.range,$bt=G0.range,Xbt=l4e.range,Jbt=f4e.range;d();var QQ=Ns(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});QQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var qg=QQ,Zbt=QQ.range;d();d();d();function WQ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}a(WQ,"localDate");function VQ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}a(VQ,"utcDate");function b4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}a(b4,"newDate");function jQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,f=v4(i),h=_4(i),p=v4(s),g=_4(s),y=v4(o),E=_4(o),M=v4(u),z=_4(u),P=v4(l),Q=_4(l),V={a:G,A:K,b:Z,B:O,c:null,d:b4e,e:b4e,f:wvt,g:Rvt,G:Dvt,H:vvt,I:_vt,j:xvt,L:A4e,m:Avt,M:Evt,p:$,q:L,Q:x4e,s:w4e,S:Svt,u:kvt,U:Cvt,V:Ivt,w:Tvt,W:Mvt,x:null,X:null,y:Bvt,Y:Lvt,Z:Nvt,"%":_4e},W={a:ee,A:ve,b:ye,B:se,c:null,d:v4e,e:v4e,f:Fvt,g:Kvt,G:Xvt,H:Ovt,I:qvt,j:Pvt,L:S4e,m:Uvt,M:Yvt,p:be,q:Y,Q:x4e,s:w4e,S:Hvt,u:zvt,U:Qvt,V:Wvt,w:Vvt,W:jvt,x:null,X:null,y:Gvt,Y:$vt,Z:Jvt,"%":_4e},F={a:R,A:x,b:N,B:m,c:v,d:y4e,e:y4e,f:gvt,g:g4e,G:p4e,H:m4e,I:m4e,j:fvt,L:pvt,m:lvt,M:hvt,p:k,q:uvt,Q:mvt,s:bvt,S:dvt,u:ivt,U:avt,V:svt,w:nvt,W:ovt,x:A,X:U,y:g4e,Y:p4e,Z:cvt,"%":yvt};V.x=B(r,V),V.X=B(n,V),V.c=B(t,V),W.x=B(r,W),W.X=B(n,W),W.c=B(t,W);function B(D,J){return function(q){var I=[],H=-1,te=0,ie=D.length,he,De,$e;for(q instanceof Date||(q=new Date(+q));++H<ie;)D.charCodeAt(H)===37&&(I.push(D.slice(te,H)),(De=d4e[he=D.charAt(++H)])!=null?he=D.charAt(++H):De=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,De)),I.push(he),te=H+1);return I.push(D.slice(te,H)),I.join("")}}a(B,"newFormat");function S(D,J){return function(q){var I=b4(1900,void 0,1),H=T(I,D,q+="",0),te,ie;if(H!=q.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(J&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(te=VQ(b4(I.y,0,1)),ie=te.getUTCDay(),te=ie>4||ie===0?Ub.ceil(te):Ub(te),te=O9.offset(te,(I.V-1)*7),I.y=te.getUTCFullYear(),I.m=te.getUTCMonth(),I.d=te.getUTCDate()+(I.w+6)%7):(te=WQ(b4(I.y,0,1)),ie=te.getDay(),te=ie>4||ie===0?Fb.ceil(te):Fb(te),te=N9.offset(te,(I.V-1)*7),I.y=te.getFullYear(),I.m=te.getMonth(),I.d=te.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),ie="Z"in I?VQ(b4(I.y,0,1)).getUTCDay():WQ(b4(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(ie+5)%7:I.w+I.U*7-(ie+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,VQ(I)):WQ(I)}}a(S,"newParse");function T(D,J,q,I){for(var H=0,te=J.length,ie=q.length,he,De;H<te;){if(I>=ie)return-1;if(he=J.charCodeAt(H++),he===37){if(he=J.charAt(H++),De=F[he in d4e?J.charAt(H++):he],!De||(I=De(D,q,I))<0)return-1}else if(he!=q.charCodeAt(I++))return-1}return I}a(T,"parseSpecifier");function k(D,J,q){var I=f.exec(J.slice(q));return I?(D.p=h.get(I[0].toLowerCase()),q+I[0].length):-1}a(k,"parsePeriod");function R(D,J,q){var I=y.exec(J.slice(q));return I?(D.w=E.get(I[0].toLowerCase()),q+I[0].length):-1}a(R,"parseShortWeekday");function x(D,J,q){var I=p.exec(J.slice(q));return I?(D.w=g.get(I[0].toLowerCase()),q+I[0].length):-1}a(x,"parseWeekday");function N(D,J,q){var I=P.exec(J.slice(q));return I?(D.m=Q.get(I[0].toLowerCase()),q+I[0].length):-1}a(N,"parseShortMonth");function m(D,J,q){var I=M.exec(J.slice(q));return I?(D.m=z.get(I[0].toLowerCase()),q+I[0].length):-1}a(m,"parseMonth");function v(D,J,q){return T(D,t,J,q)}a(v,"parseLocaleDateTime");function A(D,J,q){return T(D,r,J,q)}a(A,"parseLocaleDate");function U(D,J,q){return T(D,n,J,q)}a(U,"parseLocaleTime");function G(D){return o[D.getDay()]}a(G,"formatShortWeekday");function K(D){return s[D.getDay()]}a(K,"formatWeekday");function Z(D){return l[D.getMonth()]}a(Z,"formatShortMonth");function O(D){return u[D.getMonth()]}a(O,"formatMonth");function $(D){return i[+(D.getHours()>=12)]}a($,"formatPeriod");function L(D){return 1+~~(D.getMonth()/3)}a(L,"formatQuarter");function ee(D){return o[D.getUTCDay()]}a(ee,"formatUTCShortWeekday");function ve(D){return s[D.getUTCDay()]}a(ve,"formatUTCWeekday");function ye(D){return l[D.getUTCMonth()]}a(ye,"formatUTCShortMonth");function se(D){return u[D.getUTCMonth()]}a(se,"formatUTCMonth");function be(D){return i[+(D.getUTCHours()>=12)]}a(be,"formatUTCPeriod");function Y(D){return 1+~~(D.getUTCMonth()/3)}return a(Y,"formatUTCQuarter"),{format:function(D){var J=B(D+="",V);return J.toString=function(){return D},J},parse:function(D){var J=S(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=B(D+="",W);return J.toString=function(){return D},J},utcParse:function(D){var J=S(D+="",!0);return J.toString=function(){return D},J}}}a(jQ,"formatLocale");var d4e={"-":"",_:" ",0:"0"},es=/^\s*\d+/,evt=/^%/,tvt=/[\\^$*+?|[\]().{}]/g;function zn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}a(zn,"pad");function rvt(e){return e.replace(tvt,"\\$&")}a(rvt,"requote");function v4(e){return new RegExp("^(?:"+e.map(rvt).join("|")+")","i")}a(v4,"formatRe");function _4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}a(_4,"formatLookup");function nvt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}a(nvt,"parseWeekdayNumberSunday");function ivt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}a(ivt,"parseWeekdayNumberMonday");function avt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}a(avt,"parseWeekNumberSunday");function svt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}a(svt,"parseWeekNumberISO");function ovt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}a(ovt,"parseWeekNumberMonday");function p4e(e,t,r){var n=es.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}a(p4e,"parseFullYear");function g4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}a(g4e,"parseYear");function cvt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}a(cvt,"parseZone");function uvt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}a(uvt,"parseQuarter");function lvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}a(lvt,"parseMonthNumber");function y4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}a(y4e,"parseDayOfMonth");function fvt(e,t,r){var n=es.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}a(fvt,"parseDayOfYear");function m4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}a(m4e,"parseHour24");function hvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}a(hvt,"parseMinutes");function dvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}a(dvt,"parseSeconds");function pvt(e,t,r){var n=es.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}a(pvt,"parseMilliseconds");function gvt(e,t,r){var n=es.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}a(gvt,"parseMicroseconds");function yvt(e,t,r){var n=evt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}a(yvt,"parseLiteralPercent");function mvt(e,t,r){var n=es.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}a(mvt,"parseUnixTimestamp");function bvt(e,t,r){var n=es.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}a(bvt,"parseUnixTimestampSeconds");function b4e(e,t){return zn(e.getDate(),t,2)}a(b4e,"formatDayOfMonth");function vvt(e,t){return zn(e.getHours(),t,2)}a(vvt,"formatHour24");function _vt(e,t){return zn(e.getHours()%12||12,t,2)}a(_vt,"formatHour12");function xvt(e,t){return zn(1+N9.count(Ng(e),e),t,3)}a(xvt,"formatDayOfYear");function A4e(e,t){return zn(e.getMilliseconds(),t,3)}a(A4e,"formatMilliseconds");function wvt(e,t){return A4e(e,t)+"000"}a(wvt,"formatMicroseconds");function Avt(e,t){return zn(e.getMonth()+1,t,2)}a(Avt,"formatMonthNumber");function Evt(e,t){return zn(e.getMinutes(),t,2)}a(Evt,"formatMinutes");function Svt(e,t){return zn(e.getSeconds(),t,2)}a(Svt,"formatSeconds");function kvt(e){var t=e.getDay();return t===0?7:t}a(kvt,"formatWeekdayNumberMonday");function Cvt(e,t){return zn(y4.count(Ng(e)-1,e),t,2)}a(Cvt,"formatWeekNumberSunday");function E4e(e){var t=e.getDay();return t>=4||t===0?j0(e):j0.ceil(e)}a(E4e,"dISO");function Ivt(e,t){return e=E4e(e),zn(j0.count(Ng(e),e)+(Ng(e).getDay()===4),t,2)}a(Ivt,"formatWeekNumberISO");function Tvt(e){return e.getDay()}a(Tvt,"formatWeekdayNumberSunday");function Mvt(e,t){return zn(Fb.count(Ng(e)-1,e),t,2)}a(Mvt,"formatWeekNumberMonday");function Bvt(e,t){return zn(e.getFullYear()%100,t,2)}a(Bvt,"formatYear");function Rvt(e,t){return e=E4e(e),zn(e.getFullYear()%100,t,2)}a(Rvt,"formatYearISO");function Lvt(e,t){return zn(e.getFullYear()%1e4,t,4)}a(Lvt,"formatFullYear");function Dvt(e,t){var r=e.getDay();return e=r>=4||r===0?j0(e):j0.ceil(e),zn(e.getFullYear()%1e4,t,4)}a(Dvt,"formatFullYearISO");function Nvt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zn(t/60|0,"0",2)+zn(t%60,"0",2)}a(Nvt,"formatZone");function v4e(e,t){return zn(e.getUTCDate(),t,2)}a(v4e,"formatUTCDayOfMonth");function Ovt(e,t){return zn(e.getUTCHours(),t,2)}a(Ovt,"formatUTCHour24");function qvt(e,t){return zn(e.getUTCHours()%12||12,t,2)}a(qvt,"formatUTCHour12");function Pvt(e,t){return zn(1+O9.count(qg(e),e),t,3)}a(Pvt,"formatUTCDayOfYear");function S4e(e,t){return zn(e.getUTCMilliseconds(),t,3)}a(S4e,"formatUTCMilliseconds");function Fvt(e,t){return S4e(e,t)+"000"}a(Fvt,"formatUTCMicroseconds");function Uvt(e,t){return zn(e.getUTCMonth()+1,t,2)}a(Uvt,"formatUTCMonthNumber");function Yvt(e,t){return zn(e.getUTCMinutes(),t,2)}a(Yvt,"formatUTCMinutes");function Hvt(e,t){return zn(e.getUTCSeconds(),t,2)}a(Hvt,"formatUTCSeconds");function zvt(e){var t=e.getUTCDay();return t===0?7:t}a(zvt,"formatUTCWeekdayNumberMonday");function Qvt(e,t){return zn(m4.count(qg(e)-1,e),t,2)}a(Qvt,"formatUTCWeekNumberSunday");function k4e(e){var t=e.getUTCDay();return t>=4||t===0?G0(e):G0.ceil(e)}a(k4e,"UTCdISO");function Wvt(e,t){return e=k4e(e),zn(G0.count(qg(e),e)+(qg(e).getUTCDay()===4),t,2)}a(Wvt,"formatUTCWeekNumberISO");function Vvt(e){return e.getUTCDay()}a(Vvt,"formatUTCWeekdayNumberSunday");function jvt(e,t){return zn(Ub.count(qg(e)-1,e),t,2)}a(jvt,"formatUTCWeekNumberMonday");function Gvt(e,t){return zn(e.getUTCFullYear()%100,t,2)}a(Gvt,"formatUTCYear");function Kvt(e,t){return e=k4e(e),zn(e.getUTCFullYear()%100,t,2)}a(Kvt,"formatUTCYearISO");function $vt(e,t){return zn(e.getUTCFullYear()%1e4,t,4)}a($vt,"formatUTCFullYear");function Xvt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?G0(e):G0.ceil(e),zn(e.getUTCFullYear()%1e4,t,4)}a(Xvt,"formatUTCFullYearISO");function Jvt(){return"+0000"}a(Jvt,"formatUTCZone");function _4e(){return"%"}a(_4e,"formatLiteralPercent");function x4e(e){return+e}a(x4e,"formatUnixTimestamp");function w4e(e){return Math.floor(+e/1e3)}a(w4e,"formatUnixTimestampSeconds");var Yb,x4,C4e,I4e,T4e;GQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GQ(e){return Yb=jQ(e),x4=Yb.format,C4e=Yb.parse,I4e=Yb.utcFormat,T4e=Yb.utcParse,Yb}a(GQ,"defaultLocale");d();d();var Hb=0,A4=0,w4=0,B4e=1e3,q9,E4,P9=0,Pg=0,F9=0,S4=typeof performance=="object"&&performance.now?performance:Date,R4e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function C4(){return Pg||(R4e(Zvt),Pg=S4.now()+F9)}a(C4,"now");function Zvt(){Pg=0}a(Zvt,"clearNow");function k4(){this._call=this._time=this._next=null}a(k4,"Timer");k4.prototype=U9.prototype={constructor:k4,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?C4():+r)+(t==null?0:+t),!this._next&&E4!==this&&(E4?E4._next=this:q9=this,E4=this),this._call=e,this._time=r,KQ()},stop:function(){this._call&&(this._call=null,this._time=1/0,KQ())}};function U9(e,t,r){var n=new k4;return n.restart(e,t,r),n}a(U9,"timer");function L4e(){C4(),++Hb;for(var e=q9,t;e;)(t=Pg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hb}a(L4e,"timerFlush");function M4e(){Pg=(P9=S4.now())+F9,Hb=A4=0;try{L4e()}finally{Hb=0,t_t(),Pg=0}}a(M4e,"wake");function e_t(){var e=S4.now(),t=e-P9;t>B4e&&(F9-=t,P9=e)}a(e_t,"poke");function t_t(){for(var e,t=q9,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:q9=r);E4=e,KQ(n)}a(t_t,"nap");function KQ(e){if(!Hb){A4&&(A4=clearTimeout(A4));var t=e-Pg;t>24?(e<1/0&&(A4=setTimeout(M4e,e-S4.now()-F9)),w4&&(w4=clearInterval(w4))):(w4||(P9=S4.now(),w4=setInterval(e_t,B4e)),Hb=1,R4e(M4e))}}a(KQ,"sleep");d();function I4(e,t,r){var n=new k4;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(I4,"default");d();d();d();d();d();var r_t=jH("start","end","cancel","interrupt"),n_t=[],O4e=0,D4e=1,H9=2,Y9=3,N4e=4,z9=5,T4=6;function Kh(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;i_t(e,r,{name:t,index:n,group:i,on:r_t,tween:n_t,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:O4e})}a(Kh,"default");function M4(e,t){var r=Oa(e,t);if(r.state>O4e)throw new Error("too late; already scheduled");return r}a(M4,"init");function gs(e,t){var r=Oa(e,t);if(r.state>Y9)throw new Error("too late; already running");return r}a(gs,"set");function Oa(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Oa,"get");function i_t(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=U9(s,0,r.time);function s(f){r.state=D4e,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==D4e)return l();for(h in n)if(y=n[h],y.name===r.name){if(y.state===Y9)return I4(o);y.state===N4e?(y.state=T4,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=T4,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(I4(function(){r.state===Y9&&(r.state=N4e,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=H9,r.on.call("start",e,e.__data__,r.index,r.group),r.state===H9){for(r.state=Y9,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function u(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(l),r.state=z9,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===z9&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}a(u,"tick");function l(){r.state=T4,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(l,"stop")}a(i_t,"create");function $Q(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>H9&&n.state<z9,n.state=T4,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a($Q,"default");function XQ(e){return this.each(function(){$Q(this,e)})}a(XQ,"default");d();d();d();d();function a_t(e,t){var r,n;return function(){var i=gs(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(a_t,"tweenRemove");function s_t(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=gs(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},l=0,f=i.length;l<f;++l)if(i[l].name===t){i[l]=u;break}l===f&&i.push(u)}s.tween=i}}a(s_t,"tweenFunction");function JQ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Oa(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?a_t:s_t)(r,e,t))}a(JQ,"default");function zb(e,t,r){var n=e._id;return e.each(function(){var i=gs(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Oa(i,n).value[t]}}a(zb,"tweenValue");d();function B4(e,t){var r;return(typeof t=="number"?uc:t instanceof O0?ZC:(r=O0(t))?(t=r,ZC):e9)(e,t)}a(B4,"default");function o_t(e){return function(){this.removeAttribute(e)}}a(o_t,"attrRemove");function c_t(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(c_t,"attrRemoveNS");function u_t(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(u_t,"attrConstant");function l_t(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(l_t,"attrConstantNS");function f_t(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(f_t,"attrFunction");function h_t(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(h_t,"attrFunctionNS");function ZQ(e,t){var r=tf(e),n=r==="transform"?qz:B4;return this.attrTween(e,typeof t=="function"?(r.local?h_t:f_t)(r,n,zb(this,"attr."+e,t)):t==null?(r.local?c_t:o_t)(r):(r.local?l_t:u_t)(r,n,t))}a(ZQ,"default");d();function d_t(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(d_t,"attrInterpolate");function p_t(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(p_t,"attrInterpolateNS");function g_t(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&p_t(e,s)),r}return a(i,"tween"),i._value=t,i}a(g_t,"attrTweenNS");function y_t(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&d_t(e,s)),r}return a(i,"tween"),i._value=t,i}a(y_t,"attrTween");function eW(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=tf(e);return this.tween(r,(n.local?g_t:y_t)(n,t))}a(eW,"default");d();function m_t(e,t){return function(){M4(this,e).delay=+t.apply(this,arguments)}}a(m_t,"delayFunction");function b_t(e,t){return t=+t,function(){M4(this,e).delay=t}}a(b_t,"delayConstant");function tW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m_t:b_t)(t,e)):Oa(this.node(),t).delay}a(tW,"default");d();function v_t(e,t){return function(){gs(this,e).duration=+t.apply(this,arguments)}}a(v_t,"durationFunction");function __t(e,t){return t=+t,function(){gs(this,e).duration=t}}a(__t,"durationConstant");function rW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v_t:__t)(t,e)):Oa(this.node(),t).duration}a(rW,"default");d();function x_t(e,t){if(typeof t!="function")throw new Error;return function(){gs(this,e).ease=t}}a(x_t,"easeConstant");function nW(e){var t=this._id;return arguments.length?this.each(x_t(t,e)):Oa(this.node(),t).ease}a(nW,"default");d();function w_t(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;gs(this,e).ease=r}}a(w_t,"easeVarying");function iW(e){if(typeof e!="function")throw new Error;return this.each(w_t(this._id,e))}a(iW,"default");d();function aW(e){typeof e!="function"&&(e=Eb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new io(n,this._parents,this._name,this._id)}a(aW,"default");d();function sW(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),u=0;u<s;++u)for(var l=t[u],f=r[u],h=l.length,p=o[u]=new Array(h),g,y=0;y<h;++y)(g=l[y]||f[y])&&(p[y]=g);for(;u<n;++u)o[u]=t[u];return new io(o,this._parents,this._name,this._id)}a(sW,"default");d();function A_t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(A_t,"start");function E_t(e,t,r){var n,i,s=A_t(t)?M4:gs;return function(){var o=s(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}a(E_t,"onFunction");function oW(e,t){var r=this._id;return arguments.length<2?Oa(this.node(),r).on.on(e):this.each(E_t(r,e,t))}a(oW,"default");d();function S_t(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(S_t,"removeFunction");function cW(){return this.on("end.remove",S_t(this._id))}a(cW,"default");d();function uW(e){var t=this._name,r=this._id;typeof e!="function"&&(e=q0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],l=u.length,f=s[o]=new Array(l),h,p,g=0;g<l;++g)(h=u[g])&&(p=e.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Kh(f[g],t,r,g,f,Oa(h,r)));return new io(s,this._parents,t,r)}a(uW,"default");d();function lW(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ab(e));for(var n=this._groups,i=n.length,s=[],o=[],u=0;u<i;++u)for(var l=n[u],f=l.length,h,p=0;p<f;++p)if(h=l[p]){for(var g=e.call(h,h.__data__,p,l),y,E=Oa(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Kh(y,t,r,M,g,E);s.push(g),o.push(h)}return new io(s,o,t,r)}a(lW,"default");d();var k_t=Hh.prototype.constructor;function fW(){return new k_t(this._groups,this._parents)}a(fW,"default");d();function C_t(e,t){var r,n,i;return function(){var s=P0(this,e),o=(this.style.removeProperty(e),P0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(C_t,"styleNull");function q4e(e){return function(){this.style.removeProperty(e)}}a(q4e,"styleRemove");function I_t(e,t,r){var n,i=r+"",s;return function(){var o=P0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(I_t,"styleConstant");function T_t(e,t,r){var n,i,s;return function(){var o=P0(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),P0(this,e))),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u))}}a(T_t,"styleFunction");function M_t(e,t){var r,n,i,s="style."+t,o="end."+s,u;return function(){var l=gs(this,e),f=l.on,h=l.value[s]==null?u||(u=q4e(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),l.on=n}}a(M_t,"styleMaybeRemove");function hW(e,t,r){var n=(e+="")=="transform"?Oz:B4;return t==null?this.styleTween(e,C_t(e,n)).on("end.style."+e,q4e(e)):typeof t=="function"?this.styleTween(e,T_t(e,n,zb(this,"style."+e,t))).each(M_t(this._id,e)):this.styleTween(e,I_t(e,n,t),r).on("end.style."+e,null)}a(hW,"default");d();function B_t(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(B_t,"styleInterpolate");function R_t(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&B_t(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(R_t,"styleTween");function dW(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,R_t(e,t,r??""))}a(dW,"default");d();function L_t(e){return function(){this.textContent=e}}a(L_t,"textConstant");function D_t(e){return function(){var t=e(this);this.textContent=t??""}}a(D_t,"textFunction");function pW(e){return this.tween("text",typeof e=="function"?D_t(zb(this,"text",e)):L_t(e==null?"":e+""))}a(pW,"default");d();function N_t(e){return function(t){this.textContent=e.call(this,t)}}a(N_t,"textInterpolate");function O_t(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&N_t(i)),t}return a(n,"tween"),n._value=e,n}a(O_t,"textTween");function gW(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,O_t(e))}a(gW,"default");d();function yW(){for(var e=this._name,t=this._id,r=Q9(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var h=Oa(l,t);Kh(l,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new io(n,this._parents,e,r)}a(yW,"default");d();function mW(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var f=gs(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),f.on=t}),i===0&&s()})}a(mW,"default");var q_t=0;function io(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(io,"Transition");function P4e(e){return Hh().transition(e)}a(P4e,"transition");function Q9(){return++q_t}a(Q9,"newId");var $h=Hh.prototype;io.prototype=P4e.prototype={constructor:io,select:uW,selectAll:lW,selectChild:$h.selectChild,selectChildren:$h.selectChildren,filter:aW,merge:sW,selection:fW,transition:yW,call:$h.call,nodes:$h.nodes,node:$h.node,size:$h.size,empty:$h.empty,each:$h.each,on:oW,attr:ZQ,attrTween:eW,style:hW,styleTween:dW,text:pW,textTween:gW,remove:cW,tween:JQ,delay:tW,duration:rW,ease:nW,easeVarying:iW,end:mW,[Symbol.iterator]:$h[Symbol.iterator]};var P_t={time:null,delay:0,duration:250,ease:XC};function F_t(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(F_t,"inherit");function bW(e){var t,r;e instanceof io?(t=e._id,e=e._name):(t=Q9(),(r=P_t).time=C4(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&Kh(l,e,t,f,o,r||F_t(l,t));return new io(n,this._parents,e,t)}a(bW,"default");Hh.prototype.interrupt=XQ;Hh.prototype.transition=bW;d();d();d();d();var U_t={value:()=>{}};function U4e(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new W9(r)}a(U4e,"dispatch");function W9(e){this._=e}a(W9,"Dispatch");function Y_t(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(Y_t,"parseTypenames");W9.prototype=U4e.prototype={constructor:W9,on:function(e,t){var r=this._,n=Y_t(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=H_t(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=F4e(r[i],e.name,t);else if(t==null)for(i in r)r[i]=F4e(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new W9(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function H_t(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(H_t,"get");function F4e(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=U_t,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(F4e,"set");var vW=U4e;d();d();d();d();var V9="http://www.w3.org/1999/xhtml",_W={svg:"http://www.w3.org/2000/svg",xhtml:V9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function af(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),_W.hasOwnProperty(t)?{space:_W[t],local:e}:e}a(af,"default");function z_t(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===V9&&t.documentElement.namespaceURI===V9?t.createElement(e):t.createElementNS(r,e)}}a(z_t,"creatorInherit");function Q_t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(Q_t,"creatorFixed");function R4(e){var t=af(e);return(t.local?Q_t:z_t)(t)}a(R4,"default");d();d();d();function W_t(){}a(W_t,"none");function K0(e){return e==null?W_t:function(){return this.querySelector(e)}}a(K0,"default");function xW(e){typeof e!="function"&&(e=K0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=new Array(o),l,f,h=0;h<o;++h)(l=s[h])&&(f=e.call(l,l.__data__,h,s))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f);return new qa(n,this._parents)}a(xW,"default");d();d();function wW(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(wW,"array");d();function V_t(){return[]}a(V_t,"empty");function Qb(e){return e==null?V_t:function(){return this.querySelectorAll(e)}}a(Qb,"default");function j_t(e){return function(){return wW(e.apply(this,arguments))}}a(j_t,"arrayAll");function AW(e){typeof e=="function"?e=j_t(e):e=Qb(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(n.push(e.call(l,l.__data__,f,o)),i.push(l));return new qa(n,i)}a(AW,"default");d();d();function Wb(e){return function(){return this.matches(e)}}a(Wb,"default");function j9(e){return function(t){return t.matches(e)}}a(j9,"childMatcher");var G_t=Array.prototype.find;function K_t(e){return function(){return G_t.call(this.children,e)}}a(K_t,"childFind");function $_t(){return this.firstElementChild}a($_t,"childFirst");function EW(e){return this.select(e==null?$_t:K_t(typeof e=="function"?e:j9(e)))}a(EW,"default");d();var X_t=Array.prototype.filter;function J_t(){return Array.from(this.children)}a(J_t,"children");function Z_t(e){return function(){return X_t.call(this.children,e)}}a(Z_t,"childrenFilter");function SW(e){return this.selectAll(e==null?J_t:Z_t(typeof e=="function"?e:j9(e)))}a(SW,"default");d();function kW(e){typeof e!="function"&&(e=Wb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new qa(n,this._parents)}a(kW,"default");d();d();d();function L4(e){return new Array(e.length)}a(L4,"default");function CW(){return new qa(this._enter||this._groups.map(L4),this._parents)}a(CW,"default");function D4(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a(D4,"EnterNode");D4.prototype={constructor:D4,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function IW(e){return function(){return e}}a(IW,"default");function ext(e,t,r,n,i,s){for(var o=0,u,l=t.length,f=s.length;o<f;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new D4(e,s[o]);for(;o<l;++o)(u=t[o])&&(i[o]=u)}a(ext,"bindIndex");function txt(e,t,r,n,i,s,o){var u,l,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(u=0;u<h;++u)(l=t[u])&&(g[u]=y=o.call(l,l.__data__,u,t)+"",f.has(y)?i[u]=l:f.set(y,l));for(u=0;u<p;++u)y=o.call(e,s[u],u,s)+"",(l=f.get(y))?(n[u]=l,l.__data__=s[u],f.delete(y)):r[u]=new D4(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&f.get(g[u])===l&&(i[u]=l)}a(txt,"bindKey");function rxt(e){return e.__data__}a(rxt,"datum");function TW(e,t){if(!arguments.length)return Array.from(this,rxt);var r=t?txt:ext,n=this._parents,i=this._groups;typeof e!="function"&&(e=IW(e));for(var s=i.length,o=new Array(s),u=new Array(s),l=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=nxt(e.call(h,h&&h.__data__,f,n)),E=y.length,M=u[f]=new Array(E),z=o[f]=new Array(E),P=l[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new qa(o,n),o._enter=u,o._exit=l,o}a(TW,"default");function nxt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(nxt,"arraylike");d();function MW(){return new qa(this._exit||this._groups.map(L4),this._parents)}a(MW,"default");d();function BW(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(BW,"default");d();function RW(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),u=new Array(i),l=0;l<o;++l)for(var f=r[l],h=n[l],p=f.length,g=u[l]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;l<i;++l)u[l]=r[l];return new qa(u,this._parents)}a(RW,"default");d();function LW(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(LW,"default");d();function DW(e){e||(e=ixt);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=i[s]=new Array(u),f,h=0;h<u;++h)(f=o[h])&&(l[h]=f);l.sort(t)}return new qa(i,this._parents).order()}a(DW,"default");function ixt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(ixt,"ascending");d();function NW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(NW,"default");d();function OW(){return Array.from(this)}a(OW,"default");d();function qW(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(qW,"default");d();function PW(){let e=0;for(let t of this)++e;return e}a(PW,"default");d();function FW(){return!this.node()}a(FW,"default");d();function UW(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,u;s<o;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}a(UW,"default");d();function axt(e){return function(){this.removeAttribute(e)}}a(axt,"attrRemove");function sxt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(sxt,"attrRemoveNS");function oxt(e,t){return function(){this.setAttribute(e,t)}}a(oxt,"attrConstant");function cxt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a(cxt,"attrConstantNS");function uxt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(uxt,"attrFunction");function lxt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(lxt,"attrFunctionNS");function YW(e,t){var r=af(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?sxt:axt:typeof t=="function"?r.local?lxt:uxt:r.local?cxt:oxt)(r,t))}a(YW,"default");d();d();function N4(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(N4,"default");function fxt(e){return function(){this.style.removeProperty(e)}}a(fxt,"styleRemove");function hxt(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(hxt,"styleConstant");function dxt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(dxt,"styleFunction");function HW(e,t,r){return arguments.length>1?this.each((t==null?fxt:typeof t=="function"?dxt:hxt)(e,t,r??"")):$0(this.node(),e)}a(HW,"default");function $0(e,t){return e.style.getPropertyValue(t)||N4(e).getComputedStyle(e,null).getPropertyValue(t)}a($0,"styleValue");d();function pxt(e){return function(){delete this[e]}}a(pxt,"propertyRemove");function gxt(e,t){return function(){this[e]=t}}a(gxt,"propertyConstant");function yxt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(yxt,"propertyFunction");function zW(e,t){return arguments.length>1?this.each((t==null?pxt:typeof t=="function"?yxt:gxt)(e,t)):this.node()[e]}a(zW,"default");d();function Y4e(e){return e.trim().split(/^|\s+/)}a(Y4e,"classArray");function QW(e){return e.classList||new H4e(e)}a(QW,"classList");function H4e(e){this._node=e,this._names=Y4e(e.getAttribute("class")||"")}a(H4e,"ClassList");H4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z4e(e,t){for(var r=QW(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(z4e,"classedAdd");function Q4e(e,t){for(var r=QW(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(Q4e,"classedRemove");function mxt(e){return function(){z4e(this,e)}}a(mxt,"classedTrue");function bxt(e){return function(){Q4e(this,e)}}a(bxt,"classedFalse");function vxt(e,t){return function(){(t.apply(this,arguments)?z4e:Q4e)(this,e)}}a(vxt,"classedFunction");function WW(e,t){var r=Y4e(e+"");if(arguments.length<2){for(var n=QW(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?vxt:t?mxt:bxt)(r,t))}a(WW,"default");d();function _xt(){this.textContent=""}a(_xt,"textRemove");function xxt(e){return function(){this.textContent=e}}a(xxt,"textConstant");function wxt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(wxt,"textFunction");function VW(e){return arguments.length?this.each(e==null?_xt:(typeof e=="function"?wxt:xxt)(e)):this.node().textContent}a(VW,"default");d();function Axt(){this.innerHTML=""}a(Axt,"htmlRemove");function Ext(e){return function(){this.innerHTML=e}}a(Ext,"htmlConstant");function Sxt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a(Sxt,"htmlFunction");function jW(e){return arguments.length?this.each(e==null?Axt:(typeof e=="function"?Sxt:Ext)(e)):this.node().innerHTML}a(jW,"default");d();function kxt(){this.nextSibling&&this.parentNode.appendChild(this)}a(kxt,"raise");function GW(){return this.each(kxt)}a(GW,"default");d();function Cxt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(Cxt,"lower");function KW(){return this.each(Cxt)}a(KW,"default");d();function $W(e){var t=typeof e=="function"?e:R4(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a($W,"default");d();function Ixt(){return null}a(Ixt,"constantNull");function XW(e,t){var r=typeof e=="function"?e:R4(e),n=t==null?Ixt:typeof t=="function"?t:K0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(XW,"default");d();function Txt(){var e=this.parentNode;e&&e.removeChild(this)}a(Txt,"remove");function JW(){return this.each(Txt)}a(JW,"default");d();function Mxt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(Mxt,"selection_cloneShallow");function Bxt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(Bxt,"selection_cloneDeep");function ZW(e){return this.select(e?Bxt:Mxt)}a(ZW,"default");d();function eV(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(eV,"default");d();function Rxt(e){return function(t){e.call(this,t,this.__data__)}}a(Rxt,"contextListener");function Lxt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(Lxt,"parseTypenames");function Dxt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(Dxt,"onRemove");function Nxt(e,t,r){return function(){var n=this.__on,i,s=Rxt(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(Nxt,"onAdd");function tV(e,t,r){var n=Lxt(e+""),i,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,h;l<f;++l)for(i=0,h=u[l];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?Nxt:Dxt,i=0;i<s;++i)this.each(u(n[i],t,r));return this}a(tV,"default");d();function W4e(e,t,r){var n=N4(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(W4e,"dispatchEvent");function Oxt(e,t){return function(){return W4e(this,e,t)}}a(Oxt,"dispatchConstant");function qxt(e,t){return function(){return W4e(this,e,t.apply(this,arguments))}}a(qxt,"dispatchFunction");function rV(e,t){return this.each((typeof t=="function"?qxt:Oxt)(e,t))}a(rV,"default");d();function*nV(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(nV,"default");var Pxt=[null];function qa(e,t){this._groups=e,this._parents=t}a(qa,"Selection");function V4e(){return new qa([[document.documentElement]],Pxt)}a(V4e,"selection");function Fxt(){return this}a(Fxt,"selection_selection");qa.prototype=V4e.prototype={constructor:qa,select:xW,selectAll:AW,selectChild:EW,selectChildren:SW,filter:kW,data:TW,enter:CW,exit:MW,join:BW,merge:RW,selection:Fxt,order:LW,sort:DW,call:NW,nodes:OW,node:qW,size:PW,empty:FW,each:UW,attr:YW,style:HW,property:zW,classed:WW,text:VW,html:jW,raise:GW,lower:KW,append:$W,insert:XW,remove:JW,clone:ZW,datum:eV,on:tV,dispatch:rV,[Symbol.iterator]:nV};var Xh=V4e;d();d();d();d();function O4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(O4,"default");function iV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(iV,"extend");function F4(){}a(F4,"Color");var q4=.7,$9=1/q4,Vb="\\s*([+-]?\\d+)\\s*",P4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uxt=/^#([0-9a-f]{3,8})$/,Yxt=new RegExp(`^rgb\\(${Vb},${Vb},${Vb}\\)$`),Hxt=new RegExp(`^rgb\\(${sf},${sf},${sf}\\)$`),zxt=new RegExp(`^rgba\\(${Vb},${Vb},${Vb},${P4}\\)$`),Qxt=new RegExp(`^rgba\\(${sf},${sf},${sf},${P4}\\)$`),Wxt=new RegExp(`^hsl\\(${P4},${sf},${sf}\\)$`),Vxt=new RegExp(`^hsla\\(${P4},${sf},${sf},${P4}\\)$`),j4e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O4(F4,X0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:G4e,formatHex:G4e,formatHex8:jxt,formatHsl:Gxt,formatRgb:K4e,toString:K4e});function G4e(){return this.rgb().formatHex()}a(G4e,"color_formatHex");function jxt(){return this.rgb().formatHex8()}a(jxt,"color_formatHex8");function Gxt(){return t5e(this).formatHsl()}a(Gxt,"color_formatHsl");function K4e(){return this.rgb().formatRgb()}a(K4e,"color_formatRgb");function X0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uxt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$4e(t):r===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?G9(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?G9(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yxt.exec(e))?new To(t[1],t[2],t[3],1):(t=Hxt.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zxt.exec(e))?G9(t[1],t[2],t[3],t[4]):(t=Qxt.exec(e))?G9(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wxt.exec(e))?Z4e(t[1],t[2]/100,t[3]/100,1):(t=Vxt.exec(e))?Z4e(t[1],t[2]/100,t[3]/100,t[4]):j4e.hasOwnProperty(e)?$4e(j4e[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}a(X0,"color");function $4e(e){return new To(e>>16&255,e>>8&255,e&255,1)}a($4e,"rgbn");function G9(e,t,r,n){return n<=0&&(e=t=r=NaN),new To(e,t,r,n)}a(G9,"rgba");function Kxt(e){return e instanceof F4||(e=X0(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}a(Kxt,"rgbConvert");function jb(e,t,r,n){return arguments.length===1?Kxt(e):new To(e,t,r,n??1)}a(jb,"rgb");function To(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(To,"Rgb");O4(To,jb,iV(F4,{brighter(e){return e=e==null?$9:Math.pow($9,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?q4:Math.pow(q4,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Ug(this.r),Ug(this.g),Ug(this.b),X9(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X4e,formatHex:X4e,formatHex8:$xt,formatRgb:J4e,toString:J4e}));function X4e(){return`#${Fg(this.r)}${Fg(this.g)}${Fg(this.b)}`}a(X4e,"rgb_formatHex");function $xt(){return`#${Fg(this.r)}${Fg(this.g)}${Fg(this.b)}${Fg((isNaN(this.opacity)?1:this.opacity)*255)}`}a($xt,"rgb_formatHex8");function J4e(){let e=X9(this.opacity);return`${e===1?"rgb(":"rgba("}${Ug(this.r)}, ${Ug(this.g)}, ${Ug(this.b)}${e===1?")":`, ${e})`}`}a(J4e,"rgb_formatRgb");function X9(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(X9,"clampa");function Ug(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(Ug,"clampi");function Fg(e){return e=Ug(e),(e<16?"0":"")+e.toString(16)}a(Fg,"hex");function Z4e(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wu(e,t,r,n)}a(Z4e,"hsla");function t5e(e){if(e instanceof Wu)return new Wu(e.h,e.s,e.l,e.opacity);if(e instanceof F4||(e=X0(e)),!e)return new Wu;if(e instanceof Wu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,l=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new Wu(o,u,l,e.opacity)}a(t5e,"hslConvert");function r5e(e,t,r,n){return arguments.length===1?t5e(e):new Wu(e,t,r,n??1)}a(r5e,"hsl");function Wu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Wu,"Hsl");O4(Wu,r5e,iV(F4,{brighter(e){return e=e==null?$9:Math.pow($9,e),new Wu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?q4:Math.pow(q4,e),new Wu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new To(aV(e>=240?e-240:e+120,i,n),aV(e,i,n),aV(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Wu(e5e(this.h),K9(this.s),K9(this.l),X9(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=X9(this.opacity);return`${e===1?"hsl(":"hsla("}${e5e(this.h)}, ${K9(this.s)*100}%, ${K9(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e5e(e){return e=(e||0)%360,e<0?e+360:e}a(e5e,"clamph");function K9(e){return Math.max(0,Math.min(1,e||0))}a(K9,"clampt");function aV(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(aV,"hsl2rgb");d();d();function sV(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(sV,"basis");function oV(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,u=n<t-1?e[n+2]:2*s-i;return sV((r-n/t)*t,o,i,s,u)}}a(oV,"default");d();function cV(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return sV((r-n/t)*t,i,s,o,u)}}a(cV,"default");d();d();var uV=a(e=>()=>e,"default");function Xxt(e,t){return function(r){return e+r*t}}a(Xxt,"linear");function Jxt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Jxt,"exponential");function n5e(e){return(e=+e)==1?J9:function(t,r){return r-t?Jxt(t,r,e):uV(isNaN(t)?r:t)}}a(n5e,"gamma");function J9(e,t){var r=t-e;return r?Xxt(e,r):uV(isNaN(e)?t:e)}a(J9,"nogamma");var Z9=a(function e(t){var r=n5e(t);function n(i,s){var o=r((i=jb(i)).r,(s=jb(s)).r),u=r(i.g,s.g),l=r(i.b,s.b),f=J9(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=l(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function i5e(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=jb(t[o]),n[o]=u.r||0,i[o]=u.g||0,s[o]=u.b||0;return n=e(n),i=e(i),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=i(l),u.b=s(l),u+""}}}a(i5e,"rgbSpline");var Zxt=i5e(oV),ewt=i5e(cV);d();function lc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(lc,"default");d();var fV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lV=new RegExp(fV.source,"g");function twt(e){return function(){return e}}a(twt,"zero");function rwt(e){return function(t){return e(t)+""}}a(rwt,"one");function eI(e,t){var r=fV.lastIndex=lV.lastIndex=0,n,i,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=fV.exec(e))&&(i=lV.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:lc(n,i)})),r=lV.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?rwt(l[0].x):twt(t):(t=l.length,function(f){for(var h=0,p;h<t;++h)u[(p=l[h]).i]=p.x(f);return u.join("")})}a(eI,"default");d();d();d();var a5e=180/Math.PI,tI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rI(e,t,r,n,i,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*a5e,skewX:Math.atan(l)*a5e,scaleX:o,scaleY:u}}a(rI,"default");var nI;function s5e(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tI:rI(t.a,t.b,t.c,t.d,t.e,t.f)}a(s5e,"parseCss");function o5e(e){return e==null?tI:(nI||(nI=document.createElementNS("http://www.w3.org/2000/svg","g")),nI.setAttribute("transform",e),(e=nI.transform.baseVal.consolidate())?(e=e.matrix,rI(e.a,e.b,e.c,e.d,e.e,e.f)):tI)}a(o5e,"parseSvg");function c5e(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:lc(f,p)},{i:M-2,x:lc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:lc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function u(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:lc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(u,"skewX");function l(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:lc(f,p)},{i:M-2,x:lc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(l,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),u(f.skewX,h.skewX,p,g),l(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(c5e,"interpolateTransform");var hV=c5e(s5e,"px, ","px)","deg)"),dV=c5e(o5e,", ",")",")");d();d();d();d();d();d();d();var Gb=0,Y4=0,U4=0,l5e=1e3,iI,H4,aI=0,Yg=0,sI=0,z4=typeof performance=="object"&&performance.now?performance:Date,f5e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function W4(){return Yg||(f5e(nwt),Yg=z4.now()+sI)}a(W4,"now");function nwt(){Yg=0}a(nwt,"clearNow");function Q4(){this._call=this._time=this._next=null}a(Q4,"Timer");Q4.prototype=oI.prototype={constructor:Q4,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?W4():+r)+(t==null?0:+t),!this._next&&H4!==this&&(H4?H4._next=this:iI=this,H4=this),this._call=e,this._time=r,pV()},stop:function(){this._call&&(this._call=null,this._time=1/0,pV())}};function oI(e,t,r){var n=new Q4;return n.restart(e,t,r),n}a(oI,"timer");function h5e(){W4(),++Gb;for(var e=iI,t;e;)(t=Yg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gb}a(h5e,"timerFlush");function u5e(){Yg=(aI=z4.now())+sI,Gb=Y4=0;try{h5e()}finally{Gb=0,awt(),Yg=0}}a(u5e,"wake");function iwt(){var e=z4.now(),t=e-aI;t>l5e&&(sI-=t,aI=e)}a(iwt,"poke");function awt(){for(var e,t=iI,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:iI=r);H4=e,pV(n)}a(awt,"nap");function pV(e){if(!Gb){Y4&&(Y4=clearTimeout(Y4));var t=e-Yg;t>24?(e<1/0&&(Y4=setTimeout(u5e,e-z4.now()-sI)),U4&&(U4=clearInterval(U4))):(U4||(aI=z4.now(),U4=setInterval(iwt,l5e)),Gb=1,f5e(u5e))}}a(pV,"sleep");d();function V4(e,t,r){var n=new Q4;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(V4,"default");var swt=vW("start","end","cancel","interrupt"),owt=[],g5e=0,d5e=1,uI=2,cI=3,p5e=4,lI=5,j4=6;function Jh(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;cwt(e,r,{name:t,index:n,group:i,on:swt,tween:owt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:g5e})}a(Jh,"default");function G4(e,t){var r=Pa(e,t);if(r.state>g5e)throw new Error("too late; already scheduled");return r}a(G4,"init");function ys(e,t){var r=Pa(e,t);if(r.state>cI)throw new Error("too late; already running");return r}a(ys,"set");function Pa(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Pa,"get");function cwt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=oI(s,0,r.time);function s(f){r.state=d5e,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==d5e)return l();for(h in n)if(y=n[h],y.name===r.name){if(y.state===cI)return V4(o);y.state===p5e?(y.state=j4,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=j4,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(V4(function(){r.state===cI&&(r.state=p5e,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=uI,r.on.call("start",e,e.__data__,r.index,r.group),r.state===uI){for(r.state=cI,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function u(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(l),r.state=lI,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===lI&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}a(u,"tick");function l(){r.state=j4,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(l,"stop")}a(cwt,"create");function fI(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>uI&&n.state<lI,n.state=j4,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a(fI,"default");function gV(e){return this.each(function(){fI(this,e)})}a(gV,"default");d();d();d();d();function uwt(e,t){var r,n;return function(){var i=ys(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(uwt,"tweenRemove");function lwt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=ys(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},l=0,f=i.length;l<f;++l)if(i[l].name===t){i[l]=u;break}l===f&&i.push(u)}s.tween=i}}a(lwt,"tweenFunction");function yV(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Pa(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?uwt:lwt)(r,e,t))}a(yV,"default");function Kb(e,t,r){var n=e._id;return e.each(function(){var i=ys(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Pa(i,n).value[t]}}a(Kb,"tweenValue");d();function K4(e,t){var r;return(typeof t=="number"?lc:t instanceof X0?Z9:(r=X0(t))?(t=r,Z9):eI)(e,t)}a(K4,"default");function fwt(e){return function(){this.removeAttribute(e)}}a(fwt,"attrRemove");function hwt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(hwt,"attrRemoveNS");function dwt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(dwt,"attrConstant");function pwt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(pwt,"attrConstantNS");function gwt(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(gwt,"attrFunction");function ywt(e,t,r){var n,i,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u)))}}a(ywt,"attrFunctionNS");function mV(e,t){var r=af(e),n=r==="transform"?dV:K4;return this.attrTween(e,typeof t=="function"?(r.local?ywt:gwt)(r,n,Kb(this,"attr."+e,t)):t==null?(r.local?hwt:fwt)(r):(r.local?pwt:dwt)(r,n,t))}a(mV,"default");d();function mwt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(mwt,"attrInterpolate");function bwt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(bwt,"attrInterpolateNS");function vwt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&bwt(e,s)),r}return a(i,"tween"),i._value=t,i}a(vwt,"attrTweenNS");function _wt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&mwt(e,s)),r}return a(i,"tween"),i._value=t,i}a(_wt,"attrTween");function bV(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=af(e);return this.tween(r,(n.local?vwt:_wt)(n,t))}a(bV,"default");d();function xwt(e,t){return function(){G4(this,e).delay=+t.apply(this,arguments)}}a(xwt,"delayFunction");function wwt(e,t){return t=+t,function(){G4(this,e).delay=t}}a(wwt,"delayConstant");function vV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xwt:wwt)(t,e)):Pa(this.node(),t).delay}a(vV,"default");d();function Awt(e,t){return function(){ys(this,e).duration=+t.apply(this,arguments)}}a(Awt,"durationFunction");function Ewt(e,t){return t=+t,function(){ys(this,e).duration=t}}a(Ewt,"durationConstant");function _V(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Awt:Ewt)(t,e)):Pa(this.node(),t).duration}a(_V,"default");d();function Swt(e,t){if(typeof t!="function")throw new Error;return function(){ys(this,e).ease=t}}a(Swt,"easeConstant");function xV(e){var t=this._id;return arguments.length?this.each(Swt(t,e)):Pa(this.node(),t).ease}a(xV,"default");d();function kwt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ys(this,e).ease=r}}a(kwt,"easeVarying");function wV(e){if(typeof e!="function")throw new Error;return this.each(kwt(this._id,e))}a(wV,"default");d();function AV(e){typeof e!="function"&&(e=Wb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],l,f=0;f<o;++f)(l=s[f])&&e.call(l,l.__data__,f,s)&&u.push(l);return new ao(n,this._parents,this._name,this._id)}a(AV,"default");d();function EV(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),u=0;u<s;++u)for(var l=t[u],f=r[u],h=l.length,p=o[u]=new Array(h),g,y=0;y<h;++y)(g=l[y]||f[y])&&(p[y]=g);for(;u<n;++u)o[u]=t[u];return new ao(o,this._parents,this._name,this._id)}a(EV,"default");d();function Cwt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(Cwt,"start");function Iwt(e,t,r){var n,i,s=Cwt(t)?G4:ys;return function(){var o=s(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}a(Iwt,"onFunction");function SV(e,t){var r=this._id;return arguments.length<2?Pa(this.node(),r).on.on(e):this.each(Iwt(r,e,t))}a(SV,"default");d();function Twt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(Twt,"removeFunction");function kV(){return this.on("end.remove",Twt(this._id))}a(kV,"default");d();function CV(e){var t=this._name,r=this._id;typeof e!="function"&&(e=K0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],l=u.length,f=s[o]=new Array(l),h,p,g=0;g<l;++g)(h=u[g])&&(p=e.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Jh(f[g],t,r,g,f,Pa(h,r)));return new ao(s,this._parents,t,r)}a(CV,"default");d();function IV(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Qb(e));for(var n=this._groups,i=n.length,s=[],o=[],u=0;u<i;++u)for(var l=n[u],f=l.length,h,p=0;p<f;++p)if(h=l[p]){for(var g=e.call(h,h.__data__,p,l),y,E=Pa(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Jh(y,t,r,M,g,E);s.push(g),o.push(h)}return new ao(s,o,t,r)}a(IV,"default");d();var Mwt=Xh.prototype.constructor;function TV(){return new Mwt(this._groups,this._parents)}a(TV,"default");d();function Bwt(e,t){var r,n,i;return function(){var s=$0(this,e),o=(this.style.removeProperty(e),$0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(Bwt,"styleNull");function y5e(e){return function(){this.style.removeProperty(e)}}a(y5e,"styleRemove");function Rwt(e,t,r){var n,i=r+"",s;return function(){var o=$0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(Rwt,"styleConstant");function Lwt(e,t,r){var n,i,s;return function(){var o=$0(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),$0(this,e))),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,u))}}a(Lwt,"styleFunction");function Dwt(e,t){var r,n,i,s="style."+t,o="end."+s,u;return function(){var l=ys(this,e),f=l.on,h=l.value[s]==null?u||(u=y5e(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),l.on=n}}a(Dwt,"styleMaybeRemove");function MV(e,t,r){var n=(e+="")=="transform"?hV:K4;return t==null?this.styleTween(e,Bwt(e,n)).on("end.style."+e,y5e(e)):typeof t=="function"?this.styleTween(e,Lwt(e,n,Kb(this,"style."+e,t))).each(Dwt(this._id,e)):this.styleTween(e,Rwt(e,n,t),r).on("end.style."+e,null)}a(MV,"default");d();function Nwt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(Nwt,"styleInterpolate");function Owt(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Nwt(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(Owt,"styleTween");function BV(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Owt(e,t,r??""))}a(BV,"default");d();function qwt(e){return function(){this.textContent=e}}a(qwt,"textConstant");function Pwt(e){return function(){var t=e(this);this.textContent=t??""}}a(Pwt,"textFunction");function RV(e){return this.tween("text",typeof e=="function"?Pwt(Kb(this,"text",e)):qwt(e==null?"":e+""))}a(RV,"default");d();function Fwt(e){return function(t){this.textContent=e.call(this,t)}}a(Fwt,"textInterpolate");function Uwt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Fwt(i)),t}return a(n,"tween"),n._value=e,n}a(Uwt,"textTween");function LV(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Uwt(e))}a(LV,"default");d();function DV(){for(var e=this._name,t=this._id,r=hI(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var h=Pa(l,t);Jh(l,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ao(n,this._parents,e,r)}a(DV,"default");d();function NV(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var f=ys(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),f.on=t}),i===0&&s()})}a(NV,"default");var Ywt=0;function ao(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(ao,"Transition");function m5e(e){return Xh().transition(e)}a(m5e,"transition");function hI(){return++Ywt}a(hI,"newId");var Zh=Xh.prototype;ao.prototype=m5e.prototype={constructor:ao,select:CV,selectAll:IV,selectChild:Zh.selectChild,selectChildren:Zh.selectChildren,filter:AV,merge:EV,selection:TV,transition:DV,call:Zh.call,nodes:Zh.nodes,node:Zh.node,size:Zh.size,empty:Zh.empty,each:Zh.each,on:SV,attr:mV,attrTween:bV,style:MV,styleTween:BV,text:RV,textTween:LV,remove:kV,tween:yV,delay:vV,duration:_V,ease:xV,easeVarying:wV,end:NV,[Symbol.iterator]:Zh[Symbol.iterator]};d();d();function dI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(dI,"cubicInOut");var Hwt={time:null,delay:0,duration:250,ease:dI};function zwt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(zwt,"inherit");function OV(e){var t,r;e instanceof ao?(t=e._id,e=e._name):(t=hI(),(r=Hwt).time=W4(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,l,f=0;f<u;++f)(l=o[f])&&Jh(l,e,t,f,o,r||zwt(l,t));return new ao(n,this._parents,e,t)}a(OV,"default");Xh.prototype.interrupt=gV;Xh.prototype.transition=OV;d();d();d();function J0(e,t,r){this.k=e,this.x=t,this.y=r}a(J0,"Transform");J0.prototype={constructor:J0,scale:function(e){return e===1?this:new J0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new J0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qV=new J0(1,0,0);PV.prototype=J0.prototype;function PV(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qV;return e.__zoom}a(PV,"transform");d();var xv=wn(vO(),1);d();d();d();d();var pI={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return pI.hue2rgb(s,i,e+.3333333333333333)*255;case"g":return pI.hue2rgb(s,i,e)*255;case"b":return pI.hue2rgb(s,i,e-.3333333333333333)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(n==="l")return o*100;if(i===s)return 0;let u=i-s,l=o>.5?u/(2-i-s):u/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/u+(t<r?6:0))*60;case t:return((r-e)/u+2)*60;case r:return((e-t)/u+4)*60;default:return-1}}},b5e=pI;d();var Qwt={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},v5e=Qwt;d();var Wwt={dec2hex:e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},_5e=Wwt;var Vwt={channel:b5e,lang:v5e,unit:_5e},zr=Vwt;d();d();d();d();var ed={};for(let e=0;e<=255;e++)ed[e]=zr.unit.dec2hex(e);var Fa={ALL:0,RGB:1,HSL:2};var gI=class{constructor(){this.type=Fa.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Fa.ALL}is(t){return this.type===t}};a(gI,"Type");var x5e=gI;var yI=class{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new x5e}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Fa.ALL,this}_ensureHSL(){let t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=zr.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=zr.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=zr.channel.rgb2hsl(t,"l"))}_ensureRGB(){let t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=zr.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=zr.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=zr.channel.hsl2rgb(t,"b"))}get r(){let t=this.data,r=t.r;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),zr.channel.hsl2rgb(t,"r"))}get g(){let t=this.data,r=t.g;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),zr.channel.hsl2rgb(t,"g"))}get b(){let t=this.data,r=t.b;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),zr.channel.hsl2rgb(t,"b"))}get h(){let t=this.data,r=t.h;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),zr.channel.rgb2hsl(t,"h"))}get s(){let t=this.data,r=t.s;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),zr.channel.rgb2hsl(t,"s"))}get l(){let t=this.data,r=t.l;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),zr.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Fa.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Fa.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Fa.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Fa.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Fa.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Fa.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}};a(yI,"Channels");var w5e=yI;var jwt=new w5e({r:0,g:0,b:0,a:0},"transparent"),Z0=jwt;d();d();var A5e={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(A5e.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,o=i>4,u=o?1:17,l=o?8:4,f=s?0:-1,h=o?255:15;return Z0.set({r:(n>>l*(f+3)&h)*u,g:(n>>l*(f+2)&h)*u,b:(n>>l*(f+1)&h)*u,a:s?(n&h)*u/255:1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${ed[Math.round(t)]}${ed[Math.round(r)]}${ed[Math.round(n)]}${ed[Math.round(i*255)]}`:`#${ed[Math.round(t)]}${ed[Math.round(r)]}${ed[Math.round(n)]}`}},Hg=A5e;d();var mI={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{let t=e.match(mI.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return zr.channel.clamp.h(parseFloat(r)*.9);case"rad":return zr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return zr.channel.clamp.h(parseFloat(r)*360)}}return zr.channel.clamp.h(parseFloat(e))},parse:e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(mI.re);if(!r)return;let[,n,i,s,o,u]=r;return Z0.set({h:mI._hue2deg(n),s:zr.channel.clamp.s(parseFloat(i)),l:zr.channel.clamp.l(parseFloat(s)),a:o?zr.channel.clamp.a(u?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${zr.lang.round(t)}, ${zr.lang.round(r)}%, ${zr.lang.round(n)}%, ${i})`:`hsl(${zr.lang.round(t)}, ${zr.lang.round(r)}%, ${zr.lang.round(n)}%)`}},$4=mI;d();var bI={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();let t=bI.colors[e];if(!!t)return Hg.parse(t)},stringify:e=>{let t=Hg.stringify(e);for(let r in bI.colors)if(bI.colors[r]===t)return r}},FV=bI;d();var E5e={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(E5e.re);if(!r)return;let[,n,i,s,o,u,l,f,h]=r;return Z0.set({r:zr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:zr.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:zr.channel.clamp.b(l?parseFloat(u)*2.55:parseFloat(u)),a:f?zr.channel.clamp.a(h?parseFloat(f)/100:parseFloat(f)):1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${zr.lang.round(t)}, ${zr.lang.round(r)}, ${zr.lang.round(n)}, ${zr.lang.round(i)})`:`rgb(${zr.lang.round(t)}, ${zr.lang.round(r)}, ${zr.lang.round(n)})`}},X4=E5e;var Gwt={format:{keyword:FV,hex:Hg,rgb:X4,rgba:X4,hsl:$4,hsla:$4},parse:e=>{if(typeof e!="string")return e;let t=Hg.parse(e)||X4.parse(e)||$4.parse(e)||FV.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Fa.HSL)||e.data.r===void 0?$4.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?X4.stringify(e):Hg.stringify(e)},so=Gwt;d();var Kwt=a((e,t)=>{let r=so.parse(e);for(let n in t)r[n]=zr.channel.clamp[n](t[n]);return so.stringify(r)},"change"),vI=Kwt;var $wt=a((e,t,r=0,n=1)=>{if(typeof e!="number")return vI(e,{a:t});let i=Z0.set({r:zr.channel.clamp.r(e),g:zr.channel.clamp.g(t),b:zr.channel.clamp.b(r),a:zr.channel.clamp.a(n)});return so.stringify(i)},"rgba"),ep=$wt;d();var Xwt=a((e,t,r)=>{let n=so.parse(e),i=n[t],s=zr.channel.clamp[t](i+r);return i!==s&&(n[t]=s),so.stringify(n)},"adjustChannel"),_I=Xwt;d();var Jwt=a((e,t)=>_I(e,"l",t),"lighten"),qr=Jwt;d();var Zwt=a((e,t)=>_I(e,"l",-t),"darken"),Vr=Zwt;d();var e3t=a((e,t)=>{let r=so.parse(e),n={};for(let i in t)!t[i]||(n[i]=r[i]+t[i]);return vI(e,n)},"adjust"),qt=e3t;d();d();var t3t=a((e,t,r=50)=>{let{r:n,g:i,b:s,a:o}=so.parse(e),{r:u,g:l,b:f,a:h}=so.parse(t),p=r/100,g=p*2-1,y=o-h,M=((g*y===-1?g:(g+y)/(1+g*y))+1)/2,z=1-M,P=n*M+u*z,Q=i*M+l*z,V=s*M+f*z,W=o*p+h*(1-p);return ep(P,Q,V,W)},"mix"),S5e=t3t;var r3t=a((e,t=100)=>{let r=so.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,S5e(r,e,t)},"invert"),gr=r3t;d();var xI="comm",wI="rule",AI="decl";var k5e="@import";var C5e="@keyframes";d();var I5e=Math.abs,J4=String.fromCharCode;function EI(e){return e.trim()}a(EI,"trim");function SI(e,t,r){return e.replace(t,r)}a(SI,"replace");function T5e(e,t){return e.indexOf(t)}a(T5e,"indexof");function zg(e,t){return e.charCodeAt(t)|0}a(zg,"charat");function Qg(e,t,r){return e.slice(t,r)}a(Qg,"substr");function Vu(e){return e.length}a(Vu,"strlen");function kI(e){return e.length}a(kI,"sizeof");function $b(e,t){return t.push(e),e}a($b,"append");d();d();var CI=1,Xb=1,M5e=0,eu=0,xa=0,Jb="";function II(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:CI,column:Xb,length:o,return:""}}a(II,"node");function B5e(){return xa}a(B5e,"char");function R5e(){return xa=eu>0?zg(Jb,--eu):0,Xb--,xa===10&&(Xb=1,CI--),xa}a(R5e,"prev");function tu(){return xa=eu<M5e?zg(Jb,eu++):0,Xb++,xa===10&&(Xb=1,CI++),xa}a(tu,"next");function tp(){return zg(Jb,eu)}a(tp,"peek");function Z4(){return eu}a(Z4,"caret");function TI(e,t){return Qg(Jb,e,t)}a(TI,"slice");function UV(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}a(UV,"token");function L5e(e){return CI=Xb=1,M5e=Vu(Jb=e),eu=0,[]}a(L5e,"alloc");function D5e(e){return Jb="",e}a(D5e,"dealloc");function MI(e){return EI(TI(eu-1,YV(e===91?e+2:e===40?e+1:e)))}a(MI,"delimit");function N5e(e){for(;(xa=tp())&&xa<33;)tu();return UV(e)>2||UV(xa)>3?"":" "}a(N5e,"whitespace");function O5e(e,t){for(;--t&&tu()&&!(xa<48||xa>102||xa>57&&xa<65||xa>70&&xa<97););return TI(e,Z4()+(t<6&&tp()==32&&tu()==32))}a(O5e,"escaping");function YV(e){for(;tu();)switch(xa){case e:return eu;case 34:case 39:e!==34&&e!==39&&YV(xa);break;case 40:e===41&&YV(e);break;case 92:tu();break}return eu}a(YV,"delimiter");function q5e(e,t){for(;tu()&&e+xa!==47+10;)if(e+xa===42+42&&tp()===47)break;return"/*"+TI(t,eu-1)+"*"+J4(e===47?e:tu())}a(q5e,"commenter");function P5e(e){for(;!UV(tp());)tu();return TI(e,eu)}a(P5e,"identifier");function HV(e){return D5e(BI("",null,null,null,[""],e=L5e(e),0,[0],e))}a(HV,"compile");function BI(e,t,r,n,i,s,o,u,l){for(var f=0,h=0,p=o,g=0,y=0,E=0,M=1,z=1,P=1,Q=0,V="",W=i,F=s,B=n,S=V;z;)switch(E=Q,Q=tu()){case 40:if(E!=108&&zg(S,p-1)==58){T5e(S+=SI(MI(Q),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:S+=MI(Q);break;case 9:case 10:case 13:case 32:S+=N5e(E);break;case 92:S+=O5e(Z4()-1,7);continue;case 47:switch(tp()){case 42:case 47:$b(n3t(q5e(tu(),Z4()),t,r),l);break;default:S+="/"}break;case 123*M:u[f++]=Vu(S)*P;case 125*M:case 59:case 0:switch(Q){case 0:case 125:z=0;case 59+h:y>0&&Vu(S)-p&&$b(y>32?U5e(S+";",n,r,p-1):U5e(SI(S," ","")+";",n,r,p-2),l);break;case 59:S+=";";default:if($b(B=F5e(S,t,r,f,h,i,u,V,W=[],F=[],p),s),Q===123)if(h===0)BI(S,t,B,B,W,s,p,u,F);else switch(g===99&&zg(S,3)===110?100:g){case 100:case 109:case 115:BI(e,B,B,n&&$b(F5e(e,B,B,0,0,i,u,V,i,W=[],p),F),i,F,p,u,n?W:F);break;default:BI(S,B,B,B,[""],F,0,u,F)}}f=h=y=0,M=P=1,V=S="",p=o;break;case 58:p=1+Vu(S),y=E;default:if(M<1){if(Q==123)--M;else if(Q==125&&M++==0&&R5e()==125)continue}switch(S+=J4(Q),Q*M){case 38:P=h>0?1:(S+="\f",-1);break;case 44:u[f++]=(Vu(S)-1)*P,P=1;break;case 64:tp()===45&&(S+=MI(tu())),g=tp(),h=p=Vu(V=S+=P5e(Z4())),Q++;break;case 45:E===45&&Vu(S)==2&&(M=0)}}return s}a(BI,"parse");function F5e(e,t,r,n,i,s,o,u,l,f,h){for(var p=i-1,g=i===0?s:[""],y=kI(g),E=0,M=0,z=0;E<n;++E)for(var P=0,Q=Qg(e,p+1,p=I5e(M=o[E])),V=e;P<y;++P)(V=EI(M>0?g[P]+" "+Q:SI(Q,/&\f/g,g[P])))&&(l[z++]=V);return II(e,t,r,i===0?wI:u,l,f,h)}a(F5e,"ruleset");function n3t(e,t,r){return II(e,t,r,xI,J4(B5e()),Qg(e,2,-2),0)}a(n3t,"comment");function U5e(e,t,r,n){return II(e,t,r,AI,Qg(e,0,n),Qg(e,n+1,-1),n)}a(U5e,"declaration");d();function e5(e,t){for(var r="",n=kI(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}a(e5,"serialize");function zV(e,t,r,n){switch(e.type){case k5e:case AI:return e.return=e.return||e.value;case xI:return"";case C5e:return e.return=e.value+"{"+e5(e.children,n)+"}";case wI:e.value=e.props.join(",")}return Vu(r=e5(e.children,n))?e.return=e.value+"{"+r+"}":""}a(zV,"stringify");var Bv=wn(_G(),1),Ea=wn(nT(),1);d();d();var hT,mNt=new Uint8Array(16);function xG(){if(!hT&&(hT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hT(mNt)}a(xG,"rng");d();var ms=[];for(let e=0;e<256;++e)ms.push((e+256).toString(16).slice(1));function BTe(e,t=0){return(ms[e[t+0]]+ms[e[t+1]]+ms[e[t+2]]+ms[e[t+3]]+"-"+ms[e[t+4]]+ms[e[t+5]]+"-"+ms[e[t+6]]+ms[e[t+7]]+"-"+ms[e[t+8]]+ms[e[t+9]]+"-"+ms[e[t+10]]+ms[e[t+11]]+ms[e[t+12]]+ms[e[t+13]]+ms[e[t+14]]+ms[e[t+15]]).toLowerCase()}a(BTe,"unsafeStringify");d();d();var bNt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wG={randomUUID:bNt};function vNt(e,t,r){if(wG.randomUUID&&!t&&!e)return wG.randomUUID();e=e||{};let n=e.random||(e.rng||xG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return BTe(n)}a(vNt,"v4");var AG=vNt;var Do=wn(nRe(),1);var BOt=Object.defineProperty,ROt=a((e,t,r)=>t in e?BOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),L5=a((e,t,r)=>(ROt(e,typeof t!="symbol"?t+"":t,r),r),"__publicField"),od={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Pe={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},K$=a(function(e="fatal"){let t=od.fatal;typeof e=="string"?(e=e.toLowerCase(),e in od&&(t=od[e])):typeof e=="number"&&(t=e),Pe.trace=()=>{},Pe.debug=()=>{},Pe.info=()=>{},Pe.warn=()=>{},Pe.error=()=>{},Pe.fatal=()=>{},t<=od.fatal&&(Pe.fatal=console.error?console.error.bind(console,au("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",au("FATAL"))),t<=od.error&&(Pe.error=console.error?console.error.bind(console,au("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",au("ERROR"))),t<=od.warn&&(Pe.warn=console.warn?console.warn.bind(console,au("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",au("WARN"))),t<=od.info&&(Pe.info=console.info?console.info.bind(console,au("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",au("INFO"))),t<=od.debug&&(Pe.debug=console.debug?console.debug.bind(console,au("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",au("DEBUG"))),t<=od.trace&&(Pe.trace=console.debug?console.debug.bind(console,au("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",au("TRACE")))},"setLogLevel$1"),au=a(e=>`%c${(0,ou.default)().format("ss.SSS")} : ${e} : `,"format"),LOt=a(e=>e?wDe(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),xDe=a(e=>xv.default.sanitize(e),"removeScript"),iRe=a((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){let n=t.securityLevel;n==="antiscript"||n==="strict"?e=xDe(e):n!=="loose"&&(e=wDe(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=qOt(e))}return e},"sanitizeMore"),Ju=a((e,t)=>e&&(t.dompurifyConfig?e=xv.default.sanitize(iRe(e,t),t.dompurifyConfig).toString():e=xv.default.sanitize(iRe(e,t)),e),"sanitizeText$5"),DOt=a((e,t)=>typeof e=="string"?Ju(e,t):e.flat().map(r=>Ju(r,t)),"sanitizeTextOrArray"),XM=/<br\s*\/?>/gi,NOt=a(e=>XM.test(e),"hasBreaks"),OOt=a(e=>e.split(XM),"splitBreaks"),qOt=a(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),wDe=a(e=>e.replace(XM,"#br#"),"breakToPlaceholder"),POt=a(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),ns=a(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),hp=a(function(e){let t=e;return e.indexOf("~")!==-1?(t=t.replace(/~([^~].*)/,"<$1"),t=t.replace(/~([^~]*)$/,">$1"),hp(t)):t},"parseGenericTypes"),Gr={getRows:LOt,sanitizeText:Ju,sanitizeTextOrArray:DOt,hasBreaks:NOt,splitBreaks:OOt,lineBreakRegex:XM,removeScript:xDe,getUrl:POt,evaluate:ns},uo=a((e,t)=>t?qt(e,{s:-40,l:10}):qt(e,{s:-40,l:-10}),"mkBorder"),JM="#ffffff",ZM="#f2f2f2",hM=class{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||qt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||qt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||uo(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||uo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||uo(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||uo(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||gr(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||gr(this.tertiaryColor),this.lineColor=this.lineColor||gr(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Vr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||gr(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||qr(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||qt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||qt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||qt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||qt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||qt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||qt(this.primaryColor,{l:-10}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||qt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||qt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||JM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ZM}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(hM,"Theme$4");var FOt=a(e=>{let t=new hM;return t.calculate(e),t},"getThemeVariables$4"),dM=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=qr(this.primaryColor,16),this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.background),this.secondaryBorderColor=uo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=qr(gr("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ep(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Vr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ep(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ep(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=qr(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=qr(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=qr(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qr(this.secondaryColor,20),this.git1=qr(this.pie2||this.secondaryColor,20),this.git2=qr(this.pie3||this.tertiaryColor,20),this.git3=qr(this.pie4||qt(this.primaryColor,{h:-30}),20),this.git4=qr(this.pie5||qt(this.primaryColor,{h:-60}),20),this.git5=qr(this.pie6||qt(this.primaryColor,{h:-90}),10),this.git6=qr(this.pie7||qt(this.primaryColor,{h:60}),10),this.git7=qr(this.pie8||qt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||qr(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qr(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(dM,"Theme$3");var UOt=a(e=>{let t=new dM;return t.calculate(e),t},"getThemeVariables$3"),pM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=qt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=uo(this.primaryColor,this.darkMode),this.secondaryBorderColor=uo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ep(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Vr(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Vr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||qt(this["cScale"+t],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||gr(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||gr(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=qr(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||qt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||qt(this.primaryColor,{l:-10}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||qt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||qt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||Vr(gr(this.git0),25),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gr(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gr(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||JM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ZM}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(pM,"Theme$2");var YOt=a(e=>{let t=new pM;return t.calculate(e),t},"getThemeVariables$2"),gM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=qr("#cde498",10),this.primaryBorderColor=uo(this.primaryColor,this.darkMode),this.secondaryBorderColor=uo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.primaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Vr(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Vr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||qt(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Vr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||qt(this.primaryColor,{l:-30}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||qt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||qt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||JM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ZM}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(gM,"Theme$1");var HOt=a(e=>{let t=new gM;return t.calculate(e),t},"getThemeVariables$1"),yM=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=qr(this.contrast,55),this.background="#ffffff",this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=uo(this.primaryColor,this.darkMode),this.secondaryBorderColor=uo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=qr(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=qr(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=qr(this.contrast,30),this.sectionBkgColor2=qr(this.contrast,30),this.taskBorderColor=Vr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=qr(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Vr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Vr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||qt(this.primaryColor,{h:-30}),this.git4=this.pie5||qt(this.primaryColor,{h:-60}),this.git5=this.pie6||qt(this.primaryColor,{h:-90}),this.git6=this.pie7||qt(this.primaryColor,{h:60}),this.git7=this.pie8||qt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||JM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ZM}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(yM,"Theme");var zOt=a(e=>{let t=new yM;return t.calculate(e),t},"getThemeVariables"),md={base:{getThemeVariables:FOt},dark:{getThemeVariables:UOt},default:{getThemeVariables:YOt},forest:{getThemeVariables:HOt},neutral:{getThemeVariables:zOt}},dp={theme:"default",themeVariables:md.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],lazyLoadedDiagrams:[],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};dp.class&&(dp.class.arrowMarkerAbsolute=dp.arrowMarkerAbsolute);dp.gitGraph&&(dp.gitGraph.arrowMarkerAbsolute=dp.arrowMarkerAbsolute);var ADe=a((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...ADe(e[n],"")]:[...r,t+n],[]),"keyify"),QOt=ADe(dp,""),WOt=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,VOt=/\s*%%.*\n/gm,kM={},$$=a(function(e,t){e=e.replace(WOt,"").replace(VOt,`
`);for(let[r,{detector:n}]of Object.entries(kM))if(n(e,t))return r;throw new Error(`No diagram type detected for text: ${e}`)},"detectType"),EDe=a((e,t,r)=>{if(kM[e])throw new Error(`Detector with key ${e} already exists`);kM[e]={detector:t,loader:r},Pe.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),jOt=a(e=>kM[e].loader,"getDiagramLoader"),Sa=a(function(e,t,r){let{depth:n,clobber:i}=Object.assign({depth:2,clobber:!1},r);return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>Sa(e,s,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.indexOf(s)===-1&&e.push(s)}),e):typeof e>"u"||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(typeof t<"u"&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=Sa(e[s],t[s],{depth:n-1,clobber:i})):(i||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),nM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof w<"u"?w:typeof self<"u"?self:{},GOt=typeof nM=="object"&&nM&&nM.Object===Object&&nM,SDe=GOt,KOt=SDe,$Ot=typeof self=="object"&&self&&self.Object===Object&&self,XOt=KOt||$Ot||Function("return this")(),eB=XOt,PG,aRe;function tB(){if(aRe)return PG;aRe=1;var e=eB,t=e.Symbol;return PG=t,PG}a(tB,"require_Symbol");var FG,sRe;function JOt(){if(sRe)return FG;sRe=1;var e=tB(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var u=r.call(o,i),l=o[i];try{o[i]=void 0;var f=!0}catch{}var h=n.call(o);return f&&(u?o[i]=l:delete o[i]),h}return a(s,"getRawTag"),FG=s,FG}a(JOt,"require_getRawTag");var UG,oRe;function ZOt(){if(oRe)return UG;oRe=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return a(r,"objectToString"),UG=r,UG}a(ZOt,"require_objectToString");var YG,cRe;function c6(){if(cRe)return YG;cRe=1;var e=tB(),t=JOt(),r=ZOt(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:s&&s in Object(u)?t(u):r(u)}return a(o,"baseGetTag"),YG=o,YG}a(c6,"require_baseGetTag");var HG,uRe;function Rv(){if(uRe)return HG;uRe=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return a(e,"isObject2"),HG=e,HG}a(Rv,"requireIsObject");var zG,lRe;function X$(){if(lRe)return zG;lRe=1;var e=c6(),t=Rv(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(u){if(!t(u))return!1;var l=e(u);return l==n||l==i||l==r||l==s}return a(o,"isFunction2"),zG=o,zG}a(X$,"requireIsFunction");var eqt=eB,tqt=eqt["__core-js_shared__"],rqt=tqt,QG=rqt,fRe=function(){var e=/[^.]+$/.exec(QG&&QG.keys&&QG.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nqt(e){return!!fRe&&fRe in e}a(nqt,"isMasked$1");var iqt=nqt,aqt=Function.prototype,sqt=aqt.toString;function oqt(e){if(e!=null){try{return sqt.call(e)}catch{}try{return e+""}catch{}}return""}a(oqt,"toSource$1");var cqt=oqt,uqt=X$(),lqt=iqt,fqt=Rv(),hqt=cqt,dqt=/[\\^$.*+?()[\]{}|]/g,pqt=/^\[object .+?Constructor\]$/,gqt=Function.prototype,yqt=Object.prototype,mqt=gqt.toString,bqt=yqt.hasOwnProperty,vqt=RegExp("^"+mqt.call(bqt).replace(dqt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _qt(e){if(!fqt(e)||lqt(e))return!1;var t=uqt(e)?vqt:pqt;return t.test(hqt(e))}a(_qt,"baseIsNative$1");var xqt=_qt;function wqt(e,t){return e?.[t]}a(wqt,"getValue$1");var Aqt=wqt,Eqt=xqt,Sqt=Aqt;function kqt(e,t){var r=Sqt(e,t);return Eqt(r)?r:void 0}a(kqt,"getNative$2");var J$=kqt,Cqt=J$,Iqt=Cqt(Object,"create"),rB=Iqt,hRe=rB;function Tqt(){this.__data__=hRe?hRe(null):{},this.size=0}a(Tqt,"hashClear$1");var Mqt=Tqt;function Bqt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}a(Bqt,"hashDelete$1");var Rqt=Bqt,Lqt=rB,Dqt="__lodash_hash_undefined__",Nqt=Object.prototype,Oqt=Nqt.hasOwnProperty;function qqt(e){var t=this.__data__;if(Lqt){var r=t[e];return r===Dqt?void 0:r}return Oqt.call(t,e)?t[e]:void 0}a(qqt,"hashGet$1");var Pqt=qqt,Fqt=rB,Uqt=Object.prototype,Yqt=Uqt.hasOwnProperty;function Hqt(e){var t=this.__data__;return Fqt?t[e]!==void 0:Yqt.call(t,e)}a(Hqt,"hashHas$1");var zqt=Hqt,Qqt=rB,Wqt="__lodash_hash_undefined__";function Vqt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qqt&&t===void 0?Wqt:t,this}a(Vqt,"hashSet$1");var jqt=Vqt,Gqt=Mqt,Kqt=Rqt,$qt=Pqt,Xqt=zqt,Jqt=jqt;function Lv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Lv,"Hash$1");Lv.prototype.clear=Gqt;Lv.prototype.delete=Kqt;Lv.prototype.get=$qt;Lv.prototype.has=Xqt;Lv.prototype.set=Jqt;var Zqt=Lv;function ePt(){this.__data__=[],this.size=0}a(ePt,"listCacheClear$1");var tPt=ePt,WG,dRe;function nB(){if(dRe)return WG;dRe=1;function e(t,r){return t===r||t!==t&&r!==r}return a(e,"eq2"),WG=e,WG}a(nB,"requireEq");var rPt=nB();function nPt(e,t){for(var r=e.length;r--;)if(rPt(e[r][0],t))return r;return-1}a(nPt,"assocIndexOf$4");var iB=nPt,iPt=iB,aPt=Array.prototype,sPt=aPt.splice;function oPt(e){var t=this.__data__,r=iPt(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sPt.call(t,r,1),--this.size,!0}a(oPt,"listCacheDelete$1");var cPt=oPt,uPt=iB;function lPt(e){var t=this.__data__,r=uPt(t,e);return r<0?void 0:t[r][1]}a(lPt,"listCacheGet$1");var fPt=lPt,hPt=iB;function dPt(e){return hPt(this.__data__,e)>-1}a(dPt,"listCacheHas$1");var pPt=dPt,gPt=iB;function yPt(e,t){var r=this.__data__,n=gPt(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}a(yPt,"listCacheSet$1");var mPt=yPt,bPt=tPt,vPt=cPt,_Pt=fPt,xPt=pPt,wPt=mPt;function Dv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Dv,"ListCache$1");Dv.prototype.clear=bPt;Dv.prototype.delete=vPt;Dv.prototype.get=_Pt;Dv.prototype.has=xPt;Dv.prototype.set=wPt;var APt=Dv,EPt=J$,SPt=eB,kPt=EPt(SPt,"Map"),CPt=kPt,pRe=Zqt,IPt=APt,TPt=CPt;function MPt(){this.size=0,this.__data__={hash:new pRe,map:new(TPt||IPt),string:new pRe}}a(MPt,"mapCacheClear$1");var BPt=MPt;function RPt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}a(RPt,"isKeyable$1");var LPt=RPt,DPt=LPt;function NPt(e,t){var r=e.__data__;return DPt(t)?r[typeof t=="string"?"string":"hash"]:r.map}a(NPt,"getMapData$4");var aB=NPt,OPt=aB;function qPt(e){var t=OPt(this,e).delete(e);return this.size-=t?1:0,t}a(qPt,"mapCacheDelete$1");var PPt=qPt,FPt=aB;function UPt(e){return FPt(this,e).get(e)}a(UPt,"mapCacheGet$1");var YPt=UPt,HPt=aB;function zPt(e){return HPt(this,e).has(e)}a(zPt,"mapCacheHas$1");var QPt=zPt,WPt=aB;function VPt(e,t){var r=WPt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}a(VPt,"mapCacheSet$1");var jPt=VPt,GPt=BPt,KPt=PPt,$Pt=YPt,XPt=QPt,JPt=jPt;function Nv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Nv,"MapCache$1");Nv.prototype.clear=GPt;Nv.prototype.delete=KPt;Nv.prototype.get=$Pt;Nv.prototype.has=XPt;Nv.prototype.set=JPt;var ZPt=Nv,kDe=ZPt,eFt="Expected a function";function Z$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(eFt);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o},"memoized");return r.cache=new(Z$.Cache||kDe),r}a(Z$,"memoize");Z$.Cache=kDe;var sB=Z$,tFt={curveBasis:Gh,curveBasisClosed:I9,curveBasisOpen:T9,curveLinear:no,curveLinearClosed:M9,curveMonotoneX:qQ,curveMonotoneY:PQ,curveNatural:R9,curveStep:D9,curveStepAfter:UQ,curveStepBefore:FQ},VG=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,rFt=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,nFt=a(function(e,t){let r=CDe(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let i=r.map(s=>s.args);oy(i),n=Sa(n,[...i])}else n=r.args;if(n){let i=$$(e,t);["config"].forEach(s=>{typeof n[s]<"u"&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s])})}return n},"detectInit"),CDe=a(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${rFt.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),Pe.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=VG.exec(e))!==null;)if(n.index===VG.lastIndex&&VG.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){let s=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:o})}return i.length===0&&i.push({type:e,args:null}),i.length===1?i[0]:i}catch(r){return Pe.error(`ERROR: ${r.message} - Unable to parse directive
      ${t!==null?" type:"+t:""} based on the text:${e}`),{type:null,args:null}}},"detectDirective"),iFt=a(function(e,t){for(let r=0;r<t.length;r++)if(t[r].match(e))return r;return-1},"isSubstringInArray"),yf=a((e,t)=>{if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return tFt[r]||t},"interpolateToCurve"),aFt=a((e,t)=>{let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,_f.sanitizeUrl)(r):r},"formatUrl"),sFt=a((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s)return;s[i](...t)},"runFunc"),K5=a((e,t)=>e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0,"distance"),oFt=a(e=>{let t,r=0;e.forEach(s=>{r+=K5(s,t),t=s});let n=r/2,i;return t=void 0,e.forEach(s=>{if(t&&!i){let o=K5(s,t);if(o<n)n-=o;else{let u=n/o;u<=0&&(i=t),u>=1&&(i={x:s.x,y:s.y}),u>0&&u<1&&(i={x:(1-u)*t.x+u*s.x,y:(1-u)*t.y+u*s.y})}}t=s}),i},"traverseEdge"),cFt=a(e=>e.length===1?e[0]:oFt(e),"calcLabelPosition"),uFt=a((e,t,r)=>{let n;Pe.info("our points",t),t[0]!==r&&(t=t.reverse()),t.forEach(h=>{totalDistance+=K5(h,n),n=h});let s=25,o;n=void 0,t.forEach(h=>{if(n&&!o){let p=K5(h,n);if(p<s)s-=p;else{let g=s/p;g<=0&&(o=n),g>=1&&(o={x:h.x,y:h.y}),g>0&&g<1&&(o={x:(1-g)*n.x+g*h.x,y:(1-g)*n.y+g*h.y})}}n=h});let u=e?10:5,l=Math.atan2(t[0].y-o.y,t[0].x-o.x),f={x:0,y:0};return f.x=Math.sin(l)*u+(t[0].x+o.x)/2,f.y=-Math.cos(l)*u+(t[0].y+o.y)/2,f},"calcCardinalityPosition"),lFt=a((e,t,r)=>{let n=JSON.parse(JSON.stringify(r)),i;Pe.info("our points",n),t!=="start_left"&&t!=="start_right"&&(n=n.reverse()),n.forEach(p=>{i=p});let o=25+e,u;i=void 0,n.forEach(p=>{if(i&&!u){let g=K5(p,i);if(g<o)o-=g;else{let y=o/g;y<=0&&(u=i),y>=1&&(u={x:p.x,y:p.y}),y>0&&y<1&&(u={x:(1-y)*i.x+y*p.x,y:(1-y)*i.y+y*p.y})}}i=p});let l=10+e*.5,f=Math.atan2(n[0].y-u.y,n[0].x-u.x),h={x:0,y:0};return h.x=Math.sin(f)*l+(n[0].x+u.x)/2,h.y=-Math.cos(f)*l+(n[0].y+u.y)/2,t==="start_left"&&(h.x=Math.sin(f+Math.PI)*l+(n[0].x+u.x)/2,h.y=-Math.cos(f+Math.PI)*l+(n[0].y+u.y)/2),t==="end_right"&&(h.x=Math.sin(f-Math.PI)*l+(n[0].x+u.x)/2-5,h.y=-Math.cos(f-Math.PI)*l+(n[0].y+u.y)/2-5),t==="end_left"&&(h.x=Math.sin(f)*l+(n[0].x+u.x)/2-5,h.y=-Math.cos(f)*l+(n[0].y+u.y)/2-5),h},"calcTerminalLabelPosition"),mp=a(e=>{let t="",r="";for(let n=0;n<e.length;n++)typeof e[n]<"u"&&(e[n].startsWith("color:")||e[n].startsWith("text-align:")?r=r+e[n]+";":t=t+e[n]+";");return{style:t,labelStyle:r}},"getStylesFromArray"),gRe=0,IDe=a(()=>(gRe++,"id-"+Math.random().toString(36).substr(2,12)+"-"+gRe),"generateId$1");function fFt(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}a(fFt,"makeid");var TDe=a(e=>fFt(e.length),"random"),hFt=a(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},"getTextObj$3"),dFt=a(function(e,t){let r=t.text.replace(Gr.lineBreakRegex," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",t.fontSize),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),typeof t.class<"u"&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.attr("fill",t.fill),i.text(r),n},"drawSimpleText"),MDe=sB((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Gr.lineBreakRegex.test(e)))return e;let n=e.split(" "),i=[],s="";return n.forEach((o,u)=>{let l=mf(`${o} `,r),f=mf(s,r);if(l>t){let{hyphenatedStrings:g,remainingWord:y}=pFt(o,t,"-",r);i.push(s,...g),s=y}else f+l>=t?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");u+1===n.length&&i.push(s)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),pFt=sB((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=e.split(""),s=[],o="";return i.forEach((u,l)=>{let f=`${o}${u}`;if(mf(f,n)>=t){let p=l+1,g=i.length===p,y=`${f}${r}`;s.push(g?f:y),o=""}else o=f}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`),A$=a(function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),eX(e,t).height},"calculateTextHeight"),mf=a(function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),eX(e,t).width},"calculateTextWidth"),eX=sB(function(e,t){t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);let{fontSize:r,fontFamily:n,fontWeight:i}=t;if(!e)return{width:0,height:0};let s=["sans-serif",n],o=e.split(Gr.lineBreakRegex),u=[],l=Zt("body");if(!l.remove)return{width:0,height:0,lineHeight:0};let f=l.append("svg");for(let p of s){let g=0,y={width:0,height:0,lineHeight:0};for(let E of o){let M=hFt();M.text=E;let z=dFt(f,M).style("font-size",r).style("font-weight",i).style("font-family",p),P=(z._groups||z)[0][0].getBBox();y.width=Math.round(Math.max(y.width,P.width)),g=Math.round(P.height),y.height+=g,y.lineHeight=Math.round(Math.max(y.lineHeight,g))}u.push(y)}f.remove();let h=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),gFt=a(class{constructor(t,r){this.deterministic=t,this.seed=r,this.count=r?r.length:0}next(){return this.deterministic?this.count++:Date.now()}},"iterator"),iM,yFt=a(function(e){return iM=iM||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),iM.innerHTML=e,unescape(iM.textContent)},"entityDecode"),oy=a(e=>{if(Pe.debug("directiveSanitizer called with",e),typeof e=="object"&&(e.length?e.forEach(t=>oy(t)):Object.keys(e).forEach(t=>{Pe.debug("Checking key",t),t.indexOf("__")===0&&(Pe.debug("sanitize deleting __ option",t),delete e[t]),t.indexOf("proto")>=0&&(Pe.debug("sanitize deleting proto option",t),delete e[t]),t.indexOf("constr")>=0&&(Pe.debug("sanitize deleting constr option",t),delete e[t]),t.indexOf("themeCSS")>=0&&(Pe.debug("sanitizing themeCss option"),e[t]=mM(e[t])),t.indexOf("fontFamily")>=0&&(Pe.debug("sanitizing fontFamily option"),e[t]=mM(e[t])),t.indexOf("altFontFamily")>=0&&(Pe.debug("sanitizing altFontFamily option"),e[t]=mM(e[t])),QOt.indexOf(t)<0?(Pe.debug("sanitize deleting option",t),delete e[t]):typeof e[t]=="object"&&(Pe.debug("sanitize deleting object",t),oy(e[t]))})),e.themeVariables){let t=Object.keys(e.themeVariables);for(let r=0;r<t.length;r++){let n=t[r],i=e.themeVariables[n];i&&i.match&&!i.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(e.themeVariables[n]="")}}Pe.debug("After sanitization",e)},"directiveSanitizer"),mM=a(e=>{let t=0,r=0;for(let n=0;n<e.length;n++){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";e[n]==="{"?t++:e[n]==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss");function tX(e){return"str"in e}a(tX,"isDetailedError");function mFt(e){return e instanceof Error?e.message:String(e)}a(mFt,"getErrorMessage");var un={assignWithDepth:Sa,wrapLabel:MDe,calculateTextHeight:A$,calculateTextWidth:mf,calculateTextDimensions:eX,detectInit:nFt,detectDirective:CDe,isSubstringInArray:iFt,interpolateToCurve:yf,calcLabelPosition:cFt,calcCardinalityPosition:uFt,calcTerminalLabelPosition:lFt,formatUrl:aFt,getStylesFromArray:mp,generateId:IDe,random:TDe,runFunc:sFt,entityDecode:yFt,initIdGenerator:gFt,directiveSanitizer:oy,sanitizeCss:mM},bFt="mermaid",vFt="9.2.0",_Ft="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",xFt="./dist/mermaid.core.mjs",wFt="./dist/mermaid.core.mjs",AFt="./dist/mermaid.d.ts",EFt="module",SFt={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},kFt=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],CFt={clean:"rimraf dist","build:code":"node .esbuild/esbuild.cjs","build:types":"tsc -p ./tsconfig.json --emitDeclarationOnly","build:watch":"yarn build:code --watch","build:esbuild":'concurrently "yarn build:code" "yarn build:types"',build:"yarn clean; yarn build:esbuild",dev:"node .esbuild/serve.cjs","docs:build":"ts-node-esm src/docs.mts","docs:verify":"yarn docs:build --verify","todo-postbuild":"documentation build src/mermaidAPI.ts src/config.ts src/defaultConfig.ts --shallow -f md --markdown-toc false > src/docs/Setup.md && prettier --write src/docs/Setup.md",release:"yarn build",lint:"eslint --cache --ignore-path .gitignore . && yarn lint:jison && prettier --check .","lint:fix":"eslint --fix --ignore-path .gitignore . && prettier --write .","lint:jison":"ts-node-esm src/jison/lint.mts",cypress:"cypress run","cypress:open":"cypress open",e2e:"start-server-and-test dev http://localhost:9000/ cypress","todo-prepare":'concurrently "husky install" "yarn build"',"pre-commit":"lint-staged"},IFt={type:"git",url:"https://github.com/mermaid-js/mermaid"},TFt="Knut Sveidqvist",MFt="MIT",BFt={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},RFt={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0",dagre:"^0.8.5","dagre-d3":"^0.6.4",dompurify:"2.4.0","fast-clone":"^1.5.13",graphlib:"^2.1.8",khroma:"^2.0.0",lodash:"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},LFt={"@applitools/eyes-cypress":"^3.25.7","@commitlint/cli":"^17.1.2","@commitlint/config-conventional":"^17.0.0","@types/d3":"^7.4.0","@types/dompurify":"^2.3.4","@types/eslint":"^8.4.6","@types/express":"^4.17.13","@types/jsdom":"^20.0.0","@types/lodash":"^4.14.185","@types/prettier":"^2.7.0","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.37.0","@typescript-eslint/parser":"^5.37.0",concurrently:"^7.4.0",coveralls:"^3.1.1",cypress:"^10.0.0","cypress-image-snapshot":"^4.0.1",documentation:"13.2.0",esbuild:"^0.15.8",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^7.1.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^3.0.0",express:"^4.18.1",globby:"^13.1.2",husky:"^8.0.0","identity-obj-proxy":"^3.0.0",jison:"^0.4.18","js-base64":"3.7.2",jsdom:"^20.0.0","lint-staged":"^13.0.0",moment:"^2.23.0","path-browserify":"^1.0.1",prettier:"^2.7.1","prettier-plugin-jsdoc":"^0.4.2",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.12.6","ts-node":"^10.9.1",typescript:"^4.8.3","unist-util-flatmap":"^1.0.0"},DFt={d3:"^7.0.0"},NFt=["dist"],OFt=["**/*.css","**/*.scss"],CM={name:bFt,version:vFt,description:_Ft,main:xFt,module:wFt,types:AFt,type:EFt,exports:SFt,keywords:kFt,scripts:CFt,repository:IFt,author:TFt,license:MFt,standard:BFt,dependencies:RFt,devDependencies:LFt,resolutions:DFt,files:NFt,sideEffects:OFt},wv=Object.freeze(dp),Mo=Sa({},wv),BDe,Av=[],oB=Sa({},wv),cB=a((e,t)=>{let r=Sa({},e),n={};for(let i=0;i<t.length;i++){let s=t[i];DDe(s),n=Sa(n,s)}if(r=Sa(r,n),n.theme&&n.theme in md){let i=Sa({},BDe),s=Sa(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in md&&(r.themeVariables=md[r.theme].getThemeVariables(s))}return oB=r,r},"updateCurrentConfig"),qFt=a(e=>(Mo=Sa({},wv),Mo=Sa(Mo,e),e.theme&&md[e.theme]&&(Mo.themeVariables=md[e.theme].getThemeVariables(e.themeVariables)),oB=cB(Mo,Av),Mo),"setSiteConfig"),PFt=a(e=>{BDe=Sa({},e)},"saveConfigFromInitialize"),FFt=a(e=>(Mo=Sa(Mo,e),cB(Mo,Av),Mo),"updateSiteConfig"),RDe=a(()=>Sa({},Mo),"getSiteConfig"),LDe=a(e=>(Sa(oB,e),ft()),"setConfig"),ft=a(()=>Sa({},oB),"getConfig$1"),DDe=a(e=>{var t;["secure",...(t=Mo.secure)!=null?t:[]].forEach(r=>{typeof e[r]<"u"&&(Pe.debug(`Denied attempt to modify a secure key ${r}`,e[r]),delete e[r])}),Object.keys(e).forEach(r=>{r.indexOf("__")===0&&delete e[r]}),Object.keys(e).forEach(r=>{typeof e[r]=="string"&&(e[r].indexOf("<")>-1||e[r].indexOf(">")>-1||e[r].indexOf("url(data:")>-1)&&delete e[r],typeof e[r]=="object"&&DDe(e[r])})},"sanitize"),rX=a(e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),Av.push(e),cB(Mo,Av)},"addDirective"),$5=a((e=Mo)=>{Av=[],cB(e,Av)},"reset"),UFt=a(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),YFt=a(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):n.set("width",t),n},"calculateSvgSizeAttrs"),el=a(function(e,t,r,n){let i=YFt(t,r,n);UFt(e,i)},"configureSvgSize"),uB=a(function(e,t,r,n){let i=t.node().getBBox(),s=i.width,o=i.height;Pe.info(`SVG bounds: ${s}x${o}`,i);let u=0,l=0;Pe.info(`Graph bounds: ${u}x${l}`,e),u=s+r*2,l=o+r*2,Pe.info(`Calculated bounds: ${u}x${l}`),el(t,l,u,n);let f=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",f)},"setupGraphViewbox$1"),U5=a(e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`,"getStyles$d"),NDe=a(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }
`,"getStyles$c"),ODe=a(()=>"","getStyles$b"),IM=a(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`,"getStyles$a"),qDe=a(e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,"getStyles$9"),PDe=a(()=>"","getStyles$8"),FDe=a(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles$7"),UDe=a(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles$6"),YDe=a(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles$5"),TM=a(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}
`,"getStyles$4"),HDe=a(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles$3"),zDe=a(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles$2"),bM={flowchart:IM,"flowchart-v2":IM,sequence:YDe,gantt:qDe,classDiagram:U5,"classDiagram-v2":U5,class:U5,stateDiagram:TM,state:TM,info:PDe,pie:FDe,er:NDe,error:ODe,journey:HDe,requirement:UDe,c4:zDe},QDe=a((e,t,r)=>{let n="";return e in bM&&bM[e]?n=bM[e](r):Pe.warn(`No theme found for ${e}`),` {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: ${r.errorBkgColor};
  }
  .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  .marker.cross {
    stroke: ${r.lineColor};
  }

  svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},"getStyles$1"),HFt=a((e,t)=>{bM[e]=t},"addStylesForDiagram"),q5=Pe,zFt=K$,Ev=ft,QFt=a(e=>Ju(e,Ev()),"sanitizeText$4"),WDe=uB,mv={},ts=a((e,t,r,n)=>{q5.debug(`Registering diagram ${e}`),mv[e]&&q5.warn(`Diagram ${e} already registered.`),mv[e]=t,r&&EDe(e,r),HFt(e,t.styles),typeof n<"u"&&n(q5,zFt,Ev,QFt,WDe),q5.debug(`Registered diagram ${e}. ${Object.keys(mv).join(", ")} diagrams registered.`)},"registerDiagram"),VDe=a(e=>{if(q5.debug(`Getting diagram ${e}. ${Object.keys(mv).join(", ")} diagrams registered.`),e in mv)return mv[e];throw new Y5(e)},"getDiagram"),Y5=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}};a(Y5,"DiagramNotFoundError");var E$=function(){var e=a(function(F,B,S,T){for(S=S||{},T=F.length;T--;S[F[T]]=B);return S},"o"),t=[1,4],r=[1,7],n=[1,5],i=[1,9],s=[1,6],o=[2,6],u=[1,16],l=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],f=[8,14,20,22,24,25,27,29,32,37,40],h=[8,13,14,20,22,24,25,27,29,32,37,40],p=[1,26],g=[6,8,14,50,54],y=[8,14,54],E=[1,65],M=[1,66],z=[1,67],P=[8,14,33,35,42,54],Q={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:a(function(B,S,T,k,R,x,N){var m=x.length-1;switch(R){case 3:return x[m];case 4:return x[m-1];case 5:return k.setDirection(x[m-3]),x[m-1];case 7:k.setOptions(x[m-1]),this.$=x[m];break;case 8:x[m-1]+=x[m],this.$=x[m-1];break;case 10:this.$=[];break;case 11:x[m-1].push(x[m]),this.$=x[m-1];break;case 12:this.$=x[m-1];break;case 17:this.$=x[m].trim(),k.setAccTitle(this.$);break;case 18:case 19:this.$=x[m].trim(),k.setAccDescription(this.$);break;case 20:k.addSection(x[m].substr(8)),this.$=x[m].substr(8);break;case 22:k.checkout(x[m]);break;case 23:k.branch(x[m]);break;case 24:k.branch(x[m-2],x[m]);break;case 25:k.cherryPick(x[m],"",void 0);break;case 26:k.cherryPick(x[m-2],"",x[m]);break;case 27:case 29:k.cherryPick(x[m-2],"","");break;case 28:k.cherryPick(x[m],"",x[m-2]);break;case 30:k.merge(x[m],"","","");break;case 31:k.merge(x[m-2],x[m],"","");break;case 32:k.merge(x[m-2],"",x[m],"");break;case 33:k.merge(x[m-2],"","",x[m]);break;case 34:k.merge(x[m-4],x[m],"",x[m-2]);break;case 35:k.merge(x[m-4],"",x[m],x[m-2]);break;case 36:k.merge(x[m-4],"",x[m-2],x[m]);break;case 37:k.merge(x[m-4],x[m-2],x[m],"");break;case 38:k.merge(x[m-4],x[m-2],"",x[m]);break;case 39:k.merge(x[m-4],x[m],x[m-2],"");break;case 40:k.merge(x[m-6],x[m-4],x[m-2],x[m]);break;case 41:k.merge(x[m-6],x[m],x[m-4],x[m-2]);break;case 42:k.merge(x[m-6],x[m-4],x[m],x[m-2]);break;case 43:k.merge(x[m-6],x[m-2],x[m-4],x[m]);break;case 44:k.merge(x[m-6],x[m],x[m-2],x[m-4]);break;case 45:k.merge(x[m-6],x[m-2],x[m],x[m-4]);break;case 46:k.commit(x[m]);break;case 47:k.commit("","",k.commitType.NORMAL,x[m]);break;case 48:k.commit("","",x[m],"");break;case 49:k.commit("","",x[m],x[m-2]);break;case 50:k.commit("","",x[m-2],x[m]);break;case 51:k.commit("",x[m],k.commitType.NORMAL,"");break;case 52:k.commit("",x[m-2],k.commitType.NORMAL,x[m]);break;case 53:k.commit("",x[m],k.commitType.NORMAL,x[m-2]);break;case 54:k.commit("",x[m-2],x[m],"");break;case 55:k.commit("",x[m],x[m-2],"");break;case 56:k.commit("",x[m-4],x[m-2],x[m]);break;case 57:k.commit("",x[m-4],x[m],x[m-2]);break;case 58:k.commit("",x[m-2],x[m-4],x[m]);break;case 59:k.commit("",x[m],x[m-4],x[m-2]);break;case 60:k.commit("",x[m],x[m-2],x[m-4]);break;case 61:k.commit("",x[m-2],x[m],x[m-4]);break;case 62:k.commit(x[m],"",k.commitType.NORMAL,"");break;case 63:k.commit(x[m],"",k.commitType.NORMAL,x[m-2]);break;case 64:k.commit(x[m-2],"",k.commitType.NORMAL,x[m]);break;case 65:k.commit(x[m-2],"",x[m],"");break;case 66:k.commit(x[m],"",x[m-2],"");break;case 67:k.commit(x[m],x[m-2],k.commitType.NORMAL,"");break;case 68:k.commit(x[m-2],x[m],k.commitType.NORMAL,"");break;case 69:k.commit(x[m-4],"",x[m-2],x[m]);break;case 70:k.commit(x[m-4],"",x[m],x[m-2]);break;case 71:k.commit(x[m-2],"",x[m-4],x[m]);break;case 72:k.commit(x[m],"",x[m-4],x[m-2]);break;case 73:k.commit(x[m],"",x[m-2],x[m-4]);break;case 74:k.commit(x[m-2],"",x[m],x[m-4]);break;case 75:k.commit(x[m-4],x[m],x[m-2],"");break;case 76:k.commit(x[m-4],x[m-2],x[m],"");break;case 77:k.commit(x[m-2],x[m],x[m-4],"");break;case 78:k.commit(x[m],x[m-2],x[m-4],"");break;case 79:k.commit(x[m],x[m-4],x[m-2],"");break;case 80:k.commit(x[m-2],x[m-4],x[m],"");break;case 81:k.commit(x[m-4],x[m],k.commitType.NORMAL,x[m-2]);break;case 82:k.commit(x[m-4],x[m-2],k.commitType.NORMAL,x[m]);break;case 83:k.commit(x[m-2],x[m],k.commitType.NORMAL,x[m-4]);break;case 84:k.commit(x[m],x[m-2],k.commitType.NORMAL,x[m-4]);break;case 85:k.commit(x[m],x[m-4],k.commitType.NORMAL,x[m-2]);break;case 86:k.commit(x[m-2],x[m-4],k.commitType.NORMAL,x[m]);break;case 87:k.commit(x[m-6],x[m-4],x[m-2],x[m]);break;case 88:k.commit(x[m-6],x[m-4],x[m],x[m-2]);break;case 89:k.commit(x[m-6],x[m-2],x[m-4],x[m]);break;case 90:k.commit(x[m-6],x[m],x[m-4],x[m-2]);break;case 91:k.commit(x[m-6],x[m-2],x[m],x[m-4]);break;case 92:k.commit(x[m-6],x[m],x[m-2],x[m-4]);break;case 93:k.commit(x[m-4],x[m-6],x[m-2],x[m]);break;case 94:k.commit(x[m-4],x[m-6],x[m],x[m-2]);break;case 95:k.commit(x[m-2],x[m-6],x[m-4],x[m]);break;case 96:k.commit(x[m],x[m-6],x[m-4],x[m-2]);break;case 97:k.commit(x[m-2],x[m-6],x[m],x[m-4]);break;case 98:k.commit(x[m],x[m-6],x[m-2],x[m-4]);break;case 99:k.commit(x[m],x[m-4],x[m-2],x[m-6]);break;case 100:k.commit(x[m-2],x[m-4],x[m],x[m-6]);break;case 101:k.commit(x[m],x[m-2],x[m-4],x[m-6]);break;case 102:k.commit(x[m-2],x[m],x[m-4],x[m-6]);break;case 103:k.commit(x[m-4],x[m-2],x[m],x[m-6]);break;case 104:k.commit(x[m-4],x[m],x[m-2],x[m-6]);break;case 105:k.commit(x[m-2],x[m-4],x[m-6],x[m]);break;case 106:k.commit(x[m],x[m-4],x[m-6],x[m-2]);break;case 107:k.commit(x[m-2],x[m],x[m-6],x[m-4]);break;case 108:k.commit(x[m],x[m-2],x[m-6],x[m-4]);break;case 109:k.commit(x[m-4],x[m-2],x[m-6],x[m]);break;case 110:k.commit(x[m-4],x[m],x[m-6],x[m-2]);break;case 111:this.$="";break;case 112:this.$=x[m];break;case 113:this.$=k.commitType.NORMAL;break;case 114:this.$=k.commitType.REVERSE;break;case 115:this.$=k.commitType.HIGHLIGHT;break;case 118:k.parseDirective("%%{","open_directive");break;case 119:k.parseDirective(x[m],"type_directive");break;case 120:x[m]=x[m].trim().replace(/'/g,'"'),k.parseDirective(x[m],"arg_directive");break;case 121:k.parseDirective("}%%","close_directive","gitGraph");break}},"anonymous"),table:[{3:1,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{1:[3]},{3:10,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{3:11,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{7:12,8:o,9:[1,13],10:[1,14],11:15,14:u},e(l,[2,122]),e(l,[2,123]),e(l,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:o,11:15,14:u},{9:[1,21]},e(f,[2,10],{12:22,13:[1,23]}),e(h,[2,9]),{9:[1,25],48:24,53:p},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:o,11:15,14:u},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(h,[2,8]),e(g,[2,116]),{49:45,52:[1,46]},e(g,[2,121]),{1:[2,4]},{8:[1,47]},e(f,[2,11]),{4:48,8:r,14:n,54:s},e(f,[2,13]),e(y,[2,14]),e(y,[2,15]),e(y,[2,16]),{21:[1,49]},{23:[1,50]},e(y,[2,19]),e(y,[2,20]),e(y,[2,21]),{28:[1,51]},e(y,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:p},{53:[2,120]},{1:[2,5]},e(f,[2,12]),e(y,[2,17]),e(y,[2,18]),e(y,[2,22]),e(y,[2,46]),{34:[1,63]},{39:64,43:E,44:M,45:z},{34:[1,68]},{34:[1,69]},e(y,[2,112]),e(y,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},e(y,[2,23],{30:[1,76]}),e(g,[2,117]),e(y,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),e(y,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),e(P,[2,113]),e(P,[2,114]),e(P,[2,115]),e(y,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),e(y,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:E,44:M,45:z},{34:[1,91]},e(y,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:E,44:M,45:z},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:E,44:M,45:z},{34:[1,104]},{34:[1,105]},{39:106,43:E,44:M,45:z},{34:[1,107]},e(y,[2,31],{35:[1,109],38:[1,108]}),e(y,[2,32],{33:[1,111],35:[1,110]}),e(y,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},e(y,[2,24]),e(y,[2,49],{33:[1,118],42:[1,119]}),e(y,[2,53],{38:[1,120],42:[1,121]}),e(y,[2,63],{33:[1,123],38:[1,122]}),e(y,[2,50],{33:[1,124],42:[1,125]}),e(y,[2,55],{35:[1,126],42:[1,127]}),e(y,[2,66],{33:[1,129],35:[1,128]}),e(y,[2,52],{38:[1,130],42:[1,131]}),e(y,[2,54],{35:[1,132],42:[1,133]}),e(y,[2,67],{35:[1,135],38:[1,134]}),e(y,[2,64],{33:[1,137],38:[1,136]}),e(y,[2,65],{33:[1,139],35:[1,138]}),e(y,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:E,44:M,45:z},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:E,44:M,45:z},e(y,[2,26]),e(y,[2,27]),e(y,[2,28]),e(y,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:E,44:M,45:z},{34:[1,151]},{39:152,43:E,44:M,45:z},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:E,44:M,45:z},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:E,44:M,45:z},{34:[1,165]},{39:166,43:E,44:M,45:z},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:E,44:M,45:z},{34:[1,171]},e(y,[2,37],{35:[1,172]}),e(y,[2,38],{38:[1,173]}),e(y,[2,36],{33:[1,174]}),e(y,[2,39],{35:[1,175]}),e(y,[2,34],{38:[1,176]}),e(y,[2,35],{33:[1,177]}),e(y,[2,60],{42:[1,178]}),e(y,[2,73],{33:[1,179]}),e(y,[2,61],{42:[1,180]}),e(y,[2,84],{38:[1,181]}),e(y,[2,74],{33:[1,182]}),e(y,[2,83],{38:[1,183]}),e(y,[2,59],{42:[1,184]}),e(y,[2,72],{33:[1,185]}),e(y,[2,58],{42:[1,186]}),e(y,[2,78],{35:[1,187]}),e(y,[2,71],{33:[1,188]}),e(y,[2,77],{35:[1,189]}),e(y,[2,57],{42:[1,190]}),e(y,[2,85],{38:[1,191]}),e(y,[2,56],{42:[1,192]}),e(y,[2,79],{35:[1,193]}),e(y,[2,80],{35:[1,194]}),e(y,[2,86],{38:[1,195]}),e(y,[2,70],{33:[1,196]}),e(y,[2,81],{38:[1,197]}),e(y,[2,69],{33:[1,198]}),e(y,[2,75],{35:[1,199]}),e(y,[2,76],{35:[1,200]}),e(y,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:E,44:M,45:z},{34:[1,204]},{34:[1,205]},{39:206,43:E,44:M,45:z},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:E,44:M,45:z},{34:[1,212]},{39:213,43:E,44:M,45:z},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:E,44:M,45:z},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:E,44:M,45:z},{34:[1,226]},{39:227,43:E,44:M,45:z},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:E,44:M,45:z},e(y,[2,40]),e(y,[2,42]),e(y,[2,41]),e(y,[2,43]),e(y,[2,45]),e(y,[2,44]),e(y,[2,101]),e(y,[2,102]),e(y,[2,99]),e(y,[2,100]),e(y,[2,104]),e(y,[2,103]),e(y,[2,108]),e(y,[2,107]),e(y,[2,106]),e(y,[2,105]),e(y,[2,110]),e(y,[2,109]),e(y,[2,98]),e(y,[2,97]),e(y,[2,96]),e(y,[2,95]),e(y,[2,93]),e(y,[2,94]),e(y,[2,92]),e(y,[2,91]),e(y,[2,90]),e(y,[2,89]),e(y,[2,87]),e(y,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:a(function(B,S){if(S.recoverable)this.trace(B);else{var T=new Error(B);throw T.hash=S,T}},"parseError"),parse:a(function(B){var S=this,T=[0],k=[],R=[null],x=[],N=this.table,m="",v=0,A=0,U=2,G=1,K=x.slice.call(arguments,1),Z=Object.create(this.lexer),O={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(O.yy[$]=this.yy[$]);Z.setInput(B,O.yy),O.yy.lexer=Z,O.yy.parser=this,typeof Z.yylloc>"u"&&(Z.yylloc={});var L=Z.yylloc;x.push(L);var ee=Z.options&&Z.options.ranges;typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ve(){var ie;return ie=k.pop()||Z.lex()||G,typeof ie!="number"&&(ie instanceof Array&&(k=ie,ie=k.pop()),ie=S.symbols_[ie]||ie),ie}a(ve,"lex");for(var ye,se,be,Y,D={},J,q,I,H;;){if(se=T[T.length-1],this.defaultActions[se]?be=this.defaultActions[se]:((ye===null||typeof ye>"u")&&(ye=ve()),be=N[se]&&N[se][ye]),typeof be>"u"||!be.length||!be[0]){var te="";H=[];for(J in N[se])this.terminals_[J]&&J>U&&H.push("'"+this.terminals_[J]+"'");Z.showPosition?te="Parse error on line "+(v+1)+`:
`+Z.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[ye]||ye)+"'":te="Parse error on line "+(v+1)+": Unexpected "+(ye==G?"end of input":"'"+(this.terminals_[ye]||ye)+"'"),this.parseError(te,{text:Z.match,token:this.terminals_[ye]||ye,line:Z.yylineno,loc:L,expected:H})}if(be[0]instanceof Array&&be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+ye);switch(be[0]){case 1:T.push(ye),R.push(Z.yytext),x.push(Z.yylloc),T.push(be[1]),ye=null,A=Z.yyleng,m=Z.yytext,v=Z.yylineno,L=Z.yylloc;break;case 2:if(q=this.productions_[be[1]][1],D.$=R[R.length-q],D._$={first_line:x[x.length-(q||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(q||1)].first_column,last_column:x[x.length-1].last_column},ee&&(D._$.range=[x[x.length-(q||1)].range[0],x[x.length-1].range[1]]),Y=this.performAction.apply(D,[m,A,v,O.yy,be[1],R,x].concat(K)),typeof Y<"u")return Y;q&&(T=T.slice(0,-1*q*2),R=R.slice(0,-1*q),x=x.slice(0,-1*q)),T.push(this.productions_[be[1]][0]),R.push(D.$),x.push(D._$),I=N[T[T.length-2]][T[T.length-1]],T.push(I);break;case 3:return!0}}return!0},"parse2")},V=function(){var F={EOF:1,parseError:a(function(S,T){if(this.yy.parser)this.yy.parser.parseError(S,T);else throw new Error(S)},"parseError"),setInput:function(B,S){return this.yy=S||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var S=B.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},unput:function(B){var S=B.length,T=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),T.length-1&&(this.yylineno-=T.length-1);var R=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:T?(T.length===k.length?this.yylloc.first_column:0)+k[k.length-T.length].length-T[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[R[0],R[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(B){this.unput(this.match.slice(B))},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput(),S=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+S+"^"},test_match:function(B,S){var T,k,R;if(this.options.backtrack_lexer&&(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(R.yylloc.range=this.yylloc.range.slice(0))),k=B[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],T=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),T)return T;if(this._backtrack){for(var x in R)this[x]=R[x];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,S,T,k;this._more||(this.yytext="",this.match="");for(var R=this._currentRules(),x=0;x<R.length;x++)if(T=this._input.match(this.rules[R[x]]),T&&(!S||T[0].length>S[0].length)){if(S=T,k=x,this.options.backtrack_lexer){if(B=this.test_match(T,R[x]),B!==!1)return B;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(B=this.test_match(S,R[k]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var S=this.next();return S||this.lex()},"lex"),begin:a(function(S){this.conditionStack.push(S)},"begin"),popState:a(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:a(function(S){this.begin(S)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(S,T,k,R){switch(k){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return F}();Q.lexer=V;function W(){this.yy={}}return a(W,"Parser"),W.prototype=Q,Q.Parser=W,new W}();E$.parser=E$;var WFt=a(e=>e.match(/^\s*gitGraph/)!==null,"gitGraphDetector"),nX="",lB="",iX="",aX=a(e=>Ju(e,ft()),"sanitizeText$3"),tl=a(function(){nX="",iX="",lB=""},"clear$g"),cu=a(function(e){nX=aX(e).replace(/^\s+/g,"")},"setAccTitle"),rl=a(function(){return nX||lB},"getAccTitle"),nl=a(function(e){iX=aX(e).replace(/\n\s+/g,`
`)},"setAccDescription"),il=a(function(){return iX},"getAccDescription"),fB=a(function(e){lB=aX(e)},"setDiagramTitle"),hB=a(function(){return lB},"getDiagramTitle"),MM=ft().gitGraph.mainBranchName,VFt=ft().gitGraph.mainBranchOrder,Ua={},lo=null,X5={};X5[MM]={name:MM,order:VFt};var Aa={};Aa[MM]=lo;var rs=MM,jDe="LR",cy=0;function sX(){return TDe({length:7})}a(sX,"getId");var jFt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$b");function GFt(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let s=t(i);return r[s]||(r[s]=!0,n.push(i)),n},[])}a(GFt,"uniqBy");var KFt=a(function(e){jDe=e},"setDirection$3"),GDe={},$Ft=a(function(e){Pe.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{GDe=JSON.parse(e)}catch(t){Pe.error("error while parsing gitGraph options",t.message)}},"setOptions"),XFt=a(function(){return GDe},"getOptions"),JFt=a(function(e,t,r,n){Pe.debug("Entering commit:",e,t,r,n),t=Gr.sanitizeText(t,ft()),e=Gr.sanitizeText(e,ft()),n=Gr.sanitizeText(n,ft());let i={id:t||cy+"-"+sX(),message:e,seq:cy++,type:r||J5.NORMAL,tag:n||"",parents:lo==null?[]:[lo.id],branch:rs};lo=i,Ua[i.id]=i,Aa[rs]=i.id,Pe.debug("in pushCommit "+i.id)},"commit"),ZFt=a(function(e,t){if(e=Gr.sanitizeText(e,ft()),typeof Aa[e]>"u")Aa[e]=lo!=null?lo.id:null,X5[e]={name:e,order:t?parseInt(t,10):null},KDe(e),Pe.debug("in createBranch");else{let r=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw r.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},r}},"branch"),eUt=a(function(e,t,r,n){e=Gr.sanitizeText(e,ft()),t=Gr.sanitizeText(t,ft());let i=Ua[Aa[rs]],s=Ua[Aa[e]];if(rs===e){let u=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(typeof i>"u"||!i){let u=new Error('Incorrect usage of "merge". Current branch ('+rs+")has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},u}else if(typeof Aa[e]>"u"){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},u}else if(typeof s>"u"||!s){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},u}else if(i===s){let u=new Error('Incorrect usage of "merge". Both branches have same head');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(t&&typeof Ua[t]<"u"){let u=new Error('Incorrect usage of "merge". Commit with id:'+t+" already exists, use different custom Id");throw u.hash={text:"merge "+e+t+r+n,token:"merge "+e+t+r+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+t+"_UNIQUE "+r+" "+n]},u}let o={id:t||cy+"-"+sX(),message:"merged branch "+e+" into "+rs,seq:cy++,parents:[lo==null?null:lo.id,Aa[e]],branch:rs,type:J5.MERGE,customType:r,customId:!!t,tag:n||""};lo=o,Ua[o.id]=o,Aa[rs]=o.id,Pe.debug(Aa),Pe.debug("in mergeBranch")},"merge"),tUt=a(function(e,t,r){if(Pe.debug("Entering cherryPick:",e,t,r),e=Gr.sanitizeText(e,ft()),t=Gr.sanitizeText(t,ft()),r=Gr.sanitizeText(r,ft()),!e||typeof Ua[e]>"u"){let s=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw s.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}let n=Ua[e],i=n.branch;if(n.type===J5.MERGE){let s=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw s.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}if(!t||typeof Ua[t]>"u"){if(i===rs){let u=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw u.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}let s=Ua[Aa[rs]];if(typeof s>"u"||!s){let u=new Error('Incorrect usage of "cherry-pick". Current branch ('+rs+")has no commits");throw u.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}let o={id:cy+"-"+sX(),message:"cherry-picked "+n+" into "+rs,seq:cy++,parents:[lo==null?null:lo.id,n.id],branch:rs,type:J5.CHERRY_PICK,tag:r??"cherry-pick:"+n.id};lo=o,Ua[o.id]=o,Aa[rs]=o.id,Pe.debug(Aa),Pe.debug("in cherryPick")}},"cherryPick"),KDe=a(function(e){if(e=Gr.sanitizeText(e,ft()),typeof Aa[e]>"u"){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}else{rs=e;let t=Aa[rs];lo=Ua[t]}},"checkout");function yRe(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}a(yRe,"upsert");function $De(e){let t=e.reduce((i,s)=>i.seq>s.seq?i:s,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in Aa)Aa[i]===t.id&&n.push(i);if(Pe.debug(n.join(" ")),t.parents&&t.parents.length==2){let i=Ua[t.parents[0]];yRe(e,t,i),e.push(Ua[t.parents[1]])}else{if(t.parents.length==0)return;{let i=Ua[t.parents];yRe(e,t,i)}}e=GFt(e,i=>i.id),$De(e)}a($De,"prettyPrintCommitHistory");var rUt=a(function(){Pe.debug(Ua);let e=XDe()[0];$De([e])},"prettyPrint"),nUt=a(function(){Ua={},lo=null;let e=ft().gitGraph.mainBranchName,t=ft().gitGraph.mainBranchOrder;Aa={},Aa[e]=null,X5={},X5[e]={name:e,order:t},rs=e,cy=0,tl()},"clear$f"),iUt=a(function(){return Object.values(X5).map((t,r)=>t.order!==null?t:{...t,order:parseFloat(`0.${r}`,10)}).sort((t,r)=>t.order-r.order).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),aUt=a(function(){return Aa},"getBranches"),sUt=a(function(){return Ua},"getCommits"),XDe=a(function(){let e=Object.keys(Ua).map(function(t){return Ua[t]});return e.forEach(function(t){Pe.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),oUt=a(function(){return rs},"getCurrentBranch"),cUt=a(function(){return jDe},"getDirection$3"),uUt=a(function(){return lo},"getHead"),J5={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},lUt={parseDirective:jFt,getConfig:()=>ft().gitGraph,setDirection:KFt,setOptions:$Ft,getOptions:XFt,commit:JFt,branch:ZFt,merge:eUt,cherryPick:tUt,checkout:KDe,prettyPrint:rUt,clear:nUt,getBranchesAsObjArray:iUt,getBranches:aUt,getCommits:sUt,getCommitsArray:XDe,getCurrentBranch:oUt,getDirection:cUt,getHead:uUt,setAccTitle:cu,getAccTitle:rl,getAccDescription:il,setAccDescription:nl,commitType:J5};function Oo(e,t,r){if(typeof t.insert>"u")return;let n=e.getAccTitle(),i=e.getAccDescription();t.attr("role","img").attr("aria-labelledby","chart-title-"+r+" chart-desc-"+r),t.insert("desc",":first-child").attr("id","chart-desc-"+r).text(i),t.insert("title",":first-child").attr("id","chart-title-"+r).text(n)}a(Oo,"addSVGAccessibilityFields");var P5={},gc={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},ay=8,Bo={},BM={},H5=[],RM=0,fUt=a(()=>{Bo={},BM={},P5={},RM=0,H5=[]},"clear$e"),hUt=a(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text"),r=[];typeof e=="string"?r=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?r=e:r=[];for(let n=0;n<r.length;n++){let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r[n].trim(),t.appendChild(i)}return t},"drawText$3"),mRe=a((e,t,r)=>{let n=Ev().gitGraph,i=e.append("g").attr("class","commit-bullets"),s=e.append("g").attr("class","commit-labels"),o=0;Object.keys(t).sort((f,h)=>t[f].seq-t[h].seq).forEach(f=>{let h=t[f],p=Bo[h.branch].pos,g=o+10;if(r){let y,E=typeof h.customType<"u"&&h.customType!==""?h.customType:h.type;switch(E){case gc.NORMAL:y="commit-normal";break;case gc.REVERSE:y="commit-reverse";break;case gc.HIGHLIGHT:y="commit-highlight";break;case gc.MERGE:y="commit-merge";break;case gc.CHERRY_PICK:y="commit-cherry-pick";break;default:y="commit-normal"}if(E===gc.HIGHLIGHT){let M=i.append("rect");M.attr("x",g-10),M.attr("y",p-10),M.attr("height",20),M.attr("width",20),M.attr("class",`commit ${h.id} commit-highlight${Bo[h.branch].index%ay} ${y}-outer`),i.append("rect").attr("x",g-6).attr("y",p-6).attr("height",12).attr("width",12).attr("class",`commit ${h.id} commit${Bo[h.branch].index%ay} ${y}-inner`)}else if(E===gc.CHERRY_PICK)i.append("circle").attr("cx",g).attr("cy",p).attr("r",10).attr("class",`commit ${h.id} ${y}`),i.append("circle").attr("cx",g-3).attr("cy",p+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${y}`),i.append("circle").attr("cx",g+3).attr("cy",p+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${y}`),i.append("line").attr("x1",g+3).attr("y1",p+1).attr("x2",g).attr("y2",p-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${y}`),i.append("line").attr("x1",g-3).attr("y1",p+1).attr("x2",g).attr("y2",p-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${y}`);else{let M=i.append("circle");if(M.attr("cx",g),M.attr("cy",p),M.attr("r",h.type===gc.MERGE?9:10),M.attr("class",`commit ${h.id} commit${Bo[h.branch].index%ay}`),E===gc.MERGE){let z=i.append("circle");z.attr("cx",g),z.attr("cy",p),z.attr("r",6),z.attr("class",`commit ${y} ${h.id} commit${Bo[h.branch].index%ay}`)}E===gc.REVERSE&&i.append("path").attr("d",`M ${g-5},${p-5}L${g+5},${p+5}M${g-5},${p+5}L${g+5},${p-5}`).attr("class",`commit ${y} ${h.id} commit${Bo[h.branch].index%ay}`)}}if(BM[h.id]={x:o+10,y:p},r){if(h.type!==gc.CHERRY_PICK&&(h.customId&&h.type===gc.MERGE||h.type!==gc.MERGE)&&n.showCommitLabel){let M=s.append("g"),z=M.insert("rect").attr("class","commit-label-bkg"),P=M.append("text").attr("x",o).attr("y",p+25).attr("class","commit-label").text(h.id),Q=P.node().getBBox();if(z.attr("x",o+10-Q.width/2-2).attr("y",p+13.5).attr("width",Q.width+2*2).attr("height",Q.height+2*2),P.attr("x",o+10-Q.width/2),n.rotateCommitLabel){let V=-7.5-(Q.width+10)/25*9.5,W=10+Q.width/25*8.5;M.attr("transform","translate("+V+", "+W+") rotate("+-45+", "+o+", "+p+")")}}if(h.tag){let M=s.insert("polygon"),z=s.append("circle"),P=s.append("text").attr("y",p-16).attr("class","tag-label").text(h.tag),Q=P.node().getBBox();P.attr("x",o+10-Q.width/2);let V=Q.height/2,W=p-19.2;M.attr("class","tag-label-bkg").attr("points",`
          ${o-Q.width/2-4/2},${W+2}
          ${o-Q.width/2-4/2},${W-2}
          ${o+10-Q.width/2-4},${W-V-2}
          ${o+10+Q.width/2+4},${W-V-2}
          ${o+10+Q.width/2+4},${W+V+2}
          ${o+10-Q.width/2-4},${W+V+2}`),z.attr("cx",o-Q.width/2+4/2).attr("cy",W).attr("r",1.5).attr("class","tag-hole")}}o+=50,o>RM&&(RM=o)})},"drawCommits"),dUt=a((e,t,r)=>Object.keys(r).filter(s=>r[s].branch===t.branch&&r[s].seq>e.seq&&r[s].seq<t.seq).length>0,"hasOverlappingCommits"),S$=a((e,t,r)=>{let n=r||0,i=e+Math.abs(e-t)/2;if(n>5)return i;let s=!0;for(let u=0;u<H5.length;u++)Math.abs(H5[u]-i)<10&&(s=!1);if(s)return H5.push(i),i;let o=Math.abs(e-t);return S$(e,t-o/5,n+1)},"findLane"),pUt=a((e,t,r,n)=>{let i=BM[t.id],s=BM[r.id],o=dUt(t,r,n),u="",l="",f=0,h=0,p=Bo[r.branch].index,g;if(o){u="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",f=10,h=10,p=Bo[r.branch].index;let y=i.y<s.y?S$(i.y,s.y):S$(s.y,i.y);i.y<s.y?g=`M ${i.x} ${i.y} L ${i.x} ${y-f} ${u} ${i.x+h} ${y} L ${s.x-f} ${y} ${l} ${s.x} ${y+h} L ${s.x} ${s.y}`:g=`M ${i.x} ${i.y} L ${i.x} ${y+f} ${l} ${i.x+h} ${y} L ${s.x-f} ${y} ${u} ${s.x} ${y-h} L ${s.x} ${s.y}`}else i.y<s.y&&(u="A 20 20, 0, 0, 0,",f=20,h=20,p=Bo[r.branch].index,g=`M ${i.x} ${i.y} L ${i.x} ${s.y-f} ${u} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(u="A 20 20, 0, 0, 0,",f=20,h=20,p=Bo[t.branch].index,g=`M ${i.x} ${i.y} L ${s.x-f} ${i.y} ${u} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.y===s.y&&(p=Bo[t.branch].index,g=`M ${i.x} ${i.y} L ${i.x} ${s.y-f} ${u} ${i.x+h} ${s.y} L ${s.x} ${s.y}`);e.append("path").attr("d",g).attr("class","arrow arrow"+p%ay)},"drawArrow"),gUt=a((e,t)=>{let r=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(n=>{let i=t[n];i.parents&&i.parents.length>0&&i.parents.forEach(s=>{pUt(r,t[s],i,t)})})},"drawArrows"),yUt=a((e,t)=>{let r=Ev().gitGraph,n=e.append("g");t.forEach((i,s)=>{let o=s%ay,u=Bo[i.name].pos,l=n.append("line");l.attr("x1",0),l.attr("y1",u),l.attr("x2",RM),l.attr("y2",u),l.attr("class","branch branch"+o),H5.push(u);let f=i.name,h=hUt(f),p=n.insert("rect"),y=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);y.node().appendChild(h);let E=h.getBBox();p.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-E.width-4-(r.rotateCommitLabel===!0?30:0)).attr("y",-E.height/2+8).attr("width",E.width+18).attr("height",E.height+4),y.attr("transform","translate("+(-E.width-14-(r.rotateCommitLabel===!0?30:0))+", "+(u-E.height/2-1)+")"),p.attr("transform","translate("+-19+", "+(u-E.height/2)+")")})},"drawBranches"),mUt=a(function(e,t,r,n){fUt();let i=Ev(),s=Ev().gitGraph;Pe.debug("in gitgraph renderer",e+`
`,"id:",t,r),P5=n.db.getCommits();let o=n.db.getBranchesAsObjArray(),u=0;o.forEach((f,h)=>{Bo[f.name]={pos:u,index:h},u+=50+(s.rotateCommitLabel?40:0)});let l=Zt(`[id="${t}"]`);Oo(n.db,l,t),mRe(l,P5,!1),s.showBranches&&yUt(l,o),gUt(l,P5),mRe(l,P5,!0),WDe(void 0,l,s.diagramPadding,i.useMaxWidth)},"draw$f"),bUt={draw:mUt},vUt=a(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`,"getStyles"),Z5=function(){var e=a(function(tt,Ve,et,gt){for(et=et||{},gt=tt.length;gt--;et[tt[gt]]=Ve);return et},"o"),t=[1,6],r=[1,7],n=[1,8],i=[1,9],s=[1,16],o=[1,11],u=[1,12],l=[1,13],f=[1,14],h=[1,15],p=[1,27],g=[1,33],y=[1,34],E=[1,35],M=[1,36],z=[1,37],P=[1,72],Q=[1,73],V=[1,74],W=[1,75],F=[1,76],B=[1,77],S=[1,78],T=[1,38],k=[1,39],R=[1,40],x=[1,41],N=[1,42],m=[1,43],v=[1,44],A=[1,45],U=[1,46],G=[1,47],K=[1,48],Z=[1,49],O=[1,50],$=[1,51],L=[1,52],ee=[1,53],ve=[1,54],ye=[1,55],se=[1,56],be=[1,57],Y=[1,59],D=[1,60],J=[1,61],q=[1,62],I=[1,63],H=[1,64],te=[1,65],ie=[1,66],he=[1,67],De=[1,68],$e=[1,69],ze=[24,52],Qe=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],je=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],We=[1,94],Ce=[1,95],Te=[1,96],Je=[1,97],rt=[15,24,52],ge=[7,8,9,10,18,22,25,26,27,28],xe=[15,24,43,52],qe=[15,24,43,52,86,87,89,90],ot=[15,43],at=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],pe={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:a(function(Ve,et,gt,ut,zt,it,Wt){var bt=it.length-1;switch(zt){case 4:ut.setDirection("TB");break;case 5:ut.setDirection("BT");break;case 6:ut.setDirection("RL");break;case 7:ut.setDirection("LR");break;case 11:ut.parseDirective("%%{","open_directive");break;case 12:break;case 13:it[bt]=it[bt].trim().replace(/'/g,'"'),ut.parseDirective(it[bt],"arg_directive");break;case 14:ut.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:ut.setC4Type(it[bt-3]);break;case 26:ut.setTitle(it[bt].substring(6)),this.$=it[bt].substring(6);break;case 27:ut.setAccDescription(it[bt].substring(15)),this.$=it[bt].substring(15);break;case 28:this.$=it[bt].trim(),ut.setTitle(this.$);break;case 29:case 30:this.$=it[bt].trim(),ut.setAccDescription(this.$);break;case 35:case 36:it[bt].splice(2,0,"ENTERPRISE"),ut.addPersonOrSystemBoundary(...it[bt]),this.$=it[bt];break;case 37:ut.addPersonOrSystemBoundary(...it[bt]),this.$=it[bt];break;case 38:it[bt].splice(2,0,"CONTAINER"),ut.addContainerBoundary(...it[bt]),this.$=it[bt];break;case 39:ut.addDeploymentNode("node",...it[bt]),this.$=it[bt];break;case 40:ut.addDeploymentNode("nodeL",...it[bt]),this.$=it[bt];break;case 41:ut.addDeploymentNode("nodeR",...it[bt]),this.$=it[bt];break;case 42:ut.popBoundaryParseStack();break;case 46:ut.addPersonOrSystem("person",...it[bt]),this.$=it[bt];break;case 47:ut.addPersonOrSystem("external_person",...it[bt]),this.$=it[bt];break;case 48:ut.addPersonOrSystem("system",...it[bt]),this.$=it[bt];break;case 49:ut.addPersonOrSystem("system_db",...it[bt]),this.$=it[bt];break;case 50:ut.addPersonOrSystem("system_queue",...it[bt]),this.$=it[bt];break;case 51:ut.addPersonOrSystem("external_system",...it[bt]),this.$=it[bt];break;case 52:ut.addPersonOrSystem("external_system_db",...it[bt]),this.$=it[bt];break;case 53:ut.addPersonOrSystem("external_system_queue",...it[bt]),this.$=it[bt];break;case 54:ut.addContainer("container",...it[bt]),this.$=it[bt];break;case 55:ut.addContainer("container_db",...it[bt]),this.$=it[bt];break;case 56:ut.addContainer("container_queue",...it[bt]),this.$=it[bt];break;case 57:ut.addContainer("external_container",...it[bt]),this.$=it[bt];break;case 58:ut.addContainer("external_container_db",...it[bt]),this.$=it[bt];break;case 59:ut.addContainer("external_container_queue",...it[bt]),this.$=it[bt];break;case 60:ut.addComponent("component",...it[bt]),this.$=it[bt];break;case 61:ut.addComponent("component_db",...it[bt]),this.$=it[bt];break;case 62:ut.addComponent("component_queue",...it[bt]),this.$=it[bt];break;case 63:ut.addComponent("external_component",...it[bt]),this.$=it[bt];break;case 64:ut.addComponent("external_component_db",...it[bt]),this.$=it[bt];break;case 65:ut.addComponent("external_component_queue",...it[bt]),this.$=it[bt];break;case 67:ut.addRel("rel",...it[bt]),this.$=it[bt];break;case 68:ut.addRel("birel",...it[bt]),this.$=it[bt];break;case 69:ut.addRel("rel_u",...it[bt]),this.$=it[bt];break;case 70:ut.addRel("rel_d",...it[bt]),this.$=it[bt];break;case 71:ut.addRel("rel_l",...it[bt]),this.$=it[bt];break;case 72:ut.addRel("rel_r",...it[bt]),this.$=it[bt];break;case 73:ut.addRel("rel_b",...it[bt]),this.$=it[bt];break;case 74:it[bt].splice(0,1),ut.addRel("rel",...it[bt]),this.$=it[bt];break;case 75:ut.updateElStyle("update_el_style",...it[bt]),this.$=it[bt];break;case 76:ut.updateRelStyle("update_rel_style",...it[bt]),this.$=it[bt];break;case 77:ut.updateLayoutConfig("update_layout_config",...it[bt]),this.$=it[bt];break;case 78:this.$=[it[bt]];break;case 79:it[bt].unshift(it[bt-1]),this.$=it[bt];break;case 80:case 82:this.$=it[bt].trim();break;case 81:let Se={};Se[it[bt-1].trim()]=it[bt].trim(),this.$=Se;break;case 83:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:t,8:r,9:n,10:i,11:5,12:10,18:s,22:o,25:u,26:l,27:f,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:t,8:r,9:n,10:i,11:5,12:10,18:s,22:o,25:u,26:l,27:f,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:p},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:79,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:80,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:81,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:82,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(ze,[2,20],{53:32,39:58,40:70,42:71,30:87,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e}),e(ze,[2,21]),e(Qe,[2,23],{15:[1,88]}),e(ze,[2,43],{15:[1,89]}),e(je,[2,26]),e(je,[2,27]),{35:[1,90]},{37:[1,91]},e(je,[2,30]),{45:92,85:93,86:We,87:Ce,89:Te,90:Je},{45:98,85:93,86:We,87:Ce,89:Te,90:Je},{45:99,85:93,86:We,87:Ce,89:Te,90:Je},{45:100,85:93,86:We,87:Ce,89:Te,90:Je},{45:101,85:93,86:We,87:Ce,89:Te,90:Je},{45:102,85:93,86:We,87:Ce,89:Te,90:Je},{45:103,85:93,86:We,87:Ce,89:Te,90:Je},{45:104,85:93,86:We,87:Ce,89:Te,90:Je},{45:105,85:93,86:We,87:Ce,89:Te,90:Je},{45:106,85:93,86:We,87:Ce,89:Te,90:Je},{45:107,85:93,86:We,87:Ce,89:Te,90:Je},{45:108,85:93,86:We,87:Ce,89:Te,90:Je},{45:109,85:93,86:We,87:Ce,89:Te,90:Je},{45:110,85:93,86:We,87:Ce,89:Te,90:Je},{45:111,85:93,86:We,87:Ce,89:Te,90:Je},{45:112,85:93,86:We,87:Ce,89:Te,90:Je},{45:113,85:93,86:We,87:Ce,89:Te,90:Je},{45:114,85:93,86:We,87:Ce,89:Te,90:Je},{45:115,85:93,86:We,87:Ce,89:Te,90:Je},{45:116,85:93,86:We,87:Ce,89:Te,90:Je},e(rt,[2,66]),{45:117,85:93,86:We,87:Ce,89:Te,90:Je},{45:118,85:93,86:We,87:Ce,89:Te,90:Je},{45:119,85:93,86:We,87:Ce,89:Te,90:Je},{45:120,85:93,86:We,87:Ce,89:Te,90:Je},{45:121,85:93,86:We,87:Ce,89:Te,90:Je},{45:122,85:93,86:We,87:Ce,89:Te,90:Je},{45:123,85:93,86:We,87:Ce,89:Te,90:Je},{45:124,85:93,86:We,87:Ce,89:Te,90:Je},{45:125,85:93,86:We,87:Ce,89:Te,90:Je},{45:126,85:93,86:We,87:Ce,89:Te,90:Je},{45:127,85:93,86:We,87:Ce,89:Te,90:Je},{30:128,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{15:[1,130],43:[1,129]},{45:131,85:93,86:We,87:Ce,89:Te,90:Je},{45:132,85:93,86:We,87:Ce,89:Te,90:Je},{45:133,85:93,86:We,87:Ce,89:Te,90:Je},{45:134,85:93,86:We,87:Ce,89:Te,90:Je},{45:135,85:93,86:We,87:Ce,89:Te,90:Je},{45:136,85:93,86:We,87:Ce,89:Te,90:Je},{45:137,85:93,86:We,87:Ce,89:Te,90:Je},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(ge,[2,9]),{14:142,21:p},{21:[2,13]},{1:[2,15]},e(ze,[2,22]),e(Qe,[2,24],{31:31,29:143,32:g,33:y,34:E,36:M,38:z}),e(ze,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:g,33:y,34:E,36:M,38:z,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e}),e(je,[2,28]),e(je,[2,29]),e(rt,[2,46]),e(xe,[2,78],{85:93,45:145,86:We,87:Ce,89:Te,90:Je}),e(qe,[2,80]),{88:[1,146]},e(qe,[2,82]),e(qe,[2,83]),e(rt,[2,47]),e(rt,[2,48]),e(rt,[2,49]),e(rt,[2,50]),e(rt,[2,51]),e(rt,[2,52]),e(rt,[2,53]),e(rt,[2,54]),e(rt,[2,55]),e(rt,[2,56]),e(rt,[2,57]),e(rt,[2,58]),e(rt,[2,59]),e(rt,[2,60]),e(rt,[2,61]),e(rt,[2,62]),e(rt,[2,63]),e(rt,[2,64]),e(rt,[2,65]),e(rt,[2,67]),e(rt,[2,68]),e(rt,[2,69]),e(rt,[2,70]),e(rt,[2,71]),e(rt,[2,72]),e(rt,[2,73]),e(rt,[2,74]),e(rt,[2,75]),e(rt,[2,76]),e(rt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(ot,[2,35]),e(ot,[2,36]),e(ot,[2,37]),e(ot,[2,38]),e(ot,[2,39]),e(ot,[2,40]),e(ot,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(Qe,[2,25]),e(ze,[2,45]),e(xe,[2,79]),e(qe,[2,81]),e(rt,[2,31]),e(rt,[2,42]),e(at,[2,32]),e(at,[2,33],{15:[1,152]}),e(ge,[2,10]),e(at,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:a(function(Ve,et){if(et.recoverable)this.trace(Ve);else{var gt=new Error(Ve);throw gt.hash=et,gt}},"parseError"),parse:a(function(Ve){var et=this,gt=[0],ut=[],zt=[null],it=[],Wt=this.table,bt="",Se=0,Ie=0,ue=2,_e=1,ae=it.slice.call(arguments,1),ce=Object.create(this.lexer),re={yy:{}};for(var le in this.yy)Object.prototype.hasOwnProperty.call(this.yy,le)&&(re.yy[le]=this.yy[le]);ce.setInput(Ve,re.yy),re.yy.lexer=ce,re.yy.parser=this,typeof ce.yylloc>"u"&&(ce.yylloc={});var me=ce.yylloc;it.push(me);var Ae=ce.options&&ce.options.ranges;typeof re.yy.parseError=="function"?this.parseError=re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Oe(){var pr;return pr=ut.pop()||ce.lex()||_e,typeof pr!="number"&&(pr instanceof Array&&(ut=pr,pr=ut.pop()),pr=et.symbols_[pr]||pr),pr}a(Oe,"lex");for(var Ge,ke,st,yt,pt={},wt,Gt,Pt,tr;;){if(ke=gt[gt.length-1],this.defaultActions[ke]?st=this.defaultActions[ke]:((Ge===null||typeof Ge>"u")&&(Ge=Oe()),st=Wt[ke]&&Wt[ke][Ge]),typeof st>"u"||!st.length||!st[0]){var cr="";tr=[];for(wt in Wt[ke])this.terminals_[wt]&&wt>ue&&tr.push("'"+this.terminals_[wt]+"'");ce.showPosition?cr="Parse error on line "+(Se+1)+`:
`+ce.showPosition()+`
Expecting `+tr.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":cr="Parse error on line "+(Se+1)+": Unexpected "+(Ge==_e?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(cr,{text:ce.match,token:this.terminals_[Ge]||Ge,line:ce.yylineno,loc:me,expected:tr})}if(st[0]instanceof Array&&st.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ke+", token: "+Ge);switch(st[0]){case 1:gt.push(Ge),zt.push(ce.yytext),it.push(ce.yylloc),gt.push(st[1]),Ge=null,Ie=ce.yyleng,bt=ce.yytext,Se=ce.yylineno,me=ce.yylloc;break;case 2:if(Gt=this.productions_[st[1]][1],pt.$=zt[zt.length-Gt],pt._$={first_line:it[it.length-(Gt||1)].first_line,last_line:it[it.length-1].last_line,first_column:it[it.length-(Gt||1)].first_column,last_column:it[it.length-1].last_column},Ae&&(pt._$.range=[it[it.length-(Gt||1)].range[0],it[it.length-1].range[1]]),yt=this.performAction.apply(pt,[bt,Ie,Se,re.yy,st[1],zt,it].concat(ae)),typeof yt<"u")return yt;Gt&&(gt=gt.slice(0,-1*Gt*2),zt=zt.slice(0,-1*Gt),it=it.slice(0,-1*Gt)),gt.push(this.productions_[st[1]][0]),zt.push(pt.$),it.push(pt._$),Pt=Wt[gt[gt.length-2]][gt[gt.length-1]],gt.push(Pt);break;case 3:return!0}}return!0},"parse2")},Re=function(){var tt={EOF:1,parseError:a(function(et,gt){if(this.yy.parser)this.yy.parser.parseError(et,gt);else throw new Error(et)},"parseError"),setInput:function(Ve,et){return this.yy=et||this.yy||{},this._input=Ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ve=this._input[0];this.yytext+=Ve,this.yyleng++,this.offset++,this.match+=Ve,this.matched+=Ve;var et=Ve.match(/(?:\r\n?|\n).*/g);return et?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ve},unput:function(Ve){var et=Ve.length,gt=Ve.split(/(?:\r\n?|\n)/g);this._input=Ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-et),this.offset-=et;var ut=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gt.length-1&&(this.yylineno-=gt.length-1);var zt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gt?(gt.length===ut.length?this.yylloc.first_column:0)+ut[ut.length-gt.length].length-gt[0].length:this.yylloc.first_column-et},this.options.ranges&&(this.yylloc.range=[zt[0],zt[0]+this.yyleng-et]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ve){this.unput(this.match.slice(Ve))},pastInput:function(){var Ve=this.matched.substr(0,this.matched.length-this.match.length);return(Ve.length>20?"...":"")+Ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ve=this.match;return Ve.length<20&&(Ve+=this._input.substr(0,20-Ve.length)),(Ve.substr(0,20)+(Ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ve=this.pastInput(),et=new Array(Ve.length+1).join("-");return Ve+this.upcomingInput()+`
`+et+"^"},test_match:function(Ve,et){var gt,ut,zt;if(this.options.backtrack_lexer&&(zt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(zt.yylloc.range=this.yylloc.range.slice(0))),ut=Ve[0].match(/(?:\r\n?|\n).*/g),ut&&(this.yylineno+=ut.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ut?ut[ut.length-1].length-ut[ut.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ve[0].length},this.yytext+=Ve[0],this.match+=Ve[0],this.matches=Ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ve[0].length),this.matched+=Ve[0],gt=this.performAction.call(this,this.yy,this,et,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gt)return gt;if(this._backtrack){for(var it in zt)this[it]=zt[it];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ve,et,gt,ut;this._more||(this.yytext="",this.match="");for(var zt=this._currentRules(),it=0;it<zt.length;it++)if(gt=this._input.match(this.rules[zt[it]]),gt&&(!et||gt[0].length>et[0].length)){if(et=gt,ut=it,this.options.backtrack_lexer){if(Ve=this.test_match(gt,zt[it]),Ve!==!1)return Ve;if(this._backtrack){et=!1;continue}else return!1}else if(!this.options.flex)break}return et?(Ve=this.test_match(et,zt[ut]),Ve!==!1?Ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var et=this.next();return et||this.lex()},"lex"),begin:a(function(et){this.conditionStack.push(et)},"begin"),popState:a(function(){var et=this.conditionStack.length-1;return et>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(et){return et=this.conditionStack.length-1-Math.abs(et||0),et>=0?this.conditionStack[et]:"INITIAL"},"topState"),pushState:a(function(et){this.begin(et)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(et,gt,ut,zt){switch(ut){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return tt}();pe.lexer=Re;function He(){this.yy={}}return a(He,"Parser"),He.prototype=pe,pe.Parser=He,new He}();Z5.parser=Z5;var _Ut=a(e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null,"c4Detector"),Zu=[],pp=[""],fo="global",Xu="",bf=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],e6=[],oX="",cX=!1,LM=4,DM=2,JDe,xUt=a(function(){return JDe},"getC4Type"),wUt=a(function(e){JDe=Ju(e,ft())},"setC4Type"),AUt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$a"),EUt=a(function(e,t,r,n,i,s,o,u,l){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let f={},h=e6.find(p=>p.from===t&&p.to===r);if(h?f=h:e6.push(f),f.type=e,f.from=t,f.to=r,f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[p,g]=Object.entries(i)[0];f[p]={text:g}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[p,g]=Object.entries(s)[0];f[p]={text:g}}else f.descr={text:s};if(typeof o=="object"){let[p,g]=Object.entries(o)[0];f[p]=g}else f.sprite=o;if(typeof u=="object"){let[p,g]=Object.entries(u)[0];f[p]=g}else f.tags=u;if(typeof l=="object"){let[p,g]=Object.entries(l)[0];f[p]=g}else f.link=l;f.wrap=bp()},"addRel"),SUt=a(function(e,t,r,n,i,s,o){if(t===null||r===null)return;let u={},l=Zu.find(f=>f.alias===t);if(l&&t===l.alias?u=l:(u.alias=t,Zu.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.descr={text:""};else if(typeof n=="object"){let[f,h]=Object.entries(n)[0];u[f]={text:h}}else u.descr={text:n};if(typeof i=="object"){let[f,h]=Object.entries(i)[0];u[f]=h}else u.sprite=i;if(typeof s=="object"){let[f,h]=Object.entries(s)[0];u[f]=h}else u.tags=s;if(typeof o=="object"){let[f,h]=Object.entries(o)[0];u[f]=h}else u.link=o;u.typeC4Shape={text:e},u.parentBoundary=fo,u.wrap=bp()},"addPersonOrSystem"),kUt=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let l={},f=Zu.find(h=>h.alias===t);if(f&&t===f.alias?l=f:(l.alias=t,Zu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];l[h]={text:p}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];l[h]={text:p}}else l.descr={text:i};if(typeof s=="object"){let[h,p]=Object.entries(s)[0];l[h]=p}else l.sprite=s;if(typeof o=="object"){let[h,p]=Object.entries(o)[0];l[h]=p}else l.tags=o;if(typeof u=="object"){let[h,p]=Object.entries(u)[0];l[h]=p}else l.link=u;l.wrap=bp(),l.typeC4Shape={text:e},l.parentBoundary=fo},"addContainer"),CUt=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let l={},f=Zu.find(h=>h.alias===t);if(f&&t===f.alias?l=f:(l.alias=t,Zu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];l[h]={text:p}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];l[h]={text:p}}else l.descr={text:i};if(typeof s=="object"){let[h,p]=Object.entries(s)[0];l[h]=p}else l.sprite=s;if(typeof o=="object"){let[h,p]=Object.entries(o)[0];l[h]=p}else l.tags=o;if(typeof u=="object"){let[h,p]=Object.entries(u)[0];l[h]=p}else l.link=u;l.wrap=bp(),l.typeC4Shape={text:e},l.parentBoundary=fo},"addComponent"),IUt=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=bf.find(u=>u.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,bf.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"system"};else if(typeof r=="object"){let[u,l]=Object.entries(r)[0];s[u]={text:l}}else s.type={text:r};if(typeof n=="object"){let[u,l]=Object.entries(n)[0];s[u]=l}else s.tags=n;if(typeof i=="object"){let[u,l]=Object.entries(i)[0];s[u]=l}else s.link=i;s.parentBoundary=fo,s.wrap=bp(),Xu=fo,fo=e,pp.push(Xu)},"addPersonOrSystemBoundary"),TUt=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=bf.find(u=>u.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,bf.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"container"};else if(typeof r=="object"){let[u,l]=Object.entries(r)[0];s[u]={text:l}}else s.type={text:r};if(typeof n=="object"){let[u,l]=Object.entries(n)[0];s[u]=l}else s.tags=n;if(typeof i=="object"){let[u,l]=Object.entries(i)[0];s[u]=l}else s.link=i;s.parentBoundary=fo,s.wrap=bp(),Xu=fo,fo=e,pp.push(Xu)},"addContainerBoundary"),MUt=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let l={},f=bf.find(h=>h.alias===t);if(f&&t===f.alias?l=f:(l.alias=t,bf.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];l[h]={text:p}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];l[h]={text:p}}else l.descr={text:i};if(typeof o=="object"){let[h,p]=Object.entries(o)[0];l[h]=p}else l.tags=o;if(typeof u=="object"){let[h,p]=Object.entries(u)[0];l[h]=p}else l.link=u;l.nodeType=e,l.parentBoundary=fo,l.wrap=bp(),Xu=fo,fo=t,pp.push(Xu)},"addDeploymentNode"),BUt=a(function(){fo=Xu,pp.pop(),Xu=pp.pop(),pp.push(Xu)},"popBoundaryParseStack"),RUt=a(function(e,t,r,n,i,s,o,u,l,f,h){let p=Zu.find(g=>g.alias===t);if(!(p===void 0&&(p=bf.find(g=>g.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[g,y]=Object.entries(r)[0];p[g]=y}else p.bgColor=r;if(n!=null)if(typeof n=="object"){let[g,y]=Object.entries(n)[0];p[g]=y}else p.fontColor=n;if(i!=null)if(typeof i=="object"){let[g,y]=Object.entries(i)[0];p[g]=y}else p.borderColor=i;if(s!=null)if(typeof s=="object"){let[g,y]=Object.entries(s)[0];p[g]=y}else p.shadowing=s;if(o!=null)if(typeof o=="object"){let[g,y]=Object.entries(o)[0];p[g]=y}else p.shape=o;if(u!=null)if(typeof u=="object"){let[g,y]=Object.entries(u)[0];p[g]=y}else p.sprite=u;if(l!=null)if(typeof l=="object"){let[g,y]=Object.entries(l)[0];p[g]=y}else p.techn=l;if(f!=null)if(typeof f=="object"){let[g,y]=Object.entries(f)[0];p[g]=y}else p.legendText=f;if(h!=null)if(typeof h=="object"){let[g,y]=Object.entries(h)[0];p[g]=y}else p.legendSprite=h}},"updateElStyle"),LUt=a(function(e,t,r,n,i,s,o){let u=e6.find(l=>l.from===t&&l.to===r);if(u!==void 0){if(n!=null)if(typeof n=="object"){let[l,f]=Object.entries(n)[0];u[l]=f}else u.textColor=n;if(i!=null)if(typeof i=="object"){let[l,f]=Object.entries(i)[0];u[l]=f}else u.lineColor=i;if(s!=null)if(typeof s=="object"){let[l,f]=Object.entries(s)[0];u[l]=parseInt(f)}else u.offsetX=parseInt(s);if(o!=null)if(typeof o=="object"){let[l,f]=Object.entries(o)[0];u[l]=parseInt(f)}else u.offsetY=parseInt(o)}},"updateRelStyle"),DUt=a(function(e,t,r){let n=LM,i=DM;if(typeof t=="object"){let s=Object.values(t)[0];n=parseInt(s)}else n=parseInt(t);if(typeof r=="object"){let s=Object.values(r)[0];i=parseInt(s)}else i=parseInt(r);n>=1&&(LM=n),i>=1&&(DM=i)},"updateLayoutConfig"),NUt=a(function(){return LM},"getC4ShapeInRow"),OUt=a(function(){return DM},"getC4BoundaryInRow"),qUt=a(function(){return fo},"getCurrentBoundaryParse"),PUt=a(function(){return Xu},"getParentBoundaryParse"),ZDe=a(function(e){return e==null?Zu:Zu.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),FUt=a(function(e){return Zu.find(t=>t.alias===e)},"getC4Shape"),UUt=a(function(e){return Object.keys(ZDe(e))},"getC4ShapeKeys"),YUt=a(function(e){return e==null?bf:bf.filter(t=>t.parentBoundary===e)},"getBoundarys"),HUt=a(function(){return e6},"getRels"),zUt=a(function(){return oX},"getTitle"),QUt=a(function(e){cX=e},"setWrap$1"),bp=a(function(){return cX},"autoWrap$1"),WUt=a(function(){Zu=[],bf=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Xu="",fo="global",pp=[""],e6=[],pp=[""],oX="",cX=!1,LM=4,DM=2},"clear$d"),VUt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},jUt={FILLED:0,OPEN:1},GUt={LEFTOF:0,RIGHTOF:1,OVER:2},KUt=a(function(e){oX=Ju(e,ft())},"setTitle"),eNe={addPersonOrSystem:SUt,addPersonOrSystemBoundary:IUt,addContainer:kUt,addContainerBoundary:TUt,addComponent:CUt,addDeploymentNode:MUt,popBoundaryParseStack:BUt,addRel:EUt,updateElStyle:RUt,updateRelStyle:LUt,updateLayoutConfig:DUt,autoWrap:bp,setWrap:QUt,getC4ShapeArray:ZDe,getC4Shape:FUt,getC4ShapeKeys:UUt,getBoundarys:YUt,getCurrentBoundaryParse:qUt,getParentBoundaryParse:PUt,getRels:HUt,getTitle:zUt,getC4Type:xUt,getC4ShapeInRow:NUt,getC4BoundaryInRow:OUt,setAccTitle:cu,getAccTitle:rl,getAccDescription:il,setAccDescription:nl,parseDirective:AUt,getConfig:()=>ft().c4,clear:WUt,LINETYPE:VUt,ARROWTYPE:jUt,PLACEMENT:GUt,setTitle:KUt,setC4Type:wUt},uX=a(function(e,t){let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.attrs!=="undefined"&&t.attrs!==null)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class!=="undefined"&&r.attr("class",t.class),r},"drawRect$2"),tNe=a(function(e,t,r,n,i,s){let o=e.append("image");o.attr("width",t),o.attr("height",r),o.attr("x",n),o.attr("y",i);let u=s.startsWith("data:image/png;base64")?s:(0,_f.sanitizeUrl)(s);o.attr("xlink:href",u)},"drawImage$1"),$Ut=a(function(e,t,r,n){let i=e.append("use");i.attr("x",t),i.attr("y",r);var s=(0,_f.sanitizeUrl)(n);i.attr("xlink:href","#"+s)},"drawEmbeddedImage$1"),rNe=a(function(e,t){let r=0,n=0,i=t.text.split(Gr.lineBreakRegex),s=[],o=0,u=a(()=>t.y,"yfunc");if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":u=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":u=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":u=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="text-after-edge",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="text-before-edge",t.alignmentBaseline="middle";break}for(let l=0;l<i.length;l++){let f=i[l];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(o=l*t.fontSize);let h=e.append("text");if(h.attr("x",t.x),h.attr("y",u()),typeof t.anchor<"u"&&h.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&h.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&h.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&h.style("font-weight",t.fontWeight),typeof t.fill<"u"&&h.attr("fill",t.fill),typeof t.class<"u"&&h.attr("class",t.class),typeof t.dy<"u"?h.attr("dy",t.dy):o!==0&&h.attr("dy",o),t.tspan){let p=h.append("tspan");p.attr("x",t.x),typeof t.fill<"u"&&p.attr("fill",t.fill),p.text(f)}else h.text(f);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(h._groups||h)[0][0].getBBox().height,r=n),s.push(h)}return s},"drawText$2"),XUt=a(function(e,t){function r(i,s,o,u,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-l)+" "+(i+o-l*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,rNe(e,t),n},"drawLabel$2"),JUt=a((e,t,r)=>{let n=e.append("g"),i=0;for(let s of t){let o=s.textColor?s.textColor:"#444444",u=s.lineColor?s.lineColor:"#444444",l=s.offsetX?parseInt(s.offsetX):0,f=s.offsetY?parseInt(s.offsetY):0,h="";if(i===0){let g=n.append("line");g.attr("x1",s.startPoint.x),g.attr("y1",s.startPoint.y),g.attr("x2",s.endPoint.x),g.attr("y2",s.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",u),g.style("fill","none"),s.type!=="rel_b"&&g.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&g.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let g=n.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",u).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&g.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&g.attr("marker-start","url("+h+"#arrowend)")}let p=r.messageFont();gd(r)(s.label.text,n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+f,s.label.width,s.label.height,{fill:o},p),s.techn&&s.techn.text!==""&&(p=r.messageFont(),gd(r)("["+s.techn.text+"]",n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+r.messageFontSize+5+f,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:o,"font-style":"italic"},p))}},"drawRels$1"),ZUt=a(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",s=t.borderColor?t.borderColor:"#444444",o=t.fontColor?t.fontColor:"black",u={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(u={"stroke-width":1});let l={x:t.x,y:t.y,fill:i,stroke:s,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:u};uX(n,l);let f=r.boundaryFont();f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=o,gd(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},f),t.type&&t.type.text!==""&&(f=r.boundaryFont(),f.fontColor=o,gd(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},f)),t.descr&&t.descr.text!==""&&(f=r.boundaryFont(),f.fontSize=f.fontSize-2,f.fontColor=o,gd(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},f))},"drawBoundary$1"),eYt=a(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],s=t.fontColor?t.fontColor:"#FFFFFF",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let u=e.append("g");u.attr("class","person-man");let l=nNe();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=t.x,l.y=t.y,l.fill=n,l.width=t.width,l.height=t.height,l.style="stroke:"+i+";stroke-width:0.5;",l.rx=2.5,l.ry=2.5,uX(u,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let f=lYt(r,t.typeC4Shape.text);switch(u.append("text").attr("fill",s).attr("font-family",f.fontFamily).attr("font-size",f.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":tNe(u,48,48,t.x+t.width/2-24,t.y+t.image.Y,o);break}let h=r[t.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,gd(r)(t.label.text,u,t.x,t.y+t.label.Y,t.width,t.height,{fill:s},h),h=r[t.typeC4Shape.text+"Font"](),h.fontColor=s,t.thchn&&t.thchn.text!==""?gd(r)(t.thchn.text,u,t.x,t.y+t.thchn.Y,t.width,t.height,{fill:s,"font-style":"italic"},h):t.type&&t.type.text!==""&&gd(r)(t.type.text,u,t.x,t.y+t.type.Y,t.width,t.height,{fill:s,"font-style":"italic"},h),t.descr&&t.descr.text!==""&&(h=r.personFont(),h.fontColor=s,gd(r)(t.descr.text,u,t.x,t.y+t.descr.Y,t.width,t.height,{fill:s},h)),t.height},"drawC4Shape"),tYt=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon$1"),rYt=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon$1"),nYt=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon$1"),iYt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead$1"),aYt=a(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),sYt=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead$1"),oYt=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),cYt=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead$1"),uYt=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj$2"),nNe=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect$2"),lYt=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),gd=function(){function e(i,s,o,u,l,f,h){let p=s.append("text").attr("x",o+l/2).attr("y",u+f/2+5).style("text-anchor","middle").text(i);n(p,h)}a(e,"byText");function t(i,s,o,u,l,f,h,p){let{fontSize:g,fontFamily:y,fontWeight:E}=p,M=i.split(Gr.lineBreakRegex);for(let z=0;z<M.length;z++){let P=z*g-g*(M.length-1)/2,Q=s.append("text").attr("x",o+l/2).attr("y",u).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",E).style("font-family",y);Q.append("tspan").attr("dy",P).text(M[z]).attr("alignment-baseline","mathematical"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,u,l,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",u).attr("width",l).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,u,l,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),df={drawRect:uX,drawText:rNe,drawLabel:XUt,drawBoundary:ZUt,drawC4Shape:eYt,drawRels:JUt,drawImage:tNe,drawEmbeddedImage:$Ut,insertArrowHead:iYt,insertArrowEnd:aYt,insertArrowFilledHead:sYt,insertDynamicNumber:oYt,insertArrowCrossHead:cYt,insertDatabaseIcon:tYt,insertComputerIcon:rYt,insertClockIcon:nYt,getTextObj:uYt,getNoteRect:nNe,sanitizeUrl:_f.sanitizeUrl},NM=0,OM=0,iNe=4,k$=2;Z5.yy=eNe;var Sr={},z5=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,C$(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){typeof t[r]>"u"?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,i=this.nextData.starty+t.margin*2,s=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>iNe)&&(r=this.nextData.startx+t.margin+Sr.nextLinePaddingX,i=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},C$(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}};a(z5,"Bounds");var C$=a(function(e){Sa(Sr,e),e.fontFamily&&(Sr.personFontFamily=Sr.systemFontFamily=Sr.messageFontFamily=e.fontFamily),e.fontSize&&(Sr.personFontSize=Sr.systemFontSize=Sr.messageFontSize=e.fontSize),e.fontWeight&&(Sr.personFontWeight=Sr.systemFontWeight=Sr.messageFontWeight=e.fontWeight)},"setConf$a"),D5=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),vM=a(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),fYt=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont$1");function Ku(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=MDe(t[e].text,i,n),t[e].textLines=t[e].text.split(Gr.lineBreakRegex).length,t[e].width=i,t[e].height=A$(t[e].text,n);else{let s=t[e].text.split(Gr.lineBreakRegex);t[e].textLines=s.length;let o=0;t[e].height=0,t[e].width=0;for(let u=0;u<s.length;u++)t[e].width=Math.max(mf(s[u],n),t[e].width),o=A$(s[u],n),t[e].height=t[e].height+o}}a(Ku,"calcC4ShapeTextWH");var aNe=a(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Sr.c4ShapeMargin-35;let n=t.wrap&&Sr.wrap,i=vM(Sr);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=mf(t.label.text,i);Ku("label",t,n,i,s),df.drawBoundary(e,t,Sr)},"drawBoundary"),sNe=a(function(e,t,r,n){let i=0;for(let s=0;s<n.length;s++){i=0;let o=r[n[s]],u=D5(Sr,o.typeC4Shape.text);switch(u.fontSize=u.fontSize-2,o.typeC4Shape.width=mf("<<"+o.typeC4Shape.text+">>",u),o.typeC4Shape.height=u.fontSize+2,o.typeC4Shape.Y=Sr.c4ShapePadding,i=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height);let l=o.wrap&&Sr.wrap,f=Sr.width-Sr.c4ShapePadding*2,h=D5(Sr,o.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Ku("label",o,l,h,f),o.label.Y=i+8,i=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let y=D5(Sr,o.typeC4Shape.text);Ku("type",o,l,y,f),o.type.Y=i+5,i=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let y=D5(Sr,o.techn.text);Ku("techn",o,l,y,f),o.techn.Y=i+5,i=o.techn.Y+o.techn.height}let p=i,g=o.label.width;if(o.descr&&o.descr.text!==""){let y=D5(Sr,o.typeC4Shape.text);Ku("descr",o,l,y,f),o.descr.Y=i+20,i=o.descr.Y+o.descr.height,g=Math.max(o.label.width,o.descr.width),p=i-o.descr.textLines*5}g=g+Sr.c4ShapePadding,o.width=Math.max(o.width||Sr.width,g,Sr.width),o.height=Math.max(o.height||Sr.height,p,Sr.height),o.margin=o.margin||Sr.c4ShapeMargin,e.insert(o),df.drawC4Shape(t,o,Sr)}e.bumpLastMargin(Sr.c4ShapeMargin)},"drawC4ShapeArray"),co=class{constructor(t,r){this.x=t,this.y=r}};a(co,"Point");var bRe=a(function(e,t){let r=e.x,n=e.y,i=t.x,s=t.y,o=r+e.width/2,u=n+e.height/2,l=Math.abs(r-i),f=Math.abs(n-s),h=f/l,p=e.height/e.width,g=null;return n==s&&r<i?g=new co(r+e.width,u):n==s&&r>i?g=new co(r,u):r==i&&n<s?g=new co(o,n+e.height):r==i&&n>s&&(g=new co(o,n)),r>i&&n<s?p>=h?g=new co(r,u+h*e.width/2):g=new co(o-l/f*e.height/2,n+e.height):r<i&&n<s?p>=h?g=new co(r+e.width,u+h*e.width/2):g=new co(o+l/f*e.height/2,n+e.height):r<i&&n>s?p>=h?g=new co(r+e.width,u-h*e.width/2):g=new co(o+e.height/2*l/f,n):r>i&&n>s&&(p>=h?g=new co(r,u-e.width/2*h):g=new co(o-e.height/2*l/f,n)),g},"getIntersectPoint"),hYt=a(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=bRe(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=bRe(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),dYt=a(function(e,t,r,n){let i=0;for(let s of t){i=i+1;let o=s.wrap&&Sr.wrap,u=fYt(Sr);n.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let f=mf(s.label.text,u);Ku("label",s,o,u,f),s.techn&&s.techn.text!==""&&(f=mf(s.techn.text,u),Ku("techn",s,o,u,f)),s.descr&&s.descr.text!==""&&(f=mf(s.descr.text,u),Ku("descr",s,o,u,f));let h=r(s.from),p=r(s.to),g=hYt(h,p);s.startPoint=g.startPoint,s.endPoint=g.endPoint}df.drawRels(e,t,Sr)},"drawRels");function oNe(e,t,r,n,i){let s=new z5(i);s.data.widthLimit=r.data.widthLimit/Math.min(k$,n.length);for(let o=0;o<n.length;o++){let u=n[o],l=0;u.image={width:0,height:0,Y:0},u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=l,l=u.image.Y+u.image.height);let f=u.wrap&&Sr.wrap,h=vM(Sr);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Ku("label",u,f,h,s.data.widthLimit),u.label.Y=l+8,l=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let E=vM(Sr);Ku("type",u,f,E,s.data.widthLimit),u.type.Y=l+5,l=u.type.Y+u.type.height}if(u.descr&&u.descr.text!==""){let E=vM(Sr);E.fontSize=E.fontSize-2,Ku("descr",u,f,E,s.data.widthLimit),u.descr.Y=l+20,l=u.descr.Y+u.descr.height}if(o==0||o%k$===0){let E=r.data.startx+Sr.diagramMarginX,M=r.data.stopy+Sr.diagramMarginY+l;s.setData(E,E,M,M)}else{let E=s.data.stopx!==s.data.startx?s.data.stopx+Sr.diagramMarginX:s.data.startx,M=s.data.starty;s.setData(E,E,M,M)}s.name=u.alias;let p=i.db.getC4ShapeArray(u.alias),g=i.db.getC4ShapeKeys(u.alias);g.length>0&&sNe(s,e,p,g),t=u.alias;let y=i.db.getBoundarys(t);y.length>0&&oNe(e,t,s,y,i),u.alias!=="global"&&aNe(e,u,s),r.data.stopy=Math.max(s.data.stopy+Sr.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(s.data.stopx+Sr.c4ShapeMargin,r.data.stopx),NM=Math.max(NM,r.data.stopx),OM=Math.max(OM,r.data.stopy)}}a(oNe,"drawInsideBoundary");var pYt=a(function(e,t,r,n){Sr=ft().c4;let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let o=i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body"),u=n.db;n.db.setWrap(Sr.wrap),iNe=u.getC4ShapeInRow(),k$=u.getC4BoundaryInRow(),Pe.debug(`C:${JSON.stringify(Sr,null,2)}`);let l=i==="sandbox"?o.select(`[id="${t}"]`):Zt(`[id="${t}"]`);df.insertComputerIcon(l),df.insertDatabaseIcon(l),df.insertClockIcon(l);let f=new z5(n);f.setData(Sr.diagramMarginX,Sr.diagramMarginX,Sr.diagramMarginY,Sr.diagramMarginY),f.data.widthLimit=screen.availWidth,NM=Sr.diagramMarginX,OM=Sr.diagramMarginY;let h=n.db.getTitle(),p=n.db.getBoundarys("");oNe(l,"",f,p,n),df.insertArrowHead(l),df.insertArrowEnd(l),df.insertArrowCrossHead(l),df.insertArrowFilledHead(l),dYt(l,n.db.getRels(),n.db.getC4Shape,n),f.data.stopx=NM,f.data.stopy=OM;let g=f.data,E=g.stopy-g.starty+2*Sr.diagramMarginY,z=g.stopx-g.startx+2*Sr.diagramMarginX;h&&l.append("text").text(h).attr("x",(g.stopx-g.startx)/2-4*Sr.diagramMarginX).attr("y",g.starty+Sr.diagramMarginY),el(l,E,z,Sr.useMaxWidth);let P=h?60:0;l.attr("viewBox",g.startx-Sr.diagramMarginX+" -"+(Sr.diagramMarginY+P)+" "+z+" "+(E+P)),Oo(Z5.yy,l,t),Pe.debug("models:",g)},"draw$e"),vRe={drawPersonOrSystemArray:sNe,drawBoundary:aNe,setConf:C$,draw:pYt},qM=function(){var e=a(function(Y,D,J,q){for(J=J||{},q=Y.length;q--;J[Y[q]]=D);return J},"o"),t=[1,3],r=[1,7],n=[1,8],i=[1,9],s=[1,10],o=[1,13],u=[1,12],l=[1,16,25],f=[1,20],h=[1,31],p=[1,32],g=[1,33],y=[1,35],E=[1,38],M=[1,36],z=[1,37],P=[1,39],Q=[1,40],V=[1,41],W=[1,42],F=[1,45],B=[1,46],S=[1,47],T=[1,48],k=[16,25],R=[1,62],x=[1,63],N=[1,64],m=[1,65],v=[1,66],A=[1,67],U=[1,68],G=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],K=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],Z=[5,8,9,10,11,16,19,23,25],O=[53,84,85,86,87],$=[53,61,62,84,85,86,87],L=[53,56,57,58,59,60,84,85,86,87],ee=[16,25,32],ve=[1,100],ye={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:a(function(D,J,q,I,H,te,ie){var he=te.length-1;switch(H){case 5:I.setDirection("TB");break;case 6:I.setDirection("BT");break;case 7:I.setDirection("RL");break;case 8:I.setDirection("LR");break;case 12:I.parseDirective("%%{","open_directive");break;case 13:I.parseDirective(te[he],"type_directive");break;case 14:te[he]=te[he].trim().replace(/'/g,'"'),I.parseDirective(te[he],"arg_directive");break;case 15:I.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=te[he];break;case 22:this.$=te[he-1]+te[he];break;case 23:case 24:this.$=te[he-1]+"~"+te[he];break;case 25:I.addRelation(te[he]);break;case 26:te[he-1].title=I.cleanupLabel(te[he]),I.addRelation(te[he-1]);break;case 34:this.$=te[he].trim(),I.setAccTitle(this.$);break;case 35:case 36:this.$=te[he].trim(),I.setAccDescription(this.$);break;case 37:I.addClass(te[he]);break;case 38:I.addClass(te[he-2]),I.setCssClass(te[he-2],te[he]);break;case 39:I.addClass(te[he-3]),I.addMembers(te[he-3],te[he-1]);break;case 40:I.addClass(te[he-5]),I.setCssClass(te[he-5],te[he-3]),I.addMembers(te[he-5],te[he-1]);break;case 41:I.addAnnotation(te[he],te[he-2]);break;case 42:this.$=[te[he]];break;case 43:te[he].push(te[he-1]),this.$=te[he];break;case 44:break;case 45:I.addMember(te[he-1],I.cleanupLabel(te[he]));break;case 46:break;case 47:break;case 48:this.$={id1:te[he-2],id2:te[he],relation:te[he-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:te[he-3],id2:te[he],relation:te[he-1],relationTitle1:te[he-2],relationTitle2:"none"};break;case 50:this.$={id1:te[he-3],id2:te[he],relation:te[he-2],relationTitle1:"none",relationTitle2:te[he-1]};break;case 51:this.$={id1:te[he-4],id2:te[he],relation:te[he-2],relationTitle1:te[he-3],relationTitle2:te[he-1]};break;case 52:this.$={type1:te[he-2],type2:te[he],lineType:te[he-1]};break;case 53:this.$={type1:"none",type2:te[he],lineType:te[he-1]};break;case 54:this.$={type1:te[he-1],type2:"none",lineType:te[he]};break;case 55:this.$={type1:"none",type2:"none",lineType:te[he]};break;case 56:this.$=I.relationType.AGGREGATION;break;case 57:this.$=I.relationType.EXTENSION;break;case 58:this.$=I.relationType.COMPOSITION;break;case 59:this.$=I.relationType.DEPENDENCY;break;case 60:this.$=I.relationType.LOLLIPOP;break;case 61:this.$=I.lineType.LINE;break;case 62:this.$=I.lineType.DOTTED_LINE;break;case 63:case 69:this.$=te[he-2],I.setClickEvent(te[he-1],te[he]);break;case 64:case 70:this.$=te[he-3],I.setClickEvent(te[he-2],te[he-1]),I.setTooltip(te[he-2],te[he]);break;case 65:case 73:this.$=te[he-2],I.setLink(te[he-1],te[he]);break;case 66:this.$=te[he-3],I.setLink(te[he-2],te[he-1],te[he]);break;case 67:case 75:this.$=te[he-3],I.setLink(te[he-2],te[he-1]),I.setTooltip(te[he-2],te[he]);break;case 68:case 76:this.$=te[he-4],I.setLink(te[he-3],te[he-2],te[he]),I.setTooltip(te[he-3],te[he-1]);break;case 71:this.$=te[he-3],I.setClickEvent(te[he-2],te[he-1],te[he]);break;case 72:this.$=te[he-4],I.setClickEvent(te[he-3],te[he-2],te[he-1]),I.setTooltip(te[he-3],te[he]);break;case 74:this.$=te[he-3],I.setLink(te[he-2],te[he-1],te[he]);break;case 77:I.setCssClass(te[he-1],te[he]);break}},"anonymous"),table:[{3:1,4:2,5:t,6:4,7:5,8:r,9:n,10:i,11:s,12:6,13:11,19:o,23:u},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:t,6:4,7:5,8:r,9:n,10:i,11:s,12:6,13:11,19:o,23:u},{1:[2,9]},e(l,[2,5]),e(l,[2,6]),e(l,[2,7]),e(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:f},e([17,22],[2,13]),{6:30,7:29,8:r,9:n,10:i,11:s,13:11,19:o,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:p,42:g,43:y,48:E,50:M,51:z,63:P,64:Q,66:V,70:W,84:F,85:B,86:S,87:T},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},e(k,[2,25],{32:[1,54]}),e(k,[2,27]),e(k,[2,28]),e(k,[2,29]),e(k,[2,30]),e(k,[2,31]),e(k,[2,32]),e(k,[2,33]),{39:[1,55]},{41:[1,56]},e(k,[2,36]),e(k,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:R,57:x,58:N,59:m,60:v,61:A,62:U}),{27:69,28:43,29:44,84:F,85:B,86:S,87:T},e(k,[2,46]),e(k,[2,47]),{28:70,84:F,85:B,86:S},{27:71,28:43,29:44,84:F,85:B,86:S,87:T},{27:72,28:43,29:44,84:F,85:B,86:S,87:T},{27:73,28:43,29:44,84:F,85:B,86:S,87:T},{53:[1,74]},e(G,[2,20],{28:43,29:44,27:75,30:[1,76],84:F,85:B,86:S,87:T}),e(G,[2,21],{30:[1,77]}),e(K,[2,91]),e(K,[2,92]),e(K,[2,93]),e([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),e(Z,[2,10]),{15:78,22:f},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:r,9:n,10:i,11:s,13:11,19:o,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:p,42:g,43:y,48:E,50:M,51:z,63:P,64:Q,66:V,70:W,84:F,85:B,86:S,87:T},e(k,[2,26]),e(k,[2,34]),e(k,[2,35]),{27:80,28:43,29:44,53:[1,81],84:F,85:B,86:S,87:T},{52:82,54:60,55:61,56:R,57:x,58:N,59:m,60:v,61:A,62:U},e(k,[2,45]),{55:83,61:A,62:U},e(O,[2,55],{54:84,56:R,57:x,58:N,59:m,60:v}),e($,[2,56]),e($,[2,57]),e($,[2,58]),e($,[2,59]),e($,[2,60]),e(L,[2,61]),e(L,[2,62]),e(k,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:F,85:B,86:S},e(G,[2,22]),e(G,[2,23]),e(G,[2,24]),{16:[1,93]},{25:[2,19]},e(ee,[2,48]),{27:94,28:43,29:44,84:F,85:B,86:S,87:T},{27:95,28:43,29:44,53:[1,96],84:F,85:B,86:S,87:T},e(O,[2,54],{54:97,56:R,57:x,58:N,59:m,60:v}),e(O,[2,53]),{28:98,84:F,85:B,86:S},{46:99,50:ve},{27:101,28:43,29:44,84:F,85:B,86:S,87:T},e(k,[2,63],{53:[1,102]}),e(k,[2,65],{53:[1,104],65:[1,103]}),e(k,[2,69],{53:[1,105],68:[1,106]}),e(k,[2,73],{53:[1,108],65:[1,107]}),e(k,[2,77]),e(Z,[2,11]),e(ee,[2,50]),e(ee,[2,49]),{27:109,28:43,29:44,84:F,85:B,86:S,87:T},e(O,[2,52]),e(k,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:ve},e(k,[2,41]),e(k,[2,64]),e(k,[2,66]),e(k,[2,67],{65:[1,113]}),e(k,[2,70]),e(k,[2,71],{53:[1,114]}),e(k,[2,74]),e(k,[2,75],{65:[1,115]}),e(ee,[2,51]),{46:116,50:ve},e(k,[2,39]),{47:[2,43]},e(k,[2,68]),e(k,[2,72]),e(k,[2,76]),{47:[1,117]},e(k,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:a(function(D,J){if(J.recoverable)this.trace(D);else{var q=new Error(D);throw q.hash=J,q}},"parseError"),parse:a(function(D){var J=this,q=[0],I=[],H=[null],te=[],ie=this.table,he="",De=0,$e=0,ze=2,Qe=1,je=te.slice.call(arguments,1),We=Object.create(this.lexer),Ce={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(Ce.yy[Te]=this.yy[Te]);We.setInput(D,Ce.yy),Ce.yy.lexer=We,Ce.yy.parser=this,typeof We.yylloc>"u"&&(We.yylloc={});var Je=We.yylloc;te.push(Je);var rt=We.options&&We.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var gt;return gt=I.pop()||We.lex()||Qe,typeof gt!="number"&&(gt instanceof Array&&(I=gt,gt=I.pop()),gt=J.symbols_[gt]||gt),gt}a(ge,"lex");for(var xe,qe,ot,at,pe={},Re,He,tt,Ve;;){if(qe=q[q.length-1],this.defaultActions[qe]?ot=this.defaultActions[qe]:((xe===null||typeof xe>"u")&&(xe=ge()),ot=ie[qe]&&ie[qe][xe]),typeof ot>"u"||!ot.length||!ot[0]){var et="";Ve=[];for(Re in ie[qe])this.terminals_[Re]&&Re>ze&&Ve.push("'"+this.terminals_[Re]+"'");We.showPosition?et="Parse error on line "+(De+1)+`:
`+We.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":et="Parse error on line "+(De+1)+": Unexpected "+(xe==Qe?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(et,{text:We.match,token:this.terminals_[xe]||xe,line:We.yylineno,loc:Je,expected:Ve})}if(ot[0]instanceof Array&&ot.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qe+", token: "+xe);switch(ot[0]){case 1:q.push(xe),H.push(We.yytext),te.push(We.yylloc),q.push(ot[1]),xe=null,$e=We.yyleng,he=We.yytext,De=We.yylineno,Je=We.yylloc;break;case 2:if(He=this.productions_[ot[1]][1],pe.$=H[H.length-He],pe._$={first_line:te[te.length-(He||1)].first_line,last_line:te[te.length-1].last_line,first_column:te[te.length-(He||1)].first_column,last_column:te[te.length-1].last_column},rt&&(pe._$.range=[te[te.length-(He||1)].range[0],te[te.length-1].range[1]]),at=this.performAction.apply(pe,[he,$e,De,Ce.yy,ot[1],H,te].concat(je)),typeof at<"u")return at;He&&(q=q.slice(0,-1*He*2),H=H.slice(0,-1*He),te=te.slice(0,-1*He)),q.push(this.productions_[ot[1]][0]),H.push(pe.$),te.push(pe._$),tt=ie[q[q.length-2]][q[q.length-1]],q.push(tt);break;case 3:return!0}}return!0},"parse2")},se=function(){var Y={EOF:1,parseError:a(function(J,q){if(this.yy.parser)this.yy.parser.parseError(J,q);else throw new Error(J)},"parseError"),setInput:function(D,J){return this.yy=J||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var J=D.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},unput:function(D){var J=D.length,q=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===I.length?this.yylloc.first_column:0)+I[I.length-q.length].length-q[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(D){this.unput(this.match.slice(D))},pastInput:function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var D=this.pastInput(),J=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+J+"^"},test_match:function(D,J){var q,I,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),I=D[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],q=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var te in H)this[te]=H[te];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,J,q,I;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),te=0;te<H.length;te++)if(q=this._input.match(this.rules[H[te]]),q&&(!J||q[0].length>J[0].length)){if(J=q,I=te,this.options.backtrack_lexer){if(D=this.test_match(q,H[te]),D!==!1)return D;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(D=this.test_match(J,H[I]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var J=this.next();return J||this.lex()},"lex"),begin:a(function(J){this.conditionStack.push(J)},"begin"),popState:a(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:a(function(J){this.begin(J)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(J,q,I,H){switch(I){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 27:break;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 37:this.popState();break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 40:this.popState();break;case 41:return"STR";case 42:this.begin("bqstring");break;case 43:this.popState();break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 46:this.popState();break;case 47:return 69;case 48:this.begin("callback_name");break;case 49:this.popState();break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 52:this.popState();break;case 53:return 68;case 54:return 65;case 55:return 65;case 56:return 65;case 57:return 65;case 58:return 57;case 59:return 57;case 60:return 59;case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:return"EQUALS";case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};return Y}();ye.lexer=se;function be(){this.yy={}}return a(be,"Parser"),be.prototype=ye,ye.Parser=be,new be}();qM.parser=qM;var gYt=a((e,t)=>{var r;return((r=t?.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*classDiagram/)!==null},"classDetector"),yYt=a((e,t)=>{var r;return e.match(/^\s*classDiagram/)!==null&&((r=t?.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:e.match(/^\s*classDiagram-v2/)!==null},"classDetectorV2"),lX="classid-",fX=[],sa={},_Re=0,t6=[],Q5=a(e=>Gr.sanitizeText(e,ft()),"sanitizeText$2"),mYt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$9"),r6=a(function(e){let t="",r=e;if(e.indexOf("~")>0){let n=e.split("~");r=n[0],t=Gr.sanitizeText(n[1],ft())}return{className:r,type:t}},"splitClassNameAndType"),I$=a(function(e){let t=r6(e);typeof sa[t.className]<"u"||(sa[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:lX+t.className+"-"+_Re},_Re++)},"addClass$1"),cNe=a(function(e){let t=Object.keys(sa);for(let r=0;r<t.length;r++)if(sa[t[r]].id===e)return sa[t[r]].domId},"lookUpDomId$1"),bYt=a(function(){fX=[],sa={},t6=[],t6.push(lNe),tl()},"clear$c"),vYt=a(function(e){return sa[e]},"getClass"),_Yt=a(function(){return sa},"getClasses$5"),xYt=a(function(){return fX},"getRelations$1"),wYt=a(function(e){Pe.debug("Adding relation: "+JSON.stringify(e)),I$(e.id1),I$(e.id2),e.id1=r6(e.id1).className,e.id2=r6(e.id2).className,e.relationTitle1=Gr.sanitizeText(e.relationTitle1.trim(),ft()),e.relationTitle2=Gr.sanitizeText(e.relationTitle2.trim(),ft()),fX.push(e)},"addRelation$1"),AYt=a(function(e,t){let r=r6(e).className;sa[r].annotations.push(t)},"addAnnotation"),uNe=a(function(e,t){let r=r6(e).className,n=sa[r];if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(Q5(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(Q5(i)):i&&n.members.push(Q5(i))}},"addMember"),EYt=a(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>uNe(e,r)))},"addMembers"),SYt=a(function(e){return e.substring(0,1)===":"?Gr.sanitizeText(e.substr(1).trim(),ft()):Q5(e.trim())},"cleanupLabel$1"),hX=a(function(e,t){e.split(",").forEach(function(r){let n=r;r[0].match(/\d/)&&(n=lX+n),typeof sa[n]<"u"&&sa[n].cssClasses.push(t)})},"setCssClass"),kYt=a(function(e,t){let r=ft();e.split(",").forEach(function(n){typeof t<"u"&&(sa[n].tooltip=Gr.sanitizeText(t,r))})},"setTooltip$1"),CYt=a(function(e){return sa[e].tooltip},"getTooltip$1"),IYt=a(function(e,t,r){let n=ft();e.split(",").forEach(function(i){let s=i;i[0].match(/\d/)&&(s=lX+s),typeof sa[s]<"u"&&(sa[s].link=un.formatUrl(t,n),n.securityLevel==="sandbox"?sa[s].linkTarget="_top":typeof r=="string"?sa[s].linkTarget=Q5(r):sa[s].linkTarget="_blank")}),hX(e,"clickable")},"setLink$2"),TYt=a(function(e,t,r){e.split(",").forEach(function(n){MYt(n,t,r),sa[n].haveCallback=!0}),hX(e,"clickable")},"setClickEvent$2"),MYt=a(function(e,t,r){let n=ft(),i=e,s=cNe(i);if(n.securityLevel==="loose"&&!(typeof t>"u")&&typeof sa[i]<"u"){let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<o.length;u++){let l=o[u].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),o[u]=l}}o.length===0&&o.push(s),t6.push(function(){let u=document.querySelector(`[id="${s}"]`);u!==null&&u.addEventListener("click",function(){un.runFunc(t,...o)},!1)})}},"setClickFunc"),BYt=a(function(e){t6.forEach(function(t){t(e)})},"bindFunctions$2"),RYt={LINE:0,DOTTED_LINE:1},LYt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},lNe=a(function(e){let t=Zt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Zt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Zt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=Zt(this);if(i.attr("title")===null)return;let o=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Zt(this).classed("hover",!1)})},"setupToolTips$1");t6.push(lNe);var fNe="TB",DYt=a(()=>fNe,"getDirection$2"),NYt=a(e=>{fNe=e},"setDirection$2"),gv={parseDirective:mYt,setAccTitle:cu,getAccTitle:rl,getAccDescription:il,setAccDescription:nl,getConfig:()=>ft().class,addClass:I$,bindFunctions:BYt,clear:bYt,getClass:vYt,getClasses:_Yt,addAnnotation:AYt,getRelations:xYt,addRelation:wYt,getDirection:DYt,setDirection:NYt,addMember:uNe,addMembers:EYt,cleanupLabel:SYt,lineType:RYt,relationType:LYt,setClickEvent:TYt,setCssClass:hX,setLink:IYt,getTooltip:CYt,setTooltip:kYt,lookUpDomId:cNe},xRe=0,OYt=a(function(e,t,r,n,i){let s=a(function(Q){switch(Q){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency";case i.db.LOLLIPOP:return"lollipop"}},"getRelationType");t.points=t.points.filter(Q=>!Number.isNaN(Q.y));let o=t.points,u=V0().x(function(Q){return Q.x}).y(function(Q){return Q.y}).curve(Gh),l=e.append("path").attr("d",u(o)).attr("id","edge"+xRe).attr("class","relation"),f="";n.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),r.relation.lineType==1&&l.attr("class","relation dashed-line"),r.relation.type1!=="none"&&l.attr("marker-start","url("+f+"#"+s(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&l.attr("marker-end","url("+f+"#"+s(r.relation.type2)+"End)");let h,p,g=t.points.length,y=un.calcLabelPosition(t.points);h=y.x,p=y.y;let E,M,z,P;if(g%2!==0&&g>1){let Q=un.calcCardinalityPosition(r.relation.type1!=="none",t.points,t.points[0]),V=un.calcCardinalityPosition(r.relation.type2!=="none",t.points,t.points[g-1]);Pe.debug("cardinality_1_point "+JSON.stringify(Q)),Pe.debug("cardinality_2_point "+JSON.stringify(V)),E=Q.x,M=Q.y,z=V.x,P=V.y}if(typeof r.title<"u"){let Q=e.append("g").attr("class","classLabel"),V=Q.append("text").attr("class","label").attr("x",h).attr("y",p).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=V;let W=V.node().getBBox();Q.insert("rect",":first-child").attr("class","box").attr("x",W.x-n.padding/2).attr("y",W.y-n.padding/2).attr("width",W.width+n.padding).attr("height",W.height+n.padding)}Pe.info("Rendering relation "+JSON.stringify(r)),typeof r.relationTitle1<"u"&&r.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",E).attr("y",M).attr("fill","black").attr("font-size","6").text(r.relationTitle1),typeof r.relationTitle2<"u"&&r.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",z).attr("y",P).attr("fill","black").attr("font-size","6").text(r.relationTitle2),xRe++},"drawEdge$1"),qYt=a(function(e,t,r,n){Pe.debug("Rendering class ",t,r);let i=t.id,s={id:i,label:t.id,width:0,height:0},o=e.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup"),u;t.link?u=o.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):u=o.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let l=!0;t.annotations.forEach(function(F){let B=u.append("tspan").text("\xAB"+F+"\xBB");l||B.attr("dy",r.textHeight),l=!1});let f=t.id;t.type!==void 0&&t.type!==""&&(f+="<"+t.type+">");let h=u.append("tspan").text(f).attr("class","title");l||h.attr("dy",r.textHeight);let p=u.node().getBBox().height,g=o.append("line").attr("x1",0).attr("y1",r.padding+p+r.dividerMargin/2).attr("y2",r.padding+p+r.dividerMargin/2),y=o.append("text").attr("x",r.padding).attr("y",p+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");l=!0,t.members.forEach(function(F){wRe(y,F,l,r),l=!1});let E=y.node().getBBox(),M=o.append("line").attr("x1",0).attr("y1",r.padding+p+r.dividerMargin+E.height).attr("y2",r.padding+p+r.dividerMargin+E.height),z=o.append("text").attr("x",r.padding).attr("y",p+2*r.dividerMargin+E.height+r.textHeight).attr("fill","white").attr("class","classText");l=!0,t.methods.forEach(function(F){wRe(z,F,l,r),l=!1});let P=o.node().getBBox();var Q=" ";t.cssClasses.length>0&&(Q=Q+t.cssClasses.join(" "));let W=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",P.width+2*r.padding).attr("height",P.height+r.padding+.5*r.dividerMargin).attr("class",Q).node().getBBox().width;return u.node().childNodes.forEach(function(F){F.setAttribute("x",(W-F.getBBox().width)/2)}),t.tooltip&&u.insert("title").text(t.tooltip),g.attr("x2",W),M.attr("x2",W),s.width=W,s.height=P.height+r.padding+.5*r.dividerMargin,s},"drawClass"),PM=a(function(e){let t=/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/,r=/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/,n=e.match(t),i=e.match(r);return n&&!i?PYt(n):i?FYt(i):UYt(e)},"parseMember"),PYt=a(function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",i=e[2]?e[2].trim():"",s=e[3]?hp(e[3].trim()):"",o=e[4]?e[4].trim():"",u=e[5]?e[5].trim():"";r=n+i+s+" "+o,t=dX(u)}catch{r=e}return{displayText:r,cssStyle:t}},"buildFieldDisplay"),FYt=a(function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",i=e[2]?e[2].trim():"",s=e[3]?hp(e[3].trim()):"",o=e[4]?e[4].trim():"",u=e[5]?" : "+hp(e[5]).trim():"";r=n+i+"("+s+")"+u,t=dX(o)}catch{r=e}return{displayText:r,cssStyle:t}},"buildMethodDisplay"),UYt=a(function(e){let t="",r="",n="",i=e.indexOf("("),s=e.indexOf(")");if(i>1&&s>i&&s<=e.length){let o="",u="",l=e.substring(0,1);l.match(/\w/)?u=e.substring(0,i).trim():(l.match(/\+|-|~|#/)&&(o=l),u=e.substring(1,i).trim());let f=e.substring(i+1,s);e.substring(s+1,1),r=dX(e.substring(s+1,s+2)),t=o+u+"("+hp(f.trim())+")",s<e.length&&(n=e.substring(s+2).trim(),n!==""&&(n=" : "+hp(n),t+=n))}else t=hp(e);return{displayText:t,cssStyle:r}},"buildLegacyDisplay"),wRe=a(function(e,t,r,n){let i=PM(t),s=e.append("tspan").attr("x",n.padding).text(i.displayText);i.cssStyle!==""&&s.attr("style",i.cssStyle),r||s.attr("dy",n.textHeight)},"addTspan"),dX=a(function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},"parseClassifier"),ARe={drawClass:qYt,drawEdge:OYt,parseMember:PM},T$={},aM=20,sM=a(function(e){let t=Object.entries(T$).find(r=>r[1].label===e);if(t)return t[0]},"getGraphId"),YYt=a(function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers$3"),HYt=a(function(e,t,r,n){let i=ft().class;T$={},Pe.info("Rendering diagram "+e);let s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let u=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),l=u.select(`[id='${t}']`);YYt(l);let f=new Ea.default.Graph({multigraph:!0});f.setGraph({isMultiGraph:!0}),f.setDefaultEdgeLabel(function(){return{}});let h=n.db.getClasses(),p=Object.keys(h);for(let P=0;P<p.length;P++){let Q=h[p[P]],V=ARe.drawClass(l,Q,i,n);T$[V.id]=V,f.setNode(V.id,V),Pe.info("Org height: "+V.height)}n.db.getRelations().forEach(function(P){Pe.info("tjoho"+sM(P.id1)+sM(P.id2)+JSON.stringify(P)),f.setEdge(sM(P.id1),sM(P.id2),{relation:P},P.title||"DEFAULT")}),Bv.default.layout(f),f.nodes().forEach(function(P){typeof P<"u"&&typeof f.node(P)<"u"&&(Pe.debug("Node "+P+": "+JSON.stringify(f.node(P))),u.select("#"+n.db.lookUpDomId(P)).attr("transform","translate("+(f.node(P).x-f.node(P).width/2)+","+(f.node(P).y-f.node(P).height/2)+" )"))}),f.edges().forEach(function(P){typeof P<"u"&&typeof f.edge(P)<"u"&&(Pe.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(f.edge(P))),ARe.drawEdge(l,f.edge(P),f.edge(P).relation,i,n))});let y=l.node().getBBox(),E=y.width+aM*2,M=y.height+aM*2;el(l,M,E,i.useMaxWidth);let z=`${y.x-aM} ${y.y-aM} ${E} ${M}`;Pe.debug(`viewBox ${z}`),l.attr("viewBox",z),Oo(n.db,l,t)},"draw$d"),zYt={draw:HYt},QYt=a((e,t,r,n)=>{t.forEach(i=>{eHt[i](e,r,n)})},"insertMarkers$2"),WYt=a((e,t,r)=>{Pe.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),VYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),jYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),GYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),KYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},"lollipop"),$Yt=a((e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),XYt=a((e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle$1"),JYt=a((e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),ZYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),eHt={extension:WYt,composition:VYt,aggregation:jYt,dependency:GYt,lollipop:KYt,point:$Yt,circle:XYt,cross:JYt,barb:ZYt};function tHt(e,t){t&&e.attr("style",t)}a(tHt,"applyStyle$1");function rHt(e){let t=Zt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),tHt(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}a(rHt,"addHtmlLabel$1");var Ro=a((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),ns(ft().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Pe.info("vertexText"+i);let s={isNode:n,label:CB(i).replace(/fa[lrsb]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return rHt(s)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(let u=0;u<o.length;u++){let l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o[u].trim(),s.appendChild(l)}return s}},"createLabel"),Ps=a((e,t,r,n)=>{let i;r?i=r:i="node default";let s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=s.insert("g").attr("class","label").attr("style",t.labelStyle),u;typeof t.labelText>"u"?u="":u=typeof t.labelText=="string"?t.labelText:t.labelText[0];let l=o.node().appendChild(Ro(Ju(CB(u),ft()),t.labelStyle,!1,n)),f=l.getBBox();if(ns(ft().flowchart.htmlLabels)){let p=l.children[0],g=Zt(l);f=p.getBoundingClientRect(),g.attr("width",f.width),g.attr("height",f.height)}let h=t.padding/2;return o.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),{shapeSvg:s,bbox:f,halfPadding:h,label:o}},"labelHelper"),oa=a((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");function bd(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}a(bd,"insertPolygonShape$1");var _n={},$u={},hNe={},nHt=a(()=>{$u={},hNe={},_n={}},"clear$b"),FM=a((e,t)=>(Pe.trace("In isDecendant",t," ",e," = ",$u[t].indexOf(e)>=0),$u[t].indexOf(e)>=0),"isDecendant"),iHt=a((e,t)=>(Pe.info("Decendants of ",t," is ",$u[t]),Pe.info("Edge is ",e),e.v===t||e.w===t?!1:$u[t]?!!($u[t].indexOf(e.v)>=0||FM(e.v,t)||FM(e.w,t)||$u[t].indexOf(e.w)>=0):(Pe.debug("Tilt, ",t,",not in decendants"),!1)),"edgeInCluster"),dNe=a((e,t,r,n)=>{Pe.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),Pe.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(s=>{if(t.children(s).length>0)dNe(s,t,r,n);else{let o=t.node(s);Pe.info("cp ",s," to ",n," with parent ",e),r.setNode(s,o),n!==t.parent(s)&&(Pe.warn("Setting parent",s,t.parent(s)),r.setParent(s,t.parent(s))),e!==n&&s!==e?(Pe.debug("Setting parent",s,e),r.setParent(s,e)):(Pe.info("In copy ",e,"root",n,"data",t.node(e),n),Pe.debug("Not Setting parent for node=",s,"cluster!==rootId",e!==n,"node!==clusterId",s!==e));let u=t.edges(s);Pe.debug("Copying Edges",u),u.forEach(l=>{Pe.info("Edge",l);let f=t.edge(l.v,l.w,l.name);Pe.info("Edge data",f,n);try{iHt(l,n)?(Pe.info("Copying as ",l.v,l.w,f,l.name),r.setEdge(l.v,l.w,f,l.name),Pe.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):Pe.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",e)}catch(h){Pe.error(h)}})}Pe.debug("Removing node",s),t.removeNode(s)})},"copy"),pNe=a((e,t)=>{let r=t.children(e),n=[].concat(r);for(let i=0;i<r.length;i++)hNe[r[i]]=e,n=n.concat(pNe(r[i],t));return n},"extractDecendants"),n6=a((e,t)=>{Pe.trace("Searching",e);let r=t.children(e);if(Pe.trace("Searching children of id ",e,r),r.length<1)return Pe.trace("This is a valid node",e),e;for(let n=0;n<r.length;n++){let i=n6(r[n],t);if(i)return Pe.trace("Found replacement for",e," => ",i),i}},"findNonClusterChild"),oM=a(e=>!_n[e]||!_n[e].externalConnections?e:_n[e]?_n[e].id:e,"getAnchorId"),aHt=a((e,t)=>{if(!e||t>10){Pe.debug("Opting out, no graph ");return}else Pe.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(Pe.warn("Cluster identified",r," Replacement id in edges: ",n6(r,e)),$u[r]=pNe(r,e),_n[r]={id:n6(r,e),clusterData:e.node(r)})}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(Pe.debug("Cluster identified",r,$u),i.forEach(s=>{if(s.v!==r&&s.w!==r){let o=FM(s.v,r),u=FM(s.w,r);o^u&&(Pe.warn("Edge: ",s," leaves cluster ",r),Pe.warn("Decendants of XXX ",r,": ",$u[r]),_n[r].externalConnections=!0)}})):Pe.debug("Not a cluster ",r,$u)}),e.edges().forEach(function(r){let n=e.edge(r);Pe.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),Pe.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,s=r.w;if(Pe.warn("Fix XXX",_n,"ids:",r.v,r.w,"Translateing: ",_n[r.v]," --- ",_n[r.w]),_n[r.v]&&_n[r.w]&&_n[r.v]===_n[r.w]){Pe.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),Pe.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=oM(r.v),s=oM(r.w),e.removeEdge(r.v,r.w,r.name);let o=r.w+"---"+r.v;e.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});let u=JSON.parse(JSON.stringify(n)),l=JSON.parse(JSON.stringify(n));u.label="",u.arrowTypeEnd="none",l.label="",u.fromCluster=r.v,l.toCluster=r.v,e.setEdge(i,o,u,r.name+"-cyclic-special"),e.setEdge(o,s,l,r.name+"-cyclic-special")}else(_n[r.v]||_n[r.w])&&(Pe.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=oM(r.v),s=oM(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v&&(n.fromCluster=r.v),s!==r.w&&(n.toCluster=r.w),Pe.warn("Fix Replacing with XXX",i,s,r.name),e.setEdge(i,s,n,r.name))}),Pe.warn("Adjusted Graph",Ea.default.json.write(e)),gNe(e,0),Pe.trace(_n)},"adjustClustersAndEdges"),gNe=a((e,t)=>{if(Pe.warn("extractor - ",t,Ea.default.json.write(e),e.children("D")),t>10){Pe.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i=0;i<r.length;i++){let s=r[i],o=e.children(s);n=n||o.length>0}if(!n){Pe.debug("Done, no node has children",e.nodes());return}Pe.debug("Nodes = ",r,t);for(let i=0;i<r.length;i++){let s=r[i];if(Pe.debug("Extracting node",s,_n,_n[s]&&!_n[s].externalConnections,!e.parent(s),e.node(s),e.children("D")," Depth ",t),!_n[s])Pe.debug("Not a cluster",s,t);else if(!_n[s].externalConnections&&e.children(s)&&e.children(s).length>0){Pe.warn("Cluster without external connections, without a parent and with children",s,t);let u=e.graph().rankdir==="TB"?"LR":"TB";_n[s]&&_n[s].clusterData&&_n[s].clusterData.dir&&(u=_n[s].clusterData.dir,Pe.warn("Fixing dir",_n[s].clusterData.dir,u));let l=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Pe.warn("Old graph before copy",Ea.default.json.write(e)),dNe(s,e,l,s),e.setNode(s,{clusterNode:!0,id:s,clusterData:_n[s].clusterData,labelText:_n[s].labelText,graph:l}),Pe.warn("New graph after copy node: (",s,")",Ea.default.json.write(l)),Pe.debug("Old graph after copy",Ea.default.json.write(e))}else Pe.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!_n[s].externalConnections," no parent: ",!e.parent(s)," children ",e.children(s)&&e.children(s).length>0,e.children("D"),t),Pe.debug(_n)}r=e.nodes(),Pe.warn("New list of nodes",r);for(let i=0;i<r.length;i++){let s=r[i],o=e.node(s);Pe.warn(" Now next level",s,o),o.clusterNode&&gNe(o.graph,t+1)}},"extractor"),yNe=a((e,t)=>{if(t.length===0)return[];let r=Object.assign(t);return t.forEach(n=>{let i=e.children(n),s=yNe(e,i);r=r.concat(s)}),r},"sorter"),sHt=a(e=>yNe(e,e.children()),"sortNodesByHierarchy");function oHt(e,t){return e.intersect(t)}a(oHt,"intersectNode");function mNe(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,u=s-n.y,l=Math.sqrt(t*t*u*u+r*r*o*o),f=Math.abs(t*r*o/l);n.x<i&&(f=-f);var h=Math.abs(t*r*u/l);return n.y<s&&(h=-h),{x:i+f,y:s+h}}a(mNe,"intersectEllipse");function cHt(e,t,r){return mNe(e,t,t,r)}a(cHt,"intersectCircle");function uHt(e,t,r,n){var i,s,o,u,l,f,h,p,g,y,E,M,z,P,Q;if(i=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,g=i*r.x+o*r.y+l,y=i*n.x+o*n.y+l,!(g!==0&&y!==0&&ERe(g,y))&&(s=n.y-r.y,u=r.x-n.x,f=n.x*r.y-r.x*n.y,h=s*e.x+u*e.y+f,p=s*t.x+u*t.y+f,!(h!==0&&p!==0&&ERe(h,p))&&(E=i*u-s*o,E!==0)))return M=Math.abs(E/2),z=o*f-u*l,P=z<0?(z-M)/E:(z+M)/E,z=s*l-i*f,Q=z<0?(z-M)/E:(z+M)/E,{x:P,y:Q}}a(uHt,"intersectLine");function ERe(e,t){return e*t>0}a(ERe,"sameSign");function lHt(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(E){o=Math.min(o,E.x),u=Math.min(u,E.y)}):(o=Math.min(o,t.x),u=Math.min(u,t.y));for(var l=n-e.width/2-o,f=i-e.height/2-u,h=0;h<t.length;h++){var p=t[h],g=t[h<t.length-1?h+1:0],y=uHt(e,r,{x:l+p.x,y:f+p.y},{x:l+g.x,y:f+g.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(E,M){var z=E.x-r.x,P=E.y-r.y,Q=Math.sqrt(z*z+P*P),V=M.x-r.x,W=M.y-r.y,F=Math.sqrt(V*V+W*W);return Q<F?-1:Q===F?0:1}),s[0]):e}a(lHt,"intersectPolygon");var u6=a((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2,l,f;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),l=s===0?0:u*i/s,f=u):(i<0&&(o=-o),l=o,f=i===0?0:o*s/i),{x:r+l,y:n+f}},"intersectRect"),Ji={node:oHt,circle:cHt,ellipse:mNe,polygon:lHt,rect:u6},fHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,"node "+t.classes,!0);Pe.info("Classes = ",t.classes);let s=r.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),oa(t,s),t.intersect=function(o){return Ji.rect(t,o)},r},"note"),hHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=i+s,u=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];Pe.info("Question main (Circle)");let l=bd(r,o,o,u);return l.attr("style",t.style),oa(t,l),t.intersect=function(f){return Pe.warn("Intersect called"),Ji.polygon(t,u,f)},r},"question$1"),dHt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(o){return Ji.circle(t,14,o)},r},"choice"),pHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=4,s=n.height+t.padding,o=s/i,u=n.width+2*o+t.padding,l=[{x:o,y:0},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],f=bd(r,u,s,l);return f.attr("style",t.style),oa(t,f),t.intersect=function(h){return Ji.polygon(t,l,h)},r},"hexagon$1"),gHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return bd(r,i,s,o).attr("style",t.style),t.width=i+s,t.height=s,t.intersect=function(l){return Ji.polygon(t,o,l)},r},"rect_left_inv_arrow$1"),yHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"lean_right$1"),mHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"lean_left$1"),bHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"trapezoid$1"),vHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"inv_trapezoid$1"),_Ht=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"rect_right_inv_arrow$1"),xHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=i/2,o=s/(2.5+i/50),u=n.height+o+t.padding,l="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+u+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-u,f=r.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",l).attr("transform","translate("+-i/2+","+-(u/2+o)+")");return oa(t,f),t.intersect=function(h){let p=Ji.rect(t,h),g=p.x-t.x;if(s!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-o)){let y=o*o*(1-g*g/(s*s));y!=0&&(y=Math.sqrt(y)),y=o-y,h.y-t.y>0&&(y=-y),p.y+=y}return p},r},"cylinder$1"),wHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,"node "+t.classes,!0);Pe.trace("Classes = ",t.classes);let s=r.insert("rect",":first-child"),o=n.width+t.padding,u=n.height+t.padding;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",o).attr("height",u),t.props){let l=new Set(Object.keys(t.props));t.props.borders&&(bNe(s,t.props.borders,o,u),l.delete("borders")),l.forEach(f=>{Pe.warn(`Unknown node property ${f}`)})}return oa(t,s),t.intersect=function(l){return Ji.rect(t,l)},r},"rect$1"),AHt=a((e,t)=>{let{shapeSvg:r}=Ps(e,t,"label",!0);Pe.trace("Classes = ",t.classes);let n=r.insert("rect",":first-child"),i=0,s=0;if(n.attr("width",i).attr("height",s),r.attr("class","label edgeLabel"),t.props){let o=new Set(Object.keys(t.props));t.props.borders&&(bNe(n,t.props.borders,i,s),o.delete("borders")),o.forEach(u=>{Pe.warn(`Unknown node property ${u}`)})}return oa(t,n),t.intersect=function(o){return Ji.rect(t,o)},r},"labelRect");function bNe(e,t,r,n){let i=[],s=a(u=>{i.push(u),i.push(0)},"addBorder"),o=a(u=>{i.push(0),i.push(u)},"skipBorder");t.includes("t")?(Pe.debug("add top border"),s(r)):o(r),t.includes("r")?(Pe.debug("add right border"),s(n)):o(n),t.includes("b")?(Pe.debug("add bottom border"),s(r)):o(r),t.includes("l")?(Pe.debug("add left border"),s(n)):o(n),e.attr("stroke-dasharray",i.join(" "))}a(bNe,"applyNodePropertyBorders");var EHt=a((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),s=n.insert("line"),o=n.insert("g").attr("class","label"),u=t.labelText.flat?t.labelText.flat():t.labelText,l="";typeof u=="object"?l=u[0]:l=u,Pe.info("Label text abc79",l,u,typeof u=="object");let f=o.node().appendChild(Ro(l,t.labelStyle,!0,!0)),h={width:0,height:0};if(ns(ft().flowchart.htmlLabels)){let M=f.children[0],z=Zt(f);h=M.getBoundingClientRect(),z.attr("width",h.width),z.attr("height",h.height)}Pe.info("Text 2",u);let p=u.slice(1,u.length),g=f.getBBox(),y=o.node().appendChild(Ro(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(ns(ft().flowchart.htmlLabels)){let M=y.children[0],z=Zt(y);h=M.getBoundingClientRect(),z.attr("width",h.width),z.attr("height",h.height)}let E=t.padding/2;return Zt(y).attr("transform","translate( "+(h.width>g.width?0:(g.width-h.width)/2)+", "+(g.height+E+5)+")"),Zt(f).attr("transform","translate( "+(h.width<g.width?0:-(g.width-h.width)/2)+", "+0+")"),h=o.node().getBBox(),o.attr("transform","translate("+-h.width/2+", "+(-h.height/2-E+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-E).attr("y",-h.height/2-E).attr("width",h.width+t.padding).attr("height",h.height+t.padding),s.attr("class","divider").attr("x1",-h.width/2-E).attr("x2",h.width/2+E).attr("y1",-h.height/2-E+g.height+E).attr("y2",-h.height/2-E+g.height+E),oa(t,i),t.intersect=function(M){return Ji.rect(t,M)},n},"rectWithTitle"),SHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.height+t.padding,s=n.width+i/4+t.padding,o=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return oa(t,o),t.intersect=function(u){return Ji.rect(t,u)},r},"stadium$1"),kHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,void 0,!0),s=r.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),Pe.info("Circle main"),oa(t,s),t.intersect=function(o){return Pe.info("Circle intersect",t,n.width/2+i,o),Ji.circle(t,n.width/2+i,o)},r},"circle"),CHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,void 0,!0),s=5,o=r.insert("g",":first-child"),u=o.insert("circle"),l=o.insert("circle");return u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),Pe.info("DoubleCircle main"),oa(t,u),t.intersect=function(f){return Pe.info("DoubleCircle intersect",t,n.width/2+i+s,f),Ji.circle(t,n.width/2+i+s,f)},r},"doublecircle"),IHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],u=bd(r,i,s,o);return u.attr("style",t.style),oa(t,u),t.intersect=function(l){return Ji.polygon(t,o,l)},r},"subroutine$1"),THt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),oa(t,n),t.intersect=function(i){return Ji.circle(t,7,i)},r},"start"),SRe=a((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,s=10;r==="LR"&&(i=10,s=70);let o=n.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return oa(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(u){return Ji.rect(t,u)},n},"forkJoin"),MHt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),oa(t,i),t.intersect=function(s){return Ji.circle(t,7,s)},r},"end"),BHt=a((e,t)=>{let r=t.padding/2,n=4,i=8,s;t.classes?s="node "+t.classes:s="node default";let o=e.insert("g").attr("class",s).attr("id",t.domId||t.id),u=o.insert("rect",":first-child"),l=o.insert("line"),f=o.insert("line"),h=0,p=n,g=o.insert("g").attr("class","label"),y=0,E=t.classData.annotations&&t.classData.annotations[0],M=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",z=g.node().appendChild(Ro(M,t.labelStyle,!0,!0)),P=z.getBBox();if(ns(ft().flowchart.htmlLabels)){let T=z.children[0],k=Zt(z);P=T.getBoundingClientRect(),k.attr("width",P.width),k.attr("height",P.height)}t.classData.annotations[0]&&(p+=P.height+n,h+=P.width);let Q=t.classData.id;t.classData.type!==void 0&&t.classData.type!==""&&(ft().flowchart.htmlLabels?Q+="&lt;"+t.classData.type+"&gt;":Q+="<"+t.classData.type+">");let V=g.node().appendChild(Ro(Q,t.labelStyle,!0,!0));Zt(V).attr("class","classTitle");let W=V.getBBox();if(ns(ft().flowchart.htmlLabels)){let T=V.children[0],k=Zt(V);W=T.getBoundingClientRect(),k.attr("width",W.width),k.attr("height",W.height)}p+=W.height+n,W.width>h&&(h=W.width);let F=[];t.classData.members.forEach(T=>{let k=PM(T),R=k.displayText;ft().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let x=g.node().appendChild(Ro(R,k.cssStyle?k.cssStyle:t.labelStyle,!0,!0)),N=x.getBBox();if(ns(ft().flowchart.htmlLabels)){let m=x.children[0],v=Zt(x);N=m.getBoundingClientRect(),v.attr("width",N.width),v.attr("height",N.height)}N.width>h&&(h=N.width),p+=N.height+n,F.push(x)}),p+=i;let B=[];if(t.classData.methods.forEach(T=>{let k=PM(T),R=k.displayText;ft().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let x=g.node().appendChild(Ro(R,k.cssStyle?k.cssStyle:t.labelStyle,!0,!0)),N=x.getBBox();if(ns(ft().flowchart.htmlLabels)){let m=x.children[0],v=Zt(x);N=m.getBoundingClientRect(),v.attr("width",N.width),v.attr("height",N.height)}N.width>h&&(h=N.width),p+=N.height+n,B.push(x)}),p+=i,E){let T=(h-P.width)/2;Zt(z).attr("transform","translate( "+(-1*h/2+T)+", "+-1*p/2+")"),y=P.height+n}let S=(h-W.width)/2;return Zt(V).attr("transform","translate( "+(-1*h/2+S)+", "+(-1*p/2+y)+")"),y+=W.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-p/2-r+i+y).attr("y2",-p/2-r+i+y),y+=i,F.forEach(T=>{Zt(T).attr("transform","translate( "+-h/2+", "+(-1*p/2+y+i/2)+")"),y+=W.height+n}),y+=i,f.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-p/2-r+i+y).attr("y2",-p/2-r+i+y),y+=i,B.forEach(T=>{Zt(T).attr("transform","translate( "+-h/2+", "+(-1*p/2+y)+")"),y+=W.height+n}),u.attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(p/2)-r).attr("width",h+t.padding).attr("height",p+t.padding),oa(t,u),t.intersect=function(T){return Ji.rect(t,T)},o},"class_box"),kRe={question:hHt,rect:wHt,labelRect:AHt,rectWithTitle:EHt,choice:dHt,circle:kHt,doublecircle:CHt,stadium:SHt,hexagon:pHt,rect_left_inv_arrow:gHt,lean_right:yHt,lean_left:mHt,trapezoid:bHt,inv_trapezoid:vHt,rect_right_inv_arrow:_Ht,cylinder:xHt,start:THt,end:MHt,note:fHt,subroutine:IHt,fork:SRe,join:SRe,class_box:BHt},bv={},RHt=a((e,t,r)=>{let n,i;if(t.link){let s;ft().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s),i=kRe[t.shape](n,t,r)}else i=kRe[t.shape](e,t,r),n=i;t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),bv[t.id]=n,t.haveCallback&&bv[t.id].attr("class",bv[t.id].attr("class")+" clickable")},"insertNode"),LHt=a((e,t)=>{bv[t.id]=e},"setNodeElem"),DHt=a(()=>{bv={}},"clear$a"),CRe=a(e=>{let t=bv[e.id];Pe.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),NHt=a((e,t)=>{Pe.trace("Creating subgraph rect for ",t.id,t);let r=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),n=r.insert("rect",":first-child"),i=r.insert("g").attr("class","cluster-label"),s=i.node().appendChild(Ro(t.labelText,t.labelStyle,void 0,!0)),o=s.getBBox();if(ns(ft().flowchart.htmlLabels)){let p=s.children[0],g=Zt(s);o=p.getBoundingClientRect(),g.attr("width",o.width),g.attr("height",o.height)}let u=0*t.padding,l=u/2,f=t.width<=o.width+u?o.width+u:t.width;t.width<=o.width+u?t.diff=(o.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,Pe.trace("Data ",t,JSON.stringify(t)),n.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-f/2).attr("y",t.y-t.height/2-l).attr("width",f).attr("height",t.height+u),i.attr("transform","translate("+(t.x-o.width/2)+", "+(t.y-t.height/2+t.padding/3)+")");let h=n.node().getBBox();return t.width=h.width,t.height=h.height,t.intersect=function(p){return u6(t,p)},r},"rect"),OHt=a((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(u){return u6(t,u)},r},"noteGroup"),qHt=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=r.insert("g").attr("class","cluster-label"),s=r.append("rect"),o=i.node().appendChild(Ro(t.labelText,t.labelStyle,void 0,!0)),u=o.getBBox();if(ns(ft().flowchart.htmlLabels)){let g=o.children[0],y=Zt(o);u=g.getBoundingClientRect(),y.attr("width",u.width),y.attr("height",u.height)}u=o.getBBox();let l=0*t.padding,f=l/2,h=t.width<=u.width+t.padding?u.width+t.padding:t.width;t.width<=u.width+t.padding?t.diff=(u.width+t.padding*0-t.width)/2:t.diff=-t.padding/2,n.attr("class","outer").attr("x",t.x-h/2-f).attr("y",t.y-t.height/2-f).attr("width",h+l).attr("height",t.height+l),s.attr("class","inner").attr("x",t.x-h/2-f).attr("y",t.y-t.height/2-f+u.height-1).attr("width",h+l).attr("height",t.height+l-u.height-3),i.attr("transform","translate("+(t.x-u.width/2)+", "+(t.y-t.height/2-t.padding/3+(ns(ft().flowchart.htmlLabels)?5:3))+")");let p=n.node().getBBox();return t.height=p.height,t.intersect=function(g){return u6(t,g)},r},"roundedWithTitle"),PHt=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("class","divider").attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.diff=-t.padding/2,t.intersect=function(u){return u6(t,u)},r},"divider"),FHt={rect:NHt,roundedWithTitle:qHt,noteGroup:OHt,divider:PHt},vNe={},UHt=a((e,t)=>{Pe.trace("Inserting cluster");let r=t.shape||"rect";vNe[t.id]=FHt[r](e,t)},"insertCluster"),YHt=a(()=>{vNe={}},"clear$9"),UM={},bs={},HHt=a(()=>{UM={},bs={}},"clear$8"),zHt=a((e,t)=>{let r=Ro(t.label,t.labelStyle),n=e.insert("g").attr("class","edgeLabel"),i=n.insert("g").attr("class","label");i.node().appendChild(r);let s=r.getBBox();if(ns(ft().flowchart.htmlLabels)){let u=r.children[0],l=Zt(r);s=u.getBoundingClientRect(),l.attr("width",s.width),l.attr("height",s.height)}i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),UM[t.id]=n,t.width=s.width,t.height=s.height;let o;if(t.startLabelLeft){let u=Ro(t.startLabelLeft,t.labelStyle),l=e.insert("g").attr("class","edgeTerminals"),f=l.insert("g").attr("class","inner");o=f.node().appendChild(u);let h=u.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bs[t.id]||(bs[t.id]={}),bs[t.id].startLeft=l,cM(o,t.startLabelLeft)}if(t.startLabelRight){let u=Ro(t.startLabelRight,t.labelStyle),l=e.insert("g").attr("class","edgeTerminals"),f=l.insert("g").attr("class","inner");o=l.node().appendChild(u),f.node().appendChild(u);let h=u.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bs[t.id]||(bs[t.id]={}),bs[t.id].startRight=l,cM(o,t.startLabelRight)}if(t.endLabelLeft){let u=Ro(t.endLabelLeft,t.labelStyle),l=e.insert("g").attr("class","edgeTerminals"),f=l.insert("g").attr("class","inner");o=f.node().appendChild(u);let h=u.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(u),bs[t.id]||(bs[t.id]={}),bs[t.id].endLeft=l,cM(o,t.endLabelLeft)}if(t.endLabelRight){let u=Ro(t.endLabelRight,t.labelStyle),l=e.insert("g").attr("class","edgeTerminals"),f=l.insert("g").attr("class","inner");o=f.node().appendChild(u);let h=u.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(u),bs[t.id]||(bs[t.id]={}),bs[t.id].endRight=l,cM(o,t.endLabelRight)}},"insertEdgeLabel");function cM(e,t){ft().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}a(cM,"setTerminalWidth");var QHt=a((e,t)=>{Pe.info("Moving label abc78 ",e.id,e.label,UM[e.id]);let r=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){let n=UM[e.id],i=e.x,s=e.y;if(r){let o=un.calcLabelPosition(r);Pe.info("Moving label from (",i,",",s,") to (",o.x,",",o.y,") abc78")}n.attr("transform","translate("+i+", "+s+")")}if(e.startLabelLeft){let n=bs[e.id].startLeft,i=e.x,s=e.y;if(r){let o=un.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.startLabelRight){let n=bs[e.id].startRight,i=e.x,s=e.y;if(r){let o=un.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.endLabelLeft){let n=bs[e.id].endLeft,i=e.x,s=e.y;if(r){let o=un.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.endLabelRight){let n=bs[e.id].endRight,i=e.x,s=e.y;if(r){let o=un.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}},"positionEdgeLabel"),WHt=a((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),o=e.width/2,u=e.height/2;return i>=o||s>=u},"outsideNode"),VHt=a((e,t,r)=>{Pe.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,s=Math.abs(n-r.x),o=e.width/2,u=r.x<t.x?o-s:o+s,l=e.height/2,f=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*l){let p=r.y<t.y?t.y-l-i:i-l-t.y;u=h*p/f;let g={x:r.x<t.x?r.x+u:r.x-h+u,y:r.y<t.y?r.y+f-p:r.y-f+p};return u===0&&(g.x=t.x,g.y=t.y),h===0&&(g.x=t.x),f===0&&(g.y=t.y),Pe.warn(`abc89 topp/bott calc, Q ${f}, q ${p}, R ${h}, r ${u}`,g),g}else{r.x<t.x?u=t.x-o-n:u=n-o-t.x;let p=f*u/h,g=r.x<t.x?r.x+h-u:r.x-h+u,y=r.y<t.y?r.y+p:r.y-p;return Pe.warn(`sides calc abc89, Q ${f}, q ${p}, R ${h}, r ${u}`,{_x:g,_y:y}),u===0&&(g=t.x,y=t.y),h===0&&(g=t.x),f===0&&(y=t.y),{x:g,y}}},"intersection"),IRe=a((e,t)=>{Pe.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(Pe.info("abc88 checking point",s,t),!WHt(t,s)&&!i){let o=VHt(t,n,s);Pe.warn("abc88 inside",s,n,o),Pe.warn("abc88 intersection",o);let u=!1;r.forEach(l=>{u=u||l.x===o.x&&l.y===o.y}),r.find(l=>l.x===o.x&&l.y===o.y)?Pe.warn("abc88 no intersect",o,r):r.push(o),i=!0}else Pe.warn("abc88 outside",s,n),n=s,i||r.push(s)}),Pe.warn("abc88 returning points",r),r},"cutPathAtIntersect"),jHt=a(function(e,t,r,n,i,s){let o=r.points,u=!1,l=s.node(t.v);var f=s.node(t.w);Pe.info("abc88 InsertEdge: ",r),f.intersect&&l.intersect&&(o=o.slice(1,r.points.length-1),o.unshift(l.intersect(o[0])),Pe.info("Last point",o[o.length-1],f,f.intersect(o[o.length-1])),o.push(f.intersect(o[o.length-1]))),r.toCluster&&(Pe.info("to cluster abc88",n[r.toCluster]),o=IRe(r.points,n[r.toCluster].node),u=!0),r.fromCluster&&(Pe.info("from cluster abc88",n[r.fromCluster]),o=IRe(o.reverse(),n[r.fromCluster].node).reverse(),u=!0);let h=o.filter(P=>!Number.isNaN(P.y)),p;i==="graph"||i==="flowchart"?p=r.curve||Gh:p=Gh;let g=V0().x(function(P){return P.x}).y(function(P){return P.y}).curve(p),y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break}let E=e.append("path").attr("d",g(h)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style),M="";switch((ft().flowchart.arrowMarkerAbsolute||ft().state.arrowMarkerAbsolute)&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),Pe.info("arrowTypeStart",r.arrowTypeStart),Pe.info("arrowTypeEnd",r.arrowTypeEnd),r.arrowTypeStart){case"arrow_cross":E.attr("marker-start","url("+M+"#"+i+"-crossStart)");break;case"arrow_point":E.attr("marker-start","url("+M+"#"+i+"-pointStart)");break;case"arrow_barb":E.attr("marker-start","url("+M+"#"+i+"-barbStart)");break;case"arrow_circle":E.attr("marker-start","url("+M+"#"+i+"-circleStart)");break;case"aggregation":E.attr("marker-start","url("+M+"#"+i+"-aggregationStart)");break;case"extension":E.attr("marker-start","url("+M+"#"+i+"-extensionStart)");break;case"composition":E.attr("marker-start","url("+M+"#"+i+"-compositionStart)");break;case"dependency":E.attr("marker-start","url("+M+"#"+i+"-dependencyStart)");break;case"lollipop":E.attr("marker-start","url("+M+"#"+i+"-lollipopStart)");break}switch(r.arrowTypeEnd){case"arrow_cross":E.attr("marker-end","url("+M+"#"+i+"-crossEnd)");break;case"arrow_point":E.attr("marker-end","url("+M+"#"+i+"-pointEnd)");break;case"arrow_barb":E.attr("marker-end","url("+M+"#"+i+"-barbEnd)");break;case"arrow_circle":E.attr("marker-end","url("+M+"#"+i+"-circleEnd)");break;case"aggregation":E.attr("marker-end","url("+M+"#"+i+"-aggregationEnd)");break;case"extension":E.attr("marker-end","url("+M+"#"+i+"-extensionEnd)");break;case"composition":E.attr("marker-end","url("+M+"#"+i+"-compositionEnd)");break;case"dependency":E.attr("marker-end","url("+M+"#"+i+"-dependencyEnd)");break;case"lollipop":E.attr("marker-end","url("+M+"#"+i+"-lollipopEnd)");break}let z={};return u&&(z.updatedPath=o),z.originalPath=r.points,z},"insertEdge"),_Ne=a((e,t,r,n)=>{Pe.info("Graph in recursive render: XXX",Ea.default.json.write(t),n);let i=t.graph().rankdir;Pe.trace("Dir in recursive render - dir:",i);let s=e.insert("g").attr("class","root");t.nodes()?Pe.info("Recursive render XXX",t.nodes()):Pe.info("No nodes found for",t),t.edges().length>0&&Pe.trace("Recursive edges",t.edge(t.edges()[0]));let o=s.insert("g").attr("class","clusters"),u=s.insert("g").attr("class","edgePaths"),l=s.insert("g").attr("class","edgeLabels"),f=s.insert("g").attr("class","nodes");t.nodes().forEach(function(p){let g=t.node(p);if(typeof n<"u"){let y=JSON.parse(JSON.stringify(n.clusterData));Pe.info("Setting data for cluster XXX (",p,") ",y,n),t.setNode(n.id,y),t.parent(p)||(Pe.trace("Setting parent",p,n.id),t.setParent(p,n.id,y))}if(Pe.info("(Insert) Node XXX"+p+": "+JSON.stringify(t.node(p))),g&&g.clusterNode){Pe.info("Cluster identified",p,g.width,t.node(p));let y=_Ne(f,g.graph,r,t.node(p)),E=y.elem;oa(g,E),g.diff=y.diff||0,Pe.info("Node bounds (abc123)",p,g,g.width,g.x,g.y),LHt(E,g),Pe.warn("Recursive render complete ",E,g)}else t.children(p).length>0?(Pe.info("Cluster - the non recursive path XXX",p,g.id,g,t),Pe.info(n6(g.id,t)),_n[g.id]={id:n6(g.id,t),node:g}):(Pe.info("Node - the non recursive path",p,g.id,g),RHt(f,t.node(p),i))}),t.edges().forEach(function(p){let g=t.edge(p.v,p.w,p.name);Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(p)),Pe.info("Edge "+p.v+" -> "+p.w+": ",p," ",JSON.stringify(t.edge(p))),Pe.info("Fix",_n,"ids:",p.v,p.w,"Translateing: ",_n[p.v],_n[p.w]),zHt(l,g)}),t.edges().forEach(function(p){Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(p))}),Pe.info("#############################################"),Pe.info("###                Layout                 ###"),Pe.info("#############################################"),Pe.info(t),Bv.default.layout(t),Pe.info("Graph after layout:",Ea.default.json.write(t));let h=0;return sHt(t).forEach(function(p){let g=t.node(p);Pe.info("Position "+p+": "+JSON.stringify(t.node(p))),Pe.info("Position "+p+": ("+g.x,","+g.y,") width: ",g.width," height: ",g.height),g&&g.clusterNode?CRe(g):t.children(p).length>0?(UHt(o,g),_n[g.id].node=g):CRe(g)}),t.edges().forEach(function(p){let g=t.edge(p);Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(g),g);let y=jHt(u,p,g,_n,r,t);QHt(g,y)}),t.nodes().forEach(function(p){let g=t.node(p);Pe.info(p,g.type,g.diff),g.type==="group"&&(h=g.diff)}),{elem:s,diff:h}},"recursiveRender"),pX=a((e,t,r,n,i)=>{QYt(e,r,n,i),DHt(),HHt(),YHt(),nHt(),Pe.warn("Graph at first:",Ea.default.json.write(t)),aHt(t),Pe.warn("Graph after:",Ea.default.json.write(t)),_Ne(e,t,n)},"render$1"),GHt=a(e=>Gr.sanitizeText(e,ft()),"sanitizeText$1"),KHt=a(function(e,t,r,n){let i=Object.keys(e);Pe.info("keys:",i),Pe.info(e),i.forEach(function(s){let o=e[s],u="";o.cssClasses.length>0&&(u=u+" "+o.cssClasses.join(" "));let l={labelStyle:""},f=o.text!==void 0?o.text:o.id,h=0,p="";switch(o.type){case"class":p="class_box";break;default:p="class_box"}t.setNode(o.id,{labelStyle:l.labelStyle,shape:p,labelText:GHt(f),classData:o,rx:h,ry:h,class:u,style:l.style,id:o.id,domId:o.domId,tooltip:n.db.getTooltip(o.id)||"",haveCallback:o.haveCallback,link:o.link,width:o.type==="group"?500:void 0,type:o.type,padding:ft().flowchart.padding}),Pe.info("setNode",{labelStyle:l.labelStyle,shape:p,labelText:f,rx:h,ry:h,class:u,style:l.style,id:o.id,width:o.type==="group"?500:void 0,type:o.type,padding:ft().flowchart.padding})})},"addClasses"),$Ht=a(function(e,t){let r=ft().flowchart,n=0;e.forEach(function(i){n++;let s={};s.classes="relation",s.pattern=i.relation.lineType==1?"dashed":"solid",s.id="id"+n,i.type==="arrow_open"?s.arrowhead="none":s.arrowhead="normal",Pe.info(s,i),s.startLabelRight=i.relationTitle1==="none"?"":i.relationTitle1,s.endLabelLeft=i.relationTitle2==="none"?"":i.relationTitle2,s.arrowTypeStart=TRe(i.relation.type1),s.arrowTypeEnd=TRe(i.relation.type2);let o="",u="";if(typeof i.style<"u"){let l=mp(i.style);o=l.style,u=l.labelStyle}else o="fill:none";s.style=o,s.labelStyle=u,typeof i.interpolate<"u"?s.curve=yf(i.interpolate,no):typeof e.defaultInterpolate<"u"?s.curve=yf(e.defaultInterpolate,no):s.curve=yf(r.curve,no),i.text=i.title,typeof i.text>"u"?typeof i.style<"u"&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",ft().flowchart.htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+i.text+"</span>"):(s.labelType="text",s.label=i.text.replace(Gr.lineBreakRegex,`
`),typeof i.style>"u"&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),t.setEdge(i.id1,i.id2,s,n)})},"addRelations"),XHt=a(function(e){Object.keys(e).forEach(function(r){e[r]})},"setConf$9"),JHt=a(function(e,t,r,n){Pe.info("Drawing class - ",t);let i=ft().flowchart,s=ft().securityLevel;Pe.info("config:",i);let o=i.nodeSpacing||50,u=i.rankSpacing||50,l=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:o,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),f=n.db.getClasses(),h=n.db.getRelations();Pe.info(h),KHt(f,l,t,n),$Ht(h,l);let p;s==="sandbox"&&(p=Zt("#i"+t));let g=s==="sandbox"?Zt(p.nodes()[0].contentDocument.body):Zt("body"),y=g.select(`[id="${t}"]`),E=g.select("#"+t+" g");if(pX(E,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),uB(l,y,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){let M=s==="sandbox"?p.nodes()[0].contentDocument:document,z=M.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let P=0;P<z.length;P++){let Q=z[P],V=Q.getBBox(),W=M.createElementNS("http://www.w3.org/2000/svg","rect");W.setAttribute("rx",0),W.setAttribute("ry",0),W.setAttribute("width",V.width),W.setAttribute("height",V.height),Q.insertBefore(W,Q.firstChild)}}Oo(n.db,y,t)},"draw$c");function TRe(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}a(TRe,"getArrowMarker");var ZHt={setConf:XHt,draw:JHt},M$=function(){var e=a(function(k,R,x,N){for(x=x||{},N=k.length;N--;x[k[N]]=R);return x},"o"),t=[1,2],r=[1,5],n=[6,9,11,23,25,27,29,30,31,49],i=[1,17],s=[1,18],o=[1,19],u=[1,20],l=[1,21],f=[1,22],h=[1,25],p=[1,30],g=[1,31],y=[1,32],E=[1,33],M=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],z=[1,45],P=[30,31,46,47],Q=[4,6,9,11,23,25,27,29,30,31,49],V=[42,43,44,45],W=[22,37],F=[1,64],B={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:a(function(R,x,N,m,v,A,U){var G=A.length-1;switch(v){case 1:break;case 3:this.$=[];break;case 4:A[G-1].push(A[G]),this.$=A[G-1];break;case 5:case 6:this.$=A[G];break;case 7:case 8:this.$=[];break;case 12:m.addEntity(A[G-4]),m.addEntity(A[G-2]),m.addRelationship(A[G-4],A[G],A[G-2],A[G-3]);break;case 13:m.addEntity(A[G-3]),m.addAttributes(A[G-3],A[G-1]);break;case 14:m.addEntity(A[G-2]);break;case 15:m.addEntity(A[G]);break;case 16:case 17:this.$=A[G].trim(),m.setAccTitle(this.$);break;case 18:case 19:this.$=A[G].trim(),m.setAccDescription(this.$);break;case 20:case 41:this.$=A[G];break;case 21:case 39:case 40:this.$=A[G].replace(/"/g,"");break;case 22:this.$=[A[G]];break;case 23:A[G].push(A[G-1]),this.$=A[G];break;case 24:this.$={attributeType:A[G-1],attributeName:A[G]};break;case 25:this.$={attributeType:A[G-2],attributeName:A[G-1],attributeKeyType:A[G]};break;case 26:this.$={attributeType:A[G-2],attributeName:A[G-1],attributeComment:A[G]};break;case 27:this.$={attributeType:A[G-3],attributeName:A[G-2],attributeKeyType:A[G-1],attributeComment:A[G]};break;case 28:case 29:case 30:this.$=A[G];break;case 31:this.$=A[G].replace(/"/g,"");break;case 32:this.$={cardA:A[G],relType:A[G-1],cardB:A[G-2]};break;case 33:this.$=m.Cardinality.ZERO_OR_ONE;break;case 34:this.$=m.Cardinality.ZERO_OR_MORE;break;case 35:this.$=m.Cardinality.ONE_OR_MORE;break;case 36:this.$=m.Cardinality.ONLY_ONE;break;case 37:this.$=m.Identification.NON_IDENTIFYING;break;case 38:this.$=m.Identification.IDENTIFYING;break;case 42:m.parseDirective("%%{","open_directive");break;case 43:m.parseDirective(A[G],"type_directive");break;case 44:A[G]=A[G].trim().replace(/'/g,'"'),m.parseDirective(A[G],"arg_directive");break;case 45:m.parseDirective("}%%","close_directive","er");break}},"anonymous"),table:[{3:1,4:t,7:3,12:4,49:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,49:r},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:s,27:o,29:u,30:l,31:f,49:r},{1:[2,2]},{14:23,15:[1,24],52:h},e([15,52],[2,43]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:s,27:o,29:u,30:l,31:f,49:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),e(n,[2,15],{18:27,40:29,20:[1,28],42:p,43:g,44:y,45:E}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(n,[2,19]),e(M,[2,20]),e(M,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},e(n,[2,5]),{17:40,30:l,31:f},{21:41,22:[1,42],32:43,33:44,37:z},{41:46,46:[1,47],47:[1,48]},e(P,[2,33]),e(P,[2,34]),e(P,[2,35]),e(P,[2,36]),e(n,[2,16]),e(n,[2,17]),e(n,[2,18]),e(Q,[2,9]),{14:49,52:h},{52:[2,44]},{15:[1,50]},{22:[1,51]},e(n,[2,14]),{21:52,22:[2,22],32:43,33:44,37:z},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:p,43:g,44:y,45:E},e(V,[2,37]),e(V,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},e(n,[2,13]),{22:[2,23]},e(W,[2,24],{35:61,36:62,38:[1,63],39:F}),e([22,37,38,39],[2,29]),e([30,31],[2,32]),e(Q,[2,10]),e(n,[2,12]),e(n,[2,39]),e(n,[2,40]),e(n,[2,41]),e(W,[2,25],{36:65,39:F}),e(W,[2,26]),e([22,37,39],[2,30]),e(W,[2,31]),e(W,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:a(function(R,x){if(x.recoverable)this.trace(R);else{var N=new Error(R);throw N.hash=x,N}},"parseError"),parse:a(function(R){var x=this,N=[0],m=[],v=[null],A=[],U=this.table,G="",K=0,Z=0,O=2,$=1,L=A.slice.call(arguments,1),ee=Object.create(this.lexer),ve={yy:{}};for(var ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ye)&&(ve.yy[ye]=this.yy[ye]);ee.setInput(R,ve.yy),ve.yy.lexer=ee,ve.yy.parser=this,typeof ee.yylloc>"u"&&(ee.yylloc={});var se=ee.yylloc;A.push(se);var be=ee.options&&ee.options.ranges;typeof ve.yy.parseError=="function"?this.parseError=ve.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(){var ze;return ze=m.pop()||ee.lex()||$,typeof ze!="number"&&(ze instanceof Array&&(m=ze,ze=m.pop()),ze=x.symbols_[ze]||ze),ze}a(Y,"lex");for(var D,J,q,I,H={},te,ie,he,De;;){if(J=N[N.length-1],this.defaultActions[J]?q=this.defaultActions[J]:((D===null||typeof D>"u")&&(D=Y()),q=U[J]&&U[J][D]),typeof q>"u"||!q.length||!q[0]){var $e="";De=[];for(te in U[J])this.terminals_[te]&&te>O&&De.push("'"+this.terminals_[te]+"'");ee.showPosition?$e="Parse error on line "+(K+1)+`:
`+ee.showPosition()+`
Expecting `+De.join(", ")+", got '"+(this.terminals_[D]||D)+"'":$e="Parse error on line "+(K+1)+": Unexpected "+(D==$?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError($e,{text:ee.match,token:this.terminals_[D]||D,line:ee.yylineno,loc:se,expected:De})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+D);switch(q[0]){case 1:N.push(D),v.push(ee.yytext),A.push(ee.yylloc),N.push(q[1]),D=null,Z=ee.yyleng,G=ee.yytext,K=ee.yylineno,se=ee.yylloc;break;case 2:if(ie=this.productions_[q[1]][1],H.$=v[v.length-ie],H._$={first_line:A[A.length-(ie||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(ie||1)].first_column,last_column:A[A.length-1].last_column},be&&(H._$.range=[A[A.length-(ie||1)].range[0],A[A.length-1].range[1]]),I=this.performAction.apply(H,[G,Z,K,ve.yy,q[1],v,A].concat(L)),typeof I<"u")return I;ie&&(N=N.slice(0,-1*ie*2),v=v.slice(0,-1*ie),A=A.slice(0,-1*ie)),N.push(this.productions_[q[1]][0]),v.push(H.$),A.push(H._$),he=U[N[N.length-2]][N[N.length-1]],N.push(he);break;case 3:return!0}}return!0},"parse2")},S=function(){var k={EOF:1,parseError:a(function(x,N){if(this.yy.parser)this.yy.parser.parseError(x,N);else throw new Error(x)},"parseError"),setInput:function(R,x){return this.yy=x||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var x=R.match(/(?:\r\n?|\n).*/g);return x?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var x=R.length,N=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===m.length?this.yylloc.first_column:0)+m[m.length-N.length].length-N[0].length:this.yylloc.first_column-x},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-x]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),x=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+x+"^"},test_match:function(R,x){var N,m,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),m=R[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],N=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var A in v)this[A]=v[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,x,N,m;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),A=0;A<v.length;A++)if(N=this._input.match(this.rules[v[A]]),N&&(!x||N[0].length>x[0].length)){if(x=N,m=A,this.options.backtrack_lexer){if(R=this.test_match(N,v[A]),R!==!1)return R;if(this._backtrack){x=!1;continue}else return!1}else if(!this.options.flex)break}return x?(R=this.test_match(x,v[m]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var x=this.next();return x||this.lex()},"lex"),begin:a(function(x){this.conditionStack.push(x)},"begin"),popState:a(function(){var x=this.conditionStack.length-1;return x>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(x){return x=this.conditionStack.length-1-Math.abs(x||0),x>=0?this.conditionStack[x]:"INITIAL"},"topState"),pushState:a(function(x){this.begin(x)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(x,N,m,v){switch(m){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return N.yytext[0];case 29:return 42;case 30:return 43;case 31:return 44;case 32:return 45;case 33:return 42;case 34:return 43;case 35:return 44;case 36:return 46;case 37:return 47;case 38:return 46;case 39:return 46;case 40:return 30;case 41:return N.yytext[0];case 42:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};return k}();B.lexer=S;function T(){this.yy={}}return a(T,"Parser"),T.prototype=B,B.Parser=T,new T}();M$.parser=M$;var ezt=a(e=>e.match(/^\s*erDiagram/)!==null,"erDetector"),W5={},gX=[],tzt={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},rzt={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},nzt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$8"),xNe=a(function(e){return typeof W5[e]>"u"&&(W5[e]={attributes:[]},Pe.info("Added new entity :",e)),W5[e]},"addEntity"),izt=a(()=>W5,"getEntities"),azt=a(function(e,t){let r=xNe(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),Pe.debug("Added attribute ",t[n].attributeName)},"addAttributes"),szt=a(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};gX.push(i),Pe.debug("Added new relationship :",i)},"addRelationship$1"),ozt=a(()=>gX,"getRelationships$1"),czt=a(function(){W5={},gX=[],tl()},"clear$7"),uzt={Cardinality:tzt,Identification:rzt,parseDirective:nzt,getConfig:()=>ft().er,addEntity:xNe,addAttributes:azt,getEntities:izt,addRelationship:szt,getRelationships:ozt,clear:czt,setAccTitle:cu,getAccTitle:rl,setAccDescription:nl,getAccDescription:il},fd={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},lzt=a(function(e,t){let r;e.append("defs").append("marker").attr("id",fd.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",fd.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",fd.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",fd.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",fd.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",fd.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",fd.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",fd.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers$1"),hd={ERMarkers:fd,insertMarkers:lzt},fzt=/[^A-Za-z0-9]([\W])*/g,oi={},i6=new Map,hzt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)oi[t[r]]=e[t[r]]},"setConf$8"),dzt=a((e,t,r)=>{let n=oi.entityPadding/3,i=oi.entityPadding/3,s=oi.fontSize*.85,o=t.node().getBBox(),u=[],l=!1,f=!1,h=0,p=0,g=0,y=0,E=o.height+n*2,M=1;r.forEach(V=>{V.attributeKeyType!==void 0&&(l=!0),V.attributeComment!==void 0&&(f=!0)}),r.forEach(V=>{let W=`${t.node().id}-attr-${M}`,F=0,B=hp(V.attributeType),S=e.append("text").attr("class","er entityLabel").attr("id",`${W}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(B),T=e.append("text").attr("class","er entityLabel").attr("id",`${W}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeName),k={};k.tn=S,k.nn=T;let R=S.node().getBBox(),x=T.node().getBBox();if(h=Math.max(h,R.width),p=Math.max(p,x.width),F=Math.max(R.height,x.height),l){let N=e.append("text").attr("class","er entityLabel").attr("id",`${W}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeKeyType||"");k.kn=N;let m=N.node().getBBox();g=Math.max(g,m.width),F=Math.max(F,m.height)}if(f){let N=e.append("text").attr("class","er entityLabel").attr("id",`${W}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeComment||"");k.cn=N;let m=N.node().getBBox();y=Math.max(y,m.width),F=Math.max(F,m.height)}k.height=F,u.push(k),E+=F+n*2,M+=1});let z=4;l&&(z+=2),f&&(z+=2);let P=h+p+g+y,Q={width:Math.max(oi.minEntityWidth,Math.max(o.width+oi.entityPadding*2,P+i*z)),height:r.length>0?E:Math.max(oi.minEntityHeight,o.height+oi.entityPadding*2)};if(r.length>0){let V=Math.max(0,(Q.width-P-i*z)/(z/2));t.attr("transform","translate("+Q.width/2+","+(n+o.height/2)+")");let W=o.height+n*2,F="attributeBoxOdd";u.forEach(B=>{let S=W+n+B.height/2;B.tn.attr("transform","translate("+i+","+S+")");let T=e.insert("rect","#"+B.tn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",0).attr("y",W).attr("width",h+i*2+V).attr("height",B.height+n*2),k=parseFloat(T.attr("x"))+parseFloat(T.attr("width"));B.nn.attr("transform","translate("+(k+i)+","+S+")");let R=e.insert("rect","#"+B.nn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",k).attr("y",W).attr("width",p+i*2+V).attr("height",B.height+n*2),x=parseFloat(R.attr("x"))+parseFloat(R.attr("width"));if(l){B.kn.attr("transform","translate("+(x+i)+","+S+")");let N=e.insert("rect","#"+B.kn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",x).attr("y",W).attr("width",g+i*2+V).attr("height",B.height+n*2);x=parseFloat(N.attr("x"))+parseFloat(N.attr("width"))}f&&(B.cn.attr("transform","translate("+(x+i)+","+S+")"),e.insert("rect","#"+B.cn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",x).attr("y",W).attr("width",y+i*2+V).attr("height",B.height+n*2)),W+=B.height+n*2,F=F==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Q.height=Math.max(oi.minEntityHeight,E),t.attr("transform","translate("+Q.width/2+","+Q.height/2+")");return Q},"drawAttributes"),pzt=a(function(e,t,r){let n=Object.keys(t),i;return n.forEach(function(s){let o=vzt(s,"entity");i6.set(s,o);let u=e.append("g").attr("id",o);i=i===void 0?o:i;let l="text-"+o,f=u.append("text").attr("class","er entityLabel").attr("id",l).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+ft().fontFamily+"; font-size: "+oi.fontSize+"px").text(s),{width:h,height:p}=dzt(u,f,t[s].attributes),y=u.insert("rect","#"+l).attr("class","er entityBox").attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",0).attr("y",0).attr("width",h).attr("height",p).node().getBBox();r.setNode(o,{width:y.width,height:y.height,shape:"rect",id:o})}),i},"drawEntities"),gzt=a(function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities$1"),wNe=a(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),yzt=a(function(e,t){return e.forEach(function(r){t.setEdge(i6.get(r.entityA),i6.get(r.entityB),{relationship:r},wNe(r))}),e},"addRelationships$1"),MRe=0,mzt=a(function(e,t,r,n,i){MRe++;let s=r.edge(i6.get(t.entityA),i6.get(t.entityB),wNe(t)),o=V0().x(function(E){return E.x}).y(function(E){return E.y}).curve(Gh),u=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",o(s.points)).attr("stroke",oi.stroke).attr("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let l="";switch(oi.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+l+"#"+hd.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+l+"#"+hd.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+l+"#"+hd.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+l+"#"+hd.ERMarkers.ONLY_ONE_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+l+"#"+hd.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+l+"#"+hd.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+l+"#"+hd.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+l+"#"+hd.ERMarkers.ONLY_ONE_START+")");break}let f=u.node().getTotalLength(),h=u.node().getPointAtLength(f*.5),p="rel"+MRe,y=e.append("text").attr("class","er relationshipLabel").attr("id",p).attr("x",h.x).attr("y",h.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+ft().fontFamily+"; font-size: "+oi.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+p).attr("class","er relationshipLabelBox").attr("x",h.x-y.width/2).attr("y",h.y-y.height/2).attr("width",y.width).attr("height",y.height).attr("fill","white").attr("fill-opacity","85%")},"drawRelationshipFromLayout$1"),bzt=a(function(e,t,r,n){oi=ft().er,Pe.info("Drawing ER diagram");let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let u=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select(`[id='${t}']`);hd.insertMarkers(u,oi);let l;l=new Ea.default.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:oi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let f=pzt(u,n.db.getEntities(),l),h=yzt(n.db.getRelationships(),l);Bv.default.layout(l),gzt(u,l),h.forEach(function(M){mzt(u,M,l,f,n)});let p=oi.diagramPadding,g=u.node().getBBox(),y=g.width+p*2,E=g.height+p*2;el(u,E,y,oi.useMaxWidth),u.attr("viewBox",`${g.x-p} ${g.y-p} ${y} ${E}`),Oo(n.db,u,t)},"draw$b");function vzt(e="",t=""){let r=e.replace(fzt,"");return`${BRe(t)}${BRe(r)}${AG()}`}a(vzt,"generateId");function BRe(e=""){return e.length>0?`${e}-`:""}a(BRe,"strWithHyphen");var _zt={setConf:hzt,draw:bzt},YM=function(){var e=a(function(Ft,At,Ot,Vt){for(Ot=Ot||{},Vt=Ft.length;Vt--;Ot[Ft[Vt]]=At);return Ot},"o"),t=[1,9],r=[1,7],n=[1,6],i=[1,8],s=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],o=[2,10],u=[1,20],l=[1,21],f=[1,22],h=[1,23],p=[1,30],g=[1,32],y=[1,33],E=[1,34],M=[1,62],z=[1,48],P=[1,52],Q=[1,36],V=[1,37],W=[1,38],F=[1,39],B=[1,40],S=[1,56],T=[1,63],k=[1,51],R=[1,53],x=[1,55],N=[1,59],m=[1,60],v=[1,41],A=[1,42],U=[1,43],G=[1,44],K=[1,61],Z=[1,50],O=[1,54],$=[1,57],L=[1,58],ee=[1,49],ve=[1,66],ye=[1,71],se=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],be=[1,75],Y=[1,74],D=[1,76],J=[20,21,23,81,82],q=[1,99],I=[1,104],H=[1,107],te=[1,108],ie=[1,101],he=[1,106],De=[1,109],$e=[1,102],ze=[1,114],Qe=[1,113],je=[1,103],We=[1,105],Ce=[1,110],Te=[1,111],Je=[1,112],rt=[1,115],ge=[20,21,22,23,81,82],xe=[20,21,22,23,53,81,82],qe=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],ot=[20,21,23],at=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],pe=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Re=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],He=[1,149],tt=[1,157],Ve=[1,158],et=[1,159],gt=[1,160],ut=[1,144],zt=[1,145],it=[1,141],Wt=[1,152],bt=[1,153],Se=[1,154],Ie=[1,155],ue=[1,156],_e=[1,161],ae=[1,162],ce=[1,147],re=[1,150],le=[1,146],me=[1,143],Ae=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Oe=[1,165],Ge=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ke=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],st=[12,21,22,24],yt=[22,106],pt=[1,250],wt=[1,245],Gt=[1,246],Pt=[1,254],tr=[1,251],cr=[1,248],pr=[1,247],Cr=[1,249],Wr=[1,252],Tr=[1,253],lr=[1,255],fr=[1,273],Mr=[20,21,23,106],Br=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Ne={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:a(function(At,Ot,Vt,Ct,er,Ue,Ir){var ct=Ue.length-1;switch(er){case 5:Ct.parseDirective("%%{","open_directive");break;case 6:Ct.parseDirective(Ue[ct],"type_directive");break;case 7:Ue[ct]=Ue[ct].trim().replace(/'/g,'"'),Ct.parseDirective(Ue[ct],"arg_directive");break;case 8:Ct.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Ue[ct])||Ue[ct].length>0)&&Ue[ct-1].push(Ue[ct]),this.$=Ue[ct-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Ue[ct];break;case 19:Ct.setDirection("TB"),this.$="TB";break;case 20:Ct.setDirection(Ue[ct-1]),this.$=Ue[ct-1];break;case 35:this.$=Ue[ct-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Ct.addSubGraph(Ue[ct-6],Ue[ct-1],Ue[ct-4]);break;case 42:this.$=Ct.addSubGraph(Ue[ct-3],Ue[ct-1],Ue[ct-3]);break;case 43:this.$=Ct.addSubGraph(void 0,Ue[ct-1],void 0);break;case 45:this.$=Ue[ct].trim(),Ct.setAccTitle(this.$);break;case 46:case 47:this.$=Ue[ct].trim(),Ct.setAccDescription(this.$);break;case 51:Ct.addLink(Ue[ct-2].stmt,Ue[ct],Ue[ct-1]),this.$={stmt:Ue[ct],nodes:Ue[ct].concat(Ue[ct-2].nodes)};break;case 52:Ct.addLink(Ue[ct-3].stmt,Ue[ct-1],Ue[ct-2]),this.$={stmt:Ue[ct-1],nodes:Ue[ct-1].concat(Ue[ct-3].nodes)};break;case 53:this.$={stmt:Ue[ct-1],nodes:Ue[ct-1]};break;case 54:this.$={stmt:Ue[ct],nodes:Ue[ct]};break;case 55:this.$=[Ue[ct]];break;case 56:this.$=Ue[ct-4].concat(Ue[ct]);break;case 57:this.$=[Ue[ct-2]],Ct.setClass(Ue[ct-2],Ue[ct]);break;case 58:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"square");break;case 59:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"doublecircle");break;case 60:this.$=Ue[ct-5],Ct.addVertex(Ue[ct-5],Ue[ct-2],"circle");break;case 61:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"ellipse");break;case 62:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"stadium");break;case 63:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"subroutine");break;case 64:this.$=Ue[ct-7],Ct.addVertex(Ue[ct-7],Ue[ct-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ue[ct-5],Ue[ct-3]]]));break;case 65:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"cylinder");break;case 66:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"round");break;case 67:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"diamond");break;case 68:this.$=Ue[ct-5],Ct.addVertex(Ue[ct-5],Ue[ct-2],"hexagon");break;case 69:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"odd");break;case 70:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"trapezoid");break;case 71:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"inv_trapezoid");break;case 72:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"lean_right");break;case 73:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"lean_left");break;case 74:this.$=Ue[ct],Ct.addVertex(Ue[ct]);break;case 75:Ue[ct-1].text=Ue[ct],this.$=Ue[ct-1];break;case 76:case 77:Ue[ct-2].text=Ue[ct-1],this.$=Ue[ct-2];break;case 78:this.$=Ue[ct];break;case 79:var xn=Ct.destructLink(Ue[ct],Ue[ct-2]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length,text:Ue[ct-1]};break;case 80:var xn=Ct.destructLink(Ue[ct]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length};break;case 81:this.$=Ue[ct-1];break;case 83:case 97:case 153:this.$=Ue[ct-1]+""+Ue[ct];break;case 98:case 99:this.$=Ue[ct-4],Ct.addClass(Ue[ct-2],Ue[ct]);break;case 100:this.$=Ue[ct-4],Ct.setClass(Ue[ct-2],Ue[ct]);break;case 101:case 109:this.$=Ue[ct-1],Ct.setClickEvent(Ue[ct-1],Ue[ct]);break;case 102:case 110:this.$=Ue[ct-3],Ct.setClickEvent(Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-3],Ue[ct]);break;case 103:this.$=Ue[ct-2],Ct.setClickEvent(Ue[ct-2],Ue[ct-1],Ue[ct]);break;case 104:this.$=Ue[ct-4],Ct.setClickEvent(Ue[ct-4],Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-4],Ue[ct]);break;case 105:case 111:this.$=Ue[ct-1],Ct.setLink(Ue[ct-1],Ue[ct]);break;case 106:case 112:this.$=Ue[ct-3],Ct.setLink(Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-3],Ue[ct]);break;case 107:case 113:this.$=Ue[ct-3],Ct.setLink(Ue[ct-3],Ue[ct-2],Ue[ct]);break;case 108:case 114:this.$=Ue[ct-5],Ct.setLink(Ue[ct-5],Ue[ct-4],Ue[ct]),Ct.setTooltip(Ue[ct-5],Ue[ct-2]);break;case 115:this.$=Ue[ct-4],Ct.addVertex(Ue[ct-2],void 0,void 0,Ue[ct]);break;case 116:case 118:this.$=Ue[ct-4],Ct.updateLink(Ue[ct-2],Ue[ct]);break;case 117:this.$=Ue[ct-4],Ct.updateLink([Ue[ct-2]],Ue[ct]);break;case 119:this.$=Ue[ct-8],Ct.updateLinkInterpolate([Ue[ct-6]],Ue[ct-2]),Ct.updateLink([Ue[ct-6]],Ue[ct]);break;case 120:this.$=Ue[ct-8],Ct.updateLinkInterpolate(Ue[ct-6],Ue[ct-2]),Ct.updateLink(Ue[ct-6],Ue[ct]);break;case 121:this.$=Ue[ct-6],Ct.updateLinkInterpolate([Ue[ct-4]],Ue[ct]);break;case 122:this.$=Ue[ct-6],Ct.updateLinkInterpolate(Ue[ct-4],Ue[ct]);break;case 123:case 125:this.$=[Ue[ct]];break;case 124:case 126:Ue[ct-2].push(Ue[ct]),this.$=Ue[ct-2];break;case 128:this.$=Ue[ct-1]+Ue[ct];break;case 150:this.$=Ue[ct];break;case 151:this.$=Ue[ct-1]+""+Ue[ct];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:i},e(s,o,{17:11}),{7:12,13:[1,13]},{16:14,21:r,22:n,24:i},{16:15,21:r,22:n,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:u,21:l,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{8:64,10:[1,65],15:ve},e([10,15],[2,6]),e(s,[2,17]),e(s,[2,18]),e(s,[2,19]),{20:[1,68],21:[1,69],22:ye,27:67,30:70},e(se,[2,11]),e(se,[2,12]),e(se,[2,13]),e(se,[2,14]),e(se,[2,15]),e(se,[2,16]),{9:72,20:be,21:Y,23:D,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:be,21:Y,23:D},{9:81,20:be,21:Y,23:D},{9:82,20:be,21:Y,23:D},{9:83,20:be,21:Y,23:D},{9:84,20:be,21:Y,23:D},{9:86,20:be,21:Y,22:[1,85],23:D},e(se,[2,44]),{45:[1,87]},{47:[1,88]},e(se,[2,47]),e(J,[2,54],{30:89,22:ye}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:q,52:I,66:H,67:te,84:[1,97],91:ie,97:96,98:[1,94],100:[1,95],105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(se,[2,158]),e(se,[2,159]),e(se,[2,160]),e(se,[2,161]),e(ge,[2,55],{53:[1,116]}),e(xe,[2,74],{116:129,40:[1,117],52:M,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:z,67:P,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:S,95:T,105:k,106:R,109:x,111:N,112:m,122:K,123:Z,124:O,125:$,126:L,127:ee}),e(qe,[2,150]),e(qe,[2,175]),e(qe,[2,176]),e(qe,[2,177]),e(qe,[2,178]),e(qe,[2,179]),e(qe,[2,180]),e(qe,[2,181]),e(qe,[2,182]),e(qe,[2,183]),e(qe,[2,184]),e(qe,[2,185]),e(qe,[2,186]),e(qe,[2,187]),e(qe,[2,188]),e(qe,[2,189]),e(qe,[2,190]),{9:130,20:be,21:Y,23:D},{11:131,14:[1,132]},e(ot,[2,8]),e(s,[2,20]),e(s,[2,26]),e(s,[2,27]),{21:[1,133]},e(at,[2,34],{30:134,22:ye}),e(se,[2,35]),{50:135,51:45,52:M,54:46,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},e(pe,[2,48]),e(pe,[2,49]),e(pe,[2,50]),e(Re,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:He,24:tt,26:Ve,38:et,39:139,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(se,[2,36]),e(se,[2,37]),e(se,[2,38]),e(se,[2,39]),e(se,[2,40]),{22:He,24:tt,26:Ve,38:et,39:163,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Ae,o,{17:164}),e(se,[2,45]),e(se,[2,46]),e(J,[2,53],{52:Oe}),{26:q,52:I,66:H,67:te,91:ie,97:166,102:[1,167],105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{95:[1,168],103:169,105:[1,170]},{26:q,52:I,66:H,67:te,91:ie,95:[1,171],97:172,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{26:q,52:I,66:H,67:te,91:ie,97:173,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,101],{22:[1,174],99:[1,175]}),e(ot,[2,105],{22:[1,176]}),e(ot,[2,109],{115:100,117:178,22:[1,177],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,111],{22:[1,179]}),e(Ge,[2,152]),e(Ge,[2,154]),e(Ge,[2,155]),e(Ge,[2,156]),e(Ge,[2,157]),e(ke,[2,162]),e(ke,[2,163]),e(ke,[2,164]),e(ke,[2,165]),e(ke,[2,166]),e(ke,[2,167]),e(ke,[2,168]),e(ke,[2,169]),e(ke,[2,170]),e(ke,[2,171]),e(ke,[2,172]),e(ke,[2,173]),e(ke,[2,174]),{52:M,54:180,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:He,24:tt,26:Ve,38:et,39:181,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:182,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:184,42:gt,52:I,57:[1,183],66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:185,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:186,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:187,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{66:[1,188]},{22:He,24:tt,26:Ve,38:et,39:189,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:190,42:gt,52:I,66:H,67:te,71:[1,191],73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:192,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:193,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:194,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(qe,[2,151]),e(st,[2,3]),{8:195,15:ve},{15:[2,7]},e(s,[2,28]),e(at,[2,33]),e(J,[2,51],{30:196,22:ye}),e(Re,[2,75],{22:[1,197]}),{22:[1,198]},{22:He,24:tt,26:Ve,38:et,39:199,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:ut,81:zt,82:[1,200],83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ke,[2,82]),e(ke,[2,84]),e(ke,[2,140]),e(ke,[2,141]),e(ke,[2,142]),e(ke,[2,143]),e(ke,[2,144]),e(ke,[2,145]),e(ke,[2,146]),e(ke,[2,147]),e(ke,[2,148]),e(ke,[2,149]),e(ke,[2,85]),e(ke,[2,86]),e(ke,[2,87]),e(ke,[2,88]),e(ke,[2,89]),e(ke,[2,90]),e(ke,[2,91]),e(ke,[2,92]),e(ke,[2,93]),e(ke,[2,94]),e(ke,[2,95]),{9:203,20:be,21:Y,22:He,23:D,24:tt,26:Ve,38:et,40:[1,202],42:gt,52:I,66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:u,21:l,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,204],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:ye,30:205},{22:[1,206],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(yt,[2,123]),{22:[1,211]},{22:[1,212],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:[1,213],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{84:[1,214]},e(ot,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(Ge,[2,153]),{84:[1,219],101:[1,220]},e(ge,[2,57],{116:129,52:M,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,122:K,123:Z,124:O,125:$,126:L,127:ee}),{22:He,24:tt,26:Ve,38:et,41:[1,221],42:gt,52:I,66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,56:[1,222],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:223,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,58:[1,224],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,60:[1,225],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,62:[1,226],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,64:[1,227],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{67:[1,228]},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,70:[1,229],73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,72:[1,230],73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:231,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,41:[1,232],42:gt,52:I,66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:ut,75:[1,233],77:[1,234],81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:ut,75:[1,236],77:[1,235],81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{9:237,20:be,21:Y,23:D},e(J,[2,52],{52:Oe}),e(Re,[2,77]),e(Re,[2,76]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,68:[1,238],73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Re,[2,79]),e(ke,[2,83]),{22:He,24:tt,26:Ve,38:et,39:239,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Ae,o,{17:240}),e(se,[2,43]),{51:241,52:M,54:46,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:pt,66:wt,67:Gt,86:Pt,96:242,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{22:pt,66:wt,67:Gt,86:Pt,96:256,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{22:pt,66:wt,67:Gt,86:Pt,96:257,102:tr,104:[1,258],105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{22:pt,66:wt,67:Gt,86:Pt,96:259,102:tr,104:[1,260],105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{105:[1,261]},{22:pt,66:wt,67:Gt,86:Pt,96:262,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{22:pt,66:wt,67:Gt,86:Pt,96:263,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{26:q,52:I,66:H,67:te,91:ie,97:264,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,102]),{84:[1,265]},e(ot,[2,106],{22:[1,266]}),e(ot,[2,107]),e(ot,[2,110]),e(ot,[2,112],{22:[1,267]}),e(ot,[2,113]),e(xe,[2,58]),e(xe,[2,59]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,58:[1,268],66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,66]),e(xe,[2,61]),e(xe,[2,62]),e(xe,[2,63]),{66:[1,269]},e(xe,[2,65]),e(xe,[2,67]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,72:[1,270],73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,69]),e(xe,[2,70]),e(xe,[2,72]),e(xe,[2,71]),e(xe,[2,73]),e(st,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:He,24:tt,26:Ve,38:et,41:[1,271],42:gt,52:I,66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:u,21:l,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,272],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},e(ge,[2,56]),e(ot,[2,115],{106:fr}),e(Mr,[2,125],{108:274,22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,109:pr,110:Cr,111:Wr,112:Tr,113:lr}),e(Br,[2,127]),e(Br,[2,129]),e(Br,[2,130]),e(Br,[2,131]),e(Br,[2,132]),e(Br,[2,133]),e(Br,[2,134]),e(Br,[2,135]),e(Br,[2,136]),e(Br,[2,137]),e(Br,[2,138]),e(Br,[2,139]),e(ot,[2,116],{106:fr}),e(ot,[2,117],{106:fr}),{22:[1,275]},e(ot,[2,118],{106:fr}),{22:[1,276]},e(yt,[2,124]),e(ot,[2,98],{106:fr}),e(ot,[2,99],{106:fr}),e(ot,[2,100],{115:100,117:178,26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:be,21:Y,23:D},e(se,[2,42]),{22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,107:283,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},e(Br,[2,128]),{26:q,52:I,66:H,67:te,91:ie,97:284,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{26:q,52:I,66:H,67:te,91:ie,97:285,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,108]),e(ot,[2,114]),e(xe,[2,60]),{22:He,24:tt,26:Ve,38:et,39:286,42:gt,52:I,66:H,67:te,73:ut,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,68]),e(Ae,o,{17:287}),e(Mr,[2,126],{108:274,22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,109:pr,110:Cr,111:Wr,112:Tr,113:lr}),e(ot,[2,121],{115:100,117:178,22:[1,288],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,122],{115:100,117:178,22:[1,289],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),{22:He,24:tt,26:Ve,38:et,41:[1,290],42:gt,52:I,66:H,67:te,73:ut,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:ue,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:le,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:u,21:l,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,291],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:pt,66:wt,67:Gt,86:Pt,96:292,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},{22:pt,66:wt,67:Gt,86:Pt,96:293,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Wr,112:Tr,113:lr},e(xe,[2,64]),e(se,[2,41]),e(ot,[2,119],{106:fr}),e(ot,[2,120],{106:fr})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:a(function(At,Ot){if(Ot.recoverable)this.trace(At);else{var Vt=new Error(At);throw Vt.hash=Ot,Vt}},"parseError"),parse:a(function(At){var Ot=this,Vt=[0],Ct=[],er=[null],Ue=[],Ir=this.table,ct="",xn=0,Mn=0,Fi=2,Ya=1,Ha=Ue.slice.call(arguments,1),hn=Object.create(this.lexer),oe={yy:{}};for(var Be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Be)&&(oe.yy[Be]=this.yy[Be]);hn.setInput(At,oe.yy),oe.yy.lexer=hn,oe.yy.parser=this,typeof hn.yylloc>"u"&&(hn.yylloc={});var Le=hn.yylloc;Ue.push(Le);var Xe=hn.options&&hn.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function lt(){var jr;return jr=Ct.pop()||hn.lex()||Ya,typeof jr!="number"&&(jr instanceof Array&&(Ct=jr,jr=Ct.pop()),jr=Ot.symbols_[jr]||jr),jr}a(lt,"lex");for(var Ke,Et,nt,Rt,jt={},Xt,ur,Er,Kr;;){if(Et=Vt[Vt.length-1],this.defaultActions[Et]?nt=this.defaultActions[Et]:((Ke===null||typeof Ke>"u")&&(Ke=lt()),nt=Ir[Et]&&Ir[Et][Ke]),typeof nt>"u"||!nt.length||!nt[0]){var Rr="";Kr=[];for(Xt in Ir[Et])this.terminals_[Xt]&&Xt>Fi&&Kr.push("'"+this.terminals_[Xt]+"'");hn.showPosition?Rr="Parse error on line "+(xn+1)+`:
`+hn.showPosition()+`
Expecting `+Kr.join(", ")+", got '"+(this.terminals_[Ke]||Ke)+"'":Rr="Parse error on line "+(xn+1)+": Unexpected "+(Ke==Ya?"end of input":"'"+(this.terminals_[Ke]||Ke)+"'"),this.parseError(Rr,{text:hn.match,token:this.terminals_[Ke]||Ke,line:hn.yylineno,loc:Le,expected:Kr})}if(nt[0]instanceof Array&&nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Et+", token: "+Ke);switch(nt[0]){case 1:Vt.push(Ke),er.push(hn.yytext),Ue.push(hn.yylloc),Vt.push(nt[1]),Ke=null,Mn=hn.yyleng,ct=hn.yytext,xn=hn.yylineno,Le=hn.yylloc;break;case 2:if(ur=this.productions_[nt[1]][1],jt.$=er[er.length-ur],jt._$={first_line:Ue[Ue.length-(ur||1)].first_line,last_line:Ue[Ue.length-1].last_line,first_column:Ue[Ue.length-(ur||1)].first_column,last_column:Ue[Ue.length-1].last_column},Xe&&(jt._$.range=[Ue[Ue.length-(ur||1)].range[0],Ue[Ue.length-1].range[1]]),Rt=this.performAction.apply(jt,[ct,Mn,xn,oe.yy,nt[1],er,Ue].concat(Ha)),typeof Rt<"u")return Rt;ur&&(Vt=Vt.slice(0,-1*ur*2),er=er.slice(0,-1*ur),Ue=Ue.slice(0,-1*ur)),Vt.push(this.productions_[nt[1]][0]),er.push(jt.$),Ue.push(jt._$),Er=Ir[Vt[Vt.length-2]][Vt[Vt.length-1]],Vt.push(Er);break;case 3:return!0}}return!0},"parse2")},Ze=function(){var Ft={EOF:1,parseError:a(function(Ot,Vt){if(this.yy.parser)this.yy.parser.parseError(Ot,Vt);else throw new Error(Ot)},"parseError"),setInput:function(At,Ot){return this.yy=Ot||this.yy||{},this._input=At,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var At=this._input[0];this.yytext+=At,this.yyleng++,this.offset++,this.match+=At,this.matched+=At;var Ot=At.match(/(?:\r\n?|\n).*/g);return Ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),At},unput:function(At){var Ot=At.length,Vt=At.split(/(?:\r\n?|\n)/g);this._input=At+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ot),this.offset-=Ot;var Ct=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Vt.length-1&&(this.yylineno-=Vt.length-1);var er=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Vt?(Vt.length===Ct.length?this.yylloc.first_column:0)+Ct[Ct.length-Vt.length].length-Vt[0].length:this.yylloc.first_column-Ot},this.options.ranges&&(this.yylloc.range=[er[0],er[0]+this.yyleng-Ot]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(At){this.unput(this.match.slice(At))},pastInput:function(){var At=this.matched.substr(0,this.matched.length-this.match.length);return(At.length>20?"...":"")+At.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var At=this.match;return At.length<20&&(At+=this._input.substr(0,20-At.length)),(At.substr(0,20)+(At.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var At=this.pastInput(),Ot=new Array(At.length+1).join("-");return At+this.upcomingInput()+`
`+Ot+"^"},test_match:function(At,Ot){var Vt,Ct,er;if(this.options.backtrack_lexer&&(er={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(er.yylloc.range=this.yylloc.range.slice(0))),Ct=At[0].match(/(?:\r\n?|\n).*/g),Ct&&(this.yylineno+=Ct.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ct?Ct[Ct.length-1].length-Ct[Ct.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+At[0].length},this.yytext+=At[0],this.match+=At[0],this.matches=At,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(At[0].length),this.matched+=At[0],Vt=this.performAction.call(this,this.yy,this,Ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Vt)return Vt;if(this._backtrack){for(var Ue in er)this[Ue]=er[Ue];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var At,Ot,Vt,Ct;this._more||(this.yytext="",this.match="");for(var er=this._currentRules(),Ue=0;Ue<er.length;Ue++)if(Vt=this._input.match(this.rules[er[Ue]]),Vt&&(!Ot||Vt[0].length>Ot[0].length)){if(Ot=Vt,Ct=Ue,this.options.backtrack_lexer){if(At=this.test_match(Vt,er[Ue]),At!==!1)return At;if(this._backtrack){Ot=!1;continue}else return!1}else if(!this.options.flex)break}return Ot?(At=this.test_match(Ot,er[Ct]),At!==!1?At:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Ot=this.next();return Ot||this.lex()},"lex"),begin:a(function(Ot){this.conditionStack.push(Ot)},"begin"),popState:a(function(){var Ot=this.conditionStack.length-1;return Ot>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Ot){return Ot=this.conditionStack.length-1-Math.abs(Ot||0),Ot>=0?this.conditionStack[Ot]:"INITIAL"},"topState"),pushState:a(function(Ot){this.begin(Ot)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(Ot,Vt,Ct,er){switch(Ct){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 36:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Ft}();Ne.lexer=Ze;function Tt(){this.yy={}}return a(Tt,"Parser"),Tt.prototype=Ne,Ne.Parser=Tt,new Tt}();YM.parser=YM;var xzt=a((e,t)=>{var r;return((r=t?.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*graph/)!==null},"flowDetector"),wzt=a((e,t)=>{var r;return((r=t?.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"&&e.match(/^\s*graph/)!==null?!0:e.match(/^\s*flowchart/)!==null},"flowDetectorV2"),Azt="flowchart-",RRe=0,yX=ft(),$i={},uy=[],yv=[],vf=[],HM={},mX={},_M=0,B$=!0,hf,dB,pB=[],gB=a(e=>Gr.sanitizeText(e,yX),"sanitizeText"),Ezt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$7"),yB=a(function(e){let t=Object.keys($i);for(let r=0;r<t.length;r++)if($i[t[r]].id===e)return $i[t[r]].domId;return e},"lookUpDomId"),Szt=a(function(e,t,r,n,i,s,o={}){let u,l=e;typeof l>"u"||l.trim().length!==0&&(typeof $i[l]>"u"&&($i[l]={id:l,domId:Azt+l+"-"+RRe,styles:[],classes:[]}),RRe++,typeof t<"u"?(yX=ft(),u=gB(t.trim()),u[0]==='"'&&u[u.length-1]==='"'&&(u=u.substring(1,u.length-1)),$i[l].text=u):typeof $i[l].text>"u"&&($i[l].text=e),typeof r<"u"&&($i[l].type=r),typeof n<"u"&&n!==null&&n.forEach(function(f){$i[l].styles.push(f)}),typeof i<"u"&&i!==null&&i.forEach(function(f){$i[l].classes.push(f)}),typeof s<"u"&&($i[l].dir=s),$i[l].props=o)},"addVertex"),kzt=a(function(e,t,r,n){let o={start:e,end:t,type:void 0,text:""};n=r.text,typeof n<"u"&&(o.text=gB(n.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),typeof r<"u"&&(o.type=r.type,o.stroke=r.stroke,o.length=r.length),uy.push(o)},"addSingleLink"),Czt=a(function(e,t,r,n){let i,s;for(i=0;i<e.length;i++)for(s=0;s<t.length;s++)kzt(e[i],t[s],r,n)},"addLink"),Izt=a(function(e,t){e.forEach(function(r){r==="default"?uy.defaultInterpolate=t:uy[r].interpolate=t})},"updateLinkInterpolate"),Tzt=a(function(e,t){e.forEach(function(r){r==="default"?uy.defaultStyle=t:(un.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),uy[r].style=t)})},"updateLink"),Mzt=a(function(e,t){typeof yv[e]>"u"&&(yv[e]={id:e,styles:[],textStyles:[]}),typeof t<"u"&&t!==null&&t.forEach(function(r){if(r.match("color")){let i=r.replace("fill","bgFill").replace("color","fill");yv[e].textStyles.push(i)}yv[e].styles.push(r)})},"addClass"),Bzt=a(function(e){hf=e,hf.match(/.*</)&&(hf="RL"),hf.match(/.*\^/)&&(hf="BT"),hf.match(/.*>/)&&(hf="LR"),hf.match(/.*v/)&&(hf="TB")},"setDirection$1"),bX=a(function(e,t){e.split(",").forEach(function(r){let n=r;typeof $i[n]<"u"&&$i[n].classes.push(t),typeof HM[n]<"u"&&HM[n].classes.push(t)})},"setClass$1"),Rzt=a(function(e,t){e.split(",").forEach(function(r){typeof t<"u"&&(mX[dB==="gen-1"?yB(r):r]=gB(t))})},"setTooltip"),Lzt=a(function(e,t,r){let n=yB(e);if(ft().securityLevel!=="loose"||typeof t>"u")return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(e),typeof $i[e]<"u"&&($i[e].haveCallback=!0,pB.push(function(){let s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){un.runFunc(t,...i)},!1)}))},"setClickFun$1"),Dzt=a(function(e,t,r){e.split(",").forEach(function(n){typeof $i[n]<"u"&&($i[n].link=un.formatUrl(t,yX),$i[n].linkTarget=r)}),bX(e,"clickable")},"setLink$1"),Nzt=a(function(e){return mX[e]},"getTooltip"),Ozt=a(function(e,t,r){e.split(",").forEach(function(n){Lzt(n,t,r)}),bX(e,"clickable")},"setClickEvent$1"),qzt=a(function(e){pB.forEach(function(t){t(e)})},"bindFunctions$1"),Pzt=a(function(){return hf.trim()},"getDirection$1"),Fzt=a(function(){return $i},"getVertices"),Uzt=a(function(){return uy},"getEdges"),Yzt=a(function(){return yv},"getClasses$4"),ANe=a(function(e){let t=Zt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Zt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Zt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=Zt(this);if(i.attr("title")===null)return;let o=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Zt(this).classed("hover",!1)})},"setupToolTips");pB.push(ANe);var Hzt=a(function(e="gen-1"){$i={},yv={},uy=[],pB=[ANe],vf=[],HM={},_M=0,mX=[],B$=!0,dB=e,tl()},"clear$6"),zzt=a(e=>{dB=e||"gen-1"},"setGen"),Qzt=a(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),Wzt=a(function(e,t,r){let n=e.trim(),i=r.trim();n===i&&i.match(/\s/)&&(n=void 0);function s(h){let p={boolean:{},number:{},string:{}},g=[],y;return{nodeList:h.filter(function(M){let z=typeof M;return M.stmt&&M.stmt==="dir"?(y=M.value,!1):M.trim()===""?!1:z in p?p[z].hasOwnProperty(M)?!1:p[z][M]=!0:g.indexOf(M)>=0?!1:g.push(M)}),dir:y}}a(s,"uniq");let o=[],{nodeList:u,dir:l}=s(o.concat.apply(o,t));if(o=u,dB==="gen-1")for(let h=0;h<o.length;h++)o[h]=yB(o[h]);n=n||"subGraph"+_M,i=i||"",i=gB(i),_M=_M+1;let f={id:n,nodes:o,title:i.trim(),classes:[],dir:l};return Pe.info("Adding",f.id,f.nodes,f.dir),f.nodes=CNe(f,vf).nodes,vf.push(f),HM[n]=f,n},"addSubGraph"),Vzt=a(function(e){for(let t=0;t<vf.length;t++)if(vf[t].id===e)return t;return-1},"getPosForId"),F5=-1,ENe=[],SNe=a(function(e,t){let r=vf[t].nodes;if(F5=F5+1,F5>2e3)return;if(ENe[F5]=t,vf[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let s=Vzt(r[n]);if(s>=0){let o=SNe(e,s);if(o.result)return{result:!0,count:i+o.count};i=i+o.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),jzt=a(function(e){return ENe[e]},"getDepthFirstPos"),Gzt=a(function(){F5=-1,vf.length>0&&SNe("none",vf.length-1)},"indexNodes"),Kzt=a(function(){return vf},"getSubGraphs"),$zt=a(()=>B$?(B$=!1,!0):!1,"firstGraph"),Xzt=a(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.indexOf("=")!==-1&&(n="thick"),t.indexOf(".")!==-1&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),Jzt=a((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),Zzt=a(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t[0]==="x"&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t[0]==="<"&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t[0]==="o"&&(n="double_"+n,r=r.slice(1));break}let i="normal",s=r.length-1;r[0]==="="&&(i="thick"),r[0]==="~"&&(i="invisible");let o=Jzt(".",r);return o&&(i="dotted",s=o),{type:n,stroke:i,length:s}},"destructEndLink"),eQt=a((e,t)=>{let r=Zzt(e),n;if(t){if(n=Xzt(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),kNe=a((e,t)=>{let r=!1;return e.forEach(n=>{n.nodes.indexOf(t)>=0&&(r=!0)}),r},"exists"),CNe=a((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{kNe(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),dd={parseDirective:Ezt,defaultConfig:()=>wv.flowchart,setAccTitle:cu,getAccTitle:rl,getAccDescription:il,setAccDescription:nl,addVertex:Szt,lookUpDomId:yB,addLink:Czt,updateLinkInterpolate:Izt,updateLink:Tzt,addClass:Mzt,setDirection:Bzt,setClass:bX,setTooltip:Rzt,getTooltip:Nzt,setClickEvent:Ozt,setLink:Dzt,bindFunctions:qzt,getDirection:Pzt,getVertices:Fzt,getEdges:Uzt,getClasses:Yzt,clear:Hzt,setGen:zzt,defaultStyle:Qzt,addSubGraph:Wzt,getDepthFirstPos:jzt,indexNodes:Gzt,getSubGraphs:Kzt,destructLink:eQt,lex:{firstGraph:$zt},exists:kNe,makeUniq:CNe};function tQt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}a(tQt,"commonjsRequire");var jG,LRe;function vX(){if(LRe)return jG;LRe=1;function e(t){return t}return a(e,"identity"),jG=e,jG}a(vX,"requireIdentity");var GG,DRe;function rQt(){if(DRe)return GG;DRe=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return a(e,"apply2"),GG=e,GG}a(rQt,"require_apply");var KG,NRe;function INe(){if(NRe)return KG;NRe=1;var e=rQt(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,l=t(o.length-i,0),f=Array(l);++u<l;)f[u]=o[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=o[u];return h[i]=s(f),e(n,this,h)}}return a(r,"overRest"),KG=r,KG}a(INe,"require_overRest");var $G,ORe;function nQt(){if(ORe)return $G;ORe=1;function e(t){return function(){return t}}return a(e,"constant"),$G=e,$G}a(nQt,"requireConstant");var XG,qRe;function TNe(){if(qRe)return XG;qRe=1;var e=J$,t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return XG=t,XG}a(TNe,"require_defineProperty");var JG,PRe;function iQt(){if(PRe)return JG;PRe=1;var e=nQt(),t=TNe(),r=vX(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return JG=n,JG}a(iQt,"require_baseSetToString");var ZG,FRe;function aQt(){if(FRe)return ZG;FRe=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var u=r(),l=t-(u-o);if(o=u,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return a(n,"shortOut"),ZG=n,ZG}a(aQt,"require_shortOut");var eK,URe;function MNe(){if(URe)return eK;URe=1;var e=iQt(),t=aQt(),r=t(e);return eK=r,eK}a(MNe,"require_setToString");var tK,YRe;function sQt(){if(YRe)return tK;YRe=1;var e=vX(),t=INe(),r=MNe();function n(i,s){return r(t(i,s,e),i+"")}return a(n,"baseRest"),tK=n,tK}a(sQt,"require_baseRest");var rK,HRe;function _X(){if(HRe)return rK;HRe=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return a(t,"isLength"),rK=t,rK}a(_X,"requireIsLength");var nK,zRe;function mB(){if(zRe)return nK;zRe=1;var e=X$(),t=_X();function r(n){return n!=null&&t(n.length)&&!e(n)}return a(r,"isArrayLike"),nK=r,nK}a(mB,"requireIsArrayLike");var iK,QRe;function bB(){if(QRe)return iK;QRe=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return a(r,"isIndex"),iK=r,iK}a(bB,"require_isIndex");var aK,WRe;function BNe(){if(WRe)return aK;WRe=1;var e=nB(),t=mB(),r=bB(),n=Rv();function i(s,o,u){if(!n(u))return!1;var l=typeof o;return(l=="number"?t(u)&&r(o,u.length):l=="string"&&o in u)?e(u[o],s):!1}return a(i,"isIterateeCall"),aK=i,aK}a(BNe,"require_isIterateeCall");var sK,VRe;function oQt(){if(VRe)return sK;VRe=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return a(e,"baseTimes"),sK=e,sK}a(oQt,"require_baseTimes");var oK,jRe;function l6(){if(jRe)return oK;jRe=1;function e(t){return t!=null&&typeof t=="object"}return a(e,"isObjectLike"),oK=e,oK}a(l6,"requireIsObjectLike");var cK,GRe;function cQt(){if(GRe)return cK;GRe=1;var e=c6(),t=l6(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return a(n,"baseIsArguments"),cK=n,cK}a(cQt,"require_baseIsArguments");var uK,KRe;function xX(){if(KRe)return uK;KRe=1;var e=cQt(),t=l6(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return uK=s,uK}a(xX,"requireIsArguments");var lK,$Re;function ly(){if($Re)return lK;$Re=1;var e=Array.isArray;return lK=e,lK}a(ly,"requireIsArray");var uM={exports:{}},fK,XRe;function uQt(){if(XRe)return fK;XRe=1;function e(){return!1}return a(e,"stubFalse"),fK=e,fK}a(uQt,"requireStubFalse");var JRe;function lQt(){return JRe||(JRe=1,function(e,t){var r=eB,n=uQt(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,u=o?r.Buffer:void 0,l=u?u.isBuffer:void 0,f=l||n;e.exports=f}(uM,uM.exports)),uM.exports}a(lQt,"requireIsBuffer");var hK,ZRe;function fQt(){if(ZRe)return hK;ZRe=1;var e=c6(),t=_X(),r=l6(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",u="[object Error]",l="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",y="[object Set]",E="[object String]",M="[object WeakMap]",z="[object ArrayBuffer]",P="[object DataView]",Q="[object Float32Array]",V="[object Float64Array]",W="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",x={};x[Q]=x[V]=x[W]=x[F]=x[B]=x[S]=x[T]=x[k]=x[R]=!0,x[n]=x[i]=x[z]=x[s]=x[P]=x[o]=x[u]=x[l]=x[f]=x[h]=x[p]=x[g]=x[y]=x[E]=x[M]=!1;function N(m){return r(m)&&t(m.length)&&!!x[e(m)]}return a(N,"baseIsTypedArray"),hK=N,hK}a(fQt,"require_baseIsTypedArray");var dK,eLe;function hQt(){if(eLe)return dK;eLe=1;function e(t){return function(r){return t(r)}}return a(e,"baseUnary"),dK=e,dK}a(hQt,"require_baseUnary");var lM={exports:{}},tLe;function dQt(){return tLe||(tLe=1,function(e,t){var r=SDe,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,u=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u}(lM,lM.exports)),lM.exports}a(dQt,"require_nodeUtil");var pK,rLe;function pQt(){if(rLe)return pK;rLe=1;var e=fQt(),t=hQt(),r=dQt(),n=r&&r.isTypedArray,i=n?t(n):e;return pK=i,pK}a(pQt,"requireIsTypedArray");var gK,nLe;function RNe(){if(nLe)return gK;nLe=1;var e=oQt(),t=xX(),r=ly(),n=lQt(),i=bB(),s=pQt(),o=Object.prototype,u=o.hasOwnProperty;function l(f,h){var p=r(f),g=!p&&t(f),y=!p&&!g&&n(f),E=!p&&!g&&!y&&s(f),M=p||g||y||E,z=M?e(f.length,String):[],P=z.length;for(var Q in f)(h||u.call(f,Q))&&!(M&&(Q=="length"||y&&(Q=="offset"||Q=="parent")||E&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||i(Q,P)))&&z.push(Q);return z}return a(l,"arrayLikeKeys"),gK=l,gK}a(RNe,"require_arrayLikeKeys");var yK,iLe;function LNe(){if(iLe)return yK;iLe=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return a(t,"isPrototype"),yK=t,yK}a(LNe,"require_isPrototype");var mK,aLe;function gQt(){if(aLe)return mK;aLe=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return a(e,"nativeKeysIn"),mK=e,mK}a(gQt,"require_nativeKeysIn");var bK,sLe;function yQt(){if(sLe)return bK;sLe=1;var e=Rv(),t=LNe(),r=gQt(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var u=t(o),l=[];for(var f in o)f=="constructor"&&(u||!i.call(o,f))||l.push(f);return l}return a(s,"baseKeysIn"),bK=s,bK}a(yQt,"require_baseKeysIn");var vK,oLe;function mQt(){if(oLe)return vK;oLe=1;var e=RNe(),t=yQt(),r=mB();function n(i){return r(i)?e(i,!0):t(i)}return a(n,"keysIn"),vK=n,vK}a(mQt,"requireKeysIn");var _K,cLe;function bQt(){if(cLe)return _K;cLe=1;var e=sQt(),t=nB(),r=BNe(),n=mQt(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(u,l){u=Object(u);var f=-1,h=l.length,p=h>2?l[2]:void 0;for(p&&r(l[0],l[1],p)&&(h=1);++f<h;)for(var g=l[f],y=n(g),E=-1,M=y.length;++E<M;){var z=y[E],P=u[z];(P===void 0||t(P,i[z])&&!s.call(u,z))&&(u[z]=g[z])}return u});return _K=o,_K}a(bQt,"requireDefaults");var xK={exports:{}},wK,uLe;function vQt(){if(uLe)return wK;uLe=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return a(e,"arrayEach"),wK=e,wK}a(vQt,"require_arrayEach");var AK,lLe;function _Qt(){if(lLe)return AK;lLe=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),u=i(r),l=u.length;l--;){var f=u[t?l:++s];if(n(o[f],f,o)===!1)break}return r}}return a(e,"createBaseFor"),AK=e,AK}a(_Qt,"require_createBaseFor");var EK,fLe;function xQt(){if(fLe)return EK;fLe=1;var e=_Qt(),t=e();return EK=t,EK}a(xQt,"require_baseFor");var SK,hLe;function DNe(){if(hLe)return SK;hLe=1;function e(t,r){return function(n){return t(r(n))}}return a(e,"overArg"),SK=e,SK}a(DNe,"require_overArg");var kK,dLe;function wQt(){if(dLe)return kK;dLe=1;var e=DNe(),t=e(Object.keys,Object);return kK=t,kK}a(wQt,"require_nativeKeys");var CK,pLe;function AQt(){if(pLe)return CK;pLe=1;var e=LNe(),t=wQt(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&o.push(u);return o}return a(i,"baseKeys"),CK=i,CK}a(AQt,"require_baseKeys");var IK,gLe;function EQt(){if(gLe)return IK;gLe=1;var e=RNe(),t=AQt(),r=mB();function n(i){return r(i)?e(i):t(i)}return a(n,"keys"),IK=n,IK}a(EQt,"requireKeys");var TK,yLe;function SQt(){if(yLe)return TK;yLe=1;var e=xQt(),t=EQt();function r(n,i){return n&&e(n,i,t)}return a(r,"baseForOwn"),TK=r,TK}a(SQt,"require_baseForOwn");var MK,mLe;function kQt(){if(mLe)return MK;mLe=1;var e=mB();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,u=n?o:-1,l=Object(i);(n?u--:++u<o)&&s(l[u],u,l)!==!1;);return i}}return a(t,"createBaseEach"),MK=t,MK}a(kQt,"require_createBaseEach");var BK,bLe;function CQt(){if(bLe)return BK;bLe=1;var e=SQt(),t=kQt(),r=t(e);return BK=r,BK}a(CQt,"require_baseEach");var RK,vLe;function IQt(){if(vLe)return RK;vLe=1;var e=vX();function t(r){return typeof r=="function"?r:e}return a(t,"castFunction"),RK=t,RK}a(IQt,"require_castFunction");var LK,_Le;function TQt(){if(_Le)return LK;_Le=1;var e=vQt(),t=CQt(),r=IQt(),n=ly();function i(s,o){var u=n(s)?e:t;return u(s,r(o))}return a(i,"forEach"),LK=i,LK}a(TQt,"requireForEach");var xLe;function MQt(){return xLe||(xLe=1,function(e){e.exports=TQt()}(xK)),xK.exports}a(MQt,"requireEach");var DK,wLe;function BQt(){if(wLe)return DK;wLe=1;var e=DNe(),t=e(Object.getPrototypeOf,Object);return DK=t,DK}a(BQt,"require_getPrototype");var NK,ALe;function RQt(){if(ALe)return NK;ALe=1;var e=c6(),t=BQt(),r=l6(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,u=s.hasOwnProperty,l=o.call(Object);function f(h){if(!r(h)||e(h)!=n)return!1;var p=t(h);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==l}return a(f,"isPlainObject"),NK=f,NK}a(RQt,"requireIsPlainObject");var OK,ELe;function vB(){if(ELe)return OK;ELe=1;var e=c6(),t=l6(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return a(n,"isSymbol"),OK=n,OK}a(vB,"requireIsSymbol");var qK,SLe;function LQt(){if(SLe)return qK;SLe=1;var e=ly(),t=vB(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return a(i,"isKey"),qK=i,qK}a(LQt,"require_isKey");var PK,kLe;function DQt(){if(kLe)return PK;kLe=1;var e=sB,t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return a(r,"memoizeCapped"),PK=r,PK}a(DQt,"require_memoizeCapped");var FK,CLe;function NQt(){if(CLe)return FK;CLe=1;var e=DQt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,u,l,f){s.push(l?f.replace(r,"$1"):u||o)}),s});return FK=n,FK}a(NQt,"require_stringToPath");var UK,ILe;function OQt(){if(ILe)return UK;ILe=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return a(e,"arrayMap"),UK=e,UK}a(OQt,"require_arrayMap");var YK,TLe;function qQt(){if(TLe)return YK;TLe=1;var e=tB(),t=OQt(),r=ly(),n=vB(),i=1/0,s=e?e.prototype:void 0,o=s?s.toString:void 0;function u(l){if(typeof l=="string")return l;if(r(l))return t(l,u)+"";if(n(l))return o?o.call(l):"";var f=l+"";return f=="0"&&1/l==-i?"-0":f}return a(u,"baseToString"),YK=u,YK}a(qQt,"require_baseToString");var HK,MLe;function NNe(){if(MLe)return HK;MLe=1;var e=qQt();function t(r){return r==null?"":e(r)}return a(t,"toString"),HK=t,HK}a(NNe,"requireToString");var zK,BLe;function _B(){if(BLe)return zK;BLe=1;var e=ly(),t=LQt(),r=NQt(),n=NNe();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return a(i,"castPath"),zK=i,zK}a(_B,"require_castPath");var QK,RLe;function wX(){if(RLe)return QK;RLe=1;var e=vB(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-t?"-0":i}return a(r,"toKey"),QK=r,QK}a(wX,"require_toKey");var WK,LLe;function PQt(){if(LLe)return WK;LLe=1;var e=_B(),t=wX();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return a(r,"baseGet"),WK=r,WK}a(PQt,"require_baseGet");var VK,DLe;function FQt(){if(DLe)return VK;DLe=1;var e=TNe();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return a(t,"baseAssignValue"),VK=t,VK}a(FQt,"require_baseAssignValue");var jK,NLe;function UQt(){if(NLe)return jK;NLe=1;var e=FQt(),t=nB(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,u){var l=s[o];(!(n.call(s,o)&&t(l,u))||u===void 0&&!(o in s))&&e(s,o,u)}return a(i,"assignValue"),jK=i,jK}a(UQt,"require_assignValue");var GK,OLe;function YQt(){if(OLe)return GK;OLe=1;var e=UQt(),t=_B(),r=bB(),n=Rv(),i=wX();function s(o,u,l,f){if(!n(o))return o;u=t(u,o);for(var h=-1,p=u.length,g=p-1,y=o;y!=null&&++h<p;){var E=i(u[h]),M=l;if(E==="__proto__"||E==="constructor"||E==="prototype")return o;if(h!=g){var z=y[E];M=f?f(z,E,y):void 0,M===void 0&&(M=n(z)?z:r(u[h+1])?[]:{})}e(y,E,M),y=y[E]}return o}return a(s,"baseSet"),GK=s,GK}a(YQt,"require_baseSet");var KK,qLe;function HQt(){if(qLe)return KK;qLe=1;var e=PQt(),t=YQt(),r=_B();function n(i,s,o){for(var u=-1,l=s.length,f={};++u<l;){var h=s[u],p=e(i,h);o(p,h)&&t(f,r(h,i),p)}return f}return a(n,"basePickBy"),KK=n,KK}a(HQt,"require_basePickBy");var $K,PLe;function zQt(){if(PLe)return $K;PLe=1;function e(t,r){return t!=null&&r in Object(t)}return a(e,"baseHasIn"),$K=e,$K}a(zQt,"require_baseHasIn");var XK,FLe;function ONe(){if(FLe)return XK;FLe=1;var e=_B(),t=xX(),r=ly(),n=bB(),i=_X(),s=wX();function o(u,l,f){l=e(l,u);for(var h=-1,p=l.length,g=!1;++h<p;){var y=s(l[h]);if(!(g=u!=null&&f(u,y)))break;u=u[y]}return g||++h!=p?g:(p=u==null?0:u.length,!!p&&i(p)&&n(y,p)&&(r(u)||t(u)))}return a(o,"hasPath"),XK=o,XK}a(ONe,"require_hasPath");var JK,ULe;function QQt(){if(ULe)return JK;ULe=1;var e=zQt(),t=ONe();function r(n,i){return n!=null&&t(n,i,e)}return a(r,"hasIn"),JK=r,JK}a(QQt,"requireHasIn");var ZK,YLe;function WQt(){if(YLe)return ZK;YLe=1;var e=HQt(),t=QQt();function r(n,i){return e(n,i,function(s,o){return t(n,o)})}return a(r,"basePick"),ZK=r,ZK}a(WQt,"require_basePick");var e$,HLe;function VQt(){if(HLe)return e$;HLe=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return a(e,"arrayPush"),e$=e,e$}a(VQt,"require_arrayPush");var t$,zLe;function jQt(){if(zLe)return t$;zLe=1;var e=tB(),t=xX(),r=ly(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return a(i,"isFlattenable"),t$=i,t$}a(jQt,"require_isFlattenable");var r$,QLe;function GQt(){if(QLe)return r$;QLe=1;var e=VQt(),t=jQt();function r(n,i,s,o,u){var l=-1,f=n.length;for(s||(s=t),u||(u=[]);++l<f;){var h=n[l];i>0&&s(h)?i>1?r(h,i-1,s,o,u):e(u,h):o||(u[u.length]=h)}return u}return a(r,"baseFlatten"),r$=r,r$}a(GQt,"require_baseFlatten");var n$,WLe;function KQt(){if(WLe)return n$;WLe=1;var e=GQt();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return a(t,"flatten"),n$=t,n$}a(KQt,"requireFlatten");var i$,VLe;function $Qt(){if(VLe)return i$;VLe=1;var e=KQt(),t=INe(),r=MNe();function n(i){return r(t(i,void 0,e),i+"")}return a(n,"flatRest"),i$=n,i$}a($Qt,"require_flatRest");var a$,jLe;function XQt(){if(jLe)return a$;jLe=1;var e=WQt(),t=$Qt(),r=t(function(n,i){return n==null?{}:e(n,i)});return a$=r,a$}a(XQt,"requirePick");var s$,GLe;function JQt(){if(GLe)return s$;GLe=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return a(r,"baseHas"),s$=r,s$}a(JQt,"require_baseHas");var o$,KLe;function ZQt(){if(KLe)return o$;KLe=1;var e=JQt(),t=ONe();function r(n,i){return n!=null&&t(n,i,e)}return a(r,"has"),o$=r,o$}a(ZQt,"requireHas");var c$,$Le;function eWt(){if($Le)return c$;$Le=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var u=-1,l=t(e((i-n)/(s||1)),0),f=Array(l);l--;)f[o?l:++u]=n,n+=s;return f}return a(r,"baseRange"),c$=r,c$}a(eWt,"require_baseRange");var u$,XLe;function tWt(){if(XLe)return u$;XLe=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return a(t,"trimmedEndIndex"),u$=t,u$}a(tWt,"require_trimmedEndIndex");var l$,JLe;function rWt(){if(JLe)return l$;JLe=1;var e=tWt(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return a(r,"baseTrim"),l$=r,l$}a(rWt,"require_baseTrim");var f$,ZLe;function nWt(){if(ZLe)return f$;ZLe=1;var e=rWt(),t=Rv(),r=vB(),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function l(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=s.test(f);return p||o.test(f)?u(f.slice(2),p?2:8):i.test(f)?n:+f}return a(l,"toNumber"),f$=l,f$}a(nWt,"requireToNumber");var h$,eDe;function iWt(){if(eDe)return h$;eDe=1;var e=nWt(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return a(n,"toFinite"),h$=n,h$}a(iWt,"requireToFinite");var d$,tDe;function aWt(){if(tDe)return d$;tDe=1;var e=eWt(),t=BNe(),r=iWt();function n(i){return function(s,o,u){return u&&typeof u!="number"&&t(s,o,u)&&(o=u=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),u=u===void 0?s<o?1:-1:r(u),e(s,o,u,i)}}return a(n,"createRange"),d$=n,d$}a(aWt,"require_createRange");var p$,rDe;function sWt(){if(rDe)return p$;rDe=1;var e=aWt(),t=e();return p$=t,p$}a(sWt,"requireRange");var g$,nDe;function oWt(){if(nDe)return g$;nDe=1;var e=NNe(),t=0;function r(n){var i=++t;return e(n)+i}return a(r,"uniqueId"),g$=r,g$}a(oWt,"requireUniqueId");var zM;if(typeof tQt=="function")try{zM={defaults:bQt(),each:MQt(),isFunction:X$(),isPlainObject:RQt(),pick:XQt(),has:ZQt(),range:sWt(),uniqueId:oWt()}}catch{}zM||(zM=window._);var cWt=zM,iDe=cWt,uWt={isSubgraph:lWt,edgeToId:fWt,applyStyle:dWt,applyClass:pWt,applyTransition:gWt};function lWt(e,t){return!!e.children(t).length}a(lWt,"isSubgraph");function fWt(e){return y$(e.v)+":"+y$(e.w)+":"+y$(e.name)}a(fWt,"edgeToId");var hWt=/:/g;function y$(e){return e?String(e).replace(hWt,"\\:"):""}a(y$,"escapeId");function dWt(e,t){t&&e.attr("style",t)}a(dWt,"applyStyle");function pWt(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}a(pWt,"applyClass");function gWt(e,t){var r=t.graph();if(iDe.isPlainObject(r)){var n=r.transition;if(iDe.isFunction(n))return n(e)}return e}a(gWt,"applyTransition");var yWt=uWt,qNe=mWt;function mWt(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}yWt.applyStyle(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n.node().getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}a(mWt,"addHtmlLabel");function PNe(e,t,r){let n=t.width,i=t.height,s=(n+i)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],u=vd(e,s,s,o);return r.intersect=function(l){return Do.default.intersect.polygon(r,o,l)},u}a(PNe,"question");function FNe(e,t,r){let i=t.height,s=i/4,o=t.width+2*s,u=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-i/2},{x:o-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],l=vd(e,o,i,u);return r.intersect=function(f){return Do.default.intersect.polygon(r,u,f)},l}a(FNe,"hexagon");function UNe(e,t,r){let n=t.width,i=t.height,s=[{x:-i/2,y:0},{x:n,y:0},{x:n,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(UNe,"rect_left_inv_arrow");function YNe(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:i/6,y:-i}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(YNe,"lean_right");function HNe(e,t,r){let n=t.width,i=t.height,s=[{x:2*i/6,y:0},{x:n+i/6,y:0},{x:n-2*i/6,y:-i},{x:-i/6,y:-i}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(HNe,"lean_left");function zNe(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n+2*i/6,y:0},{x:n-i/6,y:-i},{x:i/6,y:-i}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(zNe,"trapezoid");function QNe(e,t,r){let n=t.width,i=t.height,s=[{x:i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(QNe,"inv_trapezoid");function WNe(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n+i/2,y:0},{x:n,y:-i/2},{x:n+i/2,y:-i},{x:0,y:-i}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(WNe,"rect_right_inv_arrow");function VNe(e,t,r){let n=t.height,i=t.width+n/4,s=e.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return r.intersect=function(o){return Do.default.intersect.rect(r,o)},s}a(VNe,"stadium");function jNe(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=vd(e,n,i,s);return r.intersect=function(u){return Do.default.intersect.polygon(r,s,u)},o}a(jNe,"subroutine");function GNe(e,t,r){let n=t.width,i=n/2,s=i/(2.5+n/50),o=t.height+s,u="M 0,"+s+" a "+i+","+s+" 0,0,0 "+n+" 0 a "+i+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+i+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,l=e.attr("label-offset-y",s).insert("path",":first-child").attr("d",u).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return r.intersect=function(f){let h=Do.default.intersect.rect(r,f),p=h.x-r.x;if(i!=0&&(Math.abs(p)<r.width/2||Math.abs(p)==r.width/2&&Math.abs(h.y-r.y)>r.height/2-s)){let g=s*s*(1-p*p/(i*i));g!=0&&(g=Math.sqrt(g)),g=s-g,f.y-r.y>0&&(g=-g),h.y+=g}return h},l}a(GNe,"cylinder");function bWt(e){e.shapes().question=PNe,e.shapes().hexagon=FNe,e.shapes().stadium=VNe,e.shapes().subroutine=jNe,e.shapes().cylinder=GNe,e.shapes().rect_left_inv_arrow=UNe,e.shapes().lean_right=YNe,e.shapes().lean_left=HNe,e.shapes().trapezoid=zNe,e.shapes().inv_trapezoid=QNe,e.shapes().rect_right_inv_arrow=WNe}a(bWt,"addToRender");function vWt(e){e({question:PNe}),e({hexagon:FNe}),e({stadium:VNe}),e({subroutine:jNe}),e({cylinder:GNe}),e({rect_left_inv_arrow:UNe}),e({lean_right:YNe}),e({lean_left:HNe}),e({trapezoid:zNe}),e({inv_trapezoid:QNe}),e({rect_right_inv_arrow:WNe})}a(vWt,"addToRenderV2");function vd(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-t/2+","+r/2+")")}a(vd,"insertPolygonShape");var _Wt={addToRender:bWt,addToRenderV2:vWt},KNe={},xWt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)KNe[t[r]]=e[t[r]]},"setConf$7"),$Ne=a(function(e,t,r,n,i,s){let o=n?n.select(`[id="${r}"]`):Zt(`[id="${r}"]`),u=i||document;Object.keys(e).forEach(function(f){let h=e[f],p="default";h.classes.length>0&&(p=h.classes.join(" "));let g=mp(h.styles),y=h.text!==void 0?h.text:h.id,E;if(ns(ft().flowchart.htmlLabels)){let P={label:y.replace(/fa[lrsb]?:fa-[\w-]+/g,Q=>`<i class='${Q.replace(":"," ")}'></i>`)};E=qNe(o,P).node(),E.parentNode.removeChild(E)}else{let P=u.createElementNS("http://www.w3.org/2000/svg","text");P.setAttribute("style",g.labelStyle.replace("color:","fill:"));let Q=y.split(Gr.lineBreakRegex);for(let V=0;V<Q.length;V++){let W=u.createElementNS("http://www.w3.org/2000/svg","tspan");W.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),W.setAttribute("dy","1em"),W.setAttribute("x","1"),W.textContent=Q[V],P.appendChild(W)}E=P}let M=0,z="";switch(h.type){case"round":M=5,z="rect";break;case"square":z="rect";break;case"diamond":z="question";break;case"hexagon":z="hexagon";break;case"odd":z="rect_left_inv_arrow";break;case"lean_right":z="lean_right";break;case"lean_left":z="lean_left";break;case"trapezoid":z="trapezoid";break;case"inv_trapezoid":z="inv_trapezoid";break;case"odd_right":z="rect_left_inv_arrow";break;case"circle":z="circle";break;case"ellipse":z="ellipse";break;case"stadium":z="stadium";break;case"subroutine":z="subroutine";break;case"cylinder":z="cylinder";break;case"group":z="rect";break;default:z="rect"}Pe.warn("Adding node",h.id,h.domId),t.setNode(s.db.lookUpDomId(h.id),{labelType:"svg",labelStyle:g.labelStyle,shape:z,label:E,rx:M,ry:M,class:p,style:g.style,id:s.db.lookUpDomId(h.id)})})},"addVertices$1"),XNe=a(function(e,t,r){let n=0,i,s;if(typeof e.defaultStyle<"u"){let o=mp(e.defaultStyle);i=o.style,s=o.labelStyle}e.forEach(function(o){n++;var u="L-"+o.start+"-"+o.end,l="LS-"+o.start,f="LE-"+o.end;let h={};o.type==="arrow_open"?h.arrowhead="none":h.arrowhead="normal";let p="",g="";if(typeof o.style<"u"){let y=mp(o.style);p=y.style,g=y.labelStyle}else switch(o.stroke){case"normal":p="fill:none",typeof i<"u"&&(p=i),typeof s<"u"&&(g=s);break;case"dotted":p="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":p=" stroke-width: 3.5px;fill:none";break}h.style=p,h.labelStyle=g,typeof o.interpolate<"u"?h.curve=yf(o.interpolate,no):typeof e.defaultInterpolate<"u"?h.curve=yf(e.defaultInterpolate,no):h.curve=yf(KNe.curve,no),typeof o.text>"u"?typeof o.style<"u"&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",ns(ft().flowchart.htmlLabels)?(h.labelType="html",h.label=`<span id="L-${u}" class="edgeLabel L-${l}' L-${f}" style="${h.labelStyle}">${o.text.replace(/fa[lrsb]?:fa-[\w-]+/g,y=>`<i class='${y.replace(":"," ")}'></i>`)}</span>`):(h.labelType="text",h.label=o.text.replace(Gr.lineBreakRegex,`
`),typeof o.style>"u"&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=u,h.class=l+" "+f,h.minlen=o.length||1,t.setEdge(r.db.lookUpDomId(o.start),r.db.lookUpDomId(o.end),h,n)})},"addEdges$1"),wWt=a(function(e,t){Pe.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},"getClasses$3"),AWt=a(function(e,t,r,n){Pe.info("Drawing flowchart"),n.db.clear();let{securityLevel:i,flowchart:s}=ft(),o;i==="sandbox"&&(o=Zt("#i"+t));let u=i==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;try{n.parser.parse(e)}catch{Pe.debug("Parsing failed")}let f=n.db.getDirection();typeof f>"u"&&(f="TD");let h=s.nodeSpacing||50,p=s.rankSpacing||50,g=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:f,nodesep:h,ranksep:p,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),y,E=n.db.getSubGraphs();for(let S=E.length-1;S>=0;S--)y=E[S],n.db.addVertex(y.id,y.title,"group",void 0,y.classes);let M=n.db.getVertices();Pe.warn("Get vertices",M);let z=n.db.getEdges(),P=0;for(P=E.length-1;P>=0;P--){y=E[P],Sb("cluster").append("text");for(let S=0;S<y.nodes.length;S++)Pe.warn("Setting subgraph",y.nodes[S],n.db.lookUpDomId(y.nodes[S]),n.db.lookUpDomId(y.id)),g.setParent(n.db.lookUpDomId(y.nodes[S]),n.db.lookUpDomId(y.id))}$Ne(M,g,t,u,l,n),XNe(z,g,n);let Q=Do.default.render,V=new Q;_Wt.addToRender(V),V.arrows().none=a(function(T,k,R,x){let m=T.append("marker").attr("id",k).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Do.default.util.applyStyle(m,R[x+"Style"])},"normal"),V.arrows().normal=a(function(T,k){T.append("marker").attr("id",k).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"normal");let W=u.select(`[id="${t}"]`);Oo(n.db,W,t);let F=u.select("#"+t+" g");for(V(F,g),F.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+P),P=0;P<E.length;P++)if(y=E[P],y.title!=="undefined"){let S=l.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(y.id)+'"] rect'),T=l.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(y.id)+'"]'),k=S[0].x.baseVal.value,R=S[0].y.baseVal.value,x=S[0].width.baseVal.value,m=Zt(T[0]).select(".label");m.attr("transform",`translate(${k+x/2}, ${R+14})`),m.attr("id",t+"Text");for(let v=0;v<y.classes.length;v++)T[0].classList.add(y.classes[v])}if(!s.htmlLabels){let S=l.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let T=0;T<S.length;T++){let k=S[T],R=k.getBBox(),x=l.createElementNS("http://www.w3.org/2000/svg","rect");x.setAttribute("rx",0),x.setAttribute("ry",0),x.setAttribute("width",R.width),x.setAttribute("height",R.height),k.insertBefore(x,k.firstChild)}}uB(g,W,s.diagramPadding,s.useMaxWidth),Object.keys(M).forEach(function(S){let T=M[S];if(T.link){let k=u.select("#"+t+' [id="'+n.db.lookUpDomId(S)+'"]');if(k){let R=l.createElementNS("http://www.w3.org/2000/svg","a");R.setAttributeNS("http://www.w3.org/2000/svg","class",T.classes.join(" ")),R.setAttributeNS("http://www.w3.org/2000/svg","href",T.link),R.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?R.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):T.linkTarget&&R.setAttributeNS("http://www.w3.org/2000/svg","target",T.linkTarget);let x=k.insert(function(){return R},":first-child"),N=k.select(".label-container");N&&x.append(function(){return N.node()});let m=k.select(".label");m&&x.append(function(){return m.node()})}}})},"draw$a"),AX={setConf:xWt,addVertices:$Ne,addEdges:XNe,getClasses:wWt,draw:AWt},JNe={},EWt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)JNe[t[r]]=e[t[r]]},"setConf$6"),ZNe=a(function(e,t,r,n,i,s){let o=n.select(`[id="${r}"]`);Object.keys(e).forEach(function(l){let f=e[l],h="default";f.classes.length>0&&(h=f.classes.join(" "));let p=mp(f.styles),g=f.text!==void 0?f.text:f.id,y;if(ns(ft().flowchart.htmlLabels)){let z={label:g.replace(/fa[lrsb]?:fa-[\w-]+/g,P=>`<i class='${P.replace(":"," ")}'></i>`)};y=qNe(o,z).node(),y.parentNode.removeChild(y)}else{let z=i.createElementNS("http://www.w3.org/2000/svg","text");z.setAttribute("style",p.labelStyle.replace("color:","fill:"));let P=g.split(Gr.lineBreakRegex);for(let Q=0;Q<P.length;Q++){let V=i.createElementNS("http://www.w3.org/2000/svg","tspan");V.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),V.setAttribute("dy","1em"),V.setAttribute("x","1"),V.textContent=P[Q],z.appendChild(V)}y=z}let E=0,M="";switch(f.type){case"round":E=5,M="rect";break;case"square":M="rect";break;case"diamond":M="question";break;case"hexagon":M="hexagon";break;case"odd":M="rect_left_inv_arrow";break;case"lean_right":M="lean_right";break;case"lean_left":M="lean_left";break;case"trapezoid":M="trapezoid";break;case"inv_trapezoid":M="inv_trapezoid";break;case"odd_right":M="rect_left_inv_arrow";break;case"circle":M="circle";break;case"ellipse":M="ellipse";break;case"stadium":M="stadium";break;case"subroutine":M="subroutine";break;case"cylinder":M="cylinder";break;case"group":M="rect";break;case"doublecircle":M="doublecircle";break;default:M="rect"}t.setNode(f.id,{labelStyle:p.labelStyle,shape:M,labelText:g,rx:E,ry:E,class:h,style:p.style,id:f.id,link:f.link,linkTarget:f.linkTarget,tooltip:s.db.getTooltip(f.id)||"",domId:s.db.lookUpDomId(f.id),haveCallback:f.haveCallback,width:f.type==="group"?500:void 0,dir:f.dir,type:f.type,props:f.props,padding:ft().flowchart.padding}),Pe.info("setNode",{labelStyle:p.labelStyle,shape:M,labelText:g,rx:E,ry:E,class:h,style:p.style,id:f.id,domId:s.db.lookUpDomId(f.id),width:f.type==="group"?500:void 0,type:f.type,dir:f.dir,props:f.props,padding:ft().flowchart.padding})})},"addVertices"),eOe=a(function(e,t,r){Pe.info("abc78 edges = ",e);let n=0,i={},s,o;if(typeof e.defaultStyle<"u"){let u=mp(e.defaultStyle);s=u.style,o=u.labelStyle}e.forEach(function(u){n++;var l="L-"+u.start+"-"+u.end;typeof i[l]>"u"?(i[l]=0,Pe.info("abc78 new entry",l,i[l])):(i[l]++,Pe.info("abc78 new entry",l,i[l]));let f=l+"-"+i[l];Pe.info("abc78 new link id to be used is",l,f,i[l]);var h="LS-"+u.start,p="LE-"+u.end;let g={style:"",labelStyle:""};switch(g.minlen=u.length||1,u.type==="arrow_open"?g.arrowhead="none":g.arrowhead="normal",g.arrowTypeStart="arrow_open",g.arrowTypeEnd="arrow_open",u.type){case"double_arrow_cross":g.arrowTypeStart="arrow_cross";case"arrow_cross":g.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":g.arrowTypeStart="arrow_point";case"arrow_point":g.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":g.arrowTypeStart="arrow_circle";case"arrow_circle":g.arrowTypeEnd="arrow_circle";break}let y="",E="";switch(u.stroke){case"normal":y="fill:none;",typeof s<"u"&&(y=s),typeof o<"u"&&(E=o),g.thickness="normal",g.pattern="solid";break;case"dotted":g.thickness="normal",g.pattern="dotted",g.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":g.thickness="thick",g.pattern="solid",g.style="stroke-width: 3.5px;fill:none;";break;case"invisible":g.thickness="invisible",g.pattern="solid",g.style="stroke-width: 0;fill:none;";break}if(typeof u.style<"u"){let M=mp(u.style);y=M.style,E=M.labelStyle}g.style=g.style+=y,g.labelStyle=g.labelStyle+=E,typeof u.interpolate<"u"?g.curve=yf(u.interpolate,no):typeof e.defaultInterpolate<"u"?g.curve=yf(e.defaultInterpolate,no):g.curve=yf(JNe.curve,no),typeof u.text>"u"?typeof u.style<"u"&&(g.arrowheadStyle="fill: #333"):(g.arrowheadStyle="fill: #333",g.labelpos="c"),g.labelType="text",g.label=u.text.replace(Gr.lineBreakRegex,`
`),typeof u.style>"u"&&(g.style=g.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),g.labelStyle=g.labelStyle.replace("color:","fill:"),g.id=f,g.classes="flowchart-link "+h+" "+p,t.setEdge(u.start,u.end,g,n)})},"addEdges"),SWt=a(function(e,t){Pe.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},"getClasses$2"),kWt=a(function(e,t,r,n){Pe.info("Drawing flowchart"),n.db.clear(),dd.setGen("gen-2"),n.parser.parse(e);let i=n.db.getDirection();typeof i>"u"&&(i="TD");let{securityLevel:s,flowchart:o}=ft(),u=o.nodeSpacing||50,l=o.rankSpacing||50,f;s==="sandbox"&&(f=Zt("#i"+t));let h=s==="sandbox"?Zt(f.nodes()[0].contentDocument.body):Zt("body"),p=s==="sandbox"?f.nodes()[0].contentDocument:document,g=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:u,ranksep:l,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}}),y,E=n.db.getSubGraphs();Pe.info("Subgraphs - ",E);for(let F=E.length-1;F>=0;F--)y=E[F],Pe.info("Subgraph - ",y),n.db.addVertex(y.id,y.title,"group",void 0,y.classes,y.dir);let M=n.db.getVertices(),z=n.db.getEdges();Pe.info(z);let P=0;for(P=E.length-1;P>=0;P--){y=E[P],Sb("cluster").append("text");for(let F=0;F<y.nodes.length;F++)Pe.info("Setting up subgraphs",y.nodes[F],y.id),g.setParent(y.nodes[F],y.id)}ZNe(M,g,t,h,p,n),eOe(z,g);let Q=h.select(`[id="${t}"]`);Oo(n.db,Q,t);let V=h.select("#"+t+" g");if(pX(V,g,["point","circle","cross"],"flowchart",t),uB(g,Q,o.diagramPadding,o.useMaxWidth),n.db.indexNodes("subGraph"+P),!o.htmlLabels){let F=p.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let B=0;B<F.length;B++){let S=F[B],T=S.getBBox(),k=p.createElementNS("http://www.w3.org/2000/svg","rect");k.setAttribute("rx",0),k.setAttribute("ry",0),k.setAttribute("width",T.width),k.setAttribute("height",T.height),S.insertBefore(k,S.firstChild)}}Object.keys(M).forEach(function(F){let B=M[F];if(B.link){let S=Zt("#"+t+' [id="'+F+'"]');if(S){let T=p.createElementNS("http://www.w3.org/2000/svg","a");T.setAttributeNS("http://www.w3.org/2000/svg","class",B.classes.join(" ")),T.setAttributeNS("http://www.w3.org/2000/svg","href",B.link),T.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?T.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):B.linkTarget&&T.setAttributeNS("http://www.w3.org/2000/svg","target",B.linkTarget);let k=S.insert(function(){return T},":first-child"),R=S.select(".label-container");R&&k.append(function(){return R.node()});let x=S.select(".label");x&&k.append(function(){return x.node()})}}})},"draw$9"),m$={setConf:EWt,addVertices:ZNe,addEdges:eOe,getClasses:SWt,draw:kWt},R$=function(){var e=a(function(S,T,k,R){for(k=k||{},R=S.length;R--;k[S[R]]=T);return k},"o"),t=[1,3],r=[1,5],n=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],s=[1,16],o=[1,17],u=[1,18],l=[1,19],f=[1,20],h=[1,21],p=[1,22],g=[1,23],y=[1,24],E=[1,25],M=[1,26],z=[1,28],P=[1,30],Q=[1,33],V=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],W={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:a(function(T,k,R,x,N,m,v){var A=m.length-1;switch(N){case 2:return m[A-1];case 3:this.$=[];break;case 4:m[A-1].push(m[A]),this.$=m[A-1];break;case 5:case 6:this.$=m[A];break;case 7:case 8:this.$=[];break;case 9:x.setDateFormat(m[A].substr(11)),this.$=m[A].substr(11);break;case 10:x.enableInclusiveEndDates(),this.$=m[A].substr(18);break;case 11:x.TopAxis(),this.$=m[A].substr(8);break;case 12:x.setAxisFormat(m[A].substr(11)),this.$=m[A].substr(11);break;case 13:x.setExcludes(m[A].substr(9)),this.$=m[A].substr(9);break;case 14:x.setIncludes(m[A].substr(9)),this.$=m[A].substr(9);break;case 15:x.setTodayMarker(m[A].substr(12)),this.$=m[A].substr(12);break;case 16:x.setDiagramTitle(m[A].substr(6)),this.$=m[A].substr(6);break;case 17:this.$=m[A].trim(),x.setAccTitle(this.$);break;case 18:case 19:this.$=m[A].trim(),x.setAccDescription(this.$);break;case 20:x.addSection(m[A].substr(8)),this.$=m[A].substr(8);break;case 22:x.addTask(m[A-1],m[A]),this.$="task";break;case 26:this.$=m[A-1],x.setClickEvent(m[A-1],m[A],null);break;case 27:this.$=m[A-2],x.setClickEvent(m[A-2],m[A-1],m[A]);break;case 28:this.$=m[A-2],x.setClickEvent(m[A-2],m[A-1],null),x.setLink(m[A-2],m[A]);break;case 29:this.$=m[A-3],x.setClickEvent(m[A-3],m[A-2],m[A-1]),x.setLink(m[A-3],m[A]);break;case 30:this.$=m[A-2],x.setClickEvent(m[A-2],m[A],null),x.setLink(m[A-2],m[A-1]);break;case 31:this.$=m[A-3],x.setClickEvent(m[A-3],m[A-1],m[A]),x.setLink(m[A-3],m[A-2]);break;case 32:this.$=m[A-1],x.setLink(m[A-1],m[A]);break;case 33:case 39:this.$=m[A-1]+" "+m[A];break;case 34:case 35:case 37:this.$=m[A-2]+" "+m[A-1]+" "+m[A];break;case 36:case 38:this.$=m[A-3]+" "+m[A-2]+" "+m[A-1]+" "+m[A];break;case 40:x.parseDirective("%%{","open_directive");break;case 41:x.parseDirective(m[A],"type_directive");break;case 42:m[A]=m[A].trim().replace(/'/g,'"'),x.parseDirective(m[A],"arg_directive");break;case 43:x.parseDirective("}%%","close_directive","gantt");break}},"anonymous"),table:[{3:1,4:2,5:t,29:4,39:r},{1:[3]},{3:6,4:2,5:t,29:4,39:r},e(n,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:s,14:o,15:u,16:l,17:f,18:h,19:p,20:g,22:y,24:E,25:M,26:27,27:z,29:4,34:P,39:r},{31:31,32:[1,32],42:Q},e([32,42],[2,41]),e(n,[2,8],{1:[2,2]}),e(n,[2,4]),{4:29,10:34,12:i,13:s,14:o,15:u,16:l,17:f,18:h,19:p,20:g,22:y,24:E,25:M,26:27,27:z,29:4,34:P,39:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,9]),e(n,[2,10]),e(n,[2,11]),e(n,[2,12]),e(n,[2,13]),e(n,[2,14]),e(n,[2,15]),e(n,[2,16]),{21:[1,35]},{23:[1,36]},e(n,[2,19]),e(n,[2,20]),e(n,[2,21]),{28:[1,37]},e(n,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},e(n,[2,5]),e(n,[2,17]),e(n,[2,18]),e(n,[2,22]),e(n,[2,26],{36:[1,43],37:[1,44]}),e(n,[2,32],{35:[1,45]}),e(V,[2,24]),{31:46,42:Q},{42:[2,42]},e(n,[2,27],{37:[1,47]}),e(n,[2,28]),e(n,[2,30],{36:[1,48]}),{11:[1,49]},e(n,[2,29]),e(n,[2,31]),e(V,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:a(function(T,k){if(k.recoverable)this.trace(T);else{var R=new Error(T);throw R.hash=k,R}},"parseError"),parse:a(function(T){var k=this,R=[0],x=[],N=[null],m=[],v=this.table,A="",U=0,G=0,K=2,Z=1,O=m.slice.call(arguments,1),$=Object.create(this.lexer),L={yy:{}};for(var ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ee)&&(L.yy[ee]=this.yy[ee]);$.setInput(T,L.yy),L.yy.lexer=$,L.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var ve=$.yylloc;m.push(ve);var ye=$.options&&$.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function se(){var De;return De=x.pop()||$.lex()||Z,typeof De!="number"&&(De instanceof Array&&(x=De,De=x.pop()),De=k.symbols_[De]||De),De}a(se,"lex");for(var be,Y,D,J,q={},I,H,te,ie;;){if(Y=R[R.length-1],this.defaultActions[Y]?D=this.defaultActions[Y]:((be===null||typeof be>"u")&&(be=se()),D=v[Y]&&v[Y][be]),typeof D>"u"||!D.length||!D[0]){var he="";ie=[];for(I in v[Y])this.terminals_[I]&&I>K&&ie.push("'"+this.terminals_[I]+"'");$.showPosition?he="Parse error on line "+(U+1)+`:
`+$.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[be]||be)+"'":he="Parse error on line "+(U+1)+": Unexpected "+(be==Z?"end of input":"'"+(this.terminals_[be]||be)+"'"),this.parseError(he,{text:$.match,token:this.terminals_[be]||be,line:$.yylineno,loc:ve,expected:ie})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+be);switch(D[0]){case 1:R.push(be),N.push($.yytext),m.push($.yylloc),R.push(D[1]),be=null,G=$.yyleng,A=$.yytext,U=$.yylineno,ve=$.yylloc;break;case 2:if(H=this.productions_[D[1]][1],q.$=N[N.length-H],q._$={first_line:m[m.length-(H||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(H||1)].first_column,last_column:m[m.length-1].last_column},ye&&(q._$.range=[m[m.length-(H||1)].range[0],m[m.length-1].range[1]]),J=this.performAction.apply(q,[A,G,U,L.yy,D[1],N,m].concat(O)),typeof J<"u")return J;H&&(R=R.slice(0,-1*H*2),N=N.slice(0,-1*H),m=m.slice(0,-1*H)),R.push(this.productions_[D[1]][0]),N.push(q.$),m.push(q._$),te=v[R[R.length-2]][R[R.length-1]],R.push(te);break;case 3:return!0}}return!0},"parse2")},F=function(){var S={EOF:1,parseError:a(function(k,R){if(this.yy.parser)this.yy.parser.parseError(k,R);else throw new Error(k)},"parseError"),setInput:function(T,k){return this.yy=k||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var k=T.match(/(?:\r\n?|\n).*/g);return k?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},unput:function(T){var k=T.length,R=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===x.length?this.yylloc.first_column:0)+x[x.length-R.length].length-R[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(T){this.unput(this.match.slice(T))},pastInput:function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var T=this.pastInput(),k=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+k+"^"},test_match:function(T,k){var R,x,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),x=T[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],R=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var m in N)this[m]=N[m];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,k,R,x;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),m=0;m<N.length;m++)if(R=this._input.match(this.rules[N[m]]),R&&(!k||R[0].length>k[0].length)){if(k=R,x=m,this.options.backtrack_lexer){if(T=this.test_match(R,N[m]),T!==!1)return T;if(this._backtrack){k=!1;continue}else return!1}else if(!this.options.flex)break}return k?(T=this.test_match(k,N[x]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var k=this.next();return k||this.lex()},"lex"),begin:a(function(k){this.conditionStack.push(k)},"begin"),popState:a(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:a(function(k){this.begin(k)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(k,R,x,N){switch(x){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 37;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 26:this.popState();break;case 27:return 36;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};return S}();W.lexer=F;function B(){this.yy={}}return a(B,"Parser"),B.prototype=W,W.Parser=B,new B}();R$.parser=R$;var CWt=a(e=>e.match(/^\s*gantt/)!==null,"ganttDetector"),gf="",EX="",SX="",f6=[],h6=[],kX={},CX=[],QM=[],Sv="",tOe=["active","done","crit","milestone"],WM=[],d6=!1,IX=!1,L$=0,IWt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$6"),TWt=a(function(){CX=[],QM=[],Sv="",WM=[],xM=0,N$=void 0,wM=void 0,wa=[],gf="",EX="",SX="",f6=[],h6=[],d6=!1,IX=!1,L$=0,kX={},tl()},"clear$5"),MWt=a(function(e){EX=e},"setAxisFormat"),BWt=a(function(){return EX},"getAxisFormat"),RWt=a(function(e){SX=e},"setTodayMarker"),LWt=a(function(){return SX},"getTodayMarker"),DWt=a(function(e){gf=e},"setDateFormat"),NWt=a(function(){d6=!0},"enableInclusiveEndDates"),OWt=a(function(){return d6},"endDatesAreInclusive"),qWt=a(function(){IX=!0},"enableTopAxis"),PWt=a(function(){return IX},"topAxisEnabled"),FWt=a(function(){return gf},"getDateFormat"),UWt=a(function(e){f6=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),YWt=a(function(){return f6},"getIncludes"),HWt=a(function(e){h6=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),zWt=a(function(){return h6},"getExcludes"),QWt=a(function(){return kX},"getLinks"),WWt=a(function(e){Sv=e,CX.push(e)},"addSection$2"),VWt=a(function(){return CX},"getSections$2"),jWt=a(function(){let e=aDe(),t=10,r=0;for(;!e&&r<t;)e=aDe(),r++;return QM=wa,QM},"getTasks$1"),rOe=a(function(e,t,r,n){return n.indexOf(e.format(t.trim()))>=0?!1:e.isoWeekday()>=6&&r.indexOf("weekends")>=0||r.indexOf(e.format("dddd").toLowerCase())>=0?!0:r.indexOf(e.format(t.trim()))>=0},"isInvalidDate"),nOe=a(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i=(0,ou.default)(e.startTime,t,!0);i.add(1,"d");let s=(0,ou.default)(e.endTime,t,!0),o=GWt(i,s,t,r,n);e.endTime=s.toDate(),e.renderEndTime=o},"checkTaskDates"),GWt=a(function(e,t,r,n,i){let s=!1,o=null;for(;e<=t;)s||(o=t.toDate()),s=rOe(e,r,n,i),s&&t.add(1,"d"),e.add(1,"d");return o},"fixTaskDates"),D$=a(function(e,t,r){r=r.trim();let i=/^after\s+([\d\w- ]+)/.exec(r.trim());if(i!==null){let o=null;if(i[1].split(" ").forEach(function(u){let l=Ov(u);typeof l<"u"&&(o?l.endTime>o.endTime&&(o=l):o=l)}),o)return o.endTime;{let u=new Date;return u.setHours(0,0,0,0),u}}let s=(0,ou.default)(r,t.trim(),!0);if(s.isValid())return s.toDate();{Pe.debug("Invalid date:"+r),Pe.debug("With date format:"+t.trim());let o=new Date(r);if(typeof o>"u"||isNaN(o.getTime()))throw new Error("Invalid date:"+r);return o}},"getStartDate"),iOe=a(function(e){let t=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(e.trim());return t!==null?ou.default.duration(Number.parseFloat(t[1]),t[2]):ou.default.duration.invalid()},"parseDuration"),aOe=a(function(e,t,r,n){n=n||!1,r=r.trim();let i=(0,ou.default)(r,t.trim(),!0);if(i.isValid())return n&&i.add(1,"d"),i.toDate();let s=(0,ou.default)(e),o=iOe(r);return o.isValid()&&s.add(o),s.toDate()},"getEndDate"),xM=0,vv=a(function(e){return typeof e>"u"?(xM=xM+1,"task"+xM):e},"parseId"),KWt=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};uOe(n,i,tOe);for(let o=0;o<n.length;o++)n[o]=n[o].trim();let s="";switch(n.length){case 1:i.id=vv(),i.startTime=e.endTime,s=n[0];break;case 2:i.id=vv(),i.startTime=D$(void 0,gf,n[0]),s=n[1];break;case 3:i.id=vv(n[0]),i.startTime=D$(void 0,gf,n[1]),s=n[2];break}return s&&(i.endTime=aOe(i.startTime,gf,s,d6),i.manualEndTime=(0,ou.default)(s,"YYYY-MM-DD",!0).isValid(),nOe(i,gf,h6,f6)),i},"compileData"),$Wt=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};uOe(n,i,tOe);for(let s=0;s<n.length;s++)n[s]=n[s].trim();switch(n.length){case 1:i.id=vv(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=vv(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=vv(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),N$,wM,wa=[],sOe={},XWt=a(function(e,t){let r={section:Sv,type:Sv,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=$Wt(wM,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=wM,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=L$,L$++;let i=wa.push(r);wM=r.id,sOe[r.id]=i-1},"addTask$1"),Ov=a(function(e){let t=sOe[e];return wa[t]},"findTaskById"),JWt=a(function(e,t){let r={section:Sv,type:Sv,description:e,task:e,classes:[]},n=KWt(N$,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,N$=r,QM.push(r)},"addTaskOrg$1"),aDe=a(function(){let e=a(function(r){let n=wa[r],i="";switch(wa[r].raw.startTime.type){case"prevTaskEnd":{let s=Ov(n.prevTaskId);n.startTime=s.endTime;break}case"getStartDate":i=D$(void 0,gf,wa[r].raw.startTime.startData),i&&(wa[r].startTime=i);break}return wa[r].startTime&&(wa[r].endTime=aOe(wa[r].startTime,gf,wa[r].raw.endTime.data,d6),wa[r].endTime&&(wa[r].processed=!0,wa[r].manualEndTime=(0,ou.default)(wa[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),nOe(wa[r],gf,h6,f6))),wa[r].processed},"compileTask"),t=!0;for(let r=0;r<wa.length;r++)e(r),t=t&&wa[r].processed;return t},"compileTasks$1"),ZWt=a(function(e,t){let r=t;ft().securityLevel!=="loose"&&(r=(0,_f.sanitizeUrl)(t)),e.split(",").forEach(function(n){typeof Ov(n)<"u"&&(cOe(n,()=>{window.open(r,"_self")}),kX[n]=r)}),oOe(e,"clickable")},"setLink"),oOe=a(function(e,t){e.split(",").forEach(function(r){let n=Ov(r);typeof n<"u"&&n.classes.push(t)})},"setClass"),eVt=a(function(e,t,r){if(ft().securityLevel!=="loose"||typeof t>"u")return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<n.length;s++){let o=n[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),n[s]=o}}n.length===0&&n.push(e),typeof Ov(e)<"u"&&cOe(e,()=>{un.runFunc(t,...n)})},"setClickFun"),cOe=a(function(e,t){WM.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})}),WM.push(function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),tVt=a(function(e,t,r){e.split(",").forEach(function(n){eVt(n,t,r)}),oOe(e,"clickable")},"setClickEvent"),rVt=a(function(e){WM.forEach(function(t){t(e)})},"bindFunctions"),TX={parseDirective:IWt,getConfig:()=>ft().gantt,clear:TWt,setDateFormat:DWt,getDateFormat:FWt,enableInclusiveEndDates:NWt,endDatesAreInclusive:OWt,enableTopAxis:qWt,topAxisEnabled:PWt,setAxisFormat:MWt,getAxisFormat:BWt,setTodayMarker:RWt,getTodayMarker:LWt,setAccTitle:cu,getAccTitle:rl,setDiagramTitle:fB,getDiagramTitle:hB,setAccDescription:nl,getAccDescription:il,addSection:WWt,getSections:VWt,getTasks:jWt,addTask:XWt,findTaskById:Ov,addTaskOrg:JWt,setIncludes:UWt,getIncludes:YWt,setExcludes:HWt,getExcludes:zWt,setClickEvent:tVt,setLink:ZWt,getLinks:QWt,bindFunctions:rVt,parseDuration:iOe,isInvalidDate:rOe};function uOe(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let s="^\\s*"+i+"\\s*$",o=new RegExp(s);e[0].match(o)&&(t[i]=!0,e.shift(1),n=!0)})}a(uOe,"getTaskTags");var nVt=a(function(){Pe.debug("Something is calling, setConf, remove the call")},"setConf$5"),cd,iVt=a(function(e,t,r,n){let i=ft().gantt,s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let u=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),l=s==="sandbox"?o.nodes()[0].contentDocument:document,f=l.getElementById(t);cd=f.parentElement.offsetWidth,typeof cd>"u"&&(cd=1200),typeof i.useWidth<"u"&&(cd=i.useWidth);let h=n.db.getTasks(),p=h.length*(i.barHeight+i.barGap)+2*i.topPadding;f.setAttribute("viewBox","0 0 "+cd+" "+p);let g=u.select(`[id="${t}"]`),y=E9().domain([mC(h,function(R){return R.startTime}),yC(h,function(R){return R.endTime})]).rangeRound([0,cd-i.leftPadding-i.rightPadding]),E=[];for(let R=0;R<h.length;R++)E.push(h[R].type);let M=E;E=S(E);function z(R,x){let N=R.startTime,m=x.startTime,v=0;return N>m?v=1:N<m&&(v=-1),v}a(z,"taskCompare"),h.sort(z),P(h,cd,p),el(g,p,cd,i.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",cd/2).attr("y",i.titleTopMargin).attr("class","titleText"),Oo(n.db,g,t);function P(R,x,N){let m=i.barHeight,v=m+i.barGap,A=i.topPadding,U=i.leftPadding,G=s4().domain([0,E.length]).range(["#00B9FA","#F95002"]).interpolate(Pz);V(v,A,U,x,N,R,n.db.getExcludes(),n.db.getIncludes()),W(U,A,x,N),Q(R,v,A,U,m,G,x),F(v,A),B(U,A,x,N)}a(P,"makeGant");function Q(R,x,N,m,v,A,U){g.append("g").selectAll("rect").data(R).enter().append("rect").attr("x",0).attr("y",function(O,$){return $=O.order,$*x+N-2}).attr("width",function(){return U-i.rightPadding/2}).attr("height",x).attr("class",function(O){for(let $=0;$<E.length;$++)if(O.type===E[$])return"section section"+$%i.numberSectionStyles;return"section section0"});let G=g.append("g").selectAll("rect").data(R).enter(),K=n.db.getLinks();if(G.append("rect").attr("id",function(O){return O.id}).attr("rx",3).attr("ry",3).attr("x",function(O){return O.milestone?y(O.startTime)+m+.5*(y(O.endTime)-y(O.startTime))-.5*v:y(O.startTime)+m}).attr("y",function(O,$){return $=O.order,$*x+N}).attr("width",function(O){return O.milestone?v:y(O.renderEndTime||O.endTime)-y(O.startTime)}).attr("height",v).attr("transform-origin",function(O,$){return $=O.order,(y(O.startTime)+m+.5*(y(O.endTime)-y(O.startTime))).toString()+"px "+($*x+N+.5*v).toString()+"px"}).attr("class",function(O){let $="task",L="";O.classes.length>0&&(L=O.classes.join(" "));let ee=0;for(let ye=0;ye<E.length;ye++)O.type===E[ye]&&(ee=ye%i.numberSectionStyles);let ve="";return O.active?O.crit?ve+=" activeCrit":ve=" active":O.done?O.crit?ve=" doneCrit":ve=" done":O.crit&&(ve+=" crit"),ve.length===0&&(ve=" task"),O.milestone&&(ve=" milestone "+ve),ve+=ee,ve+=" "+L,$+ve}),G.append("text").attr("id",function(O){return O.id+"-text"}).text(function(O){return O.task}).attr("font-size",i.fontSize).attr("x",function(O){let $=y(O.startTime),L=y(O.renderEndTime||O.endTime);O.milestone&&($+=.5*(y(O.endTime)-y(O.startTime))-.5*v),O.milestone&&(L=$+v);let ee=this.getBBox().width;return ee>L-$?L+ee+1.5*i.leftPadding>U?$+m-5:L+m+5:(L-$)/2+$+m}).attr("y",function(O,$){return $=O.order,$*x+i.barHeight/2+(i.fontSize/2-2)+N}).attr("text-height",v).attr("class",function(O){let $=y(O.startTime),L=y(O.endTime);O.milestone&&(L=$+v);let ee=this.getBBox().width,ve="";O.classes.length>0&&(ve=O.classes.join(" "));let ye=0;for(let be=0;be<E.length;be++)O.type===E[be]&&(ye=be%i.numberSectionStyles);let se="";return O.active&&(O.crit?se="activeCritText"+ye:se="activeText"+ye),O.done?O.crit?se=se+" doneCritText"+ye:se=se+" doneText"+ye:O.crit&&(se=se+" critText"+ye),O.milestone&&(se+=" milestoneText"),ee>L-$?L+ee+1.5*i.leftPadding>U?ve+" taskTextOutsideLeft taskTextOutside"+ye+" "+se:ve+" taskTextOutsideRight taskTextOutside"+ye+" "+se+" width-"+ee:ve+" taskText taskText"+ye+" "+se+" width-"+ee}),ft().securityLevel==="sandbox"){let O;O=Zt("#i"+t);let $=O.nodes()[0].contentDocument;G.filter(function(L){return typeof K[L.id]<"u"}).each(function(L){var ee=$.querySelector("#"+L.id),ve=$.querySelector("#"+L.id+"-text");let ye=ee.parentNode;var se=$.createElement("a");se.setAttribute("xlink:href",K[L.id]),se.setAttribute("target","_top"),ye.appendChild(se),se.appendChild(ee),se.appendChild(ve)})}}a(Q,"drawRects");function V(R,x,N,m,v,A,U,G){let K=A.reduce((ye,{startTime:se})=>ye?Math.min(ye,se):se,0),Z=A.reduce((ye,{endTime:se})=>ye?Math.max(ye,se):se,0),O=n.db.getDateFormat();if(!K||!Z)return;let $=[],L=null,ee=(0,ou.default)(K);for(;ee.valueOf()<=Z;)n.db.isInvalidDate(ee,O,U,G)?L?L.end=ee.clone():L={start:ee.clone(),end:ee.clone()}:L&&($.push(L),L=null),ee.add(1,"d");g.append("g").selectAll("rect").data($).enter().append("rect").attr("id",function(ye){return"exclude-"+ye.start.format("YYYY-MM-DD")}).attr("x",function(ye){return y(ye.start)+N}).attr("y",i.gridLineStartPadding).attr("width",function(ye){let se=ye.end.clone().add(1,"day");return y(se)-y(ye.start)}).attr("height",v-x-i.gridLineStartPadding).attr("transform-origin",function(ye,se){return(y(ye.start)+N+.5*(y(ye.end)-y(ye.start))).toString()+"px "+(se*R+.5*v).toString()+"px"}).attr("class","exclude-range")}a(V,"drawExcludeDays");function W(R,x,N,m){let v=_Y(y).tickSize(-m+x+i.gridLineStartPadding).tickFormat(x4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(g.append("g").attr("class","grid").attr("transform","translate("+R+", "+(m-50)+")").call(v).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let A=vY(y).tickSize(-m+x+i.gridLineStartPadding).tickFormat(x4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));g.append("g").attr("class","grid").attr("transform","translate("+R+", "+x+")").call(A).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}a(W,"makeGrid");function F(R,x){let N=[],m=0;for(let v=0;v<E.length;v++)N[v]=[E[v],k(E[v],M)];g.append("g").selectAll("text").data(N).enter().append(function(v){let A=v[0].split(Gr.lineBreakRegex),U=-(A.length-1)/2,G=l.createElementNS("http://www.w3.org/2000/svg","text");G.setAttribute("dy",U+"em");for(let K=0;K<A.length;K++){let Z=l.createElementNS("http://www.w3.org/2000/svg","tspan");Z.setAttribute("alignment-baseline","central"),Z.setAttribute("x","10"),K>0&&Z.setAttribute("dy","1em"),Z.textContent=A[K],G.appendChild(Z)}return G}).attr("x",10).attr("y",function(v,A){if(A>0)for(let U=0;U<A;U++)return m+=N[A-1][1],v[1]*R/2+m*R+x;else return v[1]*R/2+x}).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",function(v){for(let A=0;A<E.length;A++)if(v[0]===E[A])return"sectionTitle sectionTitle"+A%i.numberSectionStyles;return"sectionTitle"})}a(F,"vertLabels");function B(R,x,N,m){let v=n.db.getTodayMarker();if(v==="off")return;let A=g.append("g").attr("class","today"),U=new Date,G=A.append("line");G.attr("x1",y(U)+R).attr("x2",y(U)+R).attr("y1",i.titleTopMargin).attr("y2",m-i.titleTopMargin).attr("class","today"),v!==""&&G.attr("style",v.replace(/,/g,";"))}a(B,"drawToday");function S(R){let x={},N=[];for(let m=0,v=R.length;m<v;++m)Object.prototype.hasOwnProperty.call(x,R[m])||(x[R[m]]=!0,N.push(R[m]));return N}a(S,"checkUnique");function T(R){let x=R.length,N={};for(;x;)N[R[--x]]=(N[R[x]]||0)+1;return N}a(T,"getCounts");function k(R,x){return T(x)[R]||0}a(k,"getCount")},"draw$8"),aVt={setConf:nVt,draw:iVt},O$=function(){var e=a(function(s,o,u,l){for(u=u||{},l=s.length;l--;u[s[l]]=o);return u},"o"),t=[6,9,10],r={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:a(function(o,u,l,f,h,p,g){switch(p.length-1,h){case 1:return f;case 4:break;case 6:f.setInfo(!0);break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:a(function(o,u){if(u.recoverable)this.trace(o);else{var l=new Error(o);throw l.hash=u,l}},"parseError"),parse:a(function(o){var u=this,l=[0],f=[],h=[null],p=[],g=this.table,y="",E=0,M=0,z=2,P=1,Q=p.slice.call(arguments,1),V=Object.create(this.lexer),W={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&(W.yy[F]=this.yy[F]);V.setInput(o,W.yy),W.yy.lexer=V,W.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var B=V.yylloc;p.push(B);var S=V.options&&V.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function T(){var Z;return Z=f.pop()||V.lex()||P,typeof Z!="number"&&(Z instanceof Array&&(f=Z,Z=f.pop()),Z=u.symbols_[Z]||Z),Z}a(T,"lex");for(var k,R,x,N,m={},v,A,U,G;;){if(R=l[l.length-1],this.defaultActions[R]?x=this.defaultActions[R]:((k===null||typeof k>"u")&&(k=T()),x=g[R]&&g[R][k]),typeof x>"u"||!x.length||!x[0]){var K="";G=[];for(v in g[R])this.terminals_[v]&&v>z&&G.push("'"+this.terminals_[v]+"'");V.showPosition?K="Parse error on line "+(E+1)+`:
`+V.showPosition()+`
Expecting `+G.join(", ")+", got '"+(this.terminals_[k]||k)+"'":K="Parse error on line "+(E+1)+": Unexpected "+(k==P?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(K,{text:V.match,token:this.terminals_[k]||k,line:V.yylineno,loc:B,expected:G})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+R+", token: "+k);switch(x[0]){case 1:l.push(k),h.push(V.yytext),p.push(V.yylloc),l.push(x[1]),k=null,M=V.yyleng,y=V.yytext,E=V.yylineno,B=V.yylloc;break;case 2:if(A=this.productions_[x[1]][1],m.$=h[h.length-A],m._$={first_line:p[p.length-(A||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(A||1)].first_column,last_column:p[p.length-1].last_column},S&&(m._$.range=[p[p.length-(A||1)].range[0],p[p.length-1].range[1]]),N=this.performAction.apply(m,[y,M,E,W.yy,x[1],h,p].concat(Q)),typeof N<"u")return N;A&&(l=l.slice(0,-1*A*2),h=h.slice(0,-1*A),p=p.slice(0,-1*A)),l.push(this.productions_[x[1]][0]),h.push(m.$),p.push(m._$),U=g[l[l.length-2]][l[l.length-1]],l.push(U);break;case 3:return!0}}return!0},"parse2")},n=function(){var s={EOF:1,parseError:a(function(u,l){if(this.yy.parser)this.yy.parser.parseError(u,l);else throw new Error(u)},"parseError"),setInput:function(o,u){return this.yy=u||this.yy||{},this._input=o,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.offset++,this.match+=o,this.matched+=o;var u=o.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),o},unput:function(o){var u=o.length,l=o.split(/(?:\r\n?|\n)/g);this._input=o+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===f.length?this.yylloc.first_column:0)+f[f.length-l.length].length-l[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(o){this.unput(this.match.slice(o))},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),u=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+u+"^"},test_match:function(o,u){var l,f,h;if(this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0))),f=o[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],l=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l)return l;if(this._backtrack){for(var p in h)this[p]=h[p];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,u,l,f;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),p=0;p<h.length;p++)if(l=this._input.match(this.rules[h[p]]),l&&(!u||l[0].length>u[0].length)){if(u=l,f=p,this.options.backtrack_lexer){if(o=this.test_match(l,h[p]),o!==!1)return o;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(o=this.test_match(u,h[f]),o!==!1?o:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var u=this.next();return u||this.lex()},"lex"),begin:a(function(u){this.conditionStack.push(u)},"begin"),popState:a(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:a(function(u){this.begin(u)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(u,l,f,h){switch(f){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},"anonymous"),rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return s}();r.lexer=n;function i(){this.yy={}}return a(i,"Parser"),i.prototype=r,r.Parser=i,new i}();O$.parser=O$;var lOe="",fOe=!1,sVt=a(e=>{Pe.debug("Setting message to: "+e),lOe=e},"setMessage"),oVt=a(()=>lOe,"getMessage"),cVt=a(e=>{fOe=e},"setInfo"),uVt=a(()=>fOe,"getInfo"),lVt={setMessage:sVt,getMessage:oVt,setInfo:cVt,getInfo:uVt,clear:tl},fVt=a((e,t,r,n)=>{try{Pe.debug(`Rendering info diagram
`+e);let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let u=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select("#"+t);u.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+r),u.attr("height",100),u.attr("width",400)}catch(i){Pe.error("Error while rendering info diagram"),Pe.error(i.message)}},"draw$7"),hVt={draw:fVt},dVt=a(e=>e.match(/^\s*info/)!==null,"infoDetector"),q$=function(){var e=a(function(B,S,T,k){for(T=T||{},k=B.length;k--;T[B[k]]=S);return T},"o"),t=[1,4],r=[1,5],n=[1,6],i=[1,7],s=[1,9],o=[1,11,13,15,17,19,20,26,27,28,29],u=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],f=[26,27,28],h=[2,8],p=[1,18],g=[1,19],y=[1,20],E=[1,21],M=[1,22],z=[1,23],P=[1,28],Q=[6,26,27,28,29],V={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:a(function(S,T,k,R,x,N,m){var v=N.length-1;switch(x){case 4:R.setShowData(!0);break;case 7:this.$=N[v-1];break;case 9:R.addSection(N[v-1],R.cleanupValue(N[v]));break;case 10:this.$=N[v].trim(),R.setDiagramTitle(this.$);break;case 11:this.$=N[v].trim(),R.setAccTitle(this.$);break;case 12:case 13:this.$=N[v].trim(),R.setAccDescription(this.$);break;case 14:R.addSection(N[v].substr(8)),this.$=N[v].substr(8);break;case 21:R.parseDirective("%%{","open_directive");break;case 22:R.parseDirective(N[v],"type_directive");break;case 23:N[v]=N[v].trim().replace(/'/g,'"'),R.parseDirective(N[v],"arg_directive");break;case 24:R.parseDirective("}%%","close_directive","pie");break}},"anonymous"),table:[{3:1,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},{1:[3]},{3:10,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},{3:11,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},e(o,u,{7:12,8:[1,13]}),e(l,[2,18]),e(l,[2,19]),e(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(f,h,{21:8,9:16,10:17,5:24,1:[2,3],11:p,13:g,15:y,17:E,19:M,20:z,29:s}),e(o,u,{7:25}),{23:26,24:[1,27],32:P},e([24,32],[2,22]),e(o,[2,6]),{4:29,26:r,27:n,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(f,[2,13]),e(f,[2,14]),e(f,[2,15]),e(f,h,{21:8,9:16,10:17,5:24,1:[2,4],11:p,13:g,15:y,17:E,19:M,20:z,29:s}),e(Q,[2,16]),{25:34,31:[1,35]},e(Q,[2,24]),e(o,[2,7]),e(f,[2,9]),e(f,[2,10]),e(f,[2,11]),e(f,[2,12]),{23:36,32:P},{32:[2,23]},e(Q,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:a(function(S,T){if(T.recoverable)this.trace(S);else{var k=new Error(S);throw k.hash=T,k}},"parseError"),parse:a(function(S){var T=this,k=[0],R=[],x=[null],N=[],m=this.table,v="",A=0,U=0,G=2,K=1,Z=N.slice.call(arguments,1),O=Object.create(this.lexer),$={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&($.yy[L]=this.yy[L]);O.setInput(S,$.yy),$.yy.lexer=O,$.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var ee=O.yylloc;N.push(ee);var ve=O.options&&O.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ye(){var he;return he=R.pop()||O.lex()||K,typeof he!="number"&&(he instanceof Array&&(R=he,he=R.pop()),he=T.symbols_[he]||he),he}a(ye,"lex");for(var se,be,Y,D,J={},q,I,H,te;;){if(be=k[k.length-1],this.defaultActions[be]?Y=this.defaultActions[be]:((se===null||typeof se>"u")&&(se=ye()),Y=m[be]&&m[be][se]),typeof Y>"u"||!Y.length||!Y[0]){var ie="";te=[];for(q in m[be])this.terminals_[q]&&q>G&&te.push("'"+this.terminals_[q]+"'");O.showPosition?ie="Parse error on line "+(A+1)+`:
`+O.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[se]||se)+"'":ie="Parse error on line "+(A+1)+": Unexpected "+(se==K?"end of input":"'"+(this.terminals_[se]||se)+"'"),this.parseError(ie,{text:O.match,token:this.terminals_[se]||se,line:O.yylineno,loc:ee,expected:te})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+se);switch(Y[0]){case 1:k.push(se),x.push(O.yytext),N.push(O.yylloc),k.push(Y[1]),se=null,U=O.yyleng,v=O.yytext,A=O.yylineno,ee=O.yylloc;break;case 2:if(I=this.productions_[Y[1]][1],J.$=x[x.length-I],J._$={first_line:N[N.length-(I||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(I||1)].first_column,last_column:N[N.length-1].last_column},ve&&(J._$.range=[N[N.length-(I||1)].range[0],N[N.length-1].range[1]]),D=this.performAction.apply(J,[v,U,A,$.yy,Y[1],x,N].concat(Z)),typeof D<"u")return D;I&&(k=k.slice(0,-1*I*2),x=x.slice(0,-1*I),N=N.slice(0,-1*I)),k.push(this.productions_[Y[1]][0]),x.push(J.$),N.push(J._$),H=m[k[k.length-2]][k[k.length-1]],k.push(H);break;case 3:return!0}}return!0},"parse2")},W=function(){var B={EOF:1,parseError:a(function(T,k){if(this.yy.parser)this.yy.parser.parseError(T,k);else throw new Error(T)},"parseError"),setInput:function(S,T){return this.yy=T||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var T=S.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},unput:function(S){var T=S.length,k=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===R.length?this.yylloc.first_column:0)+R[R.length-k.length].length-k[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(S){this.unput(this.match.slice(S))},pastInput:function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var S=this.pastInput(),T=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+T+"^"},test_match:function(S,T){var k,R,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),R=S[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],k=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var N in x)this[N]=x[N];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,T,k,R;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),N=0;N<x.length;N++)if(k=this._input.match(this.rules[x[N]]),k&&(!T||k[0].length>T[0].length)){if(T=k,R=N,this.options.backtrack_lexer){if(S=this.test_match(k,x[N]),S!==!1)return S;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(S=this.test_match(T,x[R]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var T=this.next();return T||this.lex()},"lex"),begin:a(function(T){this.conditionStack.push(T)},"begin"),popState:a(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:a(function(T){this.begin(T)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(T,k,R,x){switch(R){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return B}();V.lexer=W;function F(){this.yy={}}return a(F,"Parser"),F.prototype=V,V.Parser=F,new F}();q$.parser=q$;var pVt=a(e=>e.match(/^\s*pie/)!==null,"pieDetector"),VM={},MX=!1,gVt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$5"),yVt=a(function(e,t){e=Gr.sanitizeText(e,ft()),typeof VM[e]>"u"&&(VM[e]=t,Pe.debug("Added new section :",e))},"addSection$1"),mVt=a(()=>VM,"getSections$1"),bVt=a(function(e){MX=e},"setShowData"),vVt=a(function(){return MX},"getShowData"),_Vt=a(function(e){return e.substring(0,1)===":"&&(e=e.substring(1).trim()),Number(e.trim())},"cleanupValue"),xVt=a(function(){VM={},MX=!1,tl()},"clear$4"),wVt={parseDirective:gVt,getConfig:()=>ft().pie,addSection:yVt,getSections:mVt,cleanupValue:_Vt,clear:xVt,setAccTitle:cu,getAccTitle:rl,setDiagramTitle:fB,getDiagramTitle:hB,setShowData:bVt,getShowData:vVt,getAccDescription:il,setAccDescription:nl},ud=ft(),ld,N5=450,AVt=a((e,t,r,n)=>{try{ud=ft(),Pe.debug(`Rendering info diagram
`+e);let P=ft().securityLevel,Q;P==="sandbox"&&(Q=Zt("#i"+t));let V=P==="sandbox"?Zt(Q.nodes()[0].contentDocument.body):Zt("body"),W=P==="sandbox"?Q.nodes()[0].contentDocument:document;n.db.clear(),n.parser.parse(e),Pe.debug("Parsed info diagram");let F=W.getElementById(t);ld=F.parentElement.offsetWidth,typeof ld>"u"&&(ld=1200),typeof ud.useWidth<"u"&&(ld=ud.useWidth),typeof ud.pie.useWidth<"u"&&(ld=ud.pie.useWidth);let B=V.select("#"+t);el(B,N5,ld,ud.pie.useMaxWidth),Oo(n.db,B,t),F.setAttribute("viewBox","0 0 "+ld+" "+N5);var i=40,s=18,o=4,u=Math.min(ld,N5)/2-i,l=B.append("g").attr("transform","translate("+ld/2+","+N5/2+")"),f=n.db.getSections(),h=0;Object.keys(f).forEach(function(T){h+=f[T]});let S=ud.themeVariables;var p=[S.pie1,S.pie2,S.pie3,S.pie4,S.pie5,S.pie6,S.pie7,S.pie8,S.pie9,S.pie10,S.pie11,S.pie12],g=Z3().range(p),y=C9().value(function(T){return T[1]}),E=y(Object.entries(f)),M=qb().innerRadius(0).outerRadius(u);l.selectAll("mySlices").data(E).enter().append("path").attr("d",M).attr("fill",function(T){return g(T.data[0])}).attr("class","pieCircle"),l.selectAll("mySlices").data(E).enter().append("text").text(function(T){return(T.data[1]/h*100).toFixed(0)+"%"}).attr("transform",function(T){return"translate("+M.centroid(T)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(n.db.getDiagramTitle()).attr("x",0).attr("y",-(N5-50)/2).attr("class","pieTitleText");var z=l.selectAll(".legend").data(g.domain()).enter().append("g").attr("class","legend").attr("transform",function(T,k){var R=s+o,x=R*g.domain().length/2,N=12*s,m=k*R-x;return"translate("+N+","+m+")"});z.append("rect").attr("width",s).attr("height",s).style("fill",g).style("stroke",g),z.data(E).append("text").attr("x",s+o).attr("y",s-o).text(function(T){return n.db.getShowData()||ud.showData||ud.pie.showData?T.data[0]+" ["+T.data[1]+"]":T.data[0]})}catch(P){Pe.error("Error while rendering info diagram"),Pe.error(P)}},"draw$6"),EVt={draw:AVt},P$=function(){var e=a(function(be,Y,D,J){for(D=D||{},J=be.length;J--;D[be[J]]=Y);return D},"o"),t=[1,3],r=[1,5],n=[1,6],i=[1,7],s=[1,8],o=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],u=[1,22],l=[2,13],f=[1,26],h=[1,27],p=[1,28],g=[1,29],y=[1,30],E=[1,31],M=[1,24],z=[1,32],P=[1,33],Q=[1,36],V=[71,72],W=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],F=[1,56],B=[1,57],S=[1,58],T=[1,59],k=[1,60],R=[1,61],x=[1,62],N=[62,63],m=[1,74],v=[1,70],A=[1,71],U=[1,72],G=[1,73],K=[1,75],Z=[1,79],O=[1,80],$=[1,77],L=[1,78],ee=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],ve={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:a(function(Y,D,J,q,I,H,te){var ie=H.length-1;switch(I){case 6:this.$=H[ie].trim(),q.setAccTitle(this.$);break;case 7:case 8:this.$=H[ie].trim(),q.setAccDescription(this.$);break;case 9:q.parseDirective("%%{","open_directive");break;case 10:q.parseDirective(H[ie],"type_directive");break;case 11:H[ie]=H[ie].trim().replace(/'/g,'"'),q.parseDirective(H[ie],"arg_directive");break;case 12:q.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:q.addRequirement(H[ie-3],H[ie-4]);break;case 20:q.setNewReqId(H[ie-2]);break;case 21:q.setNewReqText(H[ie-2]);break;case 22:q.setNewReqRisk(H[ie-2]);break;case 23:q.setNewReqVerifyMethod(H[ie-2]);break;case 26:this.$=q.RequirementType.REQUIREMENT;break;case 27:this.$=q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=q.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=q.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=q.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=q.RiskLevel.LOW_RISK;break;case 33:this.$=q.RiskLevel.MED_RISK;break;case 34:this.$=q.RiskLevel.HIGH_RISK;break;case 35:this.$=q.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=q.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=q.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=q.VerifyType.VERIFY_TEST;break;case 39:q.addElement(H[ie-3]);break;case 40:q.setNewElementType(H[ie-2]);break;case 41:q.setNewElementDocRef(H[ie-2]);break;case 44:q.addRelationship(H[ie-2],H[ie],H[ie-4]);break;case 45:q.addRelationship(H[ie-2],H[ie-4],H[ie]);break;case 46:this.$=q.Relationships.CONTAINS;break;case 47:this.$=q.Relationships.COPIES;break;case 48:this.$=q.Relationships.DERIVES;break;case 49:this.$=q.Relationships.SATISFIES;break;case 50:this.$=q.Relationships.VERIFIES;break;case 51:this.$=q.Relationships.REFINES;break;case 52:this.$=q.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:4,14:r,16:n,18:i,19:s},{1:[3]},{3:10,4:2,5:[1,9],6:t,9:4,14:r,16:n,18:i,19:s},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(o,[2,8]),{20:[2,9]},{3:16,4:2,6:t,9:4,14:r,16:n,18:i,19:s},{1:[2,2]},{4:21,5:u,7:17,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{11:34,12:[1,35],22:Q},e([12,22],[2,10]),e(o,[2,6]),e(o,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:u,7:38,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:u,7:39,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:u,7:40,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:u,7:41,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:u,7:42,8:l,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(V,[2,26]),e(V,[2,27]),e(V,[2,28]),e(V,[2,29]),e(V,[2,30]),e(V,[2,31]),e(W,[2,55]),e(W,[2,56]),e(o,[2,4]),{13:51,21:[1,52]},e(o,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:F,65:B,66:S,67:T,68:k,69:R,70:x},{61:63,64:F,65:B,66:S,67:T,68:k,69:R,70:x},{11:64,22:Q},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(N,[2,46]),e(N,[2,47]),e(N,[2,48]),e(N,[2,49]),e(N,[2,50]),e(N,[2,51]),e(N,[2,52]),{63:[1,68]},e(o,[2,5]),{5:m,29:69,30:v,33:A,35:U,37:G,39:K},{5:Z,39:O,55:76,56:$,58:L},{32:81,71:z,72:P},{32:82,71:z,72:P},e(ee,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:m,29:87,30:v,33:A,35:U,37:G,39:K},e(ee,[2,25]),e(ee,[2,39]),{31:[1,88]},{31:[1,89]},{5:Z,39:O,55:90,56:$,58:L},e(ee,[2,43]),e(ee,[2,44]),e(ee,[2,45]),{32:91,71:z,72:P},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(ee,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(ee,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:m,29:116,30:v,33:A,35:U,37:G,39:K},{5:m,29:117,30:v,33:A,35:U,37:G,39:K},{5:m,29:118,30:v,33:A,35:U,37:G,39:K},{5:m,29:119,30:v,33:A,35:U,37:G,39:K},{5:Z,39:O,55:120,56:$,58:L},{5:Z,39:O,55:121,56:$,58:L},e(ee,[2,20]),e(ee,[2,21]),e(ee,[2,22]),e(ee,[2,23]),e(ee,[2,40]),e(ee,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:a(function(Y,D){if(D.recoverable)this.trace(Y);else{var J=new Error(Y);throw J.hash=D,J}},"parseError"),parse:a(function(Y){var D=this,J=[0],q=[],I=[null],H=[],te=this.table,ie="",he=0,De=0,$e=2,ze=1,Qe=H.slice.call(arguments,1),je=Object.create(this.lexer),We={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(We.yy[Ce]=this.yy[Ce]);je.setInput(Y,We.yy),We.yy.lexer=je,We.yy.parser=this,typeof je.yylloc>"u"&&(je.yylloc={});var Te=je.yylloc;H.push(Te);var Je=je.options&&je.options.ranges;typeof We.yy.parseError=="function"?this.parseError=We.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(){var et;return et=q.pop()||je.lex()||ze,typeof et!="number"&&(et instanceof Array&&(q=et,et=q.pop()),et=D.symbols_[et]||et),et}a(rt,"lex");for(var ge,xe,qe,ot,at={},pe,Re,He,tt;;){if(xe=J[J.length-1],this.defaultActions[xe]?qe=this.defaultActions[xe]:((ge===null||typeof ge>"u")&&(ge=rt()),qe=te[xe]&&te[xe][ge]),typeof qe>"u"||!qe.length||!qe[0]){var Ve="";tt=[];for(pe in te[xe])this.terminals_[pe]&&pe>$e&&tt.push("'"+this.terminals_[pe]+"'");je.showPosition?Ve="Parse error on line "+(he+1)+`:
`+je.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[ge]||ge)+"'":Ve="Parse error on line "+(he+1)+": Unexpected "+(ge==ze?"end of input":"'"+(this.terminals_[ge]||ge)+"'"),this.parseError(Ve,{text:je.match,token:this.terminals_[ge]||ge,line:je.yylineno,loc:Te,expected:tt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+ge);switch(qe[0]){case 1:J.push(ge),I.push(je.yytext),H.push(je.yylloc),J.push(qe[1]),ge=null,De=je.yyleng,ie=je.yytext,he=je.yylineno,Te=je.yylloc;break;case 2:if(Re=this.productions_[qe[1]][1],at.$=I[I.length-Re],at._$={first_line:H[H.length-(Re||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Re||1)].first_column,last_column:H[H.length-1].last_column},Je&&(at._$.range=[H[H.length-(Re||1)].range[0],H[H.length-1].range[1]]),ot=this.performAction.apply(at,[ie,De,he,We.yy,qe[1],I,H].concat(Qe)),typeof ot<"u")return ot;Re&&(J=J.slice(0,-1*Re*2),I=I.slice(0,-1*Re),H=H.slice(0,-1*Re)),J.push(this.productions_[qe[1]][0]),I.push(at.$),H.push(at._$),He=te[J[J.length-2]][J[J.length-1]],J.push(He);break;case 3:return!0}}return!0},"parse2")},ye=function(){var be={EOF:1,parseError:a(function(D,J){if(this.yy.parser)this.yy.parser.parseError(D,J);else throw new Error(D)},"parseError"),setInput:function(Y,D){return this.yy=D||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var D=Y.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},unput:function(Y){var D=Y.length,J=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===q.length?this.yylloc.first_column:0)+q[q.length-J.length].length-J[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Y){this.unput(this.match.slice(Y))},pastInput:function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Y=this.pastInput(),D=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+D+"^"},test_match:function(Y,D){var J,q,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),q=Y[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],J=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var H in I)this[H]=I[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,D,J,q;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),H=0;H<I.length;H++)if(J=this._input.match(this.rules[I[H]]),J&&(!D||J[0].length>D[0].length)){if(D=J,q=H,this.options.backtrack_lexer){if(Y=this.test_match(J,I[H]),Y!==!1)return Y;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(Y=this.test_match(D,I[q]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var D=this.next();return D||this.lex()},"lex"),begin:a(function(D){this.conditionStack.push(D)},"begin"),popState:a(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:a(function(D){this.begin(D)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(D,J,q,I){switch(q){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return J.yytext=J.yytext.trim(),71}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return be}();ve.lexer=ye;function se(){this.yy={}}return a(se,"Parser"),se.prototype=ve,ve.Parser=se,new se}();P$.parser=P$;var SVt=a(e=>e.match(/^\s*requirement(Diagram)?/)!==null,"requirementDetector"),BX=[],Lo={},V5={},gp={},j5={},kVt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},CVt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},IVt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},TVt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},MVt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$4"),BVt=a((e,t)=>(typeof V5[e]>"u"&&(V5[e]={name:e,type:t,id:Lo.id,text:Lo.text,risk:Lo.risk,verifyMethod:Lo.verifyMethod}),Lo={},V5[e]),"addRequirement"),RVt=a(()=>V5,"getRequirements"),LVt=a(e=>{typeof Lo<"u"&&(Lo.id=e)},"setNewReqId"),DVt=a(e=>{typeof Lo<"u"&&(Lo.text=e)},"setNewReqText"),NVt=a(e=>{typeof Lo<"u"&&(Lo.risk=e)},"setNewReqRisk"),OVt=a(e=>{typeof Lo<"u"&&(Lo.verifyMethod=e)},"setNewReqVerifyMethod"),qVt=a(e=>(typeof j5[e]>"u"&&(j5[e]={name:e,type:gp.type,docRef:gp.docRef},Pe.info("Added new requirement: ",e)),gp={},j5[e]),"addElement"),PVt=a(()=>j5,"getElements"),FVt=a(e=>{typeof gp<"u"&&(gp.type=e)},"setNewElementType"),UVt=a(e=>{typeof gp<"u"&&(gp.docRef=e)},"setNewElementDocRef"),YVt=a((e,t,r)=>{BX.push({type:e,src:t,dst:r})},"addRelationship"),HVt=a(()=>BX,"getRelationships"),zVt=a(()=>{BX=[],Lo={},V5={},gp={},j5={},tl()},"clear$3"),QVt={RequirementType:kVt,RiskLevel:CVt,VerifyType:IVt,Relationships:TVt,parseDirective:MVt,getConfig:()=>ft().req,addRequirement:BVt,getRequirements:RVt,setNewReqId:LVt,setNewReqText:DVt,setNewReqRisk:NVt,setNewReqVerifyMethod:OVt,setAccTitle:cu,getAccTitle:rl,setAccDescription:nl,getAccDescription:il,addElement:qVt,getElements:PVt,setNewElementType:FVt,setNewElementDocRef:UVt,addRelationship:YVt,getRelationships:HVt,clear:zVt},F$={CONTAINS:"contains",ARROW:"arrow"},WVt=a((e,t)=>{let r=e.append("defs").append("marker").attr("id",F$.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",F$.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),hOe={ReqMarkers:F$,insertLineEndings:WVt},Xi={},sDe=0,dOe=a((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Xi.rect_min_width+"px").attr("height",Xi.rect_min_height+"px"),"newRectNode"),pOe=a((e,t,r)=>{let n=Xi.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",Xi.rect_padding).attr("dominant-baseline","hanging"),s=0;r.forEach(f=>{s==0?i.append("tspan").attr("text-anchor","middle").attr("x",Xi.rect_min_width/2).attr("dy",0).text(f):i.append("tspan").attr("text-anchor","middle").attr("x",Xi.rect_min_width/2).attr("dy",Xi.line_height*.75).text(f),s++});let o=1.5*Xi.rect_padding,u=s*Xi.line_height*.75,l=o+u;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Xi.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},"newTitleNode"),gOe=a((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",Xi.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),s=0,o=30,u=[];return r.forEach(l=>{let f=l.length;for(;f>o&&s<3;){let h=l.substring(0,o);l=l.substring(o,l.length),f=l.length,u[u.length]=h,s++}if(s==3){let h=u[u.length-1];u[u.length-1]=h.substring(0,h.length-4)+"..."}else u[u.length]=l;s=0}),u.forEach(l=>{i.append("tspan").attr("x",Xi.rect_padding).attr("dy",Xi.line_height).text(l)}),i},"newBodyNode"),VVt=a((e,t,r,n)=>{let i=t.node().getTotalLength(),s=t.node().getPointAtLength(i*.5),o="rel"+sDe;sDe++;let l=e.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",s.x-l.width/2).attr("y",s.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),jVt=a(function(e,t,r,n,i){let s=r.edge(kv(t.src),kv(t.dst)),o=V0().x(function(l){return l.x}).y(function(l){return l.y}),u=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",o(s.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?u.attr("marker-start","url("+Gr.getUrl(Xi.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+Gr.getUrl(Xi.arrowMarkerAbsolute)+"#"+hOe.ReqMarkers.ARROW+"_line_ending)")),VVt(e,u,Xi,`<<${t.type}>>`)},"drawRelationshipFromLayout"),GVt=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n];n=kv(n),Pe.info("Added new requirement: ",n);let s=r.append("g").attr("id",n),o="req-"+n,u=dOe(s,o),l=pOe(s,n+"_title",[`<<${i.type}>>`,`${i.name}`]);gOe(s,n+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],l.y);let f=u.node().getBBox();t.setNode(n,{width:f.width,height:f.height,shape:"rect",id:n})})},"drawReqs"),KVt=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n],s=kv(n),o=r.append("g").attr("id",s),u="element-"+s,l=dOe(o,u),f=pOe(o,u+"_title",["<<Element>>",`${n}`]);gOe(o,u+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],f.y);let h=l.node().getBBox();t.setNode(s,{width:h.width,height:h.height,shape:"rect",id:s})})},"drawElements"),$Vt=a((e,t)=>(e.forEach(function(r){let n=kv(r.src),i=kv(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),XVt=a(function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),kv=a(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),JVt=a((e,t,r,n)=>{Xi=ft().requirement,n.db.clear(),n.parser.parse(e);let i=Xi.securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let u=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select(`[id='${t}']`);hOe.insertLineEndings(u,Xi);let l=new Ea.default.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Xi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),f=n.db.getRequirements(),h=n.db.getElements(),p=n.db.getRelationships();GVt(f,l,u),KVt(h,l,u),$Vt(p,l),Bv.default.layout(l),XVt(u,l),p.forEach(function(z){jVt(u,z,l,t,n)});let g=Xi.rect_padding,y=u.node().getBBox(),E=y.width+g*2,M=y.height+g*2;el(u,M,E,Xi.useMaxWidth),u.attr("viewBox",`${y.x-g} ${y.y-g} ${E} ${M}`),Oo(n.db,u,t)},"draw$5"),ZVt={draw:JVt},U$=function(){var e=a(function(be,Y,D,J){for(D=D||{},J=be.length;J--;D[be[J]]=Y);return D},"o"),t=[1,2],r=[1,3],n=[1,5],i=[1,7],s=[2,5],o=[1,15],u=[1,17],l=[1,18],f=[1,19],h=[1,21],p=[1,22],g=[1,23],y=[1,29],E=[1,30],M=[1,31],z=[1,32],P=[1,33],Q=[1,34],V=[1,35],W=[1,36],F=[1,37],B=[1,38],S=[1,39],T=[1,40],k=[1,43],R=[1,44],x=[1,45],N=[1,46],m=[1,47],v=[1,48],A=[1,51],U=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],G=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],K=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],Z=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],O=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],$=[67,68,69],L=[1,121],ee=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],ve={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:a(function(Y,D,J,q,I,H,te){var ie=H.length-1;switch(I){case 4:return q.apply(H[ie]),H[ie];case 5:this.$=[];break;case 6:H[ie-1].push(H[ie]),this.$=H[ie-1];break;case 7:case 8:this.$=H[ie];break;case 9:this.$=[];break;case 12:H[ie-3].type="addParticipant",H[ie-3].description=q.parseMessage(H[ie-1]),this.$=H[ie-3];break;case 13:H[ie-1].type="addParticipant",this.$=H[ie-1];break;case 14:H[ie-3].type="addActor",H[ie-3].description=q.parseMessage(H[ie-1]),this.$=H[ie-3];break;case 15:H[ie-1].type="addActor",this.$=H[ie-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(H[ie-2]),sequenceIndexStep:Number(H[ie-1]),sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(H[ie-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:H[ie-1]};break;case 22:this.$={type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:H[ie-1]};break;case 28:q.setDiagramTitle(H[ie].substring(6)),this.$=H[ie].substring(6);break;case 29:q.setDiagramTitle(H[ie].substring(7)),this.$=H[ie].substring(7);break;case 30:this.$=H[ie].trim(),q.setAccTitle(this.$);break;case 31:case 32:this.$=H[ie].trim(),q.setAccDescription(this.$);break;case 33:H[ie-1].unshift({type:"loopStart",loopText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.LOOP_START}),H[ie-1].push({type:"loopEnd",loopText:H[ie-2],signalType:q.LINETYPE.LOOP_END}),this.$=H[ie-1];break;case 34:H[ie-1].unshift({type:"rectStart",color:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.RECT_START}),H[ie-1].push({type:"rectEnd",color:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.RECT_END}),this.$=H[ie-1];break;case 35:H[ie-1].unshift({type:"optStart",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.OPT_START}),H[ie-1].push({type:"optEnd",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.OPT_END}),this.$=H[ie-1];break;case 36:H[ie-1].unshift({type:"altStart",altText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.ALT_START}),H[ie-1].push({type:"altEnd",signalType:q.LINETYPE.ALT_END}),this.$=H[ie-1];break;case 37:H[ie-1].unshift({type:"parStart",parText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.PAR_START}),H[ie-1].push({type:"parEnd",signalType:q.LINETYPE.PAR_END}),this.$=H[ie-1];break;case 38:H[ie-1].unshift({type:"criticalStart",criticalText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.CRITICAL_START}),H[ie-1].push({type:"criticalEnd",signalType:q.LINETYPE.CRITICAL_END}),this.$=H[ie-1];break;case 39:H[ie-1].unshift({type:"breakStart",breakText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.BREAK_START}),H[ie-1].push({type:"breakEnd",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.BREAK_END}),this.$=H[ie-1];break;case 42:this.$=H[ie-3].concat([{type:"option",optionText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.CRITICAL_OPTION},H[ie]]);break;case 44:this.$=H[ie-3].concat([{type:"and",parText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.PAR_AND},H[ie]]);break;case 46:this.$=H[ie-3].concat([{type:"else",altText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.ALT_ELSE},H[ie]]);break;case 47:this.$=[H[ie-1],{type:"addNote",placement:H[ie-2],actor:H[ie-1].actor,text:H[ie]}];break;case 48:H[ie-2]=[].concat(H[ie-1],H[ie-1]).slice(0,2),H[ie-2][0]=H[ie-2][0].actor,H[ie-2][1]=H[ie-2][1].actor,this.$=[H[ie-1],{type:"addNote",placement:q.PLACEMENT.OVER,actor:H[ie-2].slice(0,2),text:H[ie]}];break;case 49:this.$=[H[ie-1],{type:"addLinks",actor:H[ie-1].actor,text:H[ie]}];break;case 50:this.$=[H[ie-1],{type:"addALink",actor:H[ie-1].actor,text:H[ie]}];break;case 51:this.$=[H[ie-1],{type:"addProperties",actor:H[ie-1].actor,text:H[ie]}];break;case 52:this.$=[H[ie-1],{type:"addDetails",actor:H[ie-1].actor,text:H[ie]}];break;case 55:this.$=[H[ie-2],H[ie]];break;case 56:this.$=H[ie];break;case 57:this.$=q.PLACEMENT.LEFTOF;break;case 58:this.$=q.PLACEMENT.RIGHTOF;break;case 59:this.$=[H[ie-4],H[ie-1],{type:"addMessage",from:H[ie-4].actor,to:H[ie-1].actor,signalType:H[ie-3],msg:H[ie]},{type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:H[ie-1]}];break;case 60:this.$=[H[ie-4],H[ie-1],{type:"addMessage",from:H[ie-4].actor,to:H[ie-1].actor,signalType:H[ie-3],msg:H[ie]},{type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:H[ie-4]}];break;case 61:this.$=[H[ie-3],H[ie-1],{type:"addMessage",from:H[ie-3].actor,to:H[ie-1].actor,signalType:H[ie-2],msg:H[ie]}];break;case 62:this.$={type:"addParticipant",actor:H[ie]};break;case 63:this.$=q.LINETYPE.SOLID_OPEN;break;case 64:this.$=q.LINETYPE.DOTTED_OPEN;break;case 65:this.$=q.LINETYPE.SOLID;break;case 66:this.$=q.LINETYPE.DOTTED;break;case 67:this.$=q.LINETYPE.SOLID_CROSS;break;case 68:this.$=q.LINETYPE.DOTTED_CROSS;break;case 69:this.$=q.LINETYPE.SOLID_POINT;break;case 70:this.$=q.LINETYPE.DOTTED_POINT;break;case 71:this.$=q.parseMessage(H[ie].trim().substring(1));break;case 72:q.parseDirective("%%{","open_directive");break;case 73:q.parseDirective(H[ie],"type_directive");break;case 74:H[ie]=H[ie].trim().replace(/'/g,'"'),q.parseDirective(H[ie],"arg_directive");break;case 75:q.parseDirective("}%%","close_directive","sequence");break}},"anonymous"),table:[{3:1,4:t,5:r,6:4,7:n,11:6,79:i},{1:[3]},{3:8,4:t,5:r,6:4,7:n,11:6,79:i},{3:9,4:t,5:r,6:4,7:n,11:6,79:i},{3:10,4:t,5:r,6:4,7:n,11:6,79:i},e([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],s,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{13:49,14:[1,50],82:A},e([14,82],[2,73]),e(U,[2,6]),{6:41,10:52,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},e(U,[2,8]),e(U,[2,9]),{17:53,69:v},{17:54,69:v},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:v},{17:60,69:v},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},e(U,[2,28]),e(U,[2,29]),{35:[1,66]},{37:[1,67]},e(U,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},e(U,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:v},{17:89,69:v},{17:90,69:v},{17:91,69:v},e([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},e(U,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},e(U,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},e(U,[2,20]),{5:[1,102]},{5:[1,103]},e(U,[2,23]),e(U,[2,24]),e(U,[2,25]),e(U,[2,26]),e(U,[2,27]),e(U,[2,30]),e(U,[2,31]),e(G,s,{8:104}),e(G,s,{8:105}),e(G,s,{8:106}),e(K,s,{44:107,8:108}),e(Z,s,{46:109,8:110}),e(O,s,{48:111,8:112}),e(G,s,{8:113}),{17:116,67:[1,114],68:[1,115],69:v},e($,[2,63]),e($,[2,64]),e($,[2,65]),e($,[2,66]),e($,[2,67]),e($,[2,68]),e($,[2,69]),e($,[2,70]),{17:117,69:v},{17:119,57:118,69:v},{69:[2,57]},{69:[2,58]},{55:120,78:L},{55:122,78:L},{55:123,78:L},{55:124,78:L},e(ee,[2,10]),{13:125,82:A},{82:[2,74]},{19:[1,126]},e(U,[2,13]),{19:[1,127]},e(U,[2,15]),{5:[1,128]},e(U,[2,18]),e(U,[2,19]),e(U,[2,21]),e(U,[2,22]),{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,129],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,130],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,131],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,132]},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,45],41:V,42:W,43:F,45:B,47:S,49:T,52:[1,133],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,134]},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,43],41:V,42:W,43:F,45:B,47:S,49:T,51:[1,135],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,136]},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,41],41:V,42:W,43:F,45:B,47:S,49:T,50:[1,137],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:u,6:41,9:14,10:16,11:6,16:l,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,138],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{17:139,69:v},{17:140,69:v},{55:141,78:L},{55:142,78:L},{55:143,78:L},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},e(U,[2,17]),e(U,[2,33]),e(U,[2,34]),e(U,[2,35]),e(U,[2,36]),{19:[1,148]},e(U,[2,37]),{19:[1,149]},e(U,[2,38]),{19:[1,150]},e(U,[2,39]),{55:151,78:L},{55:152,78:L},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:v},e(ee,[2,11]),e(U,[2,12]),e(U,[2,14]),e(K,s,{8:108,44:154}),e(Z,s,{8:110,46:155}),e(O,s,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:a(function(Y,D){if(D.recoverable)this.trace(Y);else{var J=new Error(Y);throw J.hash=D,J}},"parseError"),parse:a(function(Y){var D=this,J=[0],q=[],I=[null],H=[],te=this.table,ie="",he=0,De=0,$e=2,ze=1,Qe=H.slice.call(arguments,1),je=Object.create(this.lexer),We={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(We.yy[Ce]=this.yy[Ce]);je.setInput(Y,We.yy),We.yy.lexer=je,We.yy.parser=this,typeof je.yylloc>"u"&&(je.yylloc={});var Te=je.yylloc;H.push(Te);var Je=je.options&&je.options.ranges;typeof We.yy.parseError=="function"?this.parseError=We.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(){var et;return et=q.pop()||je.lex()||ze,typeof et!="number"&&(et instanceof Array&&(q=et,et=q.pop()),et=D.symbols_[et]||et),et}a(rt,"lex");for(var ge,xe,qe,ot,at={},pe,Re,He,tt;;){if(xe=J[J.length-1],this.defaultActions[xe]?qe=this.defaultActions[xe]:((ge===null||typeof ge>"u")&&(ge=rt()),qe=te[xe]&&te[xe][ge]),typeof qe>"u"||!qe.length||!qe[0]){var Ve="";tt=[];for(pe in te[xe])this.terminals_[pe]&&pe>$e&&tt.push("'"+this.terminals_[pe]+"'");je.showPosition?Ve="Parse error on line "+(he+1)+`:
`+je.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[ge]||ge)+"'":Ve="Parse error on line "+(he+1)+": Unexpected "+(ge==ze?"end of input":"'"+(this.terminals_[ge]||ge)+"'"),this.parseError(Ve,{text:je.match,token:this.terminals_[ge]||ge,line:je.yylineno,loc:Te,expected:tt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+ge);switch(qe[0]){case 1:J.push(ge),I.push(je.yytext),H.push(je.yylloc),J.push(qe[1]),ge=null,De=je.yyleng,ie=je.yytext,he=je.yylineno,Te=je.yylloc;break;case 2:if(Re=this.productions_[qe[1]][1],at.$=I[I.length-Re],at._$={first_line:H[H.length-(Re||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Re||1)].first_column,last_column:H[H.length-1].last_column},Je&&(at._$.range=[H[H.length-(Re||1)].range[0],H[H.length-1].range[1]]),ot=this.performAction.apply(at,[ie,De,he,We.yy,qe[1],I,H].concat(Qe)),typeof ot<"u")return ot;Re&&(J=J.slice(0,-1*Re*2),I=I.slice(0,-1*Re),H=H.slice(0,-1*Re)),J.push(this.productions_[qe[1]][0]),I.push(at.$),H.push(at._$),He=te[J[J.length-2]][J[J.length-1]],J.push(He);break;case 3:return!0}}return!0},"parse2")},ye=function(){var be={EOF:1,parseError:a(function(D,J){if(this.yy.parser)this.yy.parser.parseError(D,J);else throw new Error(D)},"parseError"),setInput:function(Y,D){return this.yy=D||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var D=Y.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},unput:function(Y){var D=Y.length,J=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===q.length?this.yylloc.first_column:0)+q[q.length-J.length].length-J[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Y){this.unput(this.match.slice(Y))},pastInput:function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Y=this.pastInput(),D=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+D+"^"},test_match:function(Y,D){var J,q,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),q=Y[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],J=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var H in I)this[H]=I[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,D,J,q;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),H=0;H<I.length;H++)if(J=this._input.match(this.rules[I[H]]),J&&(!D||J[0].length>D[0].length)){if(D=J,q=H,this.options.backtrack_lexer){if(Y=this.test_match(J,I[H]),Y!==!1)return Y;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(Y=this.test_match(D,I[q]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var D=this.next();return D||this.lex()},"lex"),begin:a(function(D){this.conditionStack.push(D)},"begin"),popState:a(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:a(function(D){this.begin(D)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(D,J,q,I){switch(q){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return J.yytext=J.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return J.yytext=J.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return be}();ve.lexer=ye;function se(){this.yy={}}return a(se,"Parser"),se.prototype=ve,ve.Parser=se,new se}();U$.parser=U$;var ejt=a(e=>e.match(/^\s*sequenceDiagram/)!==null,"sequenceDetector"),O5,fp={},Gu=[],xB=!1,Y$,tjt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$3"),H$=a(function(e,t,r,n){let i=fp[e];i&&t===i.name&&r==null||((r==null||r.text==null)&&(r={text:t,wrap:null,type:n}),(n==null||r.text==null)&&(r={text:t,wrap:null,type:n}),fp[e]={name:t,description:r.text,wrap:r.wrap===void 0&&Cv()||!!r.wrap,prevActor:O5,links:{},properties:{},actorCnt:null,rectData:null,type:n||"participant"},O5&&fp[O5]&&(fp[O5].nextActor=e),O5=e)},"addActor"),rjt=a(e=>{let t,r=0;for(t=0;t<Gu.length;t++)Gu[t].type===a6.ACTIVE_START&&Gu[t].from.actor===e&&r++,Gu[t].type===a6.ACTIVE_END&&Gu[t].from.actor===e&&r--;return r},"activationCount"),njt=a(function(e,t,r,n){Gu.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&Cv()||!!r.wrap,answer:n})},"addMessage"),aa=a(function(e,t,r={text:void 0,wrap:void 0},n){if(n===a6.ACTIVE_END&&rjt(e.actor)<1){let s=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return Gu.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&Cv()||!!r.wrap,type:n}),!0},"addSignal"),ijt=a(function(){return Gu},"getMessages"),ajt=a(function(){return fp},"getActors$1"),p6=a(function(e){return fp[e]},"getActor"),sjt=a(function(){return Object.keys(fp)},"getActorKeys"),ojt=a(function(){xB=!0},"enableSequenceNumbers"),cjt=a(function(){xB=!1},"disableSequenceNumbers"),ujt=a(()=>xB,"showSequenceNumbers"),ljt=a(function(e){Y$=e},"setWrap"),Cv=a(()=>typeof Y$<"u"?Y$:ft().sequence.wrap,"autoWrap"),fjt=a(function(){fp={},Gu=[],xB=!1,tl()},"clear$2"),hjt=a(function(e){let t=e.trim(),r={text:t.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:t.match(/^[:]?wrap:/)!==null?!0:t.match(/^[:]?nowrap:/)!==null?!1:void 0};return Pe.debug("parseMessage:",r),r},"parseMessage"),a6={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},djt={FILLED:0,OPEN:1},pjt={LEFTOF:0,RIGHTOF:1,OVER:2},yOe=a(function(e,t,r){r.text,r.wrap===void 0&&Cv()||r.wrap;let n=[].concat(e,e);Gu.push({from:n[0],to:n[1],message:r.text,wrap:r.wrap===void 0&&Cv()||!!r.wrap,type:a6.NOTE,placement:t})},"addNote"),mOe=a(function(e,t){let r=p6(e);try{let n=Ju(t.text,ft());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);RX(r,i)}catch(n){Pe.error("error while parsing actor link text",n)}},"addLinks"),gjt=a(function(e,t){let r=p6(e);try{let o={},u=Ju(t.text,ft());var n=u.indexOf("@");u=u.replace(/&amp;/g,"&"),u=u.replace(/&equals;/g,"=");var i=u.slice(0,n-1).trim(),s=u.slice(n+1).trim();o[i]=s,RX(r,o)}catch(o){Pe.error("error while parsing actor link text",o)}},"addALink");function RX(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}a(RX,"insertLinks");var bOe=a(function(e,t){let r=p6(e);try{let n=Ju(t.text,ft()),i=JSON.parse(n);vOe(r,i)}catch(n){Pe.error("error while parsing actor properties text",n)}},"addProperties");function vOe(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}a(vOe,"insertProperties");var _Oe=a(function(e,t){let r=p6(e),n=document.getElementById(t.text);try{let i=n.innerHTML,s=JSON.parse(i);s.properties&&vOe(r,s.properties),s.links&&RX(r,s.links)}catch(i){Pe.error("error while parsing actor details text",i)}},"addDetails"),yjt=a(function(e,t){if(typeof e<"u"&&typeof e.properties<"u")return e.properties[t]},"getActorProperty"),xOe=a(function(e){if(e instanceof Array)e.forEach(function(t){xOe(t)});else switch(e.type){case"sequenceIndex":Gu.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":H$(e.actor,e.actor,e.description,"participant");break;case"addActor":H$(e.actor,e.actor,e.description,"actor");break;case"activeStart":aa(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":aa(e.actor,void 0,void 0,e.signalType);break;case"addNote":yOe(e.actor,e.placement,e.text);break;case"addLinks":mOe(e.actor,e.text);break;case"addALink":gjt(e.actor,e.text);break;case"addProperties":bOe(e.actor,e.text);break;case"addDetails":_Oe(e.actor,e.text);break;case"addMessage":aa(e.from,e.to,e.msg,e.signalType);break;case"loopStart":aa(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":aa(void 0,void 0,void 0,e.signalType);break;case"rectStart":aa(void 0,void 0,e.color,e.signalType);break;case"rectEnd":aa(void 0,void 0,void 0,e.signalType);break;case"optStart":aa(void 0,void 0,e.optText,e.signalType);break;case"optEnd":aa(void 0,void 0,void 0,e.signalType);break;case"altStart":aa(void 0,void 0,e.altText,e.signalType);break;case"else":aa(void 0,void 0,e.altText,e.signalType);break;case"altEnd":aa(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":cu(e.text);break;case"parStart":aa(void 0,void 0,e.parText,e.signalType);break;case"and":aa(void 0,void 0,e.parText,e.signalType);break;case"parEnd":aa(void 0,void 0,void 0,e.signalType);break;case"criticalStart":aa(void 0,void 0,e.criticalText,e.signalType);break;case"option":aa(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":aa(void 0,void 0,void 0,e.signalType);break;case"breakStart":aa(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":aa(void 0,void 0,void 0,e.signalType);break}},"apply"),oDe={addActor:H$,addMessage:njt,addSignal:aa,addLinks:mOe,addDetails:_Oe,addProperties:bOe,autoWrap:Cv,setWrap:ljt,enableSequenceNumbers:ojt,disableSequenceNumbers:cjt,showSequenceNumbers:ujt,getMessages:ijt,getActors:ajt,getActor:p6,getActorKeys:sjt,getActorProperty:yjt,getAccTitle:rl,getDiagramTitle:hB,setDiagramTitle:fB,parseDirective:tjt,getConfig:()=>ft().sequence,clear:fjt,parseMessage:hjt,LINETYPE:a6,ARROWTYPE:djt,PLACEMENT:pjt,addNote:yOe,setAccTitle:cu,apply:xOe,setAccDescription:nl,getAccDescription:il},z$=[],mjt=a(e=>{z$.push(e)},"addFunction"),wOe=a(()=>{z$.forEach(e=>{e()}),z$=[]},"attachFunctions"),wB=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},"drawRect$1"),AOe=a((e,t)=>{mjt(()=>{let r=document.querySelectorAll(e);r.length!==0&&(r[0].addEventListener("mouseover",function(){xjt("actor"+t+"_popup")}),r[0].addEventListener("mouseout",function(){wjt("actor"+t+"_popup")}))})},"addPopupInteraction"),bjt=a(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let s=t.links,o=t.actorCnt,u=t.rectData;var l="none";i&&(l="block !important");let f=e.append("g");f.attr("id","actor"+o+"_popup"),f.attr("class","actorPopupMenu"),f.attr("display",l),AOe("#actor"+o+"_popup",o);var h="";typeof u.class<"u"&&(h=" "+u.class);let p=u.width>r?u.width:r,g=f.append("rect");if(g.attr("class","actorPopupMenuPanel"+h),g.attr("x",u.x),g.attr("y",u.height),g.attr("fill",u.fill),g.attr("stroke",u.stroke),g.attr("width",p),g.attr("height",u.height),g.attr("rx",u.rx),g.attr("ry",u.ry),s!=null){var y=20;for(let z in s){var E=f.append("a"),M=(0,_f.sanitizeUrl)(s[z]);E.attr("xlink:href",M),E.attr("target","_blank"),qjt(n)(z,E,u.x+10,u.height+y,p,20,{class:"actor"},n),y+=30}}return g.attr("height",y),{height:u.height+y,width:p}},"drawPopup"),EOe=a(function(e,t,r,n){let i=e.append("image");i.attr("x",t),i.attr("y",r);var s=(0,_f.sanitizeUrl)(n);i.attr("xlink:href",s)},"drawImage"),SOe=a(function(e,t,r,n){let i=e.append("use");i.attr("x",t),i.attr("y",r);var s=(0,_f.sanitizeUrl)(n);i.attr("xlink:href","#"+s)},"drawEmbeddedImage"),vjt=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},"popupMenu"),_jt=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},"popdownMenu"),xjt=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},"popupMenuUpFunc"),wjt=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},"popupMenuDownFunc"),Iv=a(function(e,t){let r=0,n=0,i=t.text.split(Gr.lineBreakRegex),s=[],o=0,u=a(()=>t.y,"yfunc");if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":u=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":u=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":u=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let l=0;l<i.length;l++){let f=i[l];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(o=l*t.fontSize);let h=e.append("text");if(h.attr("x",t.x),h.attr("y",u()),typeof t.anchor<"u"&&h.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&h.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&h.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&h.style("font-weight",t.fontWeight),typeof t.fill<"u"&&h.attr("fill",t.fill),typeof t.class<"u"&&h.attr("class",t.class),typeof t.dy<"u"?h.attr("dy",t.dy):o!==0&&h.attr("dy",o),t.tspan){let p=h.append("tspan");p.attr("x",t.x),typeof t.fill<"u"&&p.attr("fill",t.fill),p.text(f)}else h.text(f);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(h._groups||h)[0][0].getBBox().height,r=n),s.push(h)}return s},"drawText$1"),kOe=a(function(e,t){function r(i,s,o,u,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-l)+" "+(i+o-l*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,Iv(e,t),n},"drawLabel$1"),pf=-1,COe=a((e,t)=>{!e.selectAll||e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)},"fixLifeLineHeights"),Ajt=a(function(e,t,r){let n=t.x+t.width/2,i=e.append("g");var s=i;t.y===0&&(pf++,s.append("line").attr("id","actor"+pf).attr("x1",n).attr("y1",5).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),s=i.append("g"),t.actorCnt=pf,t.links!=null&&(s.attr("id","root-"+pf),AOe("#root-"+pf,pf)));let o=AB();var u="actor";t.properties!=null&&t.properties.class?u=t.properties.class:o.fill="#eaeaea",o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height,o.class=u,o.rx=3,o.ry=3;let l=wB(s,o);if(t.rectData=o,t.properties!=null&&t.properties.icon){let h=t.properties.icon.trim();h.charAt(0)==="@"?SOe(s,o.x+o.width-20,o.y+10,h.substr(1)):EOe(s,o.x+o.width-20,o.y+10,h)}IOe(r)(t.description,s,o.x,o.y,o.width,o.height,{class:"actor"},r);let f=t.height;if(l.node){let h=l.node().getBBox();t.height=h.height,f=h.height}return f},"drawActorTypeParticipant"),Ejt=a(function(e,t,r){let n=t.x+t.width/2;t.y===0&&(pf++,e.append("line").attr("id","actor"+pf).attr("x1",n).attr("y1",80).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));let i=e.append("g");i.attr("class","actor-man");let s=AB();s.x=t.x,s.y=t.y,s.fill="#eaeaea",s.width=t.width,s.height=t.height,s.class="actor",s.rx=3,s.ry=3,i.append("line").attr("id","actor-man-torso"+pf).attr("x1",n).attr("y1",t.y+25).attr("x2",n).attr("y2",t.y+45),i.append("line").attr("id","actor-man-arms"+pf).attr("x1",n-18).attr("y1",t.y+33).attr("x2",n+18).attr("y2",t.y+33),i.append("line").attr("x1",n-18).attr("y1",t.y+60).attr("x2",n).attr("y2",t.y+45),i.append("line").attr("x1",n).attr("y1",t.y+45).attr("x2",n+16).attr("y2",t.y+60);let o=i.append("circle");o.attr("cx",t.x+t.width/2),o.attr("cy",t.y+10),o.attr("r",15),o.attr("width",t.width),o.attr("height",t.height);let u=i.node().getBBox();return t.height=u.height,IOe(r)(t.description,i,s.x,s.y+35,s.width,s.height,{class:"actor"},r),t.height},"drawActorTypeActor"),Sjt=a(function(e,t,r){switch(t.type){case"actor":return Ejt(e,t,r);case"participant":return Ajt(e,t,r)}},"drawActor"),kjt=a(function(e){return e.append("g")},"anchorElement"),Cjt=a(function(e,t,r,n,i){let s=AB(),o=t.anchored;s.x=t.startx,s.y=t.starty,s.class="activation"+i%3,s.width=t.stopx-t.startx,s.height=r-t.starty,wB(o,s)},"drawActivation"),Ijt=a(function(e,t,r,n){let{boxMargin:i,boxTextMargin:s,labelBoxHeight:o,labelBoxWidth:u,messageFontFamily:l,messageFontSize:f,messageFontWeight:h}=n,p=e.append("g"),g=a(function(M,z,P,Q){return p.append("line").attr("x1",M).attr("y1",z).attr("x2",P).attr("y2",Q).attr("class","loopLine")},"drawLoopLine");g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),typeof t.sections<"u"&&t.sections.forEach(function(M){g(t.startx,M.y,t.stopx,M.y).style("stroke-dasharray","3, 3")});let y=Q$();y.text=r,y.x=t.startx,y.y=t.starty,y.fontFamily=l,y.fontSize=f,y.fontWeight=h,y.anchor="middle",y.valign="middle",y.tspan=!1,y.width=u||50,y.height=o||20,y.textMargin=s,y.class="labelText",kOe(p,y),y=Q$(),y.text=t.title,y.x=t.startx+u/2+(t.stopx-t.startx)/2,y.y=t.starty+i+s,y.anchor="middle",y.valign="middle",y.textMargin=s,y.class="loopText",y.fontFamily=l,y.fontSize=f,y.fontWeight=h,y.wrap=!0;let E=Iv(p,y);return typeof t.sectionTitles<"u"&&t.sectionTitles.forEach(function(M,z){if(M.message){y.text=M.message,y.x=t.startx+(t.stopx-t.startx)/2,y.y=t.sections[z].y+i+s,y.class="loopText",y.anchor="middle",y.valign="middle",y.tspan=!1,y.fontFamily=l,y.fontSize=f,y.fontWeight=h,y.wrap=t.wrap,E=Iv(p,y);let P=Math.round(E.map(Q=>(Q._groups||Q)[0][0].getBBox().height).reduce((Q,V)=>Q+V));t.sections[z].height+=P-(i+s)}}),t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),Tjt=a(function(e,t){wB(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect$1"),Mjt=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Bjt=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Rjt=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Ljt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Djt=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Njt=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),Ojt=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Q$=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj$1"),AB=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect$1"),IOe=function(){function e(i,s,o,u,l,f,h){let p=s.append("text").attr("x",o+l/2).attr("y",u+f/2+5).style("text-anchor","middle").text(i);n(p,h)}a(e,"byText");function t(i,s,o,u,l,f,h,p){let{actorFontSize:g,actorFontFamily:y,actorFontWeight:E}=p,M=g&&g.replace?g.replace("px",""):g,z=i.split(Gr.lineBreakRegex);for(let P=0;P<z.length;P++){let Q=P*M-M*(z.length-1)/2,V=s.append("text").attr("x",o+l/2).attr("y",u).style("text-anchor","middle").style("font-size",g).style("font-weight",E).style("font-family",y);V.append("tspan").attr("x",o+l/2).attr("dy",Q).text(z[P]),V.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(V,h)}}a(t,"byTspan");function r(i,s,o,u,l,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",u).attr("width",l).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,u,l,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),qjt=function(){function e(i,s,o,u,l,f,h){let p=s.append("text").attr("x",o).attr("y",u).style("text-anchor","start").text(i);n(p,h)}a(e,"byText");function t(i,s,o,u,l,f,h,p){let{actorFontSize:g,actorFontFamily:y,actorFontWeight:E}=p,M=i.split(Gr.lineBreakRegex);for(let z=0;z<M.length;z++){let P=z*g-g*(M.length-1)/2,Q=s.append("text").attr("x",o).attr("y",u).style("text-anchor","start").style("font-size",g).style("font-weight",E).style("font-family",y);Q.append("tspan").attr("x",o).attr("dy",P).text(M[z]),Q.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,u,l,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",u).attr("width",l).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,u,l,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Ki={drawRect:wB,drawText:Iv,drawLabel:kOe,drawActor:Sjt,drawPopup:bjt,drawImage:EOe,drawEmbeddedImage:SOe,anchorElement:kjt,drawActivation:Cjt,drawLoop:Ijt,drawBackgroundRect:Tjt,insertArrowHead:Ljt,insertArrowFilledHead:Djt,insertSequenceNumber:Njt,insertArrowCrossHead:Ojt,insertDatabaseIcon:Mjt,insertComputerIcon:Bjt,insertClockIcon:Rjt,getTextObj:Q$,getNoteRect:AB,popupMenu:vjt,popdownMenu:_jt,fixLifeLineHeights:COe,sanitizeUrl:_f.sanitizeUrl},kt={},sr={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,MOe(ft())},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=this,s=0;function o(u){return a(function(f){s++;let h=i.sequenceItems.length-s+1;i.updateVal(f,"starty",t-h*kt.boxMargin,Math.min),i.updateVal(f,"stopy",n+h*kt.boxMargin,Math.max),i.updateVal(sr.data,"startx",e-h*kt.boxMargin,Math.min),i.updateVal(sr.data,"stopx",r+h*kt.boxMargin,Math.max),u!=="activation"&&(i.updateVal(f,"startx",e-h*kt.boxMargin,Math.min),i.updateVal(f,"stopx",r+h*kt.boxMargin,Math.max),i.updateVal(sr.data,"starty",t-h*kt.boxMargin,Math.min),i.updateVal(sr.data,"stopy",n+h*kt.boxMargin,Math.max))},"updateItemBounds")}a(o,"updateFn"),this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(e,t,r,n){let i=Math.min(e,r),s=Math.max(e,r),o=Math.min(t,n),u=Math.max(t,n);this.updateVal(sr.data,"startx",i,Math.min),this.updateVal(sr.data,"starty",o,Math.min),this.updateVal(sr.data,"stopx",s,Math.max),this.updateVal(sr.data,"stopy",u,Math.max),this.updateBounds(i,o,s,u)},newActivation:function(e,t,r){let n=r[e.from.actor],i=EB(e.from.actor).length||0,s=n.x+n.width/2+(i-1)*kt.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+kt.activationWidth,stopy:void 0,actor:e.from.actor,anchored:Ki.anchorElement(t)})},endActivation:function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:sr.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Pjt=a(function(e,t){sr.bumpVerticalPos(kt.boxMargin),t.height=kt.boxMargin,t.starty=sr.getVerticalPos();let r=Ki.getNoteRect();r.x=t.startx,r.y=t.starty,r.width=t.width||kt.width,r.class="note";let n=e.append("g"),i=Ki.drawRect(n,r),s=Ki.getTextObj();s.x=t.startx,s.y=t.starty,s.width=r.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=kt.noteFontFamily,s.fontSize=kt.noteFontSize,s.fontWeight=kt.noteFontWeight,s.anchor=kt.noteAlign,s.textMargin=kt.noteMargin,s.valign="center";let o=Iv(n,s),u=Math.round(o.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,f)=>l+f));i.attr("height",u+2*kt.noteMargin),t.height+=u+2*kt.noteMargin,sr.bumpVerticalPos(u+2*kt.noteMargin),t.stopy=t.starty+u+2*kt.noteMargin,t.stopx=t.startx+r.width,sr.insert(t.startx,t.starty,t.stopx,t.stopy),sr.models.addNote(t)},"drawNote$1"),Tv=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),pv=a(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),W$=a(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),Fjt=a(function(e,t){sr.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,s=Gr.splitBreaks(i).length,o=un.calculateTextDimensions(i,Tv(kt)),u=o.height/s;t.height+=u,sr.bumpVerticalPos(u);let l,f=o.height-10,h=o.width;if(r===n){l=sr.getVerticalPos()+f,kt.rightAngles||(f+=kt.boxMargin,l=sr.getVerticalPos()+f),f+=30;let p=Math.max(h/2,kt.width/2);sr.insert(r-p,sr.getVerticalPos()-10+f,n+p,sr.getVerticalPos()+30+f)}else f+=kt.boxMargin,l=sr.getVerticalPos()+f,sr.insert(r,l-10,n,l);return sr.bumpVerticalPos(f),t.height+=f,t.stopy=t.starty+t.height,sr.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),l},"boundMessage"),Ujt=a(function(e,t,r,n){let{startx:i,stopx:s,starty:o,message:u,type:l,sequenceIndex:f,sequenceVisible:h}=t,p=un.calculateTextDimensions(u,Tv(kt)),g=Ki.getTextObj();g.x=i,g.y=o+10,g.width=s-i,g.class="messageText",g.dy="1em",g.text=u,g.fontFamily=kt.messageFontFamily,g.fontSize=kt.messageFontSize,g.fontWeight=kt.messageFontWeight,g.anchor=kt.messageAlign,g.valign="center",g.textMargin=kt.wrapPadding,g.tspan=!1,Iv(e,g);let y=p.width,E;i===s?kt.rightAngles?E=e.append("path").attr("d",`M  ${i},${r} H ${i+Math.max(kt.width/2,y/2)} V ${r+25} H ${i}`):E=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(E=e.append("line"),E.attr("x1",i),E.attr("y1",r),E.attr("x2",s),E.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN?(E.style("stroke-dasharray","3, 3"),E.attr("class","messageLine1")):E.attr("class","messageLine0");let M="";kt.arrowMarkerAbsolute&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),E.attr("stroke-width",2),E.attr("stroke","none"),E.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&E.attr("marker-end","url("+M+"#arrowhead)"),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&E.attr("marker-end","url("+M+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&E.attr("marker-end","url("+M+"#crosshead)"),(h||kt.showSequenceNumbers)&&(E.attr("marker-start","url("+M+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(f))},"drawMessage"),V$=a(function(e,t,r,n,i,s){if(i.hideUnusedParticipants===!0){let f=new Set;s.forEach(h=>{f.add(h.from),f.add(h.to)}),r=r.filter(h=>f.has(h))}let o=0,u=0,l=0;for(let f=0;f<r.length;f++){let h=t[r[f]];h.width=h.width||kt.width,h.height=Math.max(h.height||kt.height,kt.height),h.margin=h.margin||kt.actorMargin,h.x=o+u,h.y=n;let p=Ki.drawActor(e,h,kt);l=Math.max(l,p),sr.insert(h.x,n,h.x+h.width,h.height),o+=h.width,u+=h.margin,sr.models.addActor(h)}sr.bumpVerticalPos(l)},"drawActors"),TOe=a(function(e,t,r,n){let i=0,s=0;for(let o=0;o<r.length;o++){let u=t[r[o]],l=zjt(u),f=Ki.drawPopup(e,u,l,kt,kt.forceMenus,n);f.height>i&&(i=f.height),f.width+u.x>s&&(s=f.width+u.x)}return{maxHeight:i,maxWidth:s}},"drawActorsPopup"),MOe=a(function(e){Sa(kt,e),e.fontFamily&&(kt.actorFontFamily=kt.noteFontFamily=kt.messageFontFamily=e.fontFamily),e.fontSize&&(kt.actorFontSize=kt.noteFontSize=kt.messageFontSize=e.fontSize),e.fontWeight&&(kt.actorFontWeight=kt.noteFontWeight=kt.messageFontWeight=e.fontWeight)},"setConf$4"),EB=a(function(e){return sr.activations.filter(function(t){return t.actor===e})},"actorActivations"),cDe=a(function(e,t){let r=t[e],n=EB(e),i=n.reduce(function(o,u){return Math.min(o,u.startx)},r.x+r.width/2),s=n.reduce(function(o,u){return Math.max(o,u.stopx)},r.x+r.width/2);return[i,s]},"activationBounds");function ff(e,t,r,n,i){sr.bumpVerticalPos(r);let s=n;if(t.id&&t.message&&e[t.id]){let o=e[t.id].width,u=Tv(kt);t.message=un.wrapLabel(`[${t.message}]`,o-2*kt.wrapPadding,u),t.width=o,t.wrap=!0;let l=un.calculateTextDimensions(t.message,u),f=Math.max(l.height,kt.labelBoxHeight);s=n+f,Pe.debug(`${f} - ${t.message}`)}i(t),sr.bumpVerticalPos(s)}a(ff,"adjustLoopHeightForWrap");var Yjt=a(function(e,t,r,n){let{securityLevel:i,sequence:s}=ft();kt=s;let o;i==="sandbox"&&(o=Zt("#i"+t));let u=i==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;sr.init(),Pe.debug(n.db);let f=i==="sandbox"?u.select(`[id="${t}"]`):Zt(`[id="${t}"]`),h=n.db.getActors(),p=n.db.getActorKeys(),g=n.db.getMessages(),y=n.db.getDiagramTitle(),E=Hjt(h,g,n);kt.height=Qjt(h,E),Ki.insertComputerIcon(f),Ki.insertDatabaseIcon(f),Ki.insertClockIcon(f),V$(f,h,p,0,kt,g);let M=jjt(g,h,E,n);Ki.insertArrowHead(f),Ki.insertArrowCrossHead(f),Ki.insertArrowFilledHead(f),Ki.insertSequenceNumber(f);function z(N,m){let v=sr.endActivation(N);v.starty+18>m&&(v.starty=m-6,m+=12),Ki.drawActivation(f,v,m,kt,EB(N.from.actor).length),sr.insert(v.startx,m-10,v.stopx,m)}a(z,"activeEnd");let P=1,Q=1,V=[];g.forEach(function(N){let m,v,A;switch(N.type){case n.db.LINETYPE.NOTE:v=N.noteModel,Pjt(f,v);break;case n.db.LINETYPE.ACTIVE_START:sr.newActivation(N,f,h);break;case n.db.LINETYPE.ACTIVE_END:z(N,sr.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.LOOP_END:m=sr.endLoop(),Ki.drawLoop(f,m,"loop",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.RECT_START:ff(M,N,kt.boxMargin,kt.boxMargin,U=>sr.newLoop(void 0,U.message));break;case n.db.LINETYPE.RECT_END:m=sr.endLoop(),Ki.drawBackgroundRect(f,m),sr.models.addLoop(m),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos());break;case n.db.LINETYPE.OPT_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.OPT_END:m=sr.endLoop(),Ki.drawLoop(f,m,"opt",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.ALT_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.ALT_ELSE:ff(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.ALT_END:m=sr.endLoop(),Ki.drawLoop(f,m,"alt",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.PAR_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.PAR_AND:ff(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.PAR_END:m=sr.endLoop(),Ki.drawLoop(f,m,"par",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.AUTONUMBER:P=N.message.start||P,Q=N.message.step||Q,N.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.CRITICAL_OPTION:ff(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.CRITICAL_END:m=sr.endLoop(),Ki.drawLoop(f,m,"critical",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.BREAK_START:ff(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.BREAK_END:m=sr.endLoop(),Ki.drawLoop(f,m,"break",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;default:try{A=N.msgModel,A.starty=sr.getVerticalPos(),A.sequenceIndex=P,A.sequenceVisible=n.db.showSequenceNumbers();let U=Fjt(f,A);V.push({messageModel:A,lineStarty:U}),sr.models.addMessage(A)}catch(U){Pe.error("error while drawing message",U)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(N.type)&&(P=P+Q)}),V.forEach(N=>Ujt(f,N.messageModel,N.lineStarty,n)),kt.mirrorActors&&(sr.bumpVerticalPos(kt.boxMargin*2),V$(f,h,p,sr.getVerticalPos(),kt,g),sr.bumpVerticalPos(kt.boxMargin),COe(f,sr.getVerticalPos()));let W=TOe(f,h,p,l),{bounds:F}=sr.getBounds();Pe.debug("For line height fix Querying: #"+t+" .actor-line"),Sb("#"+t+" .actor-line").attr("y2",F.stopy);let S=F.stopy-F.starty;S<W.maxHeight&&(S=W.maxHeight);let T=S+2*kt.diagramMarginY;kt.mirrorActors&&(T=T-kt.boxMargin+kt.bottomMarginAdj);let k=F.stopx-F.startx;k<W.maxWidth&&(k=W.maxWidth);let R=k+2*kt.diagramMarginX;y&&f.append("text").text(y).attr("x",(F.stopx-F.startx)/2-2*kt.diagramMarginX).attr("y",-25),el(f,T,R,kt.useMaxWidth);let x=y?40:0;f.attr("viewBox",F.startx-kt.diagramMarginX+" -"+(kt.diagramMarginY+x)+" "+R+" "+(T+x)),Oo(n.db,f,t),Pe.debug("models:",sr.models)},"draw$4"),Hjt=a(function(e,t,r){let n={};return t.forEach(function(i){if(e[i.to]&&e[i.from]){let s=e[i.to];if(i.placement===r.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;let o=i.placement!==void 0,u=!o,l=o?pv(kt):Tv(kt),f=i.wrap?un.wrapLabel(i.message,kt.width-2*kt.wrapPadding,l):i.message,p=un.calculateTextDimensions(f,l).width+2*kt.wrapPadding;u&&i.from===s.nextActor?n[i.to]=Math.max(n[i.to]||0,p):u&&i.from===s.prevActor?n[i.from]=Math.max(n[i.from]||0,p):u&&i.from===i.to?(n[i.from]=Math.max(n[i.from]||0,p/2),n[i.to]=Math.max(n[i.to]||0,p/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Math.max(n[i.from]||0,p):i.placement===r.db.PLACEMENT.LEFTOF?n[s.prevActor]=Math.max(n[s.prevActor]||0,p):i.placement===r.db.PLACEMENT.OVER&&(s.prevActor&&(n[s.prevActor]=Math.max(n[s.prevActor]||0,p/2)),s.nextActor&&(n[i.from]=Math.max(n[i.from]||0,p/2)))}}),Pe.debug("maxMessageWidthPerActor:",n),n},"getMaxMessageWidthPerActor"),zjt=a(function(e){let t=0,r=W$(kt);for(let n in e.links){let s=un.calculateTextDimensions(n,r).width+2*kt.wrapPadding+2*kt.boxMargin;t<s&&(t=s)}return t},"getRequiredPopupWidth"),Qjt=a(function(e,t){let r=0;Object.keys(e).forEach(n=>{let i=e[n];i.wrap&&(i.description=un.wrapLabel(i.description,kt.width-2*kt.wrapPadding,W$(kt)));let s=un.calculateTextDimensions(i.description,W$(kt));i.width=i.wrap?kt.width:Math.max(kt.width,s.width+2*kt.wrapPadding),i.height=i.wrap?Math.max(s.height,kt.height):kt.height,r=Math.max(r,i.height)});for(let n in t){let i=e[n];if(!i)continue;let s=e[i.nextActor];if(!s)continue;let u=t[n]+kt.actorMargin-i.width/2-s.width/2;i.margin=Math.max(u,kt.actorMargin)}return Math.max(r,kt.height)},"calculateActorMargins"),Wjt=a(function(e,t,r){let n=t[e.from].x,i=t[e.to].x,s=e.wrap&&e.message,o=un.calculateTextDimensions(s?un.wrapLabel(e.message,kt.width,pv(kt)):e.message,pv(kt)),u={width:s?kt.width:Math.max(kt.width,o.width+2*kt.noteMargin),height:0,startx:t[e.from].x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(u.width=s?Math.max(kt.width,o.width):Math.max(t[e.from].width/2+t[e.to].width/2,o.width+2*kt.noteMargin),u.startx=n+(t[e.from].width+kt.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(u.width=Math.max(s?kt.width:t[e.from].width/2+t[e.to].width/2,o.width+2*kt.noteMargin),u.startx=n-u.width+(t[e.from].width-kt.actorMargin)/2):e.to===e.from?(o=un.calculateTextDimensions(s?un.wrapLabel(e.message,Math.max(kt.width,t[e.from].width),pv(kt)):e.message,pv(kt)),u.width=s?Math.max(kt.width,t[e.from].width):Math.max(t[e.from].width,kt.width,o.width+2*kt.noteMargin),u.startx=n+(t[e.from].width-u.width)/2):(u.width=Math.abs(n+t[e.from].width/2-(i+t[e.to].width/2))+kt.actorMargin,u.startx=n<i?n+t[e.from].width/2-kt.actorMargin/2:i+t[e.to].width/2-kt.actorMargin/2),s&&(u.message=un.wrapLabel(e.message,u.width-2*kt.wrapPadding,pv(kt))),Pe.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${e.message}]`),u},"buildNoteModel"),Vjt=a(function(e,t,r){let n=!1;if([r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(n=!0),!n)return{};let i=cDe(e.from,t),s=cDe(e.to,t),o=i[0]<=s[0]?1:0,u=i[0]<s[0]?0:1,l=i.concat(s),f=Math.abs(s[u]-i[o]);e.wrap&&e.message&&(e.message=un.wrapLabel(e.message,Math.max(f+2*kt.wrapPadding,kt.width),Tv(kt)));let h=un.calculateTextDimensions(e.message,Tv(kt));return{width:Math.max(e.wrap?0:h.width+2*kt.wrapPadding,f+2*kt.wrapPadding,kt.width),height:0,startx:i[o],stopx:s[u],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},"buildMessageModel"),jjt=a(function(e,t,r,n){let i={},s=[],o,u,l;return e.forEach(function(f){switch(f.id=un.random({length:10}),f.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:s.push({id:f.id,msg:f.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:f.message&&(o=s.pop(),i[o.id]=o,i[f.id]=o,s.push(o));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:o=s.pop(),i[o.id]=o;break;case n.db.LINETYPE.ACTIVE_START:{let p=t[f.from?f.from.actor:f.to.actor],g=EB(f.from?f.from.actor:f.to.actor).length,y=p.x+p.width/2+(g-1)*kt.activationWidth/2,E={startx:y,stopx:y+kt.activationWidth,actor:f.from.actor,enabled:!0};sr.activations.push(E)}break;case n.db.LINETYPE.ACTIVE_END:{let p=sr.activations.map(g=>g.actor).lastIndexOf(f.from.actor);delete sr.activations.splice(p,1)[0]}break}f.placement!==void 0?(u=Wjt(f,t,n),f.noteModel=u,s.forEach(p=>{o=p,o.from=Math.min(o.from,u.startx),o.to=Math.max(o.to,u.startx+u.width),o.width=Math.max(o.width,Math.abs(o.from-o.to))-kt.labelBoxWidth})):(l=Vjt(f,t,n),f.msgModel=l,l.startx&&l.stopx&&s.length>0&&s.forEach(p=>{if(o=p,l.startx===l.stopx){let g=t[f.from],y=t[f.to];o.from=Math.min(g.x-l.width/2,g.x-g.width/2,o.from),o.to=Math.max(y.x+l.width/2,y.x+g.width/2,o.to),o.width=Math.max(o.width,Math.abs(o.to-o.from))-kt.labelBoxWidth}else o.from=Math.min(l.startx,o.from),o.to=Math.max(l.stopx,o.to),o.width=Math.max(o.width,l.width)-kt.labelBoxWidth}))}),sr.activations=[],Pe.debug("Loop type widths:",i),i},"calculateLoopBounds"),uDe={bounds:sr,drawActors:V$,drawActorsPopup:TOe,setConf:MOe,draw:Yjt},jM=function(){var e=a(function(K,Z,O,$){for(O=O||{},$=K.length;$--;O[K[$]]=Z);return O},"o"),t=[1,2],r=[1,3],n=[1,5],i=[1,7],s=[2,5],o=[1,15],u=[1,17],l=[1,19],f=[1,20],h=[1,21],p=[1,22],g=[1,33],y=[1,23],E=[1,24],M=[1,25],z=[1,26],P=[1,27],Q=[1,30],V=[1,31],W=[1,32],F=[1,35],B=[1,36],S=[1,37],T=[1,38],k=[1,34],R=[1,41],x=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],N=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],m=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],v=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],A={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:a(function(Z,O,$,L,ee,ve,ye){var se=ve.length-1;switch(ee){case 4:return L.setRootDoc(ve[se]),ve[se];case 5:this.$=[];break;case 6:ve[se]!="nl"&&(ve[se-1].push(ve[se]),this.$=ve[se-1]);break;case 7:case 8:this.$=ve[se];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:ve[se],type:"default",description:""};break;case 11:this.$={stmt:"state",id:ve[se-1],type:"default",description:L.trimColon(ve[se])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:ve[se-2],type:"default",description:""},state2:{stmt:"state",id:ve[se],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:ve[se-3],type:"default",description:""},state2:{stmt:"state",id:ve[se-1],type:"default",description:""},description:ve[se].substr(1).trim()};break;case 17:this.$={stmt:"state",id:ve[se-3],type:"default",description:"",doc:ve[se-1]};break;case 18:var be=ve[se],Y=ve[se-2].trim();if(ve[se].match(":")){var D=ve[se].split(":");be=D[0],Y=[Y,D[1]]}this.$={stmt:"state",id:be,type:"default",description:Y};break;case 19:this.$={stmt:"state",id:ve[se-3],type:"default",description:ve[se-5],doc:ve[se-1]};break;case 20:this.$={stmt:"state",id:ve[se],type:"fork"};break;case 21:this.$={stmt:"state",id:ve[se],type:"join"};break;case 22:this.$={stmt:"state",id:ve[se],type:"choice"};break;case 23:this.$={stmt:"state",id:L.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:ve[se-1].trim(),note:{position:ve[se-2].trim(),text:ve[se].trim()}};break;case 28:this.$=ve[se].trim(),L.setAccTitle(this.$);break;case 29:case 30:this.$=ve[se].trim(),L.setAccDescription(this.$);break;case 33:L.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:L.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:L.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:L.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 39:case 40:this.$=ve[se];break;case 43:L.parseDirective("%%{","open_directive");break;case 44:L.parseDirective(ve[se],"type_directive");break;case 45:ve[se]=ve[se].trim().replace(/'/g,'"'),L.parseDirective(ve[se],"arg_directive");break;case 46:L.parseDirective("}%%","close_directive","state");break}},"anonymous"),table:[{3:1,4:t,5:r,6:4,7:n,36:6,50:i},{1:[3]},{3:8,4:t,5:r,6:4,7:n,36:6,50:i},{3:9,4:t,5:r,6:4,7:n,36:6,50:i},{3:10,4:t,5:r,6:4,7:n,36:6,50:i},e([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],s,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:u,6:28,9:14,10:16,11:18,14:l,15:f,17:h,20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},{38:39,39:[1,40],53:R},e([39,53],[2,44]),e(x,[2,6]),{6:28,10:42,11:18,14:l,15:f,17:h,20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,8]),e(x,[2,9]),e(x,[2,10],{12:[1,43],13:[1,44]}),e(x,[2,14]),{16:[1,45]},e(x,[2,16],{18:[1,46]}),{21:[1,47]},e(x,[2,20]),e(x,[2,21]),e(x,[2,22]),e(x,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},e(x,[2,26]),e(x,[2,27]),{32:[1,52]},{34:[1,53]},e(x,[2,30]),e(N,[2,39]),e(N,[2,40]),e(x,[2,33]),e(x,[2,34]),e(x,[2,35]),e(x,[2,36]),e(m,[2,31]),{40:54,52:[1,55]},e(m,[2,46]),e(x,[2,7]),e(x,[2,11]),{11:56,22:g,47:k},e(x,[2,15]),e(v,s,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},e(x,[2,28]),e(x,[2,29]),{38:61,53:R},{53:[2,45]},e(x,[2,12],{12:[1,62]}),{4:o,5:u,6:28,9:14,10:16,11:18,14:l,15:f,17:h,19:[1,63],20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},e(m,[2,32]),e(x,[2,13]),e(x,[2,17]),e(v,s,{8:67}),e(x,[2,24]),e(x,[2,25]),{4:o,5:u,6:28,9:14,10:16,11:18,14:l,15:f,17:h,19:[1,68],20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:a(function(Z,O){if(O.recoverable)this.trace(Z);else{var $=new Error(Z);throw $.hash=O,$}},"parseError"),parse:a(function(Z){var O=this,$=[0],L=[],ee=[null],ve=[],ye=this.table,se="",be=0,Y=0,D=2,J=1,q=ve.slice.call(arguments,1),I=Object.create(this.lexer),H={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&(H.yy[te]=this.yy[te]);I.setInput(Z,H.yy),H.yy.lexer=I,H.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var ie=I.yylloc;ve.push(ie);var he=I.options&&I.options.ranges;typeof H.yy.parseError=="function"?this.parseError=H.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function De(){var xe;return xe=L.pop()||I.lex()||J,typeof xe!="number"&&(xe instanceof Array&&(L=xe,xe=L.pop()),xe=O.symbols_[xe]||xe),xe}a(De,"lex");for(var $e,ze,Qe,je,We={},Ce,Te,Je,rt;;){if(ze=$[$.length-1],this.defaultActions[ze]?Qe=this.defaultActions[ze]:(($e===null||typeof $e>"u")&&($e=De()),Qe=ye[ze]&&ye[ze][$e]),typeof Qe>"u"||!Qe.length||!Qe[0]){var ge="";rt=[];for(Ce in ye[ze])this.terminals_[Ce]&&Ce>D&&rt.push("'"+this.terminals_[Ce]+"'");I.showPosition?ge="Parse error on line "+(be+1)+`:
`+I.showPosition()+`
Expecting `+rt.join(", ")+", got '"+(this.terminals_[$e]||$e)+"'":ge="Parse error on line "+(be+1)+": Unexpected "+($e==J?"end of input":"'"+(this.terminals_[$e]||$e)+"'"),this.parseError(ge,{text:I.match,token:this.terminals_[$e]||$e,line:I.yylineno,loc:ie,expected:rt})}if(Qe[0]instanceof Array&&Qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+$e);switch(Qe[0]){case 1:$.push($e),ee.push(I.yytext),ve.push(I.yylloc),$.push(Qe[1]),$e=null,Y=I.yyleng,se=I.yytext,be=I.yylineno,ie=I.yylloc;break;case 2:if(Te=this.productions_[Qe[1]][1],We.$=ee[ee.length-Te],We._$={first_line:ve[ve.length-(Te||1)].first_line,last_line:ve[ve.length-1].last_line,first_column:ve[ve.length-(Te||1)].first_column,last_column:ve[ve.length-1].last_column},he&&(We._$.range=[ve[ve.length-(Te||1)].range[0],ve[ve.length-1].range[1]]),je=this.performAction.apply(We,[se,Y,be,H.yy,Qe[1],ee,ve].concat(q)),typeof je<"u")return je;Te&&($=$.slice(0,-1*Te*2),ee=ee.slice(0,-1*Te),ve=ve.slice(0,-1*Te)),$.push(this.productions_[Qe[1]][0]),ee.push(We.$),ve.push(We._$),Je=ye[$[$.length-2]][$[$.length-1]],$.push(Je);break;case 3:return!0}}return!0},"parse2")},U=function(){var K={EOF:1,parseError:a(function(O,$){if(this.yy.parser)this.yy.parser.parseError(O,$);else throw new Error(O)},"parseError"),setInput:function(Z,O){return this.yy=O||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var O=Z.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},unput:function(Z){var O=Z.length,$=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===L.length?this.yylloc.first_column:0)+L[L.length-$.length].length-$[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Z){this.unput(this.match.slice(Z))},pastInput:function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Z=this.pastInput(),O=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+O+"^"},test_match:function(Z,O){var $,L,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),L=Z[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],$=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var ve in ee)this[ve]=ee[ve];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,O,$,L;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),ve=0;ve<ee.length;ve++)if($=this._input.match(this.rules[ee[ve]]),$&&(!O||$[0].length>O[0].length)){if(O=$,L=ve,this.options.backtrack_lexer){if(Z=this.test_match($,ee[ve]),Z!==!1)return Z;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(Z=this.test_match(O,ee[L]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var O=this.next();return O||this.lex()},"lex"),begin:a(function(O){this.conditionStack.push(O)},"begin"),popState:a(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:a(function(O){this.begin(O)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(O,$,L,ee){switch(L){case 0:return 41;case 1:return 42;case 2:return 43;case 3:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:break;case 10:break;case 11:return 5;case 12:break;case 13:break;case 14:break;case 15:break;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 24:this.popState();break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),23;case 28:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),24;case 29:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),25;case 30:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),23;case 31:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),24;case 32:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),25;case 33:return 41;case 34:return 42;case 35:return 43;case 36:return 44;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:return this.popState(),"ID";case 40:this.popState();break;case 41:return"STATE_DESCR";case 42:return 17;case 43:this.popState();break;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 46:break;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 52:break;case 53:return"NOTE_TEXT";case 54:return this.popState(),"ID";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),$.yytext=$.yytext.substr(2).trim(),29;case 57:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),29;case 58:return 7;case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return $.yytext=$.yytext.trim(),12;case 64:return 13;case 65:return 26;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};return K}();A.lexer=U;function G(){this.yy={}}return a(G,"Parser"),G.prototype=A,A.Parser=G,new G}();jM.parser=jM;var Gjt=a((e,t)=>{var r;return((r=t?.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*stateDiagram/)!==null},"stateDetector"),Kjt=a((e,t)=>{var r;return!!(e.match(/^\s*stateDiagram-v2/)!==null||e.match(/^\s*stateDiagram/)&&((r=t?.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"stateDetectorV2"),fM=a(e=>JSON.parse(JSON.stringify(e)),"clone"),GM=[],$jt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$2"),Xjt=a(e=>{Pe.info("Setting root doc",e),GM=e},"setRootDoc"),Jjt=a(()=>GM,"getRootDoc"),AM=a((e,t,r)=>{if(t.stmt==="relation")AM(e,t.state1,!0),AM(e,t.state2,!1);else if(t.stmt==="state"&&t.id==="[*]"&&(t.id=r?e.id+"_start":e.id+"_end",t.start=r),t.doc){let n=[],i=0,s=[];for(i=0;i<t.doc.length;i++)if(t.doc[i].type==="divider"){let o=fM(t.doc[i]);o.doc=fM(s),n.push(o),s=[]}else s.push(t.doc[i]);if(n.length>0&&s.length>0){let o={stmt:"state",id:IDe(),type:"divider",doc:fM(s)};n.push(fM(o)),t.doc=n}t.doc.forEach(o=>AM(t,o,!0))}},"docTranslator"),Zjt=a(()=>(AM({id:"root"},{id:"root",doc:GM},!0),{id:"root",doc:GM}),"getRootDocV2"),eGt=a(e=>{let t;e.doc?t=e.doc:t=e,Pe.info(t),ROe(!0),Pe.info("Extract",t),t.forEach(r=>{r.stmt==="state"&&KM(r.id,r.type,r.doc,r.description,r.note),r.stmt==="relation"&&LOe(r.state1.id,r.state2.id,r.description)})},"extract"),BOe=a(()=>({relations:[],states:{},documents:{}}),"newDoc"),G5={root:BOe()},qs=G5.root,EM=0,KM=a(function(e,t,r,n,i){typeof qs.states[e]>"u"?qs.states[e]={id:e,descriptions:[],type:t,doc:r,note:i}:(qs.states[e].doc||(qs.states[e].doc=r),qs.states[e].type||(qs.states[e].type=t)),n&&(Pe.info("Adding state ",e,n),typeof n=="string"&&lDe(e,n.trim()),typeof n=="object"&&n.forEach(s=>lDe(e,s.trim()))),i&&(qs.states[e].note=i,qs.states[e].note.text=Gr.sanitizeText(qs.states[e].note.text,ft()))},"addState"),ROe=a(function(e){G5={root:BOe()},qs=G5.root,qs=G5.root,EM=0,DOe=[],e||tl()},"clear$1"),tGt=a(function(e){return qs.states[e]},"getState"),rGt=a(function(){return qs.states},"getStates"),nGt=a(function(){Pe.info("Documents = ",G5)},"logDocuments"),iGt=a(function(){return qs.relations},"getRelations"),LOe=a(function(e,t,r){let n=e,i=t,s="default",o="default";e==="[*]"&&(EM++,n="start"+EM,s="start"),t==="[*]"&&(i="end"+EM,o="end"),KM(n,s),KM(i,o),qs.relations.push({id1:n,id2:i,title:Gr.sanitizeText(r,ft())})},"addRelation"),lDe=a(function(e,t){let r=qs.states[e],n=t;n[0]===":"&&(n=n.substr(1).trim()),r.descriptions.push(Gr.sanitizeText(n,ft()))},"addDescription"),aGt=a(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),sGt={LINE:0,DOTTED_LINE:1},fDe=0,oGt=a(()=>(fDe++,"divider-id-"+fDe),"getDividerId"),DOe=[],cGt=a(()=>DOe,"getClasses$1"),NOe="TB",uGt=a(()=>NOe,"getDirection"),lGt=a(e=>{NOe=e},"setDirection"),fGt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},hGt=a(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),pd={parseDirective:$jt,getConfig:()=>ft().state,addState:KM,clear:ROe,getState:tGt,getStates:rGt,getRelations:iGt,getClasses:cGt,getDirection:uGt,addRelation:LOe,getDividerId:oGt,setDirection:lGt,cleanupLabel:aGt,lineType:sGt,relationType:fGt,logDocuments:nGt,getRootDoc:Jjt,setRootDoc:Xjt,getRootDocV2:Zjt,extract:eGt,trimColon:hGt,getAccTitle:rl,setAccTitle:cu,getAccDescription:il,setAccDescription:nl},dGt=a(e=>e.append("circle").attr("class","start-state").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit).attr("cy",ft().state.padding+ft().state.sizeUnit),"drawStartState"),pGt=a(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ft().state.textHeight).attr("class","divider").attr("x2",ft().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),gGt=a((e,t)=>{let r=e.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+2*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",n.width+2*ft().state.padding).attr("height",n.height+2*ft().state.padding).attr("rx",ft().state.radius),r},"drawSimpleState"),yGt=a((e,t)=>{let r=a(function(g,y,E){let M=g.append("tspan").attr("x",2*ft().state.padding).text(y);E||M.attr("dy",ft().state.textHeight)},"addTspan2"),i=e.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+1.3*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),s=i.height,o=e.append("text").attr("x",ft().state.padding).attr("y",s+ft().state.padding*.4+ft().state.dividerMargin+ft().state.textHeight).attr("class","state-description"),u=!0,l=!0;t.descriptions.forEach(function(g){u||(r(o,g,l),l=!1),u=!1});let f=e.append("line").attr("x1",ft().state.padding).attr("y1",ft().state.padding+s+ft().state.dividerMargin/2).attr("y2",ft().state.padding+s+ft().state.dividerMargin/2).attr("class","descr-divider"),h=o.node().getBBox(),p=Math.max(h.width,i.width);return f.attr("x2",p+3*ft().state.padding),e.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",p+2*ft().state.padding).attr("height",h.height+s+2*ft().state.padding).attr("rx",ft().state.radius),e},"drawDescrState"),mGt=a((e,t,r)=>{let n=ft().state.padding,i=2*ft().state.padding,s=e.node().getBBox(),o=s.width,u=s.x,l=e.append("text").attr("x",0).attr("y",ft().state.titleShift).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.id),h=l.node().getBBox().width+i,p=Math.max(h,o);p===o&&(p=p+i);let g,y=e.node().getBBox();t.doc,g=u-n,h>o&&(g=(o-p)/2+n),Math.abs(u-y.x)<n&&h>o&&(g=u-(h-o)/2);let E=1-ft().state.textHeight;return e.insert("rect",":first-child").attr("x",g).attr("y",E).attr("class",r?"alt-composit":"composit").attr("width",p).attr("height",y.height+ft().state.textHeight+ft().state.titleShift+1).attr("rx","0"),l.attr("x",g+n),h<=o&&l.attr("x",u+(p-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",g).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",p).attr("height",ft().state.textHeight*3).attr("rx",ft().state.radius),e.insert("rect",":first-child").attr("x",g).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",p).attr("height",y.height+3+2*ft().state.textHeight).attr("rx",ft().state.radius),e},"addTitleAndBox"),bGt=a(e=>(e.append("circle").attr("class","end-state-outer").attr("r",ft().state.sizeUnit+ft().state.miniPadding).attr("cx",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding).attr("cy",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit+2).attr("cy",ft().state.padding+ft().state.sizeUnit+2)),"drawEndState"),vGt=a((e,t)=>{let r=ft().state.forkWidth,n=ft().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",ft().state.padding).attr("y",ft().state.padding)},"drawForkJoinState"),_Gt=a((e,t,r,n)=>{let i=0,s=n.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let o=e.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");let u=o.split(Gr.lineBreakRegex),l=1.25*ft().state.noteMargin;for(let f of u){let h=f.trim();if(h.length>0){let p=s.append("tspan");if(p.text(h),l===0){let g=p.node().getBBox();l+=g.height}i+=l,p.attr("x",t+ft().state.noteMargin),p.attr("y",r+i+1.25*ft().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},"_drawLongText"),xGt=a((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",ft().state.padding),n=t.append("g"),{textWidth:i,textHeight:s}=_Gt(e,0,0,n);return r.attr("height",s+2*ft().state.noteMargin),r.attr("width",i+ft().state.noteMargin*2),r},"drawNote"),hDe=a(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&dGt(i),t.type==="end"&&bGt(i),(t.type==="fork"||t.type==="join")&&vGt(i,t),t.type==="note"&&xGt(t.note.text,i),t.type==="divider"&&pGt(i),t.type==="default"&&t.descriptions.length===0&&gGt(i,t),t.type==="default"&&t.descriptions.length>0&&yGt(i,t);let s=i.node().getBBox();return n.width=s.width+2*ft().state.padding,n.height=s.height+2*ft().state.padding,n},"drawState"),dDe=0,wGt=a(function(e,t,r){let n=a(function(l){switch(l){case pd.relationType.AGGREGATION:return"aggregation";case pd.relationType.EXTENSION:return"extension";case pd.relationType.COMPOSITION:return"composition";case pd.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(l=>!Number.isNaN(l.y));let i=t.points,s=V0().x(function(l){return l.x}).y(function(l){return l.y}).curve(Gh),o=e.append("path").attr("d",s(i)).attr("id","edge"+dDe).attr("class","transition"),u="";if(ft().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),o.attr("marker-end","url("+u+"#"+n(pd.relationType.DEPENDENCY)+"End)"),typeof r.title<"u"){let l=e.append("g").attr("class","stateLabel"),{x:f,y:h}=un.calcLabelPosition(t.points),p=Gr.getRows(r.title),g=0,y=[],E=0,M=0;for(let Q=0;Q<=p.length;Q++){let V=l.append("text").attr("text-anchor","middle").text(p[Q]).attr("x",f).attr("y",h+g),W=V.node().getBBox();E=Math.max(E,W.width),M=Math.min(M,W.x),Pe.info(W.x,f,h+g),g===0&&(g=V.node().getBBox().height,Pe.info("Title height",g,h)),y.push(V)}let z=g*p.length;if(p.length>1){let Q=(p.length-1)*g*.5;y.forEach((V,W)=>V.attr("y",h+W*g-Q)),z=g*p.length}let P=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",f-E/2-ft().state.padding/2).attr("y",h-z/2-ft().state.padding/2-3.5).attr("width",E+ft().state.padding).attr("height",z+ft().state.padding),Pe.info(P)}dDe++},"drawEdge"),yc,b$={},AGt=a(function(){},"setConf$3"),EGt=a(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),SGt=a(function(e,t,r,n){yc=ft().state;let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let o=i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body"),u=i==="sandbox"?s.nodes()[0].contentDocument:document;Pe.debug("Rendering diagram "+e);let l=o.select(`[id='${t}']`);EGt(l),new Ea.default.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});let h=n.db.getRootDoc();OOe(h,l,void 0,!1,o,u,n);let p=yc.padding,g=l.node().getBBox(),y=g.width+p*2,E=g.height+p*2,M=y*1.75;el(l,E,M,yc.useMaxWidth),l.attr("viewBox",`${g.x-yc.padding}  ${g.y-yc.padding} `+y+" "+E),Oo(n.db,l,t)},"draw$3"),kGt=a(e=>e?e.length*yc.fontSizeFactor:1,"getLabelWidth"),OOe=a((e,t,r,n,i,s,o)=>{let u=new Ea.default.Graph({compound:!0,multigraph:!0}),l,f=!0;for(l=0;l<e.length;l++)if(e[l].stmt==="relation"){f=!1;break}r?u.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:f?1:yc.edgeLengthFactor,nodeSep:f?1:50,isMultiGraph:!0}):u.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:f?1:yc.edgeLengthFactor,nodeSep:f?1:50,ranker:"tight-tree",isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}}),o.db.extract(e);let h=o.db.getStates(),p=o.db.getRelations(),g=Object.keys(h);for(let P=0;P<g.length;P++){let Q=h[g[P]];r&&(Q.parentId=r);let V;if(Q.doc){let W=t.append("g").attr("id",Q.id).attr("class","stateGroup");V=OOe(Q.doc,W,Q.id,!n,i,s,o);{W=mGt(W,Q,n);let F=W.node().getBBox();V.width=F.width,V.height=F.height+yc.padding/2,b$[Q.id]={y:yc.compositTitleSize}}}else V=hDe(t,Q);if(Q.note){let W={descriptions:[],id:Q.id+"-note",note:Q.note,type:"note"},F=hDe(t,W);Q.note.position==="left of"?(u.setNode(V.id+"-note",F),u.setNode(V.id,V)):(u.setNode(V.id,V),u.setNode(V.id+"-note",F)),u.setParent(V.id,V.id+"-group"),u.setParent(V.id+"-note",V.id+"-group")}else u.setNode(V.id,V)}Pe.debug("Count=",u.nodeCount(),u);let y=0;p.forEach(function(P){y++,Pe.debug("Setting edge",P),u.setEdge(P.id1,P.id2,{relation:P,width:kGt(P.title),height:yc.labelHeight*Gr.getRows(P.title).length,labelpos:"c"},"id"+y)}),Bv.default.layout(u),Pe.debug("Graph after layout",u.nodes());let E=t.node();u.nodes().forEach(function(P){typeof P<"u"&&typeof u.node(P)<"u"?(Pe.warn("Node "+P+": "+JSON.stringify(u.node(P))),i.select("#"+E.id+" #"+P).attr("transform","translate("+(u.node(P).x-u.node(P).width/2)+","+(u.node(P).y+(b$[P]?b$[P].y:0)-u.node(P).height/2)+" )"),i.select("#"+E.id+" #"+P).attr("data-x-shift",u.node(P).x-u.node(P).width/2),s.querySelectorAll("#"+E.id+" #"+P+" .divider").forEach(V=>{let W=V.parentElement,F=0,B=0;W&&(W.parentElement&&(F=W.parentElement.getBBox().width),B=parseInt(W.getAttribute("data-x-shift"),10),Number.isNaN(B)&&(B=0)),V.setAttribute("x1",0-B+8),V.setAttribute("x2",F-B-8)})):Pe.debug("No Node "+P+": "+JSON.stringify(u.node(P)))});let M=E.getBBox();u.edges().forEach(function(P){typeof P<"u"&&typeof u.edge(P)<"u"&&(Pe.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(u.edge(P))),wGt(t,u.edge(P),u.edge(P).relation))}),M=E.getBBox();let z={id:r||"root",label:r||"root",width:0,height:0};return z.width=M.width+2*yc.padding,z.height=M.height+2*yc.padding,Pe.debug("Doc rendered",z,u),z},"renderDoc"),CGt={setConf:AGt,draw:SGt},IGt={},TGt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)IGt[t[r]]=e[t[r]]},"setConf$2"),Qn={},MGt=a(function(e,t){return Pe.trace("Extracting classes"),t.sb.clear(),t.parser.parse(e),t.sb.getClasses()},"getClasses"),SM=a((e,t,r,n)=>{if(r.id!=="root"){let i="rect";r.start===!0&&(i="start"),r.start===!1&&(i="end"),r.type!=="default"&&(i=r.type),Qn[r.id]||(Qn[r.id]={id:r.id,shape:i,description:Gr.sanitizeText(r.id,ft()),classes:"statediagram-state"}),r.description&&(Array.isArray(Qn[r.id].description)?(Qn[r.id].shape="rectWithTitle",Qn[r.id].description.push(r.description)):Qn[r.id].description.length>0?(Qn[r.id].shape="rectWithTitle",Qn[r.id].description===r.id?Qn[r.id].description=[r.description]:Qn[r.id].description=[Qn[r.id].description,r.description]):(Qn[r.id].shape="rect",Qn[r.id].description=r.description),Qn[r.id].description=Gr.sanitizeTextOrArray(Qn[r.id].description,ft())),Qn[r.id].description.length===1&&Qn[r.id].shape==="rectWithTitle"&&(Qn[r.id].shape="rect"),!Qn[r.id].type&&r.doc&&(Pe.info("Setting cluster for ",r.id,j$(r)),Qn[r.id].type="group",Qn[r.id].dir=j$(r),Qn[r.id].shape=r.type==="divider"?"divider":"roundedWithTitle",Qn[r.id].classes=Qn[r.id].classes+" "+(n?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));let s={labelStyle:"",shape:Qn[r.id].shape,labelText:Qn[r.id].description,classes:Qn[r.id].classes,style:"",id:r.id,dir:Qn[r.id].dir,domId:"state-"+r.id+"-"+lp,type:Qn[r.id].type,padding:15};if(r.note){let o={labelStyle:"",shape:"note",labelText:r.note.text,classes:"statediagram-note",style:"",id:r.id+"----note-"+lp,domId:"state-"+r.id+"----note-"+lp,type:Qn[r.id].type,padding:15},u={labelStyle:"",shape:"noteGroup",labelText:r.note.text,classes:Qn[r.id].classes,style:"",id:r.id+"----parent",domId:"state-"+r.id+"----parent-"+lp,type:"group",padding:0};lp++,e.setNode(r.id+"----parent",u),e.setNode(o.id,o),e.setNode(r.id,s),e.setParent(r.id,r.id+"----parent"),e.setParent(o.id,r.id+"----parent");let l=r.id,f=o.id;r.note.position==="left of"&&(l=o.id,f=r.id),e.setEdge(l,f,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else e.setNode(r.id,s)}t&&t.id!=="root"&&(Pe.trace("Setting node ",r.id," to be child of its parent ",t.id),e.setParent(r.id,t.id)),r.doc&&(Pe.trace("Adding nodes children "),BGt(e,r,r.doc,!n))},"setupNode"),lp=0,BGt=a((e,t,r,n)=>{Pe.trace("items",r),r.forEach(i=>{if(i.stmt==="state"||i.stmt==="default")SM(e,t,i,n);else if(i.stmt==="relation"){SM(e,t,i.state1,n),SM(e,t,i.state2,n);let s={id:"edge"+lp,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:Gr.sanitizeText(i.description,ft()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},o=i.state1.id,u=i.state2.id;e.setEdge(o,u,s,lp),lp++}})},"setupDoc"),j$=a((e,t)=>{let r=t||"TB";if(e.doc)for(let n=0;n<e.doc.length;n++){let i=e.doc[n];i.stmt==="dir"&&(r=i.value)}return r},"getDir"),RGt=a(function(e,t,r,n){Pe.info("Drawing state diagram (v2)",t),Qn={},n.db.getDirection();let{securityLevel:i,state:s}=ft(),o=s.nodeSpacing||50,u=s.rankSpacing||50;Pe.info(n.db.getRootDocV2()),n.db.extract(n.db.getRootDocV2()),Pe.info(n.db.getRootDocV2());let l=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:j$(n.db.getRootDocV2()),nodesep:o,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});SM(l,void 0,n.db.getRootDocV2(),!0);let f;i==="sandbox"&&(f=Zt("#i"+t));let h=i==="sandbox"?Zt(f.nodes()[0].contentDocument.body):Zt("body"),p=h.select(`[id="${t}"]`),g=h.select("#"+t+" g");pX(g,l,["barb"],"statediagram",t);let y=8,E=p.node().getBBox(),M=E.width+y*2,z=E.height+y*2;p.attr("class","statediagram");let P=p.node().getBBox();el(p,z,M,s.useMaxWidth);let Q=`${P.x-y} ${P.y-y} ${M} ${z}`;Pe.debug(`viewBox ${Q}`),p.attr("viewBox",Q);let V=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let W=0;W<V.length;W++){let F=V[W],B=F.getBBox(),S=document.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",B.width),S.setAttribute("height",B.height),F.insertBefore(S,F.firstChild)}Oo(n.db,p,t)},"draw$2"),LGt={setConf:TGt,getClasses:MGt,draw:RGt},G$=function(){var e=a(function(M,z,P,Q){for(P=P||{},Q=M.length;Q--;P[M[Q]]=z);return P},"o"),t=[1,2],r=[1,5],n=[6,9,11,17,18,20,22,23,24,26],i=[1,15],s=[1,16],o=[1,17],u=[1,18],l=[1,19],f=[1,20],h=[1,24],p=[4,6,9,11,17,18,20,22,23,24,26],g={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:a(function(z,P,Q,V,W,F,B){var S=F.length-1;switch(W){case 1:return F[S-1];case 3:this.$=[];break;case 4:F[S-1].push(F[S]),this.$=F[S-1];break;case 5:case 6:this.$=F[S];break;case 7:case 8:this.$=[];break;case 11:V.setDiagramTitle(F[S].substr(6)),this.$=F[S].substr(6);break;case 12:this.$=F[S].trim(),V.setAccTitle(this.$);break;case 13:case 14:this.$=F[S].trim(),V.setAccDescription(this.$);break;case 15:V.addSection(F[S].substr(8)),this.$=F[S].substr(8);break;case 16:V.addTask(F[S-1],F[S]),this.$="task";break;case 18:V.parseDirective("%%{","open_directive");break;case 19:V.parseDirective(F[S],"type_directive");break;case 20:F[S]=F[S].trim().replace(/'/g,'"'),V.parseDirective(F[S],"arg_directive");break;case 21:V.parseDirective("}%%","close_directive","journey");break}},"anonymous"),table:[{3:1,4:t,7:3,12:4,26:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,26:r},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:s,20:o,22:u,23:l,24:f,26:r},{1:[2,2]},{14:22,15:[1,23],29:h},e([15,29],[2,19]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:21,10:25,12:4,17:i,18:s,20:o,22:u,23:l,24:f,26:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),{19:[1,26]},{21:[1,27]},e(n,[2,14]),e(n,[2,15]),{25:[1,28]},e(n,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(n,[2,5]),e(n,[2,12]),e(n,[2,13]),e(n,[2,16]),e(p,[2,9]),{14:32,29:h},{29:[2,20]},{11:[1,33]},e(p,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:a(function(z,P){if(P.recoverable)this.trace(z);else{var Q=new Error(z);throw Q.hash=P,Q}},"parseError"),parse:a(function(z){var P=this,Q=[0],V=[],W=[null],F=[],B=this.table,S="",T=0,k=0,R=2,x=1,N=F.slice.call(arguments,1),m=Object.create(this.lexer),v={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(v.yy[A]=this.yy[A]);m.setInput(z,v.yy),v.yy.lexer=m,v.yy.parser=this,typeof m.yylloc>"u"&&(m.yylloc={});var U=m.yylloc;F.push(U);var G=m.options&&m.options.ranges;typeof v.yy.parseError=="function"?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function K(){var D;return D=V.pop()||m.lex()||x,typeof D!="number"&&(D instanceof Array&&(V=D,D=V.pop()),D=P.symbols_[D]||D),D}a(K,"lex");for(var Z,O,$,L,ee={},ve,ye,se,be;;){if(O=Q[Q.length-1],this.defaultActions[O]?$=this.defaultActions[O]:((Z===null||typeof Z>"u")&&(Z=K()),$=B[O]&&B[O][Z]),typeof $>"u"||!$.length||!$[0]){var Y="";be=[];for(ve in B[O])this.terminals_[ve]&&ve>R&&be.push("'"+this.terminals_[ve]+"'");m.showPosition?Y="Parse error on line "+(T+1)+`:
`+m.showPosition()+`
Expecting `+be.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":Y="Parse error on line "+(T+1)+": Unexpected "+(Z==x?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(Y,{text:m.match,token:this.terminals_[Z]||Z,line:m.yylineno,loc:U,expected:be})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+Z);switch($[0]){case 1:Q.push(Z),W.push(m.yytext),F.push(m.yylloc),Q.push($[1]),Z=null,k=m.yyleng,S=m.yytext,T=m.yylineno,U=m.yylloc;break;case 2:if(ye=this.productions_[$[1]][1],ee.$=W[W.length-ye],ee._$={first_line:F[F.length-(ye||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(ye||1)].first_column,last_column:F[F.length-1].last_column},G&&(ee._$.range=[F[F.length-(ye||1)].range[0],F[F.length-1].range[1]]),L=this.performAction.apply(ee,[S,k,T,v.yy,$[1],W,F].concat(N)),typeof L<"u")return L;ye&&(Q=Q.slice(0,-1*ye*2),W=W.slice(0,-1*ye),F=F.slice(0,-1*ye)),Q.push(this.productions_[$[1]][0]),W.push(ee.$),F.push(ee._$),se=B[Q[Q.length-2]][Q[Q.length-1]],Q.push(se);break;case 3:return!0}}return!0},"parse2")},y=function(){var M={EOF:1,parseError:a(function(P,Q){if(this.yy.parser)this.yy.parser.parseError(P,Q);else throw new Error(P)},"parseError"),setInput:function(z,P){return this.yy=P||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var P=z.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var P=z.length,Q=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Q.length-1&&(this.yylineno-=Q.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Q?(Q.length===V.length?this.yylloc.first_column:0)+V[V.length-Q.length].length-Q[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),P=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+P+"^"},test_match:function(z,P){var Q,V,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),V=z[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],Q=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Q)return Q;if(this._backtrack){for(var F in W)this[F]=W[F];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,P,Q,V;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),F=0;F<W.length;F++)if(Q=this._input.match(this.rules[W[F]]),Q&&(!P||Q[0].length>P[0].length)){if(P=Q,V=F,this.options.backtrack_lexer){if(z=this.test_match(Q,W[F]),z!==!1)return z;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(z=this.test_match(P,W[V]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var P=this.next();return P||this.lex()},"lex"),begin:a(function(P){this.conditionStack.push(P)},"begin"),popState:a(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:a(function(P){this.begin(P)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(P,Q,V,W){switch(V){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return M}();g.lexer=y;function E(){this.yy={}}return a(E,"Parser"),E.prototype=g,g.Parser=E,new E}();G$.parser=G$;var DGt=a(e=>e.match(/^\s*journey/)!==null,"journeyDetector"),Mv="",LX=[],s6=[],_v=[],NGt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$1"),OGt=a(function(){LX.length=0,s6.length=0,Mv="",_v.length=0,tl()},"clear"),qGt=a(function(e){Mv=e,LX.push(e)},"addSection"),PGt=a(function(){return LX},"getSections"),FGt=a(function(){let e=pDe(),t=100,r=0;for(;!e&&r<t;)e=pDe(),r++;return s6.push(..._v),s6},"getTasks"),UGt=a(function(){let e=[];return s6.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),YGt=a(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let s=i.map(u=>u.trim()),o={section:Mv,type:Mv,people:s,task:e,score:n};_v.push(o)},"addTask"),HGt=a(function(e){let t={section:Mv,type:Mv,description:e,task:e,classes:[]};s6.push(t)},"addTaskOrg"),pDe=a(function(){let e=a(function(r){return _v[r].processed},"compileTask"),t=!0;for(let r=0;r<_v.length;r++)e(r),t=t&&_v[r].processed;return t},"compileTasks"),zGt=a(function(){return UGt()},"getActors"),gDe={parseDirective:NGt,getConfig:()=>ft().journey,clear:OGt,setDiagramTitle:fB,getDiagramTitle:hB,setAccTitle:cu,getAccTitle:rl,setAccDescription:nl,getAccDescription:il,addSection:qGt,getSections:PGt,getTasks:FGt,addTask:YGt,addTaskOrg:HGt,getActors:zGt},SB=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},"drawRect"),QGt=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(l){let f=qb().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(s,"smile");function o(l){let f=qb().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(o,"sad");function u(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(u,"ambivalent"),t.score>3?s(i):t.score<3?o(i):u(i),n},"drawFace"),qOe=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),typeof r.class<"u"&&r.attr("class",r.class),typeof t.title<"u"&&r.append("title").text(t.title),r},"drawCircle"),POe=a(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),typeof t.class<"u"&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),WGt=a(function(e,t){function r(i,s,o,u,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-l)+" "+(i+o-l*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,POe(e,t)},"drawLabel"),VGt=a(function(e,t,r){let n=e.append("g"),i=DX();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,SB(n,i),FOe(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),yDe=-1,jGt=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");yDe++;let s=300+5*30;i.append("line").attr("id","task"+yDe).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),QGt(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=DX();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,SB(i,o);let u=t.x+14;t.people.forEach(l=>{let f=t.actors[l].color,h={cx:u,cy:t.y,r:7,fill:f,stroke:"#000",title:l,pos:t.actors[l].position};qOe(i,h),u+=10}),FOe(r)(t.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),GGt=a(function(e,t){SB(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),KGt=a(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),DX=a(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),FOe=function(){function e(i,s,o,u,l,f,h,p){let g=s.append("text").attr("x",o+l/2).attr("y",u+f/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(g,h)}a(e,"byText");function t(i,s,o,u,l,f,h,p,g){let{taskFontSize:y,taskFontFamily:E}=p,M=i.split(/<br\s*\/?>/gi);for(let z=0;z<M.length;z++){let P=z*y-y*(M.length-1)/2,Q=s.append("text").attr("x",o+l/2).attr("y",u).attr("fill",g).style("text-anchor","middle").style("font-size",y).style("font-family",E);Q.append("tspan").attr("x",o+l/2).attr("dy",P).text(M[z]),Q.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,u,l,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",u).attr("width",l).attr("height",f).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,u,l,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)o in s&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),$Gt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),o6={drawRect:SB,drawCircle:qOe,drawSection:VGt,drawText:POe,drawLabel:WGt,drawTask:jGt,drawBackgroundRect:GGt,getTextObj:KGt,getNoteRect:DX,initGraphics:$Gt},XGt=a(function(e){Object.keys(e).forEach(function(r){kB[r]=e[r]})},"setConf$1"),yd={};function JGt(e){let t=ft().journey,r=60;Object.keys(yd).forEach(n=>{let i=yd[n].color,s={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:yd[n].position};o6.drawCircle(e,s);let o={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};o6.drawText(e,o),r+=20})}a(JGt,"drawActorLegend");var kB=ft().journey,sy=kB.leftMargin,ZGt=a(function(e,t,r,n){let i=ft().journey;n.db.clear(),n.parser.parse(e+`
`);let s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let u=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body");su.init();let l=u.select("#"+t);o6.initGraphics(l);let f=n.db.getTasks(),h=n.db.getDiagramTitle(),p=n.db.getActors();for(let P in yd)delete yd[P];let g=0;p.forEach(P=>{yd[P]={color:i.actorColours[g%i.actorColours.length],position:g},g++}),JGt(l),su.insert(0,0,sy,Object.keys(yd).length*50),eKt(l,f,0);let y=su.getBounds();h&&l.append("text").text(h).attr("x",sy).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let E=y.stopy-y.starty+2*i.diagramMarginY,M=sy+y.stopx+2*i.diagramMarginX;el(l,E,M,i.useMaxWidth),l.append("line").attr("x1",sy).attr("y1",i.height*4).attr("x2",M-sy-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let z=h?70:0;l.attr("viewBox",`${y.startx} -25 ${M} ${E+z}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",E+z+25),Oo(n.db,l,t)},"draw$1"),su={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=ft().journey,s=this,o=0;function u(l){return a(function(h){o++;let p=s.sequenceItems.length-o+1;s.updateVal(h,"starty",t-p*i.boxMargin,Math.min),s.updateVal(h,"stopy",n+p*i.boxMargin,Math.max),s.updateVal(su.data,"startx",e-p*i.boxMargin,Math.min),s.updateVal(su.data,"stopx",r+p*i.boxMargin,Math.max),l!=="activation"&&(s.updateVal(h,"startx",e-p*i.boxMargin,Math.min),s.updateVal(h,"stopx",r+p*i.boxMargin,Math.max),s.updateVal(su.data,"starty",t-p*i.boxMargin,Math.min),s.updateVal(su.data,"stopy",n+p*i.boxMargin,Math.max))},"updateItemBounds")}a(u,"updateFn"),this.sequenceItems.forEach(u())},insert:function(e,t,r,n){let i=Math.min(e,r),s=Math.max(e,r),o=Math.min(t,n),u=Math.max(t,n);this.updateVal(su.data,"startx",i,Math.min),this.updateVal(su.data,"starty",o,Math.min),this.updateVal(su.data,"stopx",s,Math.max),this.updateVal(su.data,"stopy",u,Math.max),this.updateBounds(i,o,s,u)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},v$=kB.sectionFills,mDe=kB.sectionColours,eKt=a(function(e,t,r){let n=ft().journey,i="",s=n.height*2+n.diagramMarginY,o=r+s,u=0,l="#CCC",f="black",h=0;for(let p=0;p<t.length;p++){let g=t[p];if(i!==g.section){l=v$[u%v$.length],h=u%v$.length,f=mDe[u%mDe.length];let E={x:p*n.taskMargin+p*n.width+sy,y:50,text:g.section,fill:l,num:h,colour:f};o6.drawSection(e,E,n),i=g.section,u++}let y=g.people.reduce((E,M)=>(yd[M]&&(E[M]=yd[M]),E),{});g.x=p*n.taskMargin+p*n.width+sy,g.y=o,g.width=n.diagramMarginX,g.height=n.diagramMarginY,g.colour=f,g.fill=l,g.num=h,g.actors=y,o6.drawTask(e,g,n),su.insert(g.x,g.y,g.x+g.width+n.taskMargin,300+5*30)}},"drawTasks"),bDe={setConf:XGt,draw:ZGt},vDe={},tKt=a(function(e){vDe={...vDe,...e}},"setConf"),rKt=a((e,t,r)=>{try{Pe.debug(`Renering svg for syntax error
`);let n=Zt("#"+t),i=n.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+r),n.attr("height",100),n.attr("width",500),n.attr("viewBox","768 0 912 512")}catch(n){Pe.error("Error while rendering info diagram"),Pe.error(mFt(n))}},"draw"),NX={setConf:tKt,draw:rKt},_De=!1,g6=a(()=>{_De||(_De=!0,ts("error",{db:{clear:()=>{}},styles:ODe,renderer:NX,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),ts("c4",{parser:Z5,db:eNe,renderer:vRe,styles:zDe,init:e=>{vRe.setConf(e.c4)}},_Ut),ts("class",{parser:qM,db:gv,renderer:zYt,styles:U5,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,gv.clear()}},gYt),ts("classDiagram",{parser:qM,db:gv,renderer:ZHt,styles:U5,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,gv.clear()}},yYt),ts("er",{parser:M$,db:uzt,renderer:_zt,styles:NDe},ezt),ts("gantt",{parser:R$,db:TX,renderer:aVt,styles:qDe},CWt),ts("info",{parser:O$,db:lVt,renderer:hVt,styles:PDe},dVt),ts("pie",{parser:q$,db:wVt,renderer:EVt,styles:FDe},pVt),ts("requirement",{parser:P$,db:QVt,renderer:ZVt,styles:UDe},SVt),ts("sequence",{parser:U$,db:oDe,renderer:uDe,styles:YDe,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");oDe.setWrap(e.wrap),uDe.setConf(e.sequence)}},ejt),ts("state",{parser:jM,db:pd,renderer:CGt,styles:TM,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,pd.clear()}},Gjt),ts("stateDiagram",{parser:jM,db:pd,renderer:LGt,styles:TM,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,pd.clear()}},Kjt),ts("journey",{parser:G$,db:gDe,renderer:bDe,styles:HDe,init:e=>{bDe.setConf(e.journey),gDe.clear()}},DGt),ts("flowchart",{parser:YM,db:dd,renderer:m$,styles:IM,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,AX.setConf(e.flowchart),dd.clear(),dd.setGen("gen-1")}},xzt),ts("flowchart-v2",{parser:YM,db:dd,renderer:m$,styles:IM,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,LDe({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),m$.setConf(e.flowchart),dd.clear(),dd.setGen("gen-2")}},wzt),ts("gitGraph",{parser:E$,db:lUt,renderer:bUt,styles:vUt},WFt))},"addDiagrams"),yp=class{constructor(t,r){L5(this,"type","graph"),L5(this,"parser"),L5(this,"renderer"),L5(this,"db"),L5(this,"detectTypeFailed",!1);var n,i;this.txt=t;let s=ft();this.txt=t;try{this.type=$$(t,s)}catch(u){this.handleError(u,r),this.type="error",this.detectTypeFailed=!0}let o=VDe(this.type);Pe.debug("Type "+this.type),this.db=o.db,(i=(n=this.db).clear)==null||i.call(n),this.renderer=o.renderer,this.parser=o.parser,this.parser.parser.yy=this.db,o.init&&(o.init(s),Pe.debug("Initialized diagram "+this.type,s)),this.txt+=`
`,this.parse(this.txt,r)}parse(t,r){if(this.detectTypeFailed)return!1;try{return t=t+`
`,this.db.clear(),this.parser.parse(t),!0}catch(n){this.handleError(n,r)}return!1}handleError(t,r){if(r)tX(t)?r(t.str,t.hash):r(t);else throw t}getParser(){return this.parser}getType(){return this.type}};a(yp,"Diagram");var OX=a((e,t)=>{let r=$$(e,ft());try{return VDe(r),new yp(e,t)}catch(n){if(!(n instanceof Y5))throw Pe.error(n),n;let i=jOt(r);if(!i)throw new Error(`Loader for ${r} not found.`);return i().then(({diagram:s})=>(ts(r,s,void 0,s.injectUtils),new yp(e,t)))}},"getDiagramFromText");function nKt(e,t){return g6(),new yp(e,t).parse(e,t)}a(nKt,"parse$1");async function iKt(e,t){return g6(),(await OX(e,t)).parse(e,t)}a(iKt,"parseAsync$1");var UOe=a(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),CB=a(function(e){let t=e;return t=t.replace(/ﬂ°°/g,function(){return"&#"}),t=t.replace(/ﬂ°/g,function(){return"&"}),t=t.replace(/¶ß/g,function(){return";"}),t},"decodeEntities"),aKt=a(function(e,t,r,n){var i;g6(),$5(),t=t.replace(/\r\n?/g,`
`);let s=un.detectInit(t);s&&(oy(s),rX(s));let o=ft();Pe.debug(o),t.length>o.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let u=Zt("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),o.securityLevel==="sandbox"){let F=Zt(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");u=Zt(F.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Zt(n);u.append("div").attr("id","d"+e).attr("style","font-family: "+o.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{let F=document.getElementById(e);F&&F.remove();let B;if(o.securityLevel==="sandbox"?B=document.querySelector("#i"+e):B=document.querySelector("#d"+e),B&&B.remove(),o.securityLevel==="sandbox"){let S=Zt("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");u=Zt(S.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Zt("body");u.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=UOe(t);let l,f;try{if(l=OX(t),"then"in l)throw new Error("Diagram is a promise")}catch(F){l=new yp("error"),f=F}let h=u.select("#d"+e).node(),p=l.type,g=h.firstChild,y=g.firstChild,E="";if(o.themeCSS!==void 0&&(E+=`
${o.themeCSS}`),o.fontFamily!==void 0&&(E+=`
:root { --mermaid-font-family: ${o.fontFamily}}`),o.altFontFamily!==void 0&&(E+=`
:root { --mermaid-alt-font-family: ${o.altFontFamily}}`),p==="flowchart"||p==="flowchart-v2"||p==="graph"){let F=AX.getClasses(t,l),B=o.htmlLabels||((i=o.flowchart)==null?void 0:i.htmlLabels);for(let S in F)B?(E+=`
.${S} > * { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} span { ${F[S].styles.join(" !important; ")} !important; }`):(E+=`
.${S} path { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} rect { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} polygon { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} ellipse { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} circle { ${F[S].styles.join(" !important; ")} !important; }`,F[S].textStyles&&(E+=`
.${S} tspan { ${F[S].textStyles.join(" !important; ")} !important; }`))}let z=a((F,B)=>e5(HV(`${F}{${B}}`),zV),"stylis")(`#${e}`,QDe(p,E,o.themeVariables)),P=document.createElement("style");P.innerHTML=`#${e} `+z,g.insertBefore(P,y);try{l.renderer.draw(t,e,CM.version,l)}catch(F){throw NX.draw(t,e,CM.version),F}u.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let Q=u.select("#d"+e).node().innerHTML;if(Pe.debug("cnf.arrowMarkerAbsolute",o.arrowMarkerAbsolute),!ns(o.arrowMarkerAbsolute)&&o.securityLevel!=="sandbox"&&(Q=Q.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),Q=CB(Q),Q=Q.replace(/<br>/g,"<br/>"),o.securityLevel==="sandbox"){let F=u.select("#d"+e+" svg").node(),B="100%",S="100%";F&&(S=F.viewBox.baseVal.height+"px"),Q=`<iframe style="width:${B};height:${S};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+Q+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else o.securityLevel!=="loose"&&(Q=xv.default.sanitize(Q,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(p){case"flowchart":case"flowchart-v2":r(Q,dd.bindFunctions);break;case"gantt":r(Q,TX.bindFunctions);break;case"class":case"classDiagram":r(Q,gv.bindFunctions);break;default:r(Q)}else Pe.debug("CB = undefined!");wOe();let V=o.securityLevel==="sandbox"?"#i"+e:"#d"+e,W=Zt(V).node();if(W&&"remove"in W&&W.remove(),f)throw f;return Q},"render"),sKt=a(async function(e,t,r,n){var i;g6(),$5(),t=t.replace(/\r\n?/g,`
`);let s=un.detectInit(t);s&&(oy(s),rX(s));let o=ft();Pe.debug(o),t.length>o.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let u=Zt("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),o.securityLevel==="sandbox"){let F=Zt(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");u=Zt(F.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Zt(n);u.append("div").attr("id","d"+e).attr("style","font-family: "+o.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{let F=document.getElementById(e);F&&F.remove();let B;if(o.securityLevel==="sandbox"?B=document.querySelector("#i"+e):B=document.querySelector("#d"+e),B&&B.remove(),o.securityLevel==="sandbox"){let S=Zt("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");u=Zt(S.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Zt("body");u.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=UOe(t);let l,f;try{l=await OX(t)}catch(F){l=new yp("error"),f=F}let h=u.select("#d"+e).node(),p=l.type,g=h.firstChild,y=g.firstChild,E="";if(o.themeCSS!==void 0&&(E+=`
${o.themeCSS}`),o.fontFamily!==void 0&&(E+=`
:root { --mermaid-font-family: ${o.fontFamily}}`),o.altFontFamily!==void 0&&(E+=`
:root { --mermaid-alt-font-family: ${o.altFontFamily}}`),p==="flowchart"||p==="flowchart-v2"||p==="graph"){let F=AX.getClasses(t,l),B=o.htmlLabels||((i=o.flowchart)==null?void 0:i.htmlLabels);for(let S in F)B?(E+=`
.${S} > * { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} span { ${F[S].styles.join(" !important; ")} !important; }`):(E+=`
.${S} path { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} rect { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} polygon { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} ellipse { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} circle { ${F[S].styles.join(" !important; ")} !important; }`,F[S].textStyles&&(E+=`
.${S} tspan { ${F[S].textStyles.join(" !important; ")} !important; }`))}let z=a((F,B)=>e5(HV(`${F}{${B}}`),zV),"stylis")(`#${e}`,QDe(p,E,o.themeVariables)),P=document.createElement("style");P.innerHTML=`#${e} `+z,g.insertBefore(P,y);try{await l.renderer.draw(t,e,CM.version,l)}catch(F){throw NX.draw(t,e,CM.version),F}u.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let Q=u.select("#d"+e).node().innerHTML;if(Pe.debug("cnf.arrowMarkerAbsolute",o.arrowMarkerAbsolute),!ns(o.arrowMarkerAbsolute)&&o.securityLevel!=="sandbox"&&(Q=Q.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),Q=CB(Q),Q=Q.replace(/<br>/g,"<br/>"),o.securityLevel==="sandbox"){let F=u.select("#d"+e+" svg").node(),B="100%",S="100%";F&&(S=F.viewBox.baseVal.height+"px"),Q=`<iframe style="width:${B};height:${S};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+Q+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else o.securityLevel!=="loose"&&(Q=xv.default.sanitize(Q,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(p){case"flowchart":case"flowchart-v2":r(Q,dd.bindFunctions);break;case"gantt":r(Q,TX.bindFunctions);break;case"class":case"classDiagram":r(Q,gv.bindFunctions);break;default:r(Q)}else Pe.debug("CB = undefined!");wOe();let V=o.securityLevel==="sandbox"?"#i"+e:"#d"+e,W=Zt(V).node();if(W&&"remove"in W&&W.remove(),f)throw f;return Q},"renderAsync$1"),iy={},oKt=a(function(e,t,r,n){try{if(t!==void 0)switch(t=t.trim(),r){case"open_directive":iy={};break;case"type_directive":if(!iy)throw new Error("currentDirective is undefined");iy.type=t.toLowerCase();break;case"arg_directive":if(!iy)throw new Error("currentDirective is undefined");iy.args=JSON.parse(t);break;case"close_directive":cKt(e,iy,n),iy=void 0;break}}catch(i){Pe.error(`Error while rendering sequenceDiagram directive: ${t} jison context: ${r}`),Pe.error(i.message)}},"parseDirective"),cKt=a(function(e,t,r){switch(Pe.debug(`Directive type=${t.type} with args:`,t.args),t.type){case"init":case"initialize":{["config"].forEach(n=>{typeof t.args[n]<"u"&&(r==="flowchart-v2"&&(r="flowchart"),t.args[r]=t.args[n],delete t.args[n])}),Pe.debug("sanitize in handleDirective",t.args),oy(t.args),Pe.debug("sanitize in handleDirective (done)",t.args),rX(t.args);break}case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap(t.type==="wrap");break;case"themeCss":Pe.warn("themeCss encountered");break;default:Pe.warn(`Unhandled directive: source: '%%{${t.type}: ${JSON.stringify(t.args?t.args:{})}}%%`,t);break}},"handleDirective");function uKt(e={}){e.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),PFt(e),e?.theme&&e.theme in md?e.themeVariables=md[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=md.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?qFt(e):RDe();K$(t.logLevel),g6()}a(uKt,"initialize$1");var xi=Object.freeze({render:aKt,renderAsync:sKt,parse:nKt,parseAsync:iKt,parseDirective:oKt,initialize:uKt,getConfig:ft,setConfig:LDe,getSiteConfig:RDe,updateSiteConfig:FFt,reset:()=>{$5()},globalReset:()=>{$5(wv)},defaultConfig:wv});K$(ft().logLevel);$5(ft());var lKt=a(async function(e,t,r){try{let n=xi.getConfig();n?.lazyLoadedDiagrams&&n.lazyLoadedDiagrams.length>0?await QOe(e,t,r):HOe(e,t,r)}catch(n){Pe.warn("Syntax Error rendering"),tX(n)&&Pe.warn(n.str),No.parseError&&No.parseError(n)}},"init"),YOe=a((e,t,r)=>{Pe.warn(e),tX(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),HOe=a(function(e,t,r){let n=xi.getConfig();e&&(No.sequenceConfig=e),Pe.debug(`${r?"":"No "}Callback function found`);let i;if(typeof t>"u")i=document.querySelectorAll(".mermaid");else if(typeof t=="string")i=document.querySelectorAll(t);else if(t instanceof HTMLElement)i=[t];else if(t instanceof NodeList)i=t;else throw new Error("Invalid argument nodes for mermaid.init");Pe.debug(`Found ${i.length} diagrams`),typeof e?.startOnLoad<"u"&&(Pe.debug("Start On Load: "+e?.startOnLoad),xi.updateSiteConfig({startOnLoad:e?.startOnLoad}));let s=new un.initIdGenerator(n.deterministicIds,n.deterministicIDSeed),o,u=[];for(let l of Array.from(i)){Pe.info("Rendering diagram: "+l.id);if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");let f=`mermaid-${s.next()}`;o=l.innerHTML,o=un.entityDecode(o).trim().replace(/<br\s*\/?>/gi,"<br/>");let h=un.detectInit(o);h&&Pe.debug("Detected early reinit: ",h);try{xi.render(f,o,(p,g)=>{l.innerHTML=p,typeof r<"u"&&r(f),g&&g(l)},l)}catch(p){YOe(p,u,No.parseError)}}if(u.length>0)throw u[0]},"initThrowsErrors"),_$,zOe=a(async e=>{var t;return _$===void 0&&(_$=Promise.allSettled(((t=e?.lazyLoadedDiagrams)!=null?t:[]).map(async r=>{let{id:n,detector:i,loadDiagram:s}=await import(r);EDe(n,i,s)}))),await _$},"registerLazyLoadedDiagrams"),x$,fKt=a(async e=>{var t,r;x$===void 0&&(Pe.debug(`Loading ${(t=e?.lazyLoadedDiagrams)==null?void 0:t.length} external diagrams`),x$=Promise.allSettled(((r=e?.lazyLoadedDiagrams)!=null?r:[]).map(async n=>{let{id:i,detector:s,loadDiagram:o}=await import(n),{diagram:u}=await o();ts(i,u,s,u.injectUtils)}))),await x$},"loadExternalDiagrams"),QOe=a(async function(e,t,r){let n=xi.getConfig(),i=[];for(let h of await zOe(n))h.status=="rejected"&&i.push(h.reason);e&&(No.sequenceConfig=e),Pe.debug(`${r?"":"No "}Callback function found`);let s;if(typeof t>"u")s=document.querySelectorAll(".mermaid");else if(typeof t=="string")s=document.querySelectorAll(t);else if(t instanceof HTMLElement)s=[t];else if(t instanceof NodeList)s=t;else throw new Error("Invalid argument nodes for mermaid.init");Pe.debug(`Found ${s.length} diagrams`),typeof e?.startOnLoad<"u"&&(Pe.debug("Start On Load: "+e?.startOnLoad),xi.updateSiteConfig({startOnLoad:e?.startOnLoad}));let o=new un.initIdGenerator(n.deterministicIds,n.deterministicIDSeed),u,l=[];for(let h of Array.from(s)){Pe.info("Rendering diagram: "+h.id);if(h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");let p=`mermaid-${o.next()}`;u=h.innerHTML,u=un.entityDecode(u).trim().replace(/<br\s*\/?>/gi,"<br/>");let g=un.detectInit(u);g&&Pe.debug("Detected early reinit: ",g);try{await xi.renderAsync(p,u,(y,E)=>{h.innerHTML=y,typeof r<"u"&&r(p),E&&E(h)},h)}catch(y){YOe(y,l,No.parseError)}}let f=[...i,...l];if(f.length>0)throw f[0]},"initThrowsErrorsAsync"),hKt=a(function(e){xi.initialize(e)},"initialize"),dKt=a(async function(e){e.loadExternalDiagramsAtStartup?await fKt(e):await zOe(e),xi.initialize(e)},"initializeAsync"),WOe=a(function(){if(No.startOnLoad){let{startOnLoad:e}=xi.getConfig();e&&No.init()}},"contentLoaded");if(typeof document<"u"){window.addEventListener("load",WOe,!1)}var pKt=a(function(e){No.parseError=e},"setParseErrorHandler"),gKt=a(e=>xi.parse(e,No.parseError),"parse"),$M=[],w$=!1,VOe=a(async()=>{if(!w$){for(w$=!0;$M.length>0;){let e=$M.shift();if(e)try{await e()}catch(t){Pe.error("Error executing queue",t)}}w$=!1}},"executeQueue"),yKt=a(e=>new Promise((t,r)=>{let n=a(()=>new Promise((i,s)=>{xi.parseAsync(e,No.parseError).then(o=>{i(o),t(o)},o=>{Pe.error("Error parsing",o),s(o),r(o)})}),"performCall");$M.push(n),VOe()}),"parseAsync"),mKt=a((e,t,r,n)=>new Promise((i,s)=>{let o=a(()=>new Promise((u,l)=>{xi.renderAsync(e,t,r,n).then(f=>{u(f),i(f)},f=>{Pe.error("Error parsing",f),l(f),s(f)})}),"performCall");$M.push(o),VOe()}),"renderAsync"),No={startOnLoad:!0,diagrams:{},mermaidAPI:xi,parse:gKt,parseAsync:yKt,render:xi.render,renderAsync:mKt,init:lKt,initThrowsErrors:HOe,initThrowsErrorsAsync:QOe,initialize:hKt,initializeAsync:dKt,parseError:void 0,contentLoaded:WOe,setParseErrorHandler:pKt};No.initialize({startOnLoad:!1});En.add(a(async function(){try{let t=await new Promise(r=>{No.render("aGraph",this.innerText,r)});return this.html([t])}catch(t){return this.html`
      MERMAID SYNTAX ERROR:
      <pre><code>${t.message||t.str}</code></pre>
    `}},"MermaidGraph"));var jOe=wn(Dm(),1);async function bKt(){await Yr.boot().then(console.info("Kernel booted")),await Kc.boot().then(console.info("Kernel booted")).then(()=>{rn("frontpage-feed").reRender()}),E1("main","view",(0,an.mute)(b7,f=>f?.path)),_q("main","mode-edit",p2),_q("main","mode-show",(0,an.mute)(p2,f=>!f));let e=Yr.$rant();qX(e,"markdown-render");let t=(0,an.memo)((0,an.gate)((0,an.mute)(e,f=>f.state))),r=(0,an.memo)((0,an.mute)(e,f=>f.theme)),n=(0,an.memo)((0,an.mute)(e,f=>f.encryption));E1("view-render","state",t),E1("view-render","theme",(0,an.mute)(r,f=>DS[f])),Tu("r-btn-resume",()=>$c(!0)),E1("view-editor","state",t),n0("markdown-area",(0,an.mute)(Yr.$rant(),f=>f?.text),f=>Yr.setText(f)),zde("markdown-area",(0,an.mute)(t,f=>f!=="draft"));let i=(0,an.memo)((0,an.gate)((0,an.mute)(Yr.$rant(),f=>f.size)));n0("edit-capacity-meter",(0,an.mute)(i,f=>Math.ceil(f/1024*100))),Qx("edit-capacity-bytes",(0,an.mute)(i,f=>`${f}`.padStart(4,"0"))),Tu("edit-back",()=>{pa((0,an.get)(t)==="draft"?"home":"saved")}),Tu("edit-preview",()=>$c(!(0,an.get)(p2)));let[s,o]=(0,an.write)(!1);n0("opt-is-public",s,o),Tu("edit-publish",async()=>{if((0,an.get)(n)===1){let g=await jx(!1);if(!g)return;await Yr.setSecret(g)}let h=await Yr.commit((0,an.get)(s)),p=await Yr.pickle(h);if(pa(`show/${p}`),$c(!1),console.log("Comitted",h.toString("hex")),(0,an.get)(s)){let g=jOe.Feed.from(p);await Kc.dispatch(g,!0)}}),n0("edit-opt-encryption",n,async f=>Yr.setEncryption(parseInt(f))),Tu("edit-fork",async()=>{let f=(0,an.get)(Yr.$current),[h,p]=await Yr.checkout(f,!0);console.log("Forked into",h,p),pa(`edit/${h}`)}),Tu("edit-share",v7),Tu("edit-options",()=>{rn("edit-opts-dlg").open=!0}),Tu("edit-opts-ok",()=>{rn("edit-opts-dlg").open=!1}),n0("edit-opt-theme",r,async f=>Yr.setTheme(parseInt(f)));let u=Yr.config("dark-mode",!0);n0("opt-dark-mode",...u),E1(document.body,"theme",(0,an.mute)(u[0],f=>f?"dark":"light"));let l=Yr.config("mirror",!1);n0("opt-mirror",...l),E1("main","mirror",l[0]),Qx("nfo-build",(0,an.init)(`production-2.1.0-${"77bf778ca981582f7a297971ceb69d84ef101e6f".substr(0,8)}`)),Qx("nfo-version",(0,an.init)("2.1.0".replace(/^(\d+).+/,"$1"))),Qx("opt-pk",(0,an.init)(Yr.pk.toString("base64"))),Tu("opt-btn-reload",async()=>{await Yr.store.reload(),window.location.reload()}),Tu("opt-btn-purge",a(async function(){let h=`You are about to burn your passport and everything with it...
you sure about this?`;!window.confirm(h)||(await Yr.db.clear(),window.location.reload())},"purge")),qX(Yr.$drafts(),"saved-drafts"),Yr.$current(f=>{if(!Xs(f))return;let h=rn("btn-resume-draft");h.href=`#edit/${f}`}),Qde("btn-resume-draft",(0,an.mute)(Yr.$current,f=>!Xs(f))),qX(Yr.$rants(),"saved-rants"),(0,an.mute)((0,an.gate)(b7),async({path:f,id:h,q:p})=>{switch(f){case"r":case"show":{rn("markdown-render")?.reRender();try{await Yr.import(h);let{title:g,excerpt:y}=(0,an.get)(Yr.$rant());document.head.querySelector("title").text=g,document.head.querySelector('meta[name="description"]').content=y}catch(g){console.error("500",g),window.alert(g),pa("/")}return"onroute imported() // => true|false TODO"}case"e":case"edit":if(h==="new"){let[g]=await Yr.checkout(null);return $c(!0),pa(`edit/${g}`),"onroute created new"}try{await Yr.checkout(h)}catch(g){console.error("404?",h,g),pa("/")}return`onroute checkout(${h})`;case"pitch":case"home":case"":return rn("frontpage-feed").reRender(),"frontpage";case"saved":return await Yr.checkout(null),"onroute saved checking out(null)";default:return`onroute 404 - route not found (${f}, ${(h||"").substr(0,24)})`}})(console.info),window.addEventListener("beforeunload",async()=>{Yr.isEditing()&&(console.info("Saving Draft beforeunload"),await Yr.saveDraft(),console.info("Draft Saved!"))}),setInterval(async()=>{try{let f=await Kc.store.gc();f.length&&console.log("GC Expunged",f)}catch(f){console.error("GC Failed:",f)}},3e3)}a(bKt,"main");await bKt();function qX(e,t,r){if(typeof t=="string"&&(t=rn(t)),!t.isTonicComponent)throw new Error("Expected Tonic Component");e=(0,an.gate)(e),r&&(e=(0,an.nfo)(e,r));let n=e(i=>{t.reRender(s=>({...s,n:i}))});t.disconnected=()=>n()}a(qX,"stitch");window.dump=()=>Yr.inspect().catch(console.error.bind(null,"kernel.inspect() error:"));export{qX as stitch};
/*
 * 1k Rant - Private Kernel
 * @author Tony Ivanov
 * @license AGPLv3
 */
/* ------------ NuroSurgeon ------------
 *
 * Minimal functions to stitch neurons to DOM
 * It's pretty much jQuery with recursion :shrug:
 *
 * @author Tony Ivanov <tony@decentlabs.se>
 * @license AGPLv3
 */
/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Wait for document loaded before starting the execution
 */
/*!
 LZ-UTF8 v0.6.3

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2022-07-06 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */
/*! Check if previously processed */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
