var bqe=Object.create;var Kv=Object.defineProperty;var vqe=Object.getOwnPropertyDescriptor;var _qe=Object.getOwnPropertyNames;var xqe=Object.getPrototypeOf,wqe=Object.prototype.hasOwnProperty;var a=(e,t)=>Kv(e,"name",{value:t,configurable:!0}),Yi=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var py=(e,t)=>()=>(e&&(t=e(e=0)),t);var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ZX=(e,t)=>{for(var r in t)Kv(e,r,{get:t[r],enumerable:!0})},eJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _qe(t))!wqe.call(e,i)&&i!==r&&Kv(e,i,{get:()=>t[i],enumerable:!(n=vqe(t,i))||n.enumerable});return e};var Sn=(e,t,r)=>(r=e!=null?bqe(xqe(e)):{},eJ(t||!e||!e.__esModule?Kv(r,"default",{value:e,enumerable:!0}):r,e)),x6=e=>eJ(Kv({},"__esModule",{value:!0}),e);var nJ=j(w6=>{"use strict";d();w6.byteLength=Eqe;w6.toByteArray=kqe;w6.fromByteArray=Tqe;var ou=[],_c=[],Aqe=typeof Uint8Array<"u"?Uint8Array:Array,jB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(mp=0,tJ=jB.length;mp<tJ;++mp)ou[mp]=jB[mp],_c[jB.charCodeAt(mp)]=mp;var mp,tJ;_c["-".charCodeAt(0)]=62;_c["_".charCodeAt(0)]=63;function rJ(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}a(rJ,"getLens");function Eqe(e){var t=rJ(e),r=t[0],n=t[1];return(r+n)*3/4-n}a(Eqe,"byteLength");function Sqe(e,t,r){return(t+r)*3/4-r}a(Sqe,"_byteLength");function kqe(e){var t,r=rJ(e),n=r[0],i=r[1],s=new Aqe(Sqe(e,n,i)),o=0,l=i>0?n-4:n,u;for(u=0;u<l;u+=4)t=_c[e.charCodeAt(u)]<<18|_c[e.charCodeAt(u+1)]<<12|_c[e.charCodeAt(u+2)]<<6|_c[e.charCodeAt(u+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=_c[e.charCodeAt(u)]<<2|_c[e.charCodeAt(u+1)]>>4,s[o++]=t&255),i===1&&(t=_c[e.charCodeAt(u)]<<10|_c[e.charCodeAt(u+1)]<<4|_c[e.charCodeAt(u+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}a(kqe,"toByteArray");function Cqe(e){return ou[e>>18&63]+ou[e>>12&63]+ou[e>>6&63]+ou[e&63]}a(Cqe,"tripletToBase64");function Iqe(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Cqe(n));return i.join("")}a(Iqe,"encodeChunk");function Tqe(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,l=r-n;o<l;o+=s)i.push(Iqe(e,o,o+s>l?l:o+s));return n===1?(t=e[r-1],i.push(ou[t>>2]+ou[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ou[t>>10]+ou[t>>4&63]+ou[t<<2&63]+"=")),i.join("")}a(Tqe,"fromByteArray")});var iJ=j(GB=>{d();GB.read=function(e,t,r,n,i){var s,o,l=i*8-n-1,u=(1<<l)-1,f=u>>1,h=-7,p=r?i-1:0,g=r?-1:1,y=e[t+p];for(p+=g,s=y&(1<<-h)-1,y>>=-h,h+=l;h>0;s=s*256+e[t+p],p+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=o*256+e[t+p],p+=g,h-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(y?-1:1)*o*Math.pow(2,s-n)};GB.write=function(e,t,r,n,i,s){var o,l,u,f=s*8-i-1,h=(1<<f)-1,p=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,E=n?1:-1,M=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?t+=g/u:t+=g*Math.pow(2,1-p),t*u>=2&&(o++,u/=2),o+p>=h?(l=0,o=h):o+p>=1?(l=(t*u-1)*Math.pow(2,i),o=o+p):(l=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+y]=l&255,y+=E,l/=256,i-=8);for(o=o<<i|l,f+=i;f>0;e[r+y]=o&255,y+=E,o/=256,f-=8);e[r+y-E]|=M*128}});var Ei=j(yy=>{"use strict";d();var KB=nJ(),gy=iJ(),aJ=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;yy.Buffer=Ht;yy.SlowBuffer=Nqe;yy.INSPECT_MAX_BYTES=50;var A6=2147483647;yy.kMaxLength=A6;Ht.TYPED_ARRAY_SUPPORT=Mqe();!Ht.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Mqe(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}a(Mqe,"typedArraySupport");Object.defineProperty(Ht.prototype,"parent",{enumerable:!0,get:function(){if(!!Ht.isBuffer(this))return this.buffer}});Object.defineProperty(Ht.prototype,"offset",{enumerable:!0,get:function(){if(!!Ht.isBuffer(this))return this.byteOffset}});function Sf(e){if(e>A6)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Ht.prototype),t}a(Sf,"createBuffer");function Ht(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ZB(e)}return cJ(e,t,r)}a(Ht,"Buffer");Ht.poolSize=8192;function cJ(e,t,r){if(typeof e=="string")return Rqe(e,t);if(ArrayBuffer.isView(e))return Lqe(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(cu(e,ArrayBuffer)||e&&cu(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cu(e,SharedArrayBuffer)||e&&cu(e.buffer,SharedArrayBuffer)))return XB(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return Ht.from(n,t,r);var i=Dqe(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return Ht.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}a(cJ,"from");Ht.from=function(e,t,r){return cJ(e,t,r)};Object.setPrototypeOf(Ht.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ht,Uint8Array);function lJ(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}a(lJ,"assertSize");function Bqe(e,t,r){return lJ(e),e<=0?Sf(e):t!==void 0?typeof r=="string"?Sf(e).fill(t,r):Sf(e).fill(t):Sf(e)}a(Bqe,"alloc");Ht.alloc=function(e,t,r){return Bqe(e,t,r)};function ZB(e){return lJ(e),Sf(e<0?0:eR(e)|0)}a(ZB,"allocUnsafe");Ht.allocUnsafe=function(e){return ZB(e)};Ht.allocUnsafeSlow=function(e){return ZB(e)};function Rqe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Ht.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=uJ(e,t)|0,n=Sf(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}a(Rqe,"fromString");function $B(e){for(var t=e.length<0?0:eR(e.length)|0,r=Sf(t),n=0;n<t;n+=1)r[n]=e[n]&255;return r}a($B,"fromArrayLike");function Lqe(e){if(cu(e,Uint8Array)){var t=new Uint8Array(e);return XB(t.buffer,t.byteOffset,t.byteLength)}return $B(e)}a(Lqe,"fromArrayView");function XB(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,Ht.prototype),n}a(XB,"fromArrayBuffer");function Dqe(e){if(Ht.isBuffer(e)){var t=eR(e.length)|0,r=Sf(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||tR(e.length)?Sf(0):$B(e);if(e.type==="Buffer"&&Array.isArray(e.data))return $B(e.data)}a(Dqe,"fromObject");function eR(e){if(e>=A6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A6.toString(16)+" bytes");return e|0}a(eR,"checked");function Nqe(e){return+e!=e&&(e=0),Ht.alloc(+e)}a(Nqe,"SlowBuffer");Ht.isBuffer=a(function(t){return t!=null&&t._isBuffer===!0&&t!==Ht.prototype},"isBuffer");Ht.compare=a(function(t,r){if(cu(t,Uint8Array)&&(t=Ht.from(t,t.offset,t.byteLength)),cu(r,Uint8Array)&&(r=Ht.from(r,r.offset,r.byteLength)),!Ht.isBuffer(t)||!Ht.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0},"compare");Ht.isEncoding=a(function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");Ht.concat=a(function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ht.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=Ht.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(cu(o,Uint8Array))s+o.length>i.length?Ht.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(Ht.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i},"concat");function uJ(e,t){if(Ht.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||cu(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return JB(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return yJ(e).length;default:if(i)return n?-1:JB(e).length;t=(""+t).toLowerCase(),i=!0}}a(uJ,"byteLength");Ht.byteLength=uJ;function Oqe(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Vqe(this,t,r);case"utf8":case"utf-8":return hJ(this,t,r);case"ascii":return Qqe(this,t,r);case"latin1":case"binary":return Wqe(this,t,r);case"base64":return Hqe(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jqe(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}a(Oqe,"slowToString");Ht.prototype._isBuffer=!0;function bp(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}a(bp,"swap");Ht.prototype.swap16=a(function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)bp(this,r,r+1);return this},"swap16");Ht.prototype.swap32=a(function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)bp(this,r,r+3),bp(this,r+1,r+2);return this},"swap32");Ht.prototype.swap64=a(function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)bp(this,r,r+7),bp(this,r+1,r+6),bp(this,r+2,r+5),bp(this,r+3,r+4);return this},"swap64");Ht.prototype.toString=a(function(){var t=this.length;return t===0?"":arguments.length===0?hJ(this,0,t):Oqe.apply(this,arguments)},"toString");Ht.prototype.toLocaleString=Ht.prototype.toString;Ht.prototype.equals=a(function(t){if(!Ht.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:Ht.compare(this,t)===0},"equals");Ht.prototype.inspect=a(function(){var t="",r=yy.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect");aJ&&(Ht.prototype[aJ]=Ht.prototype.inspect);Ht.prototype.compare=a(function(t,r,n,i,s){if(cu(t,Uint8Array)&&(t=Ht.from(t,t.offset,t.byteLength)),!Ht.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,l=n-r,u=Math.min(o,l),f=this.slice(i,s),h=t.slice(r,n),p=0;p<u;++p)if(f[p]!==h[p]){o=f[p],l=h[p];break}return o<l?-1:l<o?1:0},"compare");function fJ(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,tR(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=Ht.from(t,n)),Ht.isBuffer(t))return t.length===0?-1:sJ(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):sJ(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}a(fJ,"bidirectionalIndexOf");function sJ(e,t,r,n,i){var s=1,o=e.length,l=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,r/=2}function u(y,E){return s===1?y[E]:y.readUInt16BE(E*s)}a(u,"read");var f;if(i){var h=-1;for(f=r;f<o;f++)if(u(e,f)===u(t,h===-1?0:f-h)){if(h===-1&&(h=f),f-h+1===l)return h*s}else h!==-1&&(f-=f-h),h=-1}else for(r+l>o&&(r=o-l),f=r;f>=0;f--){for(var p=!0,g=0;g<l;g++)if(u(e,f+g)!==u(t,g)){p=!1;break}if(p)return f}return-1}a(sJ,"arrayIndexOf");Ht.prototype.includes=a(function(t,r,n){return this.indexOf(t,r,n)!==-1},"includes");Ht.prototype.indexOf=a(function(t,r,n){return fJ(this,t,r,n,!0)},"indexOf");Ht.prototype.lastIndexOf=a(function(t,r,n){return fJ(this,t,r,n,!1)},"lastIndexOf");function qqe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var l=parseInt(t.substr(o*2,2),16);if(tR(l))return o;e[r+o]=l}return o}a(qqe,"hexWrite");function Pqe(e,t,r,n){return E6(JB(t,e.length-r),e,r,n)}a(Pqe,"utf8Write");function Fqe(e,t,r,n){return E6($qe(t),e,r,n)}a(Fqe,"asciiWrite");function Uqe(e,t,r,n){return E6(yJ(t),e,r,n)}a(Uqe,"base64Write");function Yqe(e,t,r,n){return E6(Xqe(t,e.length-r),e,r,n)}a(Yqe,"ucs2Write");Ht.prototype.write=a(function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return qqe(this,t,r,n);case"utf8":case"utf-8":return Pqe(this,t,r,n);case"ascii":case"latin1":case"binary":return Fqe(this,t,r,n);case"base64":return Uqe(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yqe(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},"write");Ht.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Hqe(e,t,r){return t===0&&r===e.length?KB.fromByteArray(e):KB.fromByteArray(e.slice(t,r))}a(Hqe,"base64Slice");function hJ(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=r){var u,f,h,p;switch(l){case 1:s<128&&(o=s);break;case 2:u=e[i+1],(u&192)===128&&(p=(s&31)<<6|u&63,p>127&&(o=p));break;case 3:u=e[i+1],f=e[i+2],(u&192)===128&&(f&192)===128&&(p=(s&15)<<12|(u&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:u=e[i+1],f=e[i+2],h=e[i+3],(u&192)===128&&(f&192)===128&&(h&192)===128&&(p=(s&15)<<18|(u&63)<<12|(f&63)<<6|h&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=l}return zqe(n)}a(hJ,"utf8Slice");var oJ=4096;function zqe(e){var t=e.length;if(t<=oJ)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=oJ));return r}a(zqe,"decodeCodePointsArray");function Qqe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}a(Qqe,"asciiSlice");function Wqe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}a(Wqe,"latin1Slice");function Vqe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=Jqe[e[s]];return i}a(Vqe,"hexSlice");function jqe(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(jqe,"utf16leSlice");Ht.prototype.slice=a(function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,Ht.prototype),i},"slice");function Wa(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}a(Wa,"checkOffset");Ht.prototype.readUintLE=Ht.prototype.readUIntLE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i},"readUIntLE");Ht.prototype.readUintBE=Ht.prototype.readUIntBE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i},"readUIntBE");Ht.prototype.readUint8=Ht.prototype.readUInt8=a(function(t,r){return t=t>>>0,r||Wa(t,1,this.length),this[t]},"readUInt8");Ht.prototype.readUint16LE=Ht.prototype.readUInt16LE=a(function(t,r){return t=t>>>0,r||Wa(t,2,this.length),this[t]|this[t+1]<<8},"readUInt16LE");Ht.prototype.readUint16BE=Ht.prototype.readUInt16BE=a(function(t,r){return t=t>>>0,r||Wa(t,2,this.length),this[t]<<8|this[t+1]},"readUInt16BE");Ht.prototype.readUint32LE=Ht.prototype.readUInt32LE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},"readUInt32LE");Ht.prototype.readUint32BE=Ht.prototype.readUInt32BE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},"readUInt32BE");Ht.prototype.readIntLE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},"readIntLE");Ht.prototype.readIntBE=a(function(t,r,n){t=t>>>0,r=r>>>0,n||Wa(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o},"readIntBE");Ht.prototype.readInt8=a(function(t,r){return t=t>>>0,r||Wa(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},"readInt8");Ht.prototype.readInt16LE=a(function(t,r){t=t>>>0,r||Wa(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},"readInt16LE");Ht.prototype.readInt16BE=a(function(t,r){t=t>>>0,r||Wa(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},"readInt16BE");Ht.prototype.readInt32LE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},"readInt32LE");Ht.prototype.readInt32BE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},"readInt32BE");Ht.prototype.readFloatLE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),gy.read(this,t,!0,23,4)},"readFloatLE");Ht.prototype.readFloatBE=a(function(t,r){return t=t>>>0,r||Wa(t,4,this.length),gy.read(this,t,!1,23,4)},"readFloatBE");Ht.prototype.readDoubleLE=a(function(t,r){return t=t>>>0,r||Wa(t,8,this.length),gy.read(this,t,!0,52,8)},"readDoubleLE");Ht.prototype.readDoubleBE=a(function(t,r){return t=t>>>0,r||Wa(t,8,this.length),gy.read(this,t,!1,52,8)},"readDoubleBE");function go(e,t,r,n,i,s){if(!Ht.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}a(go,"checkInt");Ht.prototype.writeUintLE=Ht.prototype.writeUIntLE=a(function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;go(this,t,r,n,s,0)}var o=1,l=0;for(this[r]=t&255;++l<n&&(o*=256);)this[r+l]=t/o&255;return r+n},"writeUIntLE");Ht.prototype.writeUintBE=Ht.prototype.writeUIntBE=a(function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;go(this,t,r,n,s,0)}var o=n-1,l=1;for(this[r+o]=t&255;--o>=0&&(l*=256);)this[r+o]=t/l&255;return r+n},"writeUIntBE");Ht.prototype.writeUint8=Ht.prototype.writeUInt8=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,1,255,0),this[r]=t&255,r+1},"writeUInt8");Ht.prototype.writeUint16LE=Ht.prototype.writeUInt16LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},"writeUInt16LE");Ht.prototype.writeUint16BE=Ht.prototype.writeUInt16BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},"writeUInt16BE");Ht.prototype.writeUint32LE=Ht.prototype.writeUInt32LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},"writeUInt32LE");Ht.prototype.writeUint32BE=Ht.prototype.writeUInt32BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},"writeUInt32BE");Ht.prototype.writeIntLE=a(function(t,r,n,i){if(t=+t,r=r>>>0,!i){var s=Math.pow(2,8*n-1);go(this,t,r,n,s-1,-s)}var o=0,l=1,u=0;for(this[r]=t&255;++o<n&&(l*=256);)t<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(t/l>>0)-u&255;return r+n},"writeIntLE");Ht.prototype.writeIntBE=a(function(t,r,n,i){if(t=+t,r=r>>>0,!i){var s=Math.pow(2,8*n-1);go(this,t,r,n,s-1,-s)}var o=n-1,l=1,u=0;for(this[r+o]=t&255;--o>=0&&(l*=256);)t<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(t/l>>0)-u&255;return r+n},"writeIntBE");Ht.prototype.writeInt8=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},"writeInt8");Ht.prototype.writeInt16LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},"writeInt16LE");Ht.prototype.writeInt16BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},"writeInt16BE");Ht.prototype.writeInt32LE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},"writeInt32LE");Ht.prototype.writeInt32BE=a(function(t,r,n){return t=+t,r=r>>>0,n||go(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},"writeInt32BE");function dJ(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}a(dJ,"checkIEEE754");function pJ(e,t,r,n,i){return t=+t,r=r>>>0,i||dJ(e,t,r,4,34028234663852886e22,-34028234663852886e22),gy.write(e,t,r,n,23,4),r+4}a(pJ,"writeFloat");Ht.prototype.writeFloatLE=a(function(t,r,n){return pJ(this,t,r,!0,n)},"writeFloatLE");Ht.prototype.writeFloatBE=a(function(t,r,n){return pJ(this,t,r,!1,n)},"writeFloatBE");function gJ(e,t,r,n,i){return t=+t,r=r>>>0,i||dJ(e,t,r,8,17976931348623157e292,-17976931348623157e292),gy.write(e,t,r,n,52,8),r+8}a(gJ,"writeDouble");Ht.prototype.writeDoubleLE=a(function(t,r,n){return gJ(this,t,r,!0,n)},"writeDoubleLE");Ht.prototype.writeDoubleBE=a(function(t,r,n){return gJ(this,t,r,!1,n)},"writeDoubleBE");Ht.prototype.copy=a(function(t,r,n,i){if(!Ht.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),s},"copy");Ht.prototype.fill=a(function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Ht.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var l=Ht.isBuffer(t)?t:Ht.from(t,i),u=l.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=l[o%u]}return this},"fill");var Gqe=/[^+/0-9A-Za-z-_]/g;function Kqe(e){if(e=e.split("=")[0],e=e.trim().replace(Gqe,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}a(Kqe,"base64clean");function JB(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}a(JB,"utf8ToBytes");function $qe(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}a($qe,"asciiToBytes");function Xqe(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}a(Xqe,"utf16leToBytes");function yJ(e){return KB.toByteArray(Kqe(e))}a(yJ,"base64ToBytes");function E6(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}a(E6,"blitBuffer");function cu(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}a(cu,"isInstance");function tR(e){return e!==e}a(tR,"numberIsNaN");var Jqe=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()});var If=j((kKt,_J)=>{d();var Zi=_J.exports={},lu,uu;function rR(){throw new Error("setTimeout has not been defined")}a(rR,"defaultSetTimout");function nR(){throw new Error("clearTimeout has not been defined")}a(nR,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?lu=setTimeout:lu=rR}catch{lu=rR}try{typeof clearTimeout=="function"?uu=clearTimeout:uu=nR}catch{uu=nR}})();function mJ(e){if(lu===setTimeout)return setTimeout(e,0);if((lu===rR||!lu)&&setTimeout)return lu=setTimeout,setTimeout(e,0);try{return lu(e,0)}catch{try{return lu.call(null,e,0)}catch{return lu.call(this,e,0)}}}a(mJ,"runTimeout");function Zqe(e){if(uu===clearTimeout)return clearTimeout(e);if((uu===nR||!uu)&&clearTimeout)return uu=clearTimeout,clearTimeout(e);try{return uu(e)}catch{try{return uu.call(null,e)}catch{return uu.call(this,e)}}}a(Zqe,"runClearTimeout");var kf=[],my=!1,vp,S6=-1;function ePe(){!my||!vp||(my=!1,vp.length?kf=vp.concat(kf):S6=-1,kf.length&&bJ())}a(ePe,"cleanUpNextTick");function bJ(){if(!my){var e=mJ(ePe);my=!0;for(var t=kf.length;t;){for(vp=kf,kf=[];++S6<t;)vp&&vp[S6].run();S6=-1,t=kf.length}vp=null,my=!1,Zqe(e)}}a(bJ,"drainQueue");Zi.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];kf.push(new vJ(e,t)),kf.length===1&&!my&&mJ(bJ)};function vJ(e,t){this.fun=e,this.array=t}a(vJ,"Item");vJ.prototype.run=function(){this.fun.apply(null,this.array)};Zi.title="browser";Zi.browser=!0;Zi.env={};Zi.argv=[];Zi.version="";Zi.versions={};function Cf(){}a(Cf,"noop");Zi.on=Cf;Zi.addListener=Cf;Zi.once=Cf;Zi.off=Cf;Zi.removeListener=Cf;Zi.removeAllListeners=Cf;Zi.emit=Cf;Zi.prependListener=Cf;Zi.prependOnceListener=Cf;Zi.listeners=function(e){return[]};Zi.binding=function(e){throw new Error("process.binding is not supported")};Zi.cwd=function(){return"/"};Zi.chdir=function(e){throw new Error("process.chdir is not supported")};Zi.umask=function(){return 0}});var b,_,tPe,w,d=py(()=>{b=Sn(Ei()),_=Sn(If()),tPe=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(a(t,"get"),typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),w=tPe});var yo=j((LKt,C6)=>{d();var iR=Symbol.for("piconeuro:Error");C6.exports={ERROR:iR,get:hPe,next:dPe,until:pPe,write:xJ,writable:xJ,notEqual:aR,notEqualDeep:k6,memo:rPe,mute:cPe,init:nPe,when:iPe,combine:fPe,isSync:lPe,_isSync:uPe,gate:sPe,settle:oPe,iter:EJ,nfo:wJ};function rPe(e){let t,r=new Set,n=null;return a(function(o){return r.add(o),n?o(t):n=e(i),()=>{r.delete(o),!r.size&&(n&&n(),n=null)}},"NeuronMemory");function i(s){t=s;for(let o of r)o(s)}}a(rPe,"memo");function nPe(e,t){return a(function(n){let i=!1,s=a(function(){},"noop"),o=!1;return typeof t=="function"&&(s=t(l=>{o=!0,i||n(l)})),o||n(AJ(e)),()=>{i=!0,s()}},"InitialValue")}a(nPe,"init");function iPe(e){if(!e||typeof e.then!="function")throw new Error("Expected a Promise");return a(function(r){return e.then(r).catch(n=>{console.error("n:when() failed: ",n),r(iR,n)}),a(function(){},"NOOPunsub")},"WhenResolved")}a(iPe,"when");var aPe=0;C6.exports.V=1;function wJ(e,t){if(!C6.exports.V)return e;let r=aPe++;t||(t=`NFO${s(r)}`);let n=console.info.bind(null,o(t,0,r)),i=0;return l=>{let u=0,f=n.bind(null,o(`SYN${s(i++)}`,0,r));f(`>>${s(u)}>> connected`);let h=e(p=>{f(`!!${s(u++)}!! `,p),l(p)});return()=>{h(),f(`<<${s(u)}<< disconnected`)}};function s(l,u=2){return(l+"").padStart(u,"0")}function o(l){return l}}a(wJ,"nfo");function sPe(e,t=!1){let r=typeof t=="function"?t:t?aR:k6;return a(function(i){let s,o=!0;return e(l=>{let u=r(l,s);(o||u)&&(o=!1,s=AJ(l),i(l))})},"NoiseGate")}a(sPe,"gate");function oPe(e,t=10,r=!1){return a(function(i){let s,o,l=!0,u=e(f=>{s=f,r&&l&&(l=!1,i(s)),o&&clearTimeout(o),o=setTimeout(()=>{o=null,i(s)},t)});return()=>{u&&u(),o&&clearTimeout(o)}},"DebouncedSignal")}a(oPe,"settle");function AJ(e){return Array.isArray(e)?[...e]:typeof e=="object"&&e!==null?{...e}:e}a(AJ,"clone");function cPe(e,t){if(typeof t!="function")throw new Error("expected a mutation function");return a(function(n){let i=Promise.resolve(0);return e(s=>{let o=t(s);o&&typeof o.then=="function"&&typeof o.catch=="function"?i=i.then(()=>o.then(n).catch(l=>{console.error("n:mute() failed: ",l),n(iR,l)})):n(o)})},"Mutate")}a(cPe,"mute");async function lPe(e,t=100){let r=!1,n=!1,i=a(()=>{r=!0},"set");e(()=>i())();let s=null,o=new Promise(u=>{s=u});i=a(()=>{n=!0,s()},"set");let l=setTimeout(()=>{l=null,s()},t);if(await o,l)clearTimeout(l);else if(!r&&!n)throw new Error("Neuron did not fire during grace period");return r&&!n}a(lPe,"isSync");function uPe(e){let t=!1,r=a(()=>{t=!0},"set");return e(()=>r())(),r=a(()=>{throw new Error("NeuronNotSync, subscription invoked after unsubscribe()")},"set"),t}a(uPe,"_isSync");function fPe(...e){if(!Array.isArray(e)||!e.length)throw new Error("A list of neurons is required");let t=[];if(e.length===1&&typeof e[0]!="function"){let r=e[0];e=[];for(let n in r)e.push(r[n]),t.push(n)}return a(function(n){if(typeof n!="function")throw new Error("Derivation function required");let i=[],s=[],o=e.length,l=[];for(let f=0;f<e.length;f++)l.push(e[f](u.bind(null,f)));return()=>{for(let f of l)f()};function u(f,h){i[f]||(i[f]=!0,o--),s[f]=h,o||(t.length?n(s.reduce((p,g,y)=>(p[t[y]]=g,p),{})):n(s))}},"NeuronCombine")}a(fPe,"combine");function aR(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find((r,n)=>t[n]!==r):e instanceof Date||t instanceof Date?(e instanceof Date&&e.getTime())!==(t instanceof Date&&t.getTime()):typeof e=="object"&&typeof t=="object"&&e!==null&&t!==null?!!((r,n)=>r.length!==n||r.find(i=>e[i]!==t[i]))(Object.keys(e),Object.keys(t).length):e!==t}a(aR,"notEqual");function k6(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find((r,n)=>k6(t[n],r)):typeof e=="object"&&typeof t=="object"&&e!==null&&t!==null?!!((r,n)=>r.length!==n||r.find(i=>k6(e[i],t[i])))(Object.keys(e),Object.keys(t).length):e!==t}a(k6,"notEqualDeep");function xJ(e){let t=new Set;return[a(function(n){return t.add(n),n(e),()=>{t.delete(n)}},"WritableSubscribe"),a(function(n){if(aR(e,n)){e=n;for(let i of t)i(n)}return n},"WritableSet")]}a(xJ,"writable");function hPe(e){let t=null;return e(r=>{t=r})(),t}a(hPe,"get");async function dPe(e,t=1,r=!1){let n=null;r&&(e=wJ(e,r));for await(let i of EJ(e,t+1))n=i;return n}a(dPe,"next");async function*EJ(e,t=5){let r=[],n=[];l();let i=0,o=e(a(u=>{(t===-1||++i<t)&&l();let f=r.shift();f&&f(u)},"handler"));for(;n.length;)yield await n.shift();o();function l(){let u=null,f=new Promise(h=>{u=h});r.push(u),n.push(f)}a(l,"oneMore")}a(EJ,"iter");async function pPe(e,t,r=-1){let n,i,s=new Promise((u,f)=>{n=u,i=f}),o=null;r>0&&(o=setTimeout(()=>{i(new Error("until($n) timed out"))},r));let l=e(u=>{t(u)&&(o&&clearTimeout(o),n(u))});return s.finally(l),s}a(pPe,"until")});var Vn=j((OKt,kJ)=>{d();kJ.exports=SJ;var $v=class extends Error{};a($v,"AssertionError");$v.prototype.name="AssertionError";function SJ(e,t){if(!e){var r=new $v(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,SJ),r}}a(SJ,"assert")});var rn=j((sR,IJ)=>{d();var I6=Ei(),fu=I6.Buffer;function CJ(e,t){for(var r in e)t[r]=e[r]}a(CJ,"copyProps");fu.from&&fu.alloc&&fu.allocUnsafe&&fu.allocUnsafeSlow?IJ.exports=I6:(CJ(I6,sR),sR.Buffer=_p);function _p(e,t,r){return fu(e,t,r)}a(_p,"SafeBuffer");_p.prototype=Object.create(fu.prototype);CJ(fu,_p);_p.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return fu(e,t,r)};_p.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=fu(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};_p.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return fu(e)};_p.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return I6.SlowBuffer(e)}});var Tf=j((YKt,cR)=>{"use strict";d();var oR=65536,gPe=4294967295;function yPe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}a(yPe,"oldBrowser");var mPe=rn().Buffer,T6=w.crypto||w.msCrypto;T6&&T6.getRandomValues?cR.exports=bPe:cR.exports=yPe;function bPe(e,t){if(e>gPe)throw new RangeError("requested too many random bytes");var r=mPe.allocUnsafe(e);if(e>0)if(e>oR)for(var n=0;n<e;n+=oR)T6.getRandomValues(r.slice(n,n+oR));else T6.getRandomValues(r);return typeof t=="function"?_.default.nextTick(function(){t(null,r)}):r}a(bPe,"randomBytes")});var kr=j((QKt,lR)=>{d();typeof Object.create=="function"?lR.exports=a(function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):lR.exports=a(function(t,r){if(r){t.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},"inherits")});var ea=j((jKt,uR)=>{"use strict";d();var by=typeof Reflect=="object"?Reflect:null,TJ=by&&typeof by.apply=="function"?by.apply:a(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),M6;by&&typeof by.ownKeys=="function"?M6=by.ownKeys:Object.getOwnPropertySymbols?M6=a(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):M6=a(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function vPe(e){console&&console.warn&&console.warn(e)}a(vPe,"ProcessEmitWarning");var BJ=Number.isNaN||a(function(t){return t!==t},"NumberIsNaN");function ri(){ri.init.call(this)}a(ri,"EventEmitter");uR.exports=ri;uR.exports.once=APe;ri.EventEmitter=ri;ri.prototype._events=void 0;ri.prototype._eventsCount=0;ri.prototype._maxListeners=void 0;var MJ=10;function B6(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}a(B6,"checkListener");Object.defineProperty(ri,"defaultMaxListeners",{enumerable:!0,get:function(){return MJ},set:function(e){if(typeof e!="number"||e<0||BJ(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");MJ=e}});ri.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ri.prototype.setMaxListeners=a(function(t){if(typeof t!="number"||t<0||BJ(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function RJ(e){return e._maxListeners===void 0?ri.defaultMaxListeners:e._maxListeners}a(RJ,"_getMaxListeners");ri.prototype.getMaxListeners=a(function(){return RJ(this)},"getMaxListeners");ri.prototype.emit=a(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var u=s[t];if(u===void 0)return!1;if(typeof u=="function")TJ(u,this,r);else for(var f=u.length,h=qJ(u,f),n=0;n<f;++n)TJ(h[n],this,r);return!0},"emit");function LJ(e,t,r,n){var i,s,o;if(B6(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=RJ(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,vPe(l)}return e}a(LJ,"_addListener");ri.prototype.addListener=a(function(t,r){return LJ(this,t,r,!1)},"addListener");ri.prototype.on=ri.prototype.addListener;ri.prototype.prependListener=a(function(t,r){return LJ(this,t,r,!0)},"prependListener");function _Pe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(_Pe,"onceWrapper");function DJ(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=_Pe.bind(n);return i.listener=r,n.wrapFn=i,i}a(DJ,"_onceWrap");ri.prototype.once=a(function(t,r){return B6(r),this.on(t,DJ(this,t,r)),this},"once");ri.prototype.prependOnceListener=a(function(t,r){return B6(r),this.prependListener(t,DJ(this,t,r)),this},"prependOnceListener");ri.prototype.removeListener=a(function(t,r){var n,i,s,o,l;if(B6(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():xPe(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},"removeListener");ri.prototype.off=ri.prototype.removeListener;ri.prototype.removeAllListeners=a(function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this},"removeAllListeners");function NJ(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?wPe(i):qJ(i,i.length)}a(NJ,"_listeners");ri.prototype.listeners=a(function(t){return NJ(this,t,!0)},"listeners");ri.prototype.rawListeners=a(function(t){return NJ(this,t,!1)},"rawListeners");ri.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):OJ.call(e,t)};ri.prototype.listenerCount=OJ;function OJ(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}a(OJ,"listenerCount");ri.prototype.eventNames=a(function(){return this._eventsCount>0?M6(this._events):[]},"eventNames");function qJ(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}a(qJ,"arrayClone");function xPe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}a(xPe,"spliceOne");function wPe(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}a(wPe,"unwrapListeners");function APe(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}a(i,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}a(s,"resolver"),PJ(e,t,s,{once:!0}),t!=="error"&&EPe(e,i,{once:!0})})}a(APe,"once");function EPe(e,t,r){typeof e.on=="function"&&PJ(e,"error",t,r)}a(EPe,"addErrorHandlerIfEventEmitter");function PJ(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,a(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}a(PJ,"eventTargetAgnosticAddListener")});var fR=j(($Kt,FJ)=>{d();FJ.exports=ea().EventEmitter});var hR=j((JKt,UJ)=>{"use strict";d();UJ.exports=a(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},"hasSymbols")});var Xv=j((t$t,YJ)=>{"use strict";d();var SPe=hR();YJ.exports=a(function(){return SPe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var QJ=j((i$t,zJ)=>{"use strict";d();var HJ=typeof Symbol<"u"&&Symbol,kPe=hR();zJ.exports=a(function(){return typeof HJ!="function"||typeof Symbol!="function"||typeof HJ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:kPe()},"hasNativeSymbols")});var VJ=j((o$t,WJ)=>{"use strict";d();var CPe="Function.prototype.bind called on incompatible ",dR=Array.prototype.slice,IPe=Object.prototype.toString,TPe="[object Function]";WJ.exports=a(function(t){var r=this;if(typeof r!="function"||IPe.call(r)!==TPe)throw new TypeError(CPe+r);for(var n=dR.call(arguments,1),i,s=a(function(){if(this instanceof i){var h=r.apply(this,n.concat(dR.call(arguments)));return Object(h)===h?h:this}else return r.apply(t,n.concat(dR.call(arguments)))},"binder"),o=Math.max(0,r.length-n.length),l=[],u=0;u<o;u++)l.push("$"+u);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=a(function(){},"Empty");f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},"bind")});var R6=j((u$t,jJ)=>{"use strict";d();var MPe=VJ();jJ.exports=Function.prototype.bind||MPe});var KJ=j((h$t,GJ)=>{"use strict";d();var BPe=R6();GJ.exports=BPe.call(Function.call,Object.prototype.hasOwnProperty)});var N6=j((p$t,ZJ)=>{"use strict";d();var Bn,Ay=SyntaxError,JJ=Function,xy=TypeError,pR=a(function(e){try{return JJ('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),xp=Object.getOwnPropertyDescriptor;if(xp)try{xp({},"")}catch{xp=null}var gR=a(function(){throw new xy},"throwTypeError"),RPe=xp?function(){try{return arguments.callee,gR}catch{try{return xp(arguments,"callee").get}catch{return gR}}}():gR,vy=QJ()(),xd=Object.getPrototypeOf||function(e){return e.__proto__},_y={},LPe=typeof Uint8Array>"u"?Bn:xd(Uint8Array),wy={"%AggregateError%":typeof AggregateError>"u"?Bn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Bn:ArrayBuffer,"%ArrayIteratorPrototype%":vy?xd([][Symbol.iterator]()):Bn,"%AsyncFromSyncIteratorPrototype%":Bn,"%AsyncFunction%":_y,"%AsyncGenerator%":_y,"%AsyncGeneratorFunction%":_y,"%AsyncIteratorPrototype%":_y,"%Atomics%":typeof Atomics>"u"?Bn:Atomics,"%BigInt%":typeof BigInt>"u"?Bn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Bn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Bn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Bn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Bn:FinalizationRegistry,"%Function%":JJ,"%GeneratorFunction%":_y,"%Int8Array%":typeof Int8Array>"u"?Bn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Bn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Bn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vy?xd(xd([][Symbol.iterator]())):Bn,"%JSON%":typeof JSON=="object"?JSON:Bn,"%Map%":typeof Map>"u"?Bn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!vy?Bn:xd(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Bn:Promise,"%Proxy%":typeof Proxy>"u"?Bn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Bn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Bn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!vy?Bn:xd(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Bn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vy?xd(""[Symbol.iterator]()):Bn,"%Symbol%":vy?Symbol:Bn,"%SyntaxError%":Ay,"%ThrowTypeError%":RPe,"%TypedArray%":LPe,"%TypeError%":xy,"%Uint8Array%":typeof Uint8Array>"u"?Bn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Bn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Bn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Bn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Bn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Bn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Bn:WeakSet},DPe=a(function e(t){var r;if(t==="%AsyncFunction%")r=pR("async function () {}");else if(t==="%GeneratorFunction%")r=pR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=pR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=xd(i.prototype))}return wy[t]=r,r},"doEval"),$J={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jv=R6(),L6=KJ(),NPe=Jv.call(Function.call,Array.prototype.concat),OPe=Jv.call(Function.apply,Array.prototype.splice),XJ=Jv.call(Function.call,String.prototype.replace),D6=Jv.call(Function.call,String.prototype.slice),qPe=Jv.call(Function.call,RegExp.prototype.exec),PPe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,FPe=/\\(\\)?/g,UPe=a(function(t){var r=D6(t,0,1),n=D6(t,-1);if(r==="%"&&n!=="%")throw new Ay("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ay("invalid intrinsic syntax, expected opening `%`");var i=[];return XJ(t,PPe,function(s,o,l,u){i[i.length]=l?XJ(u,FPe,"$1"):o||s}),i},"stringToPath"),YPe=a(function(t,r){var n=t,i;if(L6($J,n)&&(i=$J[n],n="%"+i[0]+"%"),L6(wy,n)){var s=wy[n];if(s===_y&&(s=DPe(n)),typeof s>"u"&&!r)throw new xy("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ay("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");ZJ.exports=a(function(t,r){if(typeof t!="string"||t.length===0)throw new xy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new xy('"allowMissing" argument must be a boolean');if(qPe(/^%?[^%]*%?$/,t)===null)throw new Ay("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=UPe(t),i=n.length>0?n[0]:"",s=YPe("%"+i+"%",r),o=s.name,l=s.value,u=!1,f=s.alias;f&&(i=f[0],OPe(n,NPe([0,1],f)));for(var h=1,p=!0;h<n.length;h+=1){var g=n[h],y=D6(g,0,1),E=D6(g,-1);if((y==='"'||y==="'"||y==="`"||E==='"'||E==="'"||E==="`")&&y!==E)throw new Ay("property names with quotes must have matching quotes");if((g==="constructor"||!p)&&(u=!0),i+="."+g,o="%"+i+"%",L6(wy,o))l=wy[o];else if(l!=null){if(!(g in l)){if(!r)throw new xy("base intrinsic for "+t+" exists, but the property is not available.");return}if(xp&&h+1>=n.length){var M=xp(l,g);p=!!M,p&&"get"in M&&!("originalValue"in M.get)?l=M.get:l=l[g]}else p=L6(l,g),l=l[g];p&&!u&&(wy[o]=l)}}return l},"GetIntrinsic")});var aZ=j((m$t,O6)=>{"use strict";d();var yR=R6(),Ey=N6(),rZ=Ey("%Function.prototype.apply%"),nZ=Ey("%Function.prototype.call%"),iZ=Ey("%Reflect.apply%",!0)||yR.call(nZ,rZ),eZ=Ey("%Object.getOwnPropertyDescriptor%",!0),wp=Ey("%Object.defineProperty%",!0),HPe=Ey("%Math.max%");if(wp)try{wp({},"a",{value:1})}catch{wp=null}O6.exports=a(function(t){var r=iZ(yR,nZ,arguments);if(eZ&&wp){var n=eZ(r,"length");n.configurable&&wp(r,"length",{value:1+HPe(0,t.length-(arguments.length-1))})}return r},"callBind");var tZ=a(function(){return iZ(yR,rZ,arguments)},"applyBind");wp?wp(O6.exports,"apply",{value:tZ}):O6.exports.apply=tZ});var q6=j((_$t,cZ)=>{"use strict";d();var sZ=N6(),oZ=aZ(),zPe=oZ(sZ("String.prototype.indexOf"));cZ.exports=a(function(t,r){var n=sZ(t,!!r);return typeof n=="function"&&zPe(t,".prototype.")>-1?oZ(n):n},"callBoundIntrinsic")});var fZ=j((A$t,uZ)=>{"use strict";d();var QPe=Xv()(),WPe=q6(),mR=WPe("Object.prototype.toString"),P6=a(function(t){return QPe&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:mR(t)==="[object Arguments]"},"isArguments"),lZ=a(function(t){return P6(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&mR(t)!=="[object Array]"&&mR(t.callee)==="[object Function]"},"isArguments"),VPe=function(){return P6(arguments)}();P6.isLegacyArguments=lZ;uZ.exports=VPe?P6:lZ});var pZ=j((k$t,dZ)=>{"use strict";d();var jPe=Object.prototype.toString,GPe=Function.prototype.toString,KPe=/^\s*(?:function)?\*/,hZ=Xv()(),bR=Object.getPrototypeOf,$Pe=a(function(){if(!hZ)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),vR;dZ.exports=a(function(t){if(typeof t!="function")return!1;if(KPe.test(GPe.call(t)))return!0;if(!hZ){var r=jPe.call(t);return r==="[object GeneratorFunction]"}if(!bR)return!1;if(typeof vR>"u"){var n=$Pe();vR=n?bR(n):!1}return bR(t)===vR},"isGeneratorFunction")});var bZ=j((T$t,mZ)=>{"use strict";d();var yZ=Function.prototype.toString,Sy=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,xR,F6;if(typeof Sy=="function"&&typeof Object.defineProperty=="function")try{xR=Object.defineProperty({},"length",{get:function(){throw F6}}),F6={},Sy(function(){throw 42},null,xR)}catch(e){e!==F6&&(Sy=null)}else Sy=null;var XPe=/^\s*class\b/,wR=a(function(t){try{var r=yZ.call(t);return XPe.test(r)}catch{return!1}},"isES6ClassFunction"),_R=a(function(t){try{return wR(t)?!1:(yZ.call(t),!0)}catch{return!1}},"tryFunctionToStr"),U6=Object.prototype.toString,JPe="[object Object]",ZPe="[object Function]",eFe="[object GeneratorFunction]",tFe="[object HTMLAllCollection]",rFe="[object HTML document.all class]",nFe="[object HTMLCollection]",iFe=typeof Symbol=="function"&&!!Symbol.toStringTag,aFe=!(0 in[,]),AR=a(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(gZ=document.all,U6.call(gZ)===U6.call(document.all)&&(AR=a(function(t){if((aFe||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=U6.call(t);return(r===tFe||r===rFe||r===nFe||r===JPe)&&t("")==null}catch{}return!1},"isDocumentDotAll")));var gZ;mZ.exports=a(Sy?function(t){if(AR(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Sy(t,null,xR)}catch(r){if(r!==F6)return!1}return!wR(t)&&_R(t)}:function(t){if(AR(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(iFe)return _R(t);if(wR(t))return!1;var r=U6.call(t);return r!==ZPe&&r!==eFe&&!/^\[object HTML/.test(r)?!1:_R(t)},"isCallable")});var ER=j((R$t,_Z)=>{"use strict";d();var sFe=bZ(),oFe=Object.prototype.toString,vZ=Object.prototype.hasOwnProperty,cFe=a(function(t,r,n){for(var i=0,s=t.length;i<s;i++)vZ.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},"forEachArray"),lFe=a(function(t,r,n){for(var i=0,s=t.length;i<s;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},"forEachString"),uFe=a(function(t,r,n){for(var i in t)vZ.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},"forEachObject"),fFe=a(function(t,r,n){if(!sFe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),oFe.call(t)==="[object Array]"?cFe(t,r,i):typeof t=="string"?lFe(t,r,i):uFe(t,r,i)},"forEach");_Z.exports=fFe});var kR=j((N$t,xZ)=>{"use strict";d();var SR=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],hFe=typeof globalThis>"u"?w:globalThis;xZ.exports=a(function(){for(var t=[],r=0;r<SR.length;r++)typeof hFe[SR[r]]=="function"&&(t[t.length]=SR[r]);return t},"availableTypedArrays")});var CR=j((P$t,wZ)=>{"use strict";d();var dFe=N6(),Y6=dFe("%Object.getOwnPropertyDescriptor%",!0);if(Y6)try{Y6([],"length")}catch{Y6=null}wZ.exports=Y6});var MR=j((U$t,CZ)=>{"use strict";d();var AZ=ER(),pFe=kR(),TR=q6(),gFe=TR("Object.prototype.toString"),EZ=Xv()(),H6=CR(),yFe=typeof globalThis>"u"?w:globalThis,SZ=pFe(),mFe=TR("Array.prototype.indexOf",!0)||a(function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},"indexOf"),bFe=TR("String.prototype.slice"),kZ={},IR=Object.getPrototypeOf;EZ&&H6&&IR&&AZ(SZ,function(e){var t=new yFe[e];if(Symbol.toStringTag in t){var r=IR(t),n=H6(r,Symbol.toStringTag);if(!n){var i=IR(r);n=H6(i,Symbol.toStringTag)}kZ[e]=n.get}});var vFe=a(function(t){var r=!1;return AZ(kZ,function(n,i){if(!r)try{r=n.call(t)===i}catch{}}),r},"tryAllTypedArrays");CZ.exports=a(function(t){if(!t||typeof t!="object")return!1;if(!EZ||!(Symbol.toStringTag in t)){var r=bFe(gFe(t),8,-1);return mFe(SZ,r)>-1}return H6?vFe(t):!1},"isTypedArray")});var DZ=j((z$t,LZ)=>{"use strict";d();var TZ=ER(),_Fe=kR(),MZ=q6(),BR=CR(),xFe=MZ("Object.prototype.toString"),BZ=Xv()(),IZ=typeof globalThis>"u"?w:globalThis,wFe=_Fe(),AFe=MZ("String.prototype.slice"),RZ={},RR=Object.getPrototypeOf;BZ&&BR&&RR&&TZ(wFe,function(e){if(typeof IZ[e]=="function"){var t=new IZ[e];if(Symbol.toStringTag in t){var r=RR(t),n=BR(r,Symbol.toStringTag);if(!n){var i=RR(r);n=BR(i,Symbol.toStringTag)}RZ[e]=n.get}}});var EFe=a(function(t){var r=!1;return TZ(RZ,function(n,i){if(!r)try{var s=n.call(t);s===i&&(r=s)}catch{}}),r},"tryAllTypedArrays"),SFe=MR();LZ.exports=a(function(t){return SFe(t)?!BZ||!(Symbol.toStringTag in t)?AFe(xFe(t),8,-1):EFe(t):!1},"whichTypedArray")});var GZ=j(gn=>{"use strict";d();var kFe=fZ(),CFe=pZ(),cl=DZ(),NZ=MR();function ky(e){return e.call.bind(e)}a(ky,"uncurryThis");var OZ=typeof BigInt<"u",qZ=typeof Symbol<"u",xc=ky(Object.prototype.toString),IFe=ky(Number.prototype.valueOf),TFe=ky(String.prototype.valueOf),MFe=ky(Boolean.prototype.valueOf);OZ&&(PZ=ky(BigInt.prototype.valueOf));var PZ;qZ&&(FZ=ky(Symbol.prototype.valueOf));var FZ;function e_(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}a(e_,"checkBoxedPrimitive");gn.isArgumentsObject=kFe;gn.isGeneratorFunction=CFe;gn.isTypedArray=NZ;function BFe(e){return typeof Promise<"u"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}a(BFe,"isPromise");gn.isPromise=BFe;function RFe(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):NZ(e)||YZ(e)}a(RFe,"isArrayBufferView");gn.isArrayBufferView=RFe;function LFe(e){return cl(e)==="Uint8Array"}a(LFe,"isUint8Array");gn.isUint8Array=LFe;function DFe(e){return cl(e)==="Uint8ClampedArray"}a(DFe,"isUint8ClampedArray");gn.isUint8ClampedArray=DFe;function NFe(e){return cl(e)==="Uint16Array"}a(NFe,"isUint16Array");gn.isUint16Array=NFe;function OFe(e){return cl(e)==="Uint32Array"}a(OFe,"isUint32Array");gn.isUint32Array=OFe;function qFe(e){return cl(e)==="Int8Array"}a(qFe,"isInt8Array");gn.isInt8Array=qFe;function PFe(e){return cl(e)==="Int16Array"}a(PFe,"isInt16Array");gn.isInt16Array=PFe;function FFe(e){return cl(e)==="Int32Array"}a(FFe,"isInt32Array");gn.isInt32Array=FFe;function UFe(e){return cl(e)==="Float32Array"}a(UFe,"isFloat32Array");gn.isFloat32Array=UFe;function YFe(e){return cl(e)==="Float64Array"}a(YFe,"isFloat64Array");gn.isFloat64Array=YFe;function HFe(e){return cl(e)==="BigInt64Array"}a(HFe,"isBigInt64Array");gn.isBigInt64Array=HFe;function zFe(e){return cl(e)==="BigUint64Array"}a(zFe,"isBigUint64Array");gn.isBigUint64Array=zFe;function z6(e){return xc(e)==="[object Map]"}a(z6,"isMapToString");z6.working=typeof Map<"u"&&z6(new Map);function QFe(e){return typeof Map>"u"?!1:z6.working?z6(e):e instanceof Map}a(QFe,"isMap");gn.isMap=QFe;function Q6(e){return xc(e)==="[object Set]"}a(Q6,"isSetToString");Q6.working=typeof Set<"u"&&Q6(new Set);function WFe(e){return typeof Set>"u"?!1:Q6.working?Q6(e):e instanceof Set}a(WFe,"isSet");gn.isSet=WFe;function W6(e){return xc(e)==="[object WeakMap]"}a(W6,"isWeakMapToString");W6.working=typeof WeakMap<"u"&&W6(new WeakMap);function VFe(e){return typeof WeakMap>"u"?!1:W6.working?W6(e):e instanceof WeakMap}a(VFe,"isWeakMap");gn.isWeakMap=VFe;function DR(e){return xc(e)==="[object WeakSet]"}a(DR,"isWeakSetToString");DR.working=typeof WeakSet<"u"&&DR(new WeakSet);function jFe(e){return DR(e)}a(jFe,"isWeakSet");gn.isWeakSet=jFe;function V6(e){return xc(e)==="[object ArrayBuffer]"}a(V6,"isArrayBufferToString");V6.working=typeof ArrayBuffer<"u"&&V6(new ArrayBuffer);function UZ(e){return typeof ArrayBuffer>"u"?!1:V6.working?V6(e):e instanceof ArrayBuffer}a(UZ,"isArrayBuffer");gn.isArrayBuffer=UZ;function j6(e){return xc(e)==="[object DataView]"}a(j6,"isDataViewToString");j6.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j6(new DataView(new ArrayBuffer(1),0,1));function YZ(e){return typeof DataView>"u"?!1:j6.working?j6(e):e instanceof DataView}a(YZ,"isDataView");gn.isDataView=YZ;var LR=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Zv(e){return xc(e)==="[object SharedArrayBuffer]"}a(Zv,"isSharedArrayBufferToString");function HZ(e){return typeof LR>"u"?!1:(typeof Zv.working>"u"&&(Zv.working=Zv(new LR)),Zv.working?Zv(e):e instanceof LR)}a(HZ,"isSharedArrayBuffer");gn.isSharedArrayBuffer=HZ;function GFe(e){return xc(e)==="[object AsyncFunction]"}a(GFe,"isAsyncFunction");gn.isAsyncFunction=GFe;function KFe(e){return xc(e)==="[object Map Iterator]"}a(KFe,"isMapIterator");gn.isMapIterator=KFe;function $Fe(e){return xc(e)==="[object Set Iterator]"}a($Fe,"isSetIterator");gn.isSetIterator=$Fe;function XFe(e){return xc(e)==="[object Generator]"}a(XFe,"isGeneratorObject");gn.isGeneratorObject=XFe;function JFe(e){return xc(e)==="[object WebAssembly.Module]"}a(JFe,"isWebAssemblyCompiledModule");gn.isWebAssemblyCompiledModule=JFe;function zZ(e){return e_(e,IFe)}a(zZ,"isNumberObject");gn.isNumberObject=zZ;function QZ(e){return e_(e,TFe)}a(QZ,"isStringObject");gn.isStringObject=QZ;function WZ(e){return e_(e,MFe)}a(WZ,"isBooleanObject");gn.isBooleanObject=WZ;function VZ(e){return OZ&&e_(e,PZ)}a(VZ,"isBigIntObject");gn.isBigIntObject=VZ;function jZ(e){return qZ&&e_(e,FZ)}a(jZ,"isSymbolObject");gn.isSymbolObject=jZ;function ZFe(e){return zZ(e)||QZ(e)||WZ(e)||VZ(e)||jZ(e)}a(ZFe,"isBoxedPrimitive");gn.isBoxedPrimitive=ZFe;function eUe(e){return typeof Uint8Array<"u"&&(UZ(e)||HZ(e))}a(eUe,"isAnyArrayBuffer");gn.isAnyArrayBuffer=eUe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(gn,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var $Z=j((K$t,KZ)=>{d();KZ.exports=a(function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},"isBuffer")});var Mf=j(yn=>{d();var XZ=Object.getOwnPropertyDescriptors||a(function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},"getOwnPropertyDescriptors"),tUe=/%[sdj%]/g;yn.format=function(e){if(!eA(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(wd(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(tUe,function(l){if(l==="%%")return"%";if(r>=i)return l;switch(l){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return l}}),o=n[r];r<i;o=n[++r])Z6(o)||!Cy(o)?s+=" "+o:s+=" "+wd(o);return s};yn.deprecate=function(e,t){if(typeof _.default<"u"&&_.default.noDeprecation===!0)return e;if(typeof _.default>"u")return function(){return yn.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(_.default.throwDeprecation)throw new Error(t);_.default.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return a(n,"deprecated"),n};var G6={},JZ=/^$/;_.default.env.NODE_DEBUG&&(K6=_.default.env.NODE_DEBUG,K6=K6.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),JZ=new RegExp("^"+K6+"$","i"));var K6;yn.debuglog=function(e){if(e=e.toUpperCase(),!G6[e])if(JZ.test(e)){var t=_.default.pid;G6[e]=function(){var r=yn.format.apply(yn,arguments);console.error("%s %d: %s",e,t,r)}}else G6[e]=function(){};return G6[e]};function wd(e,t){var r={seen:[],stylize:nUe};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),PR(t)?r.showHidden=t:t&&yn._extend(r,t),Ep(r.showHidden)&&(r.showHidden=!1),Ep(r.depth)&&(r.depth=2),Ep(r.colors)&&(r.colors=!1),Ep(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=rUe),X6(r,e,r.depth)}a(wd,"inspect");yn.inspect=wd;wd.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};wd.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function rUe(e,t){var r=wd.styles[t];return r?"\x1B["+wd.colors[r][0]+"m"+e+"\x1B["+wd.colors[r][1]+"m":e}a(rUe,"stylizeWithColor");function nUe(e,t){return e}a(nUe,"stylizeNoColor");function iUe(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}a(iUe,"arrayToHash");function X6(e,t,r){if(e.customInspect&&t&&$6(t.inspect)&&t.inspect!==yn.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return eA(n)||(n=X6(e,n,r)),n}var i=aUe(e,t);if(i)return i;var s=Object.keys(t),o=iUe(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),r_(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return NR(t);if(s.length===0){if($6(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(t_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(J6(t))return e.stylize(Date.prototype.toString.call(t),"date");if(r_(t))return NR(t)}var u="",f=!1,h=["{","}"];if(ZZ(t)&&(f=!0,h=["[","]"]),$6(t)){var p=t.name?": "+t.name:"";u=" [Function"+p+"]"}if(t_(t)&&(u=" "+RegExp.prototype.toString.call(t)),J6(t)&&(u=" "+Date.prototype.toUTCString.call(t)),r_(t)&&(u=" "+NR(t)),s.length===0&&(!f||t.length==0))return h[0]+u+h[1];if(r<0)return t_(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var g;return f?g=sUe(e,t,r,o,s):g=s.map(function(y){return qR(e,t,r,o,y,f)}),e.seen.pop(),oUe(g,u,h)}a(X6,"formatValue");function aUe(e,t){if(Ep(t))return e.stylize("undefined","undefined");if(eA(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(eee(t))return e.stylize(""+t,"number");if(PR(t))return e.stylize(""+t,"boolean");if(Z6(t))return e.stylize("null","null")}a(aUe,"formatPrimitive");function NR(e){return"["+Error.prototype.toString.call(e)+"]"}a(NR,"formatError");function sUe(e,t,r,n,i){for(var s=[],o=0,l=t.length;o<l;++o)tee(t,String(o))?s.push(qR(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(qR(e,t,r,n,u,!0))}),s}a(sUe,"formatArray");function qR(e,t,r,n,i,s){var o,l,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?u.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):u.set&&(l=e.stylize("[Setter]","special")),tee(n,i)||(o="["+i+"]"),l||(e.seen.indexOf(u.value)<0?(Z6(r)?l=X6(e,u.value,null):l=X6(e,u.value,r-1),l.indexOf(`
`)>-1&&(s?l=l.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(f){return"   "+f}).join(`
`))):l=e.stylize("[Circular]","special")),Ep(o)){if(s&&i.match(/^\d+$/))return l;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}a(qR,"formatProperty");function oUe(e,t,r){var n=0,i=e.reduce(function(s,o){return n++,o.indexOf(`
`)>=0&&n++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}a(oUe,"reduceToSingleString");yn.types=GZ();function ZZ(e){return Array.isArray(e)}a(ZZ,"isArray");yn.isArray=ZZ;function PR(e){return typeof e=="boolean"}a(PR,"isBoolean");yn.isBoolean=PR;function Z6(e){return e===null}a(Z6,"isNull");yn.isNull=Z6;function cUe(e){return e==null}a(cUe,"isNullOrUndefined");yn.isNullOrUndefined=cUe;function eee(e){return typeof e=="number"}a(eee,"isNumber");yn.isNumber=eee;function eA(e){return typeof e=="string"}a(eA,"isString");yn.isString=eA;function lUe(e){return typeof e=="symbol"}a(lUe,"isSymbol");yn.isSymbol=lUe;function Ep(e){return e===void 0}a(Ep,"isUndefined");yn.isUndefined=Ep;function t_(e){return Cy(e)&&FR(e)==="[object RegExp]"}a(t_,"isRegExp");yn.isRegExp=t_;yn.types.isRegExp=t_;function Cy(e){return typeof e=="object"&&e!==null}a(Cy,"isObject");yn.isObject=Cy;function J6(e){return Cy(e)&&FR(e)==="[object Date]"}a(J6,"isDate");yn.isDate=J6;yn.types.isDate=J6;function r_(e){return Cy(e)&&(FR(e)==="[object Error]"||e instanceof Error)}a(r_,"isError");yn.isError=r_;yn.types.isNativeError=r_;function $6(e){return typeof e=="function"}a($6,"isFunction");yn.isFunction=$6;function uUe(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(uUe,"isPrimitive");yn.isPrimitive=uUe;yn.isBuffer=$Z();function FR(e){return Object.prototype.toString.call(e)}a(FR,"objectToString");function OR(e){return e<10?"0"+e.toString(10):e.toString(10)}a(OR,"pad");var fUe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hUe(){var e=new Date,t=[OR(e.getHours()),OR(e.getMinutes()),OR(e.getSeconds())].join(":");return[e.getDate(),fUe[e.getMonth()],t].join(" ")}a(hUe,"timestamp");yn.log=function(){console.log("%s - %s",hUe(),yn.format.apply(yn,arguments))};yn.inherits=kr();yn._extend=function(e,t){if(!t||!Cy(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function tee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(tee,"hasOwnProperty");var Ap=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;yn.promisify=a(function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Ap&&t[Ap]){var r=t[Ap];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Ap,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(u,f){n=u,i=f}),o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);o.push(function(u,f){u?i(u):n(f)});try{t.apply(this,o)}catch(u){i(u)}return s}return a(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Ap&&Object.defineProperty(r,Ap,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,XZ(t))},"promisify");yn.promisify.custom=Ap;function dUe(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}a(dUe,"callbackifyOnRejected");function pUe(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=a(function(){return i.apply(s,arguments)},"cb");e.apply(this,r).then(function(l){_.default.nextTick(o.bind(null,null,l))},function(l){_.default.nextTick(dUe.bind(null,l,o))})}return a(t,"callbackified"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,XZ(e)),t}a(pUe,"callbackify");yn.callbackify=pUe});var aee=j((tXt,iee)=>{"use strict";d();function ree(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}a(ree,"ownKeys");function gUe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ree(Object(r),!0).forEach(function(n){yUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ree(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}a(gUe,"_objectSpread");function yUe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a(yUe,"_defineProperty");function mUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(mUe,"_classCallCheck");function nee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a(nee,"_defineProperties");function bUe(e,t,r){return t&&nee(e.prototype,t),r&&nee(e,r),e}a(bUe,"_createClass");var vUe=Ei(),tA=vUe.Buffer,_Ue=Mf(),UR=_Ue.inspect,xUe=UR&&UR.custom||"inspect";function wUe(e,t,r){tA.prototype.copy.call(e,t,r)}a(wUe,"copyBuffer");iee.exports=function(){function e(){mUe(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),bUe(e,[{key:"push",value:a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:a(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:a(function(r){if(this.length===0)return tA.alloc(0);for(var n=tA.allocUnsafe(r>>>0),i=this.head,s=0;i;)wUe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:a(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:a(function(){return this.head.data},"first")},{key:"_getString",value:a(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,l=r>o.length?o.length:r;if(l===o.length?s+=o:s+=o.slice(0,r),r-=l,r===0){l===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(l));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:a(function(r){var n=tA.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,l=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,l),r-=l,r===0){l===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(l));break}++s}return this.length-=s,n},"_getBuffer")},{key:xUe,value:a(function(r,n){return UR(this,gUe({},n,{depth:0,customInspect:!1}))},"value")}]),e}()});var HR=j((iXt,oee)=>{"use strict";d();function AUe(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.default.nextTick(YR,this,e)):_.default.nextTick(YR,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?_.default.nextTick(rA,r):(r._writableState.errorEmitted=!0,_.default.nextTick(see,r,s)):_.default.nextTick(see,r,s):t?(_.default.nextTick(rA,r),t(s)):_.default.nextTick(rA,r)}),this)}a(AUe,"destroy");function see(e,t){YR(e,t),rA(e)}a(see,"emitErrorAndCloseNT");function rA(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}a(rA,"emitCloseNT");function EUe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(EUe,"undestroy");function YR(e,t){e.emit("error",t)}a(YR,"emitErrorNT");function SUe(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}a(SUe,"errorOrDestroy");oee.exports={destroy:AUe,undestroy:EUe,errorOrDestroy:SUe}});var Sp=j((oXt,uee)=>{"use strict";d();function kUe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a(kUe,"_inheritsLoose");var lee={};function wc(e,t,r){r||(r=Error);function n(s,o,l){return typeof t=="string"?t:t(s,o,l)}a(n,"getMessage");var i=function(s){kUe(o,s);function o(l,u,f){return s.call(this,n(l,u,f))||this}return a(o,"NodeError"),o}(r);i.prototype.name=r.name,i.prototype.code=e,lee[e]=i}a(wc,"createErrorType");function cee(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}a(cee,"oneOf");function CUe(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}a(CUe,"startsWith");function IUe(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}a(IUe,"endsWith");function TUe(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}a(TUe,"includes");wc("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);wc("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&CUe(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(IUe(e," argument"))i="The ".concat(e," ").concat(n," ").concat(cee(t,"type"));else{var s=TUe(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(cee(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);wc("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wc("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});wc("ERR_STREAM_PREMATURE_CLOSE","Premature close");wc("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});wc("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wc("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wc("ERR_STREAM_WRITE_AFTER_END","write after end");wc("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wc("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);wc("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");uee.exports.codes=lee});var zR=j((uXt,fee)=>{"use strict";d();var MUe=Sp().codes.ERR_INVALID_OPT_VALUE;function BUe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}a(BUe,"highWaterMarkFrom");function RUe(e,t,r,n){var i=BUe(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new MUe(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}a(RUe,"getHighWaterMark");fee.exports={getHighWaterMark:RUe}});var n_=j((dXt,hee)=>{d();hee.exports=LUe;function LUe(e,t){if(QR("noDeprecation"))return e;var r=!1;function n(){if(!r){if(QR("throwDeprecation"))throw new Error(t);QR("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return a(n,"deprecated"),n}a(LUe,"deprecate");function QR(e){try{if(!w.localStorage)return!1}catch{return!1}var t=w.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}a(QR,"config")});var aA=j((yXt,bee)=>{"use strict";d();bee.exports=Hi;function pee(e){var t=this;this.next=null,this.entry=null,this.finish=function(){sYe(t,e)}}a(pee,"CorkedRequest");var Iy;Hi.WritableState=a_;var DUe={deprecate:n_()},gee=fR(),iA=Ei().Buffer,NUe=w.Uint8Array||function(){};function OUe(e){return iA.from(e)}a(OUe,"_uint8ArrayToBuffer");function qUe(e){return iA.isBuffer(e)||e instanceof NUe}a(qUe,"_isUint8Array");var VR=HR(),PUe=zR(),FUe=PUe.getHighWaterMark,Ad=Sp().codes,UUe=Ad.ERR_INVALID_ARG_TYPE,YUe=Ad.ERR_METHOD_NOT_IMPLEMENTED,HUe=Ad.ERR_MULTIPLE_CALLBACK,zUe=Ad.ERR_STREAM_CANNOT_PIPE,QUe=Ad.ERR_STREAM_DESTROYED,WUe=Ad.ERR_STREAM_NULL_VALUES,VUe=Ad.ERR_STREAM_WRITE_AFTER_END,jUe=Ad.ERR_UNKNOWN_ENCODING,Ty=VR.errorOrDestroy;kr()(Hi,gee);function GUe(){}a(GUe,"nop");function a_(e,t,r){Iy=Iy||Ed(),e=e||{},typeof r!="boolean"&&(r=t instanceof Iy),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=FUe(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){tYe(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new pee(this)}a(a_,"WritableState");a_.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(a_.prototype,"buffer",{get:DUe.deprecate(a(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var nA;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nA=Function.prototype[Symbol.hasInstance],Object.defineProperty(Hi,Symbol.hasInstance,{value:a(function(t){return nA.call(this,t)?!0:this!==Hi?!1:t&&t._writableState instanceof a_},"value")})):nA=a(function(t){return t instanceof this},"realHasInstance");function Hi(e){Iy=Iy||Ed();var t=this instanceof Iy;if(!t&&!nA.call(Hi,this))return new Hi(e);this._writableState=new a_(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gee.call(this)}a(Hi,"Writable");Hi.prototype.pipe=function(){Ty(this,new zUe)};function KUe(e,t){var r=new VUe;Ty(e,r),_.default.nextTick(t,r)}a(KUe,"writeAfterEnd");function $Ue(e,t,r,n){var i;return r===null?i=new WUe:typeof r!="string"&&!t.objectMode&&(i=new UUe("chunk",["string","Buffer"],r)),i?(Ty(e,i),_.default.nextTick(n,i),!1):!0}a($Ue,"validChunk");Hi.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&qUe(e);return s&&!iA.isBuffer(e)&&(e=OUe(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=GUe),n.ending?KUe(this,r):(s||$Ue(this,n,e,r))&&(n.pendingcb++,i=JUe(this,n,s,e,t,r)),i};Hi.prototype.cork=function(){this._writableState.corked++};Hi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&yee(this,e))};Hi.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new jUe(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");Object.defineProperty(Hi.prototype,"writableBuffer",{enumerable:!1,get:a(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function XUe(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=iA.from(t,r)),t}a(XUe,"decodeChunk");Object.defineProperty(Hi.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function JUe(e,t,r,n,i,s){if(!r){var o=XUe(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=t.objectMode?1:n.length;t.length+=l;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else WR(e,t,!1,l,n,i,s);return u}a(JUe,"writeOrBuffer");function WR(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new QUe("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(WR,"doWrite");function ZUe(e,t,r,n,i){--t.pendingcb,r?(_.default.nextTick(i,n),_.default.nextTick(i_,e,t),e._writableState.errorEmitted=!0,Ty(e,n)):(i(n),e._writableState.errorEmitted=!0,Ty(e,n),i_(e,t))}a(ZUe,"onwriteError");function eYe(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(eYe,"onwriteStateUpdate");function tYe(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new HUe;if(eYe(r),t)ZUe(e,r,n,t,i);else{var s=mee(r)||e.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yee(e,r),n?_.default.nextTick(dee,e,r,s,i):dee(e,r,s,i)}}a(tYe,"onwrite");function dee(e,t,r,n){r||rYe(e,t),t.pendingcb--,n(),i_(e,t)}a(dee,"afterWrite");function rYe(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(rYe,"onwriteDrain");function yee(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,WR(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new pee(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:u.length;if(WR(e,t,!1,p,u,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(yee,"clearBuffer");Hi.prototype._write=function(e,t,r){r(new YUe("_write()"))};Hi.prototype._writev=null;Hi.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||aYe(this,n,r),this};Object.defineProperty(Hi.prototype,"writableLength",{enumerable:!1,get:a(function(){return this._writableState.length},"get")});function mee(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(mee,"needFinish");function nYe(e,t){e._final(function(r){t.pendingcb--,r&&Ty(e,r),t.prefinished=!0,e.emit("prefinish"),i_(e,t)})}a(nYe,"callFinal");function iYe(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,_.default.nextTick(nYe,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(iYe,"prefinish");function i_(e,t){var r=mee(t);if(r&&(iYe(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}a(i_,"finishMaybe");function aYe(e,t,r){t.ending=!0,i_(e,t),r&&(t.finished?_.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(aYe,"endWritable");function sYe(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}a(sYe,"onCorkedFinish");Object.defineProperty(Hi.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:a(function(t){!this._writableState||(this._writableState.destroyed=t)},"set")});Hi.prototype.destroy=VR.destroy;Hi.prototype._undestroy=VR.undestroy;Hi.prototype._destroy=function(e,t){t(e)}});var Ed=j((vXt,_ee)=>{"use strict";d();var oYe=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};_ee.exports=hu;var vee=cA(),GR=aA();kr()(hu,vee);for(jR=oYe(GR.prototype),sA=0;sA<jR.length;sA++)oA=jR[sA],hu.prototype[oA]||(hu.prototype[oA]=GR.prototype[oA]);var jR,oA,sA;function hu(e){if(!(this instanceof hu))return new hu(e);vee.call(this,e),GR.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",cYe)))}a(hu,"Duplex");Object.defineProperty(hu.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(hu.prototype,"writableBuffer",{enumerable:!1,get:a(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(hu.prototype,"writableLength",{enumerable:!1,get:a(function(){return this._writableState.length},"get")});function cYe(){this._writableState.ended||_.default.nextTick(lYe,this)}a(cYe,"onend");function lYe(e){e.end()}a(lYe,"onEndNT");Object.defineProperty(hu.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:a(function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)},"set")})});var o_=j(wee=>{"use strict";d();var $R=rn().Buffer,xee=$R.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function uYe(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(uYe,"_normalizeEncoding");function fYe(e){var t=uYe(e);if(typeof t!="string"&&($R.isEncoding===xee||!xee(e)))throw new Error("Unknown encoding: "+e);return t||e}a(fYe,"normalizeEncoding");wee.StringDecoder=s_;function s_(e){this.encoding=fYe(e);var t;switch(this.encoding){case"utf16le":this.text=mYe,this.end=bYe,t=4;break;case"utf8":this.fillLast=pYe,t=4;break;case"base64":this.text=vYe,this.end=_Ye,t=3;break;default:this.write=xYe,this.end=wYe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=$R.allocUnsafe(t)}a(s_,"StringDecoder");s_.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};s_.prototype.end=yYe;s_.prototype.text=gYe;s_.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function KR(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(KR,"utf8CheckByte");function hYe(e,t,r){var n=t.length-1;if(n<r)return 0;var i=KR(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=KR(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=KR(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(hYe,"utf8CheckIncomplete");function dYe(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(dYe,"utf8CheckExtraBytes");function pYe(e){var t=this.lastTotal-this.lastNeed,r=dYe(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(pYe,"utf8FillLast");function gYe(e,t){var r=hYe(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(gYe,"utf8Text");function yYe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(yYe,"utf8End");function mYe(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(mYe,"utf16Text");function bYe(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(bYe,"utf16End");function vYe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(vYe,"base64Text");function _Ye(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(_Ye,"base64End");function xYe(e){return e.toString(this.encoding)}a(xYe,"simpleWrite");function wYe(e){return e&&e.length?this.write(e):""}a(wYe,"simpleEnd")});var c_=j((SXt,See)=>{"use strict";d();var Aee=Sp().codes.ERR_STREAM_PREMATURE_CLOSE;function AYe(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}a(AYe,"once");function EYe(){}a(EYe,"noop");function SYe(e){return e.setHeader&&typeof e.abort=="function"}a(SYe,"isRequest");function Eee(e,t,r){if(typeof t=="function")return Eee(e,null,t);t||(t={}),r=AYe(r||EYe);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=a(function(){e.writable||l()},"onlegacyfinish"),o=e._writableState&&e._writableState.finished,l=a(function(){i=!1,o=!0,n||r.call(e)},"onfinish"),u=e._readableState&&e._readableState.endEmitted,f=a(function(){n=!1,u=!0,i||r.call(e)},"onend"),h=a(function(E){r.call(e,E)},"onerror"),p=a(function(){var E;if(n&&!u)return(!e._readableState||!e._readableState.ended)&&(E=new Aee),r.call(e,E);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(E=new Aee),r.call(e,E)},"onclose"),g=a(function(){e.req.on("finish",l)},"onrequest");return SYe(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",f),e.on("finish",l),t.error!==!1&&e.on("error",h),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",h),e.removeListener("close",p)}}a(Eee,"eos");See.exports=Eee});var Cee=j((IXt,kee)=>{"use strict";d();var lA;function Sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a(Sd,"_defineProperty");var kYe=c_(),kd=Symbol("lastResolve"),kp=Symbol("lastReject"),l_=Symbol("error"),uA=Symbol("ended"),Cp=Symbol("lastPromise"),XR=Symbol("handlePromise"),Ip=Symbol("stream");function Cd(e,t){return{value:e,done:t}}a(Cd,"createIterResult");function CYe(e){var t=e[kd];if(t!==null){var r=e[Ip].read();r!==null&&(e[Cp]=null,e[kd]=null,e[kp]=null,t(Cd(r,!1)))}}a(CYe,"readAndResolve");function IYe(e){_.default.nextTick(CYe,e)}a(IYe,"onReadable");function TYe(e,t){return function(r,n){e.then(function(){if(t[uA]){r(Cd(void 0,!0));return}t[XR](r,n)},n)}}a(TYe,"wrapForNext");var MYe=Object.getPrototypeOf(function(){}),BYe=Object.setPrototypeOf((lA={get stream(){return this[Ip]},next:a(function(){var t=this,r=this[l_];if(r!==null)return Promise.reject(r);if(this[uA])return Promise.resolve(Cd(void 0,!0));if(this[Ip].destroyed)return new Promise(function(o,l){_.default.nextTick(function(){t[l_]?l(t[l_]):o(Cd(void 0,!0))})});var n=this[Cp],i;if(n)i=new Promise(TYe(n,this));else{var s=this[Ip].read();if(s!==null)return Promise.resolve(Cd(s,!1));i=new Promise(this[XR])}return this[Cp]=i,i},"next")},Sd(lA,Symbol.asyncIterator,function(){return this}),Sd(lA,"return",a(function(){var t=this;return new Promise(function(r,n){t[Ip].destroy(null,function(i){if(i){n(i);return}r(Cd(void 0,!0))})})},"_return")),lA),MYe),RYe=a(function(t){var r,n=Object.create(BYe,(r={},Sd(r,Ip,{value:t,writable:!0}),Sd(r,kd,{value:null,writable:!0}),Sd(r,kp,{value:null,writable:!0}),Sd(r,l_,{value:null,writable:!0}),Sd(r,uA,{value:t._readableState.endEmitted,writable:!0}),Sd(r,XR,{value:a(function(s,o){var l=n[Ip].read();l?(n[Cp]=null,n[kd]=null,n[kp]=null,s(Cd(l,!1))):(n[kd]=s,n[kp]=o)},"value"),writable:!0}),r));return n[Cp]=null,kYe(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[kp];s!==null&&(n[Cp]=null,n[kd]=null,n[kp]=null,s(i)),n[l_]=i;return}var o=n[kd];o!==null&&(n[Cp]=null,n[kd]=null,n[kp]=null,o(Cd(void 0,!0))),n[uA]=!0}),t.on("readable",IYe.bind(null,n)),n},"createReadableStreamAsyncIterator");kee.exports=RYe});var Tee=j((BXt,Iee)=>{d();Iee.exports=function(){throw new Error("Readable.from is not available in the browser")}});var cA=j((DXt,Fee)=>{"use strict";d();Fee.exports=Nn;var My;Nn.ReadableState=Lee;var LXt=ea().EventEmitter,Ree=a(function(t,r){return t.listeners(r).length},"EElistenerCount"),f_=fR(),fA=Ei().Buffer,LYe=w.Uint8Array||function(){};function DYe(e){return fA.from(e)}a(DYe,"_uint8ArrayToBuffer");function NYe(e){return fA.isBuffer(e)||e instanceof LYe}a(NYe,"_isUint8Array");var JR=Mf(),hn;JR&&JR.debuglog?hn=JR.debuglog("stream"):hn=a(function(){},"debug");var OYe=aee(),aL=HR(),qYe=zR(),PYe=qYe.getHighWaterMark,hA=Sp().codes,FYe=hA.ERR_INVALID_ARG_TYPE,UYe=hA.ERR_STREAM_PUSH_AFTER_EOF,YYe=hA.ERR_METHOD_NOT_IMPLEMENTED,HYe=hA.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,By,ZR,eL;kr()(Nn,f_);var u_=aL.errorOrDestroy,tL=["error","close","destroy","pause","resume"];function zYe(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(zYe,"prependListener");function Lee(e,t,r){My=My||Ed(),e=e||{},typeof r!="boolean"&&(r=t instanceof My),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=PYe(this,e,"readableHighWaterMark",r),this.buffer=new OYe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(By||(By=o_().StringDecoder),this.decoder=new By(e.encoding),this.encoding=e.encoding)}a(Lee,"ReadableState");function Nn(e){if(My=My||Ed(),!(this instanceof Nn))return new Nn(e);var t=this instanceof My;this._readableState=new Lee(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),f_.call(this)}a(Nn,"Readable");Object.defineProperty(Nn.prototype,"destroyed",{enumerable:!1,get:a(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:a(function(t){!this._readableState||(this._readableState.destroyed=t)},"set")});Nn.prototype.destroy=aL.destroy;Nn.prototype._undestroy=aL.undestroy;Nn.prototype._destroy=function(e,t){t(e)};Nn.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=fA.from(e,t),t=""),n=!0),Dee(this,e,t,!1,n)};Nn.prototype.unshift=function(e){return Dee(this,e,null,!0,!1)};function Dee(e,t,r,n,i){hn("readableAddChunk",t);var s=e._readableState;if(t===null)s.reading=!1,VYe(e,s);else{var o;if(i||(o=QYe(s,t)),o)u_(e,o);else if(s.objectMode||t&&t.length>0)if(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==fA.prototype&&(t=DYe(t)),n)s.endEmitted?u_(e,new HYe):rL(e,s,t,!0);else if(s.ended)u_(e,new UYe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?rL(e,s,t,!1):iL(e,s)):rL(e,s,t,!1)}else n||(s.reading=!1,iL(e,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}a(Dee,"readableAddChunk");function rL(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&dA(e)),iL(e,t)}a(rL,"addChunk");function QYe(e,t){var r;return!NYe(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new FYe("chunk",["string","Buffer","Uint8Array"],t)),r}a(QYe,"chunkInvalid");Nn.prototype.isPaused=function(){return this._readableState.flowing===!1};Nn.prototype.setEncoding=function(e){By||(By=o_().StringDecoder);var t=new By(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Mee=1073741824;function WYe(e){return e>=Mee?e=Mee:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(WYe,"computeNewHighWaterMark");function Bee(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=WYe(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Bee,"howMuchToRead");Nn.prototype.read=function(e){hn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return hn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?nL(this):dA(this),null;if(e=Bee(e,t),e===0&&t.ended)return t.length===0&&nL(this),null;var n=t.needReadable;hn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,hn("length less than watermark",n)),t.ended||t.reading?(n=!1,hn("reading or ended",n)):n&&(hn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Bee(r,t)));var i;return e>0?i=qee(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&nL(this)),i!==null&&this.emit("data",i),i};function VYe(e,t){if(hn("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?dA(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Nee(e)))}}a(VYe,"onEofChunk");function dA(e){var t=e._readableState;hn("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(hn("emitReadable",t.flowing),t.emittedReadable=!0,_.default.nextTick(Nee,e))}a(dA,"emitReadable");function Nee(e){var t=e._readableState;hn("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,sL(e)}a(Nee,"emitReadable_");function iL(e,t){t.readingMore||(t.readingMore=!0,_.default.nextTick(jYe,e,t))}a(iL,"maybeReadMore");function jYe(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(hn("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}a(jYe,"maybeReadMore_");Nn.prototype._read=function(e){u_(this,new YYe("_read()"))};Nn.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,hn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?l:M;n.endEmitted?_.default.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(z,P){hn("onunpipe"),z===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,h())}a(o,"onunpipe");function l(){hn("onend"),e.end()}a(l,"onend");var u=GYe(r);e.on("drain",u);var f=!1;function h(){hn("cleanup"),e.removeListener("close",y),e.removeListener("finish",E),e.removeListener("drain",u),e.removeListener("error",g),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",M),r.removeListener("data",p),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}a(h,"cleanup"),r.on("data",p);function p(z){hn("ondata");var P=e.write(z);hn("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Pee(n.pipes,e)!==-1)&&!f&&(hn("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}a(p,"ondata");function g(z){hn("onerror",z),M(),e.removeListener("error",g),Ree(e,"error")===0&&u_(e,z)}a(g,"onerror"),zYe(e,"error",g);function y(){e.removeListener("finish",E),M()}a(y,"onclose"),e.once("close",y);function E(){hn("onfinish"),e.removeListener("close",y),M()}a(E,"onfinish"),e.once("finish",E);function M(){hn("unpipe"),r.unpipe(e)}return a(M,"unpipe"),e.emit("pipe",r),n.flowing||(hn("pipe resume"),r.resume()),e};function GYe(e){return a(function(){var r=e._readableState;hn("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ree(e,"data")&&(r.flowing=!0,sL(e))},"pipeOnDrainFunctionResult")}a(GYe,"pipeOnDrain");Nn.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Pee(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Nn.prototype.on=function(e,t){var r=f_.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,hn("on readable",n.length,n.reading),n.length?dA(this):n.reading||_.default.nextTick(KYe,this)),r};Nn.prototype.addListener=Nn.prototype.on;Nn.prototype.removeListener=function(e,t){var r=f_.prototype.removeListener.call(this,e,t);return e==="readable"&&_.default.nextTick(Oee,this),r};Nn.prototype.removeAllListeners=function(e){var t=f_.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&_.default.nextTick(Oee,this),t};function Oee(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}a(Oee,"updateReadableListening");function KYe(e){hn("readable nexttick read 0"),e.read(0)}a(KYe,"nReadingNextTick");Nn.prototype.resume=function(){var e=this._readableState;return e.flowing||(hn("resume"),e.flowing=!e.readableListening,$Ye(this,e)),e.paused=!1,this};function $Ye(e,t){t.resumeScheduled||(t.resumeScheduled=!0,_.default.nextTick(XYe,e,t))}a($Ye,"resume");function XYe(e,t){hn("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),sL(e),t.flowing&&!t.reading&&e.read(0)}a(XYe,"resume_");Nn.prototype.pause=function(){return hn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(hn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function sL(e){var t=e._readableState;for(hn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(sL,"flow");Nn.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(hn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(hn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var l=t.push(o);l||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=a(function(l){return a(function(){return e[l].apply(e,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<tL.length;s++)e.on(tL[s],this.emit.bind(this,tL[s]));return this._read=function(o){hn("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(Nn.prototype[Symbol.asyncIterator]=function(){return ZR===void 0&&(ZR=Cee()),ZR(this)});Object.defineProperty(Nn.prototype,"readableHighWaterMark",{enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(Nn.prototype,"readableBuffer",{enumerable:!1,get:a(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(Nn.prototype,"readableFlowing",{enumerable:!1,get:a(function(){return this._readableState.flowing},"get"),set:a(function(t){this._readableState&&(this._readableState.flowing=t)},"set")});Nn._fromList=qee;Object.defineProperty(Nn.prototype,"readableLength",{enumerable:!1,get:a(function(){return this._readableState.length},"get")});function qee(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}a(qee,"fromList");function nL(e){var t=e._readableState;hn("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,_.default.nextTick(JYe,t,e))}a(nL,"endReadable");function JYe(e,t){if(hn("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}a(JYe,"endReadableNT");typeof Symbol=="function"&&(Nn.from=function(e,t){return eL===void 0&&(eL=Tee()),eL(Nn,e,t)});function Pee(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(Pee,"indexOf")});var yA=j((qXt,Yee)=>{"use strict";d();Yee.exports=Bf;var pA=Sp().codes,ZYe=pA.ERR_METHOD_NOT_IMPLEMENTED,eHe=pA.ERR_MULTIPLE_CALLBACK,tHe=pA.ERR_TRANSFORM_ALREADY_TRANSFORMING,rHe=pA.ERR_TRANSFORM_WITH_LENGTH_0,gA=Ed();kr()(Bf,gA);function nHe(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new eHe);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(nHe,"afterTransform");function Bf(e){if(!(this instanceof Bf))return new Bf(e);gA.call(this,e),this._transformState={afterTransform:nHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",iHe)}a(Bf,"Transform");function iHe(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Uee(e,t,r)}):Uee(this,null,null)}a(iHe,"prefinish");Bf.prototype.push=function(e,t){return this._transformState.needTransform=!1,gA.prototype.push.call(this,e,t)};Bf.prototype._transform=function(e,t,r){r(new ZYe("_transform()"))};Bf.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Bf.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Bf.prototype._destroy=function(e,t){gA.prototype._destroy.call(this,e,function(r){t(r)})};function Uee(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new rHe;if(e._transformState.transforming)throw new tHe;return e.push(null)}a(Uee,"done")});var oL=j((UXt,zee)=>{"use strict";d();zee.exports=h_;var Hee=yA();kr()(h_,Hee);function h_(e){if(!(this instanceof h_))return new h_(e);Hee.call(this,e)}a(h_,"PassThrough");h_.prototype._transform=function(e,t,r){r(null,e)}});var lL=j((zXt,jee)=>{"use strict";d();var cL;function aHe(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}a(aHe,"once");var Vee=Sp().codes,sHe=Vee.ERR_MISSING_ARGS,oHe=Vee.ERR_STREAM_DESTROYED;function Qee(e){if(e)throw e}a(Qee,"noop");function cHe(e){return e.setHeader&&typeof e.abort=="function"}a(cHe,"isRequest");function lHe(e,t,r,n){n=aHe(n);var i=!1;e.on("close",function(){i=!0}),cL===void 0&&(cL=c_()),cL(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,cHe(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new oHe("pipe"))}}}a(lHe,"destroyer");function Wee(e){e()}a(Wee,"call");function uHe(e,t){return e.pipe(t)}a(uHe,"pipe");function fHe(e){return!e.length||typeof e[e.length-1]!="function"?Qee:e.pop()}a(fHe,"popCallback");function hHe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=fHe(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new sHe("streams");var i,s=t.map(function(o,l){var u=l<t.length-1,f=l>0;return lHe(o,u,f,function(h){i||(i=h),h&&s.forEach(Wee),!u&&(s.forEach(Wee),n(i))})});return t.reduce(uHe)}a(hHe,"pipeline");jee.exports=hHe});var Tp=j((Ac,Gee)=>{d();Ac=Gee.exports=cA();Ac.Stream=Ac;Ac.Readable=Ac;Ac.Writable=aA();Ac.Duplex=Ed();Ac.Transform=yA();Ac.PassThrough=oL();Ac.finished=c_();Ac.pipeline=lL()});var uL=j((jXt,$ee)=>{"use strict";d();var mA=rn().Buffer,Kee=Tp().Transform,dHe=kr();function pHe(e,t){if(!mA.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}a(pHe,"throwIfNotStringOrBuffer");function Id(e){Kee.call(this),this._block=mA.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(Id,"HashBase");dHe(Id,Kee);Id.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};Id.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};Id.prototype.update=function(e,t){if(pHe(e,"Data"),this._finalized)throw new Error("Digest already called");mA.isBuffer(e)||(e=mA.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,o=e.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Id.prototype._update=function(){throw new Error("_update is not implemented")};Id.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Id.prototype._digest=function(){throw new Error("_digest is not implemented")};$ee.exports=Id});var _A=j(($Xt,Jee)=>{"use strict";d();var gHe=kr(),Xee=uL(),yHe=rn().Buffer,mHe=new Array(16);function bA(){Xee.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(bA,"MD5");gHe(bA,Xee);bA.prototype._update=function(){for(var e=mHe,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=_s(r,n,i,s,e[0],3614090360,7),s=_s(s,r,n,i,e[1],3905402710,12),i=_s(i,s,r,n,e[2],606105819,17),n=_s(n,i,s,r,e[3],3250441966,22),r=_s(r,n,i,s,e[4],4118548399,7),s=_s(s,r,n,i,e[5],1200080426,12),i=_s(i,s,r,n,e[6],2821735955,17),n=_s(n,i,s,r,e[7],4249261313,22),r=_s(r,n,i,s,e[8],1770035416,7),s=_s(s,r,n,i,e[9],2336552879,12),i=_s(i,s,r,n,e[10],4294925233,17),n=_s(n,i,s,r,e[11],2304563134,22),r=_s(r,n,i,s,e[12],1804603682,7),s=_s(s,r,n,i,e[13],4254626195,12),i=_s(i,s,r,n,e[14],2792965006,17),n=_s(n,i,s,r,e[15],1236535329,22),r=xs(r,n,i,s,e[1],4129170786,5),s=xs(s,r,n,i,e[6],3225465664,9),i=xs(i,s,r,n,e[11],643717713,14),n=xs(n,i,s,r,e[0],3921069994,20),r=xs(r,n,i,s,e[5],3593408605,5),s=xs(s,r,n,i,e[10],38016083,9),i=xs(i,s,r,n,e[15],3634488961,14),n=xs(n,i,s,r,e[4],3889429448,20),r=xs(r,n,i,s,e[9],568446438,5),s=xs(s,r,n,i,e[14],3275163606,9),i=xs(i,s,r,n,e[3],4107603335,14),n=xs(n,i,s,r,e[8],1163531501,20),r=xs(r,n,i,s,e[13],2850285829,5),s=xs(s,r,n,i,e[2],4243563512,9),i=xs(i,s,r,n,e[7],1735328473,14),n=xs(n,i,s,r,e[12],2368359562,20),r=ws(r,n,i,s,e[5],4294588738,4),s=ws(s,r,n,i,e[8],2272392833,11),i=ws(i,s,r,n,e[11],1839030562,16),n=ws(n,i,s,r,e[14],4259657740,23),r=ws(r,n,i,s,e[1],2763975236,4),s=ws(s,r,n,i,e[4],1272893353,11),i=ws(i,s,r,n,e[7],4139469664,16),n=ws(n,i,s,r,e[10],3200236656,23),r=ws(r,n,i,s,e[13],681279174,4),s=ws(s,r,n,i,e[0],3936430074,11),i=ws(i,s,r,n,e[3],3572445317,16),n=ws(n,i,s,r,e[6],76029189,23),r=ws(r,n,i,s,e[9],3654602809,4),s=ws(s,r,n,i,e[12],3873151461,11),i=ws(i,s,r,n,e[15],530742520,16),n=ws(n,i,s,r,e[2],3299628645,23),r=As(r,n,i,s,e[0],4096336452,6),s=As(s,r,n,i,e[7],1126891415,10),i=As(i,s,r,n,e[14],2878612391,15),n=As(n,i,s,r,e[5],4237533241,21),r=As(r,n,i,s,e[12],1700485571,6),s=As(s,r,n,i,e[3],2399980690,10),i=As(i,s,r,n,e[10],4293915773,15),n=As(n,i,s,r,e[1],2240044497,21),r=As(r,n,i,s,e[8],1873313359,6),s=As(s,r,n,i,e[15],4264355552,10),i=As(i,s,r,n,e[6],2734768916,15),n=As(n,i,s,r,e[13],1309151649,21),r=As(r,n,i,s,e[4],4149444226,6),s=As(s,r,n,i,e[11],3174756917,10),i=As(i,s,r,n,e[2],718787259,15),n=As(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};bA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=yHe.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function vA(e,t){return e<<t|e>>>32-t}a(vA,"rotl");function _s(e,t,r,n,i,s,o){return vA(e+(t&r|~t&n)+i+s|0,o)+t|0}a(_s,"fnF");function xs(e,t,r,n,i,s,o){return vA(e+(t&n|r&~n)+i+s|0,o)+t|0}a(xs,"fnG");function ws(e,t,r,n,i,s,o){return vA(e+(t^r^n)+i+s|0,o)+t|0}a(ws,"fnH");function As(e,t,r,n,i,s,o){return vA(e+(r^(t|~n))+i+s|0,o)+t|0}a(As,"fnI");Jee.exports=bA});var wA=j((ZXt,ate)=>{"use strict";d();var fL=Ei().Buffer,bHe=kr(),ite=uL(),vHe=new Array(16),d_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m_=[0,1518500249,1859775393,2400959708,2840853838],b_=[1352829926,1548603684,1836072691,2053994217,0];function xA(){ite.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}a(xA,"RIPEMD160");bHe(xA,ite);xA.prototype._update=function(){for(var e=vHe,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,l=this._a|0,u=this._b|0,f=this._c|0,h=this._d|0,p=this._e|0,g=0;g<80;g+=1){var y,E;g<16?(y=Zee(r,n,i,s,o,e[d_[g]],m_[0],g_[g]),E=nte(l,u,f,h,p,e[p_[g]],b_[0],y_[g])):g<32?(y=ete(r,n,i,s,o,e[d_[g]],m_[1],g_[g]),E=rte(l,u,f,h,p,e[p_[g]],b_[1],y_[g])):g<48?(y=tte(r,n,i,s,o,e[d_[g]],m_[2],g_[g]),E=tte(l,u,f,h,p,e[p_[g]],b_[2],y_[g])):g<64?(y=rte(r,n,i,s,o,e[d_[g]],m_[3],g_[g]),E=ete(l,u,f,h,p,e[p_[g]],b_[3],y_[g])):(y=nte(r,n,i,s,o,e[d_[g]],m_[4],g_[g]),E=Zee(l,u,f,h,p,e[p_[g]],b_[4],y_[g])),r=o,o=s,s=Mp(i,10),i=n,n=y,l=p,p=h,h=Mp(f,10),f=u,u=E}var M=this._b+i+h|0;this._b=this._c+s+p|0,this._c=this._d+o+l|0,this._d=this._e+r+u|0,this._e=this._a+n+f|0,this._a=M};xA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=fL.alloc?fL.alloc(20):new fL(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function Mp(e,t){return e<<t|e>>>32-t}a(Mp,"rotl");function Zee(e,t,r,n,i,s,o,l){return Mp(e+(t^r^n)+s+o|0,l)+i|0}a(Zee,"fn1");function ete(e,t,r,n,i,s,o,l){return Mp(e+(t&r|~t&n)+s+o|0,l)+i|0}a(ete,"fn2");function tte(e,t,r,n,i,s,o,l){return Mp(e+((t|~r)^n)+s+o|0,l)+i|0}a(tte,"fn3");function rte(e,t,r,n,i,s,o,l){return Mp(e+(t&n|r&~n)+s+o|0,l)+i|0}a(rte,"fn4");function nte(e,t,r,n,i,s,o,l){return Mp(e+(t^(r|~n))+s+o|0,l)+i|0}a(nte,"fn5");ate.exports=xA});var Bp=j((rJt,ote)=>{d();var ste=rn().Buffer;function AA(e,t){this._block=ste.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}a(AA,"Hash");AA.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=ste.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var l=s%n,u=Math.min(i-o,n-l),f=0;f<u;f++)r[l+f]=e[o+f];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};AA.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};AA.prototype._update=function(){throw new Error("_update must be implemented by subclass")};ote.exports=AA});var ute=j((aJt,lte)=>{d();var _He=kr(),cte=Bp(),xHe=rn().Buffer,wHe=[1518500249,1859775393,-1894007588,-899497514],AHe=new Array(80);function v_(){this.init(),this._w=AHe,cte.call(this,64,56)}a(v_,"Sha");_He(v_,cte);v_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function EHe(e){return e<<5|e>>>27}a(EHe,"rotl5");function SHe(e){return e<<30|e>>>2}a(SHe,"rotl30");function kHe(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}a(kHe,"ft");v_.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=t[l-3]^t[l-8]^t[l-14]^t[l-16];for(var u=0;u<80;++u){var f=~~(u/20),h=EHe(r)+kHe(f,n,i,s)+o+t[u]+wHe[f]|0;o=s,s=i,i=SHe(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};v_.prototype._hash=function(){var e=xHe.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};lte.exports=v_});var dte=j((cJt,hte)=>{d();var CHe=kr(),fte=Bp(),IHe=rn().Buffer,THe=[1518500249,1859775393,-1894007588,-899497514],MHe=new Array(80);function __(){this.init(),this._w=MHe,fte.call(this,64,56)}a(__,"Sha1");CHe(__,fte);__.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function BHe(e){return e<<1|e>>>31}a(BHe,"rotl1");function RHe(e){return e<<5|e>>>27}a(RHe,"rotl5");function LHe(e){return e<<30|e>>>2}a(LHe,"rotl30");function DHe(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}a(DHe,"ft");__.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=BHe(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var u=0;u<80;++u){var f=~~(u/20),h=RHe(r)+DHe(f,n,i,s)+o+t[u]+THe[f]|0;o=s,s=i,i=LHe(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};__.prototype._hash=function(){var e=IHe.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};hte.exports=__});var hL=j((fJt,gte)=>{d();var NHe=kr(),pte=Bp(),OHe=rn().Buffer,qHe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],PHe=new Array(64);function x_(){this.init(),this._w=PHe,pte.call(this,64,56)}a(x_,"Sha256");NHe(x_,pte);x_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function FHe(e,t,r){return r^e&(t^r)}a(FHe,"ch");function UHe(e,t,r){return e&t|r&(e|t)}a(UHe,"maj");function YHe(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}a(YHe,"sigma0");function HHe(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}a(HHe,"sigma1");function zHe(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}a(zHe,"gamma0");function QHe(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}a(QHe,"gamma1");x_.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,l=this._f|0,u=this._g|0,f=this._h|0,h=0;h<16;++h)t[h]=e.readInt32BE(h*4);for(;h<64;++h)t[h]=QHe(t[h-2])+t[h-7]+zHe(t[h-15])+t[h-16]|0;for(var p=0;p<64;++p){var g=f+HHe(o)+FHe(o,l,u)+qHe[p]+t[p]|0,y=YHe(r)+UHe(r,n,i)|0;f=u,u=l,l=o,o=s+g|0,s=i,i=n,n=r,r=g+y|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=l+this._f|0,this._g=u+this._g|0,this._h=f+this._h|0};x_.prototype._hash=function(){var e=OHe.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};gte.exports=x_});var mte=j((pJt,yte)=>{d();var WHe=kr(),VHe=hL(),jHe=Bp(),GHe=rn().Buffer,KHe=new Array(64);function EA(){this.init(),this._w=KHe,jHe.call(this,64,56)}a(EA,"Sha224");WHe(EA,VHe);EA.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};EA.prototype._hash=function(){var e=GHe.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};yte.exports=EA});var dL=j((mJt,Ete)=>{d();var $He=kr(),Ate=Bp(),XHe=rn().Buffer,bte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],JHe=new Array(160);function w_(){this.init(),this._w=JHe,Ate.call(this,128,112)}a(w_,"Sha512");$He(w_,Ate);w_.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function vte(e,t,r){return r^e&(t^r)}a(vte,"Ch");function _te(e,t,r){return e&t|r&(e|t)}a(_te,"maj");function xte(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}a(xte,"sigma0");function wte(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}a(wte,"sigma1");function ZHe(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}a(ZHe,"Gamma0");function eze(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}a(eze,"Gamma0l");function tze(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}a(tze,"Gamma1");function rze(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}a(rze,"Gamma1l");function Va(e,t){return e>>>0<t>>>0?1:0}a(Va,"getCarry");w_.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,l=this._fh|0,u=this._gh|0,f=this._hh|0,h=this._al|0,p=this._bl|0,g=this._cl|0,y=this._dl|0,E=this._el|0,M=this._fl|0,z=this._gl|0,P=this._hl|0,Q=0;Q<32;Q+=2)t[Q]=e.readInt32BE(Q*4),t[Q+1]=e.readInt32BE(Q*4+4);for(;Q<160;Q+=2){var V=t[Q-30],W=t[Q-15*2+1],F=ZHe(V,W),B=eze(W,V);V=t[Q-2*2],W=t[Q-2*2+1];var S=tze(V,W),T=rze(W,V),k=t[Q-7*2],R=t[Q-7*2+1],x=t[Q-16*2],N=t[Q-16*2+1],m=B+R|0,v=F+k+Va(m,B)|0;m=m+T|0,v=v+S+Va(m,T)|0,m=m+N|0,v=v+x+Va(m,N)|0,t[Q]=v,t[Q+1]=m}for(var A=0;A<160;A+=2){v=t[A],m=t[A+1];var U=_te(r,n,i),G=_te(h,p,g),K=xte(r,h),Z=xte(h,r),O=wte(o,E),$=wte(E,o),L=bte[A],ee=bte[A+1],ve=vte(o,l,u),ye=vte(E,M,z),se=P+$|0,be=f+O+Va(se,P)|0;se=se+ye|0,be=be+ve+Va(se,ye)|0,se=se+ee|0,be=be+L+Va(se,ee)|0,se=se+m|0,be=be+v+Va(se,m)|0;var Y=Z+G|0,D=K+U+Va(Y,Z)|0;f=u,P=z,u=l,z=M,l=o,M=E,E=y+se|0,o=s+be+Va(E,y)|0,s=i,y=g,i=n,g=p,n=r,p=h,h=se+Y|0,r=be+D+Va(h,se)|0}this._al=this._al+h|0,this._bl=this._bl+p|0,this._cl=this._cl+g|0,this._dl=this._dl+y|0,this._el=this._el+E|0,this._fl=this._fl+M|0,this._gl=this._gl+z|0,this._hl=this._hl+P|0,this._ah=this._ah+r+Va(this._al,h)|0,this._bh=this._bh+n+Va(this._bl,p)|0,this._ch=this._ch+i+Va(this._cl,g)|0,this._dh=this._dh+s+Va(this._dl,y)|0,this._eh=this._eh+o+Va(this._el,E)|0,this._fh=this._fh+l+Va(this._fl,M)|0,this._gh=this._gh+u+Va(this._gl,z)|0,this._hh=this._hh+f+Va(this._hl,P)|0};w_.prototype._hash=function(){var e=XHe.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return a(t,"writeInt64BE"),t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};Ete.exports=w_});var kte=j((_Jt,Ste)=>{d();var nze=kr(),ize=dL(),aze=Bp(),sze=rn().Buffer,oze=new Array(160);function SA(){this.init(),this._w=oze,aze.call(this,128,112)}a(SA,"Sha384");nze(SA,ize);SA.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};SA.prototype._hash=function(){var e=sze.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return a(t,"writeInt64BE"),t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};Ste.exports=SA});var kA=j((Rf,Cte)=>{d();var Rf=Cte.exports=a(function(t){t=t.toLowerCase();var r=Rf[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r},"SHA");Rf.sha=ute();Rf.sha1=dte();Rf.sha224=mte();Rf.sha256=hL();Rf.sha384=kte();Rf.sha512=dL()});var A_=j((SJt,Ite)=>{d();Ite.exports=Ec;var pL=ea().EventEmitter,cze=kr();cze(Ec,pL);Ec.Readable=cA();Ec.Writable=aA();Ec.Duplex=Ed();Ec.Transform=yA();Ec.PassThrough=oL();Ec.finished=c_();Ec.pipeline=lL();Ec.Stream=Ec;function Ec(){pL.call(this)}a(Ec,"Stream");Ec.prototype.pipe=function(e,t){var r=this;function n(h){e.writable&&e.write(h)===!1&&r.pause&&r.pause()}a(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}a(i,"ondrain"),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",l));var s=!1;function o(){s||(s=!0,e.end())}a(o,"onend");function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}a(l,"onclose");function u(h){if(f(),pL.listenerCount(this,"error")===0)throw h}a(u,"onerror"),r.on("error",u),e.on("error",u);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(f,"cleanup"),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}});var Lf=j((IJt,Bte)=>{d();var Tte=rn().Buffer,Mte=A_().Transform,lze=o_().StringDecoder,uze=kr();function ll(e){Mte.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}a(ll,"CipherBase");uze(ll,Mte);ll.prototype.update=function(e,t,r){typeof e=="string"&&(e=Tte.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};ll.prototype.setAutoPadding=function(){};ll.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ll.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ll.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ll.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};ll.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};ll.prototype._finalOrDigest=function(e){var t=this.__final()||Tte.alloc(0);return e&&(t=this._toString(t,e,!0)),t};ll.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new lze(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};Bte.exports=ll});var Ry=j((BJt,Lte)=>{"use strict";d();var fze=kr(),hze=_A(),dze=wA(),pze=kA(),Rte=Lf();function CA(e){Rte.call(this,"digest"),this._hash=e}a(CA,"Hash");fze(CA,Rte);CA.prototype._update=function(e){this._hash.update(e)};CA.prototype._final=function(){return this._hash.digest()};Lte.exports=a(function(t){return t=t.toLowerCase(),t==="md5"?new hze:t==="rmd160"||t==="ripemd160"?new dze:new CA(pze(t))},"createHash")});var Ote=j((DJt,Nte)=>{"use strict";d();var gze=kr(),Rp=rn().Buffer,Dte=Lf(),yze=Rp.alloc(128),Ly=64;function IA(e,t){Dte.call(this,"digest"),typeof t=="string"&&(t=Rp.from(t)),this._alg=e,this._key=t,t.length>Ly?t=e(t):t.length<Ly&&(t=Rp.concat([t,yze],Ly));for(var r=this._ipad=Rp.allocUnsafe(Ly),n=this._opad=Rp.allocUnsafe(Ly),i=0;i<Ly;i++)r[i]=t[i]^54,n[i]=t[i]^92;this._hash=[r]}a(IA,"Hmac");gze(IA,Dte);IA.prototype._update=function(e){this._hash.push(e)};IA.prototype._final=function(){var e=this._alg(Rp.concat(this._hash));return this._alg(Rp.concat([this._opad,e]))};Nte.exports=IA});var gL=j((qJt,qte)=>{d();var mze=_A();qte.exports=function(e){return new mze().update(e).digest()}});var bL=j((FJt,Fte)=>{"use strict";d();var bze=kr(),vze=Ote(),Pte=Lf(),E_=rn().Buffer,_ze=gL(),yL=wA(),mL=kA(),xze=E_.alloc(128);function S_(e,t){Pte.call(this,"digest"),typeof t=="string"&&(t=E_.from(t));var r=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>r){var n=e==="rmd160"?new yL:mL(e);t=n.update(t).digest()}else t.length<r&&(t=E_.concat([t,xze],r));for(var i=this._ipad=E_.allocUnsafe(r),s=this._opad=E_.allocUnsafe(r),o=0;o<r;o++)i[o]=t[o]^54,s[o]=t[o]^92;this._hash=e==="rmd160"?new yL:mL(e),this._hash.update(i)}a(S_,"Hmac");bze(S_,Pte);S_.prototype._update=function(e){this._hash.update(e)};S_.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new yL:mL(this._alg);return t.update(this._opad).update(e).digest()};Fte.exports=a(function(t,r){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new S_("rmd160",r):t==="md5"?new vze(_ze,r):new S_(t,r)},"createHmac")});var vL=j((HJt,wze)=>{wze.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Yte=j((zJt,Ute)=>{d();Ute.exports=vL()});var _L=j((WJt,Hte)=>{d();var Aze=Math.pow(2,30)-1;Hte.exports=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>Aze||t!==t)throw new TypeError("Bad key length")}});var xL=j((jJt,Qte)=>{d();var TA;w.process&&w.process.browser?TA="utf-8":w.process&&w.process.version?(zte=parseInt(_.default.version.split(".")[0].slice(1),10),TA=zte>=6?"utf-8":"binary"):TA="utf-8";var zte;Qte.exports=TA});var AL=j((KJt,Wte)=>{d();var wL=rn().Buffer;Wte.exports=function(e,t,r){if(wL.isBuffer(e))return e;if(typeof e=="string")return wL.from(e,t);if(ArrayBuffer.isView(e))return wL.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var EL=j((XJt,Kte)=>{d();var Eze=gL(),Sze=wA(),kze=kA(),Lp=rn().Buffer,Cze=_L(),Vte=xL(),jte=AL(),Ize=Lp.alloc(128),MA={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Gte(e,t,r){var n=Tze(e),i=e==="sha512"||e==="sha384"?128:64;t.length>i?t=n(t):t.length<i&&(t=Lp.concat([t,Ize],i));for(var s=Lp.allocUnsafe(i+MA[e]),o=Lp.allocUnsafe(i+MA[e]),l=0;l<i;l++)s[l]=t[l]^54,o[l]=t[l]^92;var u=Lp.allocUnsafe(i+r+4);s.copy(u,0,0,i),this.ipad1=u,this.ipad2=s,this.opad=o,this.alg=e,this.blocksize=i,this.hash=n,this.size=MA[e]}a(Gte,"Hmac");Gte.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Tze(e){function t(n){return kze(e).update(n).digest()}a(t,"shaFunc");function r(n){return new Sze().update(n).digest()}return a(r,"rmd160Func"),e==="rmd160"||e==="ripemd160"?r:e==="md5"?Eze:t}a(Tze,"getDigest");function Mze(e,t,r,n,i){Cze(r,n),e=jte(e,Vte,"Password"),t=jte(t,Vte,"Salt"),i=i||"sha1";var s=new Gte(i,e,t.length),o=Lp.allocUnsafe(n),l=Lp.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var u=0,f=MA[i],h=Math.ceil(n/f),p=1;p<=h;p++){l.writeUInt32BE(p,t.length);for(var g=s.run(l,s.ipad1),y=g,E=1;E<r;E++){y=s.run(y,s.ipad2);for(var M=0;M<f;M++)g[M]^=y[M]}g.copy(o,u),u+=f}return o}a(Mze,"pbkdf2");Kte.exports=Mze});var rre=j((eZt,tre)=>{d();var Zte=rn().Buffer,Bze=_L(),$te=xL(),Xte=EL(),Jte=AL(),BA,k_=w.crypto&&w.crypto.subtle,Rze={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},SL=[];function Lze(e){if(w.process&&!w.process.browser||!k_||!k_.importKey||!k_.deriveBits)return Promise.resolve(!1);if(SL[e]!==void 0)return SL[e];BA=BA||Zte.alloc(8);var t=ere(BA,BA,10,128,e).then(function(){return!0}).catch(function(){return!1});return SL[e]=t,t}a(Lze,"checkNative");var Dp;function kL(){return Dp||(w.process&&w.process.nextTick?Dp=w.process.nextTick:w.queueMicrotask?Dp=w.queueMicrotask:w.setImmediate?Dp=w.setImmediate:Dp=w.setTimeout,Dp)}a(kL,"getNextTick");function ere(e,t,r,n,i){return k_.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return k_.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Zte.from(s)})}a(ere,"browserPbkdf2");function Dze(e,t){e.then(function(r){kL()(function(){t(null,r)})},function(r){kL()(function(){t(r)})})}a(Dze,"resolvePromise");tre.exports=function(e,t,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var o=Rze[i.toLowerCase()];if(!o||typeof w.Promise!="function"){kL()(function(){var l;try{l=Xte(e,t,r,n,i)}catch(u){return s(u)}s(null,l)});return}if(Bze(r,n),e=Jte(e,$te,"Password"),t=Jte(t,$te,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");Dze(Lze(o).then(function(l){return l?ere(e,t,r,n,o):Xte(e,t,r,n,i)}),s)}});var IL=j(CL=>{d();CL.pbkdf2=rre();CL.pbkdf2Sync=EL()});var TL=j(Sc=>{"use strict";d();Sc.readUInt32BE=a(function(t,r){var n=t[0+r]<<24|t[1+r]<<16|t[2+r]<<8|t[3+r];return n>>>0},"readUInt32BE");Sc.writeUInt32BE=a(function(t,r,n){t[0+n]=r>>>24,t[1+n]=r>>>16&255,t[2+n]=r>>>8&255,t[3+n]=r&255},"writeUInt32BE");Sc.ip=a(function(t,r,n,i){for(var s=0,o=0,l=6;l>=0;l-=2){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>>u+l&1;for(var u=0;u<=24;u+=8)s<<=1,s|=t>>>u+l&1}for(var l=6;l>=0;l-=2){for(var u=1;u<=25;u+=8)o<<=1,o|=r>>>u+l&1;for(var u=1;u<=25;u+=8)o<<=1,o|=t>>>u+l&1}n[i+0]=s>>>0,n[i+1]=o>>>0},"ip");Sc.rip=a(function(t,r,n,i){for(var s=0,o=0,l=0;l<4;l++)for(var u=24;u>=0;u-=8)s<<=1,s|=r>>>u+l&1,s<<=1,s|=t>>>u+l&1;for(var l=4;l<8;l++)for(var u=24;u>=0;u-=8)o<<=1,o|=r>>>u+l&1,o<<=1,o|=t>>>u+l&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"rip");Sc.pc1=a(function(t,r,n,i){for(var s=0,o=0,l=7;l>=5;l--){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+l&1;for(var u=0;u<=24;u+=8)s<<=1,s|=t>>u+l&1}for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+l&1;for(var l=1;l<=3;l++){for(var u=0;u<=24;u+=8)o<<=1,o|=r>>u+l&1;for(var u=0;u<=24;u+=8)o<<=1,o|=t>>u+l&1}for(var u=0;u<=24;u+=8)o<<=1,o|=t>>u+l&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"pc1");Sc.r28shl=a(function(t,r){return t<<r&268435455|t>>>28-r},"r28shl");var RA=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Sc.pc2=a(function(t,r,n,i){for(var s=0,o=0,l=RA.length>>>1,u=0;u<l;u++)s<<=1,s|=t>>>RA[u]&1;for(var u=l;u<RA.length;u++)o<<=1,o|=r>>>RA[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},"pc2");Sc.expand=a(function(t,r,n){var i=0,s=0;i=(t&1)<<5|t>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=t>>>o&63;for(var o=11;o>=3;o-=4)s|=t>>>o&63,s<<=6;s|=(t&31)<<1|t>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var nre=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Sc.substitute=a(function(t,r){for(var n=0,i=0;i<4;i++){var s=t>>>18-i*6&63,o=nre[i*64+s];n<<=4,n|=o}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,o=nre[4*64+i*64+s];n<<=4,n|=o}return n>>>0},"substitute");var ire=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Sc.permute=a(function(t){for(var r=0,n=0;n<ire.length;n++)r<<=1,r|=t>>>ire[n]&1;return r>>>0},"permute");Sc.padSplit=a(function(t,r,n){for(var i=t.toString(2);i.length<r;)i="0"+i;for(var s=[],o=0;o<r;o+=n)s.push(i.slice(o,o+n));return s.join(" ")},"padSplit")});var Yo=j((cZt,sre)=>{d();sre.exports=are;function are(e,t){if(!e)throw new Error(t||"Assertion failed")}a(are,"assert");are.equal=a(function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)},"assertEqual")});var LA=j((fZt,ore)=>{"use strict";d();var Nze=Yo();function kc(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}a(kc,"Cipher");ore.exports=kc;kc.prototype._init=a(function(){},"_init");kc.prototype.update=a(function(t){return t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(t):this._updateEncrypt(t)},"update");kc.prototype._buffer=a(function(t,r){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[r+i];return this.bufferOff+=n,n},"_buffer");kc.prototype._flushBuffer=a(function(t,r){return this._update(this.buffer,0,t,r),this.bufferOff=0,this.blockSize},"_flushBuffer");kc.prototype._updateEncrypt=a(function(t){var r=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(t,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=t.length-(t.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(t,r,s,n),n+=this.blockSize;for(;r<t.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=t[r];return s},"_updateEncrypt");kc.prototype._updateDecrypt=a(function(t){for(var r=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(t,r),n+=this._flushBuffer(s,n);return r+=this._buffer(t,r),s},"_updateDecrypt");kc.prototype.final=a(function(t){var r;t&&(r=this.update(t));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");kc.prototype._pad=a(function(t,r){if(r===0)return!1;for(;r<t.length;)t[r++]=0;return!0},"_pad");kc.prototype._finalEncrypt=a(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},"_finalEncrypt");kc.prototype._unpad=a(function(t){return t},"_unpad");kc.prototype._finalDecrypt=a(function(){Nze.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)},"_finalDecrypt")});var ML=j((pZt,ure)=>{"use strict";d();var cre=Yo(),Oze=kr(),Ta=TL(),lre=LA();function qze(){this.tmp=new Array(2),this.keys=null}a(qze,"DESState");function du(e){lre.call(this,e);var t=new qze;this._desState=t,this.deriveKeys(t,e.key)}a(du,"DES");Oze(du,lre);ure.exports=du;du.create=a(function(t){return new du(t)},"create");var Pze=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];du.prototype.deriveKeys=a(function(t,r){t.keys=new Array(16*2),cre.equal(r.length,this.blockSize,"Invalid key length");var n=Ta.readUInt32BE(r,0),i=Ta.readUInt32BE(r,4);Ta.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var o=Pze[s>>>1];n=Ta.r28shl(n,o),i=Ta.r28shl(i,o),Ta.pc2(n,i,t.keys,s)}},"deriveKeys");du.prototype._update=a(function(t,r,n,i){var s=this._desState,o=Ta.readUInt32BE(t,r),l=Ta.readUInt32BE(t,r+4);Ta.ip(o,l,s.tmp,0),o=s.tmp[0],l=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,l,s.tmp,0):this._decrypt(s,o,l,s.tmp,0),o=s.tmp[0],l=s.tmp[1],Ta.writeUInt32BE(n,o,i),Ta.writeUInt32BE(n,l,i+4)},"_update");du.prototype._pad=a(function(t,r){for(var n=t.length-r,i=r;i<t.length;i++)t[i]=n;return!0},"_pad");du.prototype._unpad=a(function(t){for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)cre.equal(t[n],r);return t.slice(0,t.length-r)},"_unpad");du.prototype._encrypt=a(function(t,r,n,i,s){for(var o=r,l=n,u=0;u<t.keys.length;u+=2){var f=t.keys[u],h=t.keys[u+1];Ta.expand(l,t.tmp,0),f^=t.tmp[0],h^=t.tmp[1];var p=Ta.substitute(f,h),g=Ta.permute(p),y=l;l=(o^g)>>>0,o=y}Ta.rip(l,o,i,s)},"_encrypt");du.prototype._decrypt=a(function(t,r,n,i,s){for(var o=n,l=r,u=t.keys.length-2;u>=0;u-=2){var f=t.keys[u],h=t.keys[u+1];Ta.expand(o,t.tmp,0),f^=t.tmp[0],h^=t.tmp[1];var p=Ta.substitute(f,h),g=Ta.permute(p),y=o;o=(l^g)>>>0,l=y}Ta.rip(o,l,i,s)},"_decrypt")});var hre=j(fre=>{"use strict";d();var Fze=Yo(),Uze=kr(),DA={};function Yze(e){Fze.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}a(Yze,"CBCState");function Hze(e){function t(s){e.call(this,s),this._cbcInit()}a(t,"CBC"),Uze(t,e);for(var r=Object.keys(DA),n=0;n<r.length;n++){var i=r[n];t.prototype[i]=DA[i]}return t.create=a(function(o){return new t(o)},"create"),t}a(Hze,"instantiate");fre.instantiate=Hze;DA._cbcInit=a(function(){var t=new Yze(this.options.iv);this._cbcState=t},"_cbcInit");DA._update=a(function(t,r,n,i){var s=this._cbcState,o=this.constructor.super_.prototype,l=s.iv;if(this.type==="encrypt"){for(var u=0;u<this.blockSize;u++)l[u]^=t[r+u];o._update.call(this,l,0,n,i);for(var u=0;u<this.blockSize;u++)l[u]=n[i+u]}else{o._update.call(this,t,r,n,i);for(var u=0;u<this.blockSize;u++)n[i+u]^=l[u];for(var u=0;u<this.blockSize;u++)l[u]=t[r+u]}},"_update")});var gre=j((_Zt,pre)=>{"use strict";d();var zze=Yo(),Qze=kr(),dre=LA(),Td=ML();function Wze(e,t){zze.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);e==="encrypt"?this.ciphers=[Td.create({type:"encrypt",key:r}),Td.create({type:"decrypt",key:n}),Td.create({type:"encrypt",key:i})]:this.ciphers=[Td.create({type:"decrypt",key:i}),Td.create({type:"encrypt",key:n}),Td.create({type:"decrypt",key:r})]}a(Wze,"EDEState");function Np(e){dre.call(this,e);var t=new Wze(this.type,this.options.key);this._edeState=t}a(Np,"EDE");Qze(Np,dre);pre.exports=Np;Np.create=a(function(t){return new Np(t)},"create");Np.prototype._update=a(function(t,r,n,i){var s=this._edeState;s.ciphers[0]._update(t,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");Np.prototype._pad=Td.prototype._pad;Np.prototype._unpad=Td.prototype._unpad});var yre=j(Dy=>{"use strict";d();Dy.utils=TL();Dy.Cipher=LA();Dy.DES=ML();Dy.CBC=hre();Dy.EDE=gre()});var vre=j((SZt,bre)=>{d();var mre=Lf(),Df=yre(),Vze=kr(),Op=rn().Buffer,C_={"des-ede3-cbc":Df.CBC.instantiate(Df.EDE),"des-ede3":Df.EDE,"des-ede-cbc":Df.CBC.instantiate(Df.EDE),"des-ede":Df.EDE,"des-cbc":Df.CBC.instantiate(Df.DES),"des-ecb":Df.DES};C_.des=C_["des-cbc"];C_.des3=C_["des-ede3-cbc"];bre.exports=NA;Vze(NA,mre);function NA(e){mre.call(this);var t=e.mode.toLowerCase(),r=C_[t],n;e.decrypt?n="decrypt":n="encrypt";var i=e.key;Op.isBuffer(i)||(i=Op.from(i)),(t==="des-ede"||t==="des-ede-cbc")&&(i=Op.concat([i,i.slice(0,8)]));var s=e.iv;Op.isBuffer(s)||(s=Op.from(s)),this._des=r.create({key:i,iv:s,type:n})}a(NA,"DES");NA.prototype._update=function(e){return Op.from(this._des.update(e))};NA.prototype._final=function(){return Op.from(this._des.final())}});var _re=j(BL=>{d();BL.encrypt=function(e,t){return e._cipher.encryptBlock(t)};BL.decrypt=function(e,t){return e._cipher.decryptBlock(t)}});var Ny=j((MZt,xre)=>{d();xre.exports=a(function(t,r){for(var n=Math.min(t.length,r.length),i=new b.Buffer(n),s=0;s<n;++s)i[s]=t[s]^r[s];return i},"xor")});var Are=j(RL=>{d();var wre=Ny();RL.encrypt=function(e,t){var r=wre(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev};RL.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return wre(n,r)}});var kre=j(Sre=>{d();var I_=rn().Buffer,jze=Ny();function Ere(e,t,r){var n=t.length,i=jze(t,e._cache);return e._cache=e._cache.slice(n),e._prev=I_.concat([e._prev,r?t:i]),i}a(Ere,"encryptStart");Sre.encrypt=function(e,t,r){for(var n=I_.allocUnsafe(0),i;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=I_.allocUnsafe(0)),e._cache.length<=t.length)i=e._cache.length,n=I_.concat([n,Ere(e,t.slice(0,i),r)]),t=t.slice(i);else{n=I_.concat([n,Ere(e,t,r)]);break}return n}});var Ire=j(Cre=>{d();var LL=rn().Buffer;function Gze(e,t,r){var n=e._cipher.encryptBlock(e._prev),i=n[0]^t;return e._prev=LL.concat([e._prev.slice(1),LL.from([r?t:i])]),i}a(Gze,"encryptByte");Cre.encrypt=function(e,t,r){for(var n=t.length,i=LL.allocUnsafe(n),s=-1;++s<n;)i[s]=Gze(e,t[s],r);return i}});var Mre=j(Tre=>{d();var OA=rn().Buffer;function Kze(e,t,r){for(var n,i=-1,s=8,o=0,l,u;++i<s;)n=e._cipher.encryptBlock(e._prev),l=t&1<<7-i?128:0,u=n[0]^l,o+=(u&128)>>i%8,e._prev=$ze(e._prev,r?l:u);return o}a(Kze,"encryptByte");function $ze(e,t){var r=e.length,n=-1,i=OA.allocUnsafe(e.length);for(e=OA.concat([e,OA.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}a($ze,"shiftIn");Tre.encrypt=function(e,t,r){for(var n=t.length,i=OA.allocUnsafe(n),s=-1;++s<n;)i[s]=Kze(e,t[s],r);return i}});var Rre=j(Bre=>{d();var Xze=Ny();function Jze(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}a(Jze,"getBlock");Bre.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=b.Buffer.concat([e._cache,Jze(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),Xze(t,r)}});var DL=j((jZt,Lre)=>{d();function Zze(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}a(Zze,"incr32");Lre.exports=Zze});var OL=j(Nre=>{d();var eQe=Ny(),Dre=rn().Buffer,tQe=DL();function rQe(e){var t=e._cipher.encryptBlockRaw(e._prev);return tQe(e._prev),t}a(rQe,"getBlock");var NL=16;Nre.encrypt=function(e,t){var r=Math.ceil(t.length/NL),n=e._cache.length;e._cache=Dre.concat([e._cache,Dre.allocUnsafe(r*NL)]);for(var i=0;i<r;i++){var s=rQe(e),o=n+i*NL;e._cache.writeUInt32BE(s[0],o+0),e._cache.writeUInt32BE(s[1],o+4),e._cache.writeUInt32BE(s[2],o+8),e._cache.writeUInt32BE(s[3],o+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),eQe(t,l)}});var qL=j((ZZt,nQe)=>{nQe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var PA=j((eer,Ore)=>{d();var iQe={ECB:_re(),CBC:Are(),CFB:kre(),CFB8:Ire(),CFB1:Mre(),OFB:Rre(),CTR:OL(),GCM:OL()},qA=qL();for(PL in qA)qA[PL].module=iQe[qA[PL].mode];var PL;Ore.exports=qA});var T_=j((rer,Pre)=>{d();var FA=rn().Buffer;function UL(e){FA.isBuffer(e)||(e=FA.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(n*4);return r}a(UL,"asUInt32Array");function FL(e){for(var t=0;t<e.length;e++)e[t]=0}a(FL,"scrubVec");function qre(e,t,r,n,i){for(var s=r[0],o=r[1],l=r[2],u=r[3],f=e[0]^t[0],h=e[1]^t[1],p=e[2]^t[2],g=e[3]^t[3],y,E,M,z,P=4,Q=1;Q<i;Q++)y=s[f>>>24]^o[h>>>16&255]^l[p>>>8&255]^u[g&255]^t[P++],E=s[h>>>24]^o[p>>>16&255]^l[g>>>8&255]^u[f&255]^t[P++],M=s[p>>>24]^o[g>>>16&255]^l[f>>>8&255]^u[h&255]^t[P++],z=s[g>>>24]^o[f>>>16&255]^l[h>>>8&255]^u[p&255]^t[P++],f=y,h=E,p=M,g=z;return y=(n[f>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[g&255])^t[P++],E=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[g>>>8&255]<<8|n[f&255])^t[P++],M=(n[p>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[h&255])^t[P++],z=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[h>>>8&255]<<8|n[p&255])^t[P++],y=y>>>0,E=E>>>0,M=M>>>0,z=z>>>0,[y,E,M,z]}a(qre,"cryptBlock");var aQe=[0,1,2,4,8,16,32,64,128,27,54],ua=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,l=0,u=0;u<256;++u){var f=l^l<<1^l<<2^l<<3^l<<4;f=f>>>8^f&255^99,r[o]=f,n[f]=o;var h=e[o],p=e[h],g=e[p],y=e[f]*257^f*16843008;i[0][o]=y<<24|y>>>8,i[1][o]=y<<16|y>>>16,i[2][o]=y<<8|y>>>24,i[3][o]=y,y=g*16843009^p*65537^h*257^o*16843008,s[0][f]=y<<24|y>>>8,s[1][f]=y<<16|y>>>16,s[2][f]=y<<8|y>>>24,s[3][f]=y,o===0?o=l=1:(o=h^e[e[e[g^h]]],l^=e[e[l]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Cc(e){this._key=UL(e),this._reset()}a(Cc,"AES");Cc.blockSize=4*4;Cc.keySize=256/8;Cc.prototype.blockSize=Cc.blockSize;Cc.prototype.keySize=Cc.keySize;Cc.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=(r+1)*4,i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var o=i[s-1];s%t===0?(o=o<<8|o>>>24,o=ua.SBOX[o>>>24]<<24|ua.SBOX[o>>>16&255]<<16|ua.SBOX[o>>>8&255]<<8|ua.SBOX[o&255],o^=aQe[s/t|0]<<24):t>6&&s%t===4&&(o=ua.SBOX[o>>>24]<<24|ua.SBOX[o>>>16&255]<<16|ua.SBOX[o>>>8&255]<<8|ua.SBOX[o&255]),i[s]=i[s-t]^o}for(var l=[],u=0;u<n;u++){var f=n-u,h=i[f-(u%4?0:4)];u<4||f<=4?l[u]=h:l[u]=ua.INV_SUB_MIX[0][ua.SBOX[h>>>24]]^ua.INV_SUB_MIX[1][ua.SBOX[h>>>16&255]]^ua.INV_SUB_MIX[2][ua.SBOX[h>>>8&255]]^ua.INV_SUB_MIX[3][ua.SBOX[h&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=l};Cc.prototype.encryptBlockRaw=function(e){return e=UL(e),qre(e,this._keySchedule,ua.SUB_MIX,ua.SBOX,this._nRounds)};Cc.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=FA.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r};Cc.prototype.decryptBlock=function(e){e=UL(e);var t=e[1];e[1]=e[3],e[3]=t;var r=qre(e,this._invKeySchedule,ua.INV_SUB_MIX,ua.INV_SBOX,this._nRounds),n=FA.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Cc.prototype.scrub=function(){FL(this._keySchedule),FL(this._invKeySchedule),FL(this._key)};Pre.exports.AES=Cc});var Yre=j((aer,Ure)=>{d();var Oy=rn().Buffer,sQe=Oy.alloc(16,0);function oQe(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}a(oQe,"toArray");function Fre(e){var t=Oy.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}a(Fre,"fromArray");function M_(e){this.h=e,this.state=Oy.alloc(16,0),this.cache=Oy.allocUnsafe(0)}a(M_,"GHASH");M_.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()};M_.prototype._multiply=function(){for(var e=oQe(this.h),t=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),i=(e[3]&1)!==0,r=3;r>0;r--)e[r]=e[r]>>>1|(e[r-1]&1)<<31;e[0]=e[0]>>>1,i&&(e[0]=e[0]^225<<24)}this.state=Fre(t)};M_.prototype.update=function(e){this.cache=Oy.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};M_.prototype.final=function(e,t){return this.cache.length&&this.ghash(Oy.concat([this.cache,sQe],16)),this.ghash(Fre([0,e,0,t])),this.state};Ure.exports=M_});var YL=j((cer,Qre)=>{d();var cQe=T_(),mo=rn().Buffer,Hre=Lf(),lQe=kr(),zre=Yre(),uQe=Ny(),fQe=DL();function hQe(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}a(hQe,"xorTest");function dQe(e,t,r){if(t.length===12)return e._finID=mo.concat([t,mo.from([0,0,0,1])]),mo.concat([t,mo.from([0,0,0,2])]);var n=new zre(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(mo.alloc(s,0))),n.update(mo.alloc(8,0));var o=i*8,l=mo.alloc(8);l.writeUIntBE(o,0,8),n.update(l),e._finID=n.state;var u=mo.from(e._finID);return fQe(u),u}a(dQe,"calcIv");function qp(e,t,r,n){Hre.call(this);var i=mo.alloc(4,0);this._cipher=new cQe.AES(t);var s=this._cipher.encryptBlock(i);this._ghash=new zre(s),r=dQe(this,r,s),this._prev=mo.from(r),this._cache=mo.allocUnsafe(0),this._secCache=mo.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(qp,"StreamCipher");lQe(qp,Hre);qp.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=mo.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r};qp.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=uQe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&hQe(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()};qp.prototype.getAuthTag=a(function(){if(this._decrypt||!mo.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");qp.prototype.setAuthTag=a(function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},"setAuthTag");qp.prototype.setAAD=a(function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},"setAAD");Qre.exports=qp});var zL=j((fer,Vre)=>{d();var pQe=T_(),HL=rn().Buffer,Wre=Lf(),gQe=kr();function UA(e,t,r,n){Wre.call(this),this._cipher=new pQe.AES(t),this._prev=HL.from(r),this._cache=HL.allocUnsafe(0),this._secCache=HL.allocUnsafe(0),this._decrypt=n,this._mode=e}a(UA,"StreamCipher");gQe(UA,Wre);UA.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};UA.prototype._final=function(){this._cipher.scrub()};Vre.exports=UA});var B_=j((per,jre)=>{d();var Pp=rn().Buffer,yQe=_A();function mQe(e,t,r,n){if(Pp.isBuffer(e)||(e=Pp.from(e,"binary")),t&&(Pp.isBuffer(t)||(t=Pp.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Pp.alloc(i),o=Pp.alloc(n||0),l=Pp.alloc(0);i>0||n>0;){var u=new yQe;u.update(l),u.update(e),t&&u.update(t),l=u.digest();var f=0;if(i>0){var h=s.length-i;f=Math.min(i,l.length),l.copy(s,h,0,f),i-=f}if(f<l.length&&n>0){var p=o.length-n,g=Math.min(n,l.length-f);l.copy(o,p,f,f+g),n-=g}}return l.fill(0),{key:s,iv:o}}a(mQe,"EVP_BytesToKey");jre.exports=mQe});var Xre=j(QL=>{d();var Gre=PA(),bQe=YL(),Nf=rn().Buffer,vQe=zL(),Kre=Lf(),_Qe=T_(),xQe=B_(),wQe=kr();function R_(e,t,r){Kre.call(this),this._cache=new YA,this._cipher=new _Qe.AES(t),this._prev=Nf.from(r),this._mode=e,this._autopadding=!0}a(R_,"Cipher");wQe(R_,Kre);R_.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return Nf.concat(n)};var AQe=Nf.alloc(16,16);R_.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(AQe))throw this._cipher.scrub(),new Error("data not multiple of block length")};R_.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function YA(){this.cache=Nf.allocUnsafe(0)}a(YA,"Splitter");YA.prototype.add=function(e){this.cache=Nf.concat([this.cache,e])};YA.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null};YA.prototype.flush=function(){for(var e=16-this.cache.length,t=Nf.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return Nf.concat([this.cache,t])};function $re(e,t,r){var n=Gre[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Nf.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r=="string"&&(r=Nf.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new vQe(n.module,t,r):n.type==="auth"?new bQe(n.module,t,r):new R_(n.module,t,r)}a($re,"createCipheriv");function EQe(e,t){var r=Gre[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=xQe(t,!1,r.key,r.iv);return $re(e,n.key,n.iv)}a(EQe,"createCipher");QL.createCipheriv=$re;QL.createCipher=EQe});var tne=j(WL=>{d();var SQe=YL(),qy=rn().Buffer,Jre=PA(),kQe=zL(),Zre=Lf(),CQe=T_(),IQe=B_(),TQe=kr();function L_(e,t,r){Zre.call(this),this._cache=new HA,this._last=void 0,this._cipher=new CQe.AES(t),this._prev=qy.from(r),this._mode=e,this._autopadding=!0}a(L_,"Decipher");TQe(L_,Zre);L_.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return qy.concat(n)};L_.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return MQe(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")};L_.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function HA(){this.cache=qy.allocUnsafe(0)}a(HA,"Splitter");HA.prototype.add=function(e){this.cache=qy.concat([this.cache,e])};HA.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};HA.prototype.flush=function(){if(this.cache.length)return this.cache};function MQe(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}a(MQe,"unpad");function ene(e,t,r){var n=Jre[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=qy.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t=="string"&&(t=qy.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return n.type==="stream"?new kQe(n.module,t,r,!0):n.type==="auth"?new SQe(n.module,t,r,!0):new L_(n.module,t,r)}a(ene,"createDecipheriv");function BQe(e,t){var r=Jre[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=IQe(t,!1,r.key,r.iv);return ene(e,n.key,n.iv)}a(BQe,"createDecipher");WL.createDecipher=BQe;WL.createDecipheriv=ene});var zA=j(ul=>{d();var rne=Xre(),nne=tne(),RQe=qL();function LQe(){return Object.keys(RQe)}a(LQe,"getCiphers");ul.createCipher=ul.Cipher=rne.createCipher;ul.createCipheriv=ul.Cipheriv=rne.createCipheriv;ul.createDecipher=ul.Decipher=nne.createDecipher;ul.createDecipheriv=ul.Decipheriv=nne.createDecipheriv;ul.listCiphers=ul.getCiphers=LQe});var ine=j(Of=>{d();Of["des-ecb"]={key:8,iv:0};Of["des-cbc"]=Of.des={key:8,iv:8};Of["des-ede3-cbc"]=Of.des3={key:24,iv:8};Of["des-ede3"]={key:24,iv:0};Of["des-ede-cbc"]={key:16,iv:8};Of["des-ede"]={key:16,iv:0}});var lne=j(fl=>{d();var ane=vre(),VL=zA(),Md=PA(),qf=ine(),sne=B_();function DQe(e,t){e=e.toLowerCase();var r,n;if(Md[e])r=Md[e].key,n=Md[e].iv;else if(qf[e])r=qf[e].key*8,n=qf[e].iv;else throw new TypeError("invalid suite type");var i=sne(t,!1,r,n);return one(e,i.key,i.iv)}a(DQe,"createCipher");function NQe(e,t){e=e.toLowerCase();var r,n;if(Md[e])r=Md[e].key,n=Md[e].iv;else if(qf[e])r=qf[e].key*8,n=qf[e].iv;else throw new TypeError("invalid suite type");var i=sne(t,!1,r,n);return cne(e,i.key,i.iv)}a(NQe,"createDecipher");function one(e,t,r){if(e=e.toLowerCase(),Md[e])return VL.createCipheriv(e,t,r);if(qf[e])return new ane({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}a(one,"createCipheriv");function cne(e,t,r){if(e=e.toLowerCase(),Md[e])return VL.createDecipheriv(e,t,r);if(qf[e])return new ane({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}a(cne,"createDecipheriv");function OQe(){return Object.keys(qf).concat(VL.getCiphers())}a(OQe,"getCiphers");fl.createCipher=fl.Cipher=DQe;fl.createCipheriv=fl.Cipheriv=one;fl.createDecipher=fl.Decipher=NQe;fl.createDecipheriv=fl.Decipheriv=cne;fl.listCiphers=fl.getCiphers=OQe});var zi=j((une,jL)=>{d();(function(e,t){"use strict";function r(m,v){if(!m)throw new Error(v||"Assertion failed")}a(r,"assert");function n(m,v){m.super_=v;var A=a(function(){},"TempCtor");A.prototype=v.prototype,m.prototype=new A,m.prototype.constructor=m}a(n,"inherits");function i(m,v,A){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((v==="le"||v==="be")&&(A=v,v=10),this._init(m||0,v||10,A||"be"))}a(i,"BN"),typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ei().Buffer}catch{}i.isBN=a(function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},"isBN"),i.max=a(function(v,A){return v.cmp(A)>0?v:A},"max"),i.min=a(function(v,A){return v.cmp(A)<0?v:A},"min"),i.prototype._init=a(function(v,A,U){if(typeof v=="number")return this._initNumber(v,A,U);if(typeof v=="object")return this._initArray(v,A,U);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),v=v.toString().replace(/\s+/g,"");var G=0;v[0]==="-"&&(G++,this.negative=1),G<v.length&&(A===16?this._parseHex(v,G,U):(this._parseBase(v,A,G),U==="le"&&this._initArray(this.toArray(),A,U)))},"init"),i.prototype._initNumber=a(function(v,A,U){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),U==="le"&&this._initArray(this.toArray(),A,U)},"_initNumber"),i.prototype._initArray=a(function(v,A,U){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var K,Z,O=0;if(U==="be")for(G=v.length-1,K=0;G>=0;G-=3)Z=v[G]|v[G-1]<<8|v[G-2]<<16,this.words[K]|=Z<<O&67108863,this.words[K+1]=Z>>>26-O&67108863,O+=24,O>=26&&(O-=26,K++);else if(U==="le")for(G=0,K=0;G<v.length;G+=3)Z=v[G]|v[G+1]<<8|v[G+2]<<16,this.words[K]|=Z<<O&67108863,this.words[K+1]=Z>>>26-O&67108863,O+=24,O>=26&&(O-=26,K++);return this._strip()},"_initArray");function o(m,v){var A=m.charCodeAt(v);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+m)}a(o,"parseHex4Bits");function l(m,v,A){var U=o(m,A);return A-1>=v&&(U|=o(m,A-1)<<4),U}a(l,"parseHexByte"),i.prototype._parseHex=a(function(v,A,U){this.length=Math.ceil((v.length-A)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var K=0,Z=0,O;if(U==="be")for(G=v.length-1;G>=A;G-=2)O=l(v,A,G)<<K,this.words[Z]|=O&67108863,K>=18?(K-=18,Z+=1,this.words[Z]|=O>>>26):K+=8;else{var $=v.length-A;for(G=$%2===0?A+1:A;G<v.length;G+=2)O=l(v,A,G)<<K,this.words[Z]|=O&67108863,K>=18?(K-=18,Z+=1,this.words[Z]|=O>>>26):K+=8}this._strip()},"_parseHex");function u(m,v,A,U){for(var G=0,K=0,Z=Math.min(m.length,A),O=v;O<Z;O++){var $=m.charCodeAt(O)-48;G*=U,$>=49?K=$-49+10:$>=17?K=$-17+10:K=$,r($>=0&&K<U,"Invalid character"),G+=K}return G}a(u,"parseBase"),i.prototype._parseBase=a(function(v,A,U){this.words=[0],this.length=1;for(var G=0,K=1;K<=67108863;K*=A)G++;G--,K=K/A|0;for(var Z=v.length-U,O=Z%G,$=Math.min(Z,Z-O)+U,L=0,ee=U;ee<$;ee+=G)L=u(v,ee,ee+G,A),this.imuln(K),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(O!==0){var ve=1;for(L=u(v,ee,v.length,A),ee=0;ee<O;ee++)ve*=A;this.imuln(ve),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this._strip()},"_parseBase"),i.prototype.copy=a(function(v){v.words=new Array(this.length);for(var A=0;A<this.length;A++)v.words[A]=this.words[A];v.length=this.length,v.negative=this.negative,v.red=this.red},"copy");function f(m,v){m.words=v.words,m.length=v.length,m.negative=v.negative,m.red=v.red}if(a(f,"move"),i.prototype._move=a(function(v){f(v,this)},"_move"),i.prototype.clone=a(function(){var v=new i(null);return this.copy(v),v},"clone"),i.prototype._expand=a(function(v){for(;this.length<v;)this.words[this.length++]=0;return this},"_expand"),i.prototype._strip=a(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=a(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(h,"inspect");var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=a(function(v,A){v=v||10,A=A|0||1;var U;if(v===16||v==="hex"){U="";for(var G=0,K=0,Z=0;Z<this.length;Z++){var O=this.words[Z],$=((O<<G|K)&16777215).toString(16);K=O>>>24-G&16777215,G+=2,G>=26&&(G-=26,Z--),K!==0||Z!==this.length-1?U=p[6-$.length]+$+U:U=$+U}for(K!==0&&(U=K.toString(16)+U);U.length%A!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}if(v===(v|0)&&v>=2&&v<=36){var L=g[v],ee=y[v];U="";var ve=this.clone();for(ve.negative=0;!ve.isZero();){var ye=ve.modrn(ee).toString(v);ve=ve.idivn(ee),ve.isZero()?U=ye+U:U=p[L-ye.length]+ye+U}for(this.isZero()&&(U="0"+U);U.length%A!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=a(function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},"toNumber"),i.prototype.toJSON=a(function(){return this.toString(16,2)},"toJSON"),s&&(i.prototype.toBuffer=a(function(v,A){return this.toArrayLike(s,v,A)},"toBuffer")),i.prototype.toArray=a(function(v,A){return this.toArrayLike(Array,v,A)},"toArray");var E=a(function(v,A){return v.allocUnsafe?v.allocUnsafe(A):new v(A)},"allocate");i.prototype.toArrayLike=a(function(v,A,U){this._strip();var G=this.byteLength(),K=U||Math.max(1,G);r(G<=K,"byte array longer than desired length"),r(K>0,"Requested array length <= 0");var Z=E(v,K),O=A==="le"?"LE":"BE";return this["_toArrayLike"+O](Z,G),Z},"toArrayLike"),i.prototype._toArrayLikeLE=a(function(v,A){for(var U=0,G=0,K=0,Z=0;K<this.length;K++){var O=this.words[K]<<Z|G;v[U++]=O&255,U<v.length&&(v[U++]=O>>8&255),U<v.length&&(v[U++]=O>>16&255),Z===6?(U<v.length&&(v[U++]=O>>24&255),G=0,Z=0):(G=O>>>24,Z+=2)}if(U<v.length)for(v[U++]=G;U<v.length;)v[U++]=0},"_toArrayLikeLE"),i.prototype._toArrayLikeBE=a(function(v,A){for(var U=v.length-1,G=0,K=0,Z=0;K<this.length;K++){var O=this.words[K]<<Z|G;v[U--]=O&255,U>=0&&(v[U--]=O>>8&255),U>=0&&(v[U--]=O>>16&255),Z===6?(U>=0&&(v[U--]=O>>24&255),G=0,Z=0):(G=O>>>24,Z+=2)}if(U>=0)for(v[U--]=G;U>=0;)v[U--]=0},"_toArrayLikeBE"),Math.clz32?i.prototype._countBits=a(function(v){return 32-Math.clz32(v)},"_countBits"):i.prototype._countBits=a(function(v){var A=v,U=0;return A>=4096&&(U+=13,A>>>=13),A>=64&&(U+=7,A>>>=7),A>=8&&(U+=4,A>>>=4),A>=2&&(U+=2,A>>>=2),U+A},"_countBits"),i.prototype._zeroBits=a(function(v){if(v===0)return 26;var A=v,U=0;return(A&8191)===0&&(U+=13,A>>>=13),(A&127)===0&&(U+=7,A>>>=7),(A&15)===0&&(U+=4,A>>>=4),(A&3)===0&&(U+=2,A>>>=2),(A&1)===0&&U++,U},"_zeroBits"),i.prototype.bitLength=a(function(){var v=this.words[this.length-1],A=this._countBits(v);return(this.length-1)*26+A},"bitLength");function M(m){for(var v=new Array(m.bitLength()),A=0;A<v.length;A++){var U=A/26|0,G=A%26;v[A]=m.words[U]>>>G&1}return v}a(M,"toBitArray"),i.prototype.zeroBits=a(function(){if(this.isZero())return 0;for(var v=0,A=0;A<this.length;A++){var U=this._zeroBits(this.words[A]);if(v+=U,U!==26)break}return v},"zeroBits"),i.prototype.byteLength=a(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=a(function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=a(function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=a(function(){return this.negative!==0},"isNeg"),i.prototype.neg=a(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=a(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=a(function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]|v.words[A];return this._strip()},"iuor"),i.prototype.ior=a(function(v){return r((this.negative|v.negative)===0),this.iuor(v)},"ior"),i.prototype.or=a(function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},"or"),i.prototype.uor=a(function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},"uor"),i.prototype.iuand=a(function(v){var A;this.length>v.length?A=v:A=this;for(var U=0;U<A.length;U++)this.words[U]=this.words[U]&v.words[U];return this.length=A.length,this._strip()},"iuand"),i.prototype.iand=a(function(v){return r((this.negative|v.negative)===0),this.iuand(v)},"iand"),i.prototype.and=a(function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},"and"),i.prototype.uand=a(function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},"uand"),i.prototype.iuxor=a(function(v){var A,U;this.length>v.length?(A=this,U=v):(A=v,U=this);for(var G=0;G<U.length;G++)this.words[G]=A.words[G]^U.words[G];if(this!==A)for(;G<A.length;G++)this.words[G]=A.words[G];return this.length=A.length,this._strip()},"iuxor"),i.prototype.ixor=a(function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},"ixor"),i.prototype.xor=a(function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},"xor"),i.prototype.uxor=a(function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},"uxor"),i.prototype.inotn=a(function(v){r(typeof v=="number"&&v>=0);var A=Math.ceil(v/26)|0,U=v%26;this._expand(A),U>0&&A--;for(var G=0;G<A;G++)this.words[G]=~this.words[G]&67108863;return U>0&&(this.words[G]=~this.words[G]&67108863>>26-U),this._strip()},"inotn"),i.prototype.notn=a(function(v){return this.clone().inotn(v)},"notn"),i.prototype.setn=a(function(v,A){r(typeof v=="number"&&v>=0);var U=v/26|0,G=v%26;return this._expand(U+1),A?this.words[U]=this.words[U]|1<<G:this.words[U]=this.words[U]&~(1<<G),this._strip()},"setn"),i.prototype.iadd=a(function(v){var A;if(this.negative!==0&&v.negative===0)return this.negative=0,A=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,A=this.isub(v),v.negative=1,A._normSign();var U,G;this.length>v.length?(U=this,G=v):(U=v,G=this);for(var K=0,Z=0;Z<G.length;Z++)A=(U.words[Z]|0)+(G.words[Z]|0)+K,this.words[Z]=A&67108863,K=A>>>26;for(;K!==0&&Z<U.length;Z++)A=(U.words[Z]|0)+K,this.words[Z]=A&67108863,K=A>>>26;if(this.length=U.length,K!==0)this.words[this.length]=K,this.length++;else if(U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this},"iadd"),i.prototype.add=a(function(v){var A;return v.negative!==0&&this.negative===0?(v.negative=0,A=this.sub(v),v.negative^=1,A):v.negative===0&&this.negative!==0?(this.negative=0,A=v.sub(this),this.negative=1,A):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},"add"),i.prototype.isub=a(function(v){if(v.negative!==0){v.negative=0;var A=this.iadd(v);return v.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var U=this.cmp(v);if(U===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,K;U>0?(G=this,K=v):(G=v,K=this);for(var Z=0,O=0;O<K.length;O++)A=(G.words[O]|0)-(K.words[O]|0)+Z,Z=A>>26,this.words[O]=A&67108863;for(;Z!==0&&O<G.length;O++)A=(G.words[O]|0)+Z,Z=A>>26,this.words[O]=A&67108863;if(Z===0&&O<G.length&&G!==this)for(;O<G.length;O++)this.words[O]=G.words[O];return this.length=Math.max(this.length,O),G!==this&&(this.negative=1),this._strip()},"isub"),i.prototype.sub=a(function(v){return this.clone().isub(v)},"sub");function z(m,v,A){A.negative=v.negative^m.negative;var U=m.length+v.length|0;A.length=U,U=U-1|0;var G=m.words[0]|0,K=v.words[0]|0,Z=G*K,O=Z&67108863,$=Z/67108864|0;A.words[0]=O;for(var L=1;L<U;L++){for(var ee=$>>>26,ve=$&67108863,ye=Math.min(L,v.length-1),se=Math.max(0,L-m.length+1);se<=ye;se++){var be=L-se|0;G=m.words[be]|0,K=v.words[se]|0,Z=G*K+ve,ee+=Z/67108864|0,ve=Z&67108863}A.words[L]=ve|0,$=ee|0}return $!==0?A.words[L]=$|0:A.length--,A._strip()}a(z,"smallMulTo");var P=a(function(v,A,U){var G=v.words,K=A.words,Z=U.words,O=0,$,L,ee,ve=G[0]|0,ye=ve&8191,se=ve>>>13,be=G[1]|0,Y=be&8191,D=be>>>13,J=G[2]|0,q=J&8191,I=J>>>13,H=G[3]|0,te=H&8191,ie=H>>>13,he=G[4]|0,De=he&8191,$e=he>>>13,ze=G[5]|0,Qe=ze&8191,je=ze>>>13,We=G[6]|0,Ce=We&8191,Te=We>>>13,Je=G[7]|0,rt=Je&8191,ge=Je>>>13,xe=G[8]|0,qe=xe&8191,ot=xe>>>13,at=G[9]|0,pe=at&8191,Re=at>>>13,He=K[0]|0,tt=He&8191,Ve=He>>>13,et=K[1]|0,gt=et&8191,lt=et>>>13,zt=K[2]|0,it=zt&8191,Wt=zt>>>13,bt=K[3]|0,Se=bt&8191,Ie=bt>>>13,le=K[4]|0,_e=le&8191,ae=le>>>13,ce=K[5]|0,re=ce&8191,ue=ce>>>13,me=K[6]|0,Ae=me&8191,Oe=me>>>13,Ge=K[7]|0,ke=Ge&8191,st=Ge>>>13,yt=K[8]|0,pt=yt&8191,wt=yt>>>13,Gt=K[9]|0,Pt=Gt&8191,tr=Gt>>>13;U.negative=v.negative^A.negative,U.length=19,$=Math.imul(ye,tt),L=Math.imul(ye,Ve),L=L+Math.imul(se,tt)|0,ee=Math.imul(se,Ve);var cr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(cr>>>26)|0,cr&=67108863,$=Math.imul(Y,tt),L=Math.imul(Y,Ve),L=L+Math.imul(D,tt)|0,ee=Math.imul(D,Ve),$=$+Math.imul(ye,gt)|0,L=L+Math.imul(ye,lt)|0,L=L+Math.imul(se,gt)|0,ee=ee+Math.imul(se,lt)|0;var pr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(pr>>>26)|0,pr&=67108863,$=Math.imul(q,tt),L=Math.imul(q,Ve),L=L+Math.imul(I,tt)|0,ee=Math.imul(I,Ve),$=$+Math.imul(Y,gt)|0,L=L+Math.imul(Y,lt)|0,L=L+Math.imul(D,gt)|0,ee=ee+Math.imul(D,lt)|0,$=$+Math.imul(ye,it)|0,L=L+Math.imul(ye,Wt)|0,L=L+Math.imul(se,it)|0,ee=ee+Math.imul(se,Wt)|0;var Cr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,$=Math.imul(te,tt),L=Math.imul(te,Ve),L=L+Math.imul(ie,tt)|0,ee=Math.imul(ie,Ve),$=$+Math.imul(q,gt)|0,L=L+Math.imul(q,lt)|0,L=L+Math.imul(I,gt)|0,ee=ee+Math.imul(I,lt)|0,$=$+Math.imul(Y,it)|0,L=L+Math.imul(Y,Wt)|0,L=L+Math.imul(D,it)|0,ee=ee+Math.imul(D,Wt)|0,$=$+Math.imul(ye,Se)|0,L=L+Math.imul(ye,Ie)|0,L=L+Math.imul(se,Se)|0,ee=ee+Math.imul(se,Ie)|0;var Qr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,$=Math.imul(De,tt),L=Math.imul(De,Ve),L=L+Math.imul($e,tt)|0,ee=Math.imul($e,Ve),$=$+Math.imul(te,gt)|0,L=L+Math.imul(te,lt)|0,L=L+Math.imul(ie,gt)|0,ee=ee+Math.imul(ie,lt)|0,$=$+Math.imul(q,it)|0,L=L+Math.imul(q,Wt)|0,L=L+Math.imul(I,it)|0,ee=ee+Math.imul(I,Wt)|0,$=$+Math.imul(Y,Se)|0,L=L+Math.imul(Y,Ie)|0,L=L+Math.imul(D,Se)|0,ee=ee+Math.imul(D,Ie)|0,$=$+Math.imul(ye,_e)|0,L=L+Math.imul(ye,ae)|0,L=L+Math.imul(se,_e)|0,ee=ee+Math.imul(se,ae)|0;var Tr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,$=Math.imul(Qe,tt),L=Math.imul(Qe,Ve),L=L+Math.imul(je,tt)|0,ee=Math.imul(je,Ve),$=$+Math.imul(De,gt)|0,L=L+Math.imul(De,lt)|0,L=L+Math.imul($e,gt)|0,ee=ee+Math.imul($e,lt)|0,$=$+Math.imul(te,it)|0,L=L+Math.imul(te,Wt)|0,L=L+Math.imul(ie,it)|0,ee=ee+Math.imul(ie,Wt)|0,$=$+Math.imul(q,Se)|0,L=L+Math.imul(q,Ie)|0,L=L+Math.imul(I,Se)|0,ee=ee+Math.imul(I,Ie)|0,$=$+Math.imul(Y,_e)|0,L=L+Math.imul(Y,ae)|0,L=L+Math.imul(D,_e)|0,ee=ee+Math.imul(D,ae)|0,$=$+Math.imul(ye,re)|0,L=L+Math.imul(ye,ue)|0,L=L+Math.imul(se,re)|0,ee=ee+Math.imul(se,ue)|0;var ur=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(ur>>>26)|0,ur&=67108863,$=Math.imul(Ce,tt),L=Math.imul(Ce,Ve),L=L+Math.imul(Te,tt)|0,ee=Math.imul(Te,Ve),$=$+Math.imul(Qe,gt)|0,L=L+Math.imul(Qe,lt)|0,L=L+Math.imul(je,gt)|0,ee=ee+Math.imul(je,lt)|0,$=$+Math.imul(De,it)|0,L=L+Math.imul(De,Wt)|0,L=L+Math.imul($e,it)|0,ee=ee+Math.imul($e,Wt)|0,$=$+Math.imul(te,Se)|0,L=L+Math.imul(te,Ie)|0,L=L+Math.imul(ie,Se)|0,ee=ee+Math.imul(ie,Ie)|0,$=$+Math.imul(q,_e)|0,L=L+Math.imul(q,ae)|0,L=L+Math.imul(I,_e)|0,ee=ee+Math.imul(I,ae)|0,$=$+Math.imul(Y,re)|0,L=L+Math.imul(Y,ue)|0,L=L+Math.imul(D,re)|0,ee=ee+Math.imul(D,ue)|0,$=$+Math.imul(ye,Ae)|0,L=L+Math.imul(ye,Oe)|0,L=L+Math.imul(se,Ae)|0,ee=ee+Math.imul(se,Oe)|0;var fr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(fr>>>26)|0,fr&=67108863,$=Math.imul(rt,tt),L=Math.imul(rt,Ve),L=L+Math.imul(ge,tt)|0,ee=Math.imul(ge,Ve),$=$+Math.imul(Ce,gt)|0,L=L+Math.imul(Ce,lt)|0,L=L+Math.imul(Te,gt)|0,ee=ee+Math.imul(Te,lt)|0,$=$+Math.imul(Qe,it)|0,L=L+Math.imul(Qe,Wt)|0,L=L+Math.imul(je,it)|0,ee=ee+Math.imul(je,Wt)|0,$=$+Math.imul(De,Se)|0,L=L+Math.imul(De,Ie)|0,L=L+Math.imul($e,Se)|0,ee=ee+Math.imul($e,Ie)|0,$=$+Math.imul(te,_e)|0,L=L+Math.imul(te,ae)|0,L=L+Math.imul(ie,_e)|0,ee=ee+Math.imul(ie,ae)|0,$=$+Math.imul(q,re)|0,L=L+Math.imul(q,ue)|0,L=L+Math.imul(I,re)|0,ee=ee+Math.imul(I,ue)|0,$=$+Math.imul(Y,Ae)|0,L=L+Math.imul(Y,Oe)|0,L=L+Math.imul(D,Ae)|0,ee=ee+Math.imul(D,Oe)|0,$=$+Math.imul(ye,ke)|0,L=L+Math.imul(ye,st)|0,L=L+Math.imul(se,ke)|0,ee=ee+Math.imul(se,st)|0;var Mr=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,$=Math.imul(qe,tt),L=Math.imul(qe,Ve),L=L+Math.imul(ot,tt)|0,ee=Math.imul(ot,Ve),$=$+Math.imul(rt,gt)|0,L=L+Math.imul(rt,lt)|0,L=L+Math.imul(ge,gt)|0,ee=ee+Math.imul(ge,lt)|0,$=$+Math.imul(Ce,it)|0,L=L+Math.imul(Ce,Wt)|0,L=L+Math.imul(Te,it)|0,ee=ee+Math.imul(Te,Wt)|0,$=$+Math.imul(Qe,Se)|0,L=L+Math.imul(Qe,Ie)|0,L=L+Math.imul(je,Se)|0,ee=ee+Math.imul(je,Ie)|0,$=$+Math.imul(De,_e)|0,L=L+Math.imul(De,ae)|0,L=L+Math.imul($e,_e)|0,ee=ee+Math.imul($e,ae)|0,$=$+Math.imul(te,re)|0,L=L+Math.imul(te,ue)|0,L=L+Math.imul(ie,re)|0,ee=ee+Math.imul(ie,ue)|0,$=$+Math.imul(q,Ae)|0,L=L+Math.imul(q,Oe)|0,L=L+Math.imul(I,Ae)|0,ee=ee+Math.imul(I,Oe)|0,$=$+Math.imul(Y,ke)|0,L=L+Math.imul(Y,st)|0,L=L+Math.imul(D,ke)|0,ee=ee+Math.imul(D,st)|0,$=$+Math.imul(ye,pt)|0,L=L+Math.imul(ye,wt)|0,L=L+Math.imul(se,pt)|0,ee=ee+Math.imul(se,wt)|0;var Br=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Br>>>26)|0,Br&=67108863,$=Math.imul(pe,tt),L=Math.imul(pe,Ve),L=L+Math.imul(Re,tt)|0,ee=Math.imul(Re,Ve),$=$+Math.imul(qe,gt)|0,L=L+Math.imul(qe,lt)|0,L=L+Math.imul(ot,gt)|0,ee=ee+Math.imul(ot,lt)|0,$=$+Math.imul(rt,it)|0,L=L+Math.imul(rt,Wt)|0,L=L+Math.imul(ge,it)|0,ee=ee+Math.imul(ge,Wt)|0,$=$+Math.imul(Ce,Se)|0,L=L+Math.imul(Ce,Ie)|0,L=L+Math.imul(Te,Se)|0,ee=ee+Math.imul(Te,Ie)|0,$=$+Math.imul(Qe,_e)|0,L=L+Math.imul(Qe,ae)|0,L=L+Math.imul(je,_e)|0,ee=ee+Math.imul(je,ae)|0,$=$+Math.imul(De,re)|0,L=L+Math.imul(De,ue)|0,L=L+Math.imul($e,re)|0,ee=ee+Math.imul($e,ue)|0,$=$+Math.imul(te,Ae)|0,L=L+Math.imul(te,Oe)|0,L=L+Math.imul(ie,Ae)|0,ee=ee+Math.imul(ie,Oe)|0,$=$+Math.imul(q,ke)|0,L=L+Math.imul(q,st)|0,L=L+Math.imul(I,ke)|0,ee=ee+Math.imul(I,st)|0,$=$+Math.imul(Y,pt)|0,L=L+Math.imul(Y,wt)|0,L=L+Math.imul(D,pt)|0,ee=ee+Math.imul(D,wt)|0,$=$+Math.imul(ye,Pt)|0,L=L+Math.imul(ye,tr)|0,L=L+Math.imul(se,Pt)|0,ee=ee+Math.imul(se,tr)|0;var Ne=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,$=Math.imul(pe,gt),L=Math.imul(pe,lt),L=L+Math.imul(Re,gt)|0,ee=Math.imul(Re,lt),$=$+Math.imul(qe,it)|0,L=L+Math.imul(qe,Wt)|0,L=L+Math.imul(ot,it)|0,ee=ee+Math.imul(ot,Wt)|0,$=$+Math.imul(rt,Se)|0,L=L+Math.imul(rt,Ie)|0,L=L+Math.imul(ge,Se)|0,ee=ee+Math.imul(ge,Ie)|0,$=$+Math.imul(Ce,_e)|0,L=L+Math.imul(Ce,ae)|0,L=L+Math.imul(Te,_e)|0,ee=ee+Math.imul(Te,ae)|0,$=$+Math.imul(Qe,re)|0,L=L+Math.imul(Qe,ue)|0,L=L+Math.imul(je,re)|0,ee=ee+Math.imul(je,ue)|0,$=$+Math.imul(De,Ae)|0,L=L+Math.imul(De,Oe)|0,L=L+Math.imul($e,Ae)|0,ee=ee+Math.imul($e,Oe)|0,$=$+Math.imul(te,ke)|0,L=L+Math.imul(te,st)|0,L=L+Math.imul(ie,ke)|0,ee=ee+Math.imul(ie,st)|0,$=$+Math.imul(q,pt)|0,L=L+Math.imul(q,wt)|0,L=L+Math.imul(I,pt)|0,ee=ee+Math.imul(I,wt)|0,$=$+Math.imul(Y,Pt)|0,L=L+Math.imul(Y,tr)|0,L=L+Math.imul(D,Pt)|0,ee=ee+Math.imul(D,tr)|0;var Ze=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,$=Math.imul(pe,it),L=Math.imul(pe,Wt),L=L+Math.imul(Re,it)|0,ee=Math.imul(Re,Wt),$=$+Math.imul(qe,Se)|0,L=L+Math.imul(qe,Ie)|0,L=L+Math.imul(ot,Se)|0,ee=ee+Math.imul(ot,Ie)|0,$=$+Math.imul(rt,_e)|0,L=L+Math.imul(rt,ae)|0,L=L+Math.imul(ge,_e)|0,ee=ee+Math.imul(ge,ae)|0,$=$+Math.imul(Ce,re)|0,L=L+Math.imul(Ce,ue)|0,L=L+Math.imul(Te,re)|0,ee=ee+Math.imul(Te,ue)|0,$=$+Math.imul(Qe,Ae)|0,L=L+Math.imul(Qe,Oe)|0,L=L+Math.imul(je,Ae)|0,ee=ee+Math.imul(je,Oe)|0,$=$+Math.imul(De,ke)|0,L=L+Math.imul(De,st)|0,L=L+Math.imul($e,ke)|0,ee=ee+Math.imul($e,st)|0,$=$+Math.imul(te,pt)|0,L=L+Math.imul(te,wt)|0,L=L+Math.imul(ie,pt)|0,ee=ee+Math.imul(ie,wt)|0,$=$+Math.imul(q,Pt)|0,L=L+Math.imul(q,tr)|0,L=L+Math.imul(I,Pt)|0,ee=ee+Math.imul(I,tr)|0;var Tt=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,$=Math.imul(pe,Se),L=Math.imul(pe,Ie),L=L+Math.imul(Re,Se)|0,ee=Math.imul(Re,Ie),$=$+Math.imul(qe,_e)|0,L=L+Math.imul(qe,ae)|0,L=L+Math.imul(ot,_e)|0,ee=ee+Math.imul(ot,ae)|0,$=$+Math.imul(rt,re)|0,L=L+Math.imul(rt,ue)|0,L=L+Math.imul(ge,re)|0,ee=ee+Math.imul(ge,ue)|0,$=$+Math.imul(Ce,Ae)|0,L=L+Math.imul(Ce,Oe)|0,L=L+Math.imul(Te,Ae)|0,ee=ee+Math.imul(Te,Oe)|0,$=$+Math.imul(Qe,ke)|0,L=L+Math.imul(Qe,st)|0,L=L+Math.imul(je,ke)|0,ee=ee+Math.imul(je,st)|0,$=$+Math.imul(De,pt)|0,L=L+Math.imul(De,wt)|0,L=L+Math.imul($e,pt)|0,ee=ee+Math.imul($e,wt)|0,$=$+Math.imul(te,Pt)|0,L=L+Math.imul(te,tr)|0,L=L+Math.imul(ie,Pt)|0,ee=ee+Math.imul(ie,tr)|0;var Ft=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,$=Math.imul(pe,_e),L=Math.imul(pe,ae),L=L+Math.imul(Re,_e)|0,ee=Math.imul(Re,ae),$=$+Math.imul(qe,re)|0,L=L+Math.imul(qe,ue)|0,L=L+Math.imul(ot,re)|0,ee=ee+Math.imul(ot,ue)|0,$=$+Math.imul(rt,Ae)|0,L=L+Math.imul(rt,Oe)|0,L=L+Math.imul(ge,Ae)|0,ee=ee+Math.imul(ge,Oe)|0,$=$+Math.imul(Ce,ke)|0,L=L+Math.imul(Ce,st)|0,L=L+Math.imul(Te,ke)|0,ee=ee+Math.imul(Te,st)|0,$=$+Math.imul(Qe,pt)|0,L=L+Math.imul(Qe,wt)|0,L=L+Math.imul(je,pt)|0,ee=ee+Math.imul(je,wt)|0,$=$+Math.imul(De,Pt)|0,L=L+Math.imul(De,tr)|0,L=L+Math.imul($e,Pt)|0,ee=ee+Math.imul($e,tr)|0;var At=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(At>>>26)|0,At&=67108863,$=Math.imul(pe,re),L=Math.imul(pe,ue),L=L+Math.imul(Re,re)|0,ee=Math.imul(Re,ue),$=$+Math.imul(qe,Ae)|0,L=L+Math.imul(qe,Oe)|0,L=L+Math.imul(ot,Ae)|0,ee=ee+Math.imul(ot,Oe)|0,$=$+Math.imul(rt,ke)|0,L=L+Math.imul(rt,st)|0,L=L+Math.imul(ge,ke)|0,ee=ee+Math.imul(ge,st)|0,$=$+Math.imul(Ce,pt)|0,L=L+Math.imul(Ce,wt)|0,L=L+Math.imul(Te,pt)|0,ee=ee+Math.imul(Te,wt)|0,$=$+Math.imul(Qe,Pt)|0,L=L+Math.imul(Qe,tr)|0,L=L+Math.imul(je,Pt)|0,ee=ee+Math.imul(je,tr)|0;var Ot=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,$=Math.imul(pe,Ae),L=Math.imul(pe,Oe),L=L+Math.imul(Re,Ae)|0,ee=Math.imul(Re,Oe),$=$+Math.imul(qe,ke)|0,L=L+Math.imul(qe,st)|0,L=L+Math.imul(ot,ke)|0,ee=ee+Math.imul(ot,st)|0,$=$+Math.imul(rt,pt)|0,L=L+Math.imul(rt,wt)|0,L=L+Math.imul(ge,pt)|0,ee=ee+Math.imul(ge,wt)|0,$=$+Math.imul(Ce,Pt)|0,L=L+Math.imul(Ce,tr)|0,L=L+Math.imul(Te,Pt)|0,ee=ee+Math.imul(Te,tr)|0;var Vt=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,$=Math.imul(pe,ke),L=Math.imul(pe,st),L=L+Math.imul(Re,ke)|0,ee=Math.imul(Re,st),$=$+Math.imul(qe,pt)|0,L=L+Math.imul(qe,wt)|0,L=L+Math.imul(ot,pt)|0,ee=ee+Math.imul(ot,wt)|0,$=$+Math.imul(rt,Pt)|0,L=L+Math.imul(rt,tr)|0,L=L+Math.imul(ge,Pt)|0,ee=ee+Math.imul(ge,tr)|0;var Ct=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,$=Math.imul(pe,pt),L=Math.imul(pe,wt),L=L+Math.imul(Re,pt)|0,ee=Math.imul(Re,wt),$=$+Math.imul(qe,Pt)|0,L=L+Math.imul(qe,tr)|0,L=L+Math.imul(ot,Pt)|0,ee=ee+Math.imul(ot,tr)|0;var er=(O+$|0)+((L&8191)<<13)|0;O=(ee+(L>>>13)|0)+(er>>>26)|0,er&=67108863,$=Math.imul(pe,Pt),L=Math.imul(pe,tr),L=L+Math.imul(Re,Pt)|0,ee=Math.imul(Re,tr);var Ue=(O+$|0)+((L&8191)<<13)|0;return O=(ee+(L>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,Z[0]=cr,Z[1]=pr,Z[2]=Cr,Z[3]=Qr,Z[4]=Tr,Z[5]=ur,Z[6]=fr,Z[7]=Mr,Z[8]=Br,Z[9]=Ne,Z[10]=Ze,Z[11]=Tt,Z[12]=Ft,Z[13]=At,Z[14]=Ot,Z[15]=Vt,Z[16]=Ct,Z[17]=er,Z[18]=Ue,O!==0&&(Z[19]=O,U.length++),U},"comb10MulTo");Math.imul||(P=z);function Q(m,v,A){A.negative=v.negative^m.negative,A.length=m.length+v.length;for(var U=0,G=0,K=0;K<A.length-1;K++){var Z=G;G=0;for(var O=U&67108863,$=Math.min(K,v.length-1),L=Math.max(0,K-m.length+1);L<=$;L++){var ee=K-L,ve=m.words[ee]|0,ye=v.words[L]|0,se=ve*ye,be=se&67108863;Z=Z+(se/67108864|0)|0,be=be+O|0,O=be&67108863,Z=Z+(be>>>26)|0,G+=Z>>>26,Z&=67108863}A.words[K]=O,U=Z,Z=G}return U!==0?A.words[K]=U:A.length--,A._strip()}a(Q,"bigMulTo");function V(m,v,A){return Q(m,v,A)}a(V,"jumboMulTo"),i.prototype.mulTo=a(function(v,A){var U,G=this.length+v.length;return this.length===10&&v.length===10?U=P(this,v,A):G<63?U=z(this,v,A):G<1024?U=Q(this,v,A):U=V(this,v,A),U},"mulTo");function W(m,v){this.x=m,this.y=v}a(W,"FFTM"),W.prototype.makeRBT=a(function(v){for(var A=new Array(v),U=i.prototype._countBits(v)-1,G=0;G<v;G++)A[G]=this.revBin(G,U,v);return A},"makeRBT"),W.prototype.revBin=a(function(v,A,U){if(v===0||v===U-1)return v;for(var G=0,K=0;K<A;K++)G|=(v&1)<<A-K-1,v>>=1;return G},"revBin"),W.prototype.permute=a(function(v,A,U,G,K,Z){for(var O=0;O<Z;O++)G[O]=A[v[O]],K[O]=U[v[O]]},"permute"),W.prototype.transform=a(function(v,A,U,G,K,Z){this.permute(Z,v,A,U,G,K);for(var O=1;O<K;O<<=1)for(var $=O<<1,L=Math.cos(2*Math.PI/$),ee=Math.sin(2*Math.PI/$),ve=0;ve<K;ve+=$)for(var ye=L,se=ee,be=0;be<O;be++){var Y=U[ve+be],D=G[ve+be],J=U[ve+be+O],q=G[ve+be+O],I=ye*J-se*q;q=ye*q+se*J,J=I,U[ve+be]=Y+J,G[ve+be]=D+q,U[ve+be+O]=Y-J,G[ve+be+O]=D-q,be!==$&&(I=L*ye-ee*se,se=L*se+ee*ye,ye=I)}},"transform"),W.prototype.guessLen13b=a(function(v,A){var U=Math.max(A,v)|1,G=U&1,K=0;for(U=U/2|0;U;U=U>>>1)K++;return 1<<K+1+G},"guessLen13b"),W.prototype.conjugate=a(function(v,A,U){if(!(U<=1))for(var G=0;G<U/2;G++){var K=v[G];v[G]=v[U-G-1],v[U-G-1]=K,K=A[G],A[G]=-A[U-G-1],A[U-G-1]=-K}},"conjugate"),W.prototype.normalize13b=a(function(v,A){for(var U=0,G=0;G<A/2;G++){var K=Math.round(v[2*G+1]/A)*8192+Math.round(v[2*G]/A)+U;v[G]=K&67108863,K<67108864?U=0:U=K/67108864|0}return v},"normalize13b"),W.prototype.convert13b=a(function(v,A,U,G){for(var K=0,Z=0;Z<A;Z++)K=K+(v[Z]|0),U[2*Z]=K&8191,K=K>>>13,U[2*Z+1]=K&8191,K=K>>>13;for(Z=2*A;Z<G;++Z)U[Z]=0;r(K===0),r((K&-8192)===0)},"convert13b"),W.prototype.stub=a(function(v){for(var A=new Array(v),U=0;U<v;U++)A[U]=0;return A},"stub"),W.prototype.mulp=a(function(v,A,U){var G=2*this.guessLen13b(v.length,A.length),K=this.makeRBT(G),Z=this.stub(G),O=new Array(G),$=new Array(G),L=new Array(G),ee=new Array(G),ve=new Array(G),ye=new Array(G),se=U.words;se.length=G,this.convert13b(v.words,v.length,O,G),this.convert13b(A.words,A.length,ee,G),this.transform(O,Z,$,L,G,K),this.transform(ee,Z,ve,ye,G,K);for(var be=0;be<G;be++){var Y=$[be]*ve[be]-L[be]*ye[be];L[be]=$[be]*ye[be]+L[be]*ve[be],$[be]=Y}return this.conjugate($,L,G),this.transform($,L,se,Z,G,K),this.conjugate(se,Z,G),this.normalize13b(se,G),U.negative=v.negative^A.negative,U.length=v.length+A.length,U._strip()},"mulp"),i.prototype.mul=a(function(v){var A=new i(null);return A.words=new Array(this.length+v.length),this.mulTo(v,A)},"mul"),i.prototype.mulf=a(function(v){var A=new i(null);return A.words=new Array(this.length+v.length),V(this,v,A)},"mulf"),i.prototype.imul=a(function(v){return this.clone().mulTo(v,this)},"imul"),i.prototype.imuln=a(function(v){var A=v<0;A&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var U=0,G=0;G<this.length;G++){var K=(this.words[G]|0)*v,Z=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=Z>>>26,this.words[G]=Z&67108863}return U!==0&&(this.words[G]=U,this.length++),A?this.ineg():this},"imuln"),i.prototype.muln=a(function(v){return this.clone().imuln(v)},"muln"),i.prototype.sqr=a(function(){return this.mul(this)},"sqr"),i.prototype.isqr=a(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=a(function(v){var A=M(v);if(A.length===0)return new i(1);for(var U=this,G=0;G<A.length&&A[G]===0;G++,U=U.sqr());if(++G<A.length)for(var K=U.sqr();G<A.length;G++,K=K.sqr())A[G]!==0&&(U=U.mul(K));return U},"pow"),i.prototype.iushln=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26,G=67108863>>>26-A<<26-A,K;if(A!==0){var Z=0;for(K=0;K<this.length;K++){var O=this.words[K]&G,$=(this.words[K]|0)-O<<A;this.words[K]=$|Z,Z=O>>>26-A}Z&&(this.words[K]=Z,this.length++)}if(U!==0){for(K=this.length-1;K>=0;K--)this.words[K+U]=this.words[K];for(K=0;K<U;K++)this.words[K]=0;this.length+=U}return this._strip()},"iushln"),i.prototype.ishln=a(function(v){return r(this.negative===0),this.iushln(v)},"ishln"),i.prototype.iushrn=a(function(v,A,U){r(typeof v=="number"&&v>=0);var G;A?G=(A-A%26)/26:G=0;var K=v%26,Z=Math.min((v-K)/26,this.length),O=67108863^67108863>>>K<<K,$=U;if(G-=Z,G=Math.max(0,G),$){for(var L=0;L<Z;L++)$.words[L]=this.words[L];$.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,L=0;L<this.length;L++)this.words[L]=this.words[L+Z];else this.words[0]=0,this.length=1;var ee=0;for(L=this.length-1;L>=0&&(ee!==0||L>=G);L--){var ve=this.words[L]|0;this.words[L]=ee<<26-K|ve>>>K,ee=ve&O}return $&&ee!==0&&($.words[$.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),i.prototype.ishrn=a(function(v,A,U){return r(this.negative===0),this.iushrn(v,A,U)},"ishrn"),i.prototype.shln=a(function(v){return this.clone().ishln(v)},"shln"),i.prototype.ushln=a(function(v){return this.clone().iushln(v)},"ushln"),i.prototype.shrn=a(function(v){return this.clone().ishrn(v)},"shrn"),i.prototype.ushrn=a(function(v){return this.clone().iushrn(v)},"ushrn"),i.prototype.testn=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26,G=1<<A;if(this.length<=U)return!1;var K=this.words[U];return!!(K&G)},"testn"),i.prototype.imaskn=a(function(v){r(typeof v=="number"&&v>=0);var A=v%26,U=(v-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=U)return this;if(A!==0&&U++,this.length=Math.min(U,this.length),A!==0){var G=67108863^67108863>>>A<<A;this.words[this.length-1]&=G}return this._strip()},"imaskn"),i.prototype.maskn=a(function(v){return this.clone().imaskn(v)},"maskn"),i.prototype.iaddn=a(function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},"iaddn"),i.prototype._iaddn=a(function(v){this.words[0]+=v;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},"_iaddn"),i.prototype.isubn=a(function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},"isubn"),i.prototype.addn=a(function(v){return this.clone().iaddn(v)},"addn"),i.prototype.subn=a(function(v){return this.clone().isubn(v)},"subn"),i.prototype.iabs=a(function(){return this.negative=0,this},"iabs"),i.prototype.abs=a(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=a(function(v,A,U){var G=v.length+U,K;this._expand(G);var Z,O=0;for(K=0;K<v.length;K++){Z=(this.words[K+U]|0)+O;var $=(v.words[K]|0)*A;Z-=$&67108863,O=(Z>>26)-($/67108864|0),this.words[K+U]=Z&67108863}for(;K<this.length-U;K++)Z=(this.words[K+U]|0)+O,O=Z>>26,this.words[K+U]=Z&67108863;if(O===0)return this._strip();for(r(O===-1),O=0,K=0;K<this.length;K++)Z=-(this.words[K]|0)+O,O=Z>>26,this.words[K]=Z&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),i.prototype._wordDiv=a(function(v,A){var U=this.length-v.length,G=this.clone(),K=v,Z=K.words[K.length-1]|0,O=this._countBits(Z);U=26-O,U!==0&&(K=K.ushln(U),G.iushln(U),Z=K.words[K.length-1]|0);var $=G.length-K.length,L;if(A!=="mod"){L=new i(null),L.length=$+1,L.words=new Array(L.length);for(var ee=0;ee<L.length;ee++)L.words[ee]=0}var ve=G.clone()._ishlnsubmul(K,1,$);ve.negative===0&&(G=ve,L&&(L.words[$]=1));for(var ye=$-1;ye>=0;ye--){var se=(G.words[K.length+ye]|0)*67108864+(G.words[K.length+ye-1]|0);for(se=Math.min(se/Z|0,67108863),G._ishlnsubmul(K,se,ye);G.negative!==0;)se--,G.negative=0,G._ishlnsubmul(K,1,ye),G.isZero()||(G.negative^=1);L&&(L.words[ye]=se)}return L&&L._strip(),G._strip(),A!=="div"&&U!==0&&G.iushrn(U),{div:L||null,mod:G}},"_wordDiv"),i.prototype.divmod=a(function(v,A,U){if(r(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var G,K,Z;return this.negative!==0&&v.negative===0?(Z=this.neg().divmod(v,A),A!=="mod"&&(G=Z.div.neg()),A!=="div"&&(K=Z.mod.neg(),U&&K.negative!==0&&K.iadd(v)),{div:G,mod:K}):this.negative===0&&v.negative!==0?(Z=this.divmod(v.neg(),A),A!=="mod"&&(G=Z.div.neg()),{div:G,mod:Z.mod}):(this.negative&v.negative)!==0?(Z=this.neg().divmod(v.neg(),A),A!=="div"&&(K=Z.mod.neg(),U&&K.negative!==0&&K.isub(v)),{div:Z.div,mod:K}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?A==="div"?{div:this.divn(v.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modrn(v.words[0]))}:this._wordDiv(v,A)},"divmod"),i.prototype.div=a(function(v){return this.divmod(v,"div",!1).div},"div"),i.prototype.mod=a(function(v){return this.divmod(v,"mod",!1).mod},"mod"),i.prototype.umod=a(function(v){return this.divmod(v,"mod",!0).mod},"umod"),i.prototype.divRound=a(function(v){var A=this.divmod(v);if(A.mod.isZero())return A.div;var U=A.div.negative!==0?A.mod.isub(v):A.mod,G=v.ushrn(1),K=v.andln(1),Z=U.cmp(G);return Z<0||K===1&&Z===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},"divRound"),i.prototype.modrn=a(function(v){var A=v<0;A&&(v=-v),r(v<=67108863);for(var U=(1<<26)%v,G=0,K=this.length-1;K>=0;K--)G=(U*G+(this.words[K]|0))%v;return A?-G:G},"modrn"),i.prototype.modn=a(function(v){return this.modrn(v)},"modn"),i.prototype.idivn=a(function(v){var A=v<0;A&&(v=-v),r(v<=67108863);for(var U=0,G=this.length-1;G>=0;G--){var K=(this.words[G]|0)+U*67108864;this.words[G]=K/v|0,U=K%v}return this._strip(),A?this.ineg():this},"idivn"),i.prototype.divn=a(function(v){return this.clone().idivn(v)},"divn"),i.prototype.egcd=a(function(v){r(v.negative===0),r(!v.isZero());var A=this,U=v.clone();A.negative!==0?A=A.umod(v):A=A.clone();for(var G=new i(1),K=new i(0),Z=new i(0),O=new i(1),$=0;A.isEven()&&U.isEven();)A.iushrn(1),U.iushrn(1),++$;for(var L=U.clone(),ee=A.clone();!A.isZero();){for(var ve=0,ye=1;(A.words[0]&ye)===0&&ve<26;++ve,ye<<=1);if(ve>0)for(A.iushrn(ve);ve-- >0;)(G.isOdd()||K.isOdd())&&(G.iadd(L),K.isub(ee)),G.iushrn(1),K.iushrn(1);for(var se=0,be=1;(U.words[0]&be)===0&&se<26;++se,be<<=1);if(se>0)for(U.iushrn(se);se-- >0;)(Z.isOdd()||O.isOdd())&&(Z.iadd(L),O.isub(ee)),Z.iushrn(1),O.iushrn(1);A.cmp(U)>=0?(A.isub(U),G.isub(Z),K.isub(O)):(U.isub(A),Z.isub(G),O.isub(K))}return{a:Z,b:O,gcd:U.iushln($)}},"egcd"),i.prototype._invmp=a(function(v){r(v.negative===0),r(!v.isZero());var A=this,U=v.clone();A.negative!==0?A=A.umod(v):A=A.clone();for(var G=new i(1),K=new i(0),Z=U.clone();A.cmpn(1)>0&&U.cmpn(1)>0;){for(var O=0,$=1;(A.words[0]&$)===0&&O<26;++O,$<<=1);if(O>0)for(A.iushrn(O);O-- >0;)G.isOdd()&&G.iadd(Z),G.iushrn(1);for(var L=0,ee=1;(U.words[0]&ee)===0&&L<26;++L,ee<<=1);if(L>0)for(U.iushrn(L);L-- >0;)K.isOdd()&&K.iadd(Z),K.iushrn(1);A.cmp(U)>=0?(A.isub(U),G.isub(K)):(U.isub(A),K.isub(G))}var ve;return A.cmpn(1)===0?ve=G:ve=K,ve.cmpn(0)<0&&ve.iadd(v),ve},"_invmp"),i.prototype.gcd=a(function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var A=this.clone(),U=v.clone();A.negative=0,U.negative=0;for(var G=0;A.isEven()&&U.isEven();G++)A.iushrn(1),U.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;U.isEven();)U.iushrn(1);var K=A.cmp(U);if(K<0){var Z=A;A=U,U=Z}else if(K===0||U.cmpn(1)===0)break;A.isub(U)}while(!0);return U.iushln(G)},"gcd"),i.prototype.invm=a(function(v){return this.egcd(v).a.umod(v)},"invm"),i.prototype.isEven=a(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=a(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=a(function(v){return this.words[0]&v},"andln"),i.prototype.bincn=a(function(v){r(typeof v=="number");var A=v%26,U=(v-A)/26,G=1<<A;if(this.length<=U)return this._expand(U+1),this.words[U]|=G,this;for(var K=G,Z=U;K!==0&&Z<this.length;Z++){var O=this.words[Z]|0;O+=K,K=O>>>26,O&=67108863,this.words[Z]=O}return K!==0&&(this.words[Z]=K,this.length++),this},"bincn"),i.prototype.isZero=a(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=a(function(v){var A=v<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var U;if(this.length>1)U=1;else{A&&(v=-v),r(v<=67108863,"Number is too big");var G=this.words[0]|0;U=G===v?0:G<v?-1:1}return this.negative!==0?-U|0:U},"cmpn"),i.prototype.cmp=a(function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var A=this.ucmp(v);return this.negative!==0?-A|0:A},"cmp"),i.prototype.ucmp=a(function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var A=0,U=this.length-1;U>=0;U--){var G=this.words[U]|0,K=v.words[U]|0;if(G!==K){G<K?A=-1:G>K&&(A=1);break}}return A},"ucmp"),i.prototype.gtn=a(function(v){return this.cmpn(v)===1},"gtn"),i.prototype.gt=a(function(v){return this.cmp(v)===1},"gt"),i.prototype.gten=a(function(v){return this.cmpn(v)>=0},"gten"),i.prototype.gte=a(function(v){return this.cmp(v)>=0},"gte"),i.prototype.ltn=a(function(v){return this.cmpn(v)===-1},"ltn"),i.prototype.lt=a(function(v){return this.cmp(v)===-1},"lt"),i.prototype.lten=a(function(v){return this.cmpn(v)<=0},"lten"),i.prototype.lte=a(function(v){return this.cmp(v)<=0},"lte"),i.prototype.eqn=a(function(v){return this.cmpn(v)===0},"eqn"),i.prototype.eq=a(function(v){return this.cmp(v)===0},"eq"),i.red=a(function(v){return new x(v)},"red"),i.prototype.toRed=a(function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},"toRed"),i.prototype.fromRed=a(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=a(function(v){return this.red=v,this},"_forceRed"),i.prototype.forceRed=a(function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},"forceRed"),i.prototype.redAdd=a(function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},"redAdd"),i.prototype.redIAdd=a(function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},"redIAdd"),i.prototype.redSub=a(function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},"redSub"),i.prototype.redISub=a(function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},"redISub"),i.prototype.redShl=a(function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},"redShl"),i.prototype.redMul=a(function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},"redMul"),i.prototype.redIMul=a(function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},"redIMul"),i.prototype.redSqr=a(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=a(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=a(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=a(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=a(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=a(function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)},"redPow");var F={k256:null,p224:null,p192:null,p25519:null};function B(m,v){this.name=m,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(B,"MPrime"),B.prototype._tmp=a(function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},"_tmp"),B.prototype.ireduce=a(function(v){var A=v,U;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),U=A.bitLength();while(U>this.n);var G=U<this.n?-1:A.ucmp(this.p);return G===0?(A.words[0]=0,A.length=1):G>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},"ireduce"),B.prototype.split=a(function(v,A){v.iushrn(this.n,0,A)},"split"),B.prototype.imulK=a(function(v){return v.imul(this.k)},"imulK");function S(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(S,"K256"),n(S,B),S.prototype.split=a(function(v,A){for(var U=4194303,G=Math.min(v.length,9),K=0;K<G;K++)A.words[K]=v.words[K];if(A.length=G,v.length<=9){v.words[0]=0,v.length=1;return}var Z=v.words[9];for(A.words[A.length++]=Z&U,K=10;K<v.length;K++){var O=v.words[K]|0;v.words[K-10]=(O&U)<<4|Z>>>22,Z=O}Z>>>=22,v.words[K-10]=Z,Z===0&&v.length>10?v.length-=10:v.length-=9},"split"),S.prototype.imulK=a(function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var A=0,U=0;U<v.length;U++){var G=v.words[U]|0;A+=G*977,v.words[U]=A&67108863,A=G*64+(A/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},"imulK");function T(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(T,"P224"),n(T,B);function k(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(k,"P192"),n(k,B);function R(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(R,"P25519"),n(R,B),R.prototype.imulK=a(function(v){for(var A=0,U=0;U<v.length;U++){var G=(v.words[U]|0)*19+A,K=G&67108863;G>>>=26,v.words[U]=K,A=G}return A!==0&&(v.words[v.length++]=A),v},"imulK"),i._prime=a(function(v){if(F[v])return F[v];var A;if(v==="k256")A=new S;else if(v==="p224")A=new T;else if(v==="p192")A=new k;else if(v==="p25519")A=new R;else throw new Error("Unknown prime "+v);return F[v]=A,A},"prime");function x(m){if(typeof m=="string"){var v=i._prime(m);this.m=v.p,this.prime=v}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}a(x,"Red"),x.prototype._verify1=a(function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},"_verify1"),x.prototype._verify2=a(function(v,A){r((v.negative|A.negative)===0,"red works only with positives"),r(v.red&&v.red===A.red,"red works only with red numbers")},"_verify2"),x.prototype.imod=a(function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(f(v,v.umod(this.m)._forceRed(this)),v)},"imod"),x.prototype.neg=a(function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},"neg"),x.prototype.add=a(function(v,A){this._verify2(v,A);var U=v.add(A);return U.cmp(this.m)>=0&&U.isub(this.m),U._forceRed(this)},"add"),x.prototype.iadd=a(function(v,A){this._verify2(v,A);var U=v.iadd(A);return U.cmp(this.m)>=0&&U.isub(this.m),U},"iadd"),x.prototype.sub=a(function(v,A){this._verify2(v,A);var U=v.sub(A);return U.cmpn(0)<0&&U.iadd(this.m),U._forceRed(this)},"sub"),x.prototype.isub=a(function(v,A){this._verify2(v,A);var U=v.isub(A);return U.cmpn(0)<0&&U.iadd(this.m),U},"isub"),x.prototype.shl=a(function(v,A){return this._verify1(v),this.imod(v.ushln(A))},"shl"),x.prototype.imul=a(function(v,A){return this._verify2(v,A),this.imod(v.imul(A))},"imul"),x.prototype.mul=a(function(v,A){return this._verify2(v,A),this.imod(v.mul(A))},"mul"),x.prototype.isqr=a(function(v){return this.imul(v,v.clone())},"isqr"),x.prototype.sqr=a(function(v){return this.mul(v,v)},"sqr"),x.prototype.sqrt=a(function(v){if(v.isZero())return v.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var U=this.m.add(new i(1)).iushrn(2);return this.pow(v,U)}for(var G=this.m.subn(1),K=0;!G.isZero()&&G.andln(1)===0;)K++,G.iushrn(1);r(!G.isZero());var Z=new i(1).toRed(this),O=Z.redNeg(),$=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new i(2*L*L).toRed(this);this.pow(L,$).cmp(O)!==0;)L.redIAdd(O);for(var ee=this.pow(L,G),ve=this.pow(v,G.addn(1).iushrn(1)),ye=this.pow(v,G),se=K;ye.cmp(Z)!==0;){for(var be=ye,Y=0;be.cmp(Z)!==0;Y++)be=be.redSqr();r(Y<se);var D=this.pow(ee,new i(1).iushln(se-Y-1));ve=ve.redMul(D),ee=D.redSqr(),ye=ye.redMul(ee),se=Y}return ve},"sqrt"),x.prototype.invm=a(function(v){var A=v._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},"invm"),x.prototype.pow=a(function(v,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return v.clone();var U=4,G=new Array(1<<U);G[0]=new i(1).toRed(this),G[1]=v;for(var K=2;K<G.length;K++)G[K]=this.mul(G[K-1],v);var Z=G[0],O=0,$=0,L=A.bitLength()%26;for(L===0&&(L=26),K=A.length-1;K>=0;K--){for(var ee=A.words[K],ve=L-1;ve>=0;ve--){var ye=ee>>ve&1;if(Z!==G[0]&&(Z=this.sqr(Z)),ye===0&&O===0){$=0;continue}O<<=1,O|=ye,$++,!($!==U&&(K!==0||ve!==0))&&(Z=this.mul(Z,G[O]),$=0,O=0)}L=26}return Z},"pow"),x.prototype.convertTo=a(function(v){var A=v.umod(this.m);return A===v?A.clone():A},"convertTo"),x.prototype.convertFrom=a(function(v){var A=v.clone();return A.red=null,A},"convertFrom"),i.mont=a(function(v){return new N(v)},"mont");function N(m){x.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(N,"Mont"),n(N,x),N.prototype.convertTo=a(function(v){return this.imod(v.ushln(this.shift))},"convertTo"),N.prototype.convertFrom=a(function(v){var A=this.imod(v.mul(this.rinv));return A.red=null,A},"convertFrom"),N.prototype.imul=a(function(v,A){if(v.isZero()||A.isZero())return v.words[0]=0,v.length=1,v;var U=v.imul(A),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=U.isub(G).iushrn(this.shift),Z=K;return K.cmp(this.m)>=0?Z=K.isub(this.m):K.cmpn(0)<0&&(Z=K.iadd(this.m)),Z._forceRed(this)},"imul"),N.prototype.mul=a(function(v,A){if(v.isZero()||A.isZero())return new i(0)._forceRed(this);var U=v.mul(A),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=U.isub(G).iushrn(this.shift),Z=K;return K.cmp(this.m)>=0?Z=K.isub(this.m):K.cmpn(0)<0&&(Z=K.iadd(this.m)),Z._forceRed(this)},"mul"),N.prototype.invm=a(function(v){var A=this.imod(v._invmp(this.m).mul(this.r2));return A._forceRed(this)},"invm")})(typeof jL>"u"||jL,une)});var QA=j((Ler,$L)=>{d();var GL;$L.exports=a(function(t){return GL||(GL=new Bd(null)),GL.generate(t)},"rand");function Bd(e){this.rand=e}a(Bd,"Rand");$L.exports.Rand=Bd;Bd.prototype.generate=a(function(t){return this._rand(t)},"generate");Bd.prototype._rand=a(function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Bd.prototype._rand=a(function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?Bd.prototype._rand=a(function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof window=="object"&&(Bd.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(KL=Rd(),typeof KL.randomBytes!="function")throw new Error("Not supported");Bd.prototype._rand=a(function(t){return KL.randomBytes(t)},"_rand")}catch{}var KL});var XL=j((Oer,fne)=>{d();var Fp=zi(),qQe=QA();function Up(e){this.rand=e||new qQe.Rand}a(Up,"MillerRabin");fne.exports=Up;Up.create=a(function(t){return new Up(t)},"create");Up.prototype._randbelow=a(function(t){var r=t.bitLength(),n=Math.ceil(r/8);do var i=new Fp(this.rand.generate(n));while(i.cmp(t)>=0);return i},"_randbelow");Up.prototype._randrange=a(function(t,r){var n=r.sub(t);return t.add(this._randbelow(n))},"_randrange");Up.prototype.test=a(function(t,r,n){var i=t.bitLength(),s=Fp.mont(t),o=new Fp(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var l=t.subn(1),u=0;!l.testn(u);u++);for(var f=t.shrn(u),h=l.toRed(s),p=!0;r>0;r--){var g=this._randrange(new Fp(2),l);n&&n(g);var y=g.toRed(s).redPow(f);if(!(y.cmp(o)===0||y.cmp(h)===0)){for(var E=1;E<u;E++){if(y=y.redSqr(),y.cmp(o)===0)return!1;if(y.cmp(h)===0)break}if(E===u)return!1}}return p},"test");Up.prototype.getDivisor=a(function(t,r){var n=t.bitLength(),i=Fp.mont(t),s=new Fp(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var o=t.subn(1),l=0;!o.testn(l);l++);for(var u=t.shrn(l),f=o.toRed(i);r>0;r--){var h=this._randrange(new Fp(2),o),p=t.gcd(h);if(p.cmpn(1)!==0)return p;var g=h.toRed(i).redPow(u);if(!(g.cmp(s)===0||g.cmp(f)===0)){for(var y=1;y<l;y++){if(g=g.redSqr(),g.cmp(s)===0)return g.fromRed().subn(1).gcd(t);if(g.cmp(f)===0)break}if(y===l)return g=g.redSqr(),g.fromRed().subn(1).gcd(t)}}return!1},"getDivisor")});var nD=j((zer,pne)=>{d();var PQe=Tf();pne.exports=rD;rD.simpleSieve=eD;rD.fermatTest=tD;var as=zi(),FQe=new as(24),UQe=XL(),hne=new UQe,YQe=new as(1),ZL=new as(2),HQe=new as(5),Fer=new as(16),Uer=new as(8),zQe=new as(10),QQe=new as(3),Yer=new as(7),WQe=new as(11),dne=new as(4),Her=new as(12),JL=null;function VQe(){if(JL!==null)return JL;var e=1048576,t=[];t[0]=2;for(var r=1,n=3;n<e;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&t[s]<=i&&n%t[s]!==0;s++);r!==s&&t[s]<=i||(t[r++]=n)}return JL=t,t}a(VQe,"_getPrimes");function eD(e){for(var t=VQe(),r=0;r<t.length;r++)if(e.modn(t[r])===0)return e.cmpn(t[r])===0;return!0}a(eD,"simpleSieve");function tD(e){var t=as.mont(e);return ZL.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)===0}a(tD,"fermatTest");function rD(e,t){if(e<16)return t===2||t===5?new as([140,123]):new as([140,39]);t=new as(t);for(var r,n;;){for(r=new as(PQe(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(YQe),r.testn(1)||r.iadd(ZL),t.cmp(ZL)){if(!t.cmp(HQe))for(;r.mod(zQe).cmp(QQe);)r.iadd(dne)}else for(;r.mod(FQe).cmp(WQe);)r.iadd(dne);if(n=r.shrn(1),eD(n)&&eD(r)&&tD(n)&&tD(r)&&hne.test(n)&&hne.test(r))return r}}a(rD,"findPrime")});var gne=j((Ver,jQe)=>{jQe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var vne=j((jer,bne)=>{d();var Ic=zi(),GQe=XL(),yne=new GQe,KQe=new Ic(24),$Qe=new Ic(11),XQe=new Ic(10),JQe=new Ic(3),ZQe=new Ic(7),mne=nD(),eWe=Tf();bne.exports=Pf;function tWe(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this._pub=new Ic(e),this}a(tWe,"setPublicKey");function rWe(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this._priv=new Ic(e),this}a(rWe,"setPrivateKey");var WA={};function nWe(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in WA)return WA[n];var i=0;if(e.isEven()||!mne.simpleSieve||!mne.fermatTest(e)||!yne.test(e))return i+=1,r==="02"||r==="05"?i+=8:i+=4,WA[n]=i,i;yne.test(e.shrn(1))||(i+=2);var s;switch(r){case"02":e.mod(KQe).cmp($Qe)&&(i+=8);break;case"05":s=e.mod(XQe),s.cmp(JQe)&&s.cmp(ZQe)&&(i+=8);break;default:i+=4}return WA[n]=i,i}a(nWe,"checkPrime");function Pf(e,t,r){this.setGenerator(t),this.__prime=new Ic(e),this._prime=Ic.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=tWe,this.setPrivateKey=rWe):this._primeCode=8}a(Pf,"DH");Object.defineProperty(Pf.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=nWe(this.__prime,this.__gen)),this._primeCode}});Pf.prototype.generateKeys=function(){return this._priv||(this._priv=new Ic(eWe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Pf.prototype.computeSecret=function(e){e=new Ic(e),e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed(),r=new b.Buffer(t.toArray()),n=this.getPrime();if(r.length<n.length){var i=new b.Buffer(n.length-r.length);i.fill(0),r=b.Buffer.concat([i,r])}return r};Pf.prototype.getPublicKey=a(function(t){return VA(this._pub,t)},"getPublicKey");Pf.prototype.getPrivateKey=a(function(t){return VA(this._priv,t)},"getPrivateKey");Pf.prototype.getPrime=function(e){return VA(this.__prime,e)};Pf.prototype.getGenerator=function(e){return VA(this._gen,e)};Pf.prototype.setGenerator=function(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this.__gen=e,this._gen=new Ic(e),this};function VA(e,t){var r=new b.Buffer(e.toArray());return t?r.toString(t):r}a(VA,"formatReturnValue")});var wne=j(Py=>{d();var iWe=nD(),_ne=gne(),iD=vne();function aWe(e){var t=new b.Buffer(_ne[e].prime,"hex"),r=new b.Buffer(_ne[e].gen,"hex");return new iD(t,r)}a(aWe,"getDiffieHellman");var sWe={binary:!0,hex:!0,base64:!0};function xne(e,t,r,n){return b.Buffer.isBuffer(t)||sWe[t]===void 0?xne(e,"binary",t,r):(t=t||"binary",n=n||"binary",r=r||new b.Buffer([2]),b.Buffer.isBuffer(r)||(r=new b.Buffer(r,n)),typeof e=="number"?new iD(iWe(e,r),r,!0):(b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),new iD(e,r,!0)))}a(xne,"createDiffieHellman");Py.DiffieHellmanGroup=Py.createDiffieHellmanGroup=Py.getDiffieHellman=aWe;Py.createDiffieHellman=Py.DiffieHellman=xne});var jA=j((Zer,Sne)=>{d();var Fy=zi(),oWe=Tf();function cWe(e){var t=Ane(e),r=t.toRed(Fy.mont(e.modulus)).redPow(new Fy(e.publicExponent)).fromRed();return{blinder:r,unblinder:t.invm(e.modulus)}}a(cWe,"blind");function Ane(e){var t=e.modulus.byteLength(),r;do r=new Fy(oWe(t));while(r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2));return r}a(Ane,"getr");function Ene(e,t){var r=cWe(t),n=t.modulus.byteLength(),i=new Fy(e).mul(r.blinder).umod(t.modulus),s=i.toRed(Fy.mont(t.prime1)),o=i.toRed(Fy.mont(t.prime2)),l=t.coefficient,u=t.prime1,f=t.prime2,h=s.redPow(t.exponent1).fromRed(),p=o.redPow(t.exponent2).fromRed(),g=h.isub(p).imul(l).umod(u).imul(f);return p.iadd(g).imul(r.unblinder).umod(t.modulus).toArrayLike(b.Buffer,"be",n)}a(Ene,"crt");Ene.getr=Ane;Sne.exports=Ene});var kne=j((rtr,lWe)=>{lWe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var aD=j(Tne=>{"use strict";d();var GA=Tne;function uWe(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e!="string"){for(var n=0;n<e.length;n++)r[n]=e[n]|0;return r}if(t==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=i&255;s?r.push(s,o):r.push(o)}return r}a(uWe,"toArray");GA.toArray=uWe;function Cne(e){return e.length===1?"0"+e:e}a(Cne,"zero2");GA.zero2=Cne;function Ine(e){for(var t="",r=0;r<e.length;r++)t+=Cne(e[r].toString(16));return t}a(Ine,"toHex");GA.toHex=Ine;GA.encode=a(function(t,r){return r==="hex"?Ine(t):t},"encode")});var Ho=j(Mne=>{"use strict";d();var hl=Mne,fWe=zi(),hWe=Yo(),KA=aD();hl.assert=hWe;hl.toArray=KA.toArray;hl.zero2=KA.zero2;hl.toHex=KA.toHex;hl.encode=KA.encode;function dWe(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var l,u=s.andln(i-1);s.isOdd()?(u>(i>>1)-1?l=(i>>1)-u:l=u,s.isubn(l)):l=0,n[o]=l,s.iushrn(1)}return n}a(dWe,"getNAF");hl.getNAF=dWe;function pWe(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0,s;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,l=t.andln(3)+i&3;o===3&&(o=-1),l===3&&(l=-1);var u;(o&1)===0?u=0:(s=e.andln(7)+n&7,(s===3||s===5)&&l===2?u=-o:u=o),r[0].push(u);var f;(l&1)===0?f=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?f=-l:f=l),r[1].push(f),2*n===u+1&&(n=1-n),2*i===f+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}a(pWe,"getJSF");hl.getJSF=pWe;function gWe(e,t,r){var n="_"+t;e.prototype[t]=a(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}a(gWe,"cachedProperty");hl.cachedProperty=gWe;function yWe(e){return typeof e=="string"?hl.toArray(e,"hex"):e}a(yWe,"parseBytes");hl.parseBytes=yWe;function mWe(e){return new fWe(e,"hex","le")}a(mWe,"intFromLE");hl.intFromLE=mWe});var N_=j((ltr,Bne)=>{"use strict";d();var Yp=zi(),D_=Ho(),$A=D_.getNAF,bWe=D_.getJSF,XA=D_.assert;function Ld(e,t){this.type=e,this.p=new Yp(t.p,16),this.red=t.prime?Yp.red(t.prime):Yp.mont(this.p),this.zero=new Yp(0).toRed(this.red),this.one=new Yp(1).toRed(this.red),this.two=new Yp(2).toRed(this.red),this.n=t.n&&new Yp(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a(Ld,"BaseCurve");Bne.exports=Ld;Ld.prototype.point=a(function(){throw new Error("Not implemented")},"point");Ld.prototype.validate=a(function(){throw new Error("Not implemented")},"validate");Ld.prototype._fixedNafMul=a(function(t,r){XA(t.precomputed);var n=t._getDoubles(),i=$A(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],l,u;for(l=0;l<i.length;l+=n.step){u=0;for(var f=l+n.step-1;f>=l;f--)u=(u<<1)+i[f];o.push(u)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),g=s;g>0;g--){for(l=0;l<o.length;l++)u=o[l],u===g?p=p.mixedAdd(n.points[l]):u===-g&&(p=p.mixedAdd(n.points[l].neg()));h=h.add(p)}return h.toP()},"_fixedNafMul");Ld.prototype._wnafMul=a(function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=$A(r,n,this._bitLength),l=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var f=0;u>=0&&o[u]===0;u--)f++;if(u>=0&&f++,l=l.dblp(f),u<0)break;var h=o[u];XA(h!==0),t.type==="affine"?h>0?l=l.mixedAdd(s[h-1>>1]):l=l.mixedAdd(s[-h-1>>1].neg()):h>0?l=l.add(s[h-1>>1]):l=l.add(s[-h-1>>1].neg())}return t.type==="affine"?l.toP():l},"_wnafMul");Ld.prototype._wnafMulAdd=a(function(t,r,n,i,s){var o=this._wnafT1,l=this._wnafT2,u=this._wnafT3,f=0,h,p,g;for(h=0;h<i;h++){g=r[h];var y=g._getNAFPoints(t);o[h]=y.wnd,l[h]=y.points}for(h=i-1;h>=1;h-=2){var E=h-1,M=h;if(o[E]!==1||o[M]!==1){u[E]=$A(n[E],o[E],this._bitLength),u[M]=$A(n[M],o[M],this._bitLength),f=Math.max(u[E].length,f),f=Math.max(u[M].length,f);continue}var z=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(z[1]=r[E].add(r[M]),z[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(z[1]=r[E].toJ().mixedAdd(r[M]),z[2]=r[E].add(r[M].neg())):(z[1]=r[E].toJ().mixedAdd(r[M]),z[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],Q=bWe(n[E],n[M]);for(f=Math.max(Q[0].length,f),u[E]=new Array(f),u[M]=new Array(f),p=0;p<f;p++){var V=Q[0][p]|0,W=Q[1][p]|0;u[E][p]=P[(V+1)*3+(W+1)],u[M][p]=0,l[E]=z}}var F=this.jpoint(null,null,null),B=this._wnafT4;for(h=f;h>=0;h--){for(var S=0;h>=0;){var T=!0;for(p=0;p<i;p++)B[p]=u[p][h]|0,B[p]!==0&&(T=!1);if(!T)break;S++,h--}if(h>=0&&S++,F=F.dblp(S),h<0)break;for(p=0;p<i;p++){var k=B[p];k!==0&&(k>0?g=l[p][k-1>>1]:k<0&&(g=l[p][-k-1>>1].neg()),g.type==="affine"?F=F.mixedAdd(g):F=F.add(g))}}for(h=0;h<i;h++)l[h]=null;return s?F:F.toP()},"_wnafMulAdd");function Tc(e,t){this.curve=e,this.type=t,this.precomputed=null}a(Tc,"BasePoint");Ld.BasePoint=Tc;Tc.prototype.eq=a(function(){throw new Error("Not implemented")},"eq");Tc.prototype.validate=a(function(){return this.curve.validate(this)},"validate");Ld.prototype.decodePoint=a(function(t,r){t=D_.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?XA(t[t.length-1]%2===0):t[0]===7&&XA(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")},"decodePoint");Tc.prototype.encodeCompressed=a(function(t){return this.encode(t,!0)},"encodeCompressed");Tc.prototype._encode=a(function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Tc.prototype.encode=a(function(t,r){return D_.encode(this._encode(r),t)},"encode");Tc.prototype.precompute=a(function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Tc.prototype._hasDoubles=a(function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1},"_hasDoubles");Tc.prototype._getDoubles=a(function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}},"_getDoubles");Tc.prototype._getNAFPoints=a(function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}},"_getNAFPoints");Tc.prototype._getBeta=a(function(){return null},"_getBeta");Tc.prototype.dblp=a(function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r},"dblp")});var Lne=j((htr,Rne)=>{"use strict";d();var vWe=Ho(),Qi=zi(),sD=kr(),Uy=N_(),_We=vWe.assert;function Mc(e){Uy.call(this,"short",e),this.a=new Qi(e.a,16).toRed(this.red),this.b=new Qi(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(Mc,"ShortCurve");sD(Mc,Uy);Rne.exports=Mc;Mc.prototype._getEndomorphism=a(function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Qi(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new Qi(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],_We(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(l){return{a:new Qi(l.a,16),b:new Qi(l.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}},"_getEndomorphism");Mc.prototype._getEndoRoots=a(function(t){var r=t===this.p?this.red:Qi.mont(t),n=new Qi(2).toRed(r).redInvm(),i=n.redNeg(),s=new Qi(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),l=i.redSub(s).fromRed();return[o,l]},"_getEndoRoots");Mc.prototype._getEndoBasis=a(function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new Qi(1),o=new Qi(0),l=new Qi(0),u=new Qi(1),f,h,p,g,y,E,M,z=0,P,Q;n.cmpn(0)!==0;){var V=i.div(n);P=i.sub(V.mul(n)),Q=l.sub(V.mul(s));var W=u.sub(V.mul(o));if(!p&&P.cmp(r)<0)f=M.neg(),h=s,p=P.neg(),g=Q;else if(p&&++z===2)break;M=P,i=n,n=P,l=s,s=Q,u=o,o=W}y=P.neg(),E=Q;var F=p.sqr().add(g.sqr()),B=y.sqr().add(E.sqr());return B.cmp(F)>=0&&(y=f,E=h),p.negative&&(p=p.neg(),g=g.neg()),y.negative&&(y=y.neg(),E=E.neg()),[{a:p,b:g},{a:y,b:E}]},"_getEndoBasis");Mc.prototype._endoSplit=a(function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),l=s.mul(n.a),u=o.mul(i.a),f=s.mul(n.b),h=o.mul(i.b),p=t.sub(l).sub(u),g=f.add(h).neg();return{k1:p,k2:g}},"_endoSplit");Mc.prototype.pointFromX=a(function(t,r){t=new Qi(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)},"pointFromX");Mc.prototype.validate=a(function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Mc.prototype._endoWnafMulAdd=a(function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var l=this._endoSplit(r[o]),u=t[o],f=u._getBeta();l.k1.negative&&(l.k1.ineg(),u=u.neg(!0)),l.k2.negative&&(l.k2.ineg(),f=f.neg(!0)),i[o*2]=u,i[o*2+1]=f,s[o*2]=l.k1,s[o*2+1]=l.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h},"_endoWnafMulAdd");function ja(e,t,r,n){Uy.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qi(t,16),this.y=new Qi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(ja,"Point");sD(ja,Uy.BasePoint);Mc.prototype.point=a(function(t,r,n){return new ja(this,t,r,n)},"point");Mc.prototype.pointFromJSON=a(function(t,r){return ja.fromJSON(this,t,r)},"pointFromJSON");ja.prototype._getBeta=a(function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=a(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}},"_getBeta");ja.prototype.toJSON=a(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");ja.fromJSON=a(function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(l){return t.point(l[0],l[1],n)}a(s,"obj2point");var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i},"fromJSON");ja.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");ja.prototype.isInfinity=a(function(){return this.inf},"isInfinity");ja.prototype.add=a(function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");ja.prototype.dbl=a(function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),l=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,l)},"dbl");ja.prototype.getX=a(function(){return this.x.fromRed()},"getX");ja.prototype.getY=a(function(){return this.y.fromRed()},"getY");ja.prototype.mul=a(function(t){return t=new Qi(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},"mul");ja.prototype.mulAdd=a(function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");ja.prototype.jmulAdd=a(function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");ja.prototype.eq=a(function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},"eq");ja.prototype.neg=a(function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=a(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");ja.prototype.toJ=a(function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t},"toJ");function ss(e,t,r,n){Uy.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qi(0)):(this.x=new Qi(t,16),this.y=new Qi(r,16),this.z=new Qi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(ss,"JPoint");sD(ss,Uy.BasePoint);Mc.prototype.jpoint=a(function(t,r,n){return new ss(this,t,r,n)},"jpoint");ss.prototype.toP=a(function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)},"toP");ss.prototype.neg=a(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ss.prototype.add=a(function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),l=t.y.redMul(n.redMul(this.z)),u=i.redSub(s),f=o.redSub(l);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),p=h.redMul(u),g=i.redMul(h),y=f.redSqr().redIAdd(p).redISub(g).redISub(g),E=f.redMul(g.redISub(y)).redISub(o.redMul(p)),M=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(y,E,M)},"add");ss.prototype.mixedAdd=a(function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),l=n.redSub(i),u=s.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=l.redSqr(),h=f.redMul(l),p=n.redMul(f),g=u.redSqr().redIAdd(h).redISub(p).redISub(p),y=u.redMul(p.redISub(g)).redISub(s.redMul(h)),E=this.z.redMul(l);return this.curve.jpoint(g,y,E)},"mixedAdd");ss.prototype.dblp=a(function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,l=this.y,u=this.z,f=u.redSqr().redSqr(),h=l.redAdd(l);for(r=0;r<t;r++){var p=o.redSqr(),g=h.redSqr(),y=g.redSqr(),E=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(f)),M=o.redMul(g),z=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(z),Q=E.redMul(P);Q=Q.redIAdd(Q).redISub(y);var V=h.redMul(u);r+1<t&&(f=f.redMul(y)),o=z,u=V,h=Q}return this.curve.jpoint(o,h.redMul(s),u)},"dblp");ss.prototype.dbl=a(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ss.prototype._zeroDbl=a(function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),l=this.x.redAdd(s).redSqr().redISub(i).redISub(o);l=l.redIAdd(l);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(l).redISub(l),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),t=f,r=u.redMul(l.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),E=this.x.redAdd(g).redSqr().redISub(p).redISub(y);E=E.redIAdd(E);var M=p.redAdd(p).redIAdd(p),z=M.redSqr(),P=y.redIAdd(y);P=P.redIAdd(P),P=P.redIAdd(P),t=z.redISub(E).redISub(E),r=M.redMul(E.redISub(t)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)},"_zeroDbl");ss.prototype._threeDbl=a(function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),l=this.x.redAdd(s).redSqr().redISub(i).redISub(o);l=l.redIAdd(l);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(l).redISub(l);t=f;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=u.redMul(l.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),E=this.x.redSub(p).redMul(this.x.redAdd(p));E=E.redAdd(E).redIAdd(E);var M=y.redIAdd(y);M=M.redIAdd(M);var z=M.redAdd(M);t=E.redSqr().redISub(z),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(p);var P=g.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(t)).redISub(P)}return this.curve.jpoint(t,r,n)},"_threeDbl");ss.prototype._dbl=a(function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),l=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var h=f.redMul(l),p=u.redSqr().redISub(h.redAdd(h)),g=h.redISub(p),y=l.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var E=u.redMul(g).redISub(y),M=n.redAdd(n).redMul(i);return this.curve.jpoint(p,E,M)},"_dbl");ss.prototype.trpl=a(function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),l=this.x.redAdd(r).redSqr().redISub(t).redISub(i);l=l.redIAdd(l),l=l.redAdd(l).redIAdd(l),l=l.redISub(o);var u=l.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var h=s.redIAdd(l).redSqr().redISub(o).redISub(u).redISub(f),p=r.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.x.redMul(u).redISub(p);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(h.redMul(f.redISub(h)).redISub(l.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var E=this.z.redAdd(l).redSqr().redISub(n).redISub(u);return this.curve.jpoint(g,y,E)},"trpl");ss.prototype.mul=a(function(t,r){return t=new Qi(t,r),this.curve._wnafMul(this,t)},"mul");ss.prototype.eq=a(function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0},"eq");ss.prototype.eqXToP=a(function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ss.prototype.inspect=a(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ss.prototype.isInfinity=a(function(){return this.z.cmpn(0)===0},"isInfinity")});var One=j((gtr,Nne)=>{"use strict";d();var Yy=zi(),Dne=kr(),JA=N_(),xWe=Ho();function Hy(e){JA.call(this,"mont",e),this.a=new Yy(e.a,16).toRed(this.red),this.b=new Yy(e.b,16).toRed(this.red),this.i4=new Yy(4).toRed(this.red).redInvm(),this.two=new Yy(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(Hy,"MontCurve");Dne(Hy,JA);Nne.exports=Hy;Hy.prototype.validate=a(function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Ga(e,t,r){JA.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Yy(t,16),this.z=new Yy(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(Ga,"Point");Dne(Ga,JA.BasePoint);Hy.prototype.decodePoint=a(function(t,r){return this.point(xWe.toArray(t,r),1)},"decodePoint");Hy.prototype.point=a(function(t,r){return new Ga(this,t,r)},"point");Hy.prototype.pointFromJSON=a(function(t){return Ga.fromJSON(this,t)},"pointFromJSON");Ga.prototype.precompute=a(function(){},"precompute");Ga.prototype._encode=a(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Ga.fromJSON=a(function(t,r){return new Ga(t,r[0],r[1]||t.one)},"fromJSON");Ga.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Ga.prototype.isInfinity=a(function(){return this.z.cmpn(0)===0},"isInfinity");Ga.prototype.dbl=a(function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),l=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,l)},"dbl");Ga.prototype.add=a(function(){throw new Error("Not supported on Montgomery curve")},"add");Ga.prototype.diffAdd=a(function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),l=o.redMul(n),u=s.redMul(i),f=r.z.redMul(l.redAdd(u).redSqr()),h=r.x.redMul(l.redISub(u).redSqr());return this.curve.point(f,h)},"diffAdd");Ga.prototype.mul=a(function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var l=o.length-1;l>=0;l--)o[l]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Ga.prototype.mulAdd=a(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Ga.prototype.jumlAdd=a(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Ga.prototype.eq=a(function(t){return this.getX().cmp(t.getX())===0},"eq");Ga.prototype.normalize=a(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Ga.prototype.getX=a(function(){return this.normalize(),this.x.fromRed()},"getX")});var Fne=j((btr,Pne)=>{"use strict";d();var wWe=Ho(),Ff=zi(),qne=kr(),ZA=N_(),AWe=wWe.assert;function pu(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,ZA.call(this,"edwards",e),this.a=new Ff(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ff(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ff(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),AWe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}a(pu,"EdwardsCurve");qne(pu,ZA);Pne.exports=pu;pu.prototype._mulA=a(function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},"_mulA");pu.prototype._mulC=a(function(t){return this.oneC?t:this.c.redMul(t)},"_mulC");pu.prototype.jpoint=a(function(t,r,n,i){return this.point(t,r,n,i)},"jpoint");pu.prototype.pointFromX=a(function(t,r){t=new Ff(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),l=o.redSqrt();if(l.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=l.fromRed().isOdd();return(r&&!u||!r&&u)&&(l=l.redNeg()),this.point(t,l)},"pointFromX");pu.prototype.pointFromY=a(function(t,r){t=new Ff(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var l=o.redSqrt();if(l.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return l.fromRed().isOdd()!==r&&(l=l.redNeg()),this.point(l,t)},"pointFromY");pu.prototype.validate=a(function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function yi(e,t,r,n,i){ZA.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ff(t,16),this.y=new Ff(r,16),this.z=n?new Ff(n,16):this.curve.one,this.t=i&&new Ff(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(yi,"Point");qne(yi,ZA.BasePoint);pu.prototype.pointFromJSON=a(function(t){return yi.fromJSON(this,t)},"pointFromJSON");pu.prototype.point=a(function(t,r,n,i){return new yi(this,t,r,n,i)},"point");yi.fromJSON=a(function(t,r){return new yi(t,r[0],r[1],r[2])},"fromJSON");yi.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");yi.prototype.isInfinity=a(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");yi.prototype._extDbl=a(function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),l=o.redSub(n),u=i.redSub(r),f=s.redMul(l),h=o.redMul(u),p=s.redMul(u),g=l.redMul(o);return this.curve.point(f,h,g,p)},"_extDbl");yi.prototype._projDbl=a(function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,l,u,f;if(this.curve.twisted){l=this.curve._mulA(r);var h=l.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(h.redSub(this.curve.two)),s=h.redMul(l.redSub(n)),o=h.redSqr().redSub(h).redSub(h)):(u=this.z.redSqr(),f=h.redSub(u).redISub(u),i=t.redSub(r).redISub(n).redMul(f),s=h.redMul(l.redSub(n)),o=h.redMul(f))}else l=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=l.redSub(u).redSub(u),i=this.curve._mulC(t.redISub(l)).redMul(f),s=this.curve._mulC(l).redMul(r.redISub(n)),o=l.redMul(f);return this.curve.point(i,s,o)},"_projDbl");yi.prototype.dbl=a(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");yi.prototype._extAdd=a(function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),l=s.redSub(i),u=s.redAdd(i),f=n.redAdd(r),h=o.redMul(l),p=u.redMul(f),g=o.redMul(f),y=l.redMul(u);return this.curve.point(h,p,y,g)},"_extAdd");yi.prototype._projAdd=a(function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),l=n.redSub(o),u=n.redAdd(o),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),h=r.redMul(l).redMul(f),p,g;return this.curve.twisted?(p=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),g=l.redMul(u)):(p=r.redMul(u).redMul(s.redSub(i)),g=this.curve._mulC(l).redMul(u)),this.curve.point(h,p,g)},"_projAdd");yi.prototype.add=a(function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},"add");yi.prototype.mul=a(function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},"mul");yi.prototype.mulAdd=a(function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)},"mulAdd");yi.prototype.jmulAdd=a(function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)},"jmulAdd");yi.prototype.normalize=a(function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},"normalize");yi.prototype.neg=a(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");yi.prototype.getX=a(function(){return this.normalize(),this.x.fromRed()},"getX");yi.prototype.getY=a(function(){return this.normalize(),this.y.fromRed()},"getY");yi.prototype.eq=a(function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},"eq");yi.prototype.eqXToP=a(function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");yi.prototype.toP=yi.prototype.normalize;yi.prototype.mixedAdd=yi.prototype.add});var oD=j(Une=>{"use strict";d();var e8=Une;e8.base=N_();e8.short=Lne();e8.mont=One();e8.edwards=Fne()});var dl=j(hi=>{"use strict";d();var EWe=Yo(),SWe=kr();hi.inherits=SWe;function kWe(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}a(kWe,"isSurrogatePair");function CWe(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):kWe(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}a(CWe,"toArray");hi.toArray=CWe;function IWe(e){for(var t="",r=0;r<e.length;r++)t+=Hne(e[r].toString(16));return t}a(IWe,"toHex");hi.toHex=IWe;function Yne(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}a(Yne,"htonl");hi.htonl=Yne;function TWe(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=Yne(i)),r+=zne(i.toString(16))}return r}a(TWe,"toHex32");hi.toHex32=TWe;function Hne(e){return e.length===1?"0"+e:e}a(Hne,"zero2");hi.zero2=Hne;function zne(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}a(zne,"zero8");hi.zero8=zne;function MWe(e,t,r,n){var i=r-t;EWe(i%4===0);for(var s=new Array(i/4),o=0,l=t;o<s.length;o++,l+=4){var u;n==="big"?u=e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:u=e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[o]=u>>>0}return s}a(MWe,"join32");hi.join32=MWe;function BWe(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}a(BWe,"split32");hi.split32=BWe;function RWe(e,t){return e>>>t|e<<32-t}a(RWe,"rotr32");hi.rotr32=RWe;function LWe(e,t){return e<<t|e>>>32-t}a(LWe,"rotl32");hi.rotl32=LWe;function DWe(e,t){return e+t>>>0}a(DWe,"sum32");hi.sum32=DWe;function NWe(e,t,r){return e+t+r>>>0}a(NWe,"sum32_3");hi.sum32_3=NWe;function OWe(e,t,r,n){return e+t+r+n>>>0}a(OWe,"sum32_4");hi.sum32_4=OWe;function qWe(e,t,r,n,i){return e+t+r+n+i>>>0}a(qWe,"sum32_5");hi.sum32_5=qWe;function PWe(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,l=(o<n?1:0)+r+i;e[t]=l>>>0,e[t+1]=o}a(PWe,"sum64");hi.sum64=PWe;function FWe(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}a(FWe,"sum64_hi");hi.sum64_hi=FWe;function UWe(e,t,r,n){var i=t+n;return i>>>0}a(UWe,"sum64_lo");hi.sum64_lo=UWe;function YWe(e,t,r,n,i,s,o,l){var u=0,f=t;f=f+n>>>0,u+=f<t?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+l>>>0,u+=f<l?1:0;var h=e+r+i+o+u;return h>>>0}a(YWe,"sum64_4_hi");hi.sum64_4_hi=YWe;function HWe(e,t,r,n,i,s,o,l){var u=t+n+s+l;return u>>>0}a(HWe,"sum64_4_lo");hi.sum64_4_lo=HWe;function zWe(e,t,r,n,i,s,o,l,u,f){var h=0,p=t;p=p+n>>>0,h+=p<t?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+l>>>0,h+=p<l?1:0,p=p+f>>>0,h+=p<f?1:0;var g=e+r+i+o+u+h;return g>>>0}a(zWe,"sum64_5_hi");hi.sum64_5_hi=zWe;function QWe(e,t,r,n,i,s,o,l,u,f){var h=t+n+s+l+f;return h>>>0}a(QWe,"sum64_5_lo");hi.sum64_5_lo=QWe;function WWe(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}a(WWe,"rotr64_hi");hi.rotr64_hi=WWe;function VWe(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}a(VWe,"rotr64_lo");hi.rotr64_lo=VWe;function jWe(e,t,r){return e>>>r}a(jWe,"shr64_hi");hi.shr64_hi=jWe;function GWe(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}a(GWe,"shr64_lo");hi.shr64_lo=GWe});var zy=j(Wne=>{"use strict";d();var Qne=dl(),KWe=Yo();function t8(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a(t8,"BlockHash");Wne.BlockHash=t8;t8.prototype.update=a(function(t,r){if(t=Qne.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Qne.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},"update");t8.prototype.digest=a(function(t){return this.update(this._pad()),KWe(this.pending===null),this._digest(t)},"digest");t8.prototype._pad=a(function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i},"pad")});var cD=j(Uf=>{"use strict";d();var $We=dl(),gu=$We.rotr32;function XWe(e,t,r,n){if(e===0)return Vne(t,r,n);if(e===1||e===3)return Gne(t,r,n);if(e===2)return jne(t,r,n)}a(XWe,"ft_1");Uf.ft_1=XWe;function Vne(e,t,r){return e&t^~e&r}a(Vne,"ch32");Uf.ch32=Vne;function jne(e,t,r){return e&t^e&r^t&r}a(jne,"maj32");Uf.maj32=jne;function Gne(e,t,r){return e^t^r}a(Gne,"p32");Uf.p32=Gne;function JWe(e){return gu(e,2)^gu(e,13)^gu(e,22)}a(JWe,"s0_256");Uf.s0_256=JWe;function ZWe(e){return gu(e,6)^gu(e,11)^gu(e,25)}a(ZWe,"s1_256");Uf.s1_256=ZWe;function eVe(e){return gu(e,7)^gu(e,18)^e>>>3}a(eVe,"g0_256");Uf.g0_256=eVe;function tVe(e){return gu(e,17)^gu(e,19)^e>>>10}a(tVe,"g1_256");Uf.g1_256=tVe});var Xne=j((Rtr,$ne)=>{"use strict";d();var Qy=dl(),rVe=zy(),nVe=cD(),lD=Qy.rotl32,O_=Qy.sum32,iVe=Qy.sum32_5,aVe=nVe.ft_1,Kne=rVe.BlockHash,sVe=[1518500249,1859775393,2400959708,3395469782];function yu(){if(!(this instanceof yu))return new yu;Kne.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a(yu,"SHA1");Qy.inherits(yu,Kne);$ne.exports=yu;yu.blockSize=512;yu.outSize=160;yu.hmacStrength=80;yu.padLength=64;yu.prototype._update=a(function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=lD(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],l=this.h[2],u=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),p=iVe(lD(s,5),aVe(h,o,l,u),f,n[i],sVe[h]);f=u,u=l,l=lD(o,30),o=s,s=p}this.h[0]=O_(this.h[0],s),this.h[1]=O_(this.h[1],o),this.h[2]=O_(this.h[2],l),this.h[3]=O_(this.h[3],u),this.h[4]=O_(this.h[4],f)},"_update");yu.prototype._digest=a(function(t){return t==="hex"?Qy.toHex32(this.h,"big"):Qy.split32(this.h,"big")},"digest")});var uD=j((Ntr,Zne)=>{"use strict";d();var Wy=dl(),oVe=zy(),Vy=cD(),cVe=Yo(),pl=Wy.sum32,lVe=Wy.sum32_4,uVe=Wy.sum32_5,fVe=Vy.ch32,hVe=Vy.maj32,dVe=Vy.s0_256,pVe=Vy.s1_256,gVe=Vy.g0_256,yVe=Vy.g1_256,Jne=oVe.BlockHash,mVe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mu(){if(!(this instanceof mu))return new mu;Jne.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=mVe,this.W=new Array(64)}a(mu,"SHA256");Wy.inherits(mu,Jne);Zne.exports=mu;mu.blockSize=512;mu.outSize=256;mu.hmacStrength=192;mu.padLength=64;mu.prototype._update=a(function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=lVe(yVe(n[i-2]),n[i-7],gVe(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],l=this.h[2],u=this.h[3],f=this.h[4],h=this.h[5],p=this.h[6],g=this.h[7];for(cVe(this.k.length===n.length),i=0;i<n.length;i++){var y=uVe(g,pVe(f),fVe(f,h,p),this.k[i],n[i]),E=pl(dVe(s),hVe(s,o,l));g=p,p=h,h=f,f=pl(u,y),u=l,l=o,o=s,s=pl(y,E)}this.h[0]=pl(this.h[0],s),this.h[1]=pl(this.h[1],o),this.h[2]=pl(this.h[2],l),this.h[3]=pl(this.h[3],u),this.h[4]=pl(this.h[4],f),this.h[5]=pl(this.h[5],h),this.h[6]=pl(this.h[6],p),this.h[7]=pl(this.h[7],g)},"_update");mu.prototype._digest=a(function(t){return t==="hex"?Wy.toHex32(this.h,"big"):Wy.split32(this.h,"big")},"digest")});var rie=j((Ptr,tie)=>{"use strict";d();var fD=dl(),eie=uD();function Yf(){if(!(this instanceof Yf))return new Yf;eie.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a(Yf,"SHA224");fD.inherits(Yf,eie);tie.exports=Yf;Yf.blockSize=512;Yf.outSize=224;Yf.hmacStrength=192;Yf.padLength=64;Yf.prototype._digest=a(function(t){return t==="hex"?fD.toHex32(this.h.slice(0,7),"big"):fD.split32(this.h.slice(0,7),"big")},"digest")});var pD=j((Ytr,sie)=>{"use strict";d();var bo=dl(),bVe=zy(),vVe=Yo(),bu=bo.rotr64_hi,vu=bo.rotr64_lo,nie=bo.shr64_hi,iie=bo.shr64_lo,Dd=bo.sum64,hD=bo.sum64_hi,dD=bo.sum64_lo,_Ve=bo.sum64_4_hi,xVe=bo.sum64_4_lo,wVe=bo.sum64_5_hi,AVe=bo.sum64_5_lo,aie=bVe.BlockHash,EVe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gl(){if(!(this instanceof gl))return new gl;aie.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=EVe,this.W=new Array(160)}a(gl,"SHA512");bo.inherits(gl,aie);sie.exports=gl;gl.blockSize=1024;gl.outSize=512;gl.hmacStrength=192;gl.padLength=128;gl.prototype._prepareBlock=a(function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=NVe(n[i-4],n[i-3]),o=OVe(n[i-4],n[i-3]),l=n[i-14],u=n[i-13],f=LVe(n[i-30],n[i-29]),h=DVe(n[i-30],n[i-29]),p=n[i-32],g=n[i-31];n[i]=_Ve(s,o,l,u,f,h,p,g),n[i+1]=xVe(s,o,l,u,f,h,p,g)}},"_prepareBlock");gl.prototype._update=a(function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4],f=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],E=this.h[10],M=this.h[11],z=this.h[12],P=this.h[13],Q=this.h[14],V=this.h[15];vVe(this.k.length===n.length);for(var W=0;W<n.length;W+=2){var F=Q,B=V,S=BVe(g,y),T=RVe(g,y),k=SVe(g,y,E,M,z,P),R=kVe(g,y,E,M,z,P),x=this.k[W],N=this.k[W+1],m=n[W],v=n[W+1],A=wVe(F,B,S,T,k,R,x,N,m,v),U=AVe(F,B,S,T,k,R,x,N,m,v);F=TVe(i,s),B=MVe(i,s),S=CVe(i,s,o,l,u,f),T=IVe(i,s,o,l,u,f);var G=hD(F,B,S,T),K=dD(F,B,S,T);Q=z,V=P,z=E,P=M,E=g,M=y,g=hD(h,p,A,U),y=dD(p,p,A,U),h=u,p=f,u=o,f=l,o=i,l=s,i=hD(A,U,G,K),s=dD(A,U,G,K)}Dd(this.h,0,i,s),Dd(this.h,2,o,l),Dd(this.h,4,u,f),Dd(this.h,6,h,p),Dd(this.h,8,g,y),Dd(this.h,10,E,M),Dd(this.h,12,z,P),Dd(this.h,14,Q,V)},"_update");gl.prototype._digest=a(function(t){return t==="hex"?bo.toHex32(this.h,"big"):bo.split32(this.h,"big")},"digest");function SVe(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}a(SVe,"ch64_hi");function kVe(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}a(kVe,"ch64_lo");function CVe(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}a(CVe,"maj64_hi");function IVe(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}a(IVe,"maj64_lo");function TVe(e,t){var r=bu(e,t,28),n=bu(t,e,2),i=bu(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(TVe,"s0_512_hi");function MVe(e,t){var r=vu(e,t,28),n=vu(t,e,2),i=vu(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(MVe,"s0_512_lo");function BVe(e,t){var r=bu(e,t,14),n=bu(e,t,18),i=bu(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(BVe,"s1_512_hi");function RVe(e,t){var r=vu(e,t,14),n=vu(e,t,18),i=vu(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(RVe,"s1_512_lo");function LVe(e,t){var r=bu(e,t,1),n=bu(e,t,8),i=nie(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(LVe,"g0_512_hi");function DVe(e,t){var r=vu(e,t,1),n=vu(e,t,8),i=iie(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(DVe,"g0_512_lo");function NVe(e,t){var r=bu(e,t,19),n=bu(t,e,29),i=nie(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(NVe,"g1_512_hi");function OVe(e,t){var r=vu(e,t,19),n=vu(t,e,29),i=iie(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(OVe,"g1_512_lo")});var lie=j((Qtr,cie)=>{"use strict";d();var gD=dl(),oie=pD();function Hf(){if(!(this instanceof Hf))return new Hf;oie.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a(Hf,"SHA384");gD.inherits(Hf,oie);cie.exports=Hf;Hf.blockSize=1024;Hf.outSize=384;Hf.hmacStrength=192;Hf.padLength=128;Hf.prototype._digest=a(function(t){return t==="hex"?gD.toHex32(this.h.slice(0,12),"big"):gD.split32(this.h.slice(0,12),"big")},"digest")});var uie=j(jy=>{"use strict";d();jy.sha1=Xne();jy.sha224=rie();jy.sha256=uD();jy.sha384=lie();jy.sha512=pD()});var yie=j(gie=>{"use strict";d();var Hp=dl(),qVe=zy(),r8=Hp.rotl32,fie=Hp.sum32,q_=Hp.sum32_3,hie=Hp.sum32_4,pie=qVe.BlockHash;function _u(){if(!(this instanceof _u))return new _u;pie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a(_u,"RIPEMD160");Hp.inherits(_u,pie);gie.ripemd160=_u;_u.blockSize=512;_u.outSize=160;_u.hmacStrength=192;_u.padLength=64;_u.prototype._update=a(function(t,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],l=this.h[4],u=n,f=i,h=s,p=o,g=l,y=0;y<80;y++){var E=fie(r8(hie(n,die(y,i,s,o),t[UVe[y]+r],PVe(y)),HVe[y]),l);n=l,l=o,o=r8(s,10),s=i,i=E,E=fie(r8(hie(u,die(79-y,f,h,p),t[YVe[y]+r],FVe(y)),zVe[y]),g),u=g,g=p,p=r8(h,10),h=f,f=E}E=q_(this.h[1],s,p),this.h[1]=q_(this.h[2],o,g),this.h[2]=q_(this.h[3],l,u),this.h[3]=q_(this.h[4],n,f),this.h[4]=q_(this.h[0],i,h),this.h[0]=E},"update");_u.prototype._digest=a(function(t){return t==="hex"?Hp.toHex32(this.h,"little"):Hp.split32(this.h,"little")},"digest");function die(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}a(die,"f");function PVe(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}a(PVe,"K");function FVe(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}a(FVe,"Kh");var UVe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],YVe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],HVe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zVe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var bie=j((Jtr,mie)=>{"use strict";d();var QVe=dl(),WVe=Yo();function Gy(e,t,r){if(!(this instanceof Gy))return new Gy(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(QVe.toArray(t,r))}a(Gy,"Hmac");mie.exports=Gy;Gy.prototype._init=a(function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),WVe(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)},"init");Gy.prototype.update=a(function(t,r){return this.inner.update(t,r),this},"update");Gy.prototype.digest=a(function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},"digest")});var n8=j(vie=>{d();var os=vie;os.utils=dl();os.common=zy();os.sha=uie();os.ripemd=yie();os.hmac=bie();os.sha1=os.sha.sha1;os.sha256=os.sha.sha256;os.sha224=os.sha.sha224;os.sha384=os.sha.sha384;os.sha512=os.sha.sha512;os.ripemd160=os.ripemd.ripemd160});var xie=j((nrr,_ie)=>{d();_ie.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var i8=j(Eie=>{"use strict";d();var mD=Eie,Nd=n8(),yD=oD(),VVe=Ho(),wie=VVe.assert;function Aie(e){e.type==="short"?this.curve=new yD.short(e):e.type==="edwards"?this.curve=new yD.edwards(e):this.curve=new yD.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,wie(this.g.validate(),"Invalid curve"),wie(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a(Aie,"PresetCurve");mD.PresetCurve=Aie;function Od(e,t){Object.defineProperty(mD,e,{configurable:!0,enumerable:!0,get:function(){var r=new Aie(t);return Object.defineProperty(mD,e,{configurable:!0,enumerable:!0,value:r}),r}})}a(Od,"defineCurve");Od("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Nd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Od("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Nd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Od("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Nd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Od("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Nd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Od("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Nd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Od("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nd.sha256,gRed:!1,g:["9"]});Od("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var bD;try{bD=xie()}catch{bD=void 0}Od("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Nd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",bD]})});var Cie=j((crr,kie)=>{"use strict";d();var jVe=n8(),zp=aD(),Sie=Yo();function qd(e){if(!(this instanceof qd))return new qd(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=zp.toArray(e.entropy,e.entropyEnc||"hex"),r=zp.toArray(e.nonce,e.nonceEnc||"hex"),n=zp.toArray(e.pers,e.persEnc||"hex");Sie(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}a(qd,"HmacDRBG");kie.exports=qd;qd.prototype._init=a(function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");qd.prototype._hmac=a(function(){return new jVe.hmac(this.hash,this.K)},"hmac");qd.prototype._update=a(function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},"update");qd.prototype.reseed=a(function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=zp.toArray(t,r),n=zp.toArray(n,i),Sie(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},"reseed");qd.prototype.generate=a(function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=zp.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,zp.encode(o,r)},"generate")});var Tie=j((frr,Iie)=>{"use strict";d();var GVe=zi(),KVe=Ho(),vD=KVe.assert;function Es(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}a(Es,"KeyPair");Iie.exports=Es;Es.fromPublic=a(function(t,r,n){return r instanceof Es?r:new Es(t,{pub:r,pubEnc:n})},"fromPublic");Es.fromPrivate=a(function(t,r,n){return r instanceof Es?r:new Es(t,{priv:r,privEnc:n})},"fromPrivate");Es.prototype.validate=a(function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");Es.prototype.getPublic=a(function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub},"getPublic");Es.prototype.getPrivate=a(function(t){return t==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");Es.prototype._importPrivate=a(function(t,r){this.priv=new GVe(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");Es.prototype._importPublic=a(function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?vD(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&vD(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)},"_importPublic");Es.prototype.derive=a(function(t){return t.validate()||vD(t.validate(),"public point not validated"),t.mul(this.priv).getX()},"derive");Es.prototype.sign=a(function(t,r,n){return this.ec.sign(t,this,r,n)},"sign");Es.prototype.verify=a(function(t,r){return this.ec.verify(t,r,this)},"verify");Es.prototype.inspect=a(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var Rie=j((prr,Bie)=>{"use strict";d();var a8=zi(),wD=Ho(),$Ve=wD.assert;function s8(e,t){if(e instanceof s8)return e;this._importDER(e,t)||($Ve(e.r&&e.s,"Signature without r or s"),this.r=new a8(e.r,16),this.s=new a8(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}a(s8,"Signature");Bie.exports=s8;function XVe(){this.place=0}a(XVe,"Position");function _D(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}a(_D,"getLength");function Mie(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}a(Mie,"rmPadding");s8.prototype._importDER=a(function(t,r){t=wD.toArray(t,r);var n=new XVe;if(t[n.place++]!==48)return!1;var i=_D(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=_D(t,n);if(s===!1)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var l=_D(t,n);if(l===!1||t.length!==l+n.place)return!1;var u=t.slice(n.place,l+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new a8(o),this.s=new a8(u),this.recoveryParam=null,!0},"_importDER");function xD(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}a(xD,"constructLength");s8.prototype.toDER=a(function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Mie(r),n=Mie(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];xD(i,r.length),i=i.concat(r),i.push(2),xD(i,n.length);var s=i.concat(n),o=[48];return xD(o,s.length),o=o.concat(s),wD.encode(o,t)},"toDER")});var Oie=j((mrr,Nie)=>{"use strict";d();var Qp=zi(),Lie=Cie(),JVe=Ho(),AD=i8(),ZVe=QA(),Die=JVe.assert,ED=Tie(),o8=Rie();function Bc(e){if(!(this instanceof Bc))return new Bc(e);typeof e=="string"&&(Die(Object.prototype.hasOwnProperty.call(AD,e),"Unknown curve "+e),e=AD[e]),e instanceof AD.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}a(Bc,"EC");Nie.exports=Bc;Bc.prototype.keyPair=a(function(t){return new ED(this,t)},"keyPair");Bc.prototype.keyFromPrivate=a(function(t,r){return ED.fromPrivate(this,t,r)},"keyFromPrivate");Bc.prototype.keyFromPublic=a(function(t,r){return ED.fromPublic(this,t,r)},"keyFromPublic");Bc.prototype.genKeyPair=a(function(t){t||(t={});for(var r=new Lie({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||ZVe(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Qp(2));;){var s=new Qp(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Bc.prototype._truncateToN=a(function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t},"_truncateToN");Bc.prototype.sign=a(function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Qp(t,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),l=t.toArray("be",s),u=new Lie({hash:this.hash,entropy:o,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Qp(1)),h=0;;h++){var p=i.k?i.k(h):new Qp(u.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var g=this.g.mul(p);if(!g.isInfinity()){var y=g.getX(),E=y.umod(this.n);if(E.cmpn(0)!==0){var M=p.invm(this.n).mul(E.mul(r.getPrivate()).iadd(t));if(M=M.umod(this.n),M.cmpn(0)!==0){var z=(g.getY().isOdd()?1:0)|(y.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),z^=1),new o8({r:E,s:M,recoveryParam:z})}}}}}},"sign");Bc.prototype.verify=a(function(t,r,n,i){t=this._truncateToN(new Qp(t,16)),n=this.keyFromPublic(n,i),r=new o8(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),u=l.mul(t).umod(this.n),f=l.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(u,n.getPublic(),f),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(u,n.getPublic(),f),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)},"verify");Bc.prototype.recoverPubKey=function(e,t,r,n){Die((3&r)===r,"The recovery param is more than two bits"),t=new o8(t,n);var i=this.n,s=new Qp(e),o=t.r,l=t.s,u=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var h=t.r.invm(i),p=i.sub(s).mul(h).umod(i),g=l.mul(h).umod(i);return this.g.mulAdd(p,o,g)};Bc.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new o8(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Uie=j((_rr,Fie)=>{"use strict";d();var P_=Ho(),Pie=P_.assert,qie=P_.parseBytes,Ky=P_.cachedProperty;function Ka(e,t){this.eddsa=e,this._secret=qie(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=qie(t.pub)}a(Ka,"KeyPair");Ka.fromPublic=a(function(t,r){return r instanceof Ka?r:new Ka(t,{pub:r})},"fromPublic");Ka.fromSecret=a(function(t,r){return r instanceof Ka?r:new Ka(t,{secret:r})},"fromSecret");Ka.prototype.secret=a(function(){return this._secret},"secret");Ky(Ka,"pubBytes",a(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));Ky(Ka,"pub",a(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));Ky(Ka,"privBytes",a(function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));Ky(Ka,"priv",a(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));Ky(Ka,"hash",a(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));Ky(Ka,"messagePrefix",a(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Ka.prototype.sign=a(function(t){return Pie(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},"sign");Ka.prototype.verify=a(function(t,r){return this.eddsa.verify(t,r,this)},"verify");Ka.prototype.getSecret=a(function(t){return Pie(this._secret,"KeyPair is public only"),P_.encode(this.secret(),t)},"getSecret");Ka.prototype.getPublic=a(function(t){return P_.encode(this.pubBytes(),t)},"getPublic");Fie.exports=Ka});var Hie=j((Arr,Yie)=>{"use strict";d();var eje=zi(),c8=Ho(),tje=c8.assert,l8=c8.cachedProperty,rje=c8.parseBytes;function Wp(e,t){this.eddsa=e,typeof t!="object"&&(t=rje(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),tje(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof eje&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(Wp,"Signature");l8(Wp,"S",a(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));l8(Wp,"R",a(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));l8(Wp,"Rencoded",a(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));l8(Wp,"Sencoded",a(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));Wp.prototype.toBytes=a(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");Wp.prototype.toHex=a(function(){return c8.encode(this.toBytes(),"hex").toUpperCase()},"toHex");Yie.exports=Wp});var jie=j((krr,Vie)=>{"use strict";d();var nje=n8(),ije=i8(),$y=Ho(),aje=$y.assert,Qie=$y.parseBytes,Wie=Uie(),zie=Hie();function vo(e){if(aje(e==="ed25519","only tested with ed25519 so far"),!(this instanceof vo))return new vo(e);e=ije[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=nje.sha512}a(vo,"EDDSA");Vie.exports=vo;vo.prototype.sign=a(function(t,r){t=Qie(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),l=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),u=i.add(l).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})},"sign");vo.prototype.verify=a(function(t,r,n){t=Qie(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),l=r.R().add(i.pub().mul(s));return l.eq(o)},"verify");vo.prototype.hashInt=a(function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return $y.intFromLE(t.digest()).umod(this.curve.n)},"hashInt");vo.prototype.keyFromPublic=a(function(t){return Wie.fromPublic(this,t)},"keyFromPublic");vo.prototype.keyFromSecret=a(function(t){return Wie.fromSecret(this,t)},"keyFromSecret");vo.prototype.makeSignature=a(function(t){return t instanceof zie?t:new zie(this,t)},"makeSignature");vo.prototype.encodePoint=a(function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r},"encodePoint");vo.prototype.decodePoint=a(function(t){t=$y.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=$y.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");vo.prototype.encodeInt=a(function(t){return t.toArray("le",this.encodingLength)},"encodeInt");vo.prototype.decodeInt=a(function(t){return $y.intFromLE(t)},"decodeInt");vo.prototype.isPoint=a(function(t){return t instanceof this.pointClass},"isPoint")});var u8=j(Gie=>{"use strict";d();var Vp=Gie;Vp.version=kne().version;Vp.utils=Ho();Vp.rand=QA();Vp.curve=oD();Vp.curves=i8();Vp.ec=Oie();Vp.eddsa=jie()});var h8=j((Brr,Kie)=>{"use strict";d();var f8=Ei(),Xy=f8.Buffer,Rc={},Lc;for(Lc in f8)!f8.hasOwnProperty(Lc)||Lc==="SlowBuffer"||Lc==="Buffer"||(Rc[Lc]=f8[Lc]);var Jy=Rc.Buffer={};for(Lc in Xy)!Xy.hasOwnProperty(Lc)||Lc==="allocUnsafe"||Lc==="allocUnsafeSlow"||(Jy[Lc]=Xy[Lc]);Rc.Buffer.prototype=Xy.prototype;(!Jy.from||Jy.from===Uint8Array.from)&&(Jy.from=function(e,t,r){if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return Xy(e,t,r)});Jy.alloc||(Jy.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Xy(e);return!t||t.length===0?n.fill(0):typeof r=="string"?n.fill(t,r):n.fill(t),n});if(!Rc.kStringMaxLength)try{Rc.kStringMaxLength=_.default.binding("buffer").kStringMaxLength}catch{}Rc.constants||(Rc.constants={MAX_LENGTH:Rc.kMaxLength},Rc.kStringMaxLength&&(Rc.constants.MAX_STRING_LENGTH=Rc.kStringMaxLength));Kie.exports=Rc});var d8=j($ie=>{"use strict";d();var sje=kr();function Dc(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}a(Dc,"Reporter");$ie.Reporter=Dc;Dc.prototype.isError=a(function(t){return t instanceof Zy},"isError");Dc.prototype.save=a(function(){let t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},"save");Dc.prototype.restore=a(function(t){let r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},"restore");Dc.prototype.enterKey=a(function(t){return this._reporterState.path.push(t)},"enterKey");Dc.prototype.exitKey=a(function(t){let r=this._reporterState;r.path=r.path.slice(0,t-1)},"exitKey");Dc.prototype.leaveKey=a(function(t,r,n){let i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Dc.prototype.path=a(function(){return this._reporterState.path.join("/")},"path");Dc.prototype.enterObject=a(function(){let t=this._reporterState,r=t.obj;return t.obj={},r},"enterObject");Dc.prototype.leaveObject=a(function(t){let r=this._reporterState,n=r.obj;return r.obj=t,n},"leaveObject");Dc.prototype.error=a(function(t){let r,n=this._reporterState,i=t instanceof Zy;if(i?r=t:r=new Zy(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Dc.prototype.wrapResult=a(function(t){let r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},"wrapResult");function Zy(e,t){this.path=e,this.rethrow(t)}a(Zy,"ReporterError");sje(Zy,Error);Zy.prototype.rethrow=a(function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Zy),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var rm=j(SD=>{"use strict";d();var oje=kr(),p8=d8().Reporter,em=h8().Buffer;function Nc(e,t){if(p8.call(this,t),!em.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}a(Nc,"DecoderBuffer");oje(Nc,p8);SD.DecoderBuffer=Nc;Nc.isDecoderBuffer=a(function(t){return t instanceof Nc?!0:typeof t=="object"&&em.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},"isDecoderBuffer");Nc.prototype.save=a(function(){return{offset:this.offset,reporter:p8.prototype.save.call(this)}},"save");Nc.prototype.restore=a(function(t){let r=new Nc(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,p8.prototype.restore.call(this,t.reporter),r},"restore");Nc.prototype.isEmpty=a(function(){return this.offset===this.length},"isEmpty");Nc.prototype.readUInt8=a(function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},"readUInt8");Nc.prototype.skip=a(function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Nc(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},"skip");Nc.prototype.raw=a(function(t){return this.base.slice(t?t.offset:this.offset,this.length)},"raw");function tm(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return tm.isEncoderBuffer(r)||(r=new tm(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=em.byteLength(e);else if(em.isBuffer(e))this.value=e,this.length=e.length;else return t.error("Unsupported type: "+typeof e)}a(tm,"EncoderBuffer");SD.EncoderBuffer=tm;tm.isEncoderBuffer=a(function(t){return t instanceof tm?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},"isEncoderBuffer");tm.prototype.join=a(function(t,r){return t||(t=em.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):em.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t},"join")});var g8=j((Frr,Jie)=>{"use strict";d();var cje=d8().Reporter,lje=rm().EncoderBuffer,uje=rm().DecoderBuffer,Hs=Yo(),Xie=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],fje=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Xie),hje=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ni(e,t,r){let n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}a(ni,"Node");Jie.exports=ni;var dje=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];ni.prototype.clone=a(function(){let t=this._baseState,r={};dje.forEach(function(i){r[i]=t[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");ni.prototype._wrap=a(function(){let t=this._baseState;fje.forEach(function(r){this[r]=a(function(){let i=new this.constructor(this);return t.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");ni.prototype._init=a(function(t){let r=this._baseState;Hs(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Hs.equal(r.children.length,1,"Root node can have only one child")},"init");ni.prototype._useArgs=a(function(t){let r=this._baseState,n=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Hs(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(Hs(r.args===null),r.args=t,r.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(o){o==(o|0)&&(o|=0);let l=i[o];s[l]=o}),s}))},"useArgs");hje.forEach(function(e){ni.prototype[e]=a(function(){let r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)},"_overrided")});Xie.forEach(function(e){ni.prototype[e]=a(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Hs(r.tag===null),r.tag=e,this._useArgs(n),this},"_tagMethod")});ni.prototype.use=a(function(t){Hs(t);let r=this._baseState;return Hs(r.use===null),r.use=t,this},"use");ni.prototype.optional=a(function(){let t=this._baseState;return t.optional=!0,this},"optional");ni.prototype.def=a(function(t){let r=this._baseState;return Hs(r.default===null),r.default=t,r.optional=!0,this},"def");ni.prototype.explicit=a(function(t){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.explicit=t,this},"explicit");ni.prototype.implicit=a(function(t){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.implicit=t,this},"implicit");ni.prototype.obj=a(function(){let t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");ni.prototype.key=a(function(t){let r=this._baseState;return Hs(r.key===null),r.key=t,this},"key");ni.prototype.any=a(function(){let t=this._baseState;return t.any=!0,this},"any");ni.prototype.choice=a(function(t){let r=this._baseState;return Hs(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this},"choice");ni.prototype.contains=a(function(t){let r=this._baseState;return Hs(r.use===null),r.contains=t,this},"contains");ni.prototype._decode=a(function(t,r){let n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,s=!0,o=null;if(n.key!==null&&(o=t.enterKey(n.key)),n.optional){let u=null;if(n.explicit!==null?u=n.explicit:n.implicit!==null?u=n.implicit:n.tag!==null&&(u=n.tag),u===null&&!n.any){let f=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),s=!0}catch{s=!1}t.restore(f)}else if(s=this._peekTag(t,u,n.any),t.isError(s))return s}let l;if(n.obj&&s&&(l=t.enterObject()),s){if(n.explicit!==null){let f=this._decodeTag(t,n.explicit);if(t.isError(f))return f;t=f}let u=t.offset;if(n.use===null&&n.choice===null){let f;n.any&&(f=t.save());let h=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(h))return h;n.any?i=t.raw(f):t=h}if(r&&r.track&&n.tag!==null&&r.track(t.path(),u,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,t,r):i=this._decodeChoice(t,r)),t.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(a(function(h){h._decode(t,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let f=new uje(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(f,r)}}return n.obj&&s&&(i=t.leaveObject(l)),n.key!==null&&(i!==null||s===!0)?t.leaveKey(o,n.key,i):o!==null&&t.exitKey(o),i},"decode");ni.prototype._decodeGeneric=a(function(t,r,n){let i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,i.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+t)},"decodeGeneric");ni.prototype._getUse=a(function(t,r){let n=this._baseState;return n.useDecoder=this._use(t,r),Hs(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");ni.prototype._decodeChoice=a(function(t,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(o){let l=t.save(),u=n.choice[o];try{let f=u._decode(t,r);if(t.isError(f))return!1;i={type:o,value:f},s=!0}catch{return t.restore(l),!1}return!0},this),s?i:t.error("Choice not matched")},"decodeChoice");ni.prototype._createEncoderBuffer=a(function(t){return new lje(t,this.reporter)},"createEncoderBuffer");ni.prototype._encode=a(function(t,r,n){let i=this._baseState;if(i.default!==null&&i.default===t)return;let s=this._encodeValue(t,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");ni.prototype._encodeValue=a(function(t,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,r||new cje);let s=null;if(this.reporter=r,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let o=null,l=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,r);else if(i.contains)o=this._getUse(i.contains,n)._encode(t,r),l=!0;else if(i.children)o=i.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,r,t);if(u._baseState.key===null)return r.error("Child should have a key");let f=r.enterKey(u._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");let h=u._encode(t[u._baseState.key],r,t);return r.leaveKey(f),h},this).filter(function(u){return u}),o=this._createEncoderBuffer(o);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");let u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(t.map(function(f){let h=this._baseState;return this._getUse(h.args[0],t)._encode(f,r)},u))}else i.use!==null?s=this._getUse(i.use,n)._encode(t,r):(o=this._encodePrimitive(i.tag,t),l=!0);if(!i.any&&i.choice===null){let u=i.implicit!==null?i.implicit:i.tag,f=i.implicit===null?"universal":"context";u===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(u,l,f,o))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");ni.prototype._encodeChoice=a(function(t,r){let n=this._baseState,i=n.choice[t.type];return i||Hs(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,r)},"encodeChoice");ni.prototype._encodePrimitive=a(function(t,r){let n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)},"encodePrimitive");ni.prototype._isNumstr=a(function(t){return/^[0-9 ]*$/.test(t)},"isNumstr");ni.prototype._isPrintstr=a(function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)},"isPrintstr")});var y8=j(jp=>{"use strict";d();function Zie(e){let t={};return Object.keys(e).forEach(function(r){(r|0)==r&&(r=r|0);let n=e[r];t[n]=r}),t}a(Zie,"reverse");jp.tagClass={0:"universal",1:"application",2:"context",3:"private"};jp.tagClassByName=Zie(jp.tagClass);jp.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};jp.tagByName=Zie(jp.tag)});var CD=j((Wrr,rae)=>{"use strict";d();var pje=kr(),zf=h8().Buffer,eae=g8(),kD=y8();function tae(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new yl,this.tree._init(e.body)}a(tae,"DEREncoder");rae.exports=tae;tae.prototype.encode=a(function(t,r){return this.tree._encode(t,r).join()},"encode");function yl(e){eae.call(this,"der",e)}a(yl,"DERNode");pje(yl,eae);yl.prototype._encodeComposite=a(function(t,r,n,i){let s=gje(t,r,n,this.reporter);if(i.length<128){let u=zf.alloc(2);return u[0]=s,u[1]=i.length,this._createEncoderBuffer([u,i])}let o=1;for(let u=i.length;u>=256;u>>=8)o++;let l=zf.alloc(1+1+o);l[0]=s,l[1]=128|o;for(let u=1+o,f=i.length;f>0;u--,f>>=8)l[u]=f&255;return this._createEncoderBuffer([l,i])},"encodeComposite");yl.prototype._encodeStr=a(function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){let n=zf.alloc(t.length*2);for(let i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");yl.prototype._encodeObjid=a(function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let l=0;l<t.length;l++)t[l]|=0}else if(Array.isArray(t)){t=t.slice();for(let l=0;l<t.length;l++)t[l]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let l=0;l<t.length;l++){let u=t[l];for(i++;u>=128;u>>=7)i++}let s=zf.alloc(i),o=s.length-1;for(let l=t.length-1;l>=0;l--){let u=t[l];for(s[o--]=u&127;(u>>=7)>0;)s[o--]=128|u&127}return this._createEncoderBuffer(s)},"encodeObjid");function Oc(e){return e<10?"0"+e:e}a(Oc,"two");yl.prototype._encodeTime=a(function(t,r){let n,i=new Date(t);return r==="gentime"?n=[Oc(i.getUTCFullYear()),Oc(i.getUTCMonth()+1),Oc(i.getUTCDate()),Oc(i.getUTCHours()),Oc(i.getUTCMinutes()),Oc(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Oc(i.getUTCFullYear()%100),Oc(i.getUTCMonth()+1),Oc(i.getUTCDate()),Oc(i.getUTCHours()),Oc(i.getUTCMinutes()),Oc(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");yl.prototype._encodeNull=a(function(){return this._createEncoderBuffer("")},"encodeNull");yl.prototype._encodeInt=a(function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=r[t]}if(typeof t!="number"&&!zf.isBuffer(t)){let s=t.toArray();!t.sign&&s[0]&128&&s.unshift(0),t=zf.from(s)}if(zf.isBuffer(t)){let s=t.length;t.length===0&&s++;let o=zf.alloc(s);return t.copy(o),t.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let s=t;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(zf.from(i))},"encodeInt");yl.prototype._encodeBool=a(function(t){return this._createEncoderBuffer(t?255:0)},"encodeBool");yl.prototype._use=a(function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree},"use");yl.prototype._skipDefault=a(function(t,r,n){let i=this._baseState,s;if(i.default===null)return!1;let o=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),o.length!==i.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function gje(e,t,r,n){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),kD.tagByName.hasOwnProperty(e))i=kD.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return n.error("Unknown tag: "+e);return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=kD.tagClassByName[r||"universal"]<<6,i)}a(gje,"encodeTag")});var iae=j((Grr,nae)=>{"use strict";d();var yje=kr(),ID=CD();function TD(e){ID.call(this,e),this.enc="pem"}a(TD,"PEMEncoder");yje(TD,ID);nae.exports=TD;TD.prototype.encode=a(function(t,r){let i=ID.prototype.encode.call(this,t).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<i.length;o+=64)s.push(i.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var MD=j(sae=>{"use strict";d();var aae=sae;aae.der=CD();aae.pem=iae()});var RD=j((Zrr,hae)=>{"use strict";d();var mje=kr(),bje=zi(),oae=rm().DecoderBuffer,lae=g8(),cae=y8();function uae(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new zo,this.tree._init(e.body)}a(uae,"DERDecoder");hae.exports=uae;uae.prototype.decode=a(function(t,r){return oae.isDecoderBuffer(t)||(t=new oae(t,r)),this.tree._decode(t,r)},"decode");function zo(e){lae.call(this,"der",e)}a(zo,"DERNode");mje(zo,lae);zo.prototype._peekTag=a(function(t,r,n){if(t.isEmpty())return!1;let i=t.save(),s=BD(t,'Failed to peek tag: "'+r+'"');return t.isError(s)?s:(t.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");zo.prototype._decodeTag=a(function(t,r,n){let i=BD(t,'Failed to decode tag of "'+r+'"');if(t.isError(i))return i;let s=fae(t,i.primitive,'Failed to get length of "'+r+'"');if(t.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return t.skip(s,'Failed to match body of: "'+r+'"');let o=t.save(),l=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(l)?l:(s=t.offset-o.offset,t.restore(o),t.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");zo.prototype._skipUntilEnd=a(function(t,r){for(;;){let n=BD(t,r);if(t.isError(n))return n;let i=fae(t,n.primitive,r);if(t.isError(i))return i;let s;if(n.primitive||i!==null?s=t.skip(i):s=this._skipUntilEnd(t,r),t.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");zo.prototype._decodeList=a(function(t,r,n,i){let s=[];for(;!t.isEmpty();){let o=this._peekTag(t,"end");if(t.isError(o))return o;let l=n.decode(t,"der",i);if(t.isError(l)&&o)break;s.push(l)}return s},"decodeList");zo.prototype._decodeStr=a(function(t,r){if(r==="bitstr"){let n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){let n=t.raw();if(n.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){let n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");zo.prototype._decodeObjid=a(function(t,r,n){let i,s=[],o=0,l=0;for(;!t.isEmpty();)l=t.readUInt8(),o<<=7,o|=l&127,(l&128)===0&&(s.push(o),o=0);l&128&&s.push(o);let u=s[0]/40|0,f=s[0]%40;if(n?i=s:i=[u,f].concat(s.slice(1)),r){let h=r[i.join(" ")];h===void 0&&(h=r[i.join(".")]),h!==void 0&&(i=h)}return i},"decodeObjid");zo.prototype._decodeTime=a(function(t,r){let n=t.raw().toString(),i,s,o,l,u,f;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,o=n.slice(6,8)|0,l=n.slice(8,10)|0,u=n.slice(10,12)|0,f=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,o=n.slice(4,6)|0,l=n.slice(6,8)|0,u=n.slice(8,10)|0,f=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,o,l,u,f,0)},"decodeTime");zo.prototype._decodeNull=a(function(){return null},"decodeNull");zo.prototype._decodeBool=a(function(t){let r=t.readUInt8();return t.isError(r)?r:r!==0},"decodeBool");zo.prototype._decodeInt=a(function(t,r){let n=t.raw(),i=new bje(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");zo.prototype._use=a(function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree},"use");function BD(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;let n=cae.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=cae.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}a(BD,"derDecodeTag");function fae(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if((n&128)===0)return n;let i=n&127;if(i>4)return e.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}a(fae,"derDecodeLen")});var pae=j((rnr,dae)=>{"use strict";d();var vje=kr(),_je=h8().Buffer,LD=RD();function DD(e){LD.call(this,e),this.enc="pem"}a(DD,"PEMDecoder");vje(DD,LD);dae.exports=DD;DD.prototype.decode=a(function(t,r){let n=t.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,l=-1;for(let h=0;h<n.length;h++){let p=n[h].match(s);if(p!==null&&p[2]===i)if(o===-1){if(p[1]!=="BEGIN")break;o=h}else{if(p[1]!=="END")break;l=h;break}}if(o===-1||l===-1)throw new Error("PEM section not found for: "+i);let u=n.slice(o+1,l).join("");u.replace(/[^a-z0-9+/=]+/gi,"");let f=_je.from(u,"base64");return LD.prototype.decode.call(this,f,r)},"decode")});var ND=j(yae=>{"use strict";d();var gae=yae;gae.der=RD();gae.pem=pae()});var bae=j(mae=>{"use strict";d();var xje=MD(),wje=ND(),Aje=kr(),Eje=mae;Eje.define=a(function(t,r){return new nm(t,r)},"define");function nm(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}a(nm,"Entity");nm.prototype._createNamed=a(function(t){let r=this.name;function n(i){this._initNamed(i,r)}return a(n,"Generated"),Aje(n,t),n.prototype._initNamed=a(function(s,o){t.call(this,s,o)},"_initNamed"),new n(this)},"createNamed");nm.prototype._getDecoder=a(function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(wje[t])),this.decoders[t]},"_getDecoder");nm.prototype.decode=a(function(t,r,n){return this._getDecoder(r).decode(t,n)},"decode");nm.prototype._getEncoder=a(function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(xje[t])),this.encoders[t]},"_getEncoder");nm.prototype.encode=a(function(t,r,n){return this._getEncoder(r).encode(t,n)},"encode")});var _ae=j(vae=>{"use strict";d();var m8=vae;m8.Reporter=d8().Reporter;m8.DecoderBuffer=rm().DecoderBuffer;m8.EncoderBuffer=rm().EncoderBuffer;m8.Node=g8()});var Aae=j(wae=>{"use strict";d();var xae=wae;xae._reverse=a(function(t){let r={};return Object.keys(t).forEach(function(n){(n|0)==n&&(n=n|0);let i=t[n];r[i]=n}),r},"reverse");xae.der=y8()});var OD=j(Eae=>{"use strict";d();var im=Eae;im.bignum=zi();im.define=bae().define;im.base=_ae();im.constants=Aae();im.decoders=ND();im.encoders=MD()});var Iae=j((mnr,Cae)=>{"use strict";d();var ml=OD(),Sae=ml.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Sje=ml.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),qD=ml.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),kje=ml.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(qD),this.key("subjectPublicKey").bitstr())}),Cje=ml.define("RelativeDistinguishedName",function(){this.setof(Sje)}),Ije=ml.define("RDNSequence",function(){this.seqof(Cje)}),kae=ml.define("Name",function(){this.choice({rdnSequence:this.use(Ije)})}),Tje=ml.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Sae),this.key("notAfter").use(Sae))}),Mje=ml.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Bje=ml.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(qD),this.key("issuer").use(kae),this.key("validity").use(Tje),this.key("subject").use(kae),this.key("subjectPublicKeyInfo").use(kje),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Mje).optional())}),Rje=ml.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Bje),this.key("signatureAlgorithm").use(qD),this.key("signatureValue").bitstr())});Cae.exports=Rje});var Mae=j(vl=>{"use strict";d();var bl=OD();vl.certificate=Iae();var Lje=bl.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});vl.RSAPrivateKey=Lje;var Dje=bl.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});vl.RSAPublicKey=Dje;var Nje=bl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Tae),this.key("subjectPublicKey").bitstr())});vl.PublicKey=Nje;var Tae=bl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Oje=bl.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Tae),this.key("subjectPrivateKey").octstr())});vl.PrivateKey=Oje;var qje=bl.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});vl.EncryptedPrivateKey=qje;var Pje=bl.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});vl.DSAPrivateKey=Pje;vl.DSAparam=bl.define("DSAparam",function(){this.int()});var Fje=bl.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Uje),this.key("publicKey").optional().explicit(1).bitstr())});vl.ECPrivateKey=Fje;var Uje=bl.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});vl.signature=bl.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Bae=j((xnr,Yje)=>{Yje.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Lae=j((wnr,Rae)=>{d();var Hje=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,zje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Qje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Wje=B_(),Vje=zA(),b8=rn().Buffer;Rae.exports=function(e,t){var r=e.toString(),n=r.match(Hje),i;if(n){var o="aes"+n[1],l=b8.from(n[2],"hex"),u=b8.from(n[3].replace(/[\r\n]/g,""),"base64"),f=Wje(t,l.slice(0,8),parseInt(n[1],10)).key,h=[],p=Vje.createDecipheriv(o,f,l);h.push(p.update(u)),h.push(p.final()),i=b8.concat(h)}else{var s=r.match(Qje);i=b8.from(s[2].replace(/[\r\n]/g,""),"base64")}var g=r.match(zje)[1];return{tag:g,data:i}}});var F_=j((Enr,Nae)=>{d();var _o=Mae(),jje=Bae(),Gje=Lae(),Kje=zA(),$je=IL(),PD=rn().Buffer;Nae.exports=Dae;function Dae(e){var t;typeof e=="object"&&!PD.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=PD.from(e));var r=Gje(e,t),n=r.tag,i=r.data,s,o;switch(n){case"CERTIFICATE":o=_o.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=_o.PublicKey.decode(i,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return _o.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=_o.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=_o.EncryptedPrivateKey.decode(i,"der"),i=Xje(i,t);case"PRIVATE KEY":switch(o=_o.PrivateKey.decode(i,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return _o.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:_o.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=_o.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return _o.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return _o.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_o.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=_o.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}a(Dae,"parseKeys");Dae.signature=_o.signature;function Xje(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=jje[e.algorithm.decrypt.cipher.algo.join(".")],s=e.algorithm.decrypt.cipher.iv,o=e.subjectPrivateKey,l=parseInt(i.split("-")[1],10)/8,u=$je.pbkdf2Sync(t,r,n,l,"sha1"),f=Kje.createDecipheriv(i,u,s),h=[];return h.push(f.update(o)),h.push(f.final()),PD.concat(h)}a(Xje,"decrypt")});var FD=j((Cnr,Jje)=>{Jje.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Pae=j((Inr,_8)=>{d();var Ss=rn().Buffer,Gp=bL(),Zje=jA(),eGe=u8().ec,v8=zi(),tGe=F_(),rGe=FD();function nGe(e,t,r,n,i){var s=tGe(t);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return iGe(e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return aGe(e,s,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");e=Ss.concat([i,e]);for(var o=s.modulus.byteLength(),l=[0,1];e.length+l.length+1<o;)l.push(255);l.push(0);for(var u=-1;++u<e.length;)l.push(e[u]);var f=Zje(l,s);return f}a(nGe,"sign");function iGe(e,t){var r=rGe[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var n=new eGe(r),i=n.keyFromPrivate(t.privateKey),s=i.sign(e);return Ss.from(s.toDER())}a(iGe,"ecSign");function aGe(e,t,r){for(var n=t.params.priv_key,i=t.params.p,s=t.params.q,o=t.params.g,l=new v8(0),u,f=UD(e,s).mod(s),h=!1,p=Oae(n,s,e,r);h===!1;)u=qae(s,p,r),l=cGe(o,u,i,s),h=u.invm(s).imul(f.add(n.mul(l))).mod(s),h.cmpn(0)===0&&(h=!1,l=new v8(0));return sGe(l,h)}a(aGe,"dsaSign");function sGe(e,t){e=e.toArray(),t=t.toArray(),e[0]&128&&(e=[0].concat(e)),t[0]&128&&(t=[0].concat(t));var r=e.length+t.length+4,n=[48,r,2,e.length];return n=n.concat(e,[2,t.length],t),Ss.from(n)}a(sGe,"toDER");function Oae(e,t,r,n){if(e=Ss.from(e.toArray()),e.length<t.byteLength()){var i=Ss.alloc(t.byteLength()-e.length);e=Ss.concat([i,e])}var s=r.length,o=oGe(r,t),l=Ss.alloc(s);l.fill(1);var u=Ss.alloc(s);return u=Gp(n,u).update(l).update(Ss.from([0])).update(e).update(o).digest(),l=Gp(n,u).update(l).digest(),u=Gp(n,u).update(l).update(Ss.from([1])).update(e).update(o).digest(),l=Gp(n,u).update(l).digest(),{k:u,v:l}}a(Oae,"getKey");function UD(e,t){var r=new v8(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}a(UD,"bits2int");function oGe(e,t){e=UD(e,t),e=e.mod(t);var r=Ss.from(e.toArray());if(r.length<t.byteLength()){var n=Ss.alloc(t.byteLength()-r.length);r=Ss.concat([n,r])}return r}a(oGe,"bits2octets");function qae(e,t,r){var n,i;do{for(n=Ss.alloc(0);n.length*8<e.bitLength();)t.v=Gp(r,t.k).update(t.v).digest(),n=Ss.concat([n,t.v]);i=UD(n,e),t.k=Gp(r,t.k).update(t.v).update(Ss.from([0])).digest(),t.v=Gp(r,t.k).update(t.v).digest()}while(i.cmp(e)!==-1);return i}a(qae,"makeKey");function cGe(e,t,r,n){return e.toRed(v8.mont(r)).redPow(t).fromRed().mod(n)}a(cGe,"makeR");_8.exports=nGe;_8.exports.getKey=Oae;_8.exports.makeKey=qae});var Hae=j((Bnr,Yae)=>{d();var YD=rn().Buffer,U_=zi(),lGe=u8().ec,Uae=F_(),uGe=FD();function fGe(e,t,r,n,i){var s=Uae(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return hGe(e,t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return dGe(e,t,s)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");t=YD.concat([i,t]);for(var o=s.modulus.byteLength(),l=[1],u=0;t.length+l.length+2<o;)l.push(255),u++;l.push(0);for(var f=-1;++f<t.length;)l.push(t[f]);l=YD.from(l);var h=U_.mont(s.modulus);e=new U_(e).toRed(h),e=e.redPow(new U_(s.publicExponent)),e=YD.from(e.fromRed().toArray());var p=u<8?1:0;for(o=Math.min(e.length,l.length),e.length!==l.length&&(p=1),f=-1;++f<o;)p|=e[f]^l[f];return p===0}a(fGe,"verify");function hGe(e,t,r){var n=uGe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new lGe(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}a(hGe,"ecVerify");function dGe(e,t,r){var n=r.data.p,i=r.data.q,s=r.data.g,o=r.data.pub_key,l=Uae.signature.decode(e,"der"),u=l.s,f=l.r;Fae(u,i),Fae(f,i);var h=U_.mont(n),p=u.invm(i),g=s.toRed(h).redPow(new U_(t).mul(p).mod(i)).fromRed().mul(o.toRed(h).redPow(f.mul(p).mod(i)).fromRed()).mod(n).mod(i);return g.cmp(f)===0}a(dGe,"dsaVerify");function Fae(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}a(Fae,"checkValue");Yae.exports=fGe});var Gae=j((Dnr,jae)=>{d();var x8=rn().Buffer,Wae=Ry(),w8=Tp(),Vae=kr(),pGe=Pae(),gGe=Hae(),Kp=vL();Object.keys(Kp).forEach(function(e){Kp[e].id=x8.from(Kp[e].id,"hex"),Kp[e.toLowerCase()]=Kp[e]});function Y_(e){w8.Writable.call(this);var t=Kp[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=Wae(t.hash),this._tag=t.id,this._signType=t.sign}a(Y_,"Sign");Vae(Y_,w8.Writable);Y_.prototype._write=a(function(t,r,n){this._hash.update(t),n()},"_write");Y_.prototype.update=a(function(t,r){return typeof t=="string"&&(t=x8.from(t,r)),this._hash.update(t),this},"update");Y_.prototype.sign=a(function(t,r){this.end();var n=this._hash.digest(),i=pGe(n,t,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function H_(e){w8.Writable.call(this);var t=Kp[e];if(!t)throw new Error("Unknown message digest");this._hash=Wae(t.hash),this._tag=t.id,this._signType=t.sign}a(H_,"Verify");Vae(H_,w8.Writable);H_.prototype._write=a(function(t,r,n){this._hash.update(t),n()},"_write");H_.prototype.update=a(function(t,r){return typeof t=="string"&&(t=x8.from(t,r)),this._hash.update(t),this},"update");H_.prototype.verify=a(function(t,r,n){typeof r=="string"&&(r=x8.from(r,n)),this.end();var i=this._hash.digest();return gGe(r,i,t,this._signType,this._tag)},"verifyMethod");function zae(e){return new Y_(e)}a(zae,"createSign");function Qae(e){return new H_(e)}a(Qae,"createVerify");jae.exports={Sign:zae,Verify:Qae,createSign:zae,createVerify:Qae}});var $ae=j((qnr,Kae)=>{d();var yGe=u8(),mGe=zi();Kae.exports=a(function(t){return new $p(t)},"createECDH");var Qo={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Qo.p224=Qo.secp224r1;Qo.p256=Qo.secp256r1=Qo.prime256v1;Qo.p192=Qo.secp192r1=Qo.prime192v1;Qo.p384=Qo.secp384r1;Qo.p521=Qo.secp521r1;function $p(e){this.curveType=Qo[e],this.curveType||(this.curveType={name:e}),this.curve=new yGe.ec(this.curveType.name),this.keys=void 0}a($p,"ECDH");$p.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)};$p.prototype.computeSecret=function(e,t,r){t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t));var n=this.curve.keyFromPublic(e).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return HD(i,r,this.curveType.byteLength)};$p.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic(t==="compressed",!0);return t==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),HD(r,e)};$p.prototype.getPrivateKey=function(e){return HD(this.keys.getPrivate(),e)};$p.prototype.setPublicKey=function(e,t){return t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t)),this.keys._importPublic(e),this};$p.prototype.setPrivateKey=function(e,t){t=t||"utf8",b.Buffer.isBuffer(e)||(e=new b.Buffer(e,t));var r=new mGe(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function HD(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new b.Buffer(e);if(r&&n.length<r){var i=new b.Buffer(r-n.length);i.fill(0),n=b.Buffer.concat([i,n])}return t?n.toString(t):n}a(HD,"formatReturnValue")});var QD=j((Unr,Xae)=>{d();var bGe=Ry(),zD=rn().Buffer;Xae.exports=function(e,t){for(var r=zD.alloc(0),n=0,i;r.length<t;)i=vGe(n++),r=zD.concat([r,bGe("sha1").update(e).update(i).digest()]);return r.slice(0,t)};function vGe(e){var t=zD.allocUnsafe(4);return t.writeUInt32BE(e,0),t}a(vGe,"i2ops")});var WD=j((znr,Jae)=>{d();Jae.exports=a(function(t,r){for(var n=t.length,i=-1;++i<n;)t[i]^=r[i];return t},"xor")});var VD=j((Vnr,ese)=>{d();var Zae=zi(),_Ge=rn().Buffer;function xGe(e,t){return _Ge.from(e.toRed(Zae.mont(t.modulus)).redPow(new Zae(t.publicExponent)).fromRed().toArray())}a(xGe,"withPublic");ese.exports=xGe});var ise=j((Knr,nse)=>{d();var wGe=F_(),jD=Tf(),AGe=Ry(),tse=QD(),rse=WD(),GD=zi(),EGe=VD(),SGe=jA(),_l=rn().Buffer;nse.exports=a(function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var s=wGe(t),o;if(i===4)o=kGe(s,r);else if(i===1)o=CGe(s,r,n);else if(i===3){if(o=new GD(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?SGe(o,s):EGe(o,s)},"publicEncrypt");function kGe(e,t){var r=e.modulus.byteLength(),n=t.length,i=AGe("sha1").update(_l.alloc(0)).digest(),s=i.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var l=_l.alloc(r-n-o-2),u=r-s-1,f=jD(s),h=rse(_l.concat([i,l,_l.alloc(1,1),t],u),tse(f,u)),p=rse(f,tse(h,s));return new GD(_l.concat([_l.alloc(1),p,h],r))}a(kGe,"oaep");function CGe(e,t,r){var n=t.length,i=e.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=_l.alloc(i-n-3,255):s=IGe(i-n-3),new GD(_l.concat([_l.from([0,r?1:2]),s,_l.alloc(1),t],i))}a(CGe,"pkcs1");function IGe(e){for(var t=_l.allocUnsafe(e),r=0,n=jD(e*2),i=0,s;r<e;)i===n.length&&(n=jD(e*2),i=0),s=n[i++],s&&(t[r++]=s);return t}a(IGe,"nonZero")});var lse=j((Jnr,cse)=>{d();var TGe=F_(),ase=QD(),sse=WD(),ose=zi(),MGe=jA(),BGe=Ry(),RGe=VD(),z_=rn().Buffer;cse.exports=a(function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var s=TGe(t),o=s.modulus.byteLength();if(r.length>o||new ose(r).cmp(s.modulus)>=0)throw new Error("decryption error");var l;n?l=RGe(new ose(r),s):l=MGe(r,s);var u=z_.alloc(o-l.length);if(l=z_.concat([u,l],o),i===4)return LGe(s,l);if(i===1)return DGe(s,l,n);if(i===3)return l;throw new Error("unknown padding")},"privateDecrypt");function LGe(e,t){var r=e.modulus.byteLength(),n=BGe("sha1").update(z_.alloc(0)).digest(),i=n.length;if(t[0]!==0)throw new Error("decryption error");var s=t.slice(1,i+1),o=t.slice(i+1),l=sse(s,ase(o,i)),u=sse(o,ase(l,r-i-1));if(NGe(n,u.slice(0,i)))throw new Error("decryption error");for(var f=i;u[f]===0;)f++;if(u[f++]!==1)throw new Error("decryption error");return u.slice(f)}a(LGe,"oaep");function DGe(e,t,r){for(var n=t.slice(0,2),i=2,s=0;t[i++]!==0;)if(i>=t.length){s++;break}var o=t.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return t.slice(i)}a(DGe,"pkcs1");function NGe(e,t){e=z_.from(e),t=z_.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}a(NGe,"compare")});var use=j(Xp=>{d();Xp.publicEncrypt=ise();Xp.privateDecrypt=lse();Xp.privateEncrypt=a(function(t,r){return Xp.publicEncrypt(t,r,!0)},"privateEncrypt");Xp.publicDecrypt=a(function(t,r){return Xp.privateDecrypt(t,r,!0)},"publicDecrypt")});var _se=j(Q_=>{"use strict";d();function fse(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}a(fse,"oldBrowser");var dse=rn(),hse=Tf(),pse=dse.Buffer,gse=dse.kMaxLength,KD=w.crypto||w.msCrypto,yse=Math.pow(2,32)-1;function mse(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>yse||e<0)throw new TypeError("offset must be a uint32");if(e>gse||e>t)throw new RangeError("offset out of range")}a(mse,"assertOffset");function bse(e,t,r){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>yse||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>gse)throw new RangeError("buffer too small")}a(bse,"assertSize");KD&&KD.getRandomValues||!_.default.browser?(Q_.randomFill=OGe,Q_.randomFillSync=qGe):(Q_.randomFill=fse,Q_.randomFillSync=fse);function OGe(e,t,r,n){if(!pse.isBuffer(e)&&!(e instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")n=t,t=0,r=e.length;else if(typeof r=="function")n=r,r=e.length-t;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return mse(t,e.length),bse(r,t,e.length),vse(e,t,r,n)}a(OGe,"randomFill");function vse(e,t,r,n){if(_.default.browser){var i=e.buffer,s=new Uint8Array(i,t,r);if(KD.getRandomValues(s),n){_.default.nextTick(function(){n(null,e)});return}return e}if(n){hse(r,function(l,u){if(l)return n(l);u.copy(e,t),n(null,e)});return}var o=hse(r);return o.copy(e,t),e}a(vse,"actualFill");function qGe(e,t,r){if(typeof t>"u"&&(t=0),!pse.isBuffer(e)&&!(e instanceof w.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return mse(t,e.length),r===void 0&&(r=e.length-t),bse(r,t,e.length),vse(e,t,r)}a(qGe,"randomFillSync")});var Rd=j(an=>{"use strict";d();an.randomBytes=an.rng=an.pseudoRandomBytes=an.prng=Tf();an.createHash=an.Hash=Ry();an.createHmac=an.Hmac=bL();var PGe=Yte(),FGe=Object.keys(PGe),UGe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(FGe);an.getHashes=function(){return UGe};var xse=IL();an.pbkdf2=xse.pbkdf2;an.pbkdf2Sync=xse.pbkdf2Sync;var xu=lne();an.Cipher=xu.Cipher;an.createCipher=xu.createCipher;an.Cipheriv=xu.Cipheriv;an.createCipheriv=xu.createCipheriv;an.Decipher=xu.Decipher;an.createDecipher=xu.createDecipher;an.Decipheriv=xu.Decipheriv;an.createDecipheriv=xu.createDecipheriv;an.getCiphers=xu.getCiphers;an.listCiphers=xu.listCiphers;var W_=wne();an.DiffieHellmanGroup=W_.DiffieHellmanGroup;an.createDiffieHellmanGroup=W_.createDiffieHellmanGroup;an.getDiffieHellman=W_.getDiffieHellman;an.createDiffieHellman=W_.createDiffieHellman;an.DiffieHellman=W_.DiffieHellman;var A8=Gae();an.createSign=A8.createSign;an.Sign=A8.Sign;an.createVerify=A8.createVerify;an.Verify=A8.Verify;an.createECDH=$ae();var E8=use();an.publicEncrypt=E8.publicEncrypt;an.privateEncrypt=E8.privateEncrypt;an.publicDecrypt=E8.publicDecrypt;an.privateDecrypt=E8.privateDecrypt;var wse=_se();an.randomFill=wse.randomFill;an.randomFillSync=wse.randomFillSync;an.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};an.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Jp=j((lir,$D)=>{d();var YGe=Vn(),Ase=function(){var e=65536,t=globalThis.crypto||globalThis.msCrypto;function r(s,o){for(let l=0;l<o;l+=e)t.getRandomValues(new Uint8Array(s.buffer,l+s.byteOffset,Math.min(o-l,e)))}a(r,"browserBytes");function n(s,o){new Uint8Array(s.buffer,s.byteOffset,o).set(t.randomBytes(o))}a(n,"nodeBytes");function i(){throw new Error("No secure random number generator available")}return a(i,"noImpl"),t&&t.getRandomValues?r:Yi!=null&&(t=Rd(),t&&t.randomBytes)?n:i}();Object.defineProperty($D.exports,"randombytes",{value:Ase});$D.exports.randombytes_buf=function(e){YGe(e,"out must be given"),Ase(e,e.byteLength)}});var Ese=j(()=>{d()});var XD=j((gir,kse)=>{d();function HGe(e){return new Uint8Array(e)}a(HGe,"sodium_malloc");function zGe(e){Sse(e),QGe().port1.postMessage(e.buffer,[e.buffer])}a(zGe,"sodium_free");function Sse(e){e.fill(0)}a(Sse,"sodium_memzero");var S8;function QGe(){if(S8)return S8;var e=globalThis.MessageChannel;return e==null&&({MessageChannel:e}=Ese()),S8=new e,S8}a(QGe,"loadSink");kse.exports={sodium_malloc:HGe,sodium_free:zGe,sodium_memzero:Sse}});var Zp=j((bir,JD)=>{d();JD.exports={crypto_verify_16:WGe,crypto_verify_32:VGe,crypto_verify_64:jGe};function k8(e,t,r,n,i){var s=0;for(let o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}a(k8,"vn");Object.defineProperty(JD.exports,"vn",{value:k8});function WGe(e,t,r,n){return k8(e,t,r,n,16)===0}a(WGe,"crypto_verify_16");function VGe(e,t,r,n){return k8(e,t,r,n,32)===0}a(VGe,"crypto_verify_32");function jGe(e,t,r,n){return k8(e,t,r,n,64)===0}a(jGe,"crypto_verify_64")});var ZD=j((xir,Cse)=>{d();var GGe=Vn(),{vn:KGe}=Zp();function $Ge(e){let t=e.byteLength;for(var r=1,n=0;n<t;n++)r+=e[n],e[n]=r,r>>=8}a($Ge,"sodium_increment");function XGe(e,t){return GGe(e.byteLength===t.byteLength,"buffers must be the same size"),KGe(e,0,t,0,e.byteLength)===0}a(XGe,"sodium_memcmp");function JGe(e){var t=0;for(let r=0;r<e.length;r++)t|=e[r];return t===0}a(JGe,"sodium_is_zero");Cse.exports={sodium_increment:$Ge,sodium_memcmp:XGe,sodium_is_zero:JGe}});var Mse=j((Eir,Tse)=>{d();function Ise(e){return e.length}a(Ise,"byteLength");function ZGe(e){let t=e.byteLength,r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}a(ZGe,"toString");function eKe(e,t,r=0,n=Ise(t)){let i=Math.min(n,e.byteLength-r);for(let s=0;s<i;s++)e[r+s]=t.charCodeAt(s);return i}a(eKe,"write");Tse.exports={byteLength:Ise,toString:ZGe,write:eKe}});var Lse=j((Cir,Rse)=>{d();var am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e1=new Uint8Array(256);for(let e=0;e<am.length;e++)e1[am.charCodeAt(e)]=e;e1[45]=62;e1[95]=63;function Bse(e){let t=e.length;return e.charCodeAt(t-1)===61&&t--,t>1&&e.charCodeAt(t-1)===61&&t--,t*3>>>2}a(Bse,"byteLength");function tKe(e){let t=e.byteLength,r="";for(let n=0;n<t;n+=3)r+=am[e[n]>>2]+am[(e[n]&3)<<4|e[n+1]>>4]+am[(e[n+1]&15)<<2|e[n+2]>>6]+am[e[n+2]&63];return t%3===2?r=r.substring(0,r.length-1)+"=":t%3===1&&(r=r.substring(0,r.length-2)+"=="),r}a(tKe,"toString");function rKe(e,t,r=0,n=Bse(t)){let i=Math.min(n,e.byteLength-r);for(let s=0,o=0;s<i;s+=4){let l=e1[t.charCodeAt(s)],u=e1[t.charCodeAt(s+1)],f=e1[t.charCodeAt(s+2)],h=e1[t.charCodeAt(s+3)];e[o++]=l<<2|u>>4,e[o++]=(u&15)<<4|f>>2,e[o++]=(f&3)<<6|h&63}return i}a(rKe,"write");Rse.exports={byteLength:Bse,toString:tKe,write:rKe}});var qse=j((Mir,Ose)=>{d();function Nse(e){return e.length>>>1}a(Nse,"byteLength");function nKe(e){let t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r}a(nKe,"toString");function iKe(e,t,r=0,n=Nse(t)){let i=Math.min(n,e.byteLength-r);for(let s=0;s<i;s++){let o=Dse(t.charCodeAt(s*2)),l=Dse(t.charCodeAt(s*2+1));if(o===void 0||l===void 0)return e.subarray(0,s);e[r+s]=o<<4|l}return i}a(iKe,"write");Ose.exports={byteLength:Nse,toString:nKe,write:iKe};function Dse(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}a(Dse,"hexValue")});var Fse=j((Lir,Pse)=>{d();function eN(e){let t=0;for(let r=0,n=e.length;r<n;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){let s=e.charCodeAt(r+1);if(s>=56320&&s<=57343){t+=4,r++;continue}}i<=127?t+=1:i<=2047?t+=2:t+=3}return t}a(eN,"byteLength");var tN;if(typeof TextDecoder<"u"){let e=new TextDecoder;tN=a(function(r){return e.decode(r)},"toString")}else tN=a(function(t){let r=t.byteLength,n="",i=0;for(;i<r;){let s=t[i];if(s<=127){n+=String.fromCharCode(s),i++;continue}let o=0,l=0;if(s<=223?(o=1,l=s&31):s<=239?(o=2,l=s&15):s<=244&&(o=3,l=s&7),r-i-o>0){let u=0;for(;u<o;)s=t[i+u+1],l=l<<6|s&63,u+=1}else l=65533,o=r-i;n+=String.fromCodePoint(l),i+=o+1}return n},"toString");var rN;if(typeof TextEncoder<"u"){let e=new TextEncoder;rN=a(function(r,n,i=0,s=eN(n)){let o=Math.min(s,r.byteLength-i);return e.encodeInto(n,r.subarray(i,i+o)),o},"write")}else rN=a(function(t,r,n=0,i=eN(r)){let s=Math.min(i,t.byteLength-n);t=t.subarray(n,n+s);let o=0,l=0;for(;o<r.length;){let u=r.codePointAt(o);if(u<=127){t[l++]=u,o++;continue}let f=0,h=0;for(u<=2047?(f=6,h=192):u<=65535?(f=12,h=224):u<=2097151&&(f=18,h=240),t[l++]=h|u>>f,f-=6;f>=0;)t[l++]=128|u>>f&63,f-=6;o+=u>=65536?2:1}return s},"write");Pse.exports={byteLength:eN,toString:tN,write:rN}});var Hse=j((Oir,Yse)=>{d();function Use(e){return e.length*2}a(Use,"byteLength");function aKe(e){let t=e.byteLength,r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+e[n+1]*256);return r}a(aKe,"toString");function sKe(e,t,r=0,n=Use(t)){let i=Math.min(n,e.byteLength-r),s=i;for(let o=0;o<t.length&&!((s-=2)<0);++o){let l=t.charCodeAt(o),u=l>>8,f=l%256;e[r+o*2]=f,e[r+o*2+1]=u}return i}a(sKe,"write");Yse.exports={byteLength:Use,toString:aKe,write:sKe}});var r1=j((iN,Vse)=>{d();var oKe=Mse(),cKe=Lse(),lKe=qse(),uKe=Fse(),fKe=Hse(),C8=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function V_(e){switch(e){case"ascii":return oKe;case"base64":return cKe;case"hex":return lKe;case"utf8":case"utf-8":case void 0:return uKe;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fKe;default:throw new Error(`Unknown encoding: ${e}`)}}a(V_,"codecFor");function zse(e){return e instanceof Uint8Array}a(zse,"isBuffer");function hKe(e){try{return V_(e),!0}catch{return!1}}a(hKe,"isEncoding");function dKe(e,t,r){let n=new Uint8Array(e);return t!==void 0&&iN.fill(n,t,0,n.byteLength,r),n}a(dKe,"alloc");function pKe(e){return new Uint8Array(e)}a(pKe,"allocUnsafe");function gKe(e){return new Uint8Array(e)}a(gKe,"allocUnsafeSlow");function yKe(e,t){return V_(t).byteLength(e)}a(yKe,"byteLength");function mKe(e,t){if(e===t)return 0;let r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){let s=e.getUint32(n,C8),o=t.getUint32(n,C8);if(s!==o)break}for(;n<r;n++){let i=e.getUint8(n),s=t.getUint8(n);if(i<s)return-1;if(i>s)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}a(mKe,"compare");function bKe(e,t){t===void 0&&(t=e.reduce((n,i)=>n+i.byteLength,0));let r=new Uint8Array(t);return e.reduce((n,i)=>(r.set(i,n),n+i.byteLength),0),r}a(bKe,"concat");function vKe(e,t,r=0,n=0,i=e.byteLength){if(i>0&&i<n||i===n||e.byteLength===0||t.byteLength===0)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-r<i-n&&(i=t.length-r+n);let s=i-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),s}a(vKe,"copy");function _Ke(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;let r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(e.getUint32(n,C8)!==t.getUint32(n,C8))return!1;for(;n<r;n++)if(e.getUint8(n)!==t.getUint8(n))return!1;return!0}a(_Ke,"equals");function xKe(e,t,r,n,i){if(typeof t=="string"?typeof r=="string"?(i=r,r=0,n=e.byteLength):typeof n=="string"&&(i=n,n=e.byteLength):typeof val=="number"?t=t&255:typeof val=="boolean"&&(t=+t),r<0||e.byteLength<r||e.byteLength<n)throw new RangeError("Out of range index");if(r===void 0&&(r=0),n===void 0&&(n=e.byteLength),n<=r)return e;if(t||(t=0),typeof t=="number")for(let s=r;s<n;++s)e[s]=t;else{t=zse(t)?t:nN(t,i);let s=t.byteLength;for(let o=0;o<n-r;++o)e[o+r]=t[o%s]}return e}a(xKe,"fill");function nN(e,t,r){return typeof e=="string"?wKe(e,t):Array.isArray(e)?AKe(e):ArrayBuffer.isView(e)?EKe(e):SKe(e,t,r)}a(nN,"from");function wKe(e,t){let r=V_(t),n=new Uint8Array(r.byteLength(e));return r.write(n,e,0,n.byteLength),n}a(wKe,"fromString");function AKe(e){let t=new Uint8Array(e.length);return t.set(e),t}a(AKe,"fromArray");function EKe(e){let t=new Uint8Array(e.byteLength);return t.set(e),t}a(EKe,"fromBuffer");function SKe(e,t,r){return new Uint8Array(e,t,r)}a(SKe,"fromArrayBuffer");function kKe(e,t,r,n){return Wse(e,t,r,n)!==-1}a(kKe,"includes");function Qse(e,t,r,n,i){if(e.byteLength===0)return-1;if(typeof r=="string"?(n=r,r=0):r===void 0?r=i?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(i)return-1;r=e.byteLength-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string")t=nN(t,n);else if(typeof t=="number")return t=t&255,i?e.indexOf(t,r):e.lastIndexOf(t,r);if(t.byteLength===0)return-1;if(i){let s=-1;for(let o=r;o<e.byteLength;o++)if(e[o]===t[s===-1?0:o-s]){if(s===-1&&(s=o),o-s+1===t.byteLength)return s}else s!==-1&&(o-=o-s),s=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let s=r;s>=0;s--){let o=!0;for(let l=0;l<t.byteLength;l++)if(e[s+l]!==t[l]){o=!1;break}if(o)return s}}return-1}a(Qse,"bidirectionalIndexOf");function Wse(e,t,r,n){return Qse(e,t,r,n,!0)}a(Wse,"indexOf");function CKe(e,t,r,n){return Qse(e,t,r,n,!1)}a(CKe,"lastIndexOf");function t1(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}a(t1,"swap");function IKe(e){let t=e.byteLength;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)t1(e,r,r+1);return e}a(IKe,"swap16");function TKe(e){let t=e.byteLength;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)t1(e,r,r+3),t1(e,r+1,r+2);return e}a(TKe,"swap32");function MKe(e){let t=e.byteLength;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)t1(e,r,r+7),t1(e,r+1,r+6),t1(e,r+2,r+5),t1(e,r+3,r+4);return e}a(MKe,"swap64");function BKe(e){return e}a(BKe,"toBuffer");function RKe(e,t,r=0,n=e.byteLength){let i=e.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(r!==0||n<i)&&(e=e.subarray(r,n)),V_(t).toString(e))}a(RKe,"toString");function LKe(e,t,r,n,i){return r===void 0?i="utf8":n===void 0&&typeof r=="string"?(i=r,r=void 0):i===void 0&&typeof n=="string"&&(i=n,n=void 0),V_(i).write(e,t,r,n)}a(LKe,"write");function DKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8}a(DKe,"writeDoubleLE");function NKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4}a(NKe,"writeFloatLE");function OKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4}a(OKe,"writeUInt32LE");function qKe(e,t,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4}a(qKe,"writeInt32LE");function PKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)}a(PKe,"readDoubleLE");function FKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)}a(FKe,"readFloatLE");function UKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)}a(UKe,"readUInt32LE");function YKe(e,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}a(YKe,"readInt32LE");Vse.exports=iN={isBuffer:zse,isEncoding:hKe,alloc:dKe,allocUnsafe:pKe,allocUnsafeSlow:gKe,byteLength:yKe,compare:mKe,concat:bKe,copy:vKe,equals:_Ke,fill:xKe,from:nN,includes:kKe,indexOf:Wse,lastIndexOf:CKe,swap16:IKe,swap32:TKe,swap64:MKe,toBuffer:BKe,toString:RKe,write:LKe,writeDoubleLE:DKe,writeFloatLE:NKe,writeUInt32LE:OKe,writeInt32LE:qKe,readDoubleLE:PKe,readFloatLE:FKe,readUInt32LE:UKe,readInt32LE:YKe}});var $se=j((Yir,Kse)=>{d();var Gse=Vn(),T8=r1();Kse.exports=Qf;var I8=128,jse=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qf(){return this instanceof Qf?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new Qf}a(Qf,"Sha512");Qf.prototype.update=function(e,t){Gse(this.finalised===!1,"Hash instance finalised");var[r,n]=HKe(e,t);this.bytesRead+=n;let i=n+this.pos&-128;this.buffer.set(r.subarray(0,I8-this.pos),this.pos);let s=this.pos;return n-=I8-this.pos,n>=0&&(M8(this.hh,this.hl,this.buffer,128),this.pos=0),n>127&&(M8(this.hh,this.hl,r.subarray(I8-s,i-s),i-I8),n%=128),this.buffer.set(r.subarray(r.byteLength-n)),this.pos=this.bytesRead&127,this.buffer.fill(0,this.pos),this};Qf.prototype.digest=function(e,t=0){if(Gse(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(M8(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),aN(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),M8(this.hh,this.hl,this.buffer,128),e instanceof Uint8Array&&e.byteLength>63){for(let n=0;n<8;n++)aN(e,8*n+t,this.hh[n],this.hl[n]);return e}let r=new Uint8Array(64);for(let n=0;n<8;n++)aN(r,8*n,this.hh[n],this.hl[n]);return typeof e=="string"?T8.toString(r,e):r};function aN(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r&255,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=n&255}a(aN,"ts64");function HKe(e,t){var r=T8.from(e,t);return[r,r.byteLength]}a(HKe,"formatInput");function M8(e,t,r,n){for(var i=new Int32Array(16),s=new Int32Array(16),o,l,u,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S,T,k,R,x,N,m,v,A,U=e[0],G=e[1],K=e[2],Z=e[3],O=e[4],$=e[5],L=e[6],ee=e[7],ve=t[0],ye=t[1],se=t[2],be=t[3],Y=t[4],D=t[5],J=t[6],q=t[7],I=0;n>=128;){for(T=0;T<16;T++)k=8*T+I,i[T]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],s[T]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(T=0;T<80;T++)if(o=U,l=G,u=K,f=Z,h=O,p=$,g=L,y=ee,E=ve,M=ye,z=se,P=be,Q=Y,V=D,W=J,F=q,R=ee,x=q,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=(O>>>14|Y<<32-14)^(O>>>18|Y<<32-18)^(Y>>>41-32|O<<32-(41-32)),x=(Y>>>14|O<<32-14)^(Y>>>18|O<<32-18)^(O>>>41-32|Y<<32-(41-32)),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=O&$^~O&L,x=Y&D^~Y&J,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=jse[T*2],x=jse[T*2+1],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=i[T%16],x=s[T%16],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,B=v&65535|A<<16,S=N&65535|m<<16,R=B,x=S,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=(U>>>28|ve<<32-28)^(ve>>>34-32|U<<32-(34-32))^(ve>>>39-32|U<<32-(39-32)),x=(ve>>>28|U<<32-28)^(U>>>34-32|ve<<32-(34-32))^(U>>>39-32|ve<<32-(39-32)),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,R=U&G^U&K^G&K,x=ve&ye^ve&se^ye&se,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,y=v&65535|A<<16,F=N&65535|m<<16,R=f,x=P,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=B,x=S,N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,f=v&65535|A<<16,P=N&65535|m<<16,G=o,K=l,Z=u,O=f,$=h,L=p,ee=g,U=y,ye=E,se=M,be=z,Y=P,D=Q,J=V,q=W,ve=F,T%16===15)for(k=0;k<16;k++)R=i[k],x=s[k],N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=i[(k+9)%16],x=s[(k+9)%16],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,B=i[(k+1)%16],S=s[(k+1)%16],R=(B>>>1|S<<32-1)^(B>>>8|S<<32-8)^B>>>7,x=(S>>>1|B<<32-1)^(S>>>8|B<<32-8)^(S>>>7|B<<32-7),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,B=i[(k+14)%16],S=s[(k+14)%16],R=(B>>>19|S<<32-19)^(S>>>61-32|B<<32-(61-32))^B>>>6,x=(S>>>19|B<<32-19)^(B>>>61-32|S<<32-(61-32))^(S>>>6|B<<32-6),N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,i[k]=v&65535|A<<16,s[k]=N&65535|m<<16;R=U,x=ve,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[0],x=t[0],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[0]=U=v&65535|A<<16,t[0]=ve=N&65535|m<<16,R=G,x=ye,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[1],x=t[1],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[1]=G=v&65535|A<<16,t[1]=ye=N&65535|m<<16,R=K,x=se,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[2],x=t[2],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[2]=K=v&65535|A<<16,t[2]=se=N&65535|m<<16,R=Z,x=be,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[3],x=t[3],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[3]=Z=v&65535|A<<16,t[3]=be=N&65535|m<<16,R=O,x=Y,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[4],x=t[4],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[4]=O=v&65535|A<<16,t[4]=Y=N&65535|m<<16,R=$,x=D,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[5],x=t[5],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[5]=$=v&65535|A<<16,t[5]=D=N&65535|m<<16,R=L,x=J,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[6],x=t[6],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[6]=L=v&65535|A<<16,t[6]=J=N&65535|m<<16,R=ee,x=q,N=x&65535,m=x>>>16,v=R&65535,A=R>>>16,R=e[7],x=t[7],N+=x&65535,m+=x>>>16,v+=R&65535,A+=R>>>16,m+=N>>>16,v+=m>>>16,A+=v>>>16,e[7]=ee=v&65535|A<<16,t[7]=q=N&65535|m<<16,I+=128,n-=128}}a(M8,"compress");function j_(e){if(!(this instanceof j_))return new j_(e);this.pad=T8.alloc(128),this.inner=Qf(),this.outer=Qf();let t=T8.alloc(64);e.byteLength>128&&(Qf().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(j_,"HMAC");j_.prototype.update=function(e,t){return this.inner.update(e,t),this};j_.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};Qf.HMAC=j_});var Jse=j((Qir,Xse)=>{d();var zKe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),QKe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var l=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=l<<2|u>>4,i[o++]=u<<4|f>>2,i[o++]=f<<6|h}return i}})(),WKe=zKe({"wasm-binary:./sha512.wat"(e,t){t.exports=QKe("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}}),VKe=WKe(),jKe=new WebAssembly.Module(VKe);Xse.exports=e=>new WebAssembly.Instance(jKe,e).exports});var Zse=j((jir,cN)=>{d();var sm=Vn(),R8=r1(),Wf=typeof WebAssembly<"u"&&Jse()({imports:{debug:{log(...e){console.log(...e.map(t=>(t>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),Wo=0,B8=[];cN.exports=zs;var GKe=cN.exports.SHA512_BYTES=64,oN=80,sN=216,G_=128;function zs(){if(!(this instanceof zs))return new zs;if(!Wf)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");B8.length||(B8.push(Wo),Wo+=sN),this.finalized=!1,this.digestLength=GKe,this.pointer=B8.pop(),this.pos=0,this.wasm=Wf,this._memory=new Uint8Array(Wf.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+sN),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+sN)}a(zs,"Sha512");zs.prototype._realloc=function(e){Wf.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Wf.memory.buffer)};zs.prototype.update=function(e,t){sm(this.finalized===!1,"Hash instance finalized"),Wo%8!==0&&(Wo+=8-Wo%8),sm(Wo%8===0,"input should be aligned for int64");let[r,n]=$Ke(e,t);return sm(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),Wo+e.length>this._memory.length&&this._realloc(Wo+e.length),this._memory.fill(0,Wo,Wo+XKe(n,G_)-G_),this._memory.set(r.subarray(0,G_-this.pos),this.pointer+oN+this.pos),this._memory.set(r.subarray(G_-this.pos),Wo),this.pos=this.pos+n&127,Wf.sha512(this.pointer,Wo,n,0),this};zs.prototype.digest=function(e,t=0){sm(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,B8.push(this.pointer);let r=this.pointer+oN+this.pos;this._memory.fill(0,r,this.pointer+oN+G_),Wf.sha512(this.pointer,Wo,0,1);let n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if(typeof e=="string")return R8.toString(n,e);sm(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),sm(e.byteLength>=this.digestLength+t,"output must have at least 'SHA512_BYTES' bytes remaining");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};zs.WASM=Wf;zs.WASM_SUPPORTED=typeof WebAssembly<"u";zs.ready=function(e){return e||(e=KKe),Wf?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))};zs.prototype.ready=zs.ready;function K_(e){if(!(this instanceof K_))return new K_(e);this.pad=R8.alloc(128),this.inner=zs(),this.outer=zs();let t=R8.alloc(64);e.byteLength>128&&(zs().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(K_,"HMAC");K_.prototype.update=function(e,t){return this.inner.update(e,t),this};K_.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};zs.HMAC=K_;function KKe(){}a(KKe,"noop");function $Ke(e,t){var r=R8.from(e,t);return[r,r.byteLength]}a($Ke,"formatInput");function XKe(e,t){return e+t-1&-t}a(XKe,"roundUp")});var lN=j((Xir,Pd)=>{d();var JKe=$se(),L8=Zse(),eoe=JKe;Pd.exports=function(){return new eoe};Pd.exports.ready=function(e){L8.ready(function(){e()})};Pd.exports.WASM_SUPPORTED=L8.SUPPORTED;Pd.exports.WASM_LOADED=!1;var $ir=Pd.exports.SHA512_BYTES=64;L8.ready(function(e){e||(Pd.exports.WASM_LOADED=!0,Pd.exports=eoe=L8)})});var noe=j((Zir,roe)=>{d();var{crypto_verify_32:ZKe}=Zp(),toe=lN(),D8=Vn(),uN=32,fN=32;function e$e(e,t,r){D8(e.byteLength===uN,"out should be 'crypto_auth_BYTES' in length"),D8(r.byteLength===fN,"key should be 'crypto_auth_KEYBYTES' in length");let n=new Uint8Array(64),i=toe.HMAC(r);i.update(t),i.digest(n),e.set(n.subarray(0,32))}a(e$e,"crypto_auth");function t$e(e,t,r){D8(e.byteLength===uN,"h should be 'crypto_auth_BYTES' in length"),D8(r.byteLength===fN,"key should be 'crypto_auth_KEYBYTES' in length");let n=toe.HMAC(r).update(t).digest();return ZKe(e,0,n,0)}a(t$e,"crypto_auth_verify");roe.exports={crypto_auth_BYTES:uN,crypto_auth_KEYBYTES:fN,crypto_auth:e$e,crypto_auth_verify:t$e}});var $_=j((rar,aoe)=>{d();var r$e=lN(),n$e=Vn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var hN=64,i$e=hN;function ioe(e,t,r){return n$e(e.byteLength===hN,"out must be 'crypto_hash_sha512_BYTES' bytes long"),r$e().update(t.subarray(0,r)).digest(e),0}a(ioe,"crypto_hash_sha512");function a$e(e,t,r){return ioe(e,t,r)}a(a$e,"crypto_hash");aoe.exports={crypto_hash:a$e,crypto_hash_sha512:ioe,crypto_hash_sha512_BYTES:hN,crypto_hash_BYTES:i$e}});var gN=j((sar,loe)=>{d();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var qc=a(function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},"gf"),aar=new Uint8Array(16),soe=new Uint8Array(32);soe[0]=9;var s$e=qc(),o$e=qc([1]),c$e=qc([56129,1]),l$e=qc([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u$e=qc([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f$e=qc([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h$e=qc([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d$e=qc([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p$e(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}a(p$e,"A");function g$e(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}a(g$e,"Z");function pN(e,t,r){var n,i,s=0,o=0,l=0,u=0,f=0,h=0,p=0,g=0,y=0,E=0,M=0,z=0,P=0,Q=0,V=0,W=0,F=0,B=0,S=0,T=0,k=0,R=0,x=0,N=0,m=0,v=0,A=0,U=0,G=0,K=0,Z=0,O=r[0],$=r[1],L=r[2],ee=r[3],ve=r[4],ye=r[5],se=r[6],be=r[7],Y=r[8],D=r[9],J=r[10],q=r[11],I=r[12],H=r[13],te=r[14],ie=r[15];n=t[0],s+=n*O,o+=n*$,l+=n*L,u+=n*ee,f+=n*ve,h+=n*ye,p+=n*se,g+=n*be,y+=n*Y,E+=n*D,M+=n*J,z+=n*q,P+=n*I,Q+=n*H,V+=n*te,W+=n*ie,n=t[1],o+=n*O,l+=n*$,u+=n*L,f+=n*ee,h+=n*ve,p+=n*ye,g+=n*se,y+=n*be,E+=n*Y,M+=n*D,z+=n*J,P+=n*q,Q+=n*I,V+=n*H,W+=n*te,F+=n*ie,n=t[2],l+=n*O,u+=n*$,f+=n*L,h+=n*ee,p+=n*ve,g+=n*ye,y+=n*se,E+=n*be,M+=n*Y,z+=n*D,P+=n*J,Q+=n*q,V+=n*I,W+=n*H,F+=n*te,B+=n*ie,n=t[3],u+=n*O,f+=n*$,h+=n*L,p+=n*ee,g+=n*ve,y+=n*ye,E+=n*se,M+=n*be,z+=n*Y,P+=n*D,Q+=n*J,V+=n*q,W+=n*I,F+=n*H,B+=n*te,S+=n*ie,n=t[4],f+=n*O,h+=n*$,p+=n*L,g+=n*ee,y+=n*ve,E+=n*ye,M+=n*se,z+=n*be,P+=n*Y,Q+=n*D,V+=n*J,W+=n*q,F+=n*I,B+=n*H,S+=n*te,T+=n*ie,n=t[5],h+=n*O,p+=n*$,g+=n*L,y+=n*ee,E+=n*ve,M+=n*ye,z+=n*se,P+=n*be,Q+=n*Y,V+=n*D,W+=n*J,F+=n*q,B+=n*I,S+=n*H,T+=n*te,k+=n*ie,n=t[6],p+=n*O,g+=n*$,y+=n*L,E+=n*ee,M+=n*ve,z+=n*ye,P+=n*se,Q+=n*be,V+=n*Y,W+=n*D,F+=n*J,B+=n*q,S+=n*I,T+=n*H,k+=n*te,R+=n*ie,n=t[7],g+=n*O,y+=n*$,E+=n*L,M+=n*ee,z+=n*ve,P+=n*ye,Q+=n*se,V+=n*be,W+=n*Y,F+=n*D,B+=n*J,S+=n*q,T+=n*I,k+=n*H,R+=n*te,x+=n*ie,n=t[8],y+=n*O,E+=n*$,M+=n*L,z+=n*ee,P+=n*ve,Q+=n*ye,V+=n*se,W+=n*be,F+=n*Y,B+=n*D,S+=n*J,T+=n*q,k+=n*I,R+=n*H,x+=n*te,N+=n*ie,n=t[9],E+=n*O,M+=n*$,z+=n*L,P+=n*ee,Q+=n*ve,V+=n*ye,W+=n*se,F+=n*be,B+=n*Y,S+=n*D,T+=n*J,k+=n*q,R+=n*I,x+=n*H,N+=n*te,m+=n*ie,n=t[10],M+=n*O,z+=n*$,P+=n*L,Q+=n*ee,V+=n*ve,W+=n*ye,F+=n*se,B+=n*be,S+=n*Y,T+=n*D,k+=n*J,R+=n*q,x+=n*I,N+=n*H,m+=n*te,v+=n*ie,n=t[11],z+=n*O,P+=n*$,Q+=n*L,V+=n*ee,W+=n*ve,F+=n*ye,B+=n*se,S+=n*be,T+=n*Y,k+=n*D,R+=n*J,x+=n*q,N+=n*I,m+=n*H,v+=n*te,A+=n*ie,n=t[12],P+=n*O,Q+=n*$,V+=n*L,W+=n*ee,F+=n*ve,B+=n*ye,S+=n*se,T+=n*be,k+=n*Y,R+=n*D,x+=n*J,N+=n*q,m+=n*I,v+=n*H,A+=n*te,U+=n*ie,n=t[13],Q+=n*O,V+=n*$,W+=n*L,F+=n*ee,B+=n*ve,S+=n*ye,T+=n*se,k+=n*be,R+=n*Y,x+=n*D,N+=n*J,m+=n*q,v+=n*I,A+=n*H,U+=n*te,G+=n*ie,n=t[14],V+=n*O,W+=n*$,F+=n*L,B+=n*ee,S+=n*ve,T+=n*ye,k+=n*se,R+=n*be,x+=n*Y,N+=n*D,m+=n*J,v+=n*q,A+=n*I,U+=n*H,G+=n*te,K+=n*ie,n=t[15],W+=n*O,F+=n*$,B+=n*L,S+=n*ee,T+=n*ve,k+=n*ye,R+=n*se,x+=n*be,N+=n*Y,m+=n*D,v+=n*J,A+=n*q,U+=n*I,G+=n*H,K+=n*te,Z+=n*ie,s+=38*F,o+=38*B,l+=38*S,u+=38*T,f+=38*k,h+=38*R,p+=38*x,g+=38*N,y+=38*m,E+=38*v,M+=38*A,z+=38*U,P+=38*G,Q+=38*K,V+=38*Z,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=l,e[3]=u,e[4]=f,e[5]=h,e[6]=p,e[7]=g,e[8]=y,e[9]=E,e[10]=M,e[11]=z,e[12]=P,e[13]=Q,e[14]=V,e[15]=W}a(pN,"M");function ooe(e,t){pN(e,t,t)}a(ooe,"S");function coe(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}a(coe,"sel25519");function y$e(e,t){var r,n,i,s=qc(),o=qc();for(r=0;r<16;r++)o[r]=t[r];for(dN(o),dN(o),dN(o),n=0;n<2;n++){for(s[0]=o[0]-65517,r=1;r<15;r++)s[r]=o[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,coe(o,s,1-i)}for(r=0;r<16;r++)e[2*r]=o[r]&255,e[2*r+1]=o[r]>>8}a(y$e,"pack25519");function m$e(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}a(m$e,"unpack25519");function b$e(e,t){var r=qc(),n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)ooe(r,r),n!==2&&n!==4&&pN(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}a(b$e,"inv25519");function dN(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}a(dN,"car25519");loe.exports={gf:qc,A:p$e,Z:g$e,M:pN,S:ooe,sel25519:coe,pack25519:y$e,unpack25519:m$e,inv25519:b$e,gf0:s$e,gf1:o$e,_9:soe,_121665:c$e,D:l$e,D2:u$e,X:f$e,Y:h$e,I:d$e}});var X_=j((lar,hoe)=>{d();var{_9:v$e,_121665:_$e,gf:om,inv25519:x$e,pack25519:w$e,unpack25519:A$e,sel25519:N8,A:O8,M:n1,Z:q8,S:P8}=gN(),mN=32,uoe=32;hoe.exports={crypto_scalarmult:foe,crypto_scalarmult_base:E$e,crypto_scalarmult_BYTES:mN,crypto_scalarmult_SCALARBYTES:uoe};function foe(e,t,r){yN(e,mN),yN(t,uoe),yN(r,mN);var n=new Uint8Array(32),i=new Float64Array(80),s,o,l=om(),u=om(),f=om(),h=om(),p=om(),g=om();for(o=0;o<31;o++)n[o]=t[o];for(n[31]=t[31]&127|64,n[0]&=248,A$e(i,r),o=0;o<16;o++)u[o]=i[o],h[o]=l[o]=f[o]=0;for(l[0]=h[0]=1,o=254;o>=0;--o)s=n[o>>>3]>>>(o&7)&1,N8(l,u,s),N8(f,h,s),O8(p,l,f),q8(l,l,f),O8(f,u,h),q8(u,u,h),P8(h,p),P8(g,l),n1(l,f,l),n1(f,u,p),O8(p,l,f),q8(l,l,f),P8(u,l),q8(f,h,g),n1(l,f,_$e),O8(l,l,h),n1(f,f,l),n1(l,h,g),n1(h,u,i),P8(u,p),N8(l,u,s),N8(f,h,s);for(o=0;o<16;o++)i[o+16]=l[o],i[o+32]=f[o],i[o+48]=u[o],i[o+64]=h[o];var y=i.subarray(32),E=i.subarray(16);return x$e(y,y),n1(E,E,y),w$e(e,E),0}a(foe,"crypto_scalarmult");function E$e(e,t){return foe(e,t,v$e)}a(E$e,"crypto_scalarmult_base");function yN(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}a(yN,"check")});var poe=j((har,doe)=>{d();var S$e=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),k$e=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var l=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=l<<2|u>>4,i[o++]=u<<4|f>>2,i[o++]=f<<6|h}return i}})(),C$e=S$e({"wasm-binary:./blake2b.wat"(e,t){t.exports=k$e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),I$e=C$e(),T$e=WebAssembly.compile(I$e);doe.exports=async e=>(await WebAssembly.instantiate(await T$e,e)).exports});var woe=j((mar,wu)=>{d();var Vo=Vn(),M$e=r1(),jf=null,goe=typeof WebAssembly<"u"&&poe()().then(e=>{jf=e}),Vf=64,F8=[];wu.exports=Qs;var yoe=wu.exports.BYTES_MIN=16,moe=wu.exports.BYTES_MAX=64,gar=wu.exports.BYTES=32,boe=wu.exports.KEYBYTES_MIN=16,voe=wu.exports.KEYBYTES_MAX=64,yar=wu.exports.KEYBYTES=32,_oe=wu.exports.SALTBYTES=16,xoe=wu.exports.PERSONALBYTES=16;function Qs(e,t,r,n,i){if(!(this instanceof Qs))return new Qs(e,t,r,n,i);if(!jf)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),i!==!0&&(Vo(e>=yoe,"digestLength must be at least "+yoe+", was given "+e),Vo(e<=moe,"digestLength must be at most "+moe+", was given "+e),t!=null&&(Vo(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),Vo(t.length>=boe,"key must be at least "+boe+", was given "+t.length),Vo(t.length<=voe,"key must be at least "+voe+", was given "+t.length)),r!=null&&(Vo(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Vo(r.length===_oe,"salt must be exactly "+_oe+", was given "+r.length)),n!=null&&(Vo(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Vo(n.length===xoe,"personal must be exactly "+xoe+", was given "+n.length))),F8.length||(F8.push(Vf),Vf+=216),this.digestLength=e,this.finalized=!1,this.pointer=F8.pop(),this._memory=new Uint8Array(jf.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),jf.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,Vf,Vf+t.length),this._memory[this.pointer+200]=128)}a(Qs,"Blake2b");Qs.prototype._realloc=function(e){jf.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(jf.memory.buffer)};Qs.prototype.update=function(e){return Vo(this.finalized===!1,"Hash instance finalized"),Vo(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),Vf+e.length>this._memory.length&&this._realloc(Vf+e.length),this._memory.set(e,Vf),jf.blake2b_update(this.pointer,Vf,Vf+e.length),this};Qs.prototype.digest=function(e){if(Vo(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,F8.push(this.pointer),jf.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return M$e.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);Vo(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e};Qs.prototype.final=Qs.prototype.digest;Qs.WASM=jf;Qs.SUPPORTED=typeof WebAssembly<"u";Qs.ready=function(e){return e||(e=B$e),goe?goe.then(()=>e(),e):e(new Error("WebAssembly not supported"))};Qs.prototype.ready=Qs.ready;Qs.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Qs.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function B$e(){}a(B$e,"noop")});var bN=j((Aar,Ws)=>{d();var Pc=Vn(),Z_=woe();function U8(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}a(U8,"ADD64AA");function Aoe(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}a(Aoe,"ADD64AC");function Moe(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}a(Moe,"B2B_GET32");function Fd(e,t,r,n,i,s){var o=J_[i],l=J_[i+1],u=J_[s],f=J_[s+1];U8(tn,e,t),Aoe(tn,e,o,l);var h=tn[n]^tn[e],p=tn[n+1]^tn[e+1];tn[n]=p,tn[n+1]=h,U8(tn,r,n),h=tn[t]^tn[r],p=tn[t+1]^tn[r+1],tn[t]=h>>>24^p<<8,tn[t+1]=p>>>24^h<<8,U8(tn,e,t),Aoe(tn,e,u,f),h=tn[n]^tn[e],p=tn[n+1]^tn[e+1],tn[n]=h>>>16^p<<16,tn[n+1]=p>>>16^h<<16,U8(tn,r,n),h=tn[t]^tn[r],p=tn[t+1]^tn[r+1],tn[t]=p>>>31^h<<1,tn[t+1]=h>>>31^p<<1}a(Fd,"B2B_G");var Boe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),R$e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ks=new Uint8Array(R$e.map(function(e){return e*2})),tn=new Uint32Array(32),J_=new Uint32Array(32);function Roe(e,t){var r=0;for(r=0;r<16;r++)tn[r]=e.h[r],tn[r+16]=Boe[r];for(tn[24]=tn[24]^e.t,tn[25]=tn[25]^e.t/4294967296,t&&(tn[28]=~tn[28],tn[29]=~tn[29]),r=0;r<32;r++)J_[r]=Moe(e.b,4*r);for(r=0;r<12;r++)Fd(0,8,16,24,ks[r*16+0],ks[r*16+1]),Fd(2,10,18,26,ks[r*16+2],ks[r*16+3]),Fd(4,12,20,28,ks[r*16+4],ks[r*16+5]),Fd(6,14,22,30,ks[r*16+6],ks[r*16+7]),Fd(0,10,20,30,ks[r*16+8],ks[r*16+9]),Fd(2,12,22,24,ks[r*16+10],ks[r*16+11]),Fd(4,14,16,26,ks[r*16+12],ks[r*16+13]),Fd(6,8,18,28,ks[r*16+14],ks[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^tn[r]^tn[r+16]}a(Roe,"blake2bCompress");var Ud=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function cm(e,t,r,n){Ud.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,Ud[0]=e,t&&(Ud[1]=t.length),Ud[2]=1,Ud[3]=1,r&&Ud.set(r,32),n&&Ud.set(n,48);for(var i=0;i<16;i++)this.h[i]=Boe[i]^Moe(Ud,i*4);t&&(Loe(this,t),this.c=128)}a(cm,"Blake2b");cm.prototype.update=function(e){return Pc(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),Loe(this,e),this};cm.prototype.digest=function(e){var t=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return Pc(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Pc(t.length>=this.outlen,"out must have at least outlen bytes of space"),L$e(this,t),e==="hex"?D$e(t):t};cm.prototype.final=cm.prototype.digest;cm.ready=function(e){Z_.ready(function(){e()})};function Loe(e,t){for(var r=0;r<t.length;r++)e.c===128&&(e.t+=e.c,Roe(e,!1),e.c=0),e.b[e.c++]=t[r]}a(Loe,"blake2bUpdate");function L$e(e,t){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Roe(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3);return t}a(L$e,"blake2bFinal");function D$e(e){for(var t="",r=0;r<e.length;r++)t+=N$e(e[r]);return t}a(D$e,"hexSlice");function N$e(e){return e<16?"0"+e.toString(16):e.toString(16)}a(N$e,"toHex");var O$e=cm;Ws.exports=a(function(t,r,n,i,s){return s!==!0&&(Pc(t>=Eoe,"outlen must be at least "+Eoe+", was given "+t),Pc(t<=Soe,"outlen must be at most "+Soe+", was given "+t),r!=null&&(Pc(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),Pc(r.length>=koe,"key must be at least "+koe+", was given "+r.length),Pc(r.length<=Coe,"key must be at most "+Coe+", was given "+r.length)),n!=null&&(Pc(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Pc(n.length===Ioe,"salt must be exactly "+Ioe+", was given "+n.length)),i!=null&&(Pc(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Pc(i.length===Toe,"personal must be exactly "+Toe+", was given "+i.length))),new O$e(t,r,n,i)},"createHash");Ws.exports.ready=function(e){Z_.ready(function(){e()})};Ws.exports.WASM_SUPPORTED=Z_.SUPPORTED;Ws.exports.WASM_LOADED=!1;var Eoe=Ws.exports.BYTES_MIN=16,Soe=Ws.exports.BYTES_MAX=64,xar=Ws.exports.BYTES=32,koe=Ws.exports.KEYBYTES_MIN=16,Coe=Ws.exports.KEYBYTES_MAX=64,war=Ws.exports.KEYBYTES=32,Ioe=Ws.exports.SALTBYTES=16,Toe=Ws.exports.PERSONALBYTES=16;Z_.ready(function(e){e||(Ws.exports.WASM_LOADED=!0,Ws.exports=Z_)})});var Y8=j((kar,Cs)=>{d();var jo=bN();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Cs.exports.crypto_generichash_PRIMITIVE="blake2b";Cs.exports.crypto_generichash_BYTES_MIN=jo.BYTES_MIN;Cs.exports.crypto_generichash_BYTES_MAX=jo.BYTES_MAX;Cs.exports.crypto_generichash_BYTES=jo.BYTES;Cs.exports.crypto_generichash_KEYBYTES_MIN=jo.KEYBYTES_MIN;Cs.exports.crypto_generichash_KEYBYTES_MAX=jo.KEYBYTES_MAX;Cs.exports.crypto_generichash_KEYBYTES=jo.KEYBYTES;Cs.exports.crypto_generichash_WASM_SUPPORTED=jo.WASM_SUPPORTED;Cs.exports.crypto_generichash_WASM_LOADED=!1;Cs.exports.crypto_generichash=function(e,t,r){jo(e.length,r).update(t).final(e)};Cs.exports.crypto_generichash_ready=jo.ready;Cs.exports.crypto_generichash_batch=function(e,t,r){for(var n=jo(e.length,r),i=0;i<t.length;i++)n.update(t[i]);n.final(e)};Cs.exports.crypto_generichash_instance=function(e,t){return t==null&&(t=Cs.exports.crypto_generichash_BYTES),jo(t,e)};jo.ready(function(e){Cs.exports.crypto_generichash_WASM_LOADED=jo.WASM_LOADED})});var Noe=j((Iar,Doe)=>{d();var q$e=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),P$e=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var l=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=l<<2|u>>4,i[o++]=u<<4|f>>2,i[o++]=f<<6|h}return i}})(),F$e=q$e({"wasm-binary:./xsalsa20.wat"(e,t){t.exports=P$e("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}}),U$e=F$e(),Y$e=new WebAssembly.Module(U$e);Doe.exports=e=>new WebAssembly.Instance(Y$e,e).exports});var W8=j((Bar,Poe)=>{d();var ex=typeof WebAssembly<"u"&&Noe()(),z8=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),Au=144,lm=Au,H8=[];Poe.exports=Eu;Eu.NONCEBYTES=24;Eu.KEYBYTES=32;Eu.core_hsalsa20=qoe;Eu.SIGMA=z8;function Eu(e,t){if(!(this instanceof Eu))return new Eu(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=ex?new Q8(e,t):new vN(e,t)}a(Eu,"XSalsa20");Eu.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t};Eu.prototype.final=Eu.prototype.finalize=function(){this._xor.finalize(),this._xor=null};function Q8(e,t){H8.length||(H8.push(Au),Au+=64),this._pointer=H8.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(ex.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}a(Q8,"WASM");Q8.prototype.realloc=function(e){ex.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(ex.memory.buffer)};Q8.prototype.update=function(e,t){var r=this._overflow+e.length,n=Au+this._overflow;lm=Au+r,lm>=this._memory.length&&this.realloc(lm),this._memory.set(e,n),ex.xsalsa20_xor(this._pointer,Au,Au,r,this._nonce,this._key),t.set(this._memory.subarray(n,Au+r)),this._overflow=r&63};Q8.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),lm>Au&&(this._memory.fill(0,Au,lm),lm=0),H8.push(this._pointer)};function vN(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,qoe(this._s,e,t,z8);for(var r=0;r<8;r++)this._z[r]=e[r+16]}a(vN,"Fallback");vN.prototype.update=function(e,t){for(var r=new Uint8Array(64),n=0,i=this._overflow,s=e.length+this._overflow,o=this._z,l=-this._overflow,u=-this._overflow;s>=64;){for(Ooe(r,o,this._s,z8);i<64;i++)t[u+i]=e[l+i]^r[i];for(n=1,i=8;i<16;i++)n+=o[i]&255|0,o[i]=n&255,n>>>=8;s-=64,u+=64,l+=64,i=0}if(s>0)for(Ooe(r,o,this._s,z8);i<s;i++)t[u+i]=e[l+i]^r[i];this._overflow=s&63};vN.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function Ooe(e,t,r,n){for(var i=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,s=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,o=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,l=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,u=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,h=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,p=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,g=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,E=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,M=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,z=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,P=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,Q=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,V=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,W=i,F=s,B=o,S=l,T=u,k=f,R=h,x=p,N=g,m=y,v=E,A=M,U=z,G=P,K=Q,Z=V,O,$=0;$<20;$+=2)O=W+U|0,T^=O<<7|O>>>25,O=T+W|0,N^=O<<9|O>>>23,O=N+T|0,U^=O<<13|O>>>19,O=U+N|0,W^=O<<18|O>>>14,O=k+F|0,m^=O<<7|O>>>25,O=m+k|0,G^=O<<9|O>>>23,O=G+m|0,F^=O<<13|O>>>19,O=F+G|0,k^=O<<18|O>>>14,O=v+R|0,K^=O<<7|O>>>25,O=K+v|0,B^=O<<9|O>>>23,O=B+K|0,R^=O<<13|O>>>19,O=R+B|0,v^=O<<18|O>>>14,O=Z+A|0,S^=O<<7|O>>>25,O=S+Z|0,x^=O<<9|O>>>23,O=x+S|0,A^=O<<13|O>>>19,O=A+x|0,Z^=O<<18|O>>>14,O=W+S|0,F^=O<<7|O>>>25,O=F+W|0,B^=O<<9|O>>>23,O=B+F|0,S^=O<<13|O>>>19,O=S+B|0,W^=O<<18|O>>>14,O=k+T|0,R^=O<<7|O>>>25,O=R+k|0,x^=O<<9|O>>>23,O=x+R|0,T^=O<<13|O>>>19,O=T+x|0,k^=O<<18|O>>>14,O=v+m|0,A^=O<<7|O>>>25,O=A+v|0,N^=O<<9|O>>>23,O=N+A|0,m^=O<<13|O>>>19,O=m+N|0,v^=O<<18|O>>>14,O=Z+K|0,U^=O<<7|O>>>25,O=U+Z|0,G^=O<<9|O>>>23,O=G+U|0,K^=O<<13|O>>>19,O=K+G|0,Z^=O<<18|O>>>14;W=W+i|0,F=F+s|0,B=B+o|0,S=S+l|0,T=T+u|0,k=k+f|0,R=R+h|0,x=x+p|0,N=N+g|0,m=m+y|0,v=v+E|0,A=A+M|0,U=U+z|0,G=G+P|0,K=K+Q|0,Z=Z+V|0,e[0]=W>>>0&255,e[1]=W>>>8&255,e[2]=W>>>16&255,e[3]=W>>>24&255,e[4]=F>>>0&255,e[5]=F>>>8&255,e[6]=F>>>16&255,e[7]=F>>>24&255,e[8]=B>>>0&255,e[9]=B>>>8&255,e[10]=B>>>16&255,e[11]=B>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255,e[32]=N>>>0&255,e[33]=N>>>8&255,e[34]=N>>>16&255,e[35]=N>>>24&255,e[36]=m>>>0&255,e[37]=m>>>8&255,e[38]=m>>>16&255,e[39]=m>>>24&255,e[40]=v>>>0&255,e[41]=v>>>8&255,e[42]=v>>>16&255,e[43]=v>>>24&255,e[44]=A>>>0&255,e[45]=A>>>8&255,e[46]=A>>>16&255,e[47]=A>>>24&255,e[48]=U>>>0&255,e[49]=U>>>8&255,e[50]=U>>>16&255,e[51]=U>>>24&255,e[52]=G>>>0&255,e[53]=G>>>8&255,e[54]=G>>>16&255,e[55]=G>>>24&255,e[56]=K>>>0&255,e[57]=K>>>8&255,e[58]=K>>>16&255,e[59]=K>>>24&255,e[60]=Z>>>0&255,e[61]=Z>>>8&255,e[62]=Z>>>16&255,e[63]=Z>>>24&255}a(Ooe,"core_salsa20");function qoe(e,t,r,n){for(var i=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,s=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,o=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,l=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,u=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,h=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,p=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,g=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,E=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,M=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,z=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,P=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,Q=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,V=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,W=i,F=s,B=o,S=l,T=u,k=f,R=h,x=p,N=g,m=y,v=E,A=M,U=z,G=P,K=Q,Z=V,O,$=0;$<20;$+=2)O=W+U|0,T^=O<<7|O>>>25,O=T+W|0,N^=O<<9|O>>>23,O=N+T|0,U^=O<<13|O>>>19,O=U+N|0,W^=O<<18|O>>>14,O=k+F|0,m^=O<<7|O>>>25,O=m+k|0,G^=O<<9|O>>>23,O=G+m|0,F^=O<<13|O>>>19,O=F+G|0,k^=O<<18|O>>>14,O=v+R|0,K^=O<<7|O>>>25,O=K+v|0,B^=O<<9|O>>>23,O=B+K|0,R^=O<<13|O>>>19,O=R+B|0,v^=O<<18|O>>>14,O=Z+A|0,S^=O<<7|O>>>25,O=S+Z|0,x^=O<<9|O>>>23,O=x+S|0,A^=O<<13|O>>>19,O=A+x|0,Z^=O<<18|O>>>14,O=W+S|0,F^=O<<7|O>>>25,O=F+W|0,B^=O<<9|O>>>23,O=B+F|0,S^=O<<13|O>>>19,O=S+B|0,W^=O<<18|O>>>14,O=k+T|0,R^=O<<7|O>>>25,O=R+k|0,x^=O<<9|O>>>23,O=x+R|0,T^=O<<13|O>>>19,O=T+x|0,k^=O<<18|O>>>14,O=v+m|0,A^=O<<7|O>>>25,O=A+v|0,N^=O<<9|O>>>23,O=N+A|0,m^=O<<13|O>>>19,O=m+N|0,v^=O<<18|O>>>14,O=Z+K|0,U^=O<<7|O>>>25,O=U+Z|0,G^=O<<9|O>>>23,O=G+U|0,K^=O<<13|O>>>19,O=K+G|0,Z^=O<<18|O>>>14;e[0]=W>>>0&255,e[1]=W>>>8&255,e[2]=W>>>16&255,e[3]=W>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=Z>>>0&255,e[13]=Z>>>8&255,e[14]=Z>>>16&255,e[15]=Z>>>24&255,e[16]=R>>>0&255,e[17]=R>>>8&255,e[18]=R>>>16&255,e[19]=R>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=N>>>0&255,e[25]=N>>>8&255,e[26]=N>>>16&255,e[27]=N>>>24&255,e[28]=m>>>0&255,e[29]=m>>>8&255,e[30]=m>>>16&255,e[31]=m>>>24&255}a(qoe,"core_hsalsa20")});var V8=j(Gf=>{d();var Foe=W8();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Gf.crypto_stream_KEYBYTES=32;Gf.crypto_stream_NONCEBYTES=24;Gf.crypto_stream_PRIMITIVE="xsalsa20";Gf.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;Gf.crypto_stream=function(e,t,r){e.fill(0),Gf.crypto_stream_xor(e,e,t,r)};Gf.crypto_stream_xor=function(e,t,r,n){let i=Foe(r,n);i.update(t,e),i.final()};Gf.crypto_stream_xor_instance=function(e,t){return new _N(e,t)};function _N(e,t){this._instance=Foe(e,t)}a(_N,"XOR");_N.prototype.update=function(e,t){this._instance.update(t,e)};_N.prototype.final=function(){this._instance.finalize(),this._instance=null}});var G8=j((qar,Uoe)=>{d();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var j8=a(function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,r,n,i,s,o,l,u;t=e[0]&255|(e[1]&255)<<8,this.r[0]=t&8191,r=e[2]&255|(e[3]&255)<<8,this.r[1]=(t>>>13|r<<3)&8191,n=e[4]&255|(e[5]&255)<<8,this.r[2]=(r>>>10|n<<6)&7939,i=e[6]&255|(e[7]&255)<<8,this.r[3]=(n>>>7|i<<9)&8191,s=e[8]&255|(e[9]&255)<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=e[10]&255|(e[11]&255)<<8,this.r[6]=(s>>>14|o<<2)&8191,l=e[12]&255|(e[13]&255)<<8,this.r[7]=(o>>>11|l<<5)&8065,u=e[14]&255|(e[15]&255)<<8,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127,this.pad[0]=e[16]&255|(e[17]&255)<<8,this.pad[1]=e[18]&255|(e[19]&255)<<8,this.pad[2]=e[20]&255|(e[21]&255)<<8,this.pad[3]=e[22]&255|(e[23]&255)<<8,this.pad[4]=e[24]&255|(e[25]&255)<<8,this.pad[5]=e[26]&255|(e[27]&255)<<8,this.pad[6]=e[28]&255|(e[29]&255)<<8,this.pad[7]=e[30]&255|(e[31]&255)<<8},"poly1305");j8.prototype.blocks=function(e,t,r){for(var n=this.fin?0:2048,i,s,o,l,u,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S=this.h[0],T=this.h[1],k=this.h[2],R=this.h[3],x=this.h[4],N=this.h[5],m=this.h[6],v=this.h[7],A=this.h[8],U=this.h[9],G=this.r[0],K=this.r[1],Z=this.r[2],O=this.r[3],$=this.r[4],L=this.r[5],ee=this.r[6],ve=this.r[7],ye=this.r[8],se=this.r[9];r>=16;)i=e[t+0]&255|(e[t+1]&255)<<8,S+=i&8191,s=e[t+2]&255|(e[t+3]&255)<<8,T+=(i>>>13|s<<3)&8191,o=e[t+4]&255|(e[t+5]&255)<<8,k+=(s>>>10|o<<6)&8191,l=e[t+6]&255|(e[t+7]&255)<<8,R+=(o>>>7|l<<9)&8191,u=e[t+8]&255|(e[t+9]&255)<<8,x+=(l>>>4|u<<12)&8191,N+=u>>>1&8191,f=e[t+10]&255|(e[t+11]&255)<<8,m+=(u>>>14|f<<2)&8191,h=e[t+12]&255|(e[t+13]&255)<<8,v+=(f>>>11|h<<5)&8191,p=e[t+14]&255|(e[t+15]&255)<<8,A+=(h>>>8|p<<8)&8191,U+=p>>>5|n,g=0,y=g,y+=S*G,y+=T*(5*se),y+=k*(5*ye),y+=R*(5*ve),y+=x*(5*ee),g=y>>>13,y&=8191,y+=N*(5*L),y+=m*(5*$),y+=v*(5*O),y+=A*(5*Z),y+=U*(5*K),g+=y>>>13,y&=8191,E=g,E+=S*K,E+=T*G,E+=k*(5*se),E+=R*(5*ye),E+=x*(5*ve),g=E>>>13,E&=8191,E+=N*(5*ee),E+=m*(5*L),E+=v*(5*$),E+=A*(5*O),E+=U*(5*Z),g+=E>>>13,E&=8191,M=g,M+=S*Z,M+=T*K,M+=k*G,M+=R*(5*se),M+=x*(5*ye),g=M>>>13,M&=8191,M+=N*(5*ve),M+=m*(5*ee),M+=v*(5*L),M+=A*(5*$),M+=U*(5*O),g+=M>>>13,M&=8191,z=g,z+=S*O,z+=T*Z,z+=k*K,z+=R*G,z+=x*(5*se),g=z>>>13,z&=8191,z+=N*(5*ye),z+=m*(5*ve),z+=v*(5*ee),z+=A*(5*L),z+=U*(5*$),g+=z>>>13,z&=8191,P=g,P+=S*$,P+=T*O,P+=k*Z,P+=R*K,P+=x*G,g=P>>>13,P&=8191,P+=N*(5*se),P+=m*(5*ye),P+=v*(5*ve),P+=A*(5*ee),P+=U*(5*L),g+=P>>>13,P&=8191,Q=g,Q+=S*L,Q+=T*$,Q+=k*O,Q+=R*Z,Q+=x*K,g=Q>>>13,Q&=8191,Q+=N*G,Q+=m*(5*se),Q+=v*(5*ye),Q+=A*(5*ve),Q+=U*(5*ee),g+=Q>>>13,Q&=8191,V=g,V+=S*ee,V+=T*L,V+=k*$,V+=R*O,V+=x*Z,g=V>>>13,V&=8191,V+=N*K,V+=m*G,V+=v*(5*se),V+=A*(5*ye),V+=U*(5*ve),g+=V>>>13,V&=8191,W=g,W+=S*ve,W+=T*ee,W+=k*L,W+=R*$,W+=x*O,g=W>>>13,W&=8191,W+=N*Z,W+=m*K,W+=v*G,W+=A*(5*se),W+=U*(5*ye),g+=W>>>13,W&=8191,F=g,F+=S*ye,F+=T*ve,F+=k*ee,F+=R*L,F+=x*$,g=F>>>13,F&=8191,F+=N*O,F+=m*Z,F+=v*K,F+=A*G,F+=U*(5*se),g+=F>>>13,F&=8191,B=g,B+=S*se,B+=T*ye,B+=k*ve,B+=R*ee,B+=x*L,g=B>>>13,B&=8191,B+=N*$,B+=m*O,B+=v*Z,B+=A*K,B+=U*G,g+=B>>>13,B&=8191,g=(g<<2)+g|0,g=g+y|0,y=g&8191,g=g>>>13,E+=g,S=y,T=E,k=M,R=z,x=P,N=Q,m=V,v=W,A=F,U=B,t+=16,r-=16;this.h[0]=S,this.h[1]=T,this.h[2]=k,this.h[3]=R,this.h[4]=x,this.h[5]=N,this.h[6]=m,this.h[7]=v,this.h[8]=A,this.h[9]=U};j8.prototype.finish=function(e,t){var r=new Uint16Array(10),n,i,s,o;if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=n*5,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,r[0]=this.h[0]+5,n=r[0]>>>13,r[0]&=8191,o=1;o<10;o++)r[o]=this.h[o]+n,n=r[o]>>>13,r[o]&=8191;for(r[9]-=1<<13,i=(n^1)-1,o=0;o<10;o++)r[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|r[o];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,s=this.h[0]+this.pad[0],this.h[0]=s&65535,o=1;o<8;o++)s=(this.h[o]+this.pad[o]|0)+(s>>>16)|0,this.h[o]=s&65535;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255};j8.prototype.update=function(e,t,r){var n,i;if(this.leftover){for(i=16-this.leftover,i>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};Uoe.exports=j8});var AN=j((Uar,Hoe)=>{d();var um=Vn(),H$e=G8(),{crypto_verify_16:z$e}=Zp(),xN=16,wN=32,Q$e="poly1305";Hoe.exports={crypto_onetimeauth:Yoe,crypto_onetimeauth_verify:W$e,crypto_onetimeauth_BYTES:xN,crypto_onetimeauth_KEYBYTES:wN,crypto_onetimeauth_PRIMITIVE:Q$e};function Yoe(e,t,r){um(e.byteLength===xN,"mac must be 'crypto_onetimeauth_BYTES' bytes"),um(t.byteLength!=null,"msg must be buffer"),um(r.byteLength===wN,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new H$e(r);n.update(t,0,t.byteLength),n.finish(e,0)}a(Yoe,"crypto_onetimeauth");function W$e(e,t,r){um(e.byteLength===xN,"mac must be 'crypto_onetimeauth_BYTES' bytes"),um(t.byteLength!=null,"msg must be buffer"),um(r.byteLength===wN,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return Yoe(n,t,r),z$e(e,0,n,0)}a(W$e,"crypto_onetimeauth_verify")});var EN=j((zar,Koe)=>{d();var Wi=Vn(),{crypto_stream:V$e,crypto_stream_xor:zoe}=V8(),{crypto_onetimeauth:j$e,crypto_onetimeauth_verify:G$e,crypto_onetimeauth_BYTES:K8,crypto_onetimeauth_KEYBYTES:Qoe}=AN(),i1=32,a1=24,fm=32,xl=16,tx=16;Koe.exports={crypto_secretbox:Woe,crypto_secretbox_open:Voe,crypto_secretbox_detached:K$e,crypto_secretbox_open_detached:$$e,crypto_secretbox_easy:joe,crypto_secretbox_open_easy:Goe,crypto_secretbox_KEYBYTES:i1,crypto_secretbox_NONCEBYTES:a1,crypto_secretbox_ZEROBYTES:fm,crypto_secretbox_BOXZEROBYTES:xl,crypto_secretbox_MACBYTES:tx};function Woe(e,t,r,n){Wi(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");let i=t.byteLength;Wi(i>=fm,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Wi(r.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(n.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes"),zoe(e,t,r,n),j$e(e.subarray(xl,xl+K8),e.subarray(xl+K8,e.byteLength),e.subarray(0,Qoe)),e.fill(0,0,xl)}a(Woe,"crypto_secretbox");function Voe(e,t,r,n){Wi(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");let i=e.byteLength;Wi(i>=fm,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Wi(r.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(n.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(Qoe);return V$e(s,r,n),G$e(t.subarray(xl,xl+K8),t.subarray(xl+K8,t.byteLength),s)===!1?!1:(zoe(e,t,r,n),e.fill(0,0,32),!0)}a(Voe,"crypto_secretbox_open");function K$e(e,t,r,n,i){Wi(e.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),Wi(t.byteLength===tx,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Wi(n.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(i.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(r.byteLength+t.byteLength);return joe(s,r,n,i),t.set(s.subarray(0,t.byteLength)),e.set(s.subarray(t.byteLength)),!0}a(K$e,"crypto_secretbox_detached");function $$e(e,t,r,n,i){Wi(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),Wi(r.byteLength===tx,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Wi(n.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(i.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let s=new Uint8Array(t.byteLength+r.byteLength);return s.set(r),s.set(t,r.byteLength),Goe(e,s,n,i)}a($$e,"crypto_secretbox_open_detached");function joe(e,t,r,n){Wi(e.byteLength===t.byteLength+tx,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Wi(r.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(n.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let i=new Uint8Array(fm+t.byteLength),s=new Uint8Array(i.byteLength);i.set(t,fm),Woe(s,i,r,n),e.set(s.subarray(xl))}a(joe,"crypto_secretbox_easy");function Goe(e,t,r,n){Wi(t.byteLength===e.byteLength+tx,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Wi(r.byteLength===a1,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Wi(n.byteLength===i1,"k must be 'crypto_secretbox_KEYBYTES' bytes");let i=new Uint8Array(xl+t.byteLength),s=new Uint8Array(i.byteLength);return i.set(t,xl),Voe(s,i,r,n)===!1?!1:(e.set(s.subarray(fm)),!0)}a(Goe,"crypto_secretbox_open_easy")});var rce=j((Var,tce)=>{d();var{crypto_hash_sha512:X$e}=$_(),{crypto_scalarmult:SN,crypto_scalarmult_base:$oe}=X_(),{randombytes:J$e}=Jp(),{crypto_generichash_batch:Xoe}=Y8(),{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:Z$e}=V8(),{crypto_secretbox_open_easy:eXe,crypto_secretbox_easy:tXe,crypto_secretbox_detached:rXe,crypto_secretbox_open_detached:nXe}=EN(),hm=W8(),Kf=Vn(),ku=32,dm=32,X8=24,iXe=32,aXe=16,$8=48,Joe=32,rx=32,Su=16,sXe=16,oXe=Z$e-sXe;tce.exports={crypto_box_easy:dXe,crypto_box_open_easy:yXe,crypto_box_keypair:Zoe,crypto_box_seed_keypair:cXe,crypto_box_seal:lXe,crypto_box_seal_open:uXe,crypto_box_PUBLICKEYBYTES:ku,crypto_box_SECRETKEYBYTES:dm,crypto_box_NONCEBYTES:X8,crypto_box_ZEROBYTES:iXe,crypto_box_BOXZEROBYTES:aXe,crypto_box_SEALBYTES:$8,crypto_box_SEEDBYTES:Joe,crypto_box_BEFORENMBYTES:rx,crypto_box_MACBYTES:Su};function Zoe(e,t){return Fc(e,ku),Fc(t,dm),J$e(t,32),$oe(e,t)}a(Zoe,"crypto_box_keypair");function cXe(e,t,r){Kf(e.byteLength===ku,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),Kf(t.byteLength===dm,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),Kf(t.byteLength===Joe,"sk should be 'crypto_box_SEEDBYTES' bytes");let n=new Uint8Array(64);return X$e(n,r,32),t.set(n.subarray(0,32)),n.fill(0),$oe(e,t)}a(cXe,"crypto_box_seed_keypair");function lXe(e,t,r){Fc(e,$8+t.length),Fc(r,ku);var n=e.subarray(0,ku),i=new Uint8Array(dm);Zoe(n,i);var s=new Uint8Array(X8);Xoe(s,[n,r]);var o=new Uint8Array(ku);SN(o,i,r);var l=new Uint8Array(rx),u=new Uint8Array(16);hm.core_hsalsa20(l,u,o,hm.SIGMA),tXe(e.subarray(n.length),t,s,l),kN(i)}a(lXe,"crypto_box_seal");function uXe(e,t,r,n){Fc(t,$8),Fc(e,t.length-$8),Fc(r,ku),Fc(n,dm);var i=t.subarray(0,ku),s=new Uint8Array(X8);Xoe(s,[i,r]);var o=new Uint8Array(ku);SN(o,n,i);var l=new Uint8Array(rx),u=new Uint8Array(16);return hm.core_hsalsa20(l,u,o,hm.SIGMA),eXe(e,t.subarray(i.length),s,l)}a(uXe,"crypto_box_seal_open");function ece(e,t,r){let n=new Uint8Array(16),i=new Uint8Array(32);return Kf(SN(i,r,t)===0),hm.core_hsalsa20(e,n,i,hm.SIGMA),!0}a(ece,"crypto_box_beforenm");function fXe(e,t,r,n,i){return rXe(e,t,r,n,i)}a(fXe,"crypto_box_detached_afternm");function hXe(e,t,r,n,i,s){Fc(t,Su),Fc(n,X8),Fc(i,ku),Fc(s,dm);let o=new Uint8Array(rx);Kf(ece(o,i,s));let l=fXe(e,t,r,n,o);return kN(o),l}a(hXe,"crypto_box_detached");function dXe(e,t,r,n,i){return Kf(e.length>=t.length+Su,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),Kf(t.length<=oXe,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),hXe(e.subarray(Su,t.length+Su),e.subarray(0,Su),t,r,n,i)}a(dXe,"crypto_box_easy");function pXe(e,t,r,n,i){return nXe(e,t,r,n,i)}a(pXe,"crypto_box_open_detached_afternm");function gXe(e,t,r,n,i,s){let o=new Uint8Array(rx);Kf(ece(o,i,s));let l=pXe(e,t,r,n,o);return kN(o),l}a(gXe,"crypto_box_open_detached");function yXe(e,t,r,n,i){return Kf(t.length>=e.length+Su,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),gXe(e,t.subarray(Su,e.length+Su),t.subarray(0,Su),r,n,i)}a(yXe,"crypto_box_open_easy");function Fc(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}a(Fc,"check");function kN(e){for(let t=0;t<e.length;t++)e[t]=0}a(kN,"cleanup")});var ice=j((Kar,TN)=>{d();var Z8=Vn(),eE=r1();TN.exports=$f;var mXe=TN.exports.SHA256_BYTES=32,CN=64,J8=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bXe(e,t,r,n){var i=((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+t,s=((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+n;return i+s<<0}a(bXe,"expand");function IN(e,t){var r,n,i,s,o,l,[u,f,h,p,g,y,E,M]=e;let z=new Uint32Array(64);for(let Q=0;Q<16;Q++)z[Q]=nce(t[Q]);for(let Q=16;Q<64;Q++)z[Q]=bXe(z[Q-2],z[Q-7],z[Q-15],z[Q-16]);for(let Q=0;Q<64;Q+=4)P(Q);e[0]=e[0]+u,e[1]=e[1]+f,e[2]=e[2]+h,e[3]=e[3]+p,e[4]=e[4]+g,e[5]=e[5]+y,e[6]=e[6]+E,e[7]=e[7]+M;function P(Q){r=g&y^~g&E,n=u&f^u&h^f&h,i=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),o=M+r+s+z[Q]+J8[Q],l=i+n,M=p+o,p=o+l,r=M&g^~M&y,n=p&u^p&f^u&f,i=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),s=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),o=E+r+s+z[Q+1]+J8[Q+1],l=i+n,E=h+o,h=o+l,r=E&M^~E&g,n=h&p^h&u^p&u,i=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),s=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),o=y+r+s+z[Q+2]+J8[Q+2],l=i+n,y=f+o,f=o+l,r=y&E^~y&M,n=f&h^f&p^h&p,i=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),s=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),o=g+r+s+z[Q+3]+J8[Q+3],l=i+n,g=u+o,u=o+l}a(P,"round")}a(IN,"compress");function $f(){return this instanceof $f?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=mXe,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new $f}a($f,"Sha256");$f.prototype.update=function(e,t){Z8(this.finalised===!1,"Hash instance finalised");var[r,n]=vXe(e,t),i=0;for(this.bytesRead+=n;n>0&&(this.load.set(r.subarray(i,i+CN-this.pos),this.pos),i+=CN-this.pos,n-=CN-this.pos,!(n<0));)this.pos=0,IN(this.state,this.words);return this.pos=this.bytesRead&63,this.load.fill(0,this.pos),this};$f.prototype.digest=function(e,t=0){Z8(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(IN(this.state,this.words),this.words.fill(0),this.pos=0);let r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),IN(this.state,this.words);let n=new Uint8Array(this.state.map(nce).buffer);if(!e)return new Uint8Array(n);if(typeof e=="string")return eE.toString(n,e);Z8(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),Z8(e.byteLength>=this.digestLength+t,"input not large enough for digest");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};function nx(e){if(!(this instanceof nx))return new nx(e);this.pad=eE.alloc(64),this.inner=$f(),this.outer=$f();let t=eE.alloc(32);e.byteLength>64&&($f().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(nx,"HMAC");nx.prototype.update=function(e,t){return this.inner.update(e,t),this};nx.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};$f.HMAC=nx;function vXe(e,t){var r=eE.from(e,t);return[r,r.byteLength]}a(vXe,"formatInput");function nce(e){var t=(e&16711935)>>>8|(e&16711935)<<24,r=(e&4278255360)<<8|(e&4278255360)>>>24;return t|r}a(nce,"bswap")});var sce=j((Jar,ace)=>{d();var _Xe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),xXe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var l=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=l<<2|u>>4,i[o++]=u<<4|f>>2,i[o++]=f<<6|h}return i}})(),wXe=_Xe({"wasm-binary:./sha256.wat"(e,t){t.exports=xXe("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}}),AXe=wXe(),EXe=new WebAssembly.Module(AXe);ace.exports=e=>new WebAssembly.Instance(EXe,e).exports});var oce=j((tsr,RN)=>{d();var pm=Vn(),rE=r1(),Yd=typeof WebAssembly<"u"&&sce()({imports:{debug:{log(...e){console.log(...e.map(t=>(t>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),Go=0,tE=[];RN.exports=Vs;var SXe=RN.exports.SHA256_BYTES=32,BN=40,MN=108,ix=64;function Vs(){if(!(this instanceof Vs))return new Vs;if(!Yd)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");tE.length||(tE.push(Go),Go+=MN),this.finalized=!1,this.digestLength=SXe,this.pointer=tE.pop(),this.pos=0,this._memory=new Uint8Array(Yd.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+MN),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+MN)}a(Vs,"Sha256");Vs.prototype._realloc=function(e){Yd.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Yd.memory.buffer)};Vs.prototype.update=function(e,t){pm(this.finalized===!1,"Hash instance finalized"),Go%4!==0&&(Go+=4-Go%4),pm(Go%4===0,"input shoud be aligned for int32");let[r,n]=CXe(e,t);return pm(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),Go+n>this._memory.length&&this._realloc(Go+e.length),this._memory.fill(0,Go,Go+IXe(n,ix)-ix),this._memory.set(r.subarray(0,ix-this.pos),this.pointer+BN+this.pos),this._memory.set(r.subarray(ix-this.pos),Go),this.pos=this.pos+n&63,Yd.sha256(this.pointer,Go,n,0),this};Vs.prototype.digest=function(e,t=0){pm(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,tE.push(this.pointer);let r=this.pointer+BN+this.pos;this._memory.fill(0,r,this.pointer+BN+ix),Yd.sha256(this.pointer,Go,0,1);let n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if(typeof e=="string")return rE.toString(n,e);pm(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),pm(e.byteLength>=this.digestLength+t,"output must have at least 'SHA256_BYTES' bytes remaining");for(let i=0;i<this.digestLength;i++)e[i+t]=n[i];return e};Vs.WASM=Yd;Vs.WASM_SUPPORTED=typeof WebAssembly<"u";Vs.ready=function(e){return e||(e=kXe),Yd?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))};Vs.prototype.ready=Vs.ready;function ax(e){if(!(this instanceof ax))return new ax(e);this.pad=rE.alloc(64),this.inner=Vs(),this.outer=Vs();let t=rE.alloc(32);e.byteLength>64&&(Vs().update(e).digest(t),e=t),this.pad.fill(54);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a(ax,"HMAC");ax.prototype.update=function(e,t){return this.inner.update(e,t),this};ax.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)};Vs.HMAC=ax;function kXe(){}a(kXe,"noop");function CXe(e,t){var r=rE.from(e,t);return[r,r.byteLength]}a(CXe,"formatInput");function IXe(e,t){return e+t-1&-t}a(IXe,"roundUp")});var lce=j((asr,Hd)=>{d();var TXe=ice(),nE=oce(),cce=TXe;Hd.exports=function(){return new cce};Hd.exports.ready=function(e){nE.ready(function(){e()})};Hd.exports.WASM_SUPPORTED=nE.WASM_SUPPORTED;Hd.exports.WASM_LOADED=!1;var isr=Hd.exports.SHA256_BYTES=32;nE.ready(function(e){e||(Hd.exports.WASM_LOADED=!0,Hd.exports=cce=nE)})});var hce=j((osr,fce)=>{d();var MXe=lce(),BXe=Vn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var uce=32;function RXe(e,t,r){return BXe(e.byteLength===uce,"out must be 'crypto_hash_sha256_BYTES' bytes long"),MXe().update(t.subarray(0,r)).digest(e),0}a(RXe,"crypto_hash_sha256");fce.exports={crypto_hash_sha256:RXe,crypto_hash_sha256_BYTES:uce}});var dce=j((usr,js)=>{d();var iE=Vn(),LXe=Jp().randombytes_buf,LN=bN();js.exports.crypto_kdf_PRIMITIVE="blake2b";js.exports.crypto_kdf_BYTES_MIN=16;js.exports.crypto_kdf_BYTES_MAX=64;js.exports.crypto_kdf_CONTEXTBYTES=8;js.exports.crypto_kdf_KEYBYTES=32;function DXe(e,t){var r=1,n=0;for(e[0]=t&255;++n<8&&(r*=256);)e[n]=t/r&255}a(DXe,"STORE64_LE");js.exports.crypto_kdf_derive_from_key=a(function(t,r,n,i){iE(t.length>=js.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),iE(r>=0&&r<=9007199254740991,"subkey_id must be safe integer"),iE(n.length>=js.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var s=new Uint8Array(LN.PERSONALBYTES),o=new Uint8Array(LN.SALTBYTES);s.set(n,0,js.exports.crypto_kdf_CONTEXTBYTES),DXe(o,r);var l=Math.min(t.length,js.exports.crypto_kdf_BYTES_MAX);LN(l,i.subarray(0,js.exports.crypto_kdf_KEYBYTES),o,s,!0).final(t)},"crypto_kdf_derive_from_key");js.exports.crypto_kdf_keygen=a(function(t){iE(t.length>=js.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),LXe(t.subarray(0,js.exports.crypto_kdf_KEYBYTES))},"crypto_kdf_keygen")});var mce=j((dsr,yce)=>{d();var{crypto_scalarmult_base:pce}=X_(),{crypto_generichash:NXe}=Y8(),{randombytes_buf:OXe}=Jp(),sx=Vn(),gce=32,DN=32,aE=32;function qXe(e,t){return sx(e.byteLength===DN,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),sx(t.byteLength===aE,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),OXe(t,aE),pce(e,t)}a(qXe,"crypto_kx_keypair");function PXe(e,t,r){return sx(e.byteLength===DN,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),sx(t.byteLength===aE,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),sx(r.byteLength===gce,"seed must be 'crypto_kx_SEEDBYTES' bytes"),NXe(t,r),pce(e,t)}a(PXe,"crypto_kx_seed_keypair");yce.exports={crypto_kx_keypair:qXe,crypto_kx_seed_keypair:PXe,crypto_kx_SEEDBYTES:gce,crypto_kx_SECRETKEYBYTES:aE,crypto_kx_PUBLICKEYBYTES:DN}});var _ce=j((ysr,vce)=>{d();var ox=Vn();vce.exports=NN;var FXe=[1634760805,857760878,2036477234,1797285236];function NN(e,t,r){ox(t.byteLength===32),ox(e.byteLength===8||e.byteLength===12);let n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);r||(r=0),ox(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let s=0;s<4;s++)this.state[s]=FXe[s];for(let s=0;s<8;s++)this.state[4+s]=i[s];return this.state[12]=r&4294967295,n.byteLength===8?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=n[0],this.state[15]=n[1]):(this.state[13]=n[0],this.state[14]=n[1],this.state[15]=n[2]),this}a(NN,"Chacha20");NN.prototype.update=function(e,t){ox(!this.finalized,"cipher finalized."),ox(e.byteLength>=t.byteLength,"output cannot be shorter than input.");let r=t.length,n=this.pos%64;this.pos+=r;let i=0,s=bce(this.state);for(;n>0&&r>0;)e[i]=t[i++]^s[n],n=n+1&63,n||this.state[12]++,r--;for(;r>0;){if(s=bce(this.state),r<64){for(let o=0;o<r;o++)e[i]=t[i++]^s[n++],n&=63;return}for(;n<64;)e[i]=t[i++]^s[n++];this.state[12]++,n=0,r-=64}};NN.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0};function bce(e){let t=new Uint32Array(16);for(let r=16;r--;)t[r]=e[r];for(let r=0;r<20;r+=2)zd(t,0,4,8,12),zd(t,1,5,9,13),zd(t,2,6,10,14),zd(t,3,7,11,15),zd(t,0,5,10,15),zd(t,1,6,11,12),zd(t,2,7,8,13),zd(t,3,4,9,14);for(let r=0;r<16;r++)t[r]+=e[r];return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}a(bce,"chacha20Block");function sE(e,t){return e<<t|e>>>32-t}a(sE,"rotl");function zd(e,t,r,n,i){e[t]+=e[r],e[i]^=e[t],e[i]=sE(e[i],16),e[n]+=e[i],e[r]^=e[n],e[r]=sE(e[r],12),e[t]+=e[r],e[i]^=e[t],e[i]=sE(e[i],8),e[n]+=e[i],e[r]^=e[n],e[r]=sE(e[r],7)}a(zd,"QR")});var oE=j(ei=>{d();var Uc=Vn(),gm=_ce();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");ei.crypto_stream_chacha20_KEYBYTES=32;ei.crypto_stream_chacha20_NONCEBYTES=8;ei.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;ei.crypto_stream_chacha20_ietf_KEYBYTES=32;ei.crypto_stream_chacha20_ietf_NONCEBYTES=12;ei.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32;ei.crypto_stream_chacha20=function(e,t,r){e.fill(0),ei.crypto_stream_chacha20_xor(e,e,t,r)};ei.crypto_stream_chacha20_xor=function(e,t,r,n){Uc(r.byteLength===ei.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(n.byteLength===ei.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let i=new gm(r,n);i.update(e,t),i.final()};ei.crypto_stream_chacha20_xor_ic=function(e,t,r,n,i){Uc(r.byteLength===ei.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(i.byteLength===ei.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let s=new gm(r,i,n);s.update(e,t),s.final()};ei.crypto_stream_chacha20_xor_instance=function(e,t){return Uc(e.byteLength===ei.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Uc(t.byteLength===ei.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new gm(e,t)};ei.crypto_stream_chacha20_ietf=function(e,t,r){e.fill(0),ei.crypto_stream_chacha20_ietf_xor(e,e,t,r)};ei.crypto_stream_chacha20_ietf_xor=function(e,t,r,n){Uc(r.byteLength===ei.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(n.byteLength===ei.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let i=new gm(r,n);i.update(e,t),i.final()};ei.crypto_stream_chacha20_ietf_xor_ic=function(e,t,r,n,i){Uc(r.byteLength===ei.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(i.byteLength===ei.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let s=new gm(r,i,n);s.update(e,t),s.final()};ei.crypto_stream_chacha20_ietf_xor_instance=function(e,t){return Uc(e.byteLength===ei.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Uc(t.byteLength===ei.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new gm(e,t)}});var Cce=j((xsr,kce)=>{d();var{crypto_stream_chacha20_ietf:xce,crypto_stream_chacha20_ietf_xor_ic:wce}=oE(),{crypto_verify_16:UXe}=Zp(),Ace=G8(),Ma=Vn(),cx=32,YXe=0,lx=12,wl=16,ux=Number.MAX_SAFE_INTEGER,cE=new Uint8Array(16);function Ece(e,t,r,n,i,s){if(r===null)return Ece(e,t,new Uint8Array(0),n,i,s);Ma(e.byteLength===t.byteLength+wl,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),Ma(i.byteLength===lx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(s.byteLength===cx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(t.byteLength<=ux,"message is too large");let o=ON(e.subarray(0,t.byteLength),e.subarray(t.byteLength),t,r,n,i,s);return t.byteLength+o}a(Ece,"crypto_aead_chacha20poly1305_ietf_encrypt");function ON(e,t,r,n,i,s,o){if(n===null)return ON(e,t,r,new Uint8Array(0),i,s,o);Ma(e.byteLength===r.byteLength,"ciphertext should be same length than message"),Ma(s.byteLength===lx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(o.byteLength===cx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(r.byteLength<=ux,"message is too large"),Ma(t.byteLength<=wl,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let l=new Uint8Array(64);var u=new Uint8Array(8);xce(l,s,o);let f=new Ace(l);return l.fill(0),f.update(n,0,n.byteLength),f.update(cE,0,16-n.byteLength&15),wce(e,r,s,1,o),f.update(e,0,r.byteLength),f.update(cE,0,16-r.byteLength&15),lE(u,0,n.byteLength),f.update(u,0,u.byteLength),lE(u,0,r.byteLength),f.update(u,0,u.byteLength),f.finish(t,0),u.fill(0),wl}a(ON,"crypto_aead_chacha20poly1305_ietf_encrypt_detached");function Sce(e,t,r,n,i,s){if(n===null)return Sce(e,t,r,new Uint8Array(0),i,s);if(Ma(e.byteLength===r.byteLength-wl,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),Ma(i.byteLength===lx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(s.byteLength===cx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(e.byteLength<=ux,"message is too large"),r.byteLength<wl)throw new Error("could not verify data");return qN(e,t,r.subarray(0,r.byteLength-wl),r.subarray(r.byteLength-wl),n,i,s),r.byteLength-wl}a(Sce,"crypto_aead_chacha20poly1305_ietf_decrypt");function qN(e,t,r,n,i,s,o){if(i===null)return qN(e,t,r,n,new Uint8Array(0),s,o);Ma(r.byteLength===e.byteLength,"message should be same length than ciphertext"),Ma(s.byteLength===lx,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Ma(o.byteLength===cx,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Ma(e.byteLength<=ux,"message is too large"),Ma(n.byteLength<=wl,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let l=new Uint8Array(64),u=new Uint8Array(8),f=new Uint8Array(wl);xce(l,s,o);let h=new Ace(l);l.fill(0),h.update(i,0,i.byteLength),h.update(cE,0,16-i.byteLength&15);let p=r.byteLength;h.update(r,0,p),h.update(cE,0,16-p&15),lE(u,0,i.byteLength),h.update(u,0,u.byteLength),lE(u,0,p),h.update(u,0,u.byteLength),h.finish(f,0),Ma(f.byteLength===16);let g=UXe(f,0,n,0);if(f.fill(0),u.fill(0),!g)throw e.fill(0),new Error("could not verify data");wce(e,r,s,1,o)}a(qN,"crypto_aead_chacha20poly1305_ietf_decrypt_detached");function lE(e,t,r){e.fill(0,0,8);let n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint32(t,r&4294967295,!0),n.setUint32(t+4,r/2**32&4294967295,!0)}a(lE,"write64LE");kce.exports={crypto_aead_chacha20poly1305_ietf_encrypt:Ece,crypto_aead_chacha20poly1305_ietf_encrypt_detached:ON,crypto_aead_chacha20poly1305_ietf_decrypt:Sce,crypto_aead_chacha20poly1305_ietf_decrypt_detached:qN,crypto_aead_chacha20poly1305_ietf_ABYTES:wl,crypto_aead_chacha20poly1305_ietf_KEYBYTES:cx,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:lx,crypto_aead_chacha20poly1305_ietf_NSECBYTES:YXe,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:ux}});var Mce=j((Ssr,Tce)=>{d();var{sodium_malloc:Esr}=XD(),fx=Vn();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var HXe=32,Ice=16,zXe=32,QXe=16;function uE(e,t){return e&=4294967295,t&=4294967295,e<<t|e>>>32-t}a(uE,"ROTL32");function cs(e,t){fx(e instanceof Uint8Array,"src not byte array");let r=e[t];return r|=e[t+1]<<8,r|=e[t+2]<<16,r|=e[t+3]<<24,r}a(cs,"LOAD32_LE");function Xf(e,t,r){fx(e instanceof Uint8Array,"dest not byte array");var n=1,i=0;for(e[r]=t&255;++i<4&&(n*=256);)e[r+i]=t/n&255}a(Xf,"STORE32_LE");function Jf(e,t,r,n,i){e[t]+=e[r],e[i]=uE(e[i]^e[t],16),e[n]+=e[i],e[r]=uE(e[r]^e[n],12),e[t]+=e[r],e[i]=uE(e[i]^e[t],8),e[n]+=e[i],e[r]=uE(e[r]^e[n],7)}a(Jf,"QUARTERROUND");function WXe(e,t,r,n){fx(e instanceof Uint8Array&&e.length===32,"out is not an array of 32 bytes"),fx(r instanceof Uint8Array&&r.length===32,"k is not an array of 32 bytes"),fx(n===null||n instanceof Uint8Array&&n.length===16,"c is not null or an array of 16 bytes");let i=0,s=new Uint32Array(16);for(n?(s[0]=cs(n,0),s[1]=cs(n,4),s[2]=cs(n,8),s[3]=cs(n,12)):(s[0]=1634760805,s[1]=857760878,s[2]=2036477234,s[3]=1797285236),s[4]=cs(r,0),s[5]=cs(r,4),s[6]=cs(r,8),s[7]=cs(r,12),s[8]=cs(r,16),s[9]=cs(r,20),s[10]=cs(r,24),s[11]=cs(r,28),s[12]=cs(t,0),s[13]=cs(t,4),s[14]=cs(t,8),s[15]=cs(t,12),i=0;i<10;i++)Jf(s,0,4,8,12),Jf(s,1,5,9,13),Jf(s,2,6,10,14),Jf(s,3,7,11,15),Jf(s,0,5,10,15),Jf(s,1,6,11,12),Jf(s,2,7,8,13),Jf(s,3,4,9,14);return Xf(e,s[0],0),Xf(e,s[1],4),Xf(e,s[2],8),Xf(e,s[3],12),Xf(e,s[12],16),Xf(e,s[13],20),Xf(e,s[14],24),Xf(e,s[15],28),0}a(WXe,"crypto_core_hchacha20");function VXe(){return HXe}a(VXe,"crypto_core_hchacha20_outputbytes");function jXe(){return Ice}a(jXe,"crypto_core_hchacha20_inputbytes");function GXe(){return zXe}a(GXe,"crypto_core_hchacha20_keybytes");function KXe(){return QXe}a(KXe,"crypto_core_hchacha20_constbytes");Tce.exports={crypto_core_hchacha20_INPUTBYTES:Ice,LOAD32_LE:cs,STORE32_LE:Xf,QUARTERROUND:Jf,crypto_core_hchacha20:WXe,crypto_core_hchacha20_outputbytes:VXe,crypto_core_hchacha20_inputbytes:jXe,crypto_core_hchacha20_keybytes:GXe,crypto_core_hchacha20_constbytes:KXe}});var zce=j((Isr,Hce)=>{d();var xo=Vn(),{randombytes_buf:Bce}=Jp(),{crypto_stream_chacha20_ietf:Rce,crypto_stream_chacha20_ietf_xor:$Xe,crypto_stream_chacha20_ietf_xor_ic:fE,crypto_stream_chacha20_ietf_KEYBYTES:hx}=oE(),{crypto_core_hchacha20:Lce,crypto_core_hchacha20_INPUTBYTES:Dce}=Mce(),Nce=G8(),{sodium_increment:Oce,sodium_is_zero:qce,sodium_memcmp:XXe}=ZD(),Pce=16,Al=4,Cu=8,JXe=32,ym=JXe,ZXe=24,hE=ZXe,eJe=16,dE=1+eJe,Fce=Number.MAX_SAFE_INTEGER,tJe=Number.MAX_SAFE_INTEGER,rJe=1,nJe=new Uint8Array([0]),Uce=new Uint8Array([1]),yE=new Uint8Array([2]),iJe=new Uint8Array([Uce|yE]),s1=ym+Cu+Al+8,dx=0,Yc=ym,Qd=Yc+Cu+Al,pE=new Uint8Array(16);function gE(e,t){let r=1,n=0;for(e[0]=t&255;++n<8&&(r*=256);)e[n]=t/r&255}a(gE,"STORE64_LE");function PN(e){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let t=e.subarray(Yc,Qd);for(let r=0;r<Al;r++)t[r]=0;t[0]=1}a(PN,"crypto_secretstream_xchacha20poly1305_counter_reset");function aJe(e){xo(e.length===ym),Bce(e)}a(aJe,"crypto_secretstream_xchacha20poly1305_keygen");function sJe(e,t,r){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),xo(t instanceof Uint8Array&&t.length===hE,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),xo(r instanceof Uint8Array&&r.length===ym,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let n=e.subarray(dx,Yc),i=e.subarray(Yc,Qd),s=e.subarray(Qd);Bce(t,hE),Lce(n,t,r,null),PN(e);for(let o=0;o<Cu;o++)i[o+Al]=t[o+Dce];s.fill(0)}a(sJe,"crypto_secretstream_xchacha20poly1305_init_push");function oJe(e,t,r){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),xo(t instanceof Uint8Array&&t.length===hE,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),xo(r instanceof Uint8Array&&r.length===ym,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let n=e.subarray(dx,Yc),i=e.subarray(Yc,Qd),s=e.subarray(Qd);Lce(n,t,r,null),PN(e);for(let o=0;o<Cu;o++)i[o+Al]=t[o+Dce];s.fill(0)}a(oJe,"crypto_secretstream_xchacha20poly1305_init_pull");function FN(e){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let t=e.subarray(dx,Yc),r=e.subarray(Yc,Qd),n=new Uint8Array(hx+Cu),i;for(i=0;i<hx;i++)n[i]=t[i];for(i=0;i<Cu;i++)n[hx+i]=r[Al+i];for($Xe(n,n,r,t),i=0;i<hx;i++)t[i]=n[i];for(i=0;i<Cu;i++)r[Al+i]=n[hx+i];PN(e)}a(FN,"crypto_secretstream_xchacha20poly1305_rekey");function cJe(e,t,r,n,i){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));let s=e.subarray(dx,Yc),o=e.subarray(Yc,Qd),l=new Uint8Array(64),u=new Uint8Array(8);xo(Fce<=tJe),Rce(l,o,s);let f=new Nce(l);l.fill(0),f.update(n,0,n.byteLength),f.update(pE,0,16-n.byteLength&15),l[0]=i[0],fE(l,l,o,1,s),f.update(l,0,l.byteLength),t[0]=l[0];let h=t.subarray(1,t.byteLength);fE(h,r,o,2,s),f.update(h,0,r.byteLength),f.update(pE,0,16-l.byteLength+r.byteLength&15),gE(u,n.byteLength),f.update(u,0,u.byteLength),gE(u,l.byteLength+r.byteLength),f.update(u,0,u.byteLength);let p=t.subarray(1+r.byteLength,t.byteLength);return f.finish(p,0),xo(Pce>=Cu),Yce(o.subarray(Al,o.length),p,Cu),Oce(o),((i[0]&yE)!==0||qce(o.subarray(0,Al)))&&FN(e),dE+r.byteLength}a(cJe,"crypto_secretstream_xchacha20poly1305_push");function lJe(e,t,r,n,i){xo(e.byteLength===s1,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));let s=e.subarray(dx,Yc),o=e.subarray(Yc,Qd),l=new Uint8Array(64),u=new Uint8Array(8),f=new Uint8Array(Pce);xo(n.byteLength>=dE,"ciphertext is too short.");let h=n.byteLength-dE;Rce(l,o,s);let p=new Nce(l);l.fill(0),p.update(i,0,i.byteLength),p.update(pE,0,16-i.byteLength&15),l.fill(0),l[0]=n[0],fE(l,l,o,1,s),r[0]=l[0],l[0]=n[0],p.update(l,0,l.byteLength);let g=n.subarray(1,n.length);p.update(g,0,h),p.update(pE,0,16-l.byteLength+h&15),gE(u,i.byteLength),p.update(u,0,u.byteLength),gE(u,l.byteLength+t.byteLength),p.update(u,0,u.byteLength),p.finish(f,0);let y=n.subarray(1+h,n.length);if(!XXe(f,y))throw f.fill(0),new Error("MAC could not be verified.");return fE(t,g.subarray(0,t.length),o,2,s),Yce(o.subarray(Al,o.length),f,Cu),Oce(o),((r&yE)!==0||qce(o.subarray(0,Al)))&&FN(e),h}a(lJe,"crypto_secretstream_xchacha20poly1305_pull");function Yce(e,t,r){for(let n=0;n<r;n++)e[n]^=t[n]}a(Yce,"xor_buf");Hce.exports={crypto_secretstream_xchacha20poly1305_keygen:aJe,crypto_secretstream_xchacha20poly1305_init_push:sJe,crypto_secretstream_xchacha20poly1305_init_pull:oJe,crypto_secretstream_xchacha20poly1305_rekey:FN,crypto_secretstream_xchacha20poly1305_push:cJe,crypto_secretstream_xchacha20poly1305_pull:lJe,crypto_secretstream_xchacha20poly1305_STATEBYTES:s1,crypto_secretstream_xchacha20poly1305_ABYTES:dE,crypto_secretstream_xchacha20poly1305_HEADERBYTES:hE,crypto_secretstream_xchacha20poly1305_KEYBYTES:ym,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:Fce,crypto_secretstream_xchacha20poly1305_TAGBYTES:rJe,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:nJe,crypto_secretstream_xchacha20poly1305_TAG_PUSH:Uce,crypto_secretstream_xchacha20poly1305_TAG_REKEY:yE,crypto_secretstream_xchacha20poly1305_TAG_FINAL:iJe}});var Wce=j((Bsr,Qce)=>{d();var uJe=a((e,t)=>a(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require"),"__commonJS"),fJe=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var l=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],f=e[r.charCodeAt(s++)],h=e[r.charCodeAt(s++)];i[o++]=l<<2|u>>4,i[o++]=u<<4|f>>2,i[o++]=f<<6|h}return i}})(),hJe=uJe({"wasm-binary:./siphash24.wat"(e,t){t.exports=fJe("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}}),dJe=hJe(),pJe=new WebAssembly.Module(dJe);Qce.exports=e=>new WebAssembly.Instance(pJe,e).exports});var Gce=j((Dsr,jce)=>{d();jce.exports=gJe;function mE(e,t){var r=e.l+t.l,n={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=n.h,e.l=n.l}a(mE,"_add");function Is(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}a(Is,"_xor");function bE(e,t){var r={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=r.h,e.l=r.l}a(bE,"_rotl");function Vce(e){var t=e.l;e.l=e.h,e.h=t}a(Vce,"_rotl32");function Wd(e,t,r,n){mE(e,t),mE(r,n),bE(t,13),bE(n,16),Is(t,e),Is(n,r),Vce(e),mE(r,t),mE(e,n),bE(t,17),bE(n,21),Is(t,r),Is(n,e),Vce(r)}a(Wd,"_compress");function mm(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}a(mm,"_get_int");function gJe(e,t,r){var n={h:mm(r,4),l:mm(r,0)},i={h:mm(r,12),l:mm(r,8)},s={h:n.h,l:n.l},o=n,l={h:i.h,l:i.l},u=i,f,h=0,p=t.length,g=p-7,y=new Uint8Array(new ArrayBuffer(8));for(Is(s,{h:1936682341,l:1886610805}),Is(l,{h:1685025377,l:1852075885}),Is(o,{h:1819895653,l:1852142177}),Is(u,{h:1952801890,l:2037671283});h<g;)f={h:mm(t,h+4),l:mm(t,h)},Is(u,f),Wd(s,l,o,u),Wd(s,l,o,u),Is(s,f),h+=8;y[7]=p;for(var E=0;h<p;)y[E++]=t[h++];for(;E<7;)y[E++]=0;f={h:y[7]<<24|y[6]<<16|y[5]<<8|y[4],l:y[3]<<24|y[2]<<16|y[1]<<8|y[0]},Is(u,f),Wd(s,l,o,u),Wd(s,l,o,u),Is(s,f),Is(o,{h:0,l:255}),Wd(s,l,o,u),Wd(s,l,o,u),Wd(s,l,o,u),Wd(s,l,o,u);var M=s;Is(M,l),Is(M,o),Is(M,u),e[0]=M.l&255,e[1]=M.l>>8&255,e[2]=M.l>>16&255,e[3]=M.l>>24&255,e[4]=M.h&255,e[5]=M.h>>8&255,e[6]=M.h>>16&255,e[7]=M.h>>24&255}a(gJe,"fallback")});var Zce=j((qsr,Jce)=>{d();var Kce=Vn(),Vd=typeof WebAssembly<"u"&&Wce()(),yJe=Gce();Jce.exports=px;var $ce=px.BYTES=8,Xce=px.KEYBYTES=16;px.WASM_SUPPORTED=!!Vd;px.WASM_LOADED=!!Vd;var bm=new Uint8Array(Vd?Vd.memory.buffer:0);function px(e,t,r,n){return r||(r=new Uint8Array(8)),n!==!0&&(Kce(r.length>=$ce,"output must be at least "+$ce),Kce(t.length>=Xce,"key must be at least "+Xce)),Vd?(e.length+24>bm.length&&mJe(e.length+24),bm.set(t,8),bm.set(e,24),Vd.siphash(24,e.length),r.set(bm.subarray(0,8))):yJe(r,e,t),r}a(px,"siphash24");function mJe(e){Vd.memory.grow(Math.max(0,Math.ceil(Math.abs(e-bm.length)/65536))),bm=new Uint8Array(Vd.memory.buffer)}a(mJe,"realloc")});var ele=j(o1=>{d();var gx=Zce();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");o1.crypto_shorthash_PRIMITIVE="siphash24";o1.crypto_shorthash_BYTES=gx.BYTES;o1.crypto_shorthash_KEYBYTES=gx.KEYBYTES;o1.crypto_shorthash_WASM_SUPPORTED=gx.WASM_SUPPORTED;o1.crypto_shorthash_WASM_LOADED=gx.WASM_LOADED;o1.crypto_shorthash=bJe;function bJe(e,t,r,n){gx(t,r,e,n)}a(bJe,"shorthash")});var mle=j((zsr,yle)=>{d();var{crypto_verify_32:ole}=Zp(),{crypto_hash:_m}=$_(),{gf:Dr,gf0:tle,gf1:_E,D:vJe,D2:_Je,X:rle,Y:nle,I:xJe,A:c1,Z:l1,M:mi,S:vm,sel25519:wJe,pack25519:xm,inv25519:cle,unpack25519:AJe}=gN(),{randombytes:EJe}=Jp(),{crypto_scalarmult_BYTES:ile}=X_(),{crypto_hash_sha512_BYTES:SJe}=$_(),UN=Vn(),xE=32,zN=64,QN=32,lle=64,Iu=lle,wE=xE,WN=zN,ule=QN;yle.exports={crypto_sign_keypair:fle,crypto_sign_seed_keypair:CJe,crypto_sign:dle,crypto_sign_detached:IJe,crypto_sign_open:ple,crypto_sign_verify_detached:TJe,crypto_sign_BYTES:Iu,crypto_sign_PUBLICKEYBYTES:wE,crypto_sign_SECRETKEYBYTES:WN,crypto_sign_SEEDBYTES:ule,crypto_sign_ed25519_PUBLICKEYBYTES:xE,crypto_sign_ed25519_SECRETKEYBYTES:zN,crypto_sign_ed25519_SEEDBYTES:QN,crypto_sign_ed25519_BYTES:lle,crypto_sign_ed25519_pk_to_curve25519:RJe,crypto_sign_ed25519_sk_to_curve25519:NJe,crypto_sign_ed25519_sk_to_pk:DJe,unpackneg:GN,pack:AE};function jd(e,t){for(let r=0;r<16;r++)e[r]=t[r]|0}a(jd,"set25519");function kJe(e,t){var r=Dr(),n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)vm(r,r),n!==1&&mi(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}a(kJe,"pow2523");function YN(e,t){var r=Dr(),n=Dr(),i=Dr(),s=Dr(),o=Dr(),l=Dr(),u=Dr(),f=Dr(),h=Dr();l1(r,e[1],e[0]),l1(h,t[1],t[0]),mi(r,r,h),c1(n,e[0],e[1]),c1(h,t[0],t[1]),mi(n,n,h),mi(i,e[3],t[3]),mi(i,i,_Je),mi(s,e[2],t[2]),c1(s,s,s),l1(o,n,r),l1(l,s,i),c1(u,s,i),c1(f,n,r),mi(e[0],o,l),mi(e[1],f,u),mi(e[2],u,l),mi(e[3],o,f)}a(YN,"add");function ale(e,t,r){var n;for(n=0;n<4;n++)wJe(e[n],t[n],r)}a(ale,"cswap");function AE(e,t){var r=Dr(),n=Dr(),i=Dr();cle(i,t[2]),mi(r,t[0],i),mi(n,t[1],i),xm(e,n),e[31]^=gle(r)<<7}a(AE,"pack");function VN(e,t,r){var n=[Dr(t[0]),Dr(t[1]),Dr(t[2]),Dr(t[3])],i,s;for(jd(e[0],tle),jd(e[1],_E),jd(e[2],_E),jd(e[3],tle),s=255;s>=0;--s)i=r[s/8|0]>>(s&7)&1,ale(e,n,i),YN(n,e),YN(e,e),ale(e,n,i)}a(VN,"scalarmult");function jN(e,t){var r=[Dr(),Dr(),Dr(),Dr()];jd(r[0],rle),jd(r[1],nle),jd(r[2],_E),mi(r[3],rle,nle),VN(e,r,t)}a(jN,"scalarbase");function fle(e,t,r){wo(e,wE),wo(t,WN);var n=new Uint8Array(64),i=[Dr(),Dr(),Dr(),Dr()],s;for(r||EJe(t,32),_m(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,jN(i,n),AE(e,i),s=0;s<32;s++)t[s+32]=e[s]}a(fle,"crypto_sign_keypair");function CJe(e,t,r){return wo(r,ule),t.set(r),fle(e,t,!0)}a(CJe,"crypto_sign_seed_keypair");var vE=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function hle(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*vE[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*vE[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*vE[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=t[n]&255}a(hle,"modL");function HN(e){var t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;hle(e,t)}a(HN,"reduce");function dle(e,t,r){wo(e,Iu+t.length),wo(t,0),wo(r,WN);var n=t.length,i=new Uint8Array(64),s=new Uint8Array(64),o=new Uint8Array(64),l,u,f=new Float64Array(64),h=[Dr(),Dr(),Dr(),Dr()];_m(i,r,32),i[0]&=248,i[31]&=127,i[31]|=64;var p=n+64;for(l=0;l<n;l++)e[64+l]=t[l];for(l=0;l<32;l++)e[32+l]=i[32+l];for(_m(o,e.subarray(32),n+32),HN(o),jN(h,o),AE(e,h),l=32;l<64;l++)e[l]=r[l];for(_m(s,e,n+64),HN(s),l=0;l<64;l++)f[l]=0;for(l=0;l<32;l++)f[l]=o[l];for(l=0;l<32;l++)for(u=0;u<32;u++)f[l+u]+=s[l]*i[u];return hle(e.subarray(32),f),p}a(dle,"crypto_sign");function IJe(e,t,r){var n=new Uint8Array(t.length+Iu);dle(n,t,r);for(let i=0;i<Iu;i++)e[i]=n[i]}a(IJe,"crypto_sign_detached");function GN(e,t){var r=Dr(),n=Dr(),i=Dr(),s=Dr(),o=Dr(),l=Dr(),u=Dr();return jd(e[2],_E),AJe(e[1],t),vm(i,e[1]),mi(s,i,vJe),l1(i,i,e[2]),c1(s,e[2],s),vm(o,s),vm(l,o),mi(u,l,o),mi(r,u,i),mi(r,r,s),kJe(r,r),mi(r,r,i),mi(r,r,s),mi(r,r,s),mi(e[0],r,s),vm(n,e[0]),mi(n,n,s),sle(n,i)||mi(e[0],e[0],xJe),vm(n,e[0]),mi(n,n,s),sle(n,i)?(gle(e[0])===t[31]>>7&&l1(e[0],Dr(),e[0]),mi(e[3],e[0],e[1]),!0):!1}a(GN,"unpackneg");function ple(e,t,r){wo(e,t.length-Iu),wo(t,Iu),wo(r,wE);var n=t.length,i=new Uint8Array(t.length),s,o,l=new Uint8Array(32),u=new Uint8Array(64),f=[Dr(),Dr(),Dr(),Dr()],h=[Dr(),Dr(),Dr(),Dr()];if(o=-1,n<64||!GN(h,r))return!1;for(s=0;s<n;s++)i[s]=t[s];for(s=0;s<32;s++)i[s+32]=r[s];if(_m(u,i,n),HN(u),VN(f,h,u),jN(h,t.subarray(32)),YN(f,h),AE(l,f),n-=64,!ole(t,0,l,0)){for(s=0;s<n;s++)i[s]=0;return!1}for(s=0;s<n;s++)e[s]=t[s+64];return o=n,!0}a(ple,"crypto_sign_open");function TJe(e,t,r){wo(e,Iu);var n=new Uint8Array(t.length+Iu),i=0;for(i=0;i<Iu;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+Iu]=t[i];return ple(t,n,r)}a(TJe,"crypto_sign_verify_detached");function gle(e){var t=new Uint8Array(32);return xm(t,e),t[0]&1}a(gle,"par25519");function sle(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return xm(r,e),xm(n,t),ole(r,0,n,0)}a(sle,"neq25519");function MJe(e,t){VN(e,t,vE)}a(MJe,"ed25519_mul_l");function BJe(e){var t=[Dr(),Dr(),Dr(),Dr()];MJe(t,e);var r=0;for(let n=0;n<16;n++)r|=t[0][n]&65535;return r===0}a(BJe,"ed25519_is_on_main_subgroup");function RJe(e,t){wo(e,wE),wo(t,xE);var r=[Dr(),Dr(),Dr(),Dr()],n=Dr([1]),i=Dr([1]);UN(LJe(t)&&GN(r,t)&&BJe(r),"Cannot convert key: bad point");for(let s=0;s<r.length;s++)xm(e,r[s]);return l1(i,i,r[1]),c1(n,n,r[1]),cle(i,i),mi(n,n,i),xm(e,n),0}a(RJe,"crypto_sign_ed25519_pk_to_curve25519");function LJe(e){Uint8Array.from([]);var t=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7),n;wo(t,7);for(let s=0;s<t.length;s++)for(n=0;n<31;n++)r[s]|=e[n]^t[s][n];for(let s=0;s<t.length;s++)r[s]|=e[n]&127^t[s][n];var i=0;for(let s=0;s<t.length;s++)i|=r[s]-1;return(i>>8&1)===0}a(LJe,"isSmallOrder");function DJe(e,t){return wo(e,xE),e.set(t.subarray(QN)),e}a(DJe,"crypto_sign_ed25519_sk_to_pk");function NJe(e,t){UN(e&&e.byteLength===ile,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),UN(t&&t.byteLength===zN,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(SJe);return _m(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,e.set(r.subarray(0,ile)),r.fill(0),e}a(NJe,"crypto_sign_ed25519_sk_to_curve25519");function wo(e,t,r="Argument"){if(!e||t&&e.length<t)throw new Error(r+" must be a buffer"+(t?" of length "+t:""))}a(wo,"check")});var Gd=j((Vsr,ble)=>{"use strict";d();fa(Jp());fa(XD());fa(ZD());fa(Zp());fa(noe());fa(rce());fa(Y8());fa($_());fa(hce());fa(dce());fa(mce());fa(Cce());fa(AN());fa(X_());fa(EN());fa(zce());fa(ele());fa(mle());fa(V8());fa(oE());function fa(e){Object.keys(e).forEach(function(t){ble.exports[t]=e[t]})}a(fa,"forward")});var KN=j((Ksr,vle)=>{d();vle.exports=Gd()});var $N=j((Xsr,_le)=>{d();_le.exports=Symbol.for("nodejs.util.inspect.custom")});var Zf=j((Zsr,kle)=>{d();var{crypto_sign_BYTES:Sle,crypto_sign_SECRETKEYBYTES:OJe,crypto_sign_PUBLICKEYBYTES:xle,crypto_sign_detached:qJe,crypto_sign_verify_detached:PJe,crypto_sign_keypair:FJe}=KN(),UJe=$N(),XN=Symbol.for("Pico::block"),JN=Symbol.for("Pico::feed"),wle=b.Buffer.alloc(Sle).fill(0);kle.exports=a(class kn{static get MAX_FEED_SIZE(){return 64<<10}static get INITIAL_FEED_SIZE(){return 1<<10}static get PICKLE(){return b.Buffer.from("PIC0.")}static get KEY(){return b.Buffer.from("K0.")}static get BLOCK(){return b.Buffer.from("B0.")}static get KEY_SIZE(){return xle}static get SIGNATURE_SIZE(){return Sle}static get COUNTER_SIZE(){return 4}static get META_SIZE(){return kn.SIGNATURE_SIZE*2+kn.COUNTER_SIZE}static get BLOCK_SYMBOL(){return XN}static get FEED_SYMBOL(){return JN}static get GENESIS(){return wle}constructor(t={}){this[JN]=!0,this.tail=0,this._hasGenisis=null,this._keychain=[],this._cache=[],this._MAX_FEED_SIZE=t.maxSize||kn.MAX_FEED_SIZE,this.buf=b.Buffer.alloc(t.initialSize||kn.INITIAL_FEED_SIZE)}get partial(){return this._hasGenisis===null&&!this.length?!1:!this._hasGenisis}get free(){return this._MAX_FEED_SIZE-this.tail}get _isDirty(){if(!this.tail)return!1;if(!this._cache.length)return!0;let t=this._cache[this._cache.length-1];return kn.mapBlock(this.buf,t.offset).end!==this.tail}get length(){return this._reIndex(),this._cache.length}get last(){return this.get(this.length-1)}get first(){return this.get(0)}get keys(){return this._reIndex(),[...this._keychain]}_reIndex(t=!1){if(!t&&!this._isDirty)return;let r=this._index(t);for(;!r.next().done;);}_appendKey(t){this._ensureMinimumCapacity(this.tail+kn.KEY.length+t.length),this.tail+=kn.KEY.copy(this.buf,this.tail),this.tail+=t.copy(this.buf,this.tail)}_appendBlock(t){this._ensureMinimumCapacity(this.tail+t.length),this.tail+=t.copy(this.buf,this.tail)}_ensureMinimumCapacity(t){if(this.buf.length<t){let r=b.Buffer.allocUnsafe(t+32);this.buf.copy(r),this.buf=r}}_ensureKey(t){for(let r of this.keys)if(t.equals(r))return;this._appendKey(t)}get(t){this._isDirty&&this._reIndex(),t<0&&(t=this.length+t);let r=this._cache[t];if(!!r)return kn.mapBlock(this.buf,r.offset,this._keychain[r.keyId])}toArray(){let t=[];for(let r of this.blocks())t.push(r);return t}append(t,r,n){if(!r)throw new Error("Can't append without a signing secret");if(r.length!==64)throw new Error("Unknown signature secret key format");let i=r.slice(kn.KEY_SIZE);this._ensureKey(i);let s=kn.META_SIZE,o=this.last;b.Buffer.isBuffer(t)||(t=b.Buffer.from(t));let l=t.length,u=this.tail+l+s;if(this._MAX_FEED_SIZE<u){console.error(`MAX_FEED_SIZE reached, block won't fit: ${u} > ${this._MAX_FEED_SIZE}`);let h=new Error("FeedOverflowError");throw h.type=h.message,h.maxSize=this._MAX_FEED_SIZE,h.requestedSize=u,h.bytesOverflow=u-this._MAX_FEED_SIZE,h}this._ensureMinimumCapacity(u);let f=kn.mapBlock(this.buf,this.tail);if(f.header.fill(0),f.size=l,t.copy(f.body),o&&o.sig.copy(f.parentSig),qJe(f.sig,f.dat,r),!f.verify(i))throw new Error("newly stored block is invalid. something went wrong");return this.tail=u,typeof n=="function"&&n(null,this.length),this.length}*_index(t=!1){let r=0,n=0;t&&this._clearCache();let i=kn.KEY,s=kn.KEY_SIZE,o=null;for(;;){if(r>=this.tail||r+i.length>this.buf.length)return;if(i.equals(this.buf.slice(r,r+i.length))){let u=this.buf.slice(r+i.length,r+i.length+s),f=this._keychain.findIndex(h=>h.equals(u));~f||(f=this._keychain.length,this._keychain.push(u)),yield{type:0,id:f,key:u,offset:r},r+=i.length+s}else if(this._cache[n]&&this._cache[n].offset===r){let u=n++,f=this._cache[u],h=this._keychain[f.keyId];if(!h)throw new Error("InternalError:KeyCacheBroken");let p=kn.mapBlock(this.buf,f.offset,h);yield{type:1,seq:u,key:h,block:p,offset:f.offset},o=p.sig,r=p.end}else{let u=kn.mapBlock(this.buf,r);if(u.size===0||r+u.size>this.buf.length)return;if(!n)this._hasGenisis=u.parentSig.equals(b.Buffer.alloc(64));else if(!o.equals(u.parentSig))return;let f=!1;for(let h=this._keychain.length-1;h>=0;h--){if(f=u.verify(this._keychain[h]),!f)continue;let p=n++;u.key=this._keychain[h],this._cache[p]={offset:r,keyId:h},yield{type:1,seq:p,block:u,offset:r,key:this._keychain[h]},o=u.sig,r=u.end;break}if(!f)return}}}toString(){return this.pickle()}pickle(t=0){let r=encodeURIComponent(kn.PICKLE.toString("utf8")),n=kn.KEY,i=kn.BLOCK,s=(t?this.slice(t):this)._index();for(let o of s)r+=o.type?i+Ale(o.block.buffer):n+Ale(o.key);return r}slice(t=0,r=void 0,n=!1){let i=new kn;for(let s of this.blocks(t,r))n||i._ensureKey(s.key),i._appendBlock(s.buffer);return i}_unpack(t){if(!t)throw new Error("Missing first argument");if(typeof t!="string")throw new Error("url-friendly string expected");let r=encodeURIComponent(kn.PICKLE),n=encodeURIComponent(kn.KEY),i=encodeURIComponent(kn.BLOCK),s=t.indexOf(r);if(s===-1)throw new Error("NotPickleError");let o=r.length+s,l=0,u=0,f=-1,h=-1,p=a(()=>{if(f!==-1){let g=decodeURIComponent(t.substr(h,o-h-u-l+1));if(f)this._appendBlock(Ele(g));else{let y=Ele(g);if(y.length!==kn.KEY_SIZE)throw new Error("PSIG key wrong size: ");this._ensureKey(y)}f=-1}h=o+1,f=l?0:1,l=u=0},"processChunk");for(;o<t.length;)t[o]===n[l]?++l===n.length&&p():l=0,t[o]===i[u]?++u===i.length&&p():u=0,o++;p()}truncate(t){if(t===0)return this.tail=0,this._cache=[],this._keychain=[],!0;let r=this.tail,n=this.get(t-1);if(this.tail=n.end,r===this.tail)return!1;let i=this._cache.length-t;for(;i--;)this._cache.pop();return!0}*blocks(t=0,r=0){for(t<0&&(t=this.length+t),r||(r=this.length),r<0&&(r=this.length+r+1);t<r;)yield this.get(t++)}_steal(t,r=!1){return r?(this.buf=b.Buffer.alloc(t.buf.length),t.buf.copy(this.buf),this._cache=t._cache.map(n=>({...n}))):(this.buf=t.buf,this._cache=[...t._cache]),this._keychain=[...t._keychain],this._hasGenisis=t._hasGenisis,this.tail=t.tail,t._robbed=!0,!0}_clearCache(){this._keychain=[],this._cache=[]}merge(t,r={},n=null){if(typeof r=="function")return this.merge(t,void 0,r);let i=r.forceCopy||!1;if(!t)throw new Error("First argument `source` expected by merge");let s=kn.from(t),o=typeof n=="function",l=o?h=>{let p=!1;return n(h,()=>{p=!0}),p}:()=>!1,u=a(h=>{let p=!1;for(let g of h){let y=g.key;if(o&&l(g))return p;this._ensureKey(y),this._appendBlock(g.buffer),p=!0}return p},"rebase");if(!this.length)return o?u(s.blocks()):this._steal(s,i);let f=a(()=>{if(this._reverseMergeFlag)return!1;let h=s.clone();h._reverseMergeFlag=!0;let p=h.length;if((!o||!l(h.get(0)))&&h.merge(this,r,n)){if(p===h.length)throw new Error("InternalError:NothingMerged");return this._steal(h)}else return!1},"attemptReverseMerge");try{let h=this._compare(s);return h<1?!0:u(s.blocks(s.length-h))}catch(h){switch(h.type){case"BlockConflict":return!1;case"NoCommonParent":return this.partial?f():!1}throw h}}clone(){let t=new kn;return t._steal(this,!0),t}_compare(t){if(this===t)return 0;let r=[-1,-1],n=[this._index(),t._index()],i=[],s=[!1,!1],o=[],l=a(y=>{for(i[y]&&(o[y]=i[y].sig),i[y]=null;!i[y]&&!s[y];){let E=n[y].next();if(s[y]=s[y]||E.done,E.done&&typeof E.value>"u")break;E.value.type&&(r[y]++,i[y]=E.value.block)}},"step"),u=a(y=>{let E=r[y]-1;for(;i[y];)l(y);return r[y]-E},"fastForward"),f=0,h=1,p=a(y=>{let E=new Error(y);return E.type=y,E.idxA=r[f],E.idxB=r[h],E},"mkErr");if(l(h),!i[h])return-u(f);let g=i[h].parentSig;for(;!s[f]&&(l(f),!(!i[f]||i[f].parentSig.equals(g)));)if(i[f].sig.equals(g)&&this.length===r[f]+1)return u(h);if(!i[f])throw p("NoCommonParent");if(!i[f].sig.equals(i[h].sig))throw p("BlockConflict");for(;;)if(l(f),l(h),i[f]&&i[h]){if(!i[f].sig.equals(i[h].sig))throw p("BlockConflict")}else return!i[f]&&!i[h]?0:i[f]?-u(f):u(h)}inspect(t=!1){let n=[["ID","KEY","SIG","PARENT","HEX","ASCII"]],i=[2],s=0;for(let l of this.blocks()){let u=l.body.slice(0,12).toString("utf8"),f=[""+s++,l.key.slice(0,2).toString("hex"),l.sig.slice(0,4).toString("hex"),l.isGenesis?"_GENESIS":l.parentSig.slice(0,4).toString("hex"),l.body.slice(0,6).toString("hex").replace(/(.{2})/g,"$1 ").trimEnd(),u];for(let h=0;h<f.length;h++)i[h]=Math.max(i[h]||0,f[h].length);n.push(f)}let o=[];for(let l of n)o.push("\u2502 "+l.map((u,f)=>u.padEnd(i[f])).join(" \u2502 ")+" \u2502");if(o.splice(1,0,"\u251C".padEnd(o[0].length-1,"\u2500")+"\u2524"),!t)console.log(o.join(`
`));else return o.join(`
`)}static isFeed(t){return t&&t[JN]}static from(t,r={}){if(kn.isFeed(t))return t;let n=new kn(r);if(t[XN])n._ensureKey(t.key),n._appendBlock(t.buffer);else if(typeof t=="string")n._unpack(t);else if(typeof t.hash=="string")n._unpack(t.hash);else if(b.Buffer.isBuffer(t))n._unpack(t.toString("utf8"));else throw new Error("NotAFeed");return n}static fromBlockArray(t){if(!Array.isArray(t))throw new Error("fromBlockArray() expects an Array of blocks");let r={},n=0;for(let o of t)n+=o.size,r[o.key.toString("hex")]=1;let i=new kn,s=Object.keys(r).length*(kn.KEY_SIZE+kn.KEY.length)+t.length*kn.META_SIZE+n;i.buf=b.Buffer.alloc(s);for(let o of t)r[o.key.toString("hex")]<2&&i._appendKey(o.key),i._appendBlock(o.buffer);return i._reIndex(!0),i}static signPair(){let t=b.Buffer.allocUnsafe(OJe),r=b.Buffer.allocUnsafe(xle);return FJe(r,t),{sk:t,pk:r}}static mapBlock(t,r=0,n=null){let i=kn.SIGNATURE_SIZE,s=kn.COUNTER_SIZE,o=i+s,l={[XN]:!0,get start(){return r},get sig(){return t.slice(r,r+i)},get header(){return t.slice(r+i,r+i+o)},get parentSig(){return t.slice(r+i,r+i+i)},get size(){return t.readUInt32BE(r+i*2)},set size(u){if(typeof u!="number"||u<0||u+r+i+o>t.length)throw new Error("Invalid blob size");return t.writeUInt32BE(u,r+i*2)},get body(){return t.slice(r+i+o,l.safeEnd)},get dat(){return t.slice(r+i,l.safeEnd)},get end(){return r+i+o+l.size},get safeEnd(){let u=l.size;if(u<1)throw new Error("Invalid blob size: "+u);let f=r+i+o+u;if(f>t.length)throw new Error("Incomplete or invalid block: end overflows buffer length"+f);return f},get next(){return kn.mapBlock(t,l.safeEnd)},verify(u){return PJe(l.sig,l.dat,u)},get buffer(){return t.slice(r,l.safeEnd)},get key(){if(!n)throw new Error("InternalError:MissingKey");return n},set key(u){if(n)throw new Error("InternalError:KeyExists");n=u},get isGenesis(){return wle.equals(l.parentSig)},[UJe](){return`[BlockMapper] start: ${l.start}, blocksize: ${l.size}, id: ${l.sig.slice(0,6).toString("hex")}, parent: ${l.parentSig.slice(0,6).toString("hex")}`}};return l}},"PicoFeed");function Ale(e){return e.toString("base64").replace(/\+/,"-").replace(/\//g,"_").replace(/=+$/,"")}a(Ale,"b2ub");function Ele(e){return e=(e+"===").slice(0,e.length+e.length%4),e=e.replace(/-/g,"+").replace(/_/g,"/"),b.Buffer.from(e,"base64")}a(Ele,"ub2b")});var kE=j((ror,Tle)=>{d();var EE=Zf(),Cle=Symbol.for("PicoRepo"),u1=0,ZN=1,wm=2,yx=3,Ile=4,Tu=5,f1=6;function Cn(e,t){if(!b.Buffer.isBuffer(t))throw new Error("Expected key to be a Buffer");let r=b.Buffer.alloc(1+t.length);return t.copy(r,1),r[0]=e,r}a(Cn,"mkKey");var SE=class{static isRepo(t){return t&&t[Cle]}constructor(t,r=[]){this[Cle]=!0,this._db=t,this.allowDetached=!1,this._strategies=Array.isArray(r)?r:[r];for(let n of this._strategies)if(typeof n!="function")throw new Error("ExpectedCallback")}get mkKey(){return Cn}async _setHeadPtr(t,r){let n=Cn(u1,t);return await this._db.put(n,r),r}async _setLatestPtr(t,r){let n=Cn(yx,t);return await this._db.put(n,r),r}async _getTag(t,r){let n=Cn(t,r);return await this._db.get(n).catch(s=>{if(!s.notFound)throw s})}async _getHeadPtr(t){return this._getTag(u1,t)}async _getTailPtr(t){return this._getTag(wm,t)}async _getLatestPtr(t){return this._getTag(yx,t)}async _getChainPtr(t){return this._getTag(Tu,t)}async writeBlock(t){let r=Cn(ZN,t.sig),n=b.Buffer.alloc(32+t.buffer.length);t.key.copy(n,0),t.buffer.copy(n,32);let i=[];if(i.push({type:"put",key:r,value:n}),t.isGenesis)i.push({type:"put",key:Cn(wm,t.key),value:t.sig}),i.push({type:"put",key:Cn(Tu,t.sig),value:t.sig}),i.push({type:"put",key:Cn(f1,t.sig),value:t.sig});else{let s=Cn(Tu,t.parentSig),o=await this._db.get(s);i.push({type:"del",key:s}),i.push({type:"put",key:Cn(Tu,t.sig),value:o}),i.push({type:"put",key:Cn(f1,o),value:t.sig})}return await this._db.batch(i),!0}async readBlock(t){let r=Cn(ZN,t),n=await this._db.get(r).catch(i=>{if(!i.notFound)throw i});if(n)return EE.mapBlock(n,32,n.slice(0,32))}async _hasBlock(t){return!!await this.readBlock(t)}async _traceOwnerOf(t){let r=0;for await(let n of this._chainLoad(t)){if(n.isGenesis)return n.key;r++}if(r)throw new Error("Orphaned Chain")}async resolveFeed(t,r=void 0){let n=await this._getTag(Tu,t);if(n)return this.loadFeed(t,r);for await(let i of this._chainLoad(t))!i.isGenesis||(n=await this._getTag(f1,i.sig));if(!n)throw new Error("FeedNotFound");return this.loadFeed(n,r)}async merge(t,r){if(EE.isFeed(t)||(t=EE.from(t)),!t.length)return 0;let n=0,i=null,s=t.first;if(s.isGenesis?i=s.key:i=await this._traceOwnerOf(s.parentSig),!i)throw new Error("CannotMerge: Unknown Chain");for(let o of t.blocks()){let l=o.key,u=o.sig;if(await this._hasBlock(u))continue;let f=a(async()=>{await this.writeBlock(o),await this._setHeadPtr(i,o.sig),await this._setLatestPtr(l,o.sig),n++},"bumpHead"),h=await this._getHeadPtr(i);if(!h){await f();continue}if(h.equals(o.parentSig)){await f();continue}if(this.allowDetached&&(o.isGenesis||await this._hasBlock(o.parentSig))){await f();continue}if(!await this._hasBlock(o.parentSig))break;let p=!1;for await(let g of this._chainLoad(o.parentSig))if(h.equals(g.sig)){p=!0;break}if(p){await f();continue}if(await this._queryUserStrategy(o,r)){await f();continue}break}return n}async _queryUserStrategy(t,r){for(let n of[r,...this._strategies]){if(!n)continue;let i=n(t,this);if(typeof i.then!="function")throw new Error("PromiseExpected");if(await i)return!0}return!1}async loadHead(t,r=void 0){let n=await this._getHeadPtr(t);if(n)return this.loadFeed(n,r)}async loadLatest(t,r=void 0){let n=await this._getLatestPtr(t);if(n)return this.loadFeed(n,r)}async loadFeed(t,r=void 0){let n=0;Number.isInteger(r)&&r>0&&(n=r),n&&(r=a((o,l)=>!--n&&l(!0),"stopCallback"));let i=[];for await(let o of this._chainLoad(t)){let l=!1,u=!1;if(typeof r=="function"&&r(o,f=>{f?u=!0:l=!0}),l||i.unshift(o),u||l)break}let s=EE.fromBlockArray(i);if(s.length)return s}async*_chainLoad(t){let r=!0;for(;;){let n=await this.readBlock(t);if(!n&&r)break;if(r=!1,!n)throw new Error("ParentNotFound");if(yield n,n.isGenesis)break;t=n.parentSig}}async rollback(t,r){let n=!1,s=await(this.allowDetached?this.resolveFeed:this.loadHead).bind(this)(t,(p,g)=>{r&&p.sig.equals(r)&&(n=!0,g())});if(r&&!n)throw new Error("ReferenceNotFound");let o=[],l=[],u={};for(let p=s.length-1;p>=0;p--){let g=s.get(p),y=g.key.toString("hex");u[y]||(u[y]=await this._getLatestPtr(g.key)),u[y]?.equals(g.sig)&&l.push(g.key),o.push({type:"del",key:Cn(ZN,g.sig)})}let f=s.first.isGenesis;if(f&&!this.allowDetached)o.push({type:"del",key:Cn(wm,t)});else if(f){let p=s.first.key;(await this._getTailPtr(p))?.equals(s.first.sig)&&o.push({type:"del",key:Cn(wm,p)})}if(!this.allowDetached)o.push({type:"del",key:Cn(u1,t)}),f||o.push({type:"put",key:Cn(u1,t),value:r});else{let p=s.first.key;(await this._getHeadPtr(p))?.equals(s.last.sig)&&o.push({type:"del",key:Cn(u1,p)})}o.push({type:"del",key:Cn(Tu,s.last.sig)});let h=await this._getTag(Tu,s.last.sig);h&&o.push({type:"del",key:Cn(f1,h)}),h&&!f&&(o.push({type:"put",key:Cn(Tu,s.first.parentSig),value:h}),o.push({type:"put",key:Cn(f1,h),value:s.first.parentSig}));for(let p of l)o.push({type:"del",key:Cn(yx,p)});return await this._db.batch(o),s}get headOf(){return this._getHeadPtr}get tailOf(){return this._getTailPtr}get latestOf(){return this._getLatestPtr}get chainload(){return this._chainLoad}get ownerOf(){return this._traceOwnerOf}async writeReg(t,r){let n=Cn(Ile,b.Buffer.from(t));return await this._db.put(n,b.Buffer.from(r)),!0}async readReg(t){let r=Cn(Ile,b.Buffer.from(t));return await this._db.get(r).catch(i=>{if(!i.notFound)throw i})}async listHeads(){return this._listRange({gt:Cn(u1,b.Buffer.alloc(32).fill(0)),lt:Cn(u1,b.Buffer.alloc(32).fill(255))})}async listTails(){return this._listRange({gt:Cn(wm,b.Buffer.alloc(32).fill(0)),lt:Cn(wm,b.Buffer.alloc(32).fill(255))})}async listLatest(){return this._listRange({gt:Cn(yx,b.Buffer.alloc(32).fill(0)),lt:Cn(yx,b.Buffer.alloc(32).fill(255))})}async listFeeds(){return this._listRange({gt:Cn(Tu,b.Buffer.alloc(32).fill(0)),lt:Cn(Tu,b.Buffer.alloc(32).fill(255))})}async listFeedHeads(){return this._listRange({gt:Cn(f1,b.Buffer.alloc(32).fill(0)),lt:Cn(f1,b.Buffer.alloc(32).fill(255))})}async _listRange(t){let r=this._db.iterator(t),n=[];for(;;)try{let[i,s]=await new Promise((o,l)=>{r.next((u,f,h)=>{u?l(u):o([f,h])})});if(!i)break;n.push({key:i.slice(1),value:s})}catch(i){console.warn("Iterator died with an error",i);break}return await new Promise((i,s)=>{r.close(o=>o?s(o):i())}),n}};a(SE,"PicoRepo");Tle.exports=SE});var Rle=j((aor,Ble)=>{d();var eO=Zf(),CE=class{constructor(t){this.blocks=t.sublevel("b",{keyEncoding:"buffer",valueEncoding:"buffer"}),this.refs=t.sublevel("r",{keyEncoding:"buffer",valueEncoding:"buffer"})}async push(t){if(t.first.isGenesis)throw new Error("GenesisRefused");for(let r of t.blocks())await this.refs.put(r.parentSig,r.sig),await this._writeBlock(r)}async pop(t,r){let n=[],i=[],s=[],o=t,l=[];for(;;){let u=await this._readBlock(o);if(!u)break;n.push(u.parentSig),i.push(u.parentSig),l.push(u),o=u.parentSig}for(l.length&&s.push(eO.fromBlockArray(l)),o=r,l=[];;){let u=await this.refs.get(o).catch(Mle);if(!u)break;let f=await this._readBlock(u);n.push(u),i.push(f.sig),l.push(f),o=f.sig}return l.length&&s.push(eO.fromBlockArray(l)),await Promise.all([this.blocks.batch(i.map(u=>({type:"del",key:u}))),this.refs.batch(n.map(u=>({type:"del",key:u})))]),s}async _writeBlock(t){let r=t.sig,n=b.Buffer.alloc(32+t.buffer.length);t.key.copy(n,0),t.buffer.copy(n,32),await this.blocks.put(r,n)}async _readBlock(t){let r=await this.blocks.get(t).catch(Mle);if(r)return eO.mapBlock(r,32,r.slice(0,32))}async _hasBlock(t){return!!await this.readBlock(t)}};a(CE,"SparseBlockCache");function Mle(e){if(!e.notFound)throw e}a(Mle,"ignore404");Ble.exports=CE});var Dle=j((cor,Lle)=>{d();var Am=1e3,Em=Am*60,Sm=Em*60,h1=Sm*24,YJe=h1*7,HJe=h1*365.25;Lle.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return zJe(e);if(r==="number"&&isFinite(e))return t.long?WJe(e):QJe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function zJe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*HJe;case"weeks":case"week":case"w":return r*YJe;case"days":case"day":case"d":return r*h1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Sm;case"minutes":case"minute":case"mins":case"min":case"m":return r*Em;case"seconds":case"second":case"secs":case"sec":case"s":return r*Am;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}a(zJe,"parse");function QJe(e){var t=Math.abs(e);return t>=h1?Math.round(e/h1)+"d":t>=Sm?Math.round(e/Sm)+"h":t>=Em?Math.round(e/Em)+"m":t>=Am?Math.round(e/Am)+"s":e+"ms"}a(QJe,"fmtShort");function WJe(e){var t=Math.abs(e);return t>=h1?IE(e,t,h1,"day"):t>=Sm?IE(e,t,Sm,"hour"):t>=Em?IE(e,t,Em,"minute"):t>=Am?IE(e,t,Am,"second"):e+" ms"}a(WJe,"fmtLong");function IE(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}a(IE,"plural")});var Ole=j((hor,Nle)=>{d();function VJe(e){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Dle(),r.destroy=f,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function t(h){let p=0;for(let g=0;g<h.length;g++)p=(p<<5)-p+h.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}a(t,"selectColor"),r.selectColor=t;function r(h){let p,g=null,y,E;function M(...z){if(!M.enabled)return;let P=M,Q=Number(new Date),V=Q-(p||Q);P.diff=V,P.prev=p,P.curr=Q,p=Q,z[0]=r.coerce(z[0]),typeof z[0]!="string"&&z.unshift("%O");let W=0;z[0]=z[0].replace(/%([a-zA-Z%])/g,(B,S)=>{if(B==="%%")return"%";W++;let T=r.formatters[S];if(typeof T=="function"){let k=z[W];B=T.call(P,k),z.splice(W,1),W--}return B}),r.formatArgs.call(P,z),(P.log||r.log).apply(P,z)}return a(M,"debug"),M.namespace=h,M.useColors=r.useColors(),M.color=r.selectColor(h),M.extend=n,M.destroy=r.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,E=r.enabled(h)),E),set:z=>{g=z}}),typeof r.init=="function"&&r.init(M),M}a(r,"createDebug");function n(h,p){let g=r(this.namespace+(typeof p>"u"?":":p)+h);return g.log=this.log,g}a(n,"extend");function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let p,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(p=0;p<y;p++)!g[p]||(h=g[p].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}a(i,"enable");function s(){let h=[...r.names.map(l),...r.skips.map(l).map(p=>"-"+p)].join(",");return r.enable(""),h}a(s,"disable");function o(h){if(h[h.length-1]==="*")return!0;let p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(h))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(h))return!0;return!1}a(o,"enabled");function l(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}a(l,"toNamespace");function u(h){return h instanceof Error?h.stack||h.message:h}a(u,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a(f,"destroy"),r.enable(r.load()),r}a(VJe,"setup");Nle.exports=VJe});var Hc=j((Ko,TE)=>{d();Ko.formatArgs=GJe;Ko.save=KJe;Ko.load=$Je;Ko.useColors=jJe;Ko.storage=XJe();Ko.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ko.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jJe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}a(jJe,"useColors");function GJe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+TE.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}a(GJe,"formatArgs");Ko.log=console.debug||console.log||(()=>{});function KJe(e){try{e?Ko.storage.setItem("debug",e):Ko.storage.removeItem("debug")}catch{}}a(KJe,"save");function $Je(){let e;try{e=Ko.storage.getItem("debug")}catch{}return!e&&typeof _.default<"u"&&"env"in _.default&&(e=_.default.env.DEBUG),e}a($Je,"load");function XJe(){try{return localStorage}catch{}}a(XJe,"localstorage");TE.exports=Ole()(Ko);var{formatters:JJe}=TE.exports;JJe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Ule=j((mor,Fle)=>{d();var km=Hc()("pico:gc"),ZJe="GCt",BE=class{intervalId=null;constructor(t,r){this.packr=r,this.repo=t,this.db=t._db.sublevel(ZJe,{keyEncoding:"buffer",valueEncoding:"buffer"})}schedule(t,r,n,i,s=Date.now()){if(!i)throw new Error("PayloadExpected");let o=n.sig,l=this.packr.pack({slice:t,sig:o,payload:i,tags:r,date:s}),u=Ple(s);km("mark",new Date(s),"key:",u.toString("hex"),"payload:",i),this.db.put(u,l).catch(f=>console.error("Failed queing GC: ",f))}async tickQuery(t){let r={gt:b.Buffer.alloc(9),lt:Ple(t,255)};km("sweep range:",r.gt.toString("hex"),"...",r.lt.toString("hex"));let n=this.db.iterator(r),i=[],s=[];for(;;){let o=await n.next();if(!o)break;let[l,u]=o;i.push(this.packr.unpack(u)),s.push({type:"del",key:l})}return await n.close(),await this.db.batch(s),i}async collectGarbage(t=Date.now(),r){km("Starting collecting garbage..."),t=Math.floor(t);let n=await this.tickQuery(t);km("Fetched pending from store:",n.length);let i=new Set,s=[];for(let l of n){let{slice:u,sig:f,tags:h,payload:p,date:g}=l,y=r._stores.find(P=>P.name===u),E=await this.repo.readBlock(f),M=await(E&&this.repo.readBlock(E.parentSig));if(typeof y.sweep!="function")throw new Error("Slice does not implement Sweep()");let z=await y.sweep({block:E,parentBlock:M,now:t,sig:f,sweepAt:g,...h,payload:p,rootState:r.state,state:y.value,mark:(P,Q)=>this.schedule(u,h,E,P||p,Q),didMutate:P=>i.add(P),drop:P=>s.push([h.CHAIN,P])});typeof z<"u"&&(await r._commitHead(y,f,z),i.add(u))}let o=[];for(let[l,u]of s)try{o.push(await this.repo.rollback(l,u))}catch(f){f.message==="FeedNotFound"?km("RollbackFailed, Feed already gone",f):console.error("Rollback failed",f)}return i=Array.from(i),km("Stores mutated",i,"segments evicted",o.length),{mutated:i,evicted:o}}};a(BE,"GarbageCollector");var ME=0,qle=0;function Ple(e,t){let r=b.Buffer.alloc(9);for(let n=0;n<8;n++)r[n]=Number(BigInt(e)>>BigInt((7-n)*8)&BigInt(255));return t??!1?r[8]=t:(e===qle?ME++:ME=0,qle=e,ME>255&&console.warn("Warning: >255 GC-tasks enqueued, systemfault?"),r[8]=ME%256),r}a(Ple,"mkKey");Fle.exports=BE});function RE(e){try{if(!ha.trusted&&!Im){let r=Rn.sharedLength||0;r<Rn.length&&(Rn.length=r)}let t;if(ha.randomAccessStructure&&dr[xt]<64&&dr[xt]>=32&&Hle?(t=Hle(dr,xt,Qc,ha),dr=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),xt=Qc):t=ta(),ls&&(xt=ls.postBundlePosition),xt==Qc)Rn&&Rn.restoreStructures&&Wle(),Rn=null,dr=null,eh&&(eh=null);else{if(xt>Qc)throw new Error("Unexpected end of MessagePack data");if(!Im)throw new Error("Data read, but end of buffer not reached "+JSON.stringify(t).slice(0,100))}return t}catch(t){throw Rn&&Rn.restoreStructures&&Wle(),mx(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||xt>Qc)&&(t.incomplete=!0),t}}function Wle(){for(let e in Rn.restoreStructures)Rn[e]=Rn.restoreStructures[e];Rn.restoreStructures=null}function ta(){let e=dr[xt++];if(e<160)if(e<128){if(e<64)return e;{let t=Rn[e&63]||ha.getStructures&&tue()[e&63];return t?(t.read||(t.read=sO(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,ha.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=iue();n==="__proto__"&&(n="__proto_"),t[n]=ta()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(ta(),ta());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=ta();return ha.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Mu>=xt)return Kd.slice(xt-zc,(xt+=t)-zc);if(Mu==0&&Qc<140){let r=t<16?oO(t):nue(t);if(r!=null)return r}return aO(t)}else{let t;switch(e){case 192:return null;case 193:return ls?(t=ta(),t>0?ls[1].slice(ls.position1,ls.position1+=t):ls[0].slice(ls.position0,ls.position0-=t)):LE;case 194:return!1;case 195:return!0;case 196:if(t=dr[xt++],t===void 0)throw new Error("Unexpected end of buffer");return tO(t);case 197:return t=Un.getUint16(xt),xt+=2,tO(t);case 198:return t=Un.getUint32(xt),xt+=4,tO(t);case 199:return d1(dr[xt++]);case 200:return t=Un.getUint16(xt),xt+=2,d1(t);case 201:return t=Un.getUint32(xt),xt+=4,d1(t);case 202:if(t=Un.getFloat32(xt),ha.useFloat32>2){let r=vx[(dr[xt]&127)<<1|dr[xt+1]>>7];return xt+=4,(r*t+(t>0?.5:-.5)>>0)/r}return xt+=4,t;case 203:return t=Un.getFloat64(xt),xt+=8,t;case 204:return dr[xt++];case 205:return t=Un.getUint16(xt),xt+=2,t;case 206:return t=Un.getUint32(xt),xt+=4,t;case 207:return ha.int64AsNumber?(t=Un.getUint32(xt)*4294967296,t+=Un.getUint32(xt+4)):t=Un.getBigUint64(xt),xt+=8,t;case 208:return Un.getInt8(xt++);case 209:return t=Un.getInt16(xt),xt+=2,t;case 210:return t=Un.getInt32(xt),xt+=4,t;case 211:return ha.int64AsNumber?(t=Un.getInt32(xt)*4294967296,t+=Un.getUint32(xt+4)):t=Un.getBigInt64(xt),xt+=8,t;case 212:if(t=dr[xt++],t==114)return Xle(dr[xt++]&63);{let r=Gs[t];if(r)return r.read?(xt++,r.read(ta())):r.noBuffer?(xt++,r()):r(dr.subarray(xt,++xt));throw new Error("Unknown extension "+t)}case 213:return t=dr[xt],t==114?(xt++,Xle(dr[xt++]&63,dr[xt++])):d1(2);case 214:return d1(4);case 215:return d1(8);case 216:return d1(16);case 217:return t=dr[xt++],Mu>=xt?Kd.slice(xt-zc,(xt+=t)-zc):tZe(t);case 218:return t=Un.getUint16(xt),xt+=2,Mu>=xt?Kd.slice(xt-zc,(xt+=t)-zc):rZe(t);case 219:return t=Un.getUint32(xt),xt+=4,Mu>=xt?Kd.slice(xt-zc,(xt+=t)-zc):nZe(t);case 220:return t=Un.getUint16(xt),xt+=2,jle(t);case 221:return t=Un.getUint32(xt),xt+=4,jle(t);case 222:return t=Un.getUint16(xt),xt+=2,Gle(t);case 223:return t=Un.getUint32(xt),xt+=4,Gle(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}function sO(e,t){function r(){if(r.count++>eue){let i=e.read=new Function("r","return function(){return "+(ha.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":eZe.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(ta);return e.highByte===0&&(e.read=Vle(t,e.read)),i()}let n={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),n[o]=ta()}return ha.freezeData?Object.freeze(n):n}return a(r,"readObject"),r.count=0,e.highByte===0?Vle(t,r):r}function tue(){let e=aue(()=>(dr=null,ha.getStructures()));return Rn=ha._mergeStructures(e,Rn)}function bx(e){let t;if(e<16&&(t=oO(e)))return t;if(e>64&&rO)return rO.decode(dr.subarray(xt,xt+=e));let r=xt+e,n=[];for(t="";xt<r;){let i=dr[xt++];if((i&128)===0)n.push(i);else if((i&224)===192){let s=dr[xt++]&63;n.push((i&31)<<6|s)}else if((i&240)===224){let s=dr[xt++]&63,o=dr[xt++]&63;n.push((i&31)<<12|s<<6|o)}else if((i&248)===240){let s=dr[xt++]&63,o=dr[xt++]&63,l=dr[xt++]&63,u=(i&7)<<18|s<<12|o<<6|l;u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|u&1023),n.push(u)}else n.push(i);n.length>=4096&&(t+=$a.apply(String,n),n.length=0)}return n.length>0&&(t+=$a.apply(String,n)),t}function jle(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=ta();return ha.freezeData?Object.freeze(t):t}function Gle(e){if(ha.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=iue();n==="__proto__"&&(n="__proto_"),t[n]=ta()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(ta(),ta());return t}}function nue(e){let t=xt,r=new Array(e);for(let n=0;n<e;n++){let i=dr[xt++];if((i&128)>0){xt=t;return}r[n]=i}return $a.apply(String,r)}function oO(e){if(e<4)if(e<2){if(e===0)return"";{let t=dr[xt++];if((t&128)>1){xt-=1;return}return $a(t)}}else{let t=dr[xt++],r=dr[xt++];if((t&128)>0||(r&128)>0){xt-=2;return}if(e<3)return $a(t,r);let n=dr[xt++];if((n&128)>0){xt-=3;return}return $a(t,r,n)}else{let t=dr[xt++],r=dr[xt++],n=dr[xt++],i=dr[xt++];if((t&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){xt-=4;return}if(e<6){if(e===4)return $a(t,r,n,i);{let s=dr[xt++];if((s&128)>0){xt-=5;return}return $a(t,r,n,i,s)}}else if(e<8){let s=dr[xt++],o=dr[xt++];if((s&128)>0||(o&128)>0){xt-=6;return}if(e<7)return $a(t,r,n,i,s,o);let l=dr[xt++];if((l&128)>0){xt-=7;return}return $a(t,r,n,i,s,o,l)}else{let s=dr[xt++],o=dr[xt++],l=dr[xt++],u=dr[xt++];if((s&128)>0||(o&128)>0||(l&128)>0||(u&128)>0){xt-=8;return}if(e<10){if(e===8)return $a(t,r,n,i,s,o,l,u);{let f=dr[xt++];if((f&128)>0){xt-=9;return}return $a(t,r,n,i,s,o,l,u,f)}}else if(e<12){let f=dr[xt++],h=dr[xt++];if((f&128)>0||(h&128)>0){xt-=10;return}if(e<11)return $a(t,r,n,i,s,o,l,u,f,h);let p=dr[xt++];if((p&128)>0){xt-=11;return}return $a(t,r,n,i,s,o,l,u,f,h,p)}else{let f=dr[xt++],h=dr[xt++],p=dr[xt++],g=dr[xt++];if((f&128)>0||(h&128)>0||(p&128)>0||(g&128)>0){xt-=12;return}if(e<14){if(e===12)return $a(t,r,n,i,s,o,l,u,f,h,p,g);{let y=dr[xt++];if((y&128)>0){xt-=13;return}return $a(t,r,n,i,s,o,l,u,f,h,p,g,y)}}else{let y=dr[xt++],E=dr[xt++];if((y&128)>0||(E&128)>0){xt-=14;return}if(e<15)return $a(t,r,n,i,s,o,l,u,f,h,p,g,y,E);let M=dr[xt++];if((M&128)>0){xt-=15;return}return $a(t,r,n,i,s,o,l,u,f,h,p,g,y,E,M)}}}}}function Kle(){let e=dr[xt++],t;if(e<192)t=e-160;else switch(e){case 217:t=dr[xt++];break;case 218:t=Un.getUint16(xt),xt+=2;break;case 219:t=Un.getUint32(xt),xt+=4;break;default:throw new Error("Expected string")}return bx(t)}function tO(e){return ha.copyBuffers?Uint8Array.prototype.slice.call(dr,xt,xt+=e):dr.subarray(xt,xt+=e)}function d1(e){let t=dr[xt++];if(Gs[t]){let r;return Gs[t](dr.subarray(xt,r=xt+=e),n=>{xt=n;try{return ta()}finally{xt=r}})}else throw new Error("Unknown extension type "+t)``}function iue(){let e=dr[xt++];if(e>=160&&e<192){if(e=e-160,Mu>=xt)return Kd.slice(xt-zc,(xt+=e)-zc);if(!(Mu==0&&Qc<180))return aO(e)}else return xt--,ta().toString();let t=(e<<5^(e>1?Un.getUint16(xt):e>0?dr[xt]:0))&4095,r=$le[t],n=xt,i=xt+e-3,s,o=0;if(r&&r.bytes==e){for(;n<i;){if(s=Un.getUint32(n),s!=r[o++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(s=dr[n++],s!=r[o++]){n=1879048192;break}if(n===i)return xt=n,r.string;i-=3,n=xt}for(r=[],$le[t]=r,r.bytes=e;n<i;)s=Un.getUint32(n),r.push(s),n+=4;for(i+=3;n<i;)s=dr[n++],r.push(s);let l=e<16?oO(e):nue(e);return l!=null?r.string=l:r.string=aO(e)}function aue(e){Qle&&Qle();let t=Qc,r=xt,n=iO,i=zc,s=Mu,o=Kd,l=nO,u=eh,f=ls,h=new Uint8Array(dr.slice(0,Qc)),p=Rn,g=Rn.slice(0,Rn.length),y=ha,E=Im,M=e();return Qc=t,xt=r,iO=n,zc=i,Mu=s,Kd=o,nO=l,eh=u,ls=f,dr=h,Im=E,Rn=p,Rn.splice(0,Rn.length,...g),ha=y,Un=new DataView(dr.buffer,dr.byteOffset,dr.byteLength),M}function mx(){dr=null,eh=null,Rn=null}function sue(e){e.unpack?Gs[e.type]=e.unpack:Gs[e.type]=e}function fue(e){uue[0]=e;let t=vx[(Jle[3]&127)<<1|Jle[2]>>7];return(t*e+(e>0?.5:-.5)>>0)/t}var rO,dr,Qc,xt,Zle,nO,iO,ha,Rn,Kd,zc,Mu,ls,eh,Gs,Un,Yle,Cm,LE,Im,eue,Hle,zle,Qle,Ao,eZe,Vle,aO,tZe,rZe,nZe,rue,$a,$le,Xle,cO,iZe,vx,oue,DE,_x,cue,lue,xx,uue,Jle,Tm=py(()=>{d();try{rO=new TextDecoder}catch{}xt=0,Zle=[],nO=Zle,iO=0,ha={},zc=0,Mu=0,Gs=[],Yle={useRecords:!1,mapsAsObjects:!0},Cm=class{};a(Cm,"C1Type");LE=new Cm;LE.name="MessagePack 0xC1";Im=!1,eue=2;try{new Function("")}catch{eue=1/0}Ao=class{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0)),Object.assign(this,t)}unpack(t,r){if(dr)return aue(()=>(mx(),this?this.unpack(t,r):Ao.prototype.unpack.call(Yle,t,r)));typeof r=="object"?(Qc=r.end||t.length,xt=r.start||0):(xt=0,Qc=r>-1?r:t.length),iO=0,Mu=0,Kd=null,nO=Zle,ls=null,dr=t;try{Un=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(n){throw dr=null,t instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Ao){if(ha=this,this.structures)return Rn=this.structures,RE(r);(!Rn||Rn.length>0)&&(Rn=[])}else ha=Yle,(!Rn||Rn.length>0)&&(Rn=[]);return RE(r)}unpackMultiple(t,r){let n,i=0;try{Im=!0;let s=t.length,o=this?this.unpack(t,s):DE.unpack(t,s);if(r){for(r(o);xt<s;)if(i=xt,r(RE())===!1)return}else{for(n=[o];xt<s;)i=xt,n.push(RE());return n}}catch(s){throw s.lastPosition=i,s.values=n,s}finally{Im=!1,mx()}}_mergeStructures(t,r){zle&&(t=zle.call(this,t)),t=t||[],Object.isFrozen(t)&&(t=t.map(n=>n.slice(0)));for(let n=0,i=t.length;n<i;n++){let s=t[n];s&&(s.isShared=!0,n>=32&&(s.highByte=n-32>>5))}t.sharedLength=t.length;for(let n in r||[])if(n>=0){let i=t[n],s=r[n];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[n]=i),t[n]=s)}return this.structures=t}decode(t,r){return this.unpack(t,r)}};a(Ao,"Unpackr");a(RE,"checkedRead");a(Wle,"restoreStructures");a(ta,"read");eZe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;a(sO,"createStructureReader");Vle=a((e,t)=>function(){let r=dr[xt++];if(r===0)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=Rn[n]||tue()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=sO(i,e)),i.read()},"createSecondByteReader");a(tue,"loadStructures");aO=bx,tZe=bx,rZe=bx,nZe=bx,rue=!1;a(bx,"readStringJS");a(jle,"readArray");a(Gle,"readMap");$a=String.fromCharCode;a(nue,"longStringInJS");a(oO,"shortStringInJS");a(Kle,"readOnlyJSString");a(tO,"readBin");a(d1,"readExt");$le=new Array(4096);a(iue,"readKey");Xle=a((e,t)=>{let r=ta().map(s=>s.toString()),n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=Rn[e];return i&&i.isShared&&((Rn.restoreStructures||(Rn.restoreStructures=[]))[e]=i),Rn[e]=r,r.read=sO(r,n),r.read()},"recordDefinition");Gs[0]=()=>{};Gs[0].noBuffer=!0;Gs[101]=()=>{let e=ta();return(globalThis[e[0]]||Error)(e[1])};Gs[105]=e=>{let t=Un.getUint32(xt-4);eh||(eh=new Map);let r=dr[xt],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let i={target:n};eh.set(t,i);let s=ta();return i.used?Object.assign(n,s):(i.target=s,s)};Gs[112]=e=>{let t=Un.getUint32(xt-4),r=eh.get(t);return r.used=!0,r.target};Gs[115]=()=>new Set(ta());cO=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");Gs[116]=e=>{let t=e[0],r=cO[t];if(!r)throw new Error("Could not find typed array for code "+t);return new globalThis[r](Uint8Array.prototype.slice.call(e,1).buffer)};Gs[120]=()=>{let e=ta();return new RegExp(e[0],e[1])};iZe=[];Gs[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=xt;return xt+=t-e.length,ls=iZe,ls=[Kle(),Kle()],ls.position0=0,ls.position1=0,ls.postBundlePosition=xt,xt=r,ta()};Gs[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");a(aue,"saveState");a(mx,"clearSource");a(sue,"addExtension");vx=new Array(147);for(let e=0;e<256;e++)vx[e]=+("1e"+Math.floor(45.15-e*.30103));oue=Ao,DE=new Ao({useRecords:!1}),_x=DE.unpack,cue=DE.unpackMultiple,lue=DE.unpack,xx={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},uue=new Float32Array(1),Jle=new Uint8Array(uue.buffer,0,4);a(fue,"roundFloat32")});function due(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=r(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=r(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:l}=r(7+i);s[o++]=201,l.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function pue(e,t){let r=e.byteLength;var n,i;if(r<256){var{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=r&255}else{var{target:n,position:i,targetView:s}=t(r+5);n[i++]=198,s.setUint32(i,r),i+=4}n.set(e,i)}function cZe(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):i<65536?(t[r++]=200,t[r++]=i>>8,t[r++]=i&255):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255,t[r++]=i&255)}return t[r++]=n,t.set(e,r),r+=i,r}function lZe(e,t){let r,n=t.length*6,i=e.length-n;for(;r=t.pop();){let s=r.offset,o=r.id;e.copyWithin(s+n,s,i),n-=6;let l=s+n;e[l++]=214,e[l++]=105,e[l++]=o>>24,e[l++]=o>>16&255,e[l++]=o>>8&255,e[l++]=o&255,i=s}return e}function gue(e,t,r){if(Ni.length>0){di.setUint32(Ni.position+e,St+r-Ni.position-e),Ni.stringsPosition=St-e;let n=Ni;Ni=null,t(n[0]),t(n[1])}}function mue(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");lO.unshift(e.Class),qE.unshift(e)}sue(e)}function uZe(e,t){return e.isCompatible=r=>{let n=!r||(t.lastNamedStructuresLength||0)===r.length;return n||t._mergeStructures(r),n},e}var OE,qE,lO,PE,NE,yue,hue,Dt,wx,di,St,Ks,Ni,aZe,sZe,oZe,Mm,Bu,bue,FE,vue,_ue,xue,wue,Aue,Eue,uO,fZe,fO=py(()=>{d();Tm();Tm();Tm();try{OE=new TextEncoder}catch{}PE=typeof b.Buffer<"u",NE=PE?function(e){return b.Buffer.allocUnsafeSlow(e)}:Uint8Array,yue=PE?b.Buffer:Uint8Array,hue=PE?4294967296:2144337920,St=0,Ni=null,sZe=61440,oZe=/[\u0080-\uFFFF]/,Mm=Symbol("record-id"),Bu=class extends Ao{constructor(t){super(t),this.offset=0;let r,n,i,s,o,l=yue.prototype.utf8Write?function(k,R){return Dt.utf8Write(k,R,4294967295)}:OE&&OE.encodeInto?function(k,R){return OE.encodeInto(k,Dt.subarray(R)).written}:!1,u=this;t||(t={});let f=t&&t.sequential,h=t.structures||t.saveStructures,p=t.maxSharedStructures;if(p==null&&(p=h?32:0),p>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(t.moreTypes=!0);let g=t.maxOwnStructures;g==null&&(g=h?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let y=p>32||g+p>64,E=p+64,M=p+g+64;if(M>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let z=[],P=0,Q=0;this.pack=this.encode=function(k,R){if(Dt||(Dt=new NE(8192),di=Dt.dataView=new DataView(Dt.buffer,0,8192),St=0),Ks=Dt.length-10,Ks-St<2048?(Dt=new NE(Dt.length),di=Dt.dataView=new DataView(Dt.buffer,0,Dt.length),Ks=Dt.length-10,St=0):St=St+7&2147483640,n=St,o=u.structuredClone?new Map:null,u.bundleStrings&&typeof k!="string"?(Ni=[],Ni.size=1/0):Ni=null,s=u.structures,s){s.uninitialized&&(s=u._mergeStructures(u.getStructures()));let x=s.sharedLength||0;if(x>p)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+s.sharedLength);if(!s.transitions){s.transitions=Object.create(null);for(let N=0;N<x;N++){let m=s[N];if(!m)continue;let v,A=s.transitions;for(let U=0,G=m.length;U<G;U++){let K=m[U];v=A[K],v||(v=A[K]=Object.create(null)),A=v}A[Mm]=N+64}this.lastNamedStructuresLength=x}f||(s.nextId=x+64)}i&&(i=!1);try{u.randomAccessStructure&&k.constructor&&k.constructor===Object?T(k):V(k);let x=Ni;if(Ni&&gue(n,V,0),o&&o.idsToInsert){let N=o.idsToInsert.sort((U,G)=>U.offset>G.offset?1:-1),m=N.length,v=-1;for(;x&&m>0;){let U=N[--m].offset+n;U<x.stringsPosition+n&&v===-1&&(v=0),U>x.position+n?v>=0&&(v+=6):(v>=0&&(di.setUint32(x.position+n,di.getUint32(x.position+n)+v),v=-1),x=x.previous,m++)}v>=0&&x&&di.setUint32(x.position+n,di.getUint32(x.position+n)+v),St+=N.length*6,St>Ks&&F(St),u.offset=St;let A=lZe(Dt.subarray(n,St),N);return o=null,A}return u.offset=St,R&uO?(Dt.start=n,Dt.end=St,Dt):Dt.subarray(n,St)}finally{if(s){Q<10&&Q++;let x=s.sharedLength||0;if(s.length>x&&(s.length=x),P>1e4)s.transitions=null,Q=0,P=0,z.length>0&&(z=[]);else if(z.length>0&&!f){for(let N=0,m=z.length;N<m;N++)z[N][Mm]=0;z=[]}if(i&&u.saveStructures){let N=Dt.subarray(n,St),m=uZe(s,u);return u.saveStructures(m,m.isCompatible)===!1?u.pack(k):(u.lastNamedStructuresLength=x,N)}}R&fZe&&(St=n)}};let V=a(k=>{St>Ks&&(Dt=F(St));var R=typeof k,x;if(R==="string"){let N=k.length;if(Ni&&N>=4&&N<4096){if((Ni.size+=N)>sZe){let U,G=(Ni[0]?Ni[0].length*3+Ni[1].length:0)+10;St+G>Ks&&(Dt=F(St+G));let K;Ni.position?(K=Ni,Dt[St]=200,St+=3,Dt[St++]=98,U=St-n,St+=4,gue(n,V,0),di.setUint16(U+n-3,St-n-U)):(Dt[St++]=214,Dt[St++]=98,U=St-n,St+=4),Ni=["",""],Ni.previous=K,Ni.size=0,Ni.position=U}let A=oZe.test(k);Ni[A?0:1]+=k,Dt[St++]=193,V(A?-N:N);return}let m;N<32?m=1:N<256?m=2:N<65536?m=3:m=5;let v=N*3;if(St+v>Ks&&(Dt=F(St+v)),N<64||!l){let A,U,G,K=St+m;for(A=0;A<N;A++)U=k.charCodeAt(A),U<128?Dt[K++]=U:U<2048?(Dt[K++]=U>>6|192,Dt[K++]=U&63|128):(U&64512)===55296&&((G=k.charCodeAt(A+1))&64512)===56320?(U=65536+((U&1023)<<10)+(G&1023),A++,Dt[K++]=U>>18|240,Dt[K++]=U>>12&63|128,Dt[K++]=U>>6&63|128,Dt[K++]=U&63|128):(Dt[K++]=U>>12|224,Dt[K++]=U>>6&63|128,Dt[K++]=U&63|128);x=K-St-m}else x=l(k,St+m);x<32?Dt[St++]=160|x:x<256?(m<2&&Dt.copyWithin(St+2,St+1,St+1+x),Dt[St++]=217,Dt[St++]=x):x<65536?(m<3&&Dt.copyWithin(St+3,St+2,St+2+x),Dt[St++]=218,Dt[St++]=x>>8,Dt[St++]=x&255):(m<5&&Dt.copyWithin(St+5,St+3,St+3+x),Dt[St++]=219,di.setUint32(St,x),St+=4),St+=x}else if(R==="number")if(k>>>0===k)k<32||k<128&&this.useRecords===!1||k<64&&!this.randomAccessStructure?Dt[St++]=k:k<256?(Dt[St++]=204,Dt[St++]=k):k<65536?(Dt[St++]=205,Dt[St++]=k>>8,Dt[St++]=k&255):(Dt[St++]=206,di.setUint32(St,k),St+=4);else if(k>>0===k)k>=-32?Dt[St++]=256+k:k>=-128?(Dt[St++]=208,Dt[St++]=k+256):k>=-32768?(Dt[St++]=209,di.setInt16(St,k),St+=2):(Dt[St++]=210,di.setInt32(St,k),St+=4);else{let N;if((N=this.useFloat32)>0&&k<4294967296&&k>=-2147483648){Dt[St++]=202,di.setFloat32(St,k);let m;if(N<4||(m=k*vx[(Dt[St]&127)<<1|Dt[St+1]>>7])>>0===m){St+=4;return}else St--}Dt[St++]=203,di.setFloat64(St,k),St+=8}else if(R==="object")if(!k)Dt[St++]=192;else{if(o){let m=o.get(k);if(m){if(!m.id){let v=o.idsToInsert||(o.idsToInsert=[]);m.id=v.push(m)}Dt[St++]=214,Dt[St++]=112,di.setUint32(St,m.id),St+=4;return}else o.set(k,{offset:St-n})}let N=k.constructor;if(N===Object)W(k,!0);else if(N===Array){x=k.length,x<16?Dt[St++]=144|x:x<65536?(Dt[St++]=220,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=221,di.setUint32(St,x),St+=4);for(let m=0;m<x;m++)V(k[m])}else if(N===Map){x=k.size,x<16?Dt[St++]=128|x:x<65536?(Dt[St++]=222,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=223,di.setUint32(St,x),St+=4);for(let[m,v]of k)V(m),V(v)}else{for(let m=0,v=qE.length;m<v;m++){let A=lO[m];if(k instanceof A){let U=qE[m];if(U.write){U.type&&(Dt[St++]=212,Dt[St++]=U.type,Dt[St++]=0),V(U.write.call(this,k));return}let G=Dt,K=di,Z=St;Dt=null;let O;try{O=U.pack.call(this,k,$=>(Dt=G,G=null,St+=$,St>Ks&&F(St),{target:Dt,targetView:di,position:St-$}),V)}finally{G&&(Dt=G,di=K,St=Z,Ks=Dt.length-10)}O&&(O.length+St>Ks&&F(O.length+St),St=cZe(O,Dt,St,U.type));return}}W(k,!k.hasOwnProperty)}}else if(R==="boolean")Dt[St++]=k?195:194;else if(R==="bigint"){if(k<BigInt(1)<<BigInt(63)&&k>=-(BigInt(1)<<BigInt(63)))Dt[St++]=211,di.setBigInt64(St,k);else if(k<BigInt(1)<<BigInt(64)&&k>0)Dt[St++]=207,di.setBigUint64(St,k);else if(this.largeBigIntToFloat)Dt[St++]=203,di.setFloat64(St,Number(k));else throw new RangeError(k+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");St+=8}else if(R==="undefined")this.encodeUndefinedAsNil?Dt[St++]=192:(Dt[St++]=212,Dt[St++]=0,Dt[St++]=0);else if(R==="function")V(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+R)},"pack"),W=this.useRecords===!1?this.variableMapSize?k=>{let R=Object.keys(k),x=R.length;x<16?Dt[St++]=128|x:x<65536?(Dt[St++]=222,Dt[St++]=x>>8,Dt[St++]=x&255):(Dt[St++]=223,di.setUint32(St,x),St+=4);let N;for(let m=0;m<x;m++)V(N=R[m]),V(k[N])}:(k,R)=>{Dt[St++]=222;let x=St-n;St+=2;let N=0;for(let m in k)(R||k.hasOwnProperty(m))&&(V(m),V(k[m]),N++);Dt[x+++n]=N>>8,Dt[x+n]=N&255}:t.progressiveRecords&&!y?(k,R)=>{let x,N=s.transitions||(s.transitions=Object.create(null)),m=St++-n,v;for(let A in k)if(R||k.hasOwnProperty(A)){if(x=N[A],x)N=x;else{let U=Object.keys(k),G=N;N=s.transitions;let K=0;for(let Z=0,O=U.length;Z<O;Z++){let $=U[Z];x=N[$],x||(x=N[$]=Object.create(null),K++),N=x}m+n+1==St?(St--,B(N,U,K)):S(N,U,m,K),v=!0,N=G[A]}V(k[A])}if(!v){let A=N[Mm];A?Dt[m+n]=A:S(N,Object.keys(k),m,0)}}:(k,R)=>{let x,N=s.transitions||(s.transitions=Object.create(null)),m=0;for(let A in k)(R||k.hasOwnProperty(A))&&(x=N[A],x||(x=N[A]=Object.create(null),m++),N=x);let v=N[Mm];v?v>=96&&y?(Dt[St++]=((v-=96)&31)+96,Dt[St++]=v>>5):Dt[St++]=v:B(N,N.__keys__||Object.keys(k),m);for(let A in k)(R||k.hasOwnProperty(A))&&V(k[A])},F=a(k=>{let R;if(k>16777216){if(k-n>hue)throw new Error("Packed buffer would be larger than maximum buffer size");R=Math.min(hue,Math.round(Math.max((k-n)*(k>67108864?1.25:2),4194304)/4096)*4096)}else R=(Math.max(k-n<<2,Dt.length-1)>>12)+1<<12;let x=new NE(R);return di=x.dataView=new DataView(x.buffer,0,R),k=Math.min(k,Dt.length),Dt.copy?Dt.copy(x,0,n,k):x.set(Dt.slice(n,k)),St-=n,n=0,Ks=x.length-10,Dt=x},"makeRoom"),B=a((k,R,x)=>{let N=s.nextId;N||(N=64),N<E&&this.shouldShareStructure&&!this.shouldShareStructure(R)?(N=s.nextOwnId,N<M||(N=E),s.nextOwnId=N+1):(N>=M&&(N=E),s.nextId=N+1);let m=R.highByte=N>=96&&y?N-96>>5:-1;k[Mm]=N,k.__keys__=R,s[N-64]=R,N<E?(R.isShared=!0,s.sharedLength=N-63,i=!0,m>=0?(Dt[St++]=(N&31)+96,Dt[St++]=m):Dt[St++]=N):(m>=0?(Dt[St++]=213,Dt[St++]=114,Dt[St++]=(N&31)+96,Dt[St++]=m):(Dt[St++]=212,Dt[St++]=114,Dt[St++]=N),x&&(P+=Q*x),z.length>=g&&(z.shift()[Mm]=0),z.push(k),V(R))},"newRecord"),S=a((k,R,x,N)=>{let m=Dt,v=St,A=Ks,U=n;Dt=wx,St=0,n=0,Dt||(wx=Dt=new NE(8192)),Ks=Dt.length-10,B(k,R,N),wx=Dt;let G=St;if(Dt=m,St=v,Ks=A,n=U,G>1){let K=St+G-1;K>Ks&&F(K);let Z=x+n;Dt.copyWithin(Z+G,Z+1,St),Dt.set(wx.slice(0,G),Z),St=K}else Dt[x+n]=wx[0]},"insertNewRecord"),T=a((k,R)=>{let x=aZe(k,Dt,St,s,F,(N,m,v)=>{if(v)return i=!0;if(St=m,n>0){if(V(N),n==0)return{position:St,targetView:di,target:Dt}}else V(N);return St},this);if(x===0)return W(k,!0);St=x},"writeStruct")}useBuffer(t){Dt=t,di=new DataView(Dt.buffer,Dt.byteOffset,Dt.byteLength),St=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}};a(Bu,"Packr");lO=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Cm];qE=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,n)}else if(n>0&&n<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),s.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?due(e,16,t):pue(PE?b.Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==yue&&this.moreTypes?due(e,cO.indexOf(r.name),t):pue(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];a(due,"writeExtBuffer");a(pue,"writeBuffer");a(cZe,"writeExtensionData");a(lZe,"insertIds");a(gue,"writeBundles");a(mue,"addExtension");a(uZe,"prepareStructures");bue=new Bu({useRecords:!1}),FE=bue.pack,vue=bue.pack,_ue=Bu,{NEVER:xue,ALWAYS:wue,DECIMAL_ROUND:Aue,DECIMAL_FIT:Eue}=xx,uO=512,fZe=1024});function hZe(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable");if(typeof e[Symbol.iterator]=="function")return dZe(e,t);if(typeof e.then=="function"||typeof e[Symbol.asyncIterator]=="function")return pZe(e,t);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}function*dZe(e,t){let r=new Bu(t);for(let n of e)yield r.pack(n)}async function*pZe(e,t){let r=new Bu(t);for await(let n of e)yield r.pack(n)}function gZe(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");let r=new Ao(t),n,i=a(s=>{let o;n&&(s=b.Buffer.concat([n,s]),n=void 0);try{o=r.unpackMultiple(s)}catch(l){if(l.incomplete)n=s.slice(l.lastPosition),o=l.values;else throw l}return o},"parser");if(typeof e[Symbol.iterator]=="function")return a(function*(){for(let o of e)yield*i(o)},"iter")();if(typeof e[Symbol.asyncIterator]=="function")return a(async function*(){for await(let o of e)yield*i(o)},"iter")()}var Sue,kue,Cue=py(()=>{d();fO();Tm();a(hZe,"packIter");a(dZe,"packIterSync");a(pZe,"packIterAsync");a(gZe,"unpackIter");Sue=gZe,kue=hZe});var UE={};ZX(UE,{ALWAYS:()=>wue,C1:()=>LE,DECIMAL_FIT:()=>Eue,DECIMAL_ROUND:()=>Aue,Decoder:()=>oue,Encoder:()=>_ue,FLOAT32_OPTIONS:()=>xx,NEVER:()=>xue,Packr:()=>Bu,REUSE_BUFFER_MODE:()=>uO,Unpackr:()=>Ao,addExtension:()=>mue,clearSource:()=>mx,decode:()=>lue,decodeIter:()=>Sue,encode:()=>vue,encodeIter:()=>kue,isNativeAccelerationEnabled:()=>rue,mapsAsObjects:()=>mZe,pack:()=>FE,roundFloat32:()=>fue,unpack:()=>_x,unpackMultiple:()=>cue,useRecords:()=>yZe});var yZe,mZe,Ax=py(()=>{d();fO();Tm();Cue();yZe=!1,mZe=!0});var hO=j((Por,Rue)=>{d();var YE=kE(),Iue=Zf(),bZe=Rle(),vZe=Ule(),{Packr:_Ze,pack:xZe,unpack:wZe}=(Ax(),x6(UE)),Tue="msgpackr::structs",HE=class{constructor(t,r){this.repo=YE.isRepo(t)?t:new YE(t),this.cache=new bZe(this.repo._db),this._strategy=r||(()=>{}),this._stores=[],this._loaded=!1,this._tap=null,this._packr=null,this.mutexTimeout=5e3}register(t,r,n,i,s,o){if(this._loaded)throw new Error("register() must be invoked before load()");if(typeof t!="string")return this.register(t.name,t.initialValue,t.filter,t.reducer,t.trap,t.sweep);if(typeof r=="function")return this.register(t,void 0,r,n);this._stores.push({name:t,validator:n,reducer:i,trap:s,sweep:o,version:0,head:void 0,value:r,initialValue:r,observers:new Set})}async _lockRun(t){let[r,n,i]=AZe(),s=null;try{throw new Error("MutexTimeout")}catch(o){s=o}return await Bue.request("default",async()=>{let o=setTimeout(()=>{console.error("MutexTimeout",s.stack),i(s)},this.mutexTimeout);try{let l=await t();n(l)}catch(l){i(l)}finally{clearTimeout(o)}}).catch(i),r}async load(){await this._lockRun(async()=>{if(this._loaded)throw new Error("Store already loaded");let t=await this.repo.readReg(Tue);t?t=wZe(t):t=[],this._packr=new _Ze({structures:t,saveStructures:()=>this.repo.writeReg(Tue,xZe(t)).catch(console.error.bind(null,"Failed saving msgpackr:structs"))}),this._gc=new vZe(this.repo,this._packr);for(let r of this._stores){let n=await this.repo.readReg(`HEADS/${r.name}`);if(!!n){r.head=n,r.version=this._decodeValue(await this.repo.readReg(`VER/${r.name}`)),r.value=this._decodeValue(await this.repo.readReg(`STATES/${r.name}`));for(let i of r.observers)i(r.value)}}this._loaded=!0})}async dispatch(t,r){return this._lockRun(()=>this._dispatch(t,r))}async _dispatch(t,r=!1){if(!this._loaded)throw Error("Store not ready, call load()");t=Iue.from(t);let n=null;try{let g=t.first.isGenesis?t.first.sig:t.first.parentSig;n=await this.repo.resolveFeed(g)}catch(g){if(g.message!=="FeedNotFound")throw g;if(t.first.isGenesis)n=new Iue;else return await this.cache.push(t),[]}for(let g of t.blocks()){let[y,E]=await this.cache.pop(g.parentSig,g.sig);y&&Mue(t.merge(y),"Backward merge failed"),E&&Mue(t.merge(E),"Forwrad merge failed")}if(!n.clone().merge(t)){if(r)throw new Error("UnmergablePatch");return[]}let i={};n.first?.isGenesis?(i.AUTHOR=n.first.key,i.CHAIN=n.first.sig):!n.length&&t.first.isGenesis&&(i.AUTHOR=t.first.key,i.CHAIN=t.first.sig);let s=n.length?n._compare(t):t.length;if(s<1)return[];let o=new Set,l=this.state,u=null,f=t.get(-s);if(!f.isGenesis&&!n.length){if(r)throw new Error("NoCommonParent");return[]}else if(!f.isGenesis&&n.length){let g=n.blocks(),y=g.next();for(;!u&&!y.done;)y.value.sig.equals(f.parentSig)&&(u=y.value),y=g.next();if(!u)throw new Error("ParentNotFound")}let h=0;for(let g of t.blocks(-s)){let y=[];for(let M of this._stores){if(typeof M.validator!="function")continue;let z=M.validator({block:g,parentBlock:u,state:M.value,root:l,...i});if(!z)y.push(M);else if(z!==!0){if(r)throw typeof z=="string"&&(z=new Error(`InvalidBlock: ${z}`)),z}}if(!y.length)break;let E=await this._mutateState(g,u,i,!1,r);for(let M of E)o.add(M);u=g,h++}this._notifyObservers(o);let p=Array.from(o);return Object.defineProperty(p,"patch",{enumerable:!1,get(){return t.slice(-s,-s+h)}}),p}async _mutateState(t,r,n,i=!1,s=!1){let o=[],l=[];for(let h of this._stores){if(typeof h.validator!="function"||typeof h.reducer!="function")continue;let p=this.state;h.validator({block:t,parentBlock:r,state:h.value,root:p,...n})||l.push(h)}if(l.length){let h=await this.repo.merge(t,this._strategy);if(!i&&!h)return s&&console.warn("RejectedByBucket: MergeStrategy failed"),o}let u=[],f=a((h,p)=>u.push([h,p]),"signal");for(let h of l){let p=a((M,z)=>this._gc.schedule(h.name,n,t,M,z),"mark"),g=this.state,y={block:t,parentBlock:r,...n,state:h.value,root:g,signal:f,mark:p},E=h.reducer(y);typeof E>"u"&&console.warn("Reducer returned `undefined` state."),await this._commitHead(h,t.sig,E),o.push(h.name)}for(let[h,p]of u)for(let g of this._stores){if(typeof g.trap!="function")continue;let y=this.state,E=g.trap({code:h,payload:p,block:t,parentBlock:r,state:g.value,root:y,...n});typeof E>"u"||(await this._commitHead(g,t.sig,E),o.push(g.name))}if(typeof this._tap=="function")for(let[h,p]of u)this._tap(h,p);return o}_notifyObservers(t){for(let r of t){let n=this._stores.find(i=>i.name===r);for(let i of n.observers)i(n.value)}}async _commitHead(t,r,n){await this.repo.writeReg(`STATES/${t.name}`,this._encodeValue(n)),await this.repo.writeReg(`HEADS/${t.name}`,r),await this.repo.writeReg(`VER/${t.name}`,this._encodeValue(t.version++)),t.value=n,t.head=r}get state(){return this._stores.reduce((t,r)=>(t[r.name]=r.value,t),{})}async reload(){return this._lockRun(async()=>{let t=[],r=await this.repo.listFeeds();for(let n of this._stores){n.value=n.initialValue,n.version=0,n.head=void 0;for(let i of n.observers)i(n.value)}for(let{key:n,value:i}of r){let s=await this.repo.loadFeed(n),o={AUTHOR:s.first.key,CHAIN:i},l=null;for(let u of s.blocks()){let f=await this._mutateState(u,l,o,!0);for(let h of f)~t.indexOf(h)||t.push(h);l=u}}return this._notifyObservers(t),t})}$(t){return r=>this.on(t,r)}on(t,r){let n=this._stores.find(i=>i.name===t);if(!n)throw new Error(`No such store: "${t}"`);if(typeof r!="function")throw new Error("observer must be a function");return n.observers.add(r),r(n.value),()=>n.observers.delete(r)}hotswap(t){let r=this.repo;this.repo=t instanceof YE?t:new YE(t);let n=this.reload(),i=r._db.clear();return[n,i]}_decodeValue(t){return t&&this._packr.unpack(t)}_encodeValue(t){return this._packr.pack(t)}async gc(t){let{mutated:r,evicted:n}=await this._gc.collectGarbage(t,this);return this._notifyObservers(r),n}gcStart(t=3*1e3){this.intervalId||(this.intervalId=setInterval(this._gc.collectGarbage.bind(this),t))}gcStop(){!this.intervalId||(clearInterval(this.intervalId),this.intervalId=null)}};a(HE,"PicoStore");Rue.exports=HE;function Mue(e,t){if(!e)throw new Error(t||"AssertionError")}a(Mue,"assert");var Bue=typeof window<"u"&&window.navigator?.locks||{resources:{},async request(e,t,r){let n=Bue.resources;n[e]||(n[e]=Promise.resolve());let i=n[e];n[e]=i.catch(s=>console.warn("Previous lock unlocked with error",s)).then(()=>(r||t)()),await i}};function AZe(){let e,t;return[new Promise((n,i)=>{e=n,t=i}),e,t]}a(AZe,"unpromise")});var QE=j((Yor,$s)=>{d();var EZe=Hc()("pico-net"),Lue=Symbol.for("pico:plug"),pO=1;function gO(e={}){let t=e?.timeout||3e4,r=e?.id,n=!1,[i,s]=[!1,!1],o=Q(!0),l=Q(!1),[u,f,h]=Bm(),[p,g,y]=Bm(),E=[!1,!1],[M,z]=Bm(),P=new Set;return[o,l];function Q(F){let B={get name(){return`${r||"|"} ${F?"-->":"<--"} `},get id(){return r},set id(S){if(r)throw new Error("ID has already been set");r=S},get onmessage(){return E[F?0:1]=!0,F?u:p},get opened(){return n?Promise.reject(new Error("Disconnected")):(E[F?1:0]=!0,(F?p:u).then(S=>!!S))},get closed(){return M},set onmessage(S){if(typeof S!="function")throw new Error("expected onmessage to be a function");if(F?i:s)throw new Error("Handler has already been set");F?(f(S),i=!0):(g(S),s=!0)},async postMessage(S,T){if(n)throw new Error("Disconnected");if(!B.isActive)throw new Error("Void");E[F?1:0]=!0;let k=await(F?p:u);return V(F,a(x=>k(x),"resolve"),S,T)},get isActive(){return(F?s:i)&&!n},get isClosed(){return n},open(S){return Ex(S)?Due(B,S):(B.onmessage=S,B.opened.then(()=>[B.postMessage,B]))},close(S=null){W(F,S)},get other(){return F?l:o}};return B[Lue]=!0,B}async function V(F,B,S,T){if(n)throw new Error("Disconnected");if(typeof T=="function")throw new Error("Callback API has been deprecated");let k=T&pO||T,R=$s.exports.V&&`${(F?o:l).name} = ${S.toString(b.Buffer.isBuffer(S)&&"hex").slice(0,14)}`,[x,N,m]=kZe(t,R);N.abort=m,k&&P.add(N),P.delete(B);let v=k?V.bind(null,!F,N):null;try{B([S,v,F?l:o]),k||N([])}catch(A){m(A),console.warn("Trap A: ",A.message)}return x.catch(A=>{throw console.warn("Trap B: ",A.message),A})}function W(F,B=null){if(n)return!0;EZe("PipeClosed by: %s cause: %s pending: %d",F?"A":"B",B?.message,P.size),n=!0;for(let S of Array.from(P))P.delete(S),S.abort(B||new Error("Disconnected"));return z(B),E[0]&&h(B||new Error("Disconnected")),E[1]&&y(B||new Error("Disconnected")),M}}a(gO,"picoWire");function Ex(e){return!!(e&&e[Lue])}a(Ex,"isPlug");function Due(e,t){if(!Ex(e)||!Ex(t))throw new Error("Expected two pipe-ends");function r(n,i){if(!Array.isArray(i))throw new Error("DesignFlaw");let[s,o]=i,l=n(s,!!o);return o&&(l=l.then(r.bind(null,o))),l.catch(u=>{console.warn("Trap S: ",u.message)})}return a(r,"stitch"),e.onmessage=n=>r(t.postMessage,n),t.onmessage=n=>r(e.postMessage,n),e.closed.then(t.close).catch(t.close),t.closed.then(e.close).catch(e.close),e.close}a(Due,"spliceWires");function SZe(e,t,r){let[n,i]=gO();return n.closed.then(r).catch(r),n.opened.then(t).catch(t),n.onmessage=e,i}a(SZe,"_picoWire");function kZe(e,t=!1){let[r,n,i]=Bm(t),s=setTimeout(i.bind(null,new Error("Timeout")),e);return[r,(o,l)=>{clearTimeout(s),n(o,l)},a(function(l){clearTimeout(s),i(l||new Error("Aborted"))},"_abort")]}a(kZe,"unpromiseTimeout");var CZe=0,dO=[];function IZe(e="_"){let t=CZe++,r=null;try{throw new Error}catch(l){r=l.stack}console.debug("[UNP]",t,e,`Promise Created
`,$s.exports.V>1&&r);let[n,i,s]=Bm();return dO[t]=s,[n.then(l=>(o("resolved",l),l)).catch(l=>{throw o("rejected",void 0,l),l}),l=>{o("set",l),i(l)},l=>{o("abort",void 0,l),s(l)}];function o(l,u,f){dO[t]=void 0;let h=dO.map((p,g)=>p&&g).filter(p=>p);if(l==="set"){let p=null;try{throw new Error}catch(g){p=g.stack}$s.exports.V>1&&console.debug("[UNP]",t,e,`SET at: 
`,p);return}console.debug("[UNP]",t,e,l,`P(${h.join(",")})`,f?f.message:Array.isArray(u)?`Arr[${u.length}]: ${u[0]||""}`:u)}a(o,"notify")}a(IZe,"unpromiseD");function Bm(e=!1){if(e)return IZe(e);let t,r;return[new Promise((n,i)=>{t=n,r=i}),t,r]}a(Bm,"unpromise");var zE=class{constructor(t,r){this._nodes=new Set,this._tap=null,typeof t=="function"&&(this._tap=t),typeof r=="function"&&(this._afterRemove=r)}createWire(t,r={}){let[n,i]=gO(r);n.onmessage=([o,l])=>{if(this._tap)this._tap(n,o,l).catch(u=>console.error("_tap failed:",u));else return this.broadcast(o,l,n).catch(u=>console.error("_broadcast failed:",u))};let s=setTimeout(()=>n.close(new Error("NodeTimedout")),30*1e3);return n.opened.then(o=>{if(!o)return console.warn("wire.opened resolved false?",o);clearTimeout(s),this._nodes.add(n),typeof t=="function"&&t(n)}).catch(o=>this.disconnect(n,o)),n.closed.then(o=>this.disconnect(n,o)),i}disconnect(t,r){if(!t)return!1;if(this._nodes.delete(t))return typeof this._afterRemove=="function"?this._afterRemove(t,r):r&&console.warn("NodeDisconnected",r),!0;for(let n of this._nodes)if(n.id===n&&this._nodes.delete(n))return typeof this._afterRemove=="function"?this._afterRemove(n,r):r&&console.warn("NodeDisconnected",r),!0}get count(){return this._nodes.size}async*survey(t,r,n){let i=!1,s=new Set;for(let o of this._filterNodes(n)){let l=o.postMessage(t,r);s.add(l),l.catch(u=>{s.delete(l),console.warn("Survey node ignored:",u)})}for(;!i&&s.size;){let o=await Promise.race(Array.from(s).map(u=>u.then(f=>({val:f,p:u}))));if(!o)continue;s.delete(o.p);let l=a(()=>{i=!0},"abortSurvey");yield[...o.val,l]}}async broadcast(t,r,n){let i=this.survey(t,r,n),s=[],o=await i.next();for(;!o.done;)s.push(o.value),o=await i.next();return s}_filterNodes(t){return t?(Array.isArray(t)||(t=[t]),Array.from(this._nodes).filter(r=>r.isActive&&!t.find(n=>Ex(n)?n===r:n===r.id))):this._nodes}};a(zE,"PicoHub");var Nue=30*1e3;function TZe(e,t,r,n=125){if(!Ex(e))throw new Error("Wire end expected");let i=new Map,s=1,o=t.open(r,{onextension:u,onclose:e.close}),l=a(()=>{o.close()},"closeStream");return e.onmessage=p=>f(0,p),e.closed.then(()=>!o.closed&&l()).catch(p=>t.delete(p)),l;function u(p,g){if(p!==n)return console.warn("Message dropped! multiple extensions on this channel??",n,p);let y=g.readUInt16BE(0),E=g.readUInt16BE(2),M=g[4],z=!!(M&pO);if(i.has(y)){let{replyTo:P,timer:Q}=i.get(y);i.delete(y),clearTimeout(Q),P(g.slice(5),M).then(z&&f.bind(null,E)).catch(V=>console.error("Hyperwire writeerror",V))}else y===0?e.postMessage(g.slice(5),M).then(z&&f.bind(null,E)).catch(P=>console.error("Hyperwire writeerror",P)):console.warn("Hyperwire message dropped! unknown port",y,E)}a(u,"onStreamReceive");function f(p,g){let[y,E]=g;if(!b.Buffer.isBuffer(y))throw new Error("Binary message expected");let M=0,z=0;typeof E=="function"&&(M=s++,h(M,E),z=z|pO);let P=b.Buffer.alloc(y.length+5);P.writeUInt16BE(p),P.writeUInt16BE(M,2),P[4]=z,y.copy(P,5),o.extension(n,P)}a(f,"sendExt");function h(p,g){let y=setTimeout(()=>{!i.has(p)||(i.delete(p),l(new Error("ResponseTimeout")))},Nue);i.set(p,{replyTo:g,timer:y})}a(h,"registerCallback")}a(TZe,"hyperWire");var MZe=256<<10;function BZe(e,t){let r=new Map,n=1,i=b.Buffer.alloc(256),s=e(f.bind(null,0));t.on("data",u),t.once("close",l),t.once("error",l);let o=a(p=>p?t.end():t.destroy(p),"closeStream");return o;function l(p){t.off("data",u),t.off("error",l),t.off("close",l),s.close(p)}function u(p){let g=p.readUInt16BE(0),y=p.readUInt16BE(2);if(r.has(g)){let{replyTo:E,timer:M}=r.get(g);r.delete(g),clearTimeout(M),E(p.slice(6),(z,P)=>f(y,z,P))}else g===0?s(p.slice(6),(E,M)=>f(y,E,M)):console.warn("WARN: streamWire Message dropped",p[6])}function f(p,g,y){let E=0;typeof y=="function"&&(E=n++,h(E,y));let M=g.length+6;if(M>i.length){if(M>=MZe)throw new Error("Message exceeds MTU");i=b.Buffer.alloc(M)}i.writeUInt16BE(p),i.writeUInt16BE(E,2),i.writeUInt16BE(M,4),g.copy(i,6),t.write(i.slice(0,M))}function h(p,g){let y=setTimeout(()=>{!r.has(p)||(r.delete(p),o(new Error("ResponseTimeout")))},Nue);r.set(p,{replyTo:g,timer:y})}}a(BZe,"streamWire");async function*RZe(e){let t=[],r=[],n=!1;t.push(new Promise(s=>r.push(s)));let i=e((s,o)=>{t.push(new Promise(l=>r.push(l))),r.shift()([s,o,a(function(){i.close(),n=!0},"stopGeneratorAndCloseWire")])});for(;!n;)yield await t.shift()}a(RZe,"messageIterator");function LZe(e){return Oue(e,{encode:t=>b.Buffer.from(JSON.stringify(t)),decode:t=>JSON.parse(t)})}a(LZe,"jsonTransformer");function Oue(e,t){let r=a((i,s,o,l)=>i(t.encode(s),o&&n.bind(null,o,l)),"encode"),n=a((i,s,o,l)=>i(t.decode(s),o&&r.bind(null,o,l)),"decode");return i=>{let s=e(n.bind(null,i));return r.bind(null,s)}}a(Oue,"encodingTransformer");$s.exports=zE;$s.exports.V=0;$s.exports.picoWire=gO;$s.exports.simpleWire=SZe;$s.exports.streamWire=BZe;$s.exports.hyperWire=TZe;$s.exports.spliceWires=Due;$s.exports.jsonTransformer=LZe;$s.exports.encodingTransformer=Oue;$s.exports.messageIterator=RZe;$s.exports.unpromise=Bm});var mO=j((Qor,que)=>{d();var DZe=QE(),yO=Zf(),{pack:NZe,unpack:OZe}=(Ax(),x6(UE)),{write:qZe}=yo(),PZe=a(e=>b.Buffer.from(Array.from(new Array(e)).map(t=>Math.floor(Math.random()*256))),"randomBytes"),rh=0,jE=-1,GE=1,Rm=2,KE=3,VE=class{constructor(t){this.nodeId=PZe(8),this._controller=this._controller.bind(this),this.hub=new DZe((...i)=>this._controller(...i),(...i)=>this._ondisconnect(...i)),this.handlers=t;let[r,n]=qZe([]);this._setConnections=n,this.$connections=r}spawnWire(){return this.hub.createWire(r=>{r.postMessage(th(KE,this.nodeId),!0).then(([n,i])=>{if(WE(n).type===rh)return this._setConnections(Array.from(this.hub._nodes)),this.handlers.onconnect(r)}).catch(n=>console.error("Handshake failed",n))})}_ondisconnect(...t){this._setConnections(Array.from(this.hub._nodes)),this.handlers.ondisconnect(...t)}async _controller(t,r,n){try{let{type:i,data:s}=WE(r);switch(i){case Rm:for await(let o of this._downloadFeeds(r,n)){let l=await this.handlers.onblocks(o);l&&this.shareBlocks(l,t).catch(u=>console.error("Gossip failed",u))}break;case GE:{let o=await this.handlers.onquery(s);this._uploadFeeds(n,o).catch(l=>console.error("Failed uploading blocks",l))}break;case KE:for(let o of this.hub._nodes)if(b.Buffer.isBuffer(o.id)&&o.id.equals(s))return n(th(jE)),t.close(new Error("DuplicatePeer"));t.id=s,await n(th(rh));break;default:throw new Error(`Unknown message type: ${i}`)}}catch(i){console.error("RPC:internal error",i)}}async shareBlocks(t,r){yO.isFeed(t)&&(t=[t]),t=[...t];let n=t.shift(),i=this.hub.survey(th(Rm,n),!!t.length,r);for await(let[s,o]of i)!t.length||(Sx(s)===rh&&o?this._uploadFeeds(o,t).catch(l=>console.error("Failed sending subsequent feeds",l)):console.warn("Remote rejected subsequent blocks",Sx(s)))}async query(t,r={}){let[n,i]=await t.postMessage(th(GE,r),!0);WE(n).type!==rh&&this._controller(t,n,i)}_uploadFeeds(t,r){if(!r||!r.length)return t(th(rh));let n=[...r],i=n.shift();return t(th(Rm,i),!!n.length).then(([s,o])=>{if(!!n.length)return s?Sx(s)!==rh?console.warn("Peer rejected subsequent blocks",Sx(s)):this._uploadFeeds(o,n):console.warn("Empty scope")})}async*_downloadFeeds(t,r){let n=!1;for(;!n;){n=!0;let{type:i,data:s}=WE(t);if(i===Rm)yield s;else if(r){console.warn("Expected BLOCKS but got",i),await r(th(jE),!1);continue}if(!r)continue;let o=await r(th(rh),!0);t=o[0],r=o[1],n=!1}}};a(VE,"SimpleRPC");que.exports=VE;function th(e,t){let r=null;switch(e){case Rm:if(!t)throw new Error("Feed expected");t=yO.from(t),r=b.Buffer.alloc(t.tail+1),t.buf.copy(r,1,0,t.tail);break;case jE:case rh:r=b.Buffer.alloc(1);break;case GE:{let n=NZe(t);r=b.Buffer.alloc(n.length+1),n.copy(r,1)}break;case KE:r=b.Buffer.alloc(8+1),t.copy(r,1);break;default:throw new Error("UnknownMessageType: "+e)}return r[0]=e,r}a(th,"encodeMsg");function Sx(e){if(!b.Buffer.isBuffer(e))throw new Error("BufferExpected");return e[0]}a(Sx,"typeOfMsg");function WE(e){if(!b.Buffer.isBuffer(e))throw new Error("BufferExpected");let t=Sx(e),r=null;switch(t){case Rm:r=new yO,r.buf=e.slice(1),r.tail=e.length-1;break;case rh:r="OK";break;case jE:r="ERROR";break;case GE:r=OZe(e.slice(1));break;case KE:r=e.slice(1,9);break;default:throw new Error("UnknownMessageType: "+t)}return{type:t,data:r}}a(WE,"decodeMsg")});var Yue=j((jor,Uue)=>{d();var FZe=kE(),UZe=hO(),Pue=Zf(),{pack:YZe,unpack:HZe}=(Ax(),x6(UE)),zZe=mO(),Fue="reg/sk",$d=class{constructor(t,r={}){this.db=t,this.repo=new FZe(t),this.store=new UZe(this.repo,this.mergeStrategy.bind(this)),this.ready=!1,this._secret=r.secret??null,this.rpc=new zZe({onconnect:n=>this.onconnect(n),ondisconnect:n=>this.ondisconnect(n),onquery:(n,i)=>this.onquery(n,i),onblocks:n=>this.onblocks(n)})}get pk(){return this._secret?.slice(32)}async boot(){return this.__loading?this.__loading:(this.__loading=(async()=>{if(!this._secret)try{this._secret=await this.repo.readReg(Fue)}catch(t){if(!t.notFound)throw t}if(!this._secret){let{sk:t}=Pue.signPair();this._secret=t,await this.repo.writeReg(Fue,t)}await this.store.load(),this.ready=!0})(),this.__loading)}mergeStrategy(t,r){return!1}async feed(t=void 0){return this._checkReady(),this.repo.loadHead(this.pk)}_checkReady(){if(!this.ready)throw new Error("Kernel not ready, did you await kernel.boot()?")}async seq(){let t=await this.feed(1);return t?$d.decodeBlock(t.last.body).seq:-1}async dispatch(t,r=!1){this._checkReady();let n=await this.store.dispatch(t,r);return n.length&&this.rpc.shareBlocks(n.patch),n}async createBlock(t,r,n){if(typeof t=="string")return this.createBlock(null,t,r);this._checkReady(),t=t||await this.feed()||new Pue;let i=await this.seq()+1,s=$d.encodeBlock(r,i,n);if(t.append(s,this._secret),!(await this.dispatch(t,!0)).length)throw new Error("createBlock() failed: rejected by store");return t}spawnWire(){return this.rpc.spawnWire()}ondisconnect(t){}async onconnect(t){await this.rpc.query(t)}async onquery(t){let r=[];if(this.repo.allowDetached){let n=await this.repo.listFeeds();for(let{value:i}of n){if(!b.Buffer.isBuffer(i)){console.error("ChainId borked",i);continue}let s=await this.repo.resolveFeed(i);r.push(s)}}else{let n=await this.repo.listHeads();for(let{key:i}of n){let s=await this.repo.loadHead(i);s&&r.push(s)}}return r}async onblocks(t){return(await this.dispatch(t,!1)).patch}async _networkResolveFeed(t,r){}$connections(){return this.rpc.$connections}async close(){for(let t of this.rpc.hub._nodes)this.rpc.hub.disconnect(t);await this.db.close()}static encodeBlock(t,r,n){return YZe({...n,type:t,seq:r,date:new Date().getTime()})}static decodeBlock(t){return HZe(t)}static typeOfBlock(t){return $d.decodeBlock(t).type}};a($d,"SimplePicoKernel");Uue.exports=$d});var kx=j(($or,zue)=>{d();var QZe=Zf(),WZe=hO(),VZe=QE(),Hue=Yue(),jZe=mO(),GZe=kE(),{decodeBlock:KZe,encodeBlock:$Ze}=Hue,XZe=yo();zue.exports={Feed:QZe,SimpleKernel:Hue,decodeBlock:KZe,encodeBlock:$Ze,n:XZe,Store:WZe,Hub:VZe,SimpleRPC:jZe,Repo:GZe}});var _O=j((bO,vO)=>{d();(function(e,t){typeof bO=="object"&&typeof vO<"u"?vO.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=t())})(bO,function(){"use strict";function e(Ce){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},e(Ce)}a(e,"_typeof");function t(Ce,Te){return t=Object.setPrototypeOf||a(function(rt,ge){return rt.__proto__=ge,rt},"_setPrototypeOf"),t(Ce,Te)}a(t,"_setPrototypeOf");function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(r,"_isNativeReflectConstruct");function n(Ce,Te,Je){return r()?n=Reflect.construct:n=a(function(ge,xe,qe){var ot=[null];ot.push.apply(ot,xe);var at=Function.bind.apply(ge,ot),pe=new at;return qe&&t(pe,qe.prototype),pe},"_construct"),n.apply(null,arguments)}a(n,"_construct");function i(Ce){return s(Ce)||o(Ce)||l(Ce)||f()}a(i,"_toConsumableArray");function s(Ce){if(Array.isArray(Ce))return u(Ce)}a(s,"_arrayWithoutHoles");function o(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)}a(o,"_iterableToArray");function l(Ce,Te){if(!!Ce){if(typeof Ce=="string")return u(Ce,Te);var Je=Object.prototype.toString.call(Ce).slice(8,-1);if(Je==="Object"&&Ce.constructor&&(Je=Ce.constructor.name),Je==="Map"||Je==="Set")return Array.from(Ce);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return u(Ce,Te)}}a(l,"_unsupportedIterableToArray");function u(Ce,Te){(Te==null||Te>Ce.length)&&(Te=Ce.length);for(var Je=0,rt=new Array(Te);Je<Te;Je++)rt[Je]=Ce[Je];return rt}a(u,"_arrayLikeToArray");function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(f,"_nonIterableSpread");var h=Object.hasOwnProperty,p=Object.setPrototypeOf,g=Object.isFrozen,y=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,M=Object.freeze,z=Object.seal,P=Object.create,Q=typeof Reflect<"u"&&Reflect,V=Q.apply,W=Q.construct;V||(V=a(function(Te,Je,rt){return Te.apply(Je,rt)},"apply")),M||(M=a(function(Te){return Te},"freeze")),z||(z=a(function(Te){return Te},"seal")),W||(W=a(function(Te,Je){return n(Te,i(Je))},"construct"));var F=A(Array.prototype.forEach),B=A(Array.prototype.pop),S=A(Array.prototype.push),T=A(String.prototype.toLowerCase),k=A(String.prototype.match),R=A(String.prototype.replace),x=A(String.prototype.indexOf),N=A(String.prototype.trim),m=A(RegExp.prototype.test),v=U(TypeError);function A(Ce){return function(Te){for(var Je=arguments.length,rt=new Array(Je>1?Je-1:0),ge=1;ge<Je;ge++)rt[ge-1]=arguments[ge];return V(Ce,Te,rt)}}a(A,"unapply");function U(Ce){return function(){for(var Te=arguments.length,Je=new Array(Te),rt=0;rt<Te;rt++)Je[rt]=arguments[rt];return W(Ce,Je)}}a(U,"unconstruct");function G(Ce,Te,Je){Je=Je||T,p&&p(Ce,null);for(var rt=Te.length;rt--;){var ge=Te[rt];if(typeof ge=="string"){var xe=Je(ge);xe!==ge&&(g(Te)||(Te[rt]=xe),ge=xe)}Ce[ge]=!0}return Ce}a(G,"addToSet");function K(Ce){var Te=P(null),Je;for(Je in Ce)V(h,Ce,[Je])&&(Te[Je]=Ce[Je]);return Te}a(K,"clone");function Z(Ce,Te){for(;Ce!==null;){var Je=E(Ce,Te);if(Je){if(Je.get)return A(Je.get);if(typeof Je.value=="function")return A(Je.value)}Ce=y(Ce)}function rt(ge){return console.warn("fallback value for",ge),null}return a(rt,"fallbackValue"),rt}a(Z,"lookupGetter");var O=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ve=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ye=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),se=M(["#text"]),be=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),I=z(/<%[\w\W]*|[\w\W]*%>/gm),H=z(/^data-[\-\w.\u00B7-\uFFFF]/),te=z(/^aria-[\-\w]+$/),ie=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),he=z(/^(?:\w+script|data):/i),De=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$e=z(/^html$/i),ze=a(function(){return typeof window>"u"?null:window},"getGlobal"),Qe=a(function(Te,Je){if(e(Te)!=="object"||typeof Te.createPolicy!="function")return null;var rt=null,ge="data-tt-policy-suffix";Je.currentScript&&Je.currentScript.hasAttribute(ge)&&(rt=Je.currentScript.getAttribute(ge));var xe="dompurify"+(rt?"#"+rt:"");try{return Te.createPolicy(xe,{createHTML:a(function(ot){return ot},"createHTML"),createScriptURL:a(function(ot){return ot},"createScriptURL")})}catch{return console.warn("TrustedTypes policy "+xe+" could not be created."),null}},"_createTrustedTypesPolicy");function je(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ze(),Te=a(function(mt){return je(mt)},"DOMPurify");if(Te.version="2.4.0",Te.removed=[],!Ce||!Ce.document||Ce.document.nodeType!==9)return Te.isSupported=!1,Te;var Je=Ce.document,rt=Ce.document,ge=Ce.DocumentFragment,xe=Ce.HTMLTemplateElement,qe=Ce.Node,ot=Ce.Element,at=Ce.NodeFilter,pe=Ce.NamedNodeMap,Re=pe===void 0?Ce.NamedNodeMap||Ce.MozNamedAttrMap:pe,He=Ce.HTMLFormElement,tt=Ce.DOMParser,Ve=Ce.trustedTypes,et=ot.prototype,gt=Z(et,"cloneNode"),lt=Z(et,"nextSibling"),zt=Z(et,"childNodes"),it=Z(et,"parentNode");if(typeof xe=="function"){var Wt=rt.createElement("template");Wt.content&&Wt.content.ownerDocument&&(rt=Wt.content.ownerDocument)}var bt=Qe(Ve,Je),Se=bt?bt.createHTML(""):"",Ie=rt,le=Ie.implementation,_e=Ie.createNodeIterator,ae=Ie.createDocumentFragment,ce=Ie.getElementsByTagName,re=Je.importNode,ue={};try{ue=K(rt).documentMode?rt.documentMode:{}}catch{}var me={};Te.isSupported=typeof it=="function"&&le&&typeof le.createHTMLDocument<"u"&&ue!==9;var Ae=q,Oe=I,Ge=H,ke=te,st=he,yt=De,pt=ie,wt=null,Gt=G({},[].concat(i(O),i($),i(L),i(ve),i(se))),Pt=null,tr=G({},[].concat(i(be),i(Y),i(D),i(J))),cr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pr=null,Cr=null,Qr=!0,Tr=!0,ur=!1,fr=!1,Mr=!1,Br=!1,Ne=!1,Ze=!1,Tt=!1,Ft=!1,At=!0,Ot=!1,Vt="user-content-",Ct=!0,er=!1,Ue={},Ir=null,ct=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),xn=null,Tn=G({},["audio","video","img","source","image","track"]),Pi=null,Ya=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ha="http://www.w3.org/1998/Math/MathML",un="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",Be=oe,Le=!1,Xe,ut=["application/xhtml+xml","text/html"],Ke="text/html",Et,nt=null,Rt=rt.createElement("form"),jt=a(function(mt){return mt instanceof RegExp||mt instanceof Function},"isRegexOrFunction"),Xt=a(function(mt){nt&&nt===mt||((!mt||e(mt)!=="object")&&(mt={}),mt=K(mt),Xe=ut.indexOf(mt.PARSER_MEDIA_TYPE)===-1?Xe=Ke:Xe=mt.PARSER_MEDIA_TYPE,Et=Xe==="application/xhtml+xml"?function($t){return $t}:T,wt="ALLOWED_TAGS"in mt?G({},mt.ALLOWED_TAGS,Et):Gt,Pt="ALLOWED_ATTR"in mt?G({},mt.ALLOWED_ATTR,Et):tr,Pi="ADD_URI_SAFE_ATTR"in mt?G(K(Ya),mt.ADD_URI_SAFE_ATTR,Et):Ya,xn="ADD_DATA_URI_TAGS"in mt?G(K(Tn),mt.ADD_DATA_URI_TAGS,Et):Tn,Ir="FORBID_CONTENTS"in mt?G({},mt.FORBID_CONTENTS,Et):ct,pr="FORBID_TAGS"in mt?G({},mt.FORBID_TAGS,Et):{},Cr="FORBID_ATTR"in mt?G({},mt.FORBID_ATTR,Et):{},Ue="USE_PROFILES"in mt?mt.USE_PROFILES:!1,Qr=mt.ALLOW_ARIA_ATTR!==!1,Tr=mt.ALLOW_DATA_ATTR!==!1,ur=mt.ALLOW_UNKNOWN_PROTOCOLS||!1,fr=mt.SAFE_FOR_TEMPLATES||!1,Mr=mt.WHOLE_DOCUMENT||!1,Ze=mt.RETURN_DOM||!1,Tt=mt.RETURN_DOM_FRAGMENT||!1,Ft=mt.RETURN_TRUSTED_TYPE||!1,Ne=mt.FORCE_BODY||!1,At=mt.SANITIZE_DOM!==!1,Ot=mt.SANITIZE_NAMED_PROPS||!1,Ct=mt.KEEP_CONTENT!==!1,er=mt.IN_PLACE||!1,pt=mt.ALLOWED_URI_REGEXP||pt,Be=mt.NAMESPACE||oe,mt.CUSTOM_ELEMENT_HANDLING&&jt(mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cr.tagNameCheck=mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&jt(mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cr.attributeNameCheck=mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&typeof mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cr.allowCustomizedBuiltInElements=mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fr&&(Tr=!1),Tt&&(Ze=!0),Ue&&(wt=G({},i(se)),Pt=[],Ue.html===!0&&(G(wt,O),G(Pt,be)),Ue.svg===!0&&(G(wt,$),G(Pt,Y),G(Pt,J)),Ue.svgFilters===!0&&(G(wt,L),G(Pt,Y),G(Pt,J)),Ue.mathMl===!0&&(G(wt,ve),G(Pt,D),G(Pt,J))),mt.ADD_TAGS&&(wt===Gt&&(wt=K(wt)),G(wt,mt.ADD_TAGS,Et)),mt.ADD_ATTR&&(Pt===tr&&(Pt=K(Pt)),G(Pt,mt.ADD_ATTR,Et)),mt.ADD_URI_SAFE_ATTR&&G(Pi,mt.ADD_URI_SAFE_ATTR,Et),mt.FORBID_CONTENTS&&(Ir===ct&&(Ir=K(Ir)),G(Ir,mt.FORBID_CONTENTS,Et)),Ct&&(wt["#text"]=!0),Mr&&G(wt,["html","head","body"]),wt.table&&(G(wt,["tbody"]),delete pr.tbody),M&&M(mt),nt=mt)},"_parseConfig"),lr=G({},["mi","mo","mn","ms","mtext"]),Er=G({},["foreignobject","desc","title","annotation-xml"]),Kr=G({},["title","style","font","a","script"]),Rr=G({},$);G(Rr,L),G(Rr,ee);var jr=G({},ve);G(jr,ye);var en=a(function(mt){var $t=it(mt);(!$t||!$t.tagName)&&($t={namespaceURI:oe,tagName:"template"});var or=T(mt.tagName),Xr=T($t.tagName);return mt.namespaceURI===un?$t.namespaceURI===oe?or==="svg":$t.namespaceURI===Ha?or==="svg"&&(Xr==="annotation-xml"||lr[Xr]):Boolean(Rr[or]):mt.namespaceURI===Ha?$t.namespaceURI===oe?or==="math":$t.namespaceURI===un?or==="math"&&Er[Xr]:Boolean(jr[or]):mt.namespaceURI===oe?$t.namespaceURI===un&&!Er[Xr]||$t.namespaceURI===Ha&&!lr[Xr]?!1:!jr[or]&&(Kr[or]||!Rr[or]):!1},"_checkValidNamespace"),Fn=a(function(mt){S(Te.removed,{element:mt});try{mt.parentNode.removeChild(mt)}catch{try{mt.outerHTML=Se}catch{mt.remove()}}},"_forceRemove"),pn=a(function(mt,$t){try{S(Te.removed,{attribute:$t.getAttributeNode(mt),from:$t})}catch{S(Te.removed,{attribute:null,from:$t})}if($t.removeAttribute(mt),mt==="is"&&!Pt[mt])if(Ze||Tt)try{Fn($t)}catch{}else try{$t.setAttribute(mt,"")}catch{}},"_removeAttribute"),Dn=a(function(mt){var $t,or;if(Ne)mt="<remove></remove>"+mt;else{var Xr=k(mt,/^[\r\n\t ]+/);or=Xr&&Xr[0]}Xe==="application/xhtml+xml"&&(mt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+mt+"</body></html>");var li=bt?bt.createHTML(mt):mt;if(Be===oe)try{$t=new tt().parseFromString(li,Xe)}catch{}if(!$t||!$t.documentElement){$t=le.createDocument(Be,"template",null);try{$t.documentElement.innerHTML=Le?"":li}catch{}}var ui=$t.body||$t.documentElement;return mt&&or&&ui.insertBefore(rt.createTextNode(or),ui.childNodes[0]||null),Be===oe?ce.call($t,Mr?"html":"body")[0]:Mr?$t.documentElement:ui},"_initDocument"),gi=a(function(mt){return _e.call(mt.ownerDocument||mt,mt,at.SHOW_ELEMENT|at.SHOW_COMMENT|at.SHOW_TEXT,null,!1)},"_createIterator"),ca=a(function(mt){return mt instanceof He&&(typeof mt.nodeName!="string"||typeof mt.textContent!="string"||typeof mt.removeChild!="function"||!(mt.attributes instanceof Re)||typeof mt.removeAttribute!="function"||typeof mt.setAttribute!="function"||typeof mt.namespaceURI!="string"||typeof mt.insertBefore!="function")},"_isClobbered"),ci=a(function(mt){return e(qe)==="object"?mt instanceof qe:mt&&e(mt)==="object"&&typeof mt.nodeType=="number"&&typeof mt.nodeName=="string"},"_isNode"),Li=a(function(mt,$t,or){!me[mt]||F(me[mt],function(Xr){Xr.call(Te,$t,or,nt)})},"_executeHook"),za=a(function(mt){var $t;if(Li("beforeSanitizeElements",mt,null),ca(mt)||m(/[\u0080-\uFFFF]/,mt.nodeName))return Fn(mt),!0;var or=Et(mt.nodeName);if(Li("uponSanitizeElement",mt,{tagName:or,allowedTags:wt}),mt.hasChildNodes()&&!ci(mt.firstElementChild)&&(!ci(mt.content)||!ci(mt.content.firstElementChild))&&m(/<[/\w]/g,mt.innerHTML)&&m(/<[/\w]/g,mt.textContent)||or==="select"&&m(/<template/i,mt.innerHTML))return Fn(mt),!0;if(!wt[or]||pr[or]){if(!pr[or]&&la(or)&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,or)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(or)))return!1;if(Ct&&!Ir[or]){var Xr=it(mt)||mt.parentNode,li=zt(mt)||mt.childNodes;if(li&&Xr)for(var ui=li.length,Mn=ui-1;Mn>=0;--Mn)Xr.insertBefore(gt(li[Mn],!0),lt(mt))}return Fn(mt),!0}return mt instanceof ot&&!en(mt)||(or==="noscript"||or==="noembed")&&m(/<\/no(script|embed)/i,mt.innerHTML)?(Fn(mt),!0):(fr&&mt.nodeType===3&&($t=mt.textContent,$t=R($t,Ae," "),$t=R($t,Oe," "),mt.textContent!==$t&&(S(Te.removed,{element:mt.cloneNode()}),mt.textContent=$t)),Li("afterSanitizeElements",mt,null),!1)},"_sanitizeElements"),Di=a(function(mt,$t,or){if(At&&($t==="id"||$t==="name")&&(or in rt||or in Rt))return!1;if(!(Tr&&!Cr[$t]&&m(Ge,$t))){if(!(Qr&&m(ke,$t))){if(!Pt[$t]||Cr[$t]){if(!(la(mt)&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,mt)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(mt))&&(cr.attributeNameCheck instanceof RegExp&&m(cr.attributeNameCheck,$t)||cr.attributeNameCheck instanceof Function&&cr.attributeNameCheck($t))||$t==="is"&&cr.allowCustomizedBuiltInElements&&(cr.tagNameCheck instanceof RegExp&&m(cr.tagNameCheck,or)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(or))))return!1}else if(!Pi[$t]){if(!m(pt,R(or,yt,""))){if(!(($t==="src"||$t==="xlink:href"||$t==="href")&&mt!=="script"&&x(or,"data:")===0&&xn[mt])){if(!(ur&&!m(st,R(or,yt,"")))){if(or)return!1}}}}}}return!0},"_isValidAttribute"),la=a(function(mt){return mt.indexOf("-")>0},"_basicCustomElementTest"),Fi=a(function(mt){var $t,or,Xr,li;Li("beforeSanitizeAttributes",mt,null);var ui=mt.attributes;if(!!ui){var Mn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pt};for(li=ui.length;li--;){$t=ui[li];var ka=$t,Qn=ka.name,Fs=ka.namespaceURI;if(or=Qn==="value"?$t.value:N($t.value),Xr=Et(Qn),Mn.attrName=Xr,Mn.attrValue=or,Mn.keepAttr=!0,Mn.forceKeepAttr=void 0,Li("uponSanitizeAttribute",mt,Mn),or=Mn.attrValue,!Mn.forceKeepAttr&&(pn(Qn,mt),!!Mn.keepAttr)){if(m(/\/>/i,or)){pn(Qn,mt);continue}fr&&(or=R(or,Ae," "),or=R(or,Oe," "));var Ca=Et(mt.nodeName);if(!!Di(Ca,Xr,or)){if(Ot&&(Xr==="id"||Xr==="name")&&(pn(Qn,mt),or=Vt+or),bt&&e(Ve)==="object"&&typeof Ve.getAttributeType=="function"&&!Fs)switch(Ve.getAttributeType(Ca,Xr)){case"TrustedHTML":or=bt.createHTML(or);break;case"TrustedScriptURL":or=bt.createScriptURL(or);break}try{Fs?mt.setAttributeNS(Fs,Qn,or):mt.setAttribute(Qn,or),B(Te.removed)}catch{}}}}Li("afterSanitizeAttributes",mt,null)}},"_sanitizeAttributes"),zr=a(function rr(mt){var $t,or=gi(mt);for(Li("beforeSanitizeShadowDOM",mt,null);$t=or.nextNode();)Li("uponSanitizeShadowNode",$t,null),!za($t)&&($t.content instanceof ge&&rr($t.content),Fi($t));Li("afterSanitizeShadowDOM",mt,null)},"_sanitizeShadowDOM");return Te.sanitize=function(rr){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$t,or,Xr,li,ui;if(Le=!rr,Le&&(rr="<!-->"),typeof rr!="string"&&!ci(rr)){if(typeof rr.toString!="function")throw v("toString is not a function");if(rr=rr.toString(),typeof rr!="string")throw v("dirty is not a string, aborting")}if(!Te.isSupported){if(e(Ce.toStaticHTML)==="object"||typeof Ce.toStaticHTML=="function"){if(typeof rr=="string")return Ce.toStaticHTML(rr);if(ci(rr))return Ce.toStaticHTML(rr.outerHTML)}return rr}if(Br||Xt(mt),Te.removed=[],typeof rr=="string"&&(er=!1),er){if(rr.nodeName){var Mn=Et(rr.nodeName);if(!wt[Mn]||pr[Mn])throw v("root node is forbidden and cannot be sanitized in-place")}}else if(rr instanceof qe)$t=Dn("<!---->"),or=$t.ownerDocument.importNode(rr,!0),or.nodeType===1&&or.nodeName==="BODY"||or.nodeName==="HTML"?$t=or:$t.appendChild(or);else{if(!Ze&&!fr&&!Mr&&rr.indexOf("<")===-1)return bt&&Ft?bt.createHTML(rr):rr;if($t=Dn(rr),!$t)return Ze?null:Ft?Se:""}$t&&Ne&&Fn($t.firstChild);for(var ka=gi(er?rr:$t);Xr=ka.nextNode();)Xr.nodeType===3&&Xr===li||za(Xr)||(Xr.content instanceof ge&&zr(Xr.content),Fi(Xr),li=Xr);if(li=null,er)return rr;if(Ze){if(Tt)for(ui=ae.call($t.ownerDocument);$t.firstChild;)ui.appendChild($t.firstChild);else ui=$t;return Pt.shadowroot&&(ui=re.call(Je,ui,!0)),ui}var Qn=Mr?$t.outerHTML:$t.innerHTML;return Mr&&wt["!doctype"]&&$t.ownerDocument&&$t.ownerDocument.doctype&&$t.ownerDocument.doctype.name&&m($e,$t.ownerDocument.doctype.name)&&(Qn="<!DOCTYPE "+$t.ownerDocument.doctype.name+`>
`+Qn),fr&&(Qn=R(Qn,Ae," "),Qn=R(Qn,Oe," ")),bt&&Ft?bt.createHTML(Qn):Qn},Te.setConfig=function(rr){Xt(rr),Br=!0},Te.clearConfig=function(){nt=null,Br=!1},Te.isValidAttribute=function(rr,mt,$t){nt||Xt({});var or=Et(rr),Xr=Et(mt);return Di(or,Xr,$t)},Te.addHook=function(rr,mt){typeof mt=="function"&&(me[rr]=me[rr]||[],S(me[rr],mt))},Te.removeHook=function(rr){if(me[rr])return B(me[rr])},Te.removeHooks=function(rr){me[rr]&&(me[rr]=[])},Te.removeAllHooks=function(){me={}},Te}a(je,"createDOMPurify");var We=je();return We})});var da=j((dcr,efe)=>{"use strict";d();efe.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Uint8Array}});var Lu=j((gcr,xO)=>{"use strict";d();var met=Ei(),bet=Object.getPrototypeOf(async function(){}).constructor,tfe=globalThis.Blob||met.Blob,vet=a(typeof tfe<"u"?function(t){return t instanceof tfe}:function(t){return!1},"isBlob"),ZE=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};a(ZE,"AggregateError");xO.exports={AggregateError:ZE,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof bet},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:vet};xO.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var tS=j((bcr,eS)=>{"use strict";d();var{AbortController:rfe,AbortSignal:_et}=typeof self<"u"?self:typeof window<"u"?window:void 0;eS.exports=rfe;eS.exports.AbortSignal=_et;eS.exports.default=rfe});var Js=j((_cr,afe)=>{"use strict";d();var{format:xet,inspect:nS,AggregateError:wet}=Lu(),Aet=globalThis.AggregateError||wet,Eet=Symbol("kIsNodeError"),ket=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Cet=/^([A-Z][a-z0-9]*)+$/,Iet="__node_internal_",iS={};function p1(e,t){if(!e)throw new iS.ERR_INTERNAL_ASSERTION(t)}a(p1,"assert");function nfe(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}a(nfe,"addNumericalSeparator");function Tet(e,t,r){if(typeof t=="function")return p1(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return p1(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:xet(t,...r)}a(Tet,"getMessage");function us(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(Tet(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}a(n,"NodeError"),Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Eet]=!0,iS[e]=n}a(us,"E");function ife(e){let t=Iet+e.name;return Object.defineProperty(e,"name",{value:t}),e}a(ife,"hideStackFrames");function Met(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new Aet([t,e],t.message);return r.code=t.code,r}return e||t}a(Met,"aggregateTwoErrors");var rS=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new iS.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};a(rS,"AbortError");us("ERR_ASSERTION","%s",Error);us("ERR_INVALID_ARG_TYPE",(e,t,r)=>{p1(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let u of t)p1(typeof u=="string","All expected entries have to be of type string"),ket.includes(u)?i.push(u.toLowerCase()):Cet.test(u)?s.push(u):(p1(u!=="object",'The value "object" should be written as "Object"'),o.push(u));if(s.length>0){let u=i.indexOf("object");u!==-1&&(i.splice(i,u,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let u=i.pop();n+=`one of type ${i.join(", ")}, or ${u}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let u=s.pop();n+=`an instance of ${s.join(", ")}, or ${u}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let u=o.pop();n+=`one of ${o.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{let u=nS(r,{depth:-1});n+=`. Received ${u}`}}else{let u=nS(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);us("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=nS(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);us("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);us("ERR_MISSING_ARGS",(...e)=>{p1(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);us("ERR_OUT_OF_RANGE",(e,t,r)=>{p1(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=nfe(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=nfe(n)),n+="n"):n=nS(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);us("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);us("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);us("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);us("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);us("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);us("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);us("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);us("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);us("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);us("ERR_STREAM_WRITE_AFTER_END","write after end",Error);us("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);afe.exports={AbortError:rS,aggregateTwoErrors:ife(Met),hideStackFrames:ife,codes:iS}});var Bx=j((Acr,dfe)=>{"use strict";d();var{ArrayIsArray:cfe,ArrayPrototypeIncludes:lfe,ArrayPrototypeJoin:ufe,ArrayPrototypeMap:Bet,NumberIsInteger:AO,NumberIsNaN:Ret,NumberMAX_SAFE_INTEGER:Let,NumberMIN_SAFE_INTEGER:Det,NumberParseInt:Net,ObjectPrototypeHasOwnProperty:Oet,RegExpPrototypeExec:qet,String:Pet,StringPrototypeToUpperCase:Fet,StringPrototypeTrim:Uet}=da(),{hideStackFrames:Sl,codes:{ERR_SOCKET_BAD_PORT:Yet,ERR_INVALID_ARG_TYPE:Eo,ERR_INVALID_ARG_VALUE:aS,ERR_OUT_OF_RANGE:g1,ERR_UNKNOWN_SIGNAL:sfe}}=Js(),{normalizeEncoding:Het}=Lu(),{isAsyncFunction:zet,isArrayBufferView:Qet}=Lu().types,ofe={};function Wet(e){return e===(e|0)}a(Wet,"isInt32");function Vet(e){return e===e>>>0}a(Vet,"isUint32");var jet=/^[0-7]+$/,Get="must be a 32-bit unsigned integer or an octal string";function Ket(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(qet(jet,e)===null)throw new aS(t,e,Get);e=Net(e,8)}return ffe(e,t),e}a(Ket,"parseFileMode");var $et=Sl((e,t,r=Det,n=Let)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!AO(e))throw new g1(t,"an integer",e);if(e<r||e>n)throw new g1(t,`>= ${r} && <= ${n}`,e)}),Xet=Sl((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!AO(e))throw new g1(t,"an integer",e);if(e<r||e>n)throw new g1(t,`>= ${r} && <= ${n}`,e)}),ffe=Sl((e,t,r=!1)=>{if(typeof e!="number")throw new Eo(t,"number",e);if(!AO(e))throw new g1(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new g1(t,`>= ${n} && <= ${i}`,e)});function hfe(e,t){if(typeof e!="string")throw new Eo(t,"string",e)}a(hfe,"validateString");function Jet(e,t,r=void 0,n){if(typeof e!="number")throw new Eo(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ret(e))throw new g1(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}a(Jet,"validateNumber");var Zet=Sl((e,t,r)=>{if(!lfe(r,e)){let i="must be one of: "+ufe(Bet(r,s=>typeof s=="string"?`'${s}'`:Pet(s)),", ");throw new aS(t,e,i)}});function ett(e,t){if(typeof e!="boolean")throw new Eo(t,"boolean",e)}a(ett,"validateBoolean");function wO(e,t,r){return e==null||!Oet(e,t)?r:e[t]}a(wO,"getOwnPropertyValueOrDefault");var ttt=Sl((e,t,r=null)=>{let n=wO(r,"allowArray",!1),i=wO(r,"allowFunction",!1);if(!wO(r,"nullable",!1)&&e===null||!n&&cfe(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new Eo(t,"Object",e)}),rtt=Sl((e,t,r=0)=>{if(!cfe(e))throw new Eo(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new aS(t,e,n)}});function ntt(e,t="signal"){if(hfe(e,t),ofe[e]===void 0)throw ofe[Fet(e)]!==void 0?new sfe(e+" (signals must use all capital letters)"):new sfe(e)}a(ntt,"validateSignalName");var itt=Sl((e,t="buffer")=>{if(!Qet(e))throw new Eo(t,["Buffer","TypedArray","DataView"],e)});function att(e,t){let r=Het(t),n=e.length;if(r==="hex"&&n%2!==0)throw new aS("encoding",t,`is invalid for data of length ${n}`)}a(att,"validateEncoding");function stt(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Uet(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Yet(t,e,r);return e|0}a(stt,"validatePort");var ott=Sl((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Eo(t,"AbortSignal",e)}),ctt=Sl((e,t)=>{if(typeof e!="function")throw new Eo(t,"Function",e)}),ltt=Sl((e,t)=>{if(typeof e!="function"||zet(e))throw new Eo(t,"Function",e)}),utt=Sl((e,t)=>{if(e!==void 0)throw new Eo(t,"undefined",e)});function ftt(e,t,r){if(!lfe(r,e))throw new Eo(t,`('${ufe(r,"|")}')`,e)}a(ftt,"validateUnion");dfe.exports={isInt32:Wet,isUint32:Vet,parseFileMode:Ket,validateArray:rtt,validateBoolean:ett,validateBuffer:itt,validateEncoding:att,validateFunction:ctt,validateInt32:Xet,validateInteger:$et,validateNumber:Jet,validateObject:ttt,validateOneOf:Zet,validatePlainFunction:ltt,validatePort:stt,validateSignalName:ntt,validateString:hfe,validateUint32:ffe,validateUndefined:utt,validateUnion:ftt,validateAbortSignal:ott}});var Xd=j((kcr,Sfe)=>{"use strict";d();var{Symbol:sS,SymbolAsyncIterator:pfe,SymbolIterator:gfe}=da(),yfe=sS("kDestroyed"),mfe=sS("kIsErrored"),EO=sS("kIsReadable"),bfe=sS("kIsDisturbed");function oS(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}a(oS,"isReadableNodeStream");function cS(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}a(cS,"isWritableNodeStream");function htt(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}a(htt,"isDuplexNodeStream");function y1(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}a(y1,"isNodeStream");function dtt(e,t){return e==null?!1:t===!0?typeof e[pfe]=="function":t===!1?typeof e[gfe]=="function":typeof e[pfe]=="function"||typeof e[gfe]=="function"}a(dtt,"isIterable");function lS(e){if(!y1(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[yfe]||n!=null&&n.destroyed)}a(lS,"isDestroyed");function vfe(e){if(!cS(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}a(vfe,"isWritableEnded");function ptt(e,t){if(!cS(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}a(ptt,"isWritableFinished");function gtt(e){if(!oS(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}a(gtt,"isReadableEnded");function _fe(e,t){if(!oS(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}a(_fe,"isReadableFinished");function xfe(e){return e&&e[EO]!=null?e[EO]:typeof e?.readable!="boolean"?null:lS(e)?!1:oS(e)&&e.readable&&!_fe(e)}a(xfe,"isReadable");function wfe(e){return typeof e?.writable!="boolean"?null:lS(e)?!1:cS(e)&&e.writable&&!vfe(e)}a(wfe,"isWritable");function ytt(e,t){return y1(e)?lS(e)?!0:!(t?.readable!==!1&&xfe(e)||t?.writable!==!1&&wfe(e)):null}a(ytt,"isFinished");function mtt(e){var t,r;return y1(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}a(mtt,"isWritableErrored");function btt(e){var t,r;return y1(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}a(btt,"isReadableErrored");function vtt(e){if(!y1(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&Afe(e)?e._closed:null}a(vtt,"isClosed");function Afe(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}a(Afe,"isOutgoingMessage");function Efe(e){return typeof e._sent100=="boolean"&&Afe(e)}a(Efe,"isServerResponse");function _tt(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}a(_tt,"isServerRequest");function xtt(e){if(!y1(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&Efe(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}a(xtt,"willEmitClose");function wtt(e){var t;return!!(e&&((t=e[bfe])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}a(wtt,"isDisturbed");function Att(e){var t,r,n,i,s,o,l,u,f,h;return!!(e&&((t=(r=(n=(i=(s=(o=e[mfe])!==null&&o!==void 0?o:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&i!==void 0?i:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(u=e._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(f=e._readableState)===null||f===void 0?void 0:f.errored)!==null&&t!==void 0?t:(h=e._writableState)===null||h===void 0?void 0:h.errored))}a(Att,"isErrored");Sfe.exports={kDestroyed:yfe,isDisturbed:wtt,kIsDisturbed:bfe,isErrored:Att,kIsErrored:mfe,isReadable:xfe,kIsReadable:EO,isClosed:vtt,isDestroyed:lS,isDuplexNodeStream:htt,isFinished:ytt,isIterable:dtt,isReadableNodeStream:oS,isReadableEnded:gtt,isReadableFinished:_fe,isReadableErrored:btt,isNodeStream:y1,isWritable:wfe,isWritableNodeStream:cS,isWritableEnded:vfe,isWritableFinished:ptt,isWritableErrored:mtt,isServerRequest:_tt,isServerResponse:Efe,willEmitClose:xtt}});var Jd=j((Tcr,kO)=>{d();var Om=If(),{AbortError:Ett,codes:Stt}=Js(),{ERR_INVALID_ARG_TYPE:ktt,ERR_STREAM_PREMATURE_CLOSE:kfe}=Stt,{kEmptyObject:Cfe,once:Ife}=Lu(),{validateAbortSignal:Ctt,validateFunction:Itt,validateObject:Ttt}=Bx(),{Promise:Mtt}=da(),{isClosed:Btt,isReadable:Tfe,isReadableNodeStream:SO,isReadableFinished:Mfe,isReadableErrored:Rtt,isWritable:Bfe,isWritableNodeStream:Rfe,isWritableFinished:Lfe,isWritableErrored:Ltt,isNodeStream:Dtt,willEmitClose:Ntt}=Xd();function Ott(e){return e.setHeader&&typeof e.abort=="function"}a(Ott,"isRequest");var qtt=a(()=>{},"nop");function Dfe(e,t,r){var n,i;arguments.length===2?(r=t,t=Cfe):t==null?t=Cfe:Ttt(t,"options"),Itt(r,"callback"),Ctt(t.signal,"options.signal"),r=Ife(r);let s=(n=t.readable)!==null&&n!==void 0?n:SO(e),o=(i=t.writable)!==null&&i!==void 0?i:Rfe(e);if(!Dtt(e))throw new ktt("stream","Stream",e);let l=e._writableState,u=e._readableState,f=a(()=>{e.writable||g()},"onlegacyfinish"),h=Ntt(e)&&SO(e)===s&&Rfe(e)===o,p=Lfe(e,!1),g=a(()=>{p=!0,e.destroyed&&(h=!1),!(h&&(!e.readable||s))&&(!s||y)&&r.call(e)},"onfinish"),y=Mfe(e,!1),E=a(()=>{y=!0,e.destroyed&&(h=!1),!(h&&(!e.writable||o))&&(!o||p)&&r.call(e)},"onend"),M=a(W=>{r.call(e,W)},"onerror"),z=Btt(e),P=a(()=>{z=!0;let W=Ltt(e)||Rtt(e);if(W&&typeof W!="boolean")return r.call(e,W);if(s&&!y&&SO(e,!0)&&!Mfe(e,!1))return r.call(e,new kfe);if(o&&!p&&!Lfe(e,!1))return r.call(e,new kfe);r.call(e)},"onclose"),Q=a(()=>{e.req.on("finish",g)},"onrequest");Ott(e)?(e.on("complete",g),h||e.on("abort",P),e.req?Q():e.on("request",Q)):o&&!l&&(e.on("end",f),e.on("close",f)),!h&&typeof e.aborted=="boolean"&&e.on("aborted",P),e.on("end",E),e.on("finish",g),t.error!==!1&&e.on("error",M),e.on("close",P),z?Om.nextTick(P):l!=null&&l.errorEmitted||u!=null&&u.errorEmitted?h||Om.nextTick(P):(!s&&(!h||Tfe(e))&&(p||Bfe(e)===!1)||!o&&(!h||Bfe(e))&&(y||Tfe(e)===!1)||u&&e.req&&e.aborted)&&Om.nextTick(P);let V=a(()=>{r=qtt,e.removeListener("aborted",P),e.removeListener("complete",g),e.removeListener("abort",P),e.removeListener("request",Q),e.req&&e.req.removeListener("finish",g),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",g),e.removeListener("end",E),e.removeListener("error",M),e.removeListener("close",P)},"cleanup");if(t.signal&&!z){let W=a(()=>{let F=r;V(),F.call(e,new Ett(void 0,{cause:t.signal.reason}))},"abort");if(t.signal.aborted)Om.nextTick(W);else{let F=r;r=Ife((...B)=>{t.signal.removeEventListener("abort",W),F.apply(e,B)}),t.signal.addEventListener("abort",W)}}return V}a(Dfe,"eos");function Ptt(e,t){return new Mtt((r,n)=>{Dfe(e,t,i=>{i?n(i):r()})})}a(Ptt,"finished");kO.exports=Dfe;kO.exports.finished=Ptt});var Hfe=j((Rcr,IO)=>{"use strict";d();var Pfe=globalThis.AbortController||tS().AbortController,{codes:{ERR_INVALID_ARG_TYPE:Rx,ERR_MISSING_ARGS:Ftt,ERR_OUT_OF_RANGE:Utt},AbortError:Du}=Js(),{validateAbortSignal:qm,validateInteger:Ytt,validateObject:Pm}=Bx(),Htt=da().Symbol("kWeak"),{finished:ztt}=Jd(),{ArrayPrototypePush:Qtt,MathFloor:Wtt,Number:Vtt,NumberIsNaN:jtt,Promise:Nfe,PromiseReject:Ofe,PromisePrototypeThen:Gtt,Symbol:Ffe}=da(),fS=Ffe("kEmpty"),qfe=Ffe("kEof");function hS(e,t){if(typeof e!="function")throw new Rx("fn",["Function","AsyncFunction"],e);t!=null&&Pm(t,"options"),t?.signal!=null&&qm(t.signal,"options.signal");let r=1;return t?.concurrency!=null&&(r=Wtt(t.concurrency)),Ytt(r,"concurrency",1),a(async function*(){var i,s;let o=new Pfe,l=this,u=[],f=o.signal,h={signal:f},p=a(()=>o.abort(),"abort");t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted&&p(),t==null||(s=t.signal)===null||s===void 0||s.addEventListener("abort",p);let g,y,E=!1;function M(){E=!0}a(M,"onDone");async function z(){try{for await(let V of l){var P;if(E)return;if(f.aborted)throw new Du;try{V=e(V,h)}catch(W){V=Ofe(W)}V!==fS&&(typeof((P=V)===null||P===void 0?void 0:P.catch)=="function"&&V.catch(M),u.push(V),g&&(g(),g=null),!E&&u.length&&u.length>=r&&await new Nfe(W=>{y=W}))}u.push(qfe)}catch(V){let W=Ofe(V);Gtt(W,void 0,M),u.push(W)}finally{var Q;E=!0,g&&(g(),g=null),t==null||(Q=t.signal)===null||Q===void 0||Q.removeEventListener("abort",p)}}a(z,"pump"),z();try{for(;;){for(;u.length>0;){let P=await u[0];if(P===qfe)return;if(f.aborted)throw new Du;P!==fS&&(yield P),u.shift(),y&&(y(),y=null)}await new Nfe(P=>{g=P})}}finally{o.abort(),E=!0,y&&(y(),y=null)}},"map").call(this)}a(hS,"map");function Ktt(e=void 0){return e!=null&&Pm(e,"options"),e?.signal!=null&&qm(e.signal,"options.signal"),a(async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Du({cause:e.signal.reason});yield[r++,i]}},"asIndexedPairs").call(this)}a(Ktt,"asIndexedPairs");async function Ufe(e,t=void 0){for await(let r of CO.call(this,e,t))return!0;return!1}a(Ufe,"some");async function $tt(e,t=void 0){if(typeof e!="function")throw new Rx("fn",["Function","AsyncFunction"],e);return!await Ufe.call(this,async(...r)=>!await e(...r),t)}a($tt,"every");async function Xtt(e,t){for await(let r of CO.call(this,e,t))return r}a(Xtt,"find");async function Jtt(e,t){if(typeof e!="function")throw new Rx("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),fS}a(r,"forEachFn");for await(let n of hS.call(this,r,t));}a(Jtt,"forEach");function CO(e,t){if(typeof e!="function")throw new Rx("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:fS}return a(r,"filterFn"),hS.call(this,r,t)}a(CO,"filter");var uS=class extends Ftt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};a(uS,"ReduceAwareErrMissingArgs");async function Ztt(e,t,r){var n;if(typeof e!="function")throw new Rx("reducer",["Function","AsyncFunction"],e);r!=null&&Pm(r,"options"),r?.signal!=null&&qm(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let f=new Du(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await ztt(this.destroy(f)),f}let s=new Pfe,o=s.signal;if(r!=null&&r.signal){let f={once:!0,[Htt]:this};r.signal.addEventListener("abort",()=>s.abort(),f)}let l=!1;try{for await(let f of this){var u;if(l=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new Du;i?t=await e(t,f,{signal:o}):(t=f,i=!0)}if(!l&&!i)throw new uS}finally{s.abort()}return t}a(Ztt,"reduce");async function ert(e){e!=null&&Pm(e,"options"),e?.signal!=null&&qm(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Du(void 0,{cause:e.signal.reason});Qtt(t,n)}return t}a(ert,"toArray");function trt(e,t){let r=hS.call(this,e,t);return a(async function*(){for await(let i of r)yield*i},"flatMap").call(this)}a(trt,"flatMap");function Yfe(e){if(e=Vtt(e),jtt(e))return 0;if(e<0)throw new Utt("number",">= 0",e);return e}a(Yfe,"toIntegerOrInfinity");function rrt(e,t=void 0){return t!=null&&Pm(t,"options"),t?.signal!=null&&qm(t.signal,"options.signal"),e=Yfe(e),a(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Du;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Du;e--<=0&&(yield s)}},"drop").call(this)}a(rrt,"drop");function nrt(e,t=void 0){return t!=null&&Pm(t,"options"),t?.signal!=null&&qm(t.signal,"options.signal"),e=Yfe(e),a(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Du;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Du;if(e-- >0)yield s;else return}},"take").call(this)}a(nrt,"take");IO.exports.streamReturningOperators={asIndexedPairs:Ktt,drop:rrt,filter:CO,flatMap:trt,map:hS,take:nrt};IO.exports.promiseReturningOperators={every:$tt,forEach:Jtt,reduce:Ztt,toArray:ert,some:Ufe,find:Xtt}});var m1=j((Ncr,$fe)=>{"use strict";d();var Zd=If(),{aggregateTwoErrors:irt,codes:{ERR_MULTIPLE_CALLBACK:art},AbortError:srt}=Js(),{Symbol:Wfe}=da(),{kDestroyed:ort,isDestroyed:crt,isFinished:lrt,isServerRequest:urt}=Xd(),Vfe=Wfe("kDestroy"),TO=Wfe("kConstruct");function jfe(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}a(jfe,"checkError");function frt(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof t=="function"&&t(),this):(jfe(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?zfe(this,e,t):this.once(Vfe,function(s){zfe(this,irt(s,e),t)}),this)}a(frt,"destroy");function zfe(e,t,r){let n=!1;function i(s){if(n)return;n=!0;let o=e._readableState,l=e._writableState;jfe(s,l,o),l&&(l.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Zd.nextTick(hrt,e,s):Zd.nextTick(Gfe,e)}a(i,"onDestroy");try{e._destroy(t||null,i)}catch(s){i(s)}}a(zfe,"_destroy");function hrt(e,t){MO(e,t),Gfe(e)}a(hrt,"emitErrorCloseNT");function Gfe(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}a(Gfe,"emitCloseNT");function MO(e,t){let r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}a(MO,"emitErrorNT");function drt(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}a(drt,"undestroy");function BO(e,t,r){let n=e._readableState,i=e._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?Zd.nextTick(MO,e,t):MO(e,t))}a(BO,"errorOrDestroy");function prt(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(TO,t),!(e.listenerCount(TO)>1)&&Zd.nextTick(grt,e)}a(prt,"construct");function grt(e){let t=!1;function r(n){if(t){BO(e,n??new art);return}t=!0;let i=e._readableState,s=e._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(Vfe,n):n?BO(e,n,!0):Zd.nextTick(yrt,e)}a(r,"onConstruct");try{e._construct(r)}catch(n){r(n)}}a(grt,"constructNT");function yrt(e){e.emit(TO)}a(yrt,"emitConstructNT");function Qfe(e){return e&&e.setHeader&&typeof e.abort=="function"}a(Qfe,"isRequest");function Kfe(e){e.emit("close")}a(Kfe,"emitCloseLegacy");function mrt(e,t){e.emit("error",t),Zd.nextTick(Kfe,e)}a(mrt,"emitErrorCloseLegacy");function brt(e,t){!e||crt(e)||(!t&&!lrt(e)&&(t=new srt),urt(e)?(e.socket=null,e.destroy(t)):Qfe(e)?e.abort():Qfe(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Zd.nextTick(mrt,e,t):Zd.nextTick(Kfe,e),e.destroyed||(e[ort]=!0))}a(brt,"destroyer");$fe.exports={construct:prt,destroyer:brt,destroy:frt,undestroy:drt,errorOrDestroy:BO}});var gS=j((Pcr,Jfe)=>{"use strict";d();var{ArrayIsArray:vrt,ObjectSetPrototypeOf:Xfe}=da(),{EventEmitter:dS}=ea();function pS(e){dS.call(this,e)}a(pS,"Stream");Xfe(pS.prototype,dS.prototype);Xfe(pS,dS);pS.prototype.pipe=function(e,t){let r=this;function n(h){e.writable&&e.write(h)===!1&&r.pause&&r.pause()}a(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}a(i,"ondrain"),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",l));let s=!1;function o(){s||(s=!0,e.end())}a(o,"onend");function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}a(l,"onclose");function u(h){f(),dS.listenerCount(this,"error")===0&&this.emit("error",h)}a(u,"onerror"),RO(r,"error",u),RO(e,"error",u);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(f,"cleanup"),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e};function RO(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):vrt(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(RO,"prependListener");Jfe.exports={Stream:pS,prependListener:RO}});var mS=j((Ycr,yS)=>{"use strict";d();var{AbortError:_rt,codes:xrt}=Js(),wrt=Jd(),{ERR_INVALID_ARG_TYPE:Zfe}=xrt,Art=a((e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new Zfe(t,"AbortSignal",e)},"validateAbortSignal");function Ert(e){return!!(e&&typeof e.pipe=="function")}a(Ert,"isNodeStream");yS.exports.addAbortSignal=a(function(t,r){if(Art(t,"signal"),!Ert(r))throw new Zfe("stream","stream.Stream",r);return yS.exports.addAbortSignalNoValidate(t,r)},"addAbortSignal");yS.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=a(()=>{t.destroy(new _rt(void 0,{cause:e.reason}))},"onAbort");return e.aborted?r():(e.addEventListener("abort",r),wrt(t,()=>e.removeEventListener("abort",r))),t}});var rhe=j((Wcr,the)=>{"use strict";d();var{StringPrototypeSlice:ehe,SymbolIterator:Srt,TypedArrayPrototypeSet:bS,Uint8Array:krt}=da(),{Buffer:LO}=Ei(),{inspect:Crt}=Lu();the.exports=a(class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return LO.alloc(0);let r=LO.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)bS(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Srt](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=ehe(s,0,t),this.head=n,n.data=ehe(s,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=LO.allocUnsafe(t),n=t,i=this.head,s=0;do{let o=i.data;if(t>o.length)bS(r,o,n-t),t-=o.length;else{t===o.length?(bS(r,o,n-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(bS(r,new krt(o.buffer,o.byteOffset,t),n-t),this.head=i,i.data=o.slice(t));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Crt(this,{...r,depth:0,customInspect:!1})}},"BufferList")});var vS=j((Gcr,ihe)=>{"use strict";d();var{MathFloor:Irt,NumberIsInteger:Trt}=da(),{ERR_INVALID_ARG_VALUE:Mrt}=Js().codes;function Brt(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}a(Brt,"highWaterMarkFrom");function nhe(e){return e?16:16*1024}a(nhe,"getDefaultHighWaterMark");function Rrt(e,t,r,n){let i=Brt(t,n,r);if(i!=null){if(!Trt(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Mrt(s,i)}return Irt(i)}return nhe(e.objectMode)}a(Rrt,"getHighWaterMark");ihe.exports={getHighWaterMark:Rrt,getDefaultHighWaterMark:nhe}});var DO=j((Xcr,che)=>{"use strict";d();var ahe=If(),{PromisePrototypeThen:Lrt,SymbolAsyncIterator:she,SymbolIterator:ohe}=da(),{Buffer:Drt}=Ei(),{ERR_INVALID_ARG_TYPE:Nrt,ERR_STREAM_NULL_VALUES:Ort}=Js().codes;function qrt(e,t,r){let n;if(typeof t=="string"||t instanceof Drt)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[she])i=!0,n=t[she]();else if(t&&t[ohe])i=!1,n=t[ohe]();else throw new Nrt("iterable",["Iterable"],t);let s=new e({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,u())},s._destroy=function(f,h){Lrt(l(f),()=>ahe.nextTick(h,f),p=>ahe.nextTick(h,p||f))};async function l(f){let h=f!=null,p=typeof n.throw=="function";if(h&&p){let{value:g,done:y}=await n.throw(f);if(await g,y)return}if(typeof n.return=="function"){let{value:g}=await n.return();await g}}a(l,"close");async function u(){for(;;){try{let{value:f,done:h}=i?await n.next():n.next();if(h)s.push(null);else{let p=f&&typeof f.then=="function"?await f:f;if(p===null)throw o=!1,new Ort;if(s.push(p))continue;o=!1}}catch(f){s.destroy(f)}break}}return a(u,"next"),s}a(qrt,"from");che.exports=qrt});var Lx=j((elr,xhe)=>{d();var kl=If(),{ArrayPrototypeIndexOf:Prt,NumberIsInteger:Frt,NumberIsNaN:Urt,NumberParseInt:Yrt,ObjectDefineProperties:fhe,ObjectKeys:Hrt,ObjectSetPrototypeOf:hhe,Promise:zrt,SafeSet:Qrt,SymbolAsyncIterator:Wrt,Symbol:Vrt}=da();xhe.exports=cn;cn.ReadableState=UO;var{EventEmitter:jrt}=ea(),{Stream:e0,prependListener:Grt}=gS(),{Buffer:NO}=Ei(),{addAbortSignal:Krt}=mS(),$rt=Jd(),wn=Lu().debuglog("stream",e=>{wn=e}),Xrt=rhe(),Um=m1(),{getHighWaterMark:Jrt,getDefaultHighWaterMark:Zrt}=vS(),{aggregateTwoErrors:lhe,codes:{ERR_INVALID_ARG_TYPE:ent,ERR_METHOD_NOT_IMPLEMENTED:tnt,ERR_OUT_OF_RANGE:rnt,ERR_STREAM_PUSH_AFTER_EOF:nnt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:int}}=Js(),{validateObject:ant}=Bx(),b1=Vrt("kPaused"),{StringDecoder:dhe}=o_(),snt=DO();hhe(cn.prototype,e0.prototype);hhe(cn,e0);var OO=a(()=>{},"nop"),{errorOrDestroy:Fm}=Um;function UO(e,t,r){typeof r!="boolean"&&(r=t instanceof Nu()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?Jrt(this,e,"readableHighWaterMark",r):Zrt(!1),this.buffer=new Xrt,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[b1]=null,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new dhe(e.encoding),this.encoding=e.encoding)}a(UO,"ReadableState");function cn(e){if(!(this instanceof cn))return new cn(e);let t=this instanceof Nu();this._readableState=new UO(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&Krt(e.signal,this)),e0.call(this,e),Um.construct(this,()=>{this._readableState.needReadable&&_S(this,this._readableState)})}a(cn,"Readable");cn.prototype.destroy=Um.destroy;cn.prototype._undestroy=Um.undestroy;cn.prototype._destroy=function(e,t){t(e)};cn.prototype[jrt.captureRejectionSymbol]=function(e){this.destroy(e)};cn.prototype.push=function(e,t){return phe(this,e,t,!1)};cn.prototype.unshift=function(e,t){return phe(this,e,t,!0)};function phe(e,t,r,n){wn("readableAddChunk",t);let i=e._readableState,s;if(i.objectMode||(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=NO.from(t,r).toString(i.encoding):(t=NO.from(t,r),r=""))):t instanceof NO?r="":e0._isUint8Array(t)?(t=e0._uint8ArrayToBuffer(t),r=""):t!=null&&(s=new ent("chunk",["string","Buffer","Uint8Array"],t))),s)Fm(e,s);else if(t===null)i.reading=!1,lnt(e,i);else if(i.objectMode||t&&t.length>0)if(n)if(i.endEmitted)Fm(e,new int);else{if(i.destroyed||i.errored)return!1;qO(e,i,t,!0)}else if(i.ended)Fm(e,new nnt);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?qO(e,i,t,!1):_S(e,i)):qO(e,i,t,!1)}else n||(i.reading=!1,_S(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}a(phe,"readableAddChunk");function qO(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&xS(e)),_S(e,t)}a(qO,"addChunk");cn.prototype.isPaused=function(){let e=this._readableState;return e[b1]===!0||e.flowing===!1};cn.prototype.setEncoding=function(e){let t=new dhe(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var ont=1073741824;function cnt(e){if(e>ont)throw new rnt("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}a(cnt,"computeNewHighWaterMark");function uhe(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:Urt(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}a(uhe,"howMuchToRead");cn.prototype.read=function(e){wn("read",e),e===void 0?e=NaN:Frt(e)||(e=Yrt(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=cnt(e)),e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return wn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?PO(this):xS(this),null;if(e=uhe(e,t),e===0&&t.ended)return t.length===0&&PO(this),null;let n=t.needReadable;if(wn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,wn("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,wn("reading, ended or constructing",n);else if(n){wn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(s){Fm(this,s)}t.sync=!1,t.reading||(e=uhe(r,t))}let i;return e>0?i=vhe(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&PO(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function lnt(e,t){if(wn("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?xS(e):(t.needReadable=!1,t.emittedReadable=!0,ghe(e))}}a(lnt,"onEofChunk");function xS(e){let t=e._readableState;wn("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(wn("emitReadable",t.flowing),t.emittedReadable=!0,kl.nextTick(ghe,e))}a(xS,"emitReadable");function ghe(e){let t=e._readableState;wn("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,mhe(e)}a(ghe,"emitReadable_");function _S(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,kl.nextTick(unt,e,t))}a(_S,"maybeReadMore");function unt(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(wn("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}a(unt,"maybeReadMore_");cn.prototype._read=function(e){throw new tnt("_read()")};cn.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Qrt(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),wn("pipe count=%d opts=%j",n.pipes.length,t);let s=(!t||t.end!==!1)&&e!==kl.stdout&&e!==kl.stderr?l:z;n.endEmitted?kl.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){wn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function l(){wn("onend"),e.end()}a(l,"onend");let u,f=!1;function h(){wn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),u&&e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",z),r.removeListener("data",g),f=!0,u&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&u()}a(h,"cleanup");function p(){f||(n.pipes.length===1&&n.pipes[0]===e?(wn("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(wn("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),u||(u=fnt(r,e),e.on("drain",u))}a(p,"pause"),r.on("data",g);function g(P){wn("ondata");let Q=e.write(P);wn("dest.write",Q),Q===!1&&p()}a(g,"ondata");function y(P){if(wn("onerror",P),z(),e.removeListener("error",y),e.listenerCount("error")===0){let Q=e._writableState||e._readableState;Q&&!Q.errorEmitted?Fm(e,P):e.emit("error",P)}}a(y,"onerror"),Grt(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){wn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){wn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),e.writableNeedDrain===!0?n.flowing&&p():n.flowing||(wn("pipe resume"),r.resume()),e};function fnt(e,t){return a(function(){let n=e._readableState;n.awaitDrainWriters===t?(wn("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(wn("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()},"pipeOnDrainFunctionResult")}a(fnt,"pipeOnDrain");cn.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Prt(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};cn.prototype.on=function(e,t){let r=e0.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,wn("on readable",n.length,n.reading),n.length?xS(this):n.reading||kl.nextTick(hnt,this)),r};cn.prototype.addListener=cn.prototype.on;cn.prototype.removeListener=function(e,t){let r=e0.prototype.removeListener.call(this,e,t);return e==="readable"&&kl.nextTick(yhe,this),r};cn.prototype.off=cn.prototype.removeListener;cn.prototype.removeAllListeners=function(e){let t=e0.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&kl.nextTick(yhe,this),t};function yhe(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[b1]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}a(yhe,"updateReadableListening");function hnt(e){wn("readable nexttick read 0"),e.read(0)}a(hnt,"nReadingNextTick");cn.prototype.resume=function(){let e=this._readableState;return e.flowing||(wn("resume"),e.flowing=!e.readableListening,dnt(this,e)),e[b1]=!1,this};function dnt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,kl.nextTick(pnt,e,t))}a(dnt,"resume");function pnt(e,t){wn("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),mhe(e),t.flowing&&!t.reading&&e.read(0)}a(pnt,"resume_");cn.prototype.pause=function(){return wn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[b1]=!0,this};function mhe(e){let t=e._readableState;for(wn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(mhe,"flow");cn.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{Fm(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=Hrt(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this};cn.prototype[Wrt]=function(){return bhe(this)};cn.prototype.iterator=function(e){return e!==void 0&&ant(e,"options"),bhe(this,e)};function bhe(e,t){typeof e.read!="function"&&(e=cn.wrap(e,{objectMode:!0}));let r=gnt(e,t);return r.stream=e,r}a(bhe,"streamToAsyncIterator");async function*gnt(e,t){let r=OO;function n(o){this===e?(r(),r=OO):r=o}a(n,"next"),e.on("readable",n);let i,s=$rt(e,{writable:!1},o=>{i=o?lhe(i,o):null,r(),r=OO});try{for(;;){let o=e.destroyed?null:e.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new zrt(n)}}}catch(o){throw i=lhe(i,o),i}finally{(i||t?.destroyOnReturn!==!1)&&(i===void 0||e._readableState.autoDestroy)?Um.destroyer(e,null):(e.off("readable",n),s())}}a(gnt,"createAsyncIterator");fhe(cn.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){!this._readableState||(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});fhe(UO.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[b1]!==!1},set(e){this[b1]=!!e}}});cn._fromList=vhe;function vhe(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}a(vhe,"fromList");function PO(e){let t=e._readableState;wn("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,kl.nextTick(ynt,t,e))}a(PO,"endReadable");function ynt(e,t){if(wn("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)kl.nextTick(mnt,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}a(ynt,"endReadableNT");function mnt(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}a(mnt,"endWritableNT");cn.from=function(e,t){return snt(cn,e,t)};var FO;function _he(){return FO===void 0&&(FO={}),FO}a(_he,"lazyWebStreams");cn.fromWeb=function(e,t){return _he().newStreamReadableFromReadableStream(e,t)};cn.toWeb=function(e,t){return _he().newReadableStreamFromStreamReadable(e,t)};cn.wrap=function(e,t){var r,n;return new cn({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,s){Um.destroyer(e,i),s(i)}}).wrap(e)}});var jO=j((nlr,Lhe)=>{d();var v1=If(),{ArrayPrototypeSlice:Ehe,Error:bnt,FunctionPrototypeSymbolHasInstance:She,ObjectDefineProperty:khe,ObjectDefineProperties:vnt,ObjectSetPrototypeOf:Che,StringPrototypeToLowerCase:_nt,Symbol:xnt,SymbolHasInstance:wnt}=da();Lhe.exports=Oi;Oi.WritableState=Ox;var{EventEmitter:Ant}=ea(),Dx=gS().Stream,{Buffer:wS}=Ei(),SS=m1(),{addAbortSignal:Ent}=mS(),{getHighWaterMark:Snt,getDefaultHighWaterMark:knt}=vS(),{ERR_INVALID_ARG_TYPE:Cnt,ERR_METHOD_NOT_IMPLEMENTED:Int,ERR_MULTIPLE_CALLBACK:Ihe,ERR_STREAM_CANNOT_PIPE:Tnt,ERR_STREAM_DESTROYED:Nx,ERR_STREAM_ALREADY_FINISHED:Mnt,ERR_STREAM_NULL_VALUES:Bnt,ERR_STREAM_WRITE_AFTER_END:Rnt,ERR_UNKNOWN_ENCODING:The}=Js().codes,{errorOrDestroy:Ym}=SS;Che(Oi.prototype,Dx.prototype);Che(Oi,Dx);function zO(){}a(zO,"nop");var Hm=xnt("kOnFinished");function Ox(e,t,r){typeof r!="boolean"&&(r=t instanceof Nu()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Snt(this,e,"writableHighWaterMark",r):knt(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Dnt.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ES(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Hm]=[]}a(Ox,"WritableState");function ES(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}a(ES,"resetBuffer");Ox.prototype.getBuffer=a(function(){return Ehe(this.buffered,this.bufferedIndex)},"getBuffer");khe(Ox.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Oi(e){let t=this instanceof Nu();if(!t&&!She(Oi,this))return new Oi(e);this._writableState=new Ox(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Ent(e.signal,this)),Dx.call(this,e),SS.construct(this,()=>{let r=this._writableState;r.writing||WO(this,r),VO(this,r)})}a(Oi,"Writable");khe(Oi,wnt,{__proto__:null,value:function(e){return She(this,e)?!0:this!==Oi?!1:e&&e._writableState instanceof Ox}});Oi.prototype.pipe=function(){Ym(this,new Tnt)};function Mhe(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!wS.isEncoding(r))throw new The(r);typeof n!="function"&&(n=zO)}if(t===null)throw new Bnt;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=wS.from(t,r),r="buffer");else if(t instanceof wS)r="buffer";else if(Dx._isUint8Array(t))t=Dx._uint8ArrayToBuffer(t),r="buffer";else throw new Cnt("chunk",["string","Buffer","Uint8Array"],t);let s;return i.ending?s=new Rnt:i.destroyed&&(s=new Nx("write")),s?(v1.nextTick(n,s),Ym(e,s,!0),s):(i.pendingcb++,Lnt(e,i,t,r,n))}a(Mhe,"_write");Oi.prototype.write=function(e,t,r){return Mhe(this,e,t,r)===!0};Oi.prototype.cork=function(){this._writableState.corked++};Oi.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||WO(this,e))};Oi.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=_nt(t)),!wS.isEncoding(t))throw new The(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Lnt(e,t,r,n,i){let s=t.objectMode?1:r.length;t.length+=s;let o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==zO&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}a(Lnt,"writeOrBuffer");function whe(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Nx("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(whe,"doWrite");function Ahe(e,t,r,n){--t.pendingcb,n(r),QO(t),Ym(e,r)}a(Ahe,"onwriteError");function Dnt(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ym(e,new Ihe);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?v1.nextTick(Ahe,e,r,t,i):Ahe(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&WO(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},v1.nextTick(Nnt,r.afterWriteTickInfo)):Bhe(e,r,1,i))}a(Dnt,"onwrite");function Nnt({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,Bhe(e,t,r,n)}a(Nnt,"afterWriteTick");function Bhe(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&QO(t),VO(e,t)}a(Bhe,"afterWrite");function QO(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:s,callback:o}=e.buffered[i],l=e.objectMode?1:s.length;e.length-=l,o((t=e.errored)!==null&&t!==void 0?t:new Nx("write"))}let r=e[Hm].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new Nx("end"))}ES(e)}a(QO,"errorBuffer");function WO(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let o=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let l=t.allNoop?zO:f=>{for(let h=o;h<r.length;++h)r[h].callback(f)},u=t.allNoop&&o===0?r:Ehe(r,o);u.allBuffers=t.allBuffers,whe(e,t,!0,t.length,u,"",l),ES(t)}else{do{let{chunk:l,encoding:u,callback:f}=r[o];r[o++]=null;let h=i?1:l.length;whe(e,t,!1,h,l,u,f)}while(o<r.length&&!t.writing);o===r.length?ES(t):o>256?(r.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}a(WO,"clearBuffer");Oi.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new Int("_write()")};Oi.prototype._writev=null;Oi.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let s=Mhe(this,e,t);s instanceof bnt&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,VO(this,n,!0),n.ended=!0):n.finished?i=new Mnt("end"):n.destroyed&&(i=new Nx("end"))),typeof r=="function"&&(i||n.finished?v1.nextTick(r,i):n[Hm].push(r)),this};function AS(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}a(AS,"needFinish");function Ont(e,t){let r=!1;function n(i){if(r){Ym(e,i??Ihe());return}if(r=!0,t.pendingcb--,i){let s=t[Hm].splice(0);for(let o=0;o<s.length;o++)s[o](i);Ym(e,i,t.sync)}else AS(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,v1.nextTick(HO,e,t))}a(n,"onFinish"),t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}a(Ont,"callFinal");function qnt(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Ont(e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(qnt,"prefinish");function VO(e,t,r){AS(t)&&(qnt(e,t),t.pendingcb===0&&(r?(t.pendingcb++,v1.nextTick((n,i)=>{AS(i)?HO(n,i):i.pendingcb--},e,t)):AS(t)&&(t.pendingcb++,HO(e,t))))}a(VO,"finishMaybe");function HO(e,t){t.pendingcb--,t.finished=!0;let r=t[Hm].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}a(HO,"finish");vnt(Oi.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Pnt=SS.destroy;Oi.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Hm].length)&&v1.nextTick(QO,r),Pnt.call(this,e,t),this};Oi.prototype._undestroy=SS.undestroy;Oi.prototype._destroy=function(e,t){t(e)};Oi.prototype[Ant.captureRejectionSymbol]=function(e){this.destroy(e)};var YO;function Rhe(){return YO===void 0&&(YO={}),YO}a(Rhe,"lazyWebStreams");Oi.fromWeb=function(e,t){return Rhe().newStreamWritableFromWritableStream(e,t)};Oi.toWeb=function(e){return Rhe().newWritableStreamFromStreamWritable(e)}});var Whe=j((slr,Qhe)=>{d();var GO=If(),Fnt=Ei(),{isReadable:Unt,isWritable:Ynt,isIterable:Dhe,isNodeStream:Hnt,isReadableNodeStream:Nhe,isWritableNodeStream:Ohe,isDuplexNodeStream:znt}=Xd(),qhe=Jd(),{AbortError:zhe,codes:{ERR_INVALID_ARG_TYPE:Qnt,ERR_INVALID_RETURN_VALUE:Phe}}=Js(),{destroyer:zm}=m1(),Wnt=Nu(),Vnt=Lx(),{createDeferredPromise:Fhe}=Lu(),Uhe=DO(),Yhe=globalThis.Blob||Fnt.Blob,jnt=a(typeof Yhe<"u"?function(t){return t instanceof Yhe}:function(t){return!1},"isBlob"),Gnt=globalThis.AbortController||tS().AbortController,{FunctionPrototypeCall:Hhe}=da(),t0=class extends Wnt{constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};a(t0,"Duplexify");Qhe.exports=a(function e(t,r){if(znt(t))return t;if(Nhe(t))return kS({readable:t});if(Ohe(t))return kS({writable:t});if(Hnt(t))return kS({writable:!1,readable:!1});if(typeof t=="function"){let{value:i,write:s,final:o,destroy:l}=Knt(t);if(Dhe(i))return Uhe(t0,i,{objectMode:!0,write:s,final:o,destroy:l});let u=i?.then;if(typeof u=="function"){let f,h=Hhe(u,i,p=>{if(p!=null)throw new Phe("nully","body",p)},p=>{zm(f,p)});return f=new t0({objectMode:!0,readable:!1,write:s,final(p){o(async()=>{try{await h,GO.nextTick(p,null)}catch(g){GO.nextTick(p,g)}})},destroy:l})}throw new Phe("Iterable, AsyncIterable or AsyncFunction",r,i)}if(jnt(t))return e(t.arrayBuffer());if(Dhe(t))return Uhe(t0,t,{objectMode:!0,writable:!1});if(typeof t?.writable=="object"||typeof t?.readable=="object"){let i=t!=null&&t.readable?Nhe(t?.readable)?t?.readable:e(t.readable):void 0,s=t!=null&&t.writable?Ohe(t?.writable)?t?.writable:e(t.writable):void 0;return kS({readable:i,writable:s})}let n=t?.then;if(typeof n=="function"){let i;return Hhe(n,t,s=>{s!=null&&i.push(s),i.push(null)},s=>{zm(i,s)}),i=new t0({objectMode:!0,writable:!1,read(){}})}throw new Qnt(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)},"duplexify");function Knt(e){let{promise:t,resolve:r}=Fhe(),n=new Gnt,i=n.signal;return{value:e(async function*(){for(;;){let o=t;t=null;let{chunk:l,done:u,cb:f}=await o;if(GO.nextTick(f),u)return;if(i.aborted)throw new zhe(void 0,{cause:i.reason});({promise:t,resolve:r}=Fhe()),yield l}}(),{signal:i}),write(o,l,u){let f=r;r=null,f({chunk:o,done:!1,cb:u})},final(o){let l=r;r=null,l({done:!0,cb:o})},destroy(o,l){n.abort(),l(o)}}}a(Knt,"fromAsyncGen");function kS(e){let t=e.readable&&typeof e.readable.read!="function"?Vnt.wrap(e.readable):e.readable,r=e.writable,n=!!Unt(t),i=!!Ynt(r),s,o,l,u,f;function h(p){let g=u;u=null,g?g(p):p?f.destroy(p):!n&&!i&&f.destroy()}return a(h,"onfinished"),f=new t0({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(qhe(r,p=>{i=!1,p&&zm(t,p),h(p)}),f._write=function(p,g,y){r.write(p,g)?y():s=y},f._final=function(p){r.end(),o=p},r.on("drain",function(){if(s){let p=s;s=null,p()}}),r.on("finish",function(){if(o){let p=o;o=null,p()}})),n&&(qhe(t,p=>{n=!1,p&&zm(t,p),h(p)}),t.on("readable",function(){if(l){let p=l;l=null,p()}}),t.on("end",function(){f.push(null)}),f._read=function(){for(;;){let p=t.read();if(p===null){l=f._read;return}if(!f.push(p))return}}),f._destroy=function(p,g){!p&&u!==null&&(p=new zhe),l=null,s=null,o=null,u===null?g(p):(u=g,zm(r,p),zm(t,p))},f}a(kS,"_duplexify")});var Nu=j((llr,Ghe)=>{"use strict";d();var{ObjectDefineProperties:$nt,ObjectGetOwnPropertyDescriptor:nh,ObjectKeys:Xnt,ObjectSetPrototypeOf:Vhe}=da();Ghe.exports=Cl;var XO=Lx(),Vc=jO();Vhe(Cl.prototype,XO.prototype);Vhe(Cl,XO);{let e=Xnt(Vc.prototype);for(let t=0;t<e.length;t++){let r=e[t];Cl.prototype[r]||(Cl.prototype[r]=Vc.prototype[r])}}function Cl(e){if(!(this instanceof Cl))return new Cl(e);XO.call(this,e),Vc.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(Cl,"Duplex");$nt(Cl.prototype,{writable:{__proto__:null,...nh(Vc.prototype,"writable")},writableHighWaterMark:{__proto__:null,...nh(Vc.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...nh(Vc.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...nh(Vc.prototype,"writableBuffer")},writableLength:{__proto__:null,...nh(Vc.prototype,"writableLength")},writableFinished:{__proto__:null,...nh(Vc.prototype,"writableFinished")},writableCorked:{__proto__:null,...nh(Vc.prototype,"writableCorked")},writableEnded:{__proto__:null,...nh(Vc.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...nh(Vc.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var KO;function jhe(){return KO===void 0&&(KO={}),KO}a(jhe,"lazyWebStreams");Cl.fromWeb=function(e,t){return jhe().newStreamDuplexFromReadableWritablePair(e,t)};Cl.toWeb=function(e){return jhe().newReadableWritablePairFromDuplex(e)};var $O;Cl.from=function(e){return $O||($O=Whe()),$O(e,"body")}});var eq=j((hlr,$he)=>{"use strict";d();var{ObjectSetPrototypeOf:Khe,Symbol:Jnt}=da();$he.exports=ih;var{ERR_METHOD_NOT_IMPLEMENTED:Znt}=Js().codes,ZO=Nu(),{getHighWaterMark:eit}=vS();Khe(ih.prototype,ZO.prototype);Khe(ih,ZO);var qx=Jnt("kCallback");function ih(e){if(!(this instanceof ih))return new ih(e);let t=e?eit(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),ZO.call(this,e),this._readableState.sync=!1,this[qx]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",tit)}a(ih,"Transform");function JO(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}a(JO,"final");function tit(){this._final!==JO&&JO.call(this)}a(tit,"prefinish");ih.prototype._final=JO;ih.prototype._transform=function(e,t,r){throw new Znt("_transform()")};ih.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(o,l)=>{if(o){r(o);return}l!=null&&this.push(l),i.ended||s===n.length||n.length<n.highWaterMark?r():this[qx]=r})};ih.prototype._read=function(){if(this[qx]){let e=this[qx];this[qx]=null,e()}}});var rq=j((glr,Jhe)=>{"use strict";d();var{ObjectSetPrototypeOf:Xhe}=da();Jhe.exports=Qm;var tq=eq();Xhe(Qm.prototype,tq.prototype);Xhe(Qm,tq);function Qm(e){if(!(this instanceof Qm))return new Qm(e);tq.call(this,e)}a(Qm,"PassThrough");Qm.prototype._transform=function(e,t,r){r(null,e)}});var TS=j((blr,ade)=>{d();var CS=If(),{ArrayIsArray:rit,Promise:nit,SymbolAsyncIterator:iit}=da(),IS=Jd(),{once:ait}=Lu(),sit=m1(),Zhe=Nu(),{aggregateTwoErrors:oit,codes:{ERR_INVALID_ARG_TYPE:nde,ERR_INVALID_RETURN_VALUE:nq,ERR_MISSING_ARGS:cit,ERR_STREAM_DESTROYED:lit,ERR_STREAM_PREMATURE_CLOSE:uit},AbortError:fit}=Js(),{validateFunction:hit,validateAbortSignal:dit}=Bx(),{isIterable:Wm,isReadable:iq,isReadableNodeStream:oq,isNodeStream:ede}=Xd(),pit=globalThis.AbortController||tS().AbortController,aq,sq;function tde(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=IS(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,sit.destroyer(e,s||new lit("pipe")))},cleanup:i}}a(tde,"destroyer");function git(e){return hit(e[e.length-1],"streams[stream.length - 1]"),e.pop()}a(git,"popCallback");function yit(e){if(Wm(e))return e;if(oq(e))return mit(e);throw new nde("val",["Readable","Iterable","AsyncIterable"],e)}a(yit,"makeAsyncIterable");async function*mit(e){sq||(sq=Lx()),yield*sq.prototype[iit].call(e)}a(mit,"fromReadable");async function rde(e,t,r,{end:n}){let i,s=null,o=a(f=>{if(f&&(i=f),s){let h=s;s=null,h()}},"resume"),l=a(()=>new nit((f,h)=>{i?h(i):s=a(()=>{i?h(i):f()},"onresolve")}),"wait");t.on("drain",o);let u=IS(t,{readable:!1},o);try{t.writableNeedDrain&&await l();for await(let f of e)t.write(f)||await l();n&&t.end(),await l(),r()}catch(f){r(i!==f?oit(i,f):f)}finally{u(),t.off("drain",o)}}a(rde,"pump");function bit(...e){return ide(e,ait(git(e)))}a(bit,"pipeline");function ide(e,t,r){if(e.length===1&&rit(e[0])&&(e=e[0]),e.length<2)throw new cit("streams");let n=new pit,i=n.signal,s=r?.signal,o=[];dit(s,"options.signal");function l(){y(new fit)}a(l,"abort"),s?.addEventListener("abort",l);let u,f,h=[],p=0;function g(P){y(P,--p===0)}a(g,"finish");function y(P,Q){if(P&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=P),!(!u&&!Q)){for(;h.length;)h.shift()(u);s?.removeEventListener("abort",l),n.abort(),Q&&(u||o.forEach(V=>V()),CS.nextTick(t,u,f))}}a(y,"finishImpl");let E;for(let P=0;P<e.length;P++){let Q=e[P],V=P<e.length-1,W=P>0,F=V||r?.end!==!1,B=P===e.length-1;if(ede(Q)){let S=function(T){T&&T.name!=="AbortError"&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(T)};var z=S;if(a(S,"onError"),F){let{destroy:T,cleanup:k}=tde(Q,V,W);h.push(T),iq(Q)&&B&&o.push(k)}Q.on("error",S),iq(Q)&&B&&o.push(()=>{Q.removeListener("error",S)})}if(P===0)if(typeof Q=="function"){if(E=Q({signal:i}),!Wm(E))throw new nq("Iterable, AsyncIterable or Stream","source",E)}else Wm(Q)||oq(Q)?E=Q:E=Zhe.from(Q);else if(typeof Q=="function")if(E=yit(E),E=Q(E,{signal:i}),V){if(!Wm(E,!0))throw new nq("AsyncIterable",`transform[${P-1}]`,E)}else{var M;aq||(aq=rq());let S=new aq({objectMode:!0}),T=(M=E)===null||M===void 0?void 0:M.then;if(typeof T=="function")p++,T.call(E,x=>{f=x,x!=null&&S.write(x),F&&S.end(),CS.nextTick(g)},x=>{S.destroy(x),CS.nextTick(g,x)});else if(Wm(E,!0))p++,rde(E,S,g,{end:F});else throw new nq("AsyncIterable or Promise","destination",E);E=S;let{destroy:k,cleanup:R}=tde(E,!1,!0);h.push(k),B&&o.push(R)}else if(ede(Q)){if(oq(E)){p+=2;let S=vit(E,Q,g,{end:F});iq(Q)&&B&&o.push(S)}else if(Wm(E))p++,rde(E,Q,g,{end:F});else throw new nde("val",["Readable","Iterable","AsyncIterable"],E);E=Q}else E=Zhe.from(Q)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&CS.nextTick(l),E}a(ide,"pipelineImpl");function vit(e,t,r,{end:n}){let i=!1;return t.on("close",()=>{i||r(new uit)}),e.pipe(t,{end:n}),n?e.once("end",()=>{i=!0,t.end()}):r(),IS(e,{readable:!0,writable:!1},s=>{let o=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?e.once("end",r).once("error",r):r(s)}),IS(t,{readable:!1,writable:!0},r)}a(vit,"pipe");ade.exports={pipelineImpl:ide,pipeline:bit}});var ude=j((xlr,lde)=>{"use strict";d();var{pipeline:_it}=TS(),MS=Nu(),{destroyer:xit}=m1(),{isNodeStream:wit,isReadable:sde,isWritable:ode}=Xd(),{AbortError:Ait,codes:{ERR_INVALID_ARG_VALUE:cde,ERR_MISSING_ARGS:Eit}}=Js();lde.exports=a(function(...t){if(t.length===0)throw new Eit("streams");if(t.length===1)return MS.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=MS.from(t[0])),typeof t[t.length-1]=="function"){let y=t.length-1;t[y]=MS.from(t[y])}for(let y=0;y<t.length;++y)if(!!wit(t[y])){if(y<t.length-1&&!sde(t[y]))throw new cde(`streams[${y}]`,r[y],"must be readable");if(y>0&&!ode(t[y]))throw new cde(`streams[${y}]`,r[y],"must be writable")}let n,i,s,o,l;function u(y){let E=o;o=null,E?E(y):y?l.destroy(y):!g&&!p&&l.destroy()}a(u,"onfinished");let f=t[0],h=_it(t,u),p=!!ode(f),g=!!sde(h);return l=new MS({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:p,readable:g}),p&&(l._write=function(y,E,M){f.write(y,E)?M():n=M},l._final=function(y){f.end(),i=y},f.on("drain",function(){if(n){let y=n;n=null,y()}}),h.on("finish",function(){if(i){let y=i;i=null,y()}})),g&&(h.on("readable",function(){if(s){let y=s;s=null,y()}}),h.on("end",function(){l.push(null)}),l._read=function(){for(;;){let y=h.read();if(y===null){s=l._read;return}if(!l.push(y))return}}),l._destroy=function(y,E){!y&&o!==null&&(y=new Ait),s=null,n=null,i=null,o===null?E(y):(o=E,xit(h,y))},l},"compose")});var cq=j((Elr,fde)=>{"use strict";d();var{ArrayPrototypePop:Sit,Promise:kit}=da(),{isIterable:Cit,isNodeStream:Iit}=Xd(),{pipelineImpl:Tit}=TS(),{finished:Mit}=Jd();function Bit(...e){return new kit((t,r)=>{let n,i,s=e[e.length-1];if(s&&typeof s=="object"&&!Iit(s)&&!Cit(s)){let o=Sit(e);n=o.signal,i=o.end}Tit(e,(o,l)=>{o?r(o):t(l)},{signal:n,end:i})})}a(Bit,"pipeline");fde.exports={finished:Mit,pipeline:Bit}});var xde=j((Clr,_de)=>{d();var{Buffer:Rit}=Ei(),{ObjectDefineProperty:ah,ObjectKeys:pde,ReflectApply:gde}=da(),{promisify:{custom:yde}}=Lu(),{streamReturningOperators:hde,promiseReturningOperators:dde}=Hfe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:mde}}=Js(),Lit=ude(),{pipeline:bde}=TS(),{destroyer:Dit}=m1(),vde=Jd(),lq=cq(),uq=Xd(),ra=_de.exports=gS().Stream;ra.isDisturbed=uq.isDisturbed;ra.isErrored=uq.isErrored;ra.isReadable=uq.isReadable;ra.Readable=Lx();for(let e of pde(hde)){let r=function(...n){if(new.target)throw mde();return ra.Readable.from(gde(t,this,n))};Oit=r,a(r,"fn");let t=hde[e];ah(r,"name",{__proto__:null,value:t.name}),ah(r,"length",{__proto__:null,value:t.length}),ah(ra.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Oit;for(let e of pde(dde)){let r=function(...i){if(new.target)throw mde();return gde(t,this,i)};Oit=r,a(r,"fn");let t=dde[e];ah(r,"name",{__proto__:null,value:t.name}),ah(r,"length",{__proto__:null,value:t.length}),ah(ra.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Oit;ra.Writable=jO();ra.Duplex=Nu();ra.Transform=eq();ra.PassThrough=rq();ra.pipeline=bde;var{addAbortSignal:Nit}=mS();ra.addAbortSignal=Nit;ra.finished=vde;ra.destroy=Dit;ra.compose=Lit;ah(ra,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return lq}});ah(bde,yde,{__proto__:null,enumerable:!0,get(){return lq.pipeline}});ah(vde,yde,{__proto__:null,enumerable:!0,get(){return lq.finished}});ra.Stream=ra;ra._isUint8Array=a(function(t){return t instanceof Uint8Array},"isUint8Array");ra._uint8ArrayToBuffer=a(function(t){return Rit.from(t.buffer,t.byteOffset,t.byteLength)},"_uint8ArrayToBuffer")});var fq=j((Mlr,na)=>{"use strict";d();var Ba=xde(),qit=cq(),Pit=Ba.Readable.destroy;na.exports=Ba.Readable;na.exports._uint8ArrayToBuffer=Ba._uint8ArrayToBuffer;na.exports._isUint8Array=Ba._isUint8Array;na.exports.isDisturbed=Ba.isDisturbed;na.exports.isErrored=Ba.isErrored;na.exports.isReadable=Ba.isReadable;na.exports.Readable=Ba.Readable;na.exports.Writable=Ba.Writable;na.exports.Duplex=Ba.Duplex;na.exports.Transform=Ba.Transform;na.exports.PassThrough=Ba.PassThrough;na.exports.addAbortSignal=Ba.addAbortSignal;na.exports.finished=Ba.finished;na.exports.destroy=Ba.destroy;na.exports.destroy=Pit;na.exports.pipeline=Ba.pipeline;na.exports.compose=Ba.compose;Object.defineProperty(Ba,"promises",{configurable:!0,enumerable:!0,get(){return qit}});na.exports.Stream=Ba.Stream;na.exports.default=na.exports});var Ade=j((Rlr,Px)=>{d();var mr;(function(e){e.runningInNodeJS=function(){return typeof _.default=="object"&&typeof _.default.versions=="object"&&typeof _.default.versions.node=="string"},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&Yi.main===Px},e.commonJSAvailable=function(){return typeof Px=="object"&&typeof Px.exports=="object"},e.runningInWebWorker=function(){return typeof window>"u"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&typeof _.default.send=="function"},e.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"||typeof document!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},e.webWorkersAvailable=function(){return!(typeof Worker!="function"||e.runningInNullOrigin()||e.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},e.log=function(t,r){r===void 0&&(r=!1),typeof console=="object"&&(console.log(t),r&&typeof document=="object"&&(document.body.innerHTML+=t+"<br/>"))},e.createErrorMessage=function(t,r){if(r===void 0&&(r="Unhandled exception"),t==null)return r;if(r+=": ",typeof t.content=="object"){if(e.runningInNodeJS())return r+t.content.stack;var n=JSON.stringify(t.content);return n!=="{}"?r+n:r+t.content}else return typeof t.content=="string"?r+t.content:r+t},e.printExceptionAndStackTraceToConsole=function(t,r){r===void 0&&(r="Unhandled exception"),e.log(e.createErrorMessage(t,r))},e.getGlobalObject=function(){return typeof w=="object"?w:typeof window=="object"?window:typeof self=="object"?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(Px.exports=e)})(mr||(mr={}));var wde;(function(e){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var t=a(function(s,o){var l=a(function(f,h,p){return f<h?h:f>p?p:f},"clamp");s=s|0,o=o|0,arguments.length<1&&(s=0),arguments.length<2&&(o=this.length),s<0&&(s=this.length+s),o<0&&(o=this.length+o),s=l(s,0,this.length),o=l(o,0,this.length);var u=o-s;return u<0&&(u=0),new this.constructor(this.buffer,this.byteOffset+s*this.BYTES_PER_ELEMENT,u)},"subarray"),r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],n=void 0;if(typeof window=="object"?n=window:typeof self=="object"&&(n=self),n!==void 0)for(var i=0;i<r.length;i++)n[r[i]]&&(n[r[i]].prototype.subarray=t)}})(wde||(wde={}));var mr;(function(e){var t=function(){function r(){}return a(r,"AsyncCompressor"),r.compressAsync=function(n,i,s){var o=new e.Timer,l=new e.Compressor;if(!s)throw new TypeError("compressAsync: No callback argument given");if(typeof n=="string")n=e.encodeUTF8(n);else if(n==null||!(n instanceof Uint8Array)){s(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var u=e.ArrayTools.splitByteArray(n,i.blockSize),f=[],h=a(function(p){if(p<u.length){var g=void 0;try{g=l.compressBlock(u[p])}catch(E){s(void 0,E);return}f.push(g),o.getElapsedTime()<=20?h(p+1):(e.enqueueImmediate(function(){return h(p+1)}),o.restart())}else{var y=e.ArrayTools.concatUint8Arrays(f);e.enqueueImmediate(function(){var E;try{E=e.CompressionCommon.encodeCompressedBytes(y,i.outputEncoding)}catch(M){s(void 0,M);return}e.enqueueImmediate(function(){return s(E)})})}},"compressBlocksStartingAt");e.enqueueImmediate(function(){return h(0)})},r.createCompressionStream=function(){var n=new e.Compressor,i=fq(),s=new i.Transform({decodeStrings:!0,highWaterMark:65536});return s._transform=function(o,l,u){var f;try{f=e.BufferTools.uint8ArrayToBuffer(n.compressBlock(e.BufferTools.bufferToUint8Array(o)))}catch(h){s.emit("error",h);return}s.push(f),u()},s},r}();e.AsyncCompressor=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){}return a(r,"AsyncDecompressor"),r.decompressAsync=function(n,i,s){if(!s)throw new TypeError("decompressAsync: No callback argument given");var o=new e.Timer;try{n=e.CompressionCommon.decodeCompressedBytes(n,i.inputEncoding)}catch(p){s(void 0,p);return}var l=new e.Decompressor,u=e.ArrayTools.splitByteArray(n,i.blockSize),f=[],h=a(function(p){if(p<u.length){var g=void 0;try{g=l.decompressBlock(u[p])}catch(E){s(void 0,E);return}f.push(g),o.getElapsedTime()<=20?h(p+1):(e.enqueueImmediate(function(){return h(p+1)}),o.restart())}else{var y=e.ArrayTools.concatUint8Arrays(f);e.enqueueImmediate(function(){var E;try{E=e.CompressionCommon.encodeDecompressedBytes(y,i.outputEncoding)}catch(M){s(void 0,M);return}e.enqueueImmediate(function(){return s(E)})})}},"decompressBlocksStartingAt");e.enqueueImmediate(function(){return h(0)})},r.createDecompressionStream=function(){var n=new e.Decompressor,i=fq(),s=new i.Transform({decodeStrings:!0,highWaterMark:65536});return s._transform=function(o,l,u){var f;try{f=e.BufferTools.uint8ArrayToBuffer(n.decompressBlock(e.BufferTools.bufferToUint8Array(o)))}catch(h){s.emit("error",h);return}s.push(f),u()},s},r}();e.AsyncDecompressor=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.compressAsync=function(n,i,s){if(i.inputEncoding=="ByteArray"&&!(n instanceof Uint8Array)){s(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var o={token:Math.random().toString(),type:"compress",data:n,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},l=a(function(u){var f=u.data;!f||f.token!=o.token||(r.globalWorker.removeEventListener("message",l),f.type=="error"?s(void 0,new Error(f.error)):s(f.data))},"responseListener");r.globalWorker.addEventListener("message",l),r.globalWorker.postMessage(o,[])},r.decompressAsync=function(n,i,s){var o={token:Math.random().toString(),type:"decompress",data:n,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},l=a(function(u){var f=u.data;!f||f.token!=o.token||(r.globalWorker.removeEventListener("message",l),f.type=="error"?s(void 0,new Error(f.error)):s(f.data))},"responseListener");r.globalWorker.addEventListener("message",l),r.globalWorker.postMessage(o,[])},r.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(n){var i=n.data;if(i.type=="compress"){var s=void 0;try{s=e.compress(i.data,{outputEncoding:i.outputEncoding})}catch(u){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(u)},[]);return}var o={token:i.token,type:"compressionResult",data:s,encoding:i.outputEncoding};o.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if(i.type=="decompress"){var l=void 0;try{l=e.decompress(i.data,{inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding})}catch(f){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(f)},[]);return}var o={token:i.token,type:"decompressionResult",data:l,encoding:i.outputEncoding};o.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}}),self.addEventListener("error",function(n){e.log(e.createErrorMessage(n.error,"Unexpected LZUTF8 WebWorker exception"))}))},r.createGlobalWorkerIfNeeded=function(){if(r.globalWorker)return!0;if(!e.webWorkersAvailable())return!1;if(!r.scriptURI&&typeof document=="object"){var n=document.getElementById("lzutf8");n!=null&&(r.scriptURI=n.getAttribute("src")||void 0)}return r.scriptURI?(r.globalWorker=new Worker(r.scriptURI),!0):!1},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)}})(t=e.WebWorker||(e.WebWorker={})),t.installWebWorkerIfNeeded()})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n,i,s){this.container=n,this.startPosition=i,this.length=s}return a(r,"ArraySegment"),r.prototype.get=function(n){return this.container[this.startPosition+n]},r.prototype.getInReversedOrder=function(n){return this.container[this.startPosition+this.length-1-n]},r.prototype.set=function(n,i){this.container[this.startPosition+n]=i},r}();e.ArraySegment=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.copyElements=function(n,i,s,o,l){for(;l--;)s[o++]=n[i++]},r.zeroElements=function(n,i,s){for(;s--;)n[i++]=0},r.countNonzeroValuesInArray=function(n){for(var i=0,s=0;s<n.length;s++)n[s]&&i++;return i},r.truncateStartingElements=function(n,i){if(n.length<=i)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var s=n.length-i,o=0;o<i;o++)n[o]=n[s+o];n.length=i},r.doubleByteArrayCapacity=function(n){var i=new Uint8Array(n.length*2);return i.set(n),i},r.concatUint8Arrays=function(n){for(var i=0,s=0,o=n;s<o.length;s++){var l=o[s];i+=l.length}for(var u=new Uint8Array(i),f=0,h=0,p=n;h<p.length;h++){var l=p[h];u.set(l,f),f+=l.length}return u},r.splitByteArray=function(n,i){for(var s=[],o=0;o<n.length;){var l=Math.min(i,n.length-o);s.push(n.subarray(o,o+l)),o+=l}return s}})(t=e.ArrayTools||(e.ArrayTools={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.convertToUint8ArrayIfNeeded=function(n){return typeof b.Buffer=="function"&&b.Buffer.isBuffer(n)?r.bufferToUint8Array(n):n},r.uint8ArrayToBuffer=function(n){if(b.Buffer.prototype instanceof Uint8Array){var i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return Object.setPrototypeOf(i,b.Buffer.prototype),i}else{for(var s=n.length,o=new b.Buffer(s),l=0;l<s;l++)o[l]=n[l];return o}},r.bufferToUint8Array=function(n){if(b.Buffer.prototype instanceof Uint8Array)return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);for(var i=n.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=n[o];return s}})(t=e.BufferTools||(e.BufferTools={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.getCroppedBuffer=function(n,i,s,o){o===void 0&&(o=0);var l=new Uint8Array(s+o);return l.set(n.subarray(i,i+s)),l},r.getCroppedAndAppendedByteArray=function(n,i,s,o){return e.ArrayTools.concatUint8Arrays([n.subarray(i,i+s),o])},r.detectCompressionSourceEncoding=function(n){if(n==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof n=="string")return"String";if(n instanceof Uint8Array||typeof b.Buffer=="function"&&b.Buffer.isBuffer(n))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(n,i){switch(i){case"ByteArray":return n;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(n);case"Base64":return e.encodeBase64(n);case"BinaryString":return e.encodeBinaryString(n);case"StorageBinaryString":return e.encodeStorageBinaryString(n);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(n,i){if(i==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(i){case"ByteArray":case"Buffer":var s=e.BufferTools.convertToUint8ArrayIfNeeded(n);if(!(s instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return s;case"Base64":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(n);case"BinaryString":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(n);case"StorageBinaryString":if(typeof n!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(n);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(i,"'"))}},r.encodeDecompressedBytes=function(n,i){switch(i){case"String":return e.decodeUTF8(n);case"ByteArray":return n;case"Buffer":if(typeof b.Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(n);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(t=e.CompressionCommon||(e.CompressionCommon={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n=[],i;r.enqueueImmediate=function(s){n.push(s),n.length===1&&i()},r.initializeScheduler=function(){var s=a(function(){for(var f=0,h=n;f<h.length;f++){var p=h[f];try{p.call(void 0)}catch(g){e.printExceptionAndStackTraceToConsole(g,"enqueueImmediate exception")}}n.length=0},"flush");if(e.runningInNodeJS())i=a(function(){return setImmediate(function(){return s()})},"asyncFlushFunc");else if(typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var o="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(f){f.data===o&&s()});var l;e.runningInNullOrigin()?l="*":l=window.location.href,i=a(function(){return window.postMessage(o,l)},"asyncFlushFunc")}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var u=new MessageChannel;u.port1.onmessage=function(){return s()},i=a(function(){return u.port2.postMessage(0)},"asyncFlushFunc")}else i=a(function(){return setTimeout(function(){return s()},0)},"asyncFlushFunc")},r.initializeScheduler()})(t=e.EventLoop||(e.EventLoop={})),e.enqueueImmediate=function(r){return t.enqueueImmediate(r)}})(mr||(mr={}));var mr;(function(e){var t;(function(r){r.override=function(n,i){return r.extend(n,i)},r.extend=function(n,i){if(n==null)throw new TypeError("obj is null or undefined");if(typeof n!="object")throw new TypeError("obj is not an object");if(i==null&&(i={}),typeof i!="object")throw new TypeError("newProperties is not an object");if(i!=null)for(var s in i)n[s]=i[s];return n}})(t=e.ObjectTools||(e.ObjectTools={}))})(mr||(mr={}));var mr;(function(e){e.getRandomIntegerInRange=function(t,r){return t+Math.floor(Math.random()*(r-t))},e.getRandomUTF16StringOfLength=function(t){for(var r="",n=0;n<t;n++){var i=void 0;do i=e.getRandomIntegerInRange(0,1114111+1);while(i>=55296&&i<=57343);r+=e.Encoding.CodePoint.decodeToString(i)}return r}})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){n===void 0&&(n=1024),this.outputBufferCapacity=n,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return a(r,"StringBuilder"),r.prototype.appendCharCode=function(n){this.outputBuffer[this.outputPosition++]=n,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(n){for(var i=0,s=n.length;i<s;i++)this.appendCharCode(n[i])},r.prototype.appendString=function(n){for(var i=0,s=n.length;i<s;i++)this.appendCharCode(n.charCodeAt(i))},r.prototype.appendCodePoint=function(n){if(n<=65535)this.appendCharCode(n);else if(n<=1114111)this.appendCharCode(55296+(n-65536>>>10)),this.appendCharCode(56320+(n-65536&1023));else throw new Error("appendCodePoint: A code point of ".concat(n," cannot be encoded in UTF-16"))},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r}();e.StringBuilder=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){this.restart()}return a(r,"Timer"),r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var n=this.getElapsedTime();return this.restart(),n},r.prototype.logAndRestart=function(n,i){i===void 0&&(i=!0);var s=this.getElapsedTime(),o="".concat(n,": ").concat(s.toFixed(3),"ms");return e.log(o,i),this.restart(),s},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(r.getTimestamp()*1e3)},r.createGlobalTimestampFunction=function(){if(typeof _.default=="object"&&typeof _.default.hrtime=="function"){var n=0;this.timestampFunc=function(){var l=_.default.hrtime(),u=l[0]*1e3+l[1]/1e6;return n+u},n=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var i=Date.now(),s=new chrome.Interval;s.start(),this.timestampFunc=function(){return i+s.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var o=Date.now()-performance.now();this.timestampFunc=function(){return o+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},r}();e.Timer=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){n===void 0&&(n=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,n&&typeof Uint32Array=="function"?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}return a(r,"Compressor"),r.prototype.compressBlock=function(n){if(n==null)throw new TypeError("compressBlock: undefined or null input received");return typeof n=="string"&&(n=e.encodeUTF8(n)),n=e.BufferTools.convertToUint8ArrayIfNeeded(n),this.compressUtf8Block(n)},r.prototype.compressUtf8Block=function(n){if(!n||n.length==0)return new Uint8Array(0);var i=this.cropAndAddNewBytesToInputBuffer(n),s=this.inputBuffer,o=this.inputBuffer.length;this.outputBuffer=new Uint8Array(n.length),this.outputBufferPosition=0;for(var l=0,u=i;u<o;u++){var f=s[u],h=u<l;if(u>o-this.MinimumSequenceLength){h||this.outputRawByte(f);continue}var p=this.getBucketIndexForPrefix(u);if(!h){var g=this.findLongestMatch(u,p);g!=null&&(this.outputPointerBytes(g.length,g.distance),l=u+g.length,h=!0)}h||this.outputRawByte(f);var y=this.inputBufferStreamOffset+u;this.prefixHashTable.addValueToBucket(p,y)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(n,i){var s=this.prefixHashTable.getArraySegmentForBucketIndex(i,this.reusableArraySegmentObject);if(s==null)return null;for(var o=this.inputBuffer,l,u=0,f=0;f<s.length;f++){var h=s.getInReversedOrder(f)-this.inputBufferStreamOffset,p=n-h,g=void 0;if(l===void 0?g=this.MinimumSequenceLength-1:l<128&&p>=128?g=u+(u>>>1):g=u,p>this.MaximumMatchDistance||g>=this.MaximumSequenceLength||n+g>=o.length)break;if(o[h+g]===o[n+g]){for(var y=0;;y++)if(n+y===o.length||o[h+y]!==o[n+y]){y>g&&(l=p,u=y);break}else if(y===this.MaximumSequenceLength)return{distance:p,length:this.MaximumSequenceLength}}}return l!==void 0?{distance:l,length:u}:null},r.prototype.getBucketIndexForPrefix=function(n){return(this.inputBuffer[n]*7880599+this.inputBuffer[n+1]*39601+this.inputBuffer[n+2]*199+this.inputBuffer[n+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(n,i){i<128?(this.outputRawByte(192|n),this.outputRawByte(i)):(this.outputRawByte(224|n),this.outputRawByte(i>>>8),this.outputRawByte(i&255))},r.prototype.outputRawByte=function(n){this.outputBuffer[this.outputBufferPosition++]=n},r.prototype.cropAndAddNewBytesToInputBuffer=function(n){if(this.inputBuffer===void 0)return this.inputBuffer=n,0;var i=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),s=this.inputBuffer.length-i;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,s,i,n),this.inputBufferStreamOffset+=s,i},r}();e.Compressor=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(n*2),this.storage=new Uint32Array(n*2),this.storageIndex=1}return a(r,"CompressorCustomHashTable"),r.prototype.addValueToBucket=function(n,i){n<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var s=this.bucketLocators[n],o;if(s===0)s=this.storageIndex,o=1,this.storage[this.storageIndex]=i,this.storageIndex+=this.minimumBucketCapacity;else{o=this.bucketLocators[n+1],o===this.maximumBucketCapacity-1&&(o=this.truncateBucketToNewerElements(s,o,this.maximumBucketCapacity/2));var l=s+o;this.storage[l]===0?(this.storage[l]=i,l===this.storageIndex&&(this.storageIndex+=o)):(e.ArrayTools.copyElements(this.storage,s,this.storage,this.storageIndex,o),s=this.storageIndex,this.storageIndex+=o,this.storage[this.storageIndex++]=i,this.storageIndex+=o),o++}this.bucketLocators[n]=s,this.bucketLocators[n+1]=o},r.prototype.truncateBucketToNewerElements=function(n,i,s){var o=n+i-s;return e.ArrayTools.copyElements(this.storage,o,this.storage,n,s),e.ArrayTools.zeroElements(this.storage,n+s,i-s),s},r.prototype.compact=function(){var n=this.bucketLocators,i=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var s=0;s<n.length;s+=2){var o=n[s+1];o!==0&&(this.bucketLocators[s]=this.storageIndex,this.bucketLocators[s+1]=o,this.storageIndex+=Math.max(Math.min(o*2,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(this.storageIndex*8);for(var s=0;s<n.length;s+=2){var l=n[s];if(l!==0){var u=this.bucketLocators[s],f=this.bucketLocators[s+1];e.ArrayTools.copyElements(i,l,this.storage,u,f)}}},r.prototype.getArraySegmentForBucketIndex=function(n,i){n<<=1;var s=this.bucketLocators[n];return s===0?null:(i===void 0&&(i=new e.ArraySegment(this.storage,s,this.bucketLocators[n+1])),i)},r.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var n=0,i=0;i<this.bucketLocators.length;i+=2)n+=this.bucketLocators[i+1];return n},r}();e.CompressorCustomHashTable=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(n){this.maximumBucketCapacity=64,this.buckets=new Array(n)}return a(r,"CompressorSimpleHashTable"),r.prototype.addValueToBucket=function(n,i){var s=this.buckets[n];s===void 0?this.buckets[n]=[i]:(s.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(s,this.maximumBucketCapacity/2),s.push(i))},r.prototype.getArraySegmentForBucketIndex=function(n,i){var s=this.buckets[n];return s===void 0?null:(i===void 0&&(i=new e.ArraySegment(s,0,s.length)),i)},r.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var n=0,i=0;i<this.buckets.length;i++)this.buckets[i]!==void 0&&(n+=this.buckets[i].length);return n},r}();e.CompressorSimpleHashTable=t})(mr||(mr={}));var mr;(function(e){var t=function(){function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}return a(r,"Decompressor"),r.prototype.decompressBlockToString=function(n){return n=e.BufferTools.convertToUint8ArrayIfNeeded(n),e.decodeUTF8(this.decompressBlock(n))},r.prototype.decompressBlock=function(n){this.inputBufferRemainder&&(n=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,n]),this.inputBufferRemainder=void 0);for(var i=this.cropOutputBufferToWindowAndInitialize(Math.max(n.length*4,1024)),s=0,o=n.length;s<o;s++){var l=n[s];if(l>>>6!=3){this.outputByte(l);continue}var u=l>>>5;if(s==o-1||s==o-2&&u==7){this.inputBufferRemainder=n.subarray(s);break}if(n[s+1]>>>7===1)this.outputByte(l);else{var f=l&31,h=void 0;u==6?(h=n[s+1],s+=1):(h=n[s+1]<<8|n[s+2],s+=2);for(var p=this.outputPosition-h,g=0;g<f;g++)this.outputByte(this.outputBuffer[p+g])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,i,this.outputPosition-i)},r.prototype.outputByte=function(n){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=n},r.prototype.cropOutputBufferToWindowAndInitialize=function(n){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(n),0;var i=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-i,i,n),this.outputPosition=i,this.outputBufferRemainder){for(var s=0;s<this.outputBufferRemainder.length;s++)this.outputByte(this.outputBufferRemainder[s]);this.outputBufferRemainder=void 0}return i},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var n=1;n<=4&&this.outputPosition-n>=0;n++){var i=this.outputBuffer[this.outputPosition-n];if(n<4&&i>>>3===30||n<3&&i>>>4===14||n<2&&i>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-n,this.outputPosition),this.outputPosition-=n;return}}},r}();e.Decompressor=t})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),o=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),l="=",u=61;i.encode=function(f){return!f||f.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(f).toString("base64"):i.encodeWithJS(f)},i.decode=function(f){return f?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(b.Buffer.from(f,"base64")):i.decodeWithJS(f):new Uint8Array(0)},i.encodeWithJS=function(f,h){if(h===void 0&&(h=!0),!f||f.length==0)return"";for(var p=s,g=new e.StringBuilder,y,E=0,M=f.length;E<M;E+=3)E<=M-3?(y=f[E]<<16|f[E+1]<<8|f[E+2],g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),g.appendCharCode(p[y>>>6&63]),g.appendCharCode(p[y&63]),y=0):E===M-2?(y=f[E]<<16|f[E+1]<<8,g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),g.appendCharCode(p[y>>>6&63]),h&&g.appendCharCode(u)):E===M-1&&(y=f[E]<<16,g.appendCharCode(p[y>>>18&63]),g.appendCharCode(p[y>>>12&63]),h&&(g.appendCharCode(u),g.appendCharCode(u)));return g.getOutputString()},i.decodeWithJS=function(f,h){if(!f||f.length==0)return new Uint8Array(0);var p=f.length%4;if(p===1)throw new Error("Invalid Base64 string: length % 4 == 1");p===2?f+=l+l:p===3&&(f+=l),h||(h=new Uint8Array(f.length));for(var g=0,y=f.length,E=0;E<y;E+=4){var M=o[f.charCodeAt(E)]<<18|o[f.charCodeAt(E+1)]<<12|o[f.charCodeAt(E+2)]<<6|o[f.charCodeAt(E+3)];h[g++]=M>>>16&255,h[g++]=M>>>8&255,h[g++]=M&255}return f.charCodeAt(y-1)==u&&g--,f.charCodeAt(y-2)==u&&g--,h.subarray(0,g)}})(n=r.Base64||(r.Base64={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encode=function(s){if(s==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(s.length===0)return"";for(var o=s.length,l=new e.StringBuilder,u=0,f=1,h=0;h<o;h+=2){var p=void 0;h==o-1?p=s[h]<<8:p=s[h]<<8|s[h+1],l.appendCharCode(u<<16-f|p>>>f),u=p&(1<<f)-1,f===15?(l.appendCharCode(u),u=0,f=1):f+=1,h>=o-2&&l.appendCharCode(u<<16-f)}return l.appendCharCode(32768|o%2),l.getOutputString()},i.decode=function(s){if(typeof s!="string")throw new TypeError("BinaryString.decode: invalid input type");if(s=="")return new Uint8Array(0);for(var o=new Uint8Array(s.length*3),l=0,u=a(function(y){o[l++]=y>>>8,o[l++]=y&255},"appendToOutput"),f=0,h=0,p=0;p<s.length;p++){var g=s.charCodeAt(p);if(g>=32768){g==32769&&l--,h=0;continue}h==0?f=g:(u(f<<h|g>>>15-h),f=g&(1<<15-h)-1),h==15?h=0:h+=1}return o.subarray(0,l)}})(n=r.BinaryString||(r.BinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encodeFromString=function(s,o){var l=s.charCodeAt(o);if(l<55296||l>56319)return l;var u=s.charCodeAt(o+1);if(u>=56320&&u<=57343)return 65536+((l-55296<<10)+(u-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(l,", followed by ").concat(u,", which is not a trailing surrogate character code."))},i.decodeToString=function(s){if(s<=65535)return String.fromCharCode(s);if(s<=1114111)return String.fromCharCode(55296+(s-65536>>>10),56320+(s-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(s," cannot be encoded in UTF-16"))}})(n=r.CodePoint||(r.CodePoint={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];i.encode=function(o){for(var l=[],u=0;u<o.length;u++)l.push(s[o[u]]);return l.join(" ")}})(n=r.DecimalString||(r.DecimalString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){i.encode=function(s){return r.BinaryString.encode(s).replace(/\0/g,"\u8002")},i.decode=function(s){return r.BinaryString.decode(s.replace(/\u8002/g,"\0"))}})(n=r.StorageBinaryString||(r.StorageBinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){var t;(function(r){var n;(function(i){var s,o;i.encode=function(l){return!l||l.length==0?new Uint8Array(0):e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(b.Buffer.from(l,"utf8")):i.createNativeTextEncoderAndDecoderIfAvailable()?s.encode(l):i.encodeWithJS(l)},i.decode=function(l){return!l||l.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(l).toString("utf8"):i.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(l):i.decodeWithJS(l)},i.encodeWithJS=function(l,u){if(!l||l.length==0)return new Uint8Array(0);u||(u=new Uint8Array(l.length*4));for(var f=0,h=0;h<l.length;h++){var p=r.CodePoint.encodeFromString(l,h);if(p<=127)u[f++]=p;else if(p<=2047)u[f++]=192|p>>>6,u[f++]=128|p&63;else if(p<=65535)u[f++]=224|p>>>12,u[f++]=128|p>>>6&63,u[f++]=128|p&63;else if(p<=1114111)u[f++]=240|p>>>18,u[f++]=128|p>>>12&63,u[f++]=128|p>>>6&63,u[f++]=128|p&63,h++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return u.subarray(0,f)},i.decodeWithJS=function(l,u,f){if(u===void 0&&(u=0),!l||l.length==0)return"";f===void 0&&(f=l.length);for(var h=new e.StringBuilder,p,g,y=u,E=f;y<E;){if(g=l[y],g>>>7===0)p=g,y+=1;else if(g>>>5===6){if(y+1>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&31)<<6|l[y+1]&63,y+=2}else if(g>>>4===14){if(y+2>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&15)<<12|(l[y+1]&63)<<6|l[y+2]&63,y+=3}else if(g>>>3===30){if(y+3>=f)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+y);p=(g&7)<<18|(l[y+1]&63)<<12|(l[y+2]&63)<<6|l[y+3]&63,y+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+y);h.appendCodePoint(p)}return h.getOutputString()},i.createNativeTextEncoderAndDecoderIfAvailable=function(){return s?!0:typeof TextEncoder=="function"?(s=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0):!1}})(n=r.UTF8||(r.UTF8={}))})(t=e.Encoding||(e.Encoding={}))})(mr||(mr={}));var mr;(function(e){function t(M,z){if(z===void 0&&(z={}),M==null)throw new TypeError("compress: undefined or null input received");var P=e.CompressionCommon.detectCompressionSourceEncoding(M);z=e.ObjectTools.override({inputEncoding:P,outputEncoding:"ByteArray"},z);var Q=new e.Compressor,V=Q.compressBlock(M);return e.CompressionCommon.encodeCompressedBytes(V,z.outputEncoding)}a(t,"compress"),e.compress=t;function r(M,z){if(z===void 0&&(z={}),M==null)throw new TypeError("decompress: undefined or null input received");z=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},z);var P=e.CompressionCommon.decodeCompressedBytes(M,z.inputEncoding),Q=new e.Decompressor,V=Q.decompressBlock(P);return e.CompressionCommon.encodeDecompressedBytes(V,z.outputEncoding)}a(r,"decompress"),e.decompress=r;function n(M,z,P){P==null&&(P=a(function(){},"callback"));var Q;try{Q=e.CompressionCommon.detectCompressionSourceEncoding(M)}catch(V){P(void 0,V);return}z=e.ObjectTools.override({inputEncoding:Q,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},z),e.enqueueImmediate(function(){z.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.compressAsync(M,z,P):e.AsyncCompressor.compressAsync(M,z,P)})}a(n,"compressAsync"),e.compressAsync=n;function i(M,z,P){if(P==null&&(P=a(function(){},"callback")),M==null){P(void 0,new TypeError("decompressAsync: undefined or null input received"));return}z=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},z);var Q=e.BufferTools.convertToUint8ArrayIfNeeded(M);e.EventLoop.enqueueImmediate(function(){z.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(Q,z,P):e.AsyncDecompressor.decompressAsync(M,z,P)})}a(i,"decompressAsync"),e.decompressAsync=i;function s(){return e.AsyncCompressor.createCompressionStream()}a(s,"createCompressionStream"),e.createCompressionStream=s;function o(){return e.AsyncDecompressor.createDecompressionStream()}a(o,"createDecompressionStream"),e.createDecompressionStream=o;function l(M){return e.Encoding.UTF8.encode(M)}a(l,"encodeUTF8"),e.encodeUTF8=l;function u(M){return e.Encoding.UTF8.decode(M)}a(u,"decodeUTF8"),e.decodeUTF8=u;function f(M){return e.Encoding.Base64.encode(M)}a(f,"encodeBase64"),e.encodeBase64=f;function h(M){return e.Encoding.Base64.decode(M)}a(h,"decodeBase64"),e.decodeBase64=h;function p(M){return e.Encoding.BinaryString.encode(M)}a(p,"encodeBinaryString"),e.encodeBinaryString=p;function g(M){return e.Encoding.BinaryString.decode(M)}a(g,"decodeBinaryString"),e.decodeBinaryString=g;function y(M){return e.Encoding.StorageBinaryString.encode(M)}a(y,"encodeStorageBinaryString"),e.encodeStorageBinaryString=y;function E(M){return e.Encoding.StorageBinaryString.decode(M)}a(E,"decodeStorageBinaryString"),e.decodeStorageBinaryString=E})(mr||(mr={}))});var Sde=j((Nlr,BS)=>{d();var Ede=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(o,l){if(!n[o]){n[o]={};for(var u=0;u<o.length;u++)n[o][o.charAt(u)]=u}return n[o][l]}a(i,"getBaseValue");var s={compressToBase64:function(o){if(o==null)return"";var l=s._compress(o,6,function(u){return t.charAt(u)});switch(l.length%4){default:case 0:return l;case 1:return l+"===";case 2:return l+"==";case 3:return l+"="}},decompressFromBase64:function(o){return o==null?"":o==""?null:s._decompress(o.length,32,function(l){return i(t,o.charAt(l))})},compressToUTF16:function(o){return o==null?"":s._compress(o,15,function(l){return e(l+32)})+" "},decompressFromUTF16:function(o){return o==null?"":o==""?null:s._decompress(o.length,16384,function(l){return o.charCodeAt(l)-32})},compressToUint8Array:function(o){for(var l=s.compress(o),u=new Uint8Array(l.length*2),f=0,h=l.length;f<h;f++){var p=l.charCodeAt(f);u[f*2]=p>>>8,u[f*2+1]=p%256}return u},decompressFromUint8Array:function(o){if(o==null)return s.decompress(o);for(var l=new Array(o.length/2),u=0,f=l.length;u<f;u++)l[u]=o[u*2]*256+o[u*2+1];var h=[];return l.forEach(function(p){h.push(e(p))}),s.decompress(h.join(""))},compressToEncodedURIComponent:function(o){return o==null?"":s._compress(o,6,function(l){return r.charAt(l)})},decompressFromEncodedURIComponent:function(o){return o==null?"":o==""?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(l){return i(r,o.charAt(l))}))},compress:function(o){return s._compress(o,16,function(l){return e(l)})},_compress:function(o,l,u){if(o==null)return"";var f,h,p={},g={},y="",E="",M="",z=2,P=3,Q=2,V=[],W=0,F=0,B;for(B=0;B<o.length;B+=1)if(y=o.charAt(B),Object.prototype.hasOwnProperty.call(p,y)||(p[y]=P++,g[y]=!0),E=M+y,Object.prototype.hasOwnProperty.call(p,E))M=E;else{if(Object.prototype.hasOwnProperty.call(g,M)){if(M.charCodeAt(0)<256){for(f=0;f<Q;f++)W=W<<1,F==l-1?(F=0,V.push(u(W)),W=0):F++;for(h=M.charCodeAt(0),f=0;f<8;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1}else{for(h=1,f=0;f<Q;f++)W=W<<1|h,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=0;for(h=M.charCodeAt(0),f=0;f<16;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1}z--,z==0&&(z=Math.pow(2,Q),Q++),delete g[M]}else for(h=p[M],f=0;f<Q;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1;z--,z==0&&(z=Math.pow(2,Q),Q++),p[E]=P++,M=String(y)}if(M!==""){if(Object.prototype.hasOwnProperty.call(g,M)){if(M.charCodeAt(0)<256){for(f=0;f<Q;f++)W=W<<1,F==l-1?(F=0,V.push(u(W)),W=0):F++;for(h=M.charCodeAt(0),f=0;f<8;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1}else{for(h=1,f=0;f<Q;f++)W=W<<1|h,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=0;for(h=M.charCodeAt(0),f=0;f<16;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1}z--,z==0&&(z=Math.pow(2,Q),Q++),delete g[M]}else for(h=p[M],f=0;f<Q;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1;z--,z==0&&(z=Math.pow(2,Q),Q++)}for(h=2,f=0;f<Q;f++)W=W<<1|h&1,F==l-1?(F=0,V.push(u(W)),W=0):F++,h=h>>1;for(;;)if(W=W<<1,F==l-1){V.push(u(W));break}else F++;return V.join("")},decompress:function(o){return o==null?"":o==""?null:s._decompress(o.length,32768,function(l){return o.charCodeAt(l)})},_decompress:function(o,l,u){var f=[],h,p=4,g=4,y=3,E="",M=[],z,P,Q,V,W,F,B,S={val:u(0),position:l,index:1};for(z=0;z<3;z+=1)f[z]=z;for(Q=0,W=Math.pow(2,2),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;switch(h=Q){case 0:for(Q=0,W=Math.pow(2,8),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;B=e(Q);break;case 1:for(Q=0,W=Math.pow(2,16),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;B=e(Q);break;case 2:return""}for(f[3]=B,P=B,M.push(B);;){if(S.index>o)return"";for(Q=0,W=Math.pow(2,y),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;switch(B=Q){case 0:for(Q=0,W=Math.pow(2,8),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;f[g++]=e(Q),B=g-1,p--;break;case 1:for(Q=0,W=Math.pow(2,16),F=1;F!=W;)V=S.val&S.position,S.position>>=1,S.position==0&&(S.position=l,S.val=u(S.index++)),Q|=(V>0?1:0)*F,F<<=1;f[g++]=e(Q),B=g-1,p--;break;case 2:return M.join("")}if(p==0&&(p=Math.pow(2,y),y++),f[B])E=f[B];else if(B===g)E=P+P.charAt(0);else return null;M.push(E),f[g++]=P+E.charAt(0),p--,P=E,p==0&&(p=Math.pow(2,y),y++)}}};return s}();typeof define=="function"&&define.amd?define(function(){return Ede}):typeof BS<"u"&&BS!=null&&(BS.exports=Ede)});var Fde=j((our,Pde)=>{d();var zit="#2f383e",Dde="#2c323d",FS="#bbbba9",Nde="#818e85",US="#cd94b0",YS="#db797b",Ode="#9ab278",Qit="#73a8a2",Wit="#d08c6d";async function Vit(e,t={}){let r=await e.listHeads(),n=await e.listTails(),i=await e.listLatest(),s=await e.listFeeds(),o=await e.listFeedHeads(),l=t.colors||{},u=t.blockLabel||(W=>{let F=W.body.subarray(0,8).toString("hex"),B=V(W.sig),S=V(W.key);return`ID: ${B}
KEY: ${S}
BDY: ${F}`}),f=`// Nodes
`,h=`// Edges
`,p=[],g=[];for(let W of r){let F=V(W.key),B=`@author HEAD
${V(W.key)}`;f+=`"H${F}"
      [
        fontcolor="${US}",
        color="${US}",
        label="${B}"
      ];
`,h+=`"H${F}" -> "B${V(W.value)}"[arrowhead=odot];
`,p.push(W.value)}for(let W of n){let F=V(W.value),B=`@author TAIL
 ${V(W.key)}`;f+=`"T${F}"
      [
        fontcolor="${US}",
        color="${US}",
        label="${B}"
      ];
`,h+=`"B${F}" -> "T${F}"[dir=back,arrowtail=odot];
`}for(let W of i){let F=V(W.value),B=`@latest
 ${V(W.key)}`;f+=`"L${F}"
      [
        fontcolor="${Ode}",
        color="${Ode}",
        label="${B}"
      ];
`,h+=`"L${F}" -> "B${F}"[arrowhead=odot];
`}for(let W of s){let F=V(W.key),B=`@chain TAIL
${V(W.value)}`;f+=`"F${F}"
      [
        fontcolor="${YS}",
        color="${YS}",
        label="${B}"
      ];
`,h+=`"B${V(W.value)}" -> "F${F}"[dir=back,arrowtail=odot];
`,p.find(S=>S.equals(W.key))||(p.push(W.key),g.push(W.key))}for(let W of o){let F=V(W.key),B=`@chain HEAD
${V(W.key)}`;f+=`"FT${F}"
      [
        fontcolor="${YS}",
        color="${YS}",
        label="${B}"
      ];
`,h+=`"FT${F}" -> "B${V(W.value)}"[arrowhead=odot];
`}let y=0,E=0,M=0,z=0;for(let W of p){let F=g.find(B=>B.equals(W));y++;for await(let B of e._chainLoad(W)){E++,M+=B.buffer.length,z+=B.size;let S=V(B.sig),T=u(B,{link(R,x=`style=dashed,weight=0.1,color="${Wit}"`){if(!b.Buffer.isBuffer(R))throw new Error("link(id) expected id to be Buffer");h+=`"B${S}" -> "B${V(R)}"[${x}];
`}}),k=F?l.orphanBlock||Qit:l.block||FS;f+=`"B${S}"
        [
          fontcolor="${k}",
          color="${k}"
          shape="square",
          label="${T}"
        ];
`,B.isGenesis||(h+=`"B${S}" -> "B${V(B.parentSig)}"
          [
            color="${Nde}",
            fillcolor="${FS}",
            weight=1.0
          ];
`)}}let P=t.label||`[PicoRepo] Authors: ${i.length} Feeds: ${y}, Blocks: ${E}, Bytes: ${qde(M)} (${qde(M-z)} ${(100*(M-z)/M).toFixed(2)}%)`;return`
    digraph G {
      graph [pad=0.2,labelloc="t",fontcolor="${FS}",bgcolor="${zit}",fontname="fixed",overlap="false",center="1",ratio="compress",label="${P}",rankdir=BT];
      edge [color="black",fillcolor="${Dde}",weight=2.0];
      node [style=filled,fillcolor="${Dde}",color="${Nde}",shape="rect",fontcolor="${FS}",shape=box];
    ${f}
    ${h}
    }
  `;function V(W){return W.subarray(0,4).toString("hex")}}a(Vit,"inspect");Pde.exports={inspect:Vit};function qde(e,t=!1){let r=e<0?-e:e;if(r<1e3)return n(e,"B");if(r<1e6)return n(e/1e3,"kB");if(r<1e9)return n(e/1e6,"MB");return n(e/1e9,"GB");function n(i,s){return i=Math.round(10*i)/10,i+(t?" ":"")+s}}a(qde,"bs")});var Hde=j((Aur,jit)=>{jit.exports={name:"@socketsupply/tonic",version:"14.1.5",description:"A component framework.",scripts:{"ci:test:tape-run":"esbuild --bundle test/index.js | tape-run",lint:"standard -v",test:"npm run build && standard && esbuild --bundle test/index.js | tape-run","test:open":"npm run build && esbuild --bundle test/index.js | tape-run --browser chrome --keep-open",prepare:"./scripts/build.js",build:"./scripts/build.js && npm run minify:esm && npm run minify:cjs","minify:esm":"esbuild index.esm.js --keep-names --minify --outfile=dist/tonic.min.esm.js","minify:cjs":"esbuild index.js --keep-names --minify --outfile=dist/tonic.min.js",pub:"npm pub && npm publish --registry https://npm.pkg.github.com"},main:"index.js",author:"socketsupply",license:"MIT",devDependencies:{benchmark:"^2.1.4",esbuild:"^0.8.36",standard:"14.3.1","tape-run":"^8.0.0",tapzero:"0.2.2",uuid:"3.3.3"},standard:{ignore:["dist/*","test/fixtures/*"]},directories:{test:"test"},repository:{type:"git",url:"git+https://github.com/socketsupply/tonic.git"},bugs:{url:"https://github.com/socketsupply/tonic/issues"},homepage:"https://tonicframework.dev",dependencies:{}}});var Kde=j(Gde=>{"use strict";d();Gde.supports=a(function(...t){let r=t.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})},"supports")});var Tl=j((Wur,$de)=>{"use strict";d();$de.exports=a(class extends Error{constructor(t,r){super(t||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},"ModuleError")});var Aq=j((Gur,Xde)=>{"use strict";d();var wq=null;Xde.exports=function(){return wq===null&&(wq={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),wq}});var Sq=j(Jde=>{"use strict";d();var Eq=Tl(),$it=new Set(["buffer","view","utf8"]),HS=class{constructor(t){if(this.encode=t.encode||this.encode,this.decode=t.decode||this.decode,this.name=t.name||this.name,this.format=t.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!$it.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");t.createViewTranscoder&&(this.createViewTranscoder=t.createViewTranscoder),t.createBufferTranscoder&&(this.createBufferTranscoder=t.createBufferTranscoder),t.createUTF8Transcoder&&(this.createUTF8Transcoder=t.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new Eq(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new Eq(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new Eq(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};a(HS,"Encoding");Jde.Encoding=HS});var Iq=j(QS=>{"use strict";d();var{Buffer:kq}=Ei()||{},{Encoding:Cq}=Sq(),Xit=Aq(),Gm=class extends Cq{constructor(t){super({...t,format:"buffer"})}createViewTranscoder(){return new Km({encode:this.encode,decode:t=>this.decode(kq.from(t.buffer,t.byteOffset,t.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}};a(Gm,"BufferFormat");var Km=class extends Cq{constructor(t){super({...t,format:"view"})}createBufferTranscoder(){return new Gm({encode:t=>{let r=this.encode(t);return kq.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}};a(Km,"ViewFormat");var zS=class extends Cq{constructor(t){super({...t,format:"utf8"})}createBufferTranscoder(){return new Gm({encode:t=>kq.from(this.encode(t),"utf8"),decode:t=>this.decode(t.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:t,textDecoder:r}=Xit();return new Km({encode:n=>t.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};a(zS,"UTF8Format");QS.BufferFormat=Gm;QS.ViewFormat=Km;QS.UTF8Format=zS});var r0e=j(A1=>{"use strict";d();var{Buffer:Ts}=Ei()||{Buffer:{isBuffer:()=>!1}},{textEncoder:e0e,textDecoder:Zde}=Aq()(),{BufferFormat:jx,ViewFormat:Tq,UTF8Format:t0e}=Iq(),WS=a(e=>e,"identity");A1.utf8=new t0e({encode:function(e){return Ts.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?Zde.decode(e):String(e)},decode:WS,name:"utf8",createViewTranscoder(){return new Tq({encode:function(e){return ArrayBuffer.isView(e)?e:e0e.encode(e)},decode:function(e){return Zde.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new jx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}});A1.json=new t0e({encode:JSON.stringify,decode:JSON.parse,name:"json"});A1.buffer=new jx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:WS,name:"buffer",createViewTranscoder(){return new Tq({encode:function(e){return ArrayBuffer.isView(e)?e:Ts.from(String(e),"utf8")},decode:function(e){return Ts.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}});A1.view=new Tq({encode:function(e){return ArrayBuffer.isView(e)?e:e0e.encode(e)},decode:WS,name:"view",createBufferTranscoder(){return new jx({encode:function(e){return Ts.isBuffer(e)?e:ArrayBuffer.isView(e)?Ts.from(e.buffer,e.byteOffset,e.byteLength):Ts.from(String(e),"utf8")},decode:WS,name:`${this.name}+buffer`})}});A1.hex=new jx({encode:function(e){return Ts.isBuffer(e)?e:Ts.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"});A1.base64=new jx({encode:function(e){return Ts.isBuffer(e)?e:Ts.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"})});var a0e=j(i0e=>{"use strict";d();var n0e=Tl(),GS=r0e(),{Encoding:Jit}=Sq(),{BufferFormat:Zit,ViewFormat:eat,UTF8Format:tat}=Iq(),Gx=Symbol("formats"),VS=Symbol("encodings"),rat=new Set(["buffer","view","utf8"]),jS=class{constructor(t){if(Array.isArray(t)){if(!t.every(r=>rat.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[VS]=new Map,this[Gx]=new Set(t);for(let r in GS)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[VS].values()))}encoding(t){let r=this[VS].get(t);if(r===void 0){if(typeof t=="string"&&t!==""){if(r=sat[t],!r)throw new n0e(`Encoding '${t}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof t!="object"||t===null)throw new TypeError("First argument 'encoding' must be a string or object");r=nat(t)}let{name:n,format:i}=r;if(!this[Gx].has(i))if(this[Gx].has("view"))r=r.createViewTranscoder();else if(this[Gx].has("buffer"))r=r.createBufferTranscoder();else if(this[Gx].has("utf8"))r=r.createUTF8Transcoder();else throw new n0e(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let s of[t,n,r.name,r.commonName])this[VS].set(s,r)}return r}};a(jS,"Transcoder");i0e.Transcoder=jS;function nat(e){if(e instanceof Jit)return e;let t="type"in e&&typeof e.type=="string"?e.type:void 0,r=e.name||t||`anonymous-${oat++}`;switch(iat(e)){case"view":return new eat({...e,name:r});case"utf8":return new tat({...e,name:r});case"buffer":return new Zit({...e,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}a(nat,"from");function iat(e){return"format"in e&&e.format!==void 0?e.format:"buffer"in e&&typeof e.buffer=="boolean"?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}a(iat,"detectFormat");var aat={binary:GS.buffer,"utf-8":GS.utf8},sat={...GS,...aat},oat=0});var o0e=j((cfr,s0e)=>{d();s0e.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var Kx=j(Mq=>{"use strict";d();var c0e=o0e();Mq.fromCallback=function(e,t){if(e===void 0){var r=new Promise(function(n,i){e=a(function(s,o){s?i(s):n(o)},"callback")});e[t!==void 0?t:"promise"]=r}else if(typeof e!="function")throw new TypeError("Callback must be a function");return e};Mq.fromPromise=function(e,t){if(t===void 0)return e;e.then(function(r){c0e(()=>t(null,r))}).catch(function(r){c0e(()=>t(r))})}});var KS=j(Bq=>{"use strict";d();Bq.getCallback=function(e,t){return typeof e=="function"?e:t};Bq.getOptions=function(e,t){return typeof e=="object"&&e!==null?e:t!==void 0?t:{}}});var s0=j(t7=>{"use strict";d();var{fromCallback:Rq}=Kx(),Jo=Tl(),{getOptions:Lq,getCallback:l0e}=KS(),E1=Symbol("promise"),$m=Symbol("callback"),Ou=Symbol("working"),S1=Symbol("handleOne"),sh=Symbol("handleMany"),Dq=Symbol("autoClose"),a0=Symbol("finishWork"),qu=Symbol("returnMany"),r0=Symbol("closing"),$x=Symbol("handleClose"),$S=Symbol("closed"),Xx=Symbol("closeCallbacks"),i0=Symbol("keyEncoding"),C1=Symbol("valueEncoding"),Nq=Symbol("abortOnClose"),XS=Symbol("legacy"),Oq=Symbol("keys"),qq=Symbol("values"),n0=Symbol("limit"),jc=Symbol("count"),JS=Object.freeze({}),cat=a(()=>{},"noop"),u0e=!1,Xm=class{constructor(t,r,n){if(typeof t!="object"||t===null){let i=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[$S]=!1,this[Xx]=[],this[Ou]=!1,this[r0]=!1,this[Dq]=!1,this[$m]=null,this[S1]=this[S1].bind(this),this[sh]=this[sh].bind(this),this[$x]=this[$x].bind(this),this[i0]=r[i0],this[C1]=r[C1],this[XS]=n,this[n0]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[jc]=0,this[Nq]=!!r.abortOnClose,this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get count(){return this[jc]}get limit(){return this[n0]}next(t){let r;if(t===void 0)r=new Promise((n,i)=>{t=a((s,o,l)=>{s?i(s):this[XS]?o===void 0&&l===void 0?n():n([o,l]):n(o)},"callback")});else if(typeof t!="function")throw new TypeError("Callback must be a function");return this[r0]?this.nextTick(t,new Jo("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Ou]?this.nextTick(t,new Jo("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Ou]=!0,this[$m]=t,this[jc]>=this[n0]?this.nextTick(this[S1],null):this._next(this[S1])),r}_next(t){this.nextTick(t)}nextv(t,r,n){return n=l0e(r,n),n=Rq(n,E1),r=Lq(r,JS),Number.isInteger(t)?(this[r0]?this.nextTick(n,new Jo("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Ou]?this.nextTick(n,new Jo("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(t<1&&(t=1),this[n0]<1/0&&(t=Math.min(t,this[n0]-this[jc])),this[Ou]=!0,this[$m]=n,t<=0?this.nextTick(this[sh],null,[]):this._nextv(t,r,this[sh])),n[E1]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[E1])}_nextv(t,r,n){let i=[],s=a((o,l,u)=>{if(o)return n(o);if(this[XS]?l===void 0&&u===void 0:l===void 0)return n(null,i);i.push(this[XS]?[l,u]:l),i.length===t?n(null,i):this._next(s)},"onnext");this._next(s)}all(t,r){return r=l0e(t,r),r=Rq(r,E1),t=Lq(t,JS),this[r0]?this.nextTick(r,new Jo("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Ou]?this.nextTick(r,new Jo("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Ou]=!0,this[$m]=r,this[Dq]=!0,this[jc]>=this[n0]?this.nextTick(this[sh],null,[]):this._all(t,this[sh])),r[E1]}_all(t,r){let n=this[jc],i=[],s=a(()=>{let l=this[n0]<1/0?Math.min(1e3,this[n0]-n):1e3;l<=0?this.nextTick(r,null,i):this._nextv(l,JS,o)},"nextv"),o=a((l,u)=>{l?r(l):u.length===0?r(null,i):(i.push.apply(i,u),n+=u.length,s())},"onnextv");s()}[a0](){let t=this[$m];return this[Nq]&&t===null?cat:(this[Ou]=!1,this[$m]=null,this[r0]&&this._close(this[$x]),t)}[qu](t,r,n){this[Dq]?this.close(t.bind(null,r,n)):t(r,n)}seek(t,r){if(r=Lq(r,JS),!this[r0]){if(this[Ou])throw new Jo("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[i0]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let s=this.db.prefixKey(n.encode(t),i);this._seek(s,r)}}}_seek(t,r){throw new Jo("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(t){return t=Rq(t,E1),this[$S]?this.nextTick(t):this[r0]?this[Xx].push(t):(this[r0]=!0,this[Xx].push(t),this[Ou]?this[Nq]&&this[a0]()(new Jo("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[$x])),t[E1]}_close(t){this.nextTick(t)}[$x](){this[$S]=!0,this.db.detachResource(this);let t=this[Xx];this[Xx]=[];for(let r of t)r()}async*[Symbol.asyncIterator](){try{let t;for(;(t=await this.next())!==void 0;)yield t}finally{this[$S]||await this.close()}}};a(Xm,"CommonIterator");var k1=class extends Xm{constructor(t,r){super(t,r,!0),this[Oq]=r.keys!==!1,this[qq]=r.values!==!1}[S1](t,r,n){let i=this[a0]();if(t)return i(t);try{r=this[Oq]&&r!==void 0?this[i0].decode(r):void 0,n=this[qq]&&n!==void 0?this[C1].decode(n):void 0}catch(s){return i(new oh("entry",s))}r===void 0&&n===void 0||this[jc]++,i(null,r,n)}[sh](t,r){let n=this[a0]();if(t)return this[qu](n,t);try{for(let i of r){let s=i[0],o=i[1];i[0]=this[Oq]&&s!==void 0?this[i0].decode(s):void 0,i[1]=this[qq]&&o!==void 0?this[C1].decode(o):void 0}}catch(i){return this[qu](n,new oh("entries",i))}this[jc]+=r.length,this[qu](n,null,r)}end(t){return!u0e&&typeof console<"u"&&(u0e=!0,console.warn(new Jo("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(t)}};a(k1,"AbstractIterator");var ZS=class extends Xm{constructor(t,r){super(t,r,!1)}[S1](t,r){let n=this[a0]();if(t)return n(t);try{r=r!==void 0?this[i0].decode(r):void 0}catch(i){return n(new oh("key",i))}r!==void 0&&this[jc]++,n(null,r)}[sh](t,r){let n=this[a0]();if(t)return this[qu](n,t);try{for(let i=0;i<r.length;i++){let s=r[i];r[i]=s!==void 0?this[i0].decode(s):void 0}}catch(i){return this[qu](n,new oh("keys",i))}this[jc]+=r.length,this[qu](n,null,r)}};a(ZS,"AbstractKeyIterator");var e7=class extends Xm{constructor(t,r){super(t,r,!1)}[S1](t,r){let n=this[a0]();if(t)return n(t);try{r=r!==void 0?this[C1].decode(r):void 0}catch(i){return n(new oh("value",i))}r!==void 0&&this[jc]++,n(null,r)}[sh](t,r){let n=this[a0]();if(t)return this[qu](n,t);try{for(let i=0;i<r.length;i++){let s=r[i];r[i]=s!==void 0?this[C1].decode(s):void 0}}catch(i){return this[qu](n,new oh("values",i))}this[jc]+=r.length,this[qu](n,null,r)}};a(e7,"AbstractValueIterator");var oh=class extends Jo{constructor(t,r){super(`Iterator could not decode ${t}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};a(oh,"IteratorDecodeError");for(let e of["_ended property","_nexting property","_end method"])Object.defineProperty(k1.prototype,e.split(" ")[0],{get(){throw new Jo(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Jo(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});k1.keyEncoding=i0;k1.valueEncoding=C1;t7.AbstractIterator=k1;t7.AbstractKeyIterator=ZS;t7.AbstractValueIterator=e7});var f0e=j(Pq=>{"use strict";d();var{AbstractKeyIterator:lat,AbstractValueIterator:uat}=s0(),I1=Symbol("iterator"),Jx=Symbol("callback"),Zm=Symbol("handleOne"),T1=Symbol("handleMany"),Jm=class extends lat{constructor(t,r){super(t,r),this[I1]=t.iterator({...r,keys:!0,values:!1}),this[Zm]=this[Zm].bind(this),this[T1]=this[T1].bind(this)}};a(Jm,"DefaultKeyIterator");var Zx=class extends uat{constructor(t,r){super(t,r),this[I1]=t.iterator({...r,keys:!1,values:!0}),this[Zm]=this[Zm].bind(this),this[T1]=this[T1].bind(this)}};a(Zx,"DefaultValueIterator");for(let e of[Jm,Zx]){let t=e===Jm,r=t?n=>n[0]:n=>n[1];e.prototype._next=function(n){this[Jx]=n,this[I1].next(this[Zm])},e.prototype[Zm]=function(n,i,s){let o=this[Jx];n?o(n):o(null,t?i:s)},e.prototype._nextv=function(n,i,s){this[Jx]=s,this[I1].nextv(n,i,this[T1])},e.prototype._all=function(n,i){this[Jx]=i,this[I1].all(n,this[T1])},e.prototype[T1]=function(n,i){let s=this[Jx];n?s(n):s(null,i.map(r))},e.prototype._seek=function(n,i){this[I1].seek(n,i)},e.prototype._close=function(n){this[I1].close(n)}}Pq.DefaultKeyIterator=Jm;Pq.DefaultValueIterator=Zx});var h0e=j(i7=>{"use strict";d();var{AbstractIterator:fat,AbstractKeyIterator:hat,AbstractValueIterator:dat}=s0(),Fq=Tl(),So=Symbol("nut"),r7=Symbol("undefer"),n7=Symbol("factory"),ew=class extends fat{constructor(t,r){super(t,r),this[So]=null,this[n7]=()=>t.iterator(r),this.db.defer(()=>this[r7]())}};a(ew,"DeferredIterator");var tw=class extends hat{constructor(t,r){super(t,r),this[So]=null,this[n7]=()=>t.keys(r),this.db.defer(()=>this[r7]())}};a(tw,"DeferredKeyIterator");var rw=class extends dat{constructor(t,r){super(t,r),this[So]=null,this[n7]=()=>t.values(r),this.db.defer(()=>this[r7]())}};a(rw,"DeferredValueIterator");for(let e of[ew,tw,rw])e.prototype[r7]=function(){this.db.status==="open"&&(this[So]=this[n7]())},e.prototype._next=function(t){this[So]!==null?this[So].next(t):this.db.status==="opening"?this.db.defer(()=>this._next(t)):this.nextTick(t,new Fq("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(t,r,n){this[So]!==null?this[So].nextv(t,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(t,r,n)):this.nextTick(n,new Fq("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(t,r){this[So]!==null?this[So].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(t,r)):this.nextTick(r,new Fq("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(t,r){this[So]!==null?this[So]._seek(t,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(t,r))},e.prototype._close=function(t){this[So]!==null?this[So].close(t):this.db.status==="opening"?this.db.defer(()=>this._close(t)):this.nextTick(t)};i7.DeferredIterator=ew;i7.DeferredKeyIterator=tw;i7.DeferredValueIterator=rw});var Uq=j(p0e=>{"use strict";d();var{fromCallback:d0e}=Kx(),a7=Tl(),{getCallback:pat,getOptions:gat}=KS(),s7=Symbol("promise"),Gc=Symbol("status"),e2=Symbol("operations"),nw=Symbol("finishClose"),t2=Symbol("closeCallbacks"),o7=class{constructor(t){if(typeof t!="object"||t===null){let r=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[e2]=[],this[t2]=[],this[Gc]="open",this[nw]=this[nw].bind(this),this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get length(){return this[e2].length}put(t,r,n){if(this[Gc]!=="open")throw new a7("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(t)||this.db._checkValue(r);if(i)throw i;let s=n&&n.sublevel!=null?n.sublevel:this.db,o=n,l=s.keyEncoding(n&&n.keyEncoding),u=s.valueEncoding(n&&n.valueEncoding),f=l.format;n={...n,keyEncoding:f,valueEncoding:u.format},s!==this.db&&(n.sublevel=null);let h=s.prefixKey(l.encode(t),f),p=u.encode(r);return this._put(h,p,n),this[e2].push({...o,type:"put",key:t,value:r}),this}_put(t,r,n){}del(t,r){if(this[Gc]!=="open")throw new a7("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(t);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,s=r,o=i.keyEncoding(r&&r.keyEncoding),l=o.format;return r={...r,keyEncoding:l},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(o.encode(t),l),r),this[e2].push({...s,type:"del",key:t}),this}_del(t,r){}clear(){if(this[Gc]!=="open")throw new a7("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[e2]=[],this}_clear(){}write(t,r){return r=pat(t,r),r=d0e(r,s7),t=gat(t),this[Gc]!=="open"?this.nextTick(r,new a7("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[Gc]="writing",this._write(t,n=>{this[Gc]="closing",this[t2].push(()=>r(n)),n||this.db.emit("batch",this[e2]),this._close(this[nw])})),r[s7]}_write(t,r){}close(t){return t=d0e(t,s7),this[Gc]==="closing"?this[t2].push(t):this[Gc]==="closed"?this.nextTick(t):(this[t2].push(t),this[Gc]!=="writing"&&(this[Gc]="closing",this._close(this[nw]))),t[s7]}_close(t){this.nextTick(t)}[nw](){this[Gc]="closed",this.db.detachResource(this);let t=this[t2];this[t2]=[];for(let r of t)r()}};a(o7,"AbstractChainedBatch");p0e.AbstractChainedBatch=o7});var y0e=j(g0e=>{"use strict";d();var{AbstractChainedBatch:yat}=Uq(),mat=Tl(),r2=Symbol("encoded"),c7=class extends yat{constructor(t){super(t),this[r2]=[]}_put(t,r,n){this[r2].push({...n,type:"put",key:t,value:r})}_del(t,r){this[r2].push({...r,type:"del",key:t})}_clear(){this[r2]=[]}_write(t,r){this.db.status==="opening"?this.db.defer(()=>this._write(t,r)):this.db.status==="open"?this[r2].length===0?this.nextTick(r):this.db._batch(this[r2],t,r):this.nextTick(r,new mat("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};a(c7,"DefaultChainedBatch");g0e.DefaultChainedBatch=c7});var v0e=j((Mfr,b0e)=>{"use strict";d();var m0e=Tl(),bat=Object.prototype.hasOwnProperty,vat=new Set(["lt","lte","gt","gte"]);b0e.exports=function(e,t){let r={};for(let n in e)if(!!bat.call(e,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new m0e(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new m0e("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});vat.has(n)?r[n]=t.encode(e[n]):r[n]=e[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var iw=j((Rfr,x0e)=>{d();var _0e;x0e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:w):e=>(_0e||(_0e=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var E0e=j((Dfr,A0e)=>{"use strict";d();var w0e=iw();A0e.exports=function(e,...t){t.length===0?w0e(e):w0e(()=>e(...t))}});var S0e=j(l7=>{"use strict";d();var{AbstractIterator:_at,AbstractKeyIterator:xat,AbstractValueIterator:wat}=s0(),n2=Symbol("unfix"),Ml=Symbol("iterator"),M1=Symbol("handleOne"),o0=Symbol("handleMany"),ch=Symbol("callback"),i2=class extends _at{constructor(t,r,n,i){super(t,r),this[Ml]=n,this[n2]=i,this[M1]=this[M1].bind(this),this[o0]=this[o0].bind(this),this[ch]=null}[M1](t,r,n){let i=this[ch];if(t)return i(t);r!==void 0&&(r=this[n2](r)),i(t,r,n)}[o0](t,r){let n=this[ch];if(t)return n(t);for(let i of r){let s=i[0];s!==void 0&&(i[0]=this[n2](s))}n(t,r)}};a(i2,"AbstractSublevelIterator");var a2=class extends xat{constructor(t,r,n,i){super(t,r),this[Ml]=n,this[n2]=i,this[M1]=this[M1].bind(this),this[o0]=this[o0].bind(this),this[ch]=null}[M1](t,r){let n=this[ch];if(t)return n(t);r!==void 0&&(r=this[n2](r)),n(t,r)}[o0](t,r){let n=this[ch];if(t)return n(t);for(let i=0;i<r.length;i++){let s=r[i];s!==void 0&&(r[i]=this[n2](s))}n(t,r)}};a(a2,"AbstractSublevelKeyIterator");var s2=class extends wat{constructor(t,r,n){super(t,r),this[Ml]=n}};a(s2,"AbstractSublevelValueIterator");for(let e of[i2,a2])e.prototype._next=function(t){this[ch]=t,this[Ml].next(this[M1])},e.prototype._nextv=function(t,r,n){this[ch]=n,this[Ml].nextv(t,r,this[o0])},e.prototype._all=function(t,r){this[ch]=r,this[Ml].all(t,this[o0])};for(let e of[s2])e.prototype._next=function(t){this[Ml].next(t)},e.prototype._nextv=function(t,r,n){this[Ml].nextv(t,r,n)},e.prototype._all=function(t,r){this[Ml].all(t,r)};for(let e of[i2,a2,s2])e.prototype._seek=function(t,r){this[Ml].seek(t,r)},e.prototype._close=function(t){this[Ml].close(t)};l7.AbstractSublevelIterator=i2;l7.AbstractSublevelKeyIterator=a2;l7.AbstractSublevelValueIterator=s2});var T0e=j((Ffr,I0e)=>{"use strict";d();var Yq=Tl(),{Buffer:Qq}=Ei()||{},{AbstractSublevelIterator:Aat,AbstractSublevelKeyIterator:Eat,AbstractSublevelValueIterator:Sat}=S0e(),lh=Symbol("prefix"),k0e=Symbol("upperBound"),aw=Symbol("prefixRange"),Zo=Symbol("parent"),Hq=Symbol("unfix"),C0e=new TextEncoder,kat={separator:"!"};I0e.exports=function({AbstractLevel:e}){class t extends e{static defaults(n){if(typeof n=="string")throw new Yq("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new Yq("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?kat:n.separator?n:{...n,separator:"!"}}constructor(n,i,s){let{separator:o,manifest:l,...u}=t.defaults(s);i=Iat(i,o);let f=o.charCodeAt(0)+1,h=n[Zo]||n;if(!C0e.encode(i).every(y=>y>f&&y<127))throw new Yq(`Prefix must use bytes > ${f} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(Cat(h,l),u);let p=(n.prefix||"")+o+i+o,g=p.slice(0,-1)+String.fromCharCode(f);this[Zo]=h,this[lh]=new sw(p),this[k0e]=new sw(g),this[Hq]=new u7,this.nextTick=h.nextTick}prefixKey(n,i){if(i==="utf8")return this[lh].utf8+n;if(n.byteLength===0)return this[lh][i];if(i==="view"){let s=this[lh].view,o=new Uint8Array(s.byteLength+n.byteLength);return o.set(s,0),o.set(n,s.byteLength),o}else{let s=this[lh].buffer;return Qq.concat([s,n],s.byteLength+n.byteLength)}}[aw](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[lh][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[k0e][i]}get prefix(){return this[lh].utf8}get db(){return this[Zo]}_open(n,i){this[Zo].open({passive:!0},i)}_put(n,i,s,o){this[Zo].put(n,i,s,o)}_get(n,i,s){this[Zo].get(n,i,s)}_getMany(n,i,s){this[Zo].getMany(n,i,s)}_del(n,i,s){this[Zo].del(n,i,s)}_batch(n,i,s){this[Zo].batch(n,i,s)}_clear(n,i){this[aw](n,n.keyEncoding),this[Zo].clear(n,i)}_iterator(n){this[aw](n,n.keyEncoding);let i=this[Zo].iterator(n),s=this[Hq].get(this[lh].utf8.length,n.keyEncoding);return new Aat(this,n,i,s)}_keys(n){this[aw](n,n.keyEncoding);let i=this[Zo].keys(n),s=this[Hq].get(this[lh].utf8.length,n.keyEncoding);return new Eat(this,n,i,s)}_values(n){this[aw](n,n.keyEncoding);let i=this[Zo].values(n);return new Sat(this,n,i)}}return a(t,"AbstractSublevel"),{AbstractSublevel:t}};var Cat=a(function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:zq(e,"utf8"),buffer:zq(e,"buffer"),view:zq(e,"view")}}},"mergeManifests"),zq=a(function(e,t){return e.supports.encodings[t]?e.keyEncoding(t).name===t:!1},"supportsEncoding"),sw=class{constructor(t){this.utf8=t,this.view=C0e.encode(t),this.buffer=Qq?Qq.from(this.view.buffer,0,this.view.byteLength):{}}};a(sw,"MultiFormat");var u7=class{constructor(){this.cache=new Map}get(t,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=function(i,s){return s.subarray(i)}.bind(null,t):n=function(i,s){return s.slice(i)}.bind(null,t),this.cache.set(r,n)),n}};a(u7,"Unfixer");var Iat=a(function(e,t){let r=0,n=e.length;for(;r<n&&e[r]===t;)r++;for(;n>r&&e[n-1]===t;)n--;return e.slice(r,n)},"trim")});var Kq=j(Gq=>{"use strict";d();var{supports:Tat}=Kde(),{Transcoder:Mat}=a0e(),{EventEmitter:Bat}=ea(),{fromCallback:c0}=Kx(),Bl=Tl(),{AbstractIterator:B1}=s0(),{DefaultKeyIterator:Rat,DefaultValueIterator:Lat}=f0e(),{DeferredIterator:Dat,DeferredKeyIterator:Nat,DeferredValueIterator:Oat}=h0e(),{DefaultChainedBatch:M0e}=y0e(),{getCallback:R1,getOptions:l0}=KS(),f7=v0e(),sn=Symbol("promise"),uh=Symbol("landed"),L1=Symbol("resources"),Wq=Symbol("closeResources"),ow=Symbol("operations"),cw=Symbol("undefer"),h7=Symbol("deferOpen"),B0e=Symbol("options"),bn=Symbol("status"),D1=Symbol("defaultOptions"),o2=Symbol("transcoder"),d7=Symbol("keyEncoding"),Vq=Symbol("valueEncoding"),qat=a(()=>{},"noop"),l2=class extends Bat{constructor(t,r){if(super(),typeof t!="object"||t===null)throw new TypeError("The first argument 'manifest' must be an object");r=l0(r);let{keyEncoding:n,valueEncoding:i,passive:s,...o}=r;this[L1]=new Set,this[ow]=[],this[h7]=!0,this[B0e]=o,this[bn]="opening",this.supports=Tat(t,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:t.snapshots!==!1,permanence:t.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:t.encodings||{},events:Object.assign({},t.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[o2]=new Mat(Pat(this)),this[d7]=this[o2].encoding(n||"utf8"),this[Vq]=this[o2].encoding(i||"utf8");for(let l of this[o2].encodings())this.supports.encodings[l.commonName]||(this.supports.encodings[l.commonName]=!0);this[D1]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[d7].commonName,valueEncoding:this[Vq].commonName}),key:Object.freeze({keyEncoding:this[d7].commonName})},this.nextTick(()=>{this[h7]&&this.open({passive:!1},qat)})}get status(){return this[bn]}keyEncoding(t){return this[o2].encoding(t??this[d7])}valueEncoding(t){return this[o2].encoding(t??this[Vq])}open(t,r){r=R1(t,r),r=c0(r,sn),t={...this[B0e],...l0(t)},t.createIfMissing=t.createIfMissing!==!1,t.errorIfExists=!!t.errorIfExists;let n=a(i=>{this[bn]==="closing"||this[bn]==="opening"?this.once(uh,i?()=>n(i):n):this[bn]!=="open"?r(new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()},"maybeOpened");return t.passive?this[bn]==="opening"?this.once(uh,n):this.nextTick(n):this[bn]==="closed"||this[h7]?(this[h7]=!1,this[bn]="opening",this.emit("opening"),this._open(t,i=>{if(i){this[bn]="closed",this[Wq](()=>{this.emit(uh),n(i)}),this[cw]();return}this[bn]="open",this[cw](),this.emit(uh),this[bn]==="open"&&this.emit("open"),this[bn]==="open"&&this.emit("ready"),n()})):this[bn]==="open"?this.nextTick(n):this.once(uh,()=>this.open(t,r)),r[sn]}_open(t,r){this.nextTick(r)}close(t){t=c0(t,sn);let r=a(n=>{this[bn]==="opening"||this[bn]==="closing"?this.once(uh,n?r(n):r):this[bn]!=="closed"?t(new Bl("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):t()},"maybeClosed");if(this[bn]==="open"){this[bn]="closing",this.emit("closing");let n=a(i=>{this[bn]="open",this[cw](),this.emit(uh),r(i)},"cancel");this[Wq](()=>{this._close(i=>{if(i)return n(i);this[bn]="closed",this[cw](),this.emit(uh),this[bn]==="closed"&&this.emit("closed"),r()})})}else this[bn]==="closed"?this.nextTick(r):this.once(uh,()=>this.close(t));return t[sn]}[Wq](t){if(this[L1].size===0)return this.nextTick(t);let r=this[L1].size,n=!0,i=a(()=>{--r===0&&(n?this.nextTick(t):t())},"next");for(let s of this[L1])s.close(i);n=!1,this[L1].clear()}_close(t){this.nextTick(t)}get(t,r,n){if(n=R1(r,n),n=c0(n,sn),r=l0(r,this[D1].entry),this[bn]==="opening")return this.defer(()=>this.get(t,r,n)),n[sn];if(c2(this,n))return n[sn];let i=this._checkKey(t);if(i)return this.nextTick(n,i),n[sn];let s=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),l=s.format,u=o.format;return(r.keyEncoding!==l||r.valueEncoding!==u)&&(r=Object.assign({},r,{keyEncoding:l,valueEncoding:u})),this._get(this.prefixKey(s.encode(t),l),r,(f,h)=>{if(f)return(f.code==="LEVEL_NOT_FOUND"||f.notFound||/NotFound/i.test(f))&&(f.code||(f.code="LEVEL_NOT_FOUND"),f.notFound||(f.notFound=!0),f.status||(f.status=404)),n(f);try{h=o.decode(h)}catch(p){return n(new Bl("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:p}))}n(null,h)}),n[sn]}_get(t,r,n){this.nextTick(n,new Error("NotFound"))}getMany(t,r,n){if(n=R1(r,n),n=c0(n,sn),r=l0(r,this[D1].entry),this[bn]==="opening")return this.defer(()=>this.getMany(t,r,n)),n[sn];if(c2(this,n))return n[sn];if(!Array.isArray(t))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[sn];if(t.length===0)return this.nextTick(n,null,[]),n[sn];let i=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),o=i.format,l=s.format;(r.keyEncoding!==o||r.valueEncoding!==l)&&(r=Object.assign({},r,{keyEncoding:o,valueEncoding:l}));let u=new Array(t.length);for(let f=0;f<t.length;f++){let h=t[f],p=this._checkKey(h);if(p)return this.nextTick(n,p),n[sn];u[f]=this.prefixKey(i.encode(h),o)}return this._getMany(u,r,(f,h)=>{if(f)return n(f);try{for(let p=0;p<h.length;p++)h[p]!==void 0&&(h[p]=s.decode(h[p]))}catch(p){return n(new Bl(`Could not decode one or more of ${h.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:p}))}n(null,h)}),n[sn]}_getMany(t,r,n){this.nextTick(n,null,new Array(t.length).fill(void 0))}put(t,r,n,i){if(i=R1(n,i),i=c0(i,sn),n=l0(n,this[D1].entry),this[bn]==="opening")return this.defer(()=>this.put(t,r,n,i)),i[sn];if(c2(this,i))return i[sn];let s=this._checkKey(t)||this._checkValue(r);if(s)return this.nextTick(i,s),i[sn];let o=this.keyEncoding(n.keyEncoding),l=this.valueEncoding(n.valueEncoding),u=o.format,f=l.format;(n.keyEncoding!==u||n.valueEncoding!==f)&&(n=Object.assign({},n,{keyEncoding:u,valueEncoding:f}));let h=this.prefixKey(o.encode(t),u),p=l.encode(r);return this._put(h,p,n,g=>{if(g)return i(g);this.emit("put",t,r),i()}),i[sn]}_put(t,r,n,i){this.nextTick(i)}del(t,r,n){if(n=R1(r,n),n=c0(n,sn),r=l0(r,this[D1].key),this[bn]==="opening")return this.defer(()=>this.del(t,r,n)),n[sn];if(c2(this,n))return n[sn];let i=this._checkKey(t);if(i)return this.nextTick(n,i),n[sn];let s=this.keyEncoding(r.keyEncoding),o=s.format;return r.keyEncoding!==o&&(r=Object.assign({},r,{keyEncoding:o})),this._del(this.prefixKey(s.encode(t),o),r,l=>{if(l)return n(l);this.emit("del",t),n()}),n[sn]}_del(t,r,n){this.nextTick(n)}batch(t,r,n){if(!arguments.length){if(this[bn]==="opening")return new M0e(this);if(this[bn]!=="open")throw new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof t=="function"?n=t:n=R1(r,n),n=c0(n,sn),r=l0(r,this[D1].empty),this[bn]==="opening")return this.defer(()=>this.batch(t,r,n)),n[sn];if(c2(this,n))return n[sn];if(!Array.isArray(t))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[sn];if(t.length===0)return this.nextTick(n),n[sn];let i=new Array(t.length),{keyEncoding:s,valueEncoding:o,...l}=r;for(let u=0;u<t.length;u++){if(typeof t[u]!="object"||t[u]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[sn];let f=Object.assign({},t[u]);if(f.type!=="put"&&f.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[sn];let h=this._checkKey(f.key);if(h)return this.nextTick(n,h),n[sn];let p=f.sublevel!=null?f.sublevel:this,g=p.keyEncoding(f.keyEncoding||s),y=g.format;if(f.key=p.prefixKey(g.encode(f.key),y),f.keyEncoding=y,f.type==="put"){let E=this._checkValue(f.value);if(E)return this.nextTick(n,E),n[sn];let M=p.valueEncoding(f.valueEncoding||o);f.value=M.encode(f.value),f.valueEncoding=M.format}p!==this&&(f.sublevel=null),i[u]=f}return this._batch(i,l,u=>{if(u)return n(u);this.emit("batch",t),n()}),n[sn]}_batch(t,r,n){this.nextTick(n)}sublevel(t,r){return this._sublevel(t,jq.defaults(r))}_sublevel(t,r){return new jq(this,t,r)}prefixKey(t,r){return t}clear(t,r){if(r=R1(t,r),r=c0(r,sn),t=l0(t,this[D1].empty),this[bn]==="opening")return this.defer(()=>this.clear(t,r)),r[sn];if(c2(this,r))return r[sn];let n=t,i=this.keyEncoding(t.keyEncoding);return t=f7(t,i),t.keyEncoding=i.format,t.limit===0?this.nextTick(r):this._clear(t,s=>{if(s)return r(s);this.emit("clear",n),r()}),r[sn]}_clear(t,r){this.nextTick(r)}iterator(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=f7(t,r),t.keys=t.keys!==!1,t.values=t.values!==!1,t[B1.keyEncoding]=r,t[B1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[bn]==="opening")return new Dat(this,t);if(this[bn]!=="open")throw new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(t)}_iterator(t){return new B1(this,t)}keys(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=f7(t,r),t[B1.keyEncoding]=r,t[B1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[bn]==="opening")return new Nat(this,t);if(this[bn]!=="open")throw new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(t)}_keys(t){return new Rat(this,t)}values(t){let r=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);if(t=f7(t,r),t[B1.keyEncoding]=r,t[B1.valueEncoding]=n,t.keyEncoding=r.format,t.valueEncoding=n.format,this[bn]==="opening")return new Oat(this,t);if(this[bn]!=="open")throw new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(t)}_values(t){return new Lat(this,t)}defer(t){if(typeof t!="function")throw new TypeError("The first argument must be a function");this[ow].push(t)}[cw](){if(this[ow].length===0)return;let t=this[ow];this[ow]=[];for(let r of t)r()}attachResource(t){if(typeof t!="object"||t===null||typeof t.close!="function")throw new TypeError("The first argument must be a resource object");this[L1].add(t)}detachResource(t){this[L1].delete(t)}_chainedBatch(){return new M0e(this)}_checkKey(t){if(t==null)return new Bl("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(t){if(t==null)return new Bl("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};a(l2,"AbstractLevel");l2.prototype.nextTick=E0e();var{AbstractSublevel:jq}=T0e()({AbstractLevel:l2});Gq.AbstractLevel=l2;Gq.AbstractSublevel=jq;var c2=a(function(e,t){return e[bn]!=="open"?(e.nextTick(t,new Bl("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},"maybeError"),Pat=a(function(e){return Object.keys(e.supports.encodings).filter(t=>!!e.supports.encodings[t])},"formats")});var $q=j(N1=>{"use strict";d();N1.AbstractLevel=Kq().AbstractLevel;N1.AbstractSublevel=Kq().AbstractSublevel;N1.AbstractIterator=s0().AbstractIterator;N1.AbstractKeyIterator=s0().AbstractKeyIterator;N1.AbstractValueIterator=s0().AbstractValueIterator;N1.AbstractChainedBatch=Uq().AbstractChainedBatch});var L0e=j((jfr,R0e)=>{d();R0e.exports=Uat;var Fat=iw();function Uat(e,t,r){if(typeof t!="number")throw new Error("second argument must be a Number");let n,i,s,o,l,u=!0,f;Array.isArray(e)?(n=[],s=i=e.length):(o=Object.keys(e),n={},s=i=o.length);function h(g){function y(){r&&r(g,n),r=null}a(y,"end"),u?Fat(y):y()}a(h,"done");function p(g,y,E){if(n[g]=E,y&&(l=!0),--s===0||y)h(y);else if(!l&&f<i){let M;o?(M=o[f],f+=1,e[M](function(z,P){p(M,z,P)})):(M=f,f+=1,e[M](function(z,P){p(M,z,P)}))}}a(p,"each"),f=t,s?o?o.some(function(g,y){return e[g](function(E,M){p(g,E,M)}),y===t-1}):e.some(function(g,y){return g(function(E,M){p(y,E,M)}),y===t-1}):h(null),u=!1}a(Uat,"runParallelLimit")});var Xq=j(($fr,D0e)=>{"use strict";d();D0e.exports=a(function(t){let r=t.gte!==void 0?t.gte:t.gt!==void 0?t.gt:void 0,n=t.lte!==void 0?t.lte:t.lt!==void 0?t.lt:void 0,i=t.gte===void 0,s=t.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,s):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,s):null},"createKeyRange")});var Jq=j((Zfr,N0e)=>{"use strict";d();var Yat=new TextEncoder;N0e.exports=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):Yat.encode(e)}});var U0e=j(F0e=>{"use strict";d();var{AbstractIterator:Hat}=$q(),O0e=Xq(),p7=Jq(),Pu=Symbol("cache"),fh=Symbol("finished"),ec=Symbol("options"),hh=Symbol("currentOptions"),O1=Symbol("position"),Zq=Symbol("location"),u2=Symbol("first"),q0e={},g7=class extends Hat{constructor(t,r,n){super(t,n),this[Pu]=[],this[fh]=this.limit===0,this[ec]=n,this[hh]={...n},this[O1]=void 0,this[Zq]=r,this[u2]=!0}_nextv(t,r,n){if(this[u2]=!1,this[fh])return this.nextTick(n,null,[]);if(this[Pu].length>0)return t=Math.min(t,this[Pu].length),this.nextTick(n,null,this[Pu].splice(0,t));this[O1]!==void 0&&(this[ec].reverse?(this[hh].lt=this[O1],this[hh].lte=void 0):(this[hh].gt=this[O1],this[hh].gte=void 0));let i;try{i=O0e(this[hh])}catch{return this[fh]=!0,this.nextTick(n,null,[])}let s=this.db.db.transaction([this[Zq]],"readonly"),o=s.objectStore(this[Zq]),l=[];if(this[ec].reverse){let u=!this[ec].values&&o.openKeyCursor?"openKeyCursor":"openCursor";o[u](i,"prev").onsuccess=f=>{let h=f.target.result;if(h){let{key:p,value:g}=h;this[O1]=p,l.push([this[ec].keys&&p!==void 0?p7(p):void 0,this[ec].values&&g!==void 0?p7(g):void 0]),l.length<t?h.continue():P0e(s)}else this[fh]=!0}}else{let u,f,h=a(()=>{if(u===void 0||f===void 0)return;let p=Math.max(u.length,f.length);p===0||t===1/0?this[fh]=!0:this[O1]=u[p-1],l.length=p;for(let g=0;g<p;g++){let y=u[g],E=f[g];l[g]=[this[ec].keys&&y!==void 0?p7(y):void 0,this[ec].values&&E!==void 0?p7(E):void 0]}P0e(s)},"complete");this[ec].keys||t<1/0?o.getAllKeys(i,t<1/0?t:void 0).onsuccess=p=>{u=p.target.result,h()}:(u=[],this.nextTick(h)),this[ec].values?o.getAll(i,t<1/0?t:void 0).onsuccess=p=>{f=p.target.result,h()}:(f=[],this.nextTick(h))}s.onabort=()=>{n(s.error||new Error("aborted by user")),n=null},s.oncomplete=()=>{n(null,l),n=null}}_next(t){if(this[Pu].length>0){let[r,n]=this[Pu].shift();this.nextTick(t,null,r,n)}else if(this[fh])this.nextTick(t);else{let r=Math.min(100,this.limit-this.count);this[u2]&&(this[u2]=!1,r=1),this._nextv(r,q0e,(n,i)=>{if(n)return t(n);this[Pu]=i,this._next(t)})}}_all(t,r){this[u2]=!1;let n=this[Pu].splice(0,this[Pu].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,q0e,(s,o)=>{if(s)return r(s);n.length>0&&(o=n.concat(o)),r(null,o)})}_seek(t,r){this[u2]=!0,this[Pu]=[],this[fh]=!1,this[O1]=void 0,this[hh]={...this[ec]};let n;try{n=O0e(this[ec])}catch{this[fh]=!0;return}n!==null&&!n.includes(t)?this[fh]=!0:this[ec].reverse?this[hh].lte=t:this[hh].gte=t}};a(g7,"Iterator");F0e.Iterator=g7;function P0e(e){typeof e.commit=="function"&&e.commit()}a(P0e,"maybeCommit")});var H0e=j((ihr,Y0e)=>{"use strict";d();Y0e.exports=a(function(t,r,n,i,s){if(i.limit===0)return t.nextTick(s);let o=t.db.transaction([r],"readwrite"),l=o.objectStore(r),u=0;o.oncomplete=function(){s()},o.onabort=function(){s(o.error||new Error("aborted by user"))};let f=l.openKeyCursor?"openKeyCursor":"openCursor",h=i.reverse?"prev":"next";l[f](n,h).onsuccess=function(p){let g=p.target.result;g&&(l.delete(g.key).onsuccess=function(){(i.limit<=0||++u<i.limit)&&g.continue()})}},"clear")});var G0e=j(j0e=>{"use strict";d();var{AbstractLevel:zat}=$q(),z0e=Tl(),Qat=L0e(),{fromCallback:Wat}=Kx(),{Iterator:Vat}=U0e(),Q0e=Jq(),jat=H0e(),Gat=Xq(),V0e="level-js-",lw=Symbol("idb"),eP=Symbol("namePrefix"),dh=Symbol("location"),tP=Symbol("version"),q1=Symbol("store"),uw=Symbol("onComplete"),W0e=Symbol("promise"),fw=class extends zat{constructor(t,r,n){if(typeof r=="function"||typeof n=="function")throw new z0e("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:s,...o}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),typeof t!="string")throw new Error("constructor requires a location string argument");this[dh]=t,this[eP]=i??V0e,this[tP]=parseInt(s||1,10),this[lw]=null}get location(){return this[dh]}get namePrefix(){return this[eP]}get version(){return this[tP]}get db(){return this[lw]}get type(){return"browser-level"}_open(t,r){let n=indexedDB.open(this[eP]+this[dh],this[tP]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[lw]=n.result,r()},n.onupgradeneeded=i=>{let s=i.target.result;s.objectStoreNames.contains(this[dh])||s.createObjectStore(this[dh])}}[q1](t){return this[lw].transaction([this[dh]],t).objectStore(this[dh])}[uw](t,r){let n=t.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,t.result)}}_get(t,r,n){let i=this[q1]("readonly"),s;try{s=i.get(t)}catch(o){return this.nextTick(n,o)}this[uw](s,function(o,l){if(o)return n(o);if(l===void 0)return n(new z0e("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,Q0e(l))})}_getMany(t,r,n){let i=this[q1]("readonly"),s=t.map(o=>l=>{let u;try{u=i.get(o)}catch(f){return l(f)}u.onsuccess=()=>{let f=u.result;l(null,f===void 0?f:Q0e(f))},u.onerror=f=>{f.stopPropagation(),l(u.error)}});Qat(s,16,n)}_del(t,r,n){let i=this[q1]("readwrite"),s;try{s=i.delete(t)}catch(o){return this.nextTick(n,o)}this[uw](s,n)}_put(t,r,n,i){let s=this[q1]("readwrite"),o;try{o=s.put(r,t)}catch(l){return this.nextTick(i,l)}this[uw](o,i)}_iterator(t){return new Vat(this,this[dh],t)}_batch(t,r,n){let i=this[q1]("readwrite"),s=i.transaction,o=0,l;s.onabort=function(){n(l||s.error||new Error("aborted by user"))},s.oncomplete=function(){n()};function u(){let f=t[o++],h=f.key,p;try{p=f.type==="del"?i.delete(h):i.put(f.value,h)}catch(g){l=g,s.abort();return}o<t.length?p.onsuccess=u:typeof s.commit=="function"&&s.commit()}a(u,"loop"),u()}_clear(t,r){let n,i;try{n=Gat(t)}catch{return this.nextTick(r)}if(t.limit>=0)return jat(this,this[dh],n,t,r);try{let s=this[q1]("readwrite");i=n?s.delete(n):s.clear()}catch(s){return this.nextTick(r,s)}this[uw](i,r)}_close(t){this[lw].close(),this.nextTick(t)}};a(fw,"BrowserLevel");fw.destroy=function(e,t,r){typeof t=="function"&&(r=t,t=V0e),r=Wat(r,W0e);let n=indexedDB.deleteDatabase(t+e);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[W0e]};j0e.BrowserLevel=fw});var npe=j((iP,aP)=>{d();(function(e,t){typeof iP=="object"&&typeof aP<"u"?aP.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(iP,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",l="day",u="week",f="month",h="quarter",p="year",g="date",y="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var N=["th","st","nd","rd"],m=x%100;return"["+x+(N[(m-20)%10]||N[m]||N[0])+"]"}},P=a(function(x,N,m){var v=String(x);return!v||v.length>=N?x:""+Array(N+1-v.length).join(m)+x},"m"),Q={s:P,z:function(x){var N=-x.utcOffset(),m=Math.abs(N),v=Math.floor(m/60),A=m%60;return(N<=0?"+":"-")+P(v,2,"0")+":"+P(A,2,"0")},m:a(function x(N,m){if(N.date()<m.date())return-x(m,N);var v=12*(m.year()-N.year())+(m.month()-N.month()),A=N.clone().add(v,f),U=m-A<0,G=N.clone().add(v+(U?-1:1),f);return+(-(v+(m-A)/(U?A-G:G-A))||0)},"t"),a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y:p,w:u,d:l,D:g,h:o,m:s,s:i,ms:n,Q:h}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},V="en",W={};W[V]=z;var F=a(function(x){return x instanceof k},"p"),B=a(function x(N,m,v){var A;if(!N)return V;if(typeof N=="string"){var U=N.toLowerCase();W[U]&&(A=U),m&&(W[U]=m,A=U);var G=N.split("-");if(!A&&G.length>1)return x(G[0])}else{var K=N.name;W[K]=N,A=K}return!v&&A&&(V=A),A||!v&&V},"t"),S=a(function(x,N){if(F(x))return x.clone();var m=typeof N=="object"?N:{};return m.date=x,m.args=arguments,new k(m)},"w"),T=Q;T.l=B,T.i=F,T.w=function(x,N){return S(x,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var k=function(){function x(m){this.$L=B(m.locale,null,!0),this.parse(m)}a(x,"M");var N=x.prototype;return N.parse=function(m){this.$d=function(v){var A=v.date,U=v.utc;if(A===null)return new Date(NaN);if(T.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var G=A.match(E);if(G){var K=G[2]-1||0,Z=(G[7]||"0").substring(0,3);return U?new Date(Date.UTC(G[1],K,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Z)):new Date(G[1],K,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Z)}}return new Date(A)}(m),this.$x=m.x||{},this.init()},N.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},N.$utils=function(){return T},N.isValid=function(){return this.$d.toString()!==y},N.isSame=function(m,v){var A=S(m);return this.startOf(v)<=A&&A<=this.endOf(v)},N.isAfter=function(m,v){return S(m)<this.startOf(v)},N.isBefore=function(m,v){return this.endOf(v)<S(m)},N.$g=function(m,v,A){return T.u(m)?this[v]:this.set(A,m)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(m,v){var A=this,U=!!T.u(v)||v,G=T.p(m),K=a(function(se,be){var Y=T.w(A.$u?Date.UTC(A.$y,be,se):new Date(A.$y,be,se),A);return U?Y:Y.endOf(l)},"l"),Z=a(function(se,be){return T.w(A.toDate()[se].apply(A.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(be)),A)},"$"),O=this.$W,$=this.$M,L=this.$D,ee="set"+(this.$u?"UTC":"");switch(G){case p:return U?K(1,0):K(31,11);case f:return U?K(1,$):K(0,$+1);case u:var ve=this.$locale().weekStart||0,ye=(O<ve?O+7:O)-ve;return K(U?L-ye:L+(6-ye),$);case l:case g:return Z(ee+"Hours",0);case o:return Z(ee+"Minutes",1);case s:return Z(ee+"Seconds",2);case i:return Z(ee+"Milliseconds",3);default:return this.clone()}},N.endOf=function(m){return this.startOf(m,!1)},N.$set=function(m,v){var A,U=T.p(m),G="set"+(this.$u?"UTC":""),K=(A={},A[l]=G+"Date",A[g]=G+"Date",A[f]=G+"Month",A[p]=G+"FullYear",A[o]=G+"Hours",A[s]=G+"Minutes",A[i]=G+"Seconds",A[n]=G+"Milliseconds",A)[U],Z=U===l?this.$D+(v-this.$W):v;if(U===f||U===p){var O=this.clone().set(g,1);O.$d[K](Z),O.init(),this.$d=O.set(g,Math.min(this.$D,O.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},N.set=function(m,v){return this.clone().$set(m,v)},N.get=function(m){return this[T.p(m)]()},N.add=function(m,v){var A,U=this;m=Number(m);var G=T.p(v),K=a(function($){var L=S(U);return T.w(L.date(L.date()+Math.round($*m)),U)},"y");if(G===f)return this.set(f,this.$M+m);if(G===p)return this.set(p,this.$y+m);if(G===l)return K(1);if(G===u)return K(7);var Z=(A={},A[s]=t,A[o]=r,A[i]=e,A)[G]||1,O=this.$d.getTime()+m*Z;return T.w(O,this)},N.subtract=function(m,v){return this.add(-1*m,v)},N.format=function(m){var v=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var U=m||"YYYY-MM-DDTHH:mm:ssZ",G=T.z(this),K=this.$H,Z=this.$m,O=this.$M,$=A.weekdays,L=A.months,ee=a(function(be,Y,D,J){return be&&(be[Y]||be(v,U))||D[Y].slice(0,J)},"h"),ve=a(function(be){return T.s(K%12||12,be,"0")},"c"),ye=A.meridiem||function(be,Y,D){var J=be<12?"AM":"PM";return D?J.toLowerCase():J},se={YY:String(this.$y).slice(-2),YYYY:this.$y,M:O+1,MM:T.s(O+1,2,"0"),MMM:ee(A.monthsShort,O,L,3),MMMM:ee(L,O),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:ee(A.weekdaysMin,this.$W,$,2),ddd:ee(A.weekdaysShort,this.$W,$,3),dddd:$[this.$W],H:String(K),HH:T.s(K,2,"0"),h:ve(1),hh:ve(2),a:ye(K,Z,!0),A:ye(K,Z,!1),m:String(Z),mm:T.s(Z,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:G};return U.replace(M,function(be,Y){return Y||se[be]||G.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(m,v,A){var U,G=T.p(v),K=S(m),Z=(K.utcOffset()-this.utcOffset())*t,O=this-K,$=T.m(this,K);return $=(U={},U[p]=$/12,U[f]=$,U[h]=$/3,U[u]=(O-Z)/6048e5,U[l]=(O-Z)/864e5,U[o]=O/r,U[s]=O/t,U[i]=O/e,U)[G]||O,A?$:T.a($)},N.daysInMonth=function(){return this.endOf(f).$D},N.$locale=function(){return W[this.$L]},N.locale=function(m,v){if(!m)return this.$L;var A=this.clone(),U=B(m,v,!0);return U&&(A.$L=U),A},N.clone=function(){return T.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},x}(),R=k.prototype;return S.prototype=R,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",l],["$M",f],["$y",p],["$D",g]].forEach(function(x){R[x[1]]=function(N){return this.$g(N,x[0],x[1])}}),S.extend=function(x,N){return x.$i||(x(N,k,S),x.$i=!0),S},S.locale=B,S.isDayjs=F,S.unix=function(x){return S(1e3*x)},S.en=W[V],S.Ls=W,S.p={},S})});var ipe=j((sP,oP)=>{d();(function(e,t){typeof sP=="object"&&typeof oP<"u"?oP.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_relativeTime=t()})(sP,function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(l,u,f,h){return n.fromToBase(l,u,f,h)}a(s,"i"),r.en.relativeTime=i,n.fromToBase=function(l,u,f,h,p){for(var g,y,E,M=f.$locale().relativeTime||i,z=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],P=z.length,Q=0;Q<P;Q+=1){var V=z[Q];V.d&&(g=h?r(l).diff(f,V.d,!0):f.diff(l,V.d,!0));var W=(e.rounding||Math.round)(Math.abs(g));if(E=g>0,W<=V.r||!V.r){W<=1&&Q>0&&(V=z[Q-1]);var F=M[V.l];p&&(W=p(""+W)),y=typeof F=="string"?F.replace("%d",W):F(W,u,V.l,E);break}}if(u)return y;var B=E?M.future:M.past;return typeof B=="function"?B(y):B.replace("%s",y)},n.to=function(l,u){return s(l,u,this,!0)},n.from=function(l,u){return s(l,u,this)};var o=a(function(l){return l.$u?r.utc():r()},"d");n.toNow=function(l){return this.to(o(this),l)},n.fromNow=function(l){return this.from(o(this),l)}}})});var hpe=j((upe,fpe)=>{d();var lpe=function(){var e=a(function(Q,V){var W=236,F=17,B=Q,S=r[V],T=null,k=0,R=null,x=[],N={},m=a(function(ye,se){k=B*4+17,T=function(be){for(var Y=new Array(be),D=0;D<be;D+=1){Y[D]=new Array(be);for(var J=0;J<be;J+=1)Y[D][J]=null}return Y}(k),v(0,0),v(k-7,0),v(0,k-7),G(),U(),Z(ye,se),B>=7&&K(ye),R==null&&(R=L(B,S,x)),O(R,se)},"makeImpl"),v=a(function(ye,se){for(var be=-1;be<=7;be+=1)if(!(ye+be<=-1||k<=ye+be))for(var Y=-1;Y<=7;Y+=1)se+Y<=-1||k<=se+Y||(0<=be&&be<=6&&(Y==0||Y==6)||0<=Y&&Y<=6&&(be==0||be==6)||2<=be&&be<=4&&2<=Y&&Y<=4?T[ye+be][se+Y]=!0:T[ye+be][se+Y]=!1)},"setupPositionProbePattern"),A=a(function(){for(var ye=0,se=0,be=0;be<8;be+=1){m(!0,be);var Y=i.getLostPoint(N);(be==0||ye>Y)&&(ye=Y,se=be)}return se},"getBestMaskPattern"),U=a(function(){for(var ye=8;ye<k-8;ye+=1)T[ye][6]==null&&(T[ye][6]=ye%2==0);for(var se=8;se<k-8;se+=1)T[6][se]==null&&(T[6][se]=se%2==0)},"setupTimingPattern"),G=a(function(){for(var ye=i.getPatternPosition(B),se=0;se<ye.length;se+=1)for(var be=0;be<ye.length;be+=1){var Y=ye[se],D=ye[be];if(T[Y][D]==null)for(var J=-2;J<=2;J+=1)for(var q=-2;q<=2;q+=1)J==-2||J==2||q==-2||q==2||J==0&&q==0?T[Y+J][D+q]=!0:T[Y+J][D+q]=!1}},"setupPositionAdjustPattern"),K=a(function(ye){for(var se=i.getBCHTypeNumber(B),be=0;be<18;be+=1){var Y=!ye&&(se>>be&1)==1;T[Math.floor(be/3)][be%3+k-8-3]=Y}for(var be=0;be<18;be+=1){var Y=!ye&&(se>>be&1)==1;T[be%3+k-8-3][Math.floor(be/3)]=Y}},"setupTypeNumber"),Z=a(function(ye,se){for(var be=S<<3|se,Y=i.getBCHTypeInfo(be),D=0;D<15;D+=1){var J=!ye&&(Y>>D&1)==1;D<6?T[D][8]=J:D<8?T[D+1][8]=J:T[k-15+D][8]=J}for(var D=0;D<15;D+=1){var J=!ye&&(Y>>D&1)==1;D<8?T[8][k-D-1]=J:D<9?T[8][15-D-1+1]=J:T[8][15-D-1]=J}T[k-8][8]=!ye},"setupTypeInfo"),O=a(function(ye,se){for(var be=-1,Y=k-1,D=7,J=0,q=i.getMaskFunction(se),I=k-1;I>0;I-=2)for(I==6&&(I-=1);;){for(var H=0;H<2;H+=1)if(T[Y][I-H]==null){var te=!1;J<ye.length&&(te=(ye[J]>>>D&1)==1);var ie=q(Y,I-H);ie&&(te=!te),T[Y][I-H]=te,D-=1,D==-1&&(J+=1,D=7)}if(Y+=be,Y<0||k<=Y){Y-=be,be=-be;break}}},"mapData"),$=a(function(ye,se){for(var be=0,Y=0,D=0,J=new Array(se.length),q=new Array(se.length),I=0;I<se.length;I+=1){var H=se[I].dataCount,te=se[I].totalCount-H;Y=Math.max(Y,H),D=Math.max(D,te),J[I]=new Array(H);for(var ie=0;ie<J[I].length;ie+=1)J[I][ie]=255&ye.getBuffer()[ie+be];be+=H;var he=i.getErrorCorrectPolynomial(te),De=o(J[I],he.getLength()-1),$e=De.mod(he);q[I]=new Array(he.getLength()-1);for(var ie=0;ie<q[I].length;ie+=1){var ze=ie+$e.getLength()-q[I].length;q[I][ie]=ze>=0?$e.getAt(ze):0}}for(var Qe=0,ie=0;ie<se.length;ie+=1)Qe+=se[ie].totalCount;for(var je=new Array(Qe),We=0,ie=0;ie<Y;ie+=1)for(var I=0;I<se.length;I+=1)ie<J[I].length&&(je[We]=J[I][ie],We+=1);for(var ie=0;ie<D;ie+=1)for(var I=0;I<se.length;I+=1)ie<q[I].length&&(je[We]=q[I][ie],We+=1);return je},"createBytes"),L=a(function(ye,se,be){for(var Y=l.getRSBlocks(ye,se),D=u(),J=0;J<be.length;J+=1){var q=be[J];D.put(q.getMode(),4),D.put(q.getLength(),i.getLengthInBits(q.getMode(),ye)),q.write(D)}for(var I=0,J=0;J<Y.length;J+=1)I+=Y[J].dataCount;if(D.getLengthInBits()>I*8)throw"code length overflow. ("+D.getLengthInBits()+">"+I*8+")";for(D.getLengthInBits()+4<=I*8&&D.put(0,4);D.getLengthInBits()%8!=0;)D.putBit(!1);for(;!(D.getLengthInBits()>=I*8||(D.put(W,8),D.getLengthInBits()>=I*8));)D.put(F,8);return $(D,Y)},"createData");N.addData=function(ye,se){se=se||"Byte";var be=null;switch(se){case"Numeric":be=f(ye);break;case"Alphanumeric":be=h(ye);break;case"Byte":be=p(ye);break;case"Kanji":be=g(ye);break;default:throw"mode:"+se}x.push(be),R=null},N.isDark=function(ye,se){if(ye<0||k<=ye||se<0||k<=se)throw ye+","+se;return T[ye][se]},N.getModuleCount=function(){return k},N.make=function(){if(B<1){for(var ye=1;ye<40;ye++){for(var se=l.getRSBlocks(ye,S),be=u(),Y=0;Y<x.length;Y++){var D=x[Y];be.put(D.getMode(),4),be.put(D.getLength(),i.getLengthInBits(D.getMode(),ye)),D.write(be)}for(var J=0,Y=0;Y<se.length;Y++)J+=se[Y].dataCount;if(be.getLengthInBits()<=J*8)break}B=ye}m(!1,A())},N.createTableTag=function(ye,se){ye=ye||2,se=typeof se>"u"?ye*4:se;var be="";be+='<table style="',be+=" border-width: 0px; border-style: none;",be+=" border-collapse: collapse;",be+=" padding: 0px; margin: "+se+"px;",be+='">',be+="<tbody>";for(var Y=0;Y<N.getModuleCount();Y+=1){be+="<tr>";for(var D=0;D<N.getModuleCount();D+=1)be+='<td style="',be+=" border-width: 0px; border-style: none;",be+=" border-collapse: collapse;",be+=" padding: 0px; margin: 0px;",be+=" width: "+ye+"px;",be+=" height: "+ye+"px;",be+=" background-color: ",be+=N.isDark(Y,D)?"#000000":"#ffffff",be+=";",be+='"/>';be+="</tr>"}return be+="</tbody>",be+="</table>",be},N.createSvgTag=function(ye,se,be,Y){var D={};typeof arguments[0]=="object"&&(D=arguments[0],ye=D.cellSize,se=D.margin,be=D.alt,Y=D.title),ye=ye||2,se=typeof se>"u"?ye*4:se,be=typeof be=="string"?{text:be}:be||{},be.text=be.text||null,be.id=be.text?be.id||"qrcode-description":null,Y=typeof Y=="string"?{text:Y}:Y||{},Y.text=Y.text||null,Y.id=Y.text?Y.id||"qrcode-title":null;var J=N.getModuleCount()*ye+se*2,q,I,H,te,ie="",he;for(he="l"+ye+",0 0,"+ye+" -"+ye+",0 0,-"+ye+"z ",ie+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',ie+=D.scalable?"":' width="'+J+'px" height="'+J+'px"',ie+=' viewBox="0 0 '+J+" "+J+'" ',ie+=' preserveAspectRatio="xMinYMin meet"',ie+=Y.text||be.text?' role="img" aria-labelledby="'+ee([Y.id,be.id].join(" ").trim())+'"':"",ie+=">",ie+=Y.text?'<title id="'+ee(Y.id)+'">'+ee(Y.text)+"</title>":"",ie+=be.text?'<description id="'+ee(be.id)+'">'+ee(be.text)+"</description>":"",ie+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',ie+='<path d="',H=0;H<N.getModuleCount();H+=1)for(te=H*ye+se,q=0;q<N.getModuleCount();q+=1)N.isDark(H,q)&&(I=q*ye+se,ie+="M"+I+","+te+he);return ie+='" stroke="transparent" fill="black"/>',ie+="</svg>",ie},N.createDataURL=function(ye,se){ye=ye||2,se=typeof se>"u"?ye*4:se;var be=N.getModuleCount()*ye+se*2,Y=se,D=be-se;return P(be,be,function(J,q){if(Y<=J&&J<D&&Y<=q&&q<D){var I=Math.floor((J-Y)/ye),H=Math.floor((q-Y)/ye);return N.isDark(H,I)?0:1}else return 1})},N.createImgTag=function(ye,se,be){ye=ye||2,se=typeof se>"u"?ye*4:se;var Y=N.getModuleCount()*ye+se*2,D="";return D+="<img",D+=' src="',D+=N.createDataURL(ye,se),D+='"',D+=' width="',D+=Y,D+='"',D+=' height="',D+=Y,D+='"',be&&(D+=' alt="',D+=ee(be),D+='"'),D+="/>",D};var ee=a(function(ye){for(var se="",be=0;be<ye.length;be+=1){var Y=ye.charAt(be);switch(Y){case"<":se+="&lt;";break;case">":se+="&gt;";break;case"&":se+="&amp;";break;case'"':se+="&quot;";break;default:se+=Y;break}}return se},"escapeXml"),ve=a(function(ye){var se=1;ye=typeof ye>"u"?se*2:ye;var be=N.getModuleCount()*se+ye*2,Y=ye,D=be-ye,J,q,I,H,te,ie={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},he={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},De="";for(J=0;J<be;J+=2){for(I=Math.floor((J-Y)/se),H=Math.floor((J+1-Y)/se),q=0;q<be;q+=1)te="\u2588",Y<=q&&q<D&&Y<=J&&J<D&&N.isDark(I,Math.floor((q-Y)/se))&&(te=" "),Y<=q&&q<D&&Y<=J+1&&J+1<D&&N.isDark(H,Math.floor((q-Y)/se))?te+=" ":te+="\u2588",De+=ye<1&&J+1>=D?he[te]:ie[te];De+=`
`}return be%2&&ye>0?De.substring(0,De.length-be-1)+Array(be+1).join("\u2580"):De.substring(0,De.length-1)},"_createHalfASCII");return N.createASCII=function(ye,se){if(ye=ye||1,ye<2)return ve(se);ye-=1,se=typeof se>"u"?ye*2:se;var be=N.getModuleCount()*ye+se*2,Y=se,D=be-se,J,q,I,H,te=Array(ye+1).join("\u2588\u2588"),ie=Array(ye+1).join("  "),he="",De="";for(J=0;J<be;J+=1){for(I=Math.floor((J-Y)/ye),De="",q=0;q<be;q+=1)H=1,Y<=q&&q<D&&Y<=J&&J<D&&N.isDark(I,Math.floor((q-Y)/ye))&&(H=0),De+=H?te:ie;for(I=0;I<ye;I+=1)he+=De+`
`}return he.substring(0,he.length-1)},N.renderTo2dContext=function(ye,se){se=se||2;for(var be=N.getModuleCount(),Y=0;Y<be;Y++)for(var D=0;D<be;D++)ye.fillStyle=N.isDark(Y,D)?"black":"white",ye.fillRect(Y*se,D*se,se,se)},N},"qrcode");e.stringToBytesFuncs={default:function(Q){for(var V=[],W=0;W<Q.length;W+=1){var F=Q.charCodeAt(W);V.push(F&255)}return V}},e.stringToBytes=e.stringToBytesFuncs.default,e.createStringToBytes=function(Q,V){var W=function(){for(var B=M(Q),S=a(function(){var U=B.read();if(U==-1)throw"eof";return U},"read"),T=0,k={};;){var R=B.read();if(R==-1)break;var x=S(),N=S(),m=S(),v=String.fromCharCode(R<<8|x),A=N<<8|m;k[v]=A,T+=1}if(T!=V)throw T+" != "+V;return k}(),F="?".charCodeAt(0);return function(B){for(var S=[],T=0;T<B.length;T+=1){var k=B.charCodeAt(T);if(k<128)S.push(k);else{var R=W[B.charAt(T)];typeof R=="number"?(R&255)==R?S.push(R):(S.push(R>>>8),S.push(R&255)):S.push(F)}}return S}};var t={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},r={L:1,M:0,Q:3,H:2},n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=function(){var Q=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],V=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,W=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,F=1<<14|1<<12|1<<10|1<<4|1<<1,B={},S=a(function(T){for(var k=0;T!=0;)k+=1,T>>>=1;return k},"getBCHDigit");return B.getBCHTypeInfo=function(T){for(var k=T<<10;S(k)-S(V)>=0;)k^=V<<S(k)-S(V);return(T<<10|k)^F},B.getBCHTypeNumber=function(T){for(var k=T<<12;S(k)-S(W)>=0;)k^=W<<S(k)-S(W);return T<<12|k},B.getPatternPosition=function(T){return Q[T-1]},B.getMaskFunction=function(T){switch(T){case n.PATTERN000:return function(k,R){return(k+R)%2==0};case n.PATTERN001:return function(k,R){return k%2==0};case n.PATTERN010:return function(k,R){return R%3==0};case n.PATTERN011:return function(k,R){return(k+R)%3==0};case n.PATTERN100:return function(k,R){return(Math.floor(k/2)+Math.floor(R/3))%2==0};case n.PATTERN101:return function(k,R){return k*R%2+k*R%3==0};case n.PATTERN110:return function(k,R){return(k*R%2+k*R%3)%2==0};case n.PATTERN111:return function(k,R){return(k*R%3+(k+R)%2)%2==0};default:throw"bad maskPattern:"+T}},B.getErrorCorrectPolynomial=function(T){for(var k=o([1],0),R=0;R<T;R+=1)k=k.multiply(o([1,s.gexp(R)],0));return k},B.getLengthInBits=function(T,k){if(1<=k&&k<10)switch(T){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw"mode:"+T}else if(k<27)switch(T){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw"mode:"+T}else if(k<41)switch(T){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw"mode:"+T}else throw"type:"+k},B.getLostPoint=function(T){for(var k=T.getModuleCount(),R=0,x=0;x<k;x+=1)for(var N=0;N<k;N+=1){for(var m=0,v=T.isDark(x,N),A=-1;A<=1;A+=1)if(!(x+A<0||k<=x+A))for(var U=-1;U<=1;U+=1)N+U<0||k<=N+U||A==0&&U==0||v==T.isDark(x+A,N+U)&&(m+=1);m>5&&(R+=3+m-5)}for(var x=0;x<k-1;x+=1)for(var N=0;N<k-1;N+=1){var G=0;T.isDark(x,N)&&(G+=1),T.isDark(x+1,N)&&(G+=1),T.isDark(x,N+1)&&(G+=1),T.isDark(x+1,N+1)&&(G+=1),(G==0||G==4)&&(R+=3)}for(var x=0;x<k;x+=1)for(var N=0;N<k-6;N+=1)T.isDark(x,N)&&!T.isDark(x,N+1)&&T.isDark(x,N+2)&&T.isDark(x,N+3)&&T.isDark(x,N+4)&&!T.isDark(x,N+5)&&T.isDark(x,N+6)&&(R+=40);for(var N=0;N<k;N+=1)for(var x=0;x<k-6;x+=1)T.isDark(x,N)&&!T.isDark(x+1,N)&&T.isDark(x+2,N)&&T.isDark(x+3,N)&&T.isDark(x+4,N)&&!T.isDark(x+5,N)&&T.isDark(x+6,N)&&(R+=40);for(var K=0,N=0;N<k;N+=1)for(var x=0;x<k;x+=1)T.isDark(x,N)&&(K+=1);var Z=Math.abs(100*K/k/k-50)/5;return R+=Z*10,R},B}(),s=function(){for(var Q=new Array(256),V=new Array(256),W=0;W<8;W+=1)Q[W]=1<<W;for(var W=8;W<256;W+=1)Q[W]=Q[W-4]^Q[W-5]^Q[W-6]^Q[W-8];for(var W=0;W<255;W+=1)V[Q[W]]=W;var F={};return F.glog=function(B){if(B<1)throw"glog("+B+")";return V[B]},F.gexp=function(B){for(;B<0;)B+=255;for(;B>=256;)B-=255;return Q[B]},F}();function o(Q,V){if(typeof Q.length>"u")throw Q.length+"/"+V;var W=function(){for(var B=0;B<Q.length&&Q[B]==0;)B+=1;for(var S=new Array(Q.length-B+V),T=0;T<Q.length-B;T+=1)S[T]=Q[T+B];return S}(),F={};return F.getAt=function(B){return W[B]},F.getLength=function(){return W.length},F.multiply=function(B){for(var S=new Array(F.getLength()+B.getLength()-1),T=0;T<F.getLength();T+=1)for(var k=0;k<B.getLength();k+=1)S[T+k]^=s.gexp(s.glog(F.getAt(T))+s.glog(B.getAt(k)));return o(S,0)},F.mod=function(B){if(F.getLength()-B.getLength()<0)return F;for(var S=s.glog(F.getAt(0))-s.glog(B.getAt(0)),T=new Array(F.getLength()),k=0;k<F.getLength();k+=1)T[k]=F.getAt(k);for(var k=0;k<B.getLength();k+=1)T[k]^=s.gexp(s.glog(B.getAt(k))+S);return o(T,0).mod(B)},F}a(o,"qrPolynomial");var l=function(){var Q=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],V=a(function(B,S){var T={};return T.totalCount=B,T.dataCount=S,T},"qrRSBlock"),W={},F=a(function(B,S){switch(S){case r.L:return Q[(B-1)*4+0];case r.M:return Q[(B-1)*4+1];case r.Q:return Q[(B-1)*4+2];case r.H:return Q[(B-1)*4+3];default:return}},"getRsBlockTable");return W.getRSBlocks=function(B,S){var T=F(B,S);if(typeof T>"u")throw"bad rs block @ typeNumber:"+B+"/errorCorrectionLevel:"+S;for(var k=T.length/3,R=[],x=0;x<k;x+=1)for(var N=T[x*3+0],m=T[x*3+1],v=T[x*3+2],A=0;A<N;A+=1)R.push(V(m,v));return R},W}(),u=a(function(){var Q=[],V=0,W={};return W.getBuffer=function(){return Q},W.getAt=function(F){var B=Math.floor(F/8);return(Q[B]>>>7-F%8&1)==1},W.put=function(F,B){for(var S=0;S<B;S+=1)W.putBit((F>>>B-S-1&1)==1)},W.getLengthInBits=function(){return V},W.putBit=function(F){var B=Math.floor(V/8);Q.length<=B&&Q.push(0),F&&(Q[B]|=128>>>V%8),V+=1},W},"qrBitBuffer"),f=a(function(Q){var V=t.MODE_NUMBER,W=Q,F={};F.getMode=function(){return V},F.getLength=function(T){return W.length},F.write=function(T){for(var k=W,R=0;R+2<k.length;)T.put(B(k.substring(R,R+3)),10),R+=3;R<k.length&&(k.length-R==1?T.put(B(k.substring(R,R+1)),4):k.length-R==2&&T.put(B(k.substring(R,R+2)),7))};var B=a(function(T){for(var k=0,R=0;R<T.length;R+=1)k=k*10+S(T.charAt(R));return k},"strToNum"),S=a(function(T){if("0"<=T&&T<="9")return T.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+T},"chatToNum");return F},"qrNumber"),h=a(function(Q){var V=t.MODE_ALPHA_NUM,W=Q,F={};F.getMode=function(){return V},F.getLength=function(S){return W.length},F.write=function(S){for(var T=W,k=0;k+1<T.length;)S.put(B(T.charAt(k))*45+B(T.charAt(k+1)),11),k+=2;k<T.length&&S.put(B(T.charAt(k)),6)};var B=a(function(S){if("0"<=S&&S<="9")return S.charCodeAt(0)-"0".charCodeAt(0);if("A"<=S&&S<="Z")return S.charCodeAt(0)-"A".charCodeAt(0)+10;switch(S){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+S}},"getCode");return F},"qrAlphaNum"),p=a(function(Q){var V=t.MODE_8BIT_BYTE,W=Q,F=e.stringToBytes(Q),B={};return B.getMode=function(){return V},B.getLength=function(S){return F.length},B.write=function(S){for(var T=0;T<F.length;T+=1)S.put(F[T],8)},B},"qr8BitByte"),g=a(function(Q){var V=t.MODE_KANJI,W=Q,F=e.stringToBytesFuncs.SJIS;if(!F)throw"sjis not supported.";(function(T,k){var R=F(T);if(R.length!=2||(R[0]<<8|R[1])!=k)throw"sjis not supported."})("\u53CB",38726);var B=F(Q),S={};return S.getMode=function(){return V},S.getLength=function(T){return~~(B.length/2)},S.write=function(T){for(var k=B,R=0;R+1<k.length;){var x=(255&k[R])<<8|255&k[R+1];if(33088<=x&&x<=40956)x-=33088;else if(57408<=x&&x<=60351)x-=49472;else throw"illegal char at "+(R+1)+"/"+x;x=(x>>>8&255)*192+(x&255),T.put(x,13),R+=2}if(R<k.length)throw"illegal char at "+(R+1)},S},"qrKanji"),y=a(function(){var Q=[],V={};return V.writeByte=function(W){Q.push(W&255)},V.writeShort=function(W){V.writeByte(W),V.writeByte(W>>>8)},V.writeBytes=function(W,F,B){F=F||0,B=B||W.length;for(var S=0;S<B;S+=1)V.writeByte(W[S+F])},V.writeString=function(W){for(var F=0;F<W.length;F+=1)V.writeByte(W.charCodeAt(F))},V.toByteArray=function(){return Q},V.toString=function(){var W="";W+="[";for(var F=0;F<Q.length;F+=1)F>0&&(W+=","),W+=Q[F];return W+="]",W},V},"byteArrayOutputStream"),E=a(function(){var Q=0,V=0,W=0,F="",B={},S=a(function(k){F+=String.fromCharCode(T(k&63))},"writeEncoded"),T=a(function(k){if(!(k<0)){if(k<26)return 65+k;if(k<52)return 97+(k-26);if(k<62)return 48+(k-52);if(k==62)return 43;if(k==63)return 47}throw"n:"+k},"encode");return B.writeByte=function(k){for(Q=Q<<8|k&255,V+=8,W+=1;V>=6;)S(Q>>>V-6),V-=6},B.flush=function(){if(V>0&&(S(Q<<6-V),Q=0,V=0),W%3!=0)for(var k=3-W%3,R=0;R<k;R+=1)F+="="},B.toString=function(){return F},B},"base64EncodeOutputStream"),M=a(function(Q){var V=Q,W=0,F=0,B=0,S={};S.read=function(){for(;B<8;){if(W>=V.length){if(B==0)return-1;throw"unexpected end of file./"+B}var k=V.charAt(W);if(W+=1,k=="=")return B=0,-1;if(k.match(/^\s$/))continue;F=F<<6|T(k.charCodeAt(0)),B+=6}var R=F>>>B-8&255;return B-=8,R};var T=a(function(k){if(65<=k&&k<=90)return k-65;if(97<=k&&k<=122)return k-97+26;if(48<=k&&k<=57)return k-48+52;if(k==43)return 62;if(k==47)return 63;throw"c:"+k},"decode");return S},"base64DecodeInputStream"),z=a(function(Q,V){var W=Q,F=V,B=new Array(Q*V),S={};S.setPixel=function(x,N,m){B[N*W+x]=m},S.write=function(x){x.writeString("GIF87a"),x.writeShort(W),x.writeShort(F),x.writeByte(128),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(255),x.writeByte(255),x.writeByte(255),x.writeString(","),x.writeShort(0),x.writeShort(0),x.writeShort(W),x.writeShort(F),x.writeByte(0);var N=2,m=k(N);x.writeByte(N);for(var v=0;m.length-v>255;)x.writeByte(255),x.writeBytes(m,v,255),v+=255;x.writeByte(m.length-v),x.writeBytes(m,v,m.length-v),x.writeByte(0),x.writeString(";")};var T=a(function(x){var N=x,m=0,v=0,A={};return A.write=function(U,G){if(U>>>G!=0)throw"length over";for(;m+G>=8;)N.writeByte(255&(U<<m|v)),G-=8-m,U>>>=8-m,v=0,m=0;v=U<<m|v,m=m+G},A.flush=function(){m>0&&N.writeByte(v)},A},"bitOutputStream"),k=a(function(x){for(var N=1<<x,m=(1<<x)+1,v=x+1,A=R(),U=0;U<N;U+=1)A.add(String.fromCharCode(U));A.add(String.fromCharCode(N)),A.add(String.fromCharCode(m));var G=y(),K=T(G);K.write(N,v);var Z=0,O=String.fromCharCode(B[Z]);for(Z+=1;Z<B.length;){var $=String.fromCharCode(B[Z]);Z+=1,A.contains(O+$)?O=O+$:(K.write(A.indexOf(O),v),A.size()<4095&&(A.size()==1<<v&&(v+=1),A.add(O+$)),O=$)}return K.write(A.indexOf(O),v),K.write(m,v),K.flush(),G.toByteArray()},"getLZWRaster"),R=a(function(){var x={},N=0,m={};return m.add=function(v){if(m.contains(v))throw"dup key:"+v;x[v]=N,N+=1},m.size=function(){return N},m.indexOf=function(v){return x[v]},m.contains=function(v){return typeof x[v]<"u"},m},"lzwTable");return S},"gifImage"),P=a(function(Q,V,W){for(var F=z(Q,V),B=0;B<V;B+=1)for(var S=0;S<Q;S+=1)F.setPixel(S,B,W(S,B));var T=y();F.write(T);for(var k=E(),R=T.toByteArray(),x=0;x<R.length;x+=1)k.writeByte(R[x]);return k.flush(),"data:image/gif;base64,"+k},"createDataURL");return e}();(function(){lpe.stringToBytesFuncs["UTF-8"]=function(e){function t(r){for(var n=[],i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?n.push(s):s<2048?n.push(192|s>>6,128|s&63):s<55296||s>=57344?n.push(224|s>>12,128|s>>6&63,128|s&63):(i++,s=65536+((s&1023)<<10|r.charCodeAt(i)&1023),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63))}return n}return a(t,"toUTF8Array"),t(e)}})();(function(e){typeof define=="function"&&define.amd?define([],e):typeof upe=="object"&&(fpe.exports=e())})(function(){return lpe})});var F1=j((wdr,gpe)=>{d();gpe.exports=ppe;var pw=class extends Error{};a(pw,"AssertionError");pw.prototype.name="AssertionError";function ppe(e,t,...r){if(!e){var n;throw(!t||typeof t=="string")&&(n=new pw(t)),typeof t=="function"&&(n=new t(...r)),Error.captureStackTrace&&Error.captureStackTrace(n,ppe),n}}a(ppe,"assert")});var bpe=j((Sdr,mpe)=>{d();mpe.exports=ype;function ype(e,t){if(e&&t)return ype(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(l){s[l]=o[l]}),s}a(r,"wrapper")}a(ype,"wrappy")});var fP=j((Idr,uP)=>{d();var vpe=bpe();uP.exports=vpe(x7);uP.exports.strict=vpe(_pe);x7.proto=x7(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return x7(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return _pe(this)},configurable:!0})});function x7(e){var t=a(function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))},"f");return t.called=!1,t}a(x7,"once");function _pe(e){var t=a(function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},"f"),r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}a(_pe,"onceStrict")});var p2=j((Bdr,wpe)=>{d();var ost=fP(),cst=a(function(){},"noop"),lst=a(function(e){return e.setHeader&&typeof e.abort=="function"},"isRequest"),ust=a(function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},"isChildProcess"),xpe=a(function(e,t,r){if(typeof t=="function")return xpe(e,null,t);t||(t={}),r=ost(r||cst);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,l=!1,u=a(function(){e.writable||f()},"onlegacyfinish"),f=a(function(){o=!1,s||r.call(e)},"onfinish"),h=a(function(){s=!1,o||r.call(e)},"onend"),p=a(function(z){r.call(e,z?new Error("exited with error code: "+z):null)},"onexit"),g=a(function(z){r.call(e,z)},"onerror"),y=a(function(){_.default.nextTick(E)},"onclose"),E=a(function(){if(!l){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},"onclosenexttick"),M=a(function(){e.req.on("finish",f)},"onrequest");return lst(e)?(e.on("complete",f),e.on("abort",y),e.req?M():e.on("request",M)):o&&!n&&(e.on("end",u),e.on("close",u)),ust(e)&&e.on("exit",p),e.on("end",h),e.on("finish",f),t.error!==!1&&e.on("error",g),e.on("close",y),function(){l=!0,e.removeListener("complete",f),e.removeListener("abort",y),e.removeListener("request",M),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("exit",p),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",y)}},"eos");wpe.exports=xpe});var Ape={};ZX(Ape,{default:()=>fst});var fst,Epe=py(()=>{d();fst=null});var dP=j((Ndr,kpe)=>{d();var hst=fP(),dst=p2(),hP=(Epe(),x6(Ape)),gw=a(function(){},"noop"),pst=/^v?\.0/.test(_.default.version),w7=a(function(e){return typeof e=="function"},"isFn"),gst=a(function(e){return!pst||!hP?!1:(e instanceof(hP.ReadStream||gw)||e instanceof(hP.WriteStream||gw))&&w7(e.close)},"isFS"),yst=a(function(e){return e.setHeader&&w7(e.abort)},"isRequest"),mst=a(function(e,t,r,n){n=hst(n);var i=!1;e.on("close",function(){i=!0}),dst(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,gst(e))return e.close(gw);if(yst(e))return e.abort();if(w7(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},"destroyer"),Spe=a(function(e){e()},"call"),bst=a(function(e,t){return e.pipe(t)},"pipe"),vst=a(function(){var e=Array.prototype.slice.call(arguments),t=w7(e[e.length-1]||gw)&&e.pop()||gw;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,l=s>0;return mst(i,o,l,function(u){r||(r=u),u&&n.forEach(Spe),!o&&(n.forEach(Spe),t(r))})});return e.reduce(bst)},"pump");kpe.exports=vst});var Ipe=j((Pdr,Cpe)=>{"use strict";d();Cpe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Rpe=j((Udr,Bpe)=>{d();var _st=Hc()("simple-websocket"),xst=Tf(),wst=Tp(),Tpe=iw(),mw=Ipe(),yw=typeof mw!="function"?WebSocket:mw,Mpe=64*1024,bw=class extends wst.Duplex{constructor(t={}){if(typeof t=="string"&&(t={url:t}),t=Object.assign({allowHalfOpen:!1},t),super(t),t.url==null&&t.socket==null)throw new Error("Missing required `url` or `socket` option");if(t.url!=null&&t.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=xst(4).toString("hex").slice(0,7),this._debug("new websocket: %o",t),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,t.socket)this.url=t.socket.url,this._ws=t.socket,this.connected=t.socket.readyState===yw.OPEN;else{this.url=t.url;try{typeof mw=="function"?this._ws=new yw(t.url,null,{...t,encoding:void 0}):this._ws=new yw(t.url)}catch(r){Tpe(()=>this.destroy(r));return}}this._ws.binaryType="arraybuffer",t.socket&&this.connected?Tpe(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=r=>this._handleMessage(r),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=r=>this._handleError(r),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(t){this._ws.send(t)}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){let n=this._ws,i=a(()=>{n.onclose=null},"onClose");if(n.readyState===yw.CLOSED)i();else try{n.onclose=i,n.close()}catch{i()}n.onopen=null,n.onmessage=null,n.onerror=()=>{}}this._ws=null,t&&this.emit("error",t),this.emit("close"),r()}}_read(){}_write(t,r,n){if(this.destroyed)return n(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(t)}catch(i){return this.destroy(i)}typeof mw!="function"&&this._ws.bufferedAmount>Mpe?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(r){return this.destroy(r)}this._chunk=null,this._debug('sent chunk from "write before connect"');let t=this._cb;this._cb=null,t(null)}typeof mw!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=b.Buffer.from(r)),this.push(r)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(t){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(this.destroyed)return;let t=a(()=>{setTimeout(()=>this.destroy(),1e3)},"destroySoon");this.connected?t():this.once("connect",t)}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>Mpe)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);let t=this._cb;this._cb=null,t(null)}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],_st.apply(null,t)}};a(bw,"Socket");bw.WEBSOCKET_SUPPORT=!!yw;Bpe.exports=bw});var Dpe=j((zdr,Lpe)=>{d();var g2=null;typeof WebSocket<"u"?g2=WebSocket:typeof MozWebSocket<"u"?g2=MozWebSocket:typeof w<"u"?g2=w.WebSocket||w.MozWebSocket:typeof window<"u"?g2=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(g2=self.WebSocket||self.MozWebSocket);Lpe.exports=g2});var Ppe=j((Wdr,gP)=>{"use strict";d();var Ast=a((e,t)=>Math.floor(Math.random()*(t-e+1)+e),"randomInteger"),Npe=a(()=>{let e=new Error("Delay aborted");return e.name="AbortError",e},"createAbortError"),Ope=a(({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(Npe());let o,l,u,f=e||clearTimeout,h=a(()=>{f(o),u(Npe())},"signalListener"),p=a(()=>{s&&s.removeEventListener("abort",h)},"cleanup"),g=new Promise((y,E)=>{l=a(()=>{p(),r?y(i):E(i)},"settle"),u=E,o=(t||setTimeout)(l,n)});return s&&s.addEventListener("abort",h,{once:!0}),g.clear=()=>{f(o),o=null,l()},g},"createDelay"),qpe=a(e=>{let t=Ope({...e,willResolve:!0});return t.reject=Ope({...e,willResolve:!1}),t.range=(r,n,i)=>t(Ast(r,n),i),t},"createWithTimers"),pP=qpe();pP.createWithTimers=qpe;gP.exports=pP;gP.exports.default=pP});var Upe=j((Gdr,Fpe)=>{"use strict";d();function Est(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}a(n,"get");function i(s){r.next=s,r=s}return a(i,"release"),{get:n,release:i}}a(Est,"reusify");Fpe.exports=Est});var mP=j((Xdr,yP)=>{"use strict";d();var Sst=Upe();function Ype(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Sst(kst),i=null,s=null,o=0,l=null,u={push:M,drain:$c,saturated:$c,pause:h,paused:!1,concurrency:r,running:f,resume:y,idle:E,length:p,getQueue:g,unshift:z,empty:$c,kill:Q,killAndDrain:V,error:W};return u;function f(){return o}function h(){u.paused=!0}function p(){for(var F=i,B=0;F;)F=F.next,B++;return B}function g(){for(var F=i,B=[];F;)B.push(F.value),F=F.next;return B}function y(){if(!!u.paused){u.paused=!1;for(var F=0;F<u.concurrency;F++)o++,P()}}function E(){return o===0&&u.length()===0}function M(F,B){var S=n.get();S.context=e,S.release=P,S.value=F,S.callback=B||$c,S.errorHandler=l,o===u.concurrency||u.paused?s?(s.next=S,s=S):(i=S,s=S,u.saturated()):(o++,t.call(e,S.value,S.worked))}function z(F,B){var S=n.get();S.context=e,S.release=P,S.value=F,S.callback=B||$c,o===u.concurrency||u.paused?i?(S.next=i,i=S):(i=S,s=S,u.saturated()):(o++,t.call(e,S.value,S.worked))}function P(F){F&&n.release(F);var B=i;B?u.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&u.empty()):--o===0&&u.drain()}function Q(){i=null,s=null,u.drain=$c}function V(){i=null,s=null,u.drain(),u.drain=$c}function W(F){l=F}}a(Ype,"fastqueue");function $c(){}a($c,"noop");function kst(){this.value=null,this.callback=$c,this.next=null,this.release=$c,this.context=null,this.errorHandler=null;var e=this;this.worked=a(function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=$c,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)},"worked")}a(kst,"Task");function Cst(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(h,p){t.call(this,h).then(function(g){p(null,g)},p)}a(n,"asyncWrapper");var i=Ype(e,n,r),s=i.push,o=i.unshift;return i.push=l,i.unshift=u,i.drained=f,i;function l(h){var p=new Promise(function(g,y){s(h,function(E,M){if(E){y(E);return}g(M)})});return p.catch($c),p}a(l,"push");function u(h){var p=new Promise(function(g,y){o(h,function(E,M){if(E){y(E);return}g(M)})});return p.catch($c),p}a(u,"unshift");function f(){var h=i.drain,p=new Promise(function(g){i.drain=function(){h(),g()}});return p}a(f,"drained")}a(Cst,"queueAsPromised");yP.exports=Ype;yP.exports.promise=Cst});var zpe=j((e0r,Hpe)=>{"use strict";d();Hpe.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var bP=j((r0r,A7)=>{"use strict";d();var Ist=zpe(),vw=class extends Error{constructor(t){super(t),this.name="TimeoutError"}};a(vw,"TimeoutError");var Qpe=a((e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,l=r instanceof Error?r:new vw(o);typeof e.cancel=="function"&&e.cancel(),i(l)},t);Ist(e.then(n,i),()=>{clearTimeout(s)})}),"pTimeout");A7.exports=Qpe;A7.exports.default=Qpe;A7.exports.TimeoutError=vw});var vP=j((a0r,y2)=>{"use strict";d();var Wpe=bP(),Tst=Symbol.asyncIterator||"@@asyncIterator",Vpe=a(e=>{let t=e.on||e.addListener||e.addEventListener,r=e.off||e.removeListener||e.removeEventListener;if(!t||!r)throw new TypeError("Emitter is not compatible");return{addListener:t.bind(e),removeListener:r.bind(e)}},"normalizeEmitter"),jpe=a(e=>Array.isArray(e)?e:[e],"toArray"),Gpe=a((e,t,r)=>{let n,i=new Promise((s,o)=>{if(r={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...r},!(r.count>=0&&(r.count===1/0||Number.isInteger(r.count))))throw new TypeError("The `count` option should be at least 0 or more");let l=jpe(t),u=[],{addListener:f,removeListener:h}=Vpe(e),p=a((...y)=>{let E=r.multiArgs?y:y[0];r.filter&&!r.filter(E)||(u.push(E),r.count===u.length&&(n(),s(u)))},"onItem"),g=a(y=>{n(),o(y)},"rejectHandler");n=a(()=>{for(let y of l)h(y,p);for(let y of r.rejectionEvents)h(y,g)},"cancel");for(let y of l)f(y,p);for(let y of r.rejectionEvents)f(y,g);r.resolveImmediately&&s(u)});if(i.cancel=n,typeof r.timeout=="number"){let s=Wpe(i,r.timeout);return s.cancel=n,s}return i},"multiple"),Kpe=a((e,t,r)=>{typeof r=="function"&&(r={filter:r}),r={...r,count:1,resolveImmediately:!1};let n=Gpe(e,t,r),i=n.then(s=>s[0]);return i.cancel=n.cancel,i},"pEvent");y2.exports=Kpe;y2.exports.default=Kpe;y2.exports.multiple=Gpe;y2.exports.iterator=(e,t,r)=>{typeof r=="function"&&(r={filter:r});let n=jpe(t);r={rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1,...r};let{limit:i}=r;if(!(i>=0&&(i===1/0||Number.isInteger(i))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(i===0)return{[Symbol.asyncIterator](){return this},async next(){return{done:!0,value:void 0}}};let{addListener:o,removeListener:l}=Vpe(e),u=!1,f,h=!1,p=[],g=[],y=0,E=!1,M=a((...V)=>{y++,E=y===i;let W=r.multiArgs?V:V[0];if(p.length>0){let{resolve:F}=p.shift();F({done:!1,value:W}),E&&z();return}g.push(W),E&&z()},"valueHandler"),z=a(()=>{u=!0;for(let V of n)l(V,M);for(let V of r.rejectionEvents)l(V,P);for(let V of r.resolutionEvents)l(V,Q);for(;p.length>0;){let{resolve:V}=p.shift();V({done:!0,value:void 0})}},"cancel"),P=a((...V)=>{if(f=r.multiArgs?V:V[0],p.length>0){let{reject:W}=p.shift();W(f)}else h=!0;z()},"rejectHandler"),Q=a((...V)=>{let W=r.multiArgs?V:V[0];if(!(r.filter&&!r.filter(W))){if(p.length>0){let{resolve:F}=p.shift();F({done:!0,value:W})}else g.push(W);z()}},"resolveHandler");for(let V of n)o(V,M);for(let V of r.rejectionEvents)o(V,P);for(let V of r.resolutionEvents)o(V,Q);return{[Tst](){return this},async next(){if(g.length>0){let V=g.shift();return{done:u&&g.length===0&&!E,value:V}}if(h)throw h=!1,f;return u?{done:!0,value:void 0}:new Promise((V,W)=>p.push({resolve:V,reject:W}))},async return(V){return z(),{done:u,value:V}}}};y2.exports.TimeoutError=Wpe.TimeoutError});var t1e=j((c0r,e1e)=>{"use strict";d();var u0=new WeakMap,S7=new WeakMap,_w=new WeakMap,xP=Symbol("anyProducer"),$pe=Promise.resolve(),k7=Symbol("listenerAdded"),C7=Symbol("listenerRemoved");function U1(e){if(typeof e!="string"&&typeof e!="symbol")throw new TypeError("eventName must be a string or a symbol")}a(U1,"assertEventName");function E7(e){if(typeof e!="function")throw new TypeError("listener must be a function")}a(E7,"assertListener");function m2(e,t){let r=S7.get(e);return r.has(t)||r.set(t,new Set),r.get(t)}a(m2,"getListeners");function xw(e,t){let r=typeof t=="string"?t:xP,n=_w.get(e);return n.has(r)||n.set(r,new Set),n.get(r)}a(xw,"getEventProducers");function Mst(e,t,r){let n=_w.get(e);if(n.has(t))for(let i of n.get(t))i.enqueue(r);if(n.has(xP)){let i=Promise.all([t,r]);for(let s of n.get(xP))s.enqueue(i)}}a(Mst,"enqueueProducers");function Xpe(e,t){let r=!1,n=a(()=>{},"flush"),i=[],s={enqueue(o){i.push(o),n()},finish(){r=!0,n()}};return xw(e,t).add(s),{async next(){return i?i.length===0?r?(i=void 0,this.next()):(await new Promise(o=>{n=o}),this.next()):{done:!1,value:await i.shift()}:{done:!0}},async return(o){return i=void 0,xw(e,t).delete(s),n(),arguments.length>0?{done:!0,value:await o}:{done:!0}},[Symbol.asyncIterator](){return this}}}a(Xpe,"iterator");function Jpe(e){if(e===void 0)return Zpe;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(let t of e)if(!Zpe.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return e}a(Jpe,"defaultMethodNamesOrAssert");var _P=a(e=>e===k7||e===C7,"isListenerSymbol"),Xc=class{static mixin(t,r){return r=Jpe(r),n=>{if(typeof n!="function")throw new TypeError("`target` must be function");for(let o of r)if(n.prototype[o]!==void 0)throw new Error(`The property \`${o}\` already exists on \`target\``);function i(){return Object.defineProperty(this,t,{enumerable:!1,value:new Xc}),this[t]}a(i,"getEmitteryProperty"),Object.defineProperty(n.prototype,t,{enumerable:!1,get:i});let s=a(o=>function(...l){return this[t][o](...l)},"emitteryMethodCaller");for(let o of r)Object.defineProperty(n.prototype,o,{enumerable:!1,value:s(o)});return n}}constructor(){u0.set(this,new Set),S7.set(this,new Map),_w.set(this,new Map)}on(t,r){return U1(t),E7(r),m2(this,t).add(r),_P(t)||this.emit(k7,{eventName:t,listener:r}),this.off.bind(this,t,r)}off(t,r){U1(t),E7(r),_P(t)||this.emit(C7,{eventName:t,listener:r}),m2(this,t).delete(r)}once(t){return new Promise(r=>{U1(t);let n=this.on(t,i=>{n(),r(i)})})}events(t){return U1(t),Xpe(this,t)}async emit(t,r){U1(t),Mst(this,t,r);let n=m2(this,t),i=u0.get(this),s=[...n],o=_P(t)?[]:[...i];return await $pe,Promise.all([...s.map(async l=>{if(n.has(l))return l(r)}),...o.map(async l=>{if(i.has(l))return l(t,r)})])}async emitSerial(t,r){U1(t);let n=m2(this,t),i=u0.get(this),s=[...n],o=[...i];await $pe;for(let l of s)n.has(l)&&await l(r);for(let l of o)i.has(l)&&await l(t,r)}onAny(t){return E7(t),u0.get(this).add(t),this.emit(k7,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return Xpe(this)}offAny(t){E7(t),this.emit(C7,{listener:t}),u0.get(this).delete(t)}clearListeners(t){if(typeof t=="string"){m2(this,t).clear();let r=xw(this,t);for(let n of r)n.finish();r.clear()}else{u0.get(this).clear();for(let r of S7.get(this).values())r.clear();for(let r of _w.get(this).values()){for(let n of r)n.finish();r.clear()}}}listenerCount(t){if(typeof t=="string")return u0.get(this).size+m2(this,t).size+xw(this,t).size+xw(this).size;typeof t<"u"&&U1(t);let r=u0.get(this).size;for(let n of S7.get(this).values())r+=n.size;for(let n of _w.get(this).values())r+=n.size;return r}bindMethods(t,r){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");r=Jpe(r);for(let n of r){if(t[n]!==void 0)throw new Error(`The property \`${n}\` already exists on \`target\``);Object.defineProperty(t,n,{enumerable:!1,value:this[n].bind(this)})}}};a(Xc,"Emittery");var Zpe=Object.getOwnPropertyNames(Xc.prototype).filter(e=>e!=="constructor");Xc.Typed=class extends Xc{};Object.defineProperty(Xc.Typed,"Typed",{enumerable:!1,value:void 0});Object.defineProperty(Xc,"listenerAdded",{value:k7,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(Xc,"listenerRemoved",{value:C7,writable:!1,enumerable:!0,configurable:!1});e1e.exports=Xc});var s1e=j((h0r,EP)=>{d();var b2=Symbol("opening when closing"),Y1=Symbol("opening queue"),ph=Symbol("closing when inactive"),H1=Symbol("closing queue"),z1=Symbol("sync"),wP=Symbol("fast close"),r1e=Symbol("allow reopen"),AP=Symbol("init state"),ww=class{constructor(t){t||(t={}),t.open&&(this._open=t.open),t.close&&(this._close=t.close),this[AP](),this[r1e]=t.reopen||!1,this[b2]=null,this[Y1]=null,this[ph]=null,this[H1]=null,this[z1]=!1,this[wP]=!0}[AP](){this.opening=!1,this.opened=!1,this.closing=!1,this.closed=!1,this.actives=0}_open(t){t(null)}_close(t){t(null)}open(t){if(t||(t=n1e),this.closing||this.closed){if(!this[r1e])return _.default.nextTick(t,new Error("Resource is closed"));if(this.closing){this[b2]||(this[b2]=[]),this[b2].push(t);return}this[AP]()}if(this.opened)return _.default.nextTick(t);if(this[Y1]){this[Y1].push(t);return}this.opening=!0,this[Y1]=[t],this[z1]=!0,this._open(i1e.bind(this)),this[z1]=!1}active(t){return this[wP]&&this[ph]||this[H1]||this.closed?(t&&_.default.nextTick(t,new Error("Resource is closed")),!1):(this.actives++,!0)}inactive(t,r,n){if(!--this.actives){let i=this[ph];if(i)for(this[ph]=null;i.length;)this.close(i.shift())}t&&t(r,n)}close(t,r){if(typeof t=="function")return this.close(!1,t);if(r||(r=n1e),t&&(this[wP]=!1),this.closed)return _.default.nextTick(r);if(this.actives||this[Y1]){this[ph]||(this[ph]=[]),this[ph].push(r);return}if(!this.opened){this.closed=!0,_.default.nextTick(r);return}if(this[H1]){this[H1].push(r);return}this.closing=!0,this[H1]=[r],this[z1]=!0,this._close(a1e.bind(this)),this[z1]=!1}};a(ww,"Nanoresource");function i1e(e){if(this[z1])return _.default.nextTick(i1e.bind(this),e);let t=this[Y1];for(this[Y1]=null,this.opening=!1,this.opened=!e;t.length;)t.shift()(e);let r=this[ph];if(r&&!this.actives)for(this[ph]=null;r.length;)this.close(r.shift())}a(i1e,"onopen");function a1e(e){if(this[z1])return _.default.nextTick(a1e.bind(this),e);let t=this[H1];for(this.closing=!1,this[H1]=null,this.closed=!e;t.length;)t.shift()(e);let r=this[b2];if(r)for(this[b2]=null;r.length;)this.open(r.shift())}a(a1e,"onclose");function n1e(){}a(n1e,"noop");EP.exports=e=>new ww(e);EP.exports.Nanoresource=ww});var CP=j((g0r,kP)=>{d();var Bst=s1e();function o1e(){let e,t=new Promise((r,n)=>{e=a((i,s)=>{i?n(i):r(s)},"callback")});return e.promise=t,e}a(o1e,"callbackPromise");var Uu=Symbol("nanoresource"),SP=Symbol("processpromise"),Aw=class{constructor(t={}){let r=t.open||this._open.bind(this),n=t.close||this._close.bind(this);this[Uu]=Bst({open:i=>this[SP](r,i),close:i=>this[SP](n,i),reopen:t.reopen})}get opened(){return this[Uu].opened}get opening(){return this[Uu].opening}get closed(){return this[Uu].closed}get closing(){return this[Uu].closing}get actives(){return this[Uu].actives}open(){let t=o1e();return this[Uu].open(t),t.promise}close(t=!1){let r=o1e();return this[Uu].close(t,r),r.promise}active(t){return this[Uu].active(t)}inactive(t,r,n){return this[Uu].inactive(t,r,n)}async _open(){}async _close(){}async[SP](t,r){try{await t(),r()}catch(n){r(n)}}};a(Aw,"NanoresourcePromise");kP.exports=e=>new Aw(e);kP.exports.NanoresourcePromise=Aw});var Sw=j((b0r,IP)=>{d();var{EventEmitter:Rst}=ea(),Lst=CP(),Yu=Symbol("nanoresource"),Ew=class extends Rst{constructor(t={}){super(),this[Yu]=Lst({open:t.open||this._open.bind(this),close:t.close||this._close.bind(this),reopen:t.reopen})}get opened(){return this[Yu].opened}get opening(){return this[Yu].opening}get closed(){return this[Yu].closed}get closing(){return this[Yu].closing}get actives(){return this[Yu].actives}async open(){await this[Yu].open(),this.emit("opened")}async close(t){await this[Yu].close(t),this.emit("closed")}active(t){return this[Yu].active(t)}inactive(t,r,n){return this[Yu].inactive(t,r,n)}async _open(){}async _close(){}};a(Ew,"NanoresourcePromise");IP.exports=e=>new Ew(e);IP.exports.NanoresourcePromise=Ew});var l1e=j((x0r,c1e)=>{"use strict";d();function Dst(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}a(Dst,"tryStringify");c1e.exports=Nst;function Nst(e,t,r){var n=r&&r.stringify||Dst,i=1;if(e===null&&(e=t[0],i=0),typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var l=1;l<s;l++)o[l]=n(t[l]);return o.join(" ")}var u=t.length;if(u===0)return e;for(var f="",h="",p=1-i,g=0,y=e&&e.length||0,E=0;E<y;){if(e.charCodeAt(E)===37&&E+1<y){switch(e.charCodeAt(E+1)){case 100:if(p>=u||(g<E&&(h+=e.slice(g,E)),t[p]==null))break;h+=Number(t[p]),g=E=E+2;break;case 79:case 111:case 106:if(p>=u||(g<E&&(h+=e.slice(g,E)),t[p]===void 0))break;var M=typeof t[p];if(M==="string"){h+="'"+t[p]+"'",g=E+2,E++;break}if(M==="function"){h+=t[p].name||"<anonymous>",g=E+2,E++;break}h+=n(t[p]),g=E+2,E++;break;case 115:if(p>=u)break;g<E&&(h+=e.slice(g,E)),h+=String(t[p]),g=E+2,E++;break;case 37:g<E&&(h+=e.slice(g,E)),h+="%",g=E+2,E++;break}++p}++E}for(g===0?h=e:g<y&&(h+=e.slice(g));p<u;)f=t[p++],f===null||typeof f!="object"?h+=" "+String(f):h+=" "+n(f);return h}a(Nst,"format")});var Cw=j((E0r,u1e)=>{d();var Ost=l1e(),kw=class extends Error{static get code(){return this.name}static get isNanoerror(){return!0}static equals(t){return t.isNanoerror&&t.code===this.code}constructor(...t){super();let r=this.constructor.code,n=this.constructor.message;this.message=Ost(n,t),this.name=r,this.code=this.name,this.args=t,this.unformatMessage=n,Error.captureStackTrace(this,this.constructor)}get isNanoerror(){return!0}equals(t){return t.isNanoerror&&t.code===this.code}};a(kw,"Nanoerror");kw.message="";function qst(e,t="%s"){let r={[e]:class extends kw{static from(n){let i=new r[e](`[${n.toString()}]`);return i.stack=n.stack||i.stack,i}}};return r[e].message=t,r[e]}a(qst,"createError");u1e.exports=qst});var Iw=j((I0r,h1e)=>{d();var Pst=Cw(),f1e={};function Q1(e,t){f1e[e]=Pst(e,t)}a(Q1,"createError");Q1("NMSG_ERR_TIMEOUT","timeout on request: %s");Q1("NMSG_ERR_ENCODE","error encoding the request: %s");Q1("NMSG_ERR_DECODE","error decoding the request: %s");Q1("NMSG_ERR_RESPONSE","response error on request: %s");Q1("NMSG_ERR_CLOSE","nanomessage was closed");Q1("NMSG_ERR_NOT_OPEN","nanomessage is not open");Q1("NMSG_ERR_CANCEL","request canceled: %s");h1e.exports=f1e});var g1e=j((B0r,p1e)=>{d();var{NMSG_ERR_CANCEL:d1e,NMSG_ERR_TIMEOUT:Fst}=Iw(),v2=class{static info(t={}){return{id:t.id,data:t.data,response:t.response||!1,ephemeral:t.id===0}}constructor(t){let{id:r,data:n,response:i=!1,timeout:s,signal:o}=t;this.id=r,this.data=n,this.response=i,this.finished=!1,this.timeout=s,this.timer=null;let l,u;this.promise=new Promise((h,p)=>{l=h,u=p}),this.promise.cancel=this.cancel.bind(this);let f=a(()=>this.cancel(),"onAbort");o&&(o.aborted?_.default.nextTick(f):o.addEventListener("abort",f)),this.resolve=h=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",f),this.finished=!0,this._onFinish(),l(h))},this.reject=h=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",f),this.finished=!0,this._onFinish(h),u(h))}}start(){this.timeout&&(this.timer=setTimeout(()=>{this.reject(new Fst(this.id))},this.timeout))}onFinish(t){this._onFinish=t}cancel(t){t?typeof t=="string"&&(t=new d1e(this.id,t)):t=new d1e(this.id),this.reject(t)}info(){return v2.info(this)}};a(v2,"Request");p1e.exports=v2});var v1e=j((D0r,b1e)=>{d();b1e.exports=m1e;var y1e=128,Ust=127,Yst=~Ust,Hst=Math.pow(2,31);function m1e(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Hst;)t[r++]=e&255|y1e,e/=128;for(;e&Yst;)t[r++]=e&255|y1e,e>>>=7;return t[r]=e|0,m1e.bytes=r-n+1,t}a(m1e,"encode")});var w1e=j((q0r,x1e)=>{d();x1e.exports=TP;var zst=128,_1e=127;function TP(e,n){var r=0,n=n||0,i=0,s=n,o,l=e.length;do{if(s>=l)throw TP.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&_1e)<<i:(o&_1e)*Math.pow(2,i),i+=7}while(o>=zst);return TP.bytes=s-n,r}a(TP,"read")});var E1e=j((U0r,A1e)=>{d();var Qst=Math.pow(2,7),Wst=Math.pow(2,14),Vst=Math.pow(2,21),jst=Math.pow(2,28),Gst=Math.pow(2,35),Kst=Math.pow(2,42),$st=Math.pow(2,49),Xst=Math.pow(2,56),Jst=Math.pow(2,63);A1e.exports=function(e){return e<Qst?1:e<Wst?2:e<Vst?3:e<jst?4:e<Gst?5:e<Kst?6:e<$st?7:e<Xst?8:e<Jst?9:10}});var gh=j((H0r,S1e)=>{d();S1e.exports={encode:v1e(),decode:w1e(),encodingLength:E1e()}});var MP=j((Q0r,k1e)=>{d();function Tw(e,t){if(typeof e!="object")return t&&Object.prototype.toString.call(e)==="[object String]"&&e.startsWith("base64:")?b.Buffer.from(e.slice(7),"base64"):e;let r,n,i=Object.prototype.toString.call(e);if(!t&&i==="[object Uint8Array]"&&b.Buffer.isBuffer(e))return"base64:"+b.Buffer.from(e).toString("base64");if(i==="[object Object]"){n={};for(r in e)n[r]=Tw(e[r],t);return n}if(i==="[object Array]"){for(r=e.length,n=Array(r);r--;)n[r]=Tw(e[r],t);return n}return e}a(Tw,"iterate");k1e.exports={_lastObj:null,_lastStr:null,_lastLength:null,encode(e,t,r){let n,i;return this._lastObj===e?(n=this._lastStr,i=this._lastLength):(n=JSON.stringify(Tw({data:e})),i=b.Buffer.byteLength(n,"utf8")),t.write(n,r,i,"utf8"),this._lastObj=null,this._lastStr=null,this._lastLength=null,t.slice(r,r+i)},decode(e,t,r){return t=t||0,r=r||e.length,Tw(JSON.parse(e.slice(t,r)),!0).data},encodingLength(e){return this._lastObj=e,this._lastStr=JSON.stringify(Tw({data:e})),this._lastLength=b.Buffer.byteLength(this._lastStr,"utf8"),this._lastLength}}});var T1e=j((j0r,I1e)=>{d();var Hu=gh(),Zst=MP(),{NMSG_ERR_ENCODE:eot,NMSG_ERR_DECODE:tot}=Iw(),C1e=1;I1e.exports=a(function(t=Zst){return{encode(r){try{let n=r.id<<1;r.response&&(n=n|C1e);let i=t.encodingLength(r.data),s=b.Buffer.allocUnsafe(Hu.encodingLength(n)+Hu.encodingLength(i)+i),o=0;return Hu.encode(n,s,o),o+=Hu.encode.bytes,Hu.encode(i,s,o),o+=Hu.encode.bytes,t.encode(r.data,s,o),s}catch(n){throw new eot(n.message)}},decode(r){try{let n={},i=0,s=Hu.decode(r,i);i+=Hu.decode.bytes;let o=Hu.decode(r,i);return i+=Hu.decode.bytes,n.data=t.decode(r,i,i+o),n.response=!!(s&C1e),n.id=s>>1,n}catch(n){throw new tot(n.message)}}}},"createCodec")});var B1e=j((X0r,M1e)=>{d();M1e.exports=a(class{constructor(t){this._generate=t,this._free=[]}get(){return this._free.length?this._free.pop():this._generate()}release(t){this._free.push(t)}},"IdGenerator")});var O1e=j((epr,N1e)=>{d();var{NanoresourcePromise:rot}=Sw(),R1e=mP(),BP=g1e(),not=T1e(),{NMSG_ERR_CLOSE:L1e,NMSG_ERR_NOT_OPEN:iot,NMSG_ERR_RESPONSE:D1e}=Iw(),aot=B1e(),f0=Symbol("nanomessage.requests"),h0=Symbol("nanomessage.inqueue"),yh=Symbol("nanomessage.outqueue"),RP=Symbol("nanomessage.unsubscribe"),LP=Symbol("nanomessage.open"),DP=Symbol("nanomessage.close"),Mw=Symbol("nanomessage.fastcheckopen"),NP=Symbol("nanomessage.timeout"),OP=Symbol("nanomessage.idgenerator"),_2=Symbol("nanomessage.codec");function sot(e,t){this[Mw]().then(()=>this._onMessage(e.data,e)).then(r=>this.closed||this.closing?t():(e.responseData=r,this._send(this[_2].encode({id:e.id,response:e.response,data:r}),e))).then(()=>t()).catch(r=>t(r))}a(sot,"inWorker");function oot(e,t){let r=e.info();this[Mw]().then(()=>{if(!e.finished)return e.start(),this._send(this[_2].encode(r),r)}).then(()=>{if(!e.finished)return e.promise}).then(n=>t(null,n)).catch(n=>t(n))}a(oot,"outWorker");var I7=class extends rot{constructor(t={}){super();let{send:r,subscribe:n,onMessage:i,open:s,close:o,timeout:l,valueEncoding:u,concurrency:f=256}=t;r&&(this._send=r),n&&(this._subscribe=n),i&&this.setMessageHandler(i),s&&(this[LP]=s),o&&(this[DP]=o),this.setRequestTimeout(l),this[_2]=not(u),this[h0]=R1e(this,sot,1),this[yh]=R1e(this,oot,1),this.setConcurrency(f),this[f0]=new Map,this[OP]=new aot(()=>this[f0].size+1)}get codec(){return this[_2]}get requests(){return Array.from(this[f0].values())}get inflightRequests(){return this[yh].running()}get requestTimeout(){return this[NP]}get concurrency(){return{incoming:this[h0].concurrency,outgoing:this[yh].concurrency}}setRequestTimeout(t){return this[NP]=t,this}setConcurrency(t){return typeof t=="number"?(this[h0].concurrency=t,this[yh].concurrency=t):(this[h0].concurrency=t.incoming||this[h0].concurrency,this[yh].concurrency=t.outgoing||this[yh].concurrency),this}request(t,r={}){let n=new BP({id:this[OP].get(),data:t,timeout:r.timeout||this[NP],signal:r.signal}),i=n.info();return this[f0].set(n.id,n),n.onFinish(()=>{this[f0].delete(n.id),this[OP].release(n.id)}),this.emit("request-created",i),this[yh].push(n,(s,o)=>{i.response=!0,i.responseData=o,this.emit("request-ended",s,i)}),n.promise}send(t){return this[Mw]().then(()=>{let r=BP.info({id:0,data:t});return this._send(this[_2].encode(r),r)})}setMessageHandler(t){return this._onMessage=t,this}processIncomingMessage(t){if(this.closed||this.closing)return;let r=BP.info(this[_2].decode(t));if(r.response){let n=this[f0].get(r.id);n&&n.resolve(r.data);return}if(r.ephemeral){this.emit("request-received",r),this[Mw]().then(()=>this._onMessage(r.data,r)).catch(n=>{let i=new D1e(n.message);i.stack=n.stack||i.stack,this.emit("response-error",i,r)});return}r.response=!0,this.emit("request-received",r),this[h0].push(r,n=>{if(n){let i=new D1e(n.message);i.stack=n.stack||i.stack,this.emit("response-error",i,r)}})}async _send(t,r){throw new Error("_send not implemented")}async _onMessage(t,r){throw new Error("_onMessage not implemented")}async _open(){await(this[LP]&&this[LP]()),this[RP]=this._subscribe&&this._subscribe(this.processIncomingMessage.bind(this))}async _close(){this[RP]&&this[RP]();let t=[];this[f0].forEach(r=>r.reject(new L1e)),this[f0].clear(),this[h0]&&this[h0].kill(),this[yh]&&this[yh].kill(),await(this[DP]&&this[DP]()),await Promise.all(t)}async[Mw](){if(this.closed||this.closing)throw new L1e;if(this.opening)return this.open();if(!this.opened)throw new iot}};a(I7,"Nanomessage");N1e.exports=I7});var qP=j((npr,P1e)=>{d();var q1e=O1e(),T7=a(e=>new q1e(e),"nanomessage");T7.Nanomessage=q1e;T7.errors=Iw();T7.BJSON=MP();P1e.exports=T7});var M7=j(x2=>{d();var F1e=Cw();x2.encodeError=cot;x2.decodeError=lot;var PP=new Map;function W1(e,t){x2[e]=F1e(e,t)}a(W1,"createError");function cot(e){return{error:!0,data:{code:e.code,unformatMessage:e.unformatMessage,args:e.args,stack:e.stack}}}a(cot,"encodeError");function lot(e,t){if(x2[e])return x2[e];if(PP.has(e))return PP.get(e);let r=F1e(e,t);return PP.set(e,r),r}a(lot,"decodeError");W1("NRPC_ERR_NAME_MISSING","missing action handler for: %s");W1("NRPC_ERR_RESPONSE_ERROR","%s");W1("NRPC_ERR_REQUEST_CANCELED","%s");W1("NRPC_ERR_CLOSE","nanomessage-rpc was closed");W1("NRPC_ERR_NOT_OPEN","nanomessage-rpc is not open");W1("NRPC_ERR_ENCODE","error encoding the request: %s");W1("NRPC_ERR_DECODE","error decoding the request: %s")});var j1e=j((lpr,V1e)=>{d();var Rl=gh(),{BJSON:B7}=qP(),{NRPC_ERR_ENCODE:uot,NRPC_ERR_DECODE:fot}=M7();function L7(e,t){Rl.encode(e,t.buf,t.offset),t.offset+=Rl.encode.bytes}a(L7,"writeNumber");function U1e(e,t,r,n){L7(t,n),e.encode(r,n.buf,n.offset),n.offset+=t}a(U1e,"writeCodec");function hot(e,t,r){L7(t,r),r.buf.write(e,r.offset,t,"utf8"),r.offset+=t}a(hot,"writeString");function W1e(e){let t=Rl.decode(e.buf,e.offset);return e.offset+=Rl.decode.bytes,t}a(W1e,"readNumber");function Y1e(e,t){let r=W1e(t),n=e.decode(t.buf,t.offset,t.offset+r);return t.offset+=r,n}a(Y1e,"readCodec");function dot(e){let t=W1e(e),r=e.buf.slice(e.offset,e.offset+t);return e.offset+=t,r}a(dot,"readBuffer");var H1e=1,z1e=1<<1,Q1e=1<<2,R7=class{constructor(t=B7){this._valueEncoding=t,this._lastHeader=null,this._lastDataLength=null,this._lastNameLength=null}encode(t,r,n=0){try{return t.name?this._encodeRequest(t,r,n):this._encodeResponse(t,r,n)}catch(i){let s=new uot(i.message);throw s.stack=i.stack||s.stack,i}}decode(t,r=0){try{let n=Rl.decode(t,r);return r+=Rl.decode.bytes,n&H1e?this._decodeResponse(n,t,r):this._decodeRequest(n,t,r)}catch(n){let i=new fot(n.message);throw i.stack=n.stack||i.stack,n}}encodingLength(t){return t.name?this._encodingLengthRequest(t):this._encodingLengthResponse(t)}_headerRequest(t){let r=0;return t.event&&(r=r|z1e),this._lastHeader=r,r}_headerResponse(t){let r=0;return r=r|H1e,t.error&&(r=r|Q1e),this._lastHeader=r,r}_encodeRequest(t,r,n){let i={buf:r,offset:n};return L7(this._lastHeader,i),hot(t.name,this._lastNameLength,i),U1e(this._valueEncoding,this._lastDataLength,t.data,i),i.buf}_decodeRequest(t,r,n){let i={},s={buf:r,offset:n};return i.event=!!(t&z1e),i.name=dot(s).toString(),i.data=Y1e(this._valueEncoding,s),i}_encodingLengthRequest(t){let r=this._headerRequest(t);return this._lastDataLength=this._valueEncoding.encodingLength(t.data),this._lastNameLength=b.Buffer.byteLength(t.name,"utf8"),Rl.encodingLength(r)+Rl.encodingLength(this._lastDataLength)+this._lastDataLength+Rl.encodingLength(this._lastNameLength)+this._lastNameLength}_encodingLengthResponse(t){let r=this._headerResponse(t),n=this._valueEncoding;t.error&&(n=B7);let i=n.encodingLength(t.data);return Rl.encodingLength(r)+Rl.encodingLength(i)+i}_encodeResponse(t,r,n){let i=this._valueEncoding;t.error&&(i=B7);let s=i.encodingLength(t.data),o={buf:r,offset:n};return L7(this._lastHeader,o),U1e(i,s,t.data,o),o.buf}_decodeResponse(t,r,n){let i={},s={buf:r,offset:n};i.error=!!(t&Q1e);let o=this._valueEncoding;return i.error&&(o=B7),i.data=Y1e(o,s),i}};a(R7,"Codec");V1e.exports=R7});var Z1e=j((hpr,J1e)=>{d();var{EventEmitter:pot}=ea(),got=t1e(),yot=qP(),FP=F1(),{NanoresourcePromise:mot}=CP(),bot=j1e(),{encodeError:UP,decodeError:vot,NRPC_ERR_NAME_MISSING:_ot,NRPC_ERR_RESPONSE_ERROR:xot,NRPC_ERR_CLOSE:wot,NRPC_ERR_NOT_OPEN:Aot,NRPC_ERR_REQUEST_CANCELED:G1e}=M7(),Ll=Symbol("nrpc.nanomessage"),K1e=Symbol("nrpc.onmessage"),$1e=Symbol("nrpc.subscribe"),YP=Symbol("nrpc.actions"),w2=Symbol("nrpc.emittery"),HP=Symbol("nrpc.fastcheckopen"),zP=Symbol("nrpc.createrequest"),X1e=a(()=>{},"noop"),D7=class extends mot{constructor(t={}){super();let{onError:r=a(()=>{},"onError"),valueEncoding:n,send:i,subscribe:s,open:o=X1e,close:l=X1e,...u}=t;FP(i,"send is required"),FP(s,"subscribe is required"),this.ee=new pot,this[Ll]=yot({...u,send:i.bind(this),open:o.bind(this),close:l.bind(this),onMessage:this[K1e].bind(this),subscribe:this[$1e](s),valueEncoding:new bot(n)}),this[w2]=new got,this[YP]=new Map,this._onError=r,this.ee.on("error",f=>{this._onError(f)})}get requests(){return this[Ll].requests}get inflightRequests(){return this[Ll].inflightRequests}get requestTimeout(){return this[Ll].timeout}get concurrency(){return this[Ll].concurrency}setRequestsTimeout(t){this[Ll].setRequestsTimeout(t)}setConcurrency(t){this[Ll].setConcurrency(t)}onError(t){this._onError=t}action(t,r){return this[YP].set(t,r),this}actions(t){return Object.keys(t).forEach(r=>this.action(r,t[r])),this}call(t,r,n={}){return this[zP]({name:t,data:r},n)}emit(t,r,n={}){return this[zP]({name:t,data:r,event:!0},n)}on(...t){return this[w2].on(...t)}once(...t){return this[w2].once(...t)}off(...t){return this[w2].off(...t)}events(t){return this[w2].events(t)}async _open(){await this[Ll].open(),this.ee.emit("opened")}async _close(){await this[Ll].close(),this.ee.emit("closed")}async[HP](){if(this.closed||this.closing)throw new wot;if(this.opening)return this.open();if(!this.opened)throw new Aot}[$1e](t){return r=>{t(n=>{try{r(n)}catch(i){_.default.nextTick(()=>this.ee.emit("error",i))}})}}[zP](t,{timeout:r,signal:n,wait:i=!0}){if(FP(t.name&&typeof t.name=="string","name is required"),t.event&&!i)return this[HP]().then(()=>this[Ll].send(t));let s,o,l=this[HP]().then(()=>{if(s)throw s;return o=this[Ll].request(t,{timeout:r,signal:n}),this.ee.emit("request-created",o,t),o}).then(u=>{if(u.error){let{code:f,unformatMessage:h,args:p,stack:g}=u.data,y=vot(f,h),E=new y(...p);throw E.stack=g||E.stack,E}else return u.data});return l.cancel=u=>{if(u?typeof u=="string"&&(s=new G1e(u)):s=new G1e("request canceled"),o)return o.cancel(s);s=u},l}async[K1e](t){this.ee.emit("message",t);try{if(t.event)return await this[w2].emit(t.name,t.data),{data:null};let r=this[YP].get(t.name);return r?{data:await r(t.data)}:UP(new _ot(t.name))}catch(r){if(r.isNanoerror)return UP(r);let n=new xot(r.message);return n.stack=r.stack||n.stack,UP(n)}}};a(D7,"NanomessageRPC");J1e.exports=D7});var rge=j((gpr,tge)=>{d();var ege=p2();function Eot(e,t=!0){return{send(r){e.destroyed||e.write(r)},subscribe(r){return e.on("data",r),()=>e.removeListener("data",r)},open(){ege(e,()=>{this.close().catch(r=>_.default.nextTick(()=>this.ee.emit("error",r)))})},close(){return new Promise(r=>{if(e.destroyed||!t)return r();ege(e,()=>r()),e.destroy()})}}}a(Eot,"useSocket");tge.exports=Eot});var QP=j((bpr,Bw)=>{d();var nge=Z1e();Bw.exports=(...e)=>new nge(...e);Bw.exports.NanomessageRPC=nge;Bw.exports.useSocket=rge();Bw.exports.errors=M7()});var age=j((_pr,ige)=>{d();ige.exports=a(function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},"getBrowserRTC")});var cge=j((Apr,oge)=>{"use strict";d();function sge(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}a(sge,"assign");function Sot(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return sge(e,r)}catch{r.message=e.message,r.stack=e.stack;let i=a(function(){},"ErrClass");return i.prototype=Object.create(Object.getPrototypeOf(e)),sge(new i,r)}}a(Sot,"createError");oge.exports=Sot});var dge=j((kpr,hge)=>{d();var kot=Hc()("simple-peer"),fge=age(),lge=Tf(),Cot=Tp(),WP=iw(),In=cge(),{Buffer:Iot}=Ei(),VP=64*1024,Tot=5*1e3,Mot=5*1e3;function uge(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}a(uge,"filterTrickle");function Bot(e){console.warn(e)}a(Bot,"warn");var zu=class extends Cot.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=lge(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||lge(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||zu.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},zu.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(r=>r),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||Tot,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:fge(),!this._wrtc)throw In(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy(In(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy(In(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(In(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(In(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){let r=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?Bot("Ignoring unsupported ICE candidate."):this.destroy(In(n,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,r){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,r),this._needsNegotiation()}catch(n){this.destroy(In(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:r}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(r=>{this.addTrack(r,t)})}}addTrack(t,r){if(this.destroying)return;if(this.destroyed)throw In(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let n=this._senderMap.get(t)||new Map,i=n.get(r);if(!i)i=this._pc.addTrack(t,r),n.set(r,i),this._senderMap.set(t,n),this._needsNegotiation();else throw i.removed?In(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):In(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,r,n){if(this.destroying)return;if(this.destroyed)throw In(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let i=this._senderMap.get(t),s=i?i.get(n):null;if(!s)throw In(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,i),s.replaceTrack!=null?s.replaceTrack(r):this.destroy(In(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,r){if(this.destroying)return;if(this.destroyed)throw In(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let n=this._senderMap.get(t),i=n?n.get(r):null;if(!i)throw In(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{i.removed=!0,this._pc.removeTrack(i)}catch(s){s.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(i):this.destroy(In(s,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(r=>{this.removeTrack(r,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,WP(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw In(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),WP(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),r()}))}_setupData(t){if(!t.channel)return this.destroy(In(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=VP),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{let i=n.error instanceof Error?n.error:new Error(`Datachannel error: ${n.message} ${n.filename}:${n.lineno}:${n.colno}`);this.destroy(In(i,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},Mot)}_read(){}_write(t,r,n){if(this.destroyed)return n(In(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(i){return this.destroy(In(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>VP?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;let t=a(()=>{setTimeout(()=>this.destroy(),1e3)},"destroySoon");this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=uge(t.sdp)),t.sdp=this.sdpTransform(t.sdp);let r=a(()=>{if(this.destroyed)return;let s=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})},"sendOffer"),n=a(()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},"onSuccess"),i=a(s=>{this.destroy(In(s,"ERR_SET_LOCAL_DESCRIPTION"))},"onError");this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(In(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=uge(t.sdp)),t.sdp=this.sdpTransform(t.sdp);let r=a(()=>{if(this.destroyed)return;let s=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||this._requestMissingTransceivers()},"sendAnswer"),n=a(()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},"onSuccess"),i=a(s=>{this.destroy(In(s,"ERR_SET_LOCAL_DESCRIPTION"))},"onError");this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(In(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(In(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let t=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),this.emit("iceStateChange",t,r),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(In(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(In(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){let r=a(n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(i=>{Object.assign(n,i)}),n),"flattenValues");this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{let i=[];n.forEach(s=>{i.push(r(s))}),t(null,i)},n=>t(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(this.destroyed)return;let i=[];n.result().forEach(s=>{let o={};s.names().forEach(l=>{o[l]=s.stat(l)}),o.id=s.id,o.type=s.type,o.timestamp=s.timestamp,i.push(r(o))}),t(null,i)},n=>t(n)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let t=a(()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);let i={},s={},o={},l=!1;n.forEach(f=>{(f.type==="remotecandidate"||f.type==="remote-candidate")&&(i[f.id]=f),(f.type==="localcandidate"||f.type==="local-candidate")&&(s[f.id]=f),(f.type==="candidatepair"||f.type==="candidate-pair")&&(o[f.id]=f)});let u=a(f=>{l=!0;let h=s[f.localCandidateId];h&&(h.ip||h.address)?(this.localAddress=h.ip||h.address,this.localPort=Number(h.port)):h&&h.ipAddress?(this.localAddress=h.ipAddress,this.localPort=Number(h.portNumber)):typeof f.googLocalAddress=="string"&&(h=f.googLocalAddress.split(":"),this.localAddress=h[0],this.localPort=Number(h[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let p=i[f.remoteCandidateId];p&&(p.ip||p.address)?(this.remoteAddress=p.ip||p.address,this.remotePort=Number(p.port)):p&&p.ipAddress?(this.remoteAddress=p.ipAddress,this.remotePort=Number(p.portNumber)):typeof f.googRemoteAddress=="string"&&(p=f.googRemoteAddress.split(":"),this.remoteAddress=p[0],this.remotePort=Number(p[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)},"setSelectedCandidatePair");if(n.forEach(f=>{f.type==="transport"&&f.selectedCandidatePairId&&u(o[f.selectedCandidatePairId]),(f.type==="googCandidatePair"&&f.googActiveConnection==="true"||(f.type==="candidatepair"||f.type==="candidate-pair")&&f.selected)&&u(f)}),!l&&(!Object.keys(o).length||Object.keys(s).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(h){return this.destroy(In(h,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let f=this._cb;this._cb=null,f(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})},"findCandidatePair");t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>VP||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=Iot.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(r=>{this._debug("on track"),this.emit("track",t.track,r),this._remoteTracks.push({track:t.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),WP(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){let t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],kot.apply(null,t)}};a(zu,"Peer");zu.WEBRTC_SUPPORT=!!fge();zu.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};zu.channelConfig={};hge.exports=zu});var gge=j((Tpr,pge)=>{d();var N7=class{constructor(t){this.value=t,this.next=void 0}};a(N7,"Node");var O7=class{constructor(){this.clear()}enqueue(t){let r=new N7(t);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){let t=this._head;if(!!t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}};a(O7,"Queue");pge.exports=O7});var mge=j((Rpr,yge)=>{"use strict";d();var Rot=gge(),Lot=a(e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new Rot,r=0,n=a(()=>{r--,t.size>0&&t.dequeue()()},"next"),i=a(async(l,u,...f)=>{r++;let h=(async()=>l(...f))();u(h);try{await h}catch{}n()},"run"),s=a((l,u,...f)=>{t.enqueue(i.bind(null,l,u,...f)),(async()=>(await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()))()},"enqueue"),o=a((l,...u)=>new Promise(f=>{s(l,f,...u)}),"generator");return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o},"pLimit");yge.exports=Lot});var jP=j((Npr,bge)=>{d();var Dot=mge(),q7=class{constructor(){this._limit=Dot(1),this._cache=[]}onSignal(t){return this._onSignal=(r,n,i)=>t&&t(r,n,i),this}onClose(t){return this._onClose=r=>t&&t(r),this}resolution(t){this._resolution=()=>t&&t()}add(t){this._cache.push(t),this._limit(async()=>{if(this._limit.clearQueue(),this._cache.length===0||this._resolution())return;let r,n=300;do r=this._cache.length,await new Promise(s=>setTimeout(s,n)),n=1;while(r<this._cache.length&&this._cache.length<4);let i=this._cache;return this._cache=[],this._onSignal(i)}).catch(r=>{this._limit.clearQueue(),this._onClose(r)}).finally(()=>{this._resolution()&&(this._limit.clearQueue(),this._onClose())})}};a(q7,"SignalBatch");bge.exports=q7});var F7=j(vge=>{d();var Not=Cw();function P7(e,t){vge[e]=Not(e,t)}a(P7,"createError");P7("ERR_ARGUMENT_INVALID","%s");P7("ERR_PEER_NOT_FOUND","peer not found: %s");P7("ERR_CONNECTION_CLOSED");P7("ERR_SIGNAL_TIMEOUT","Timeout trying to establish a connection. SIGNALS: %j")});var GP=j((Hpr,xge)=>{d();var{NanoresourcePromise:Oot}=Sw(),qot=dge(),mh=F1(),Pot=vP(),Fot=p2(),Uot=jP(),{ERR_CONNECTION_CLOSED:Yot,ERR_SIGNAL_TIMEOUT:Hot}=F7(),Rw=Symbol("peer.metadata"),Lw=Symbol("peer.localmetadata"),_ge=Symbol("peer.onsignal"),U7=Symbol("peer.offer");xge.exports=a(class extends Oot{constructor(t={}){super();let{onSignal:r,initiator:n,sessionId:i,id:s,topic:o,metadata:l,localMetadata:u,simplePeer:f={},timeout:h}=t;mh(r),mh(n!==void 0,"initiator is required"),mh(b.Buffer.isBuffer(i)&&i.length===32,"sessionId is required and must be a buffer of 32"),mh(b.Buffer.isBuffer(s)&&s.length===32,"id is required and must be a buffer of 32"),mh(b.Buffer.isBuffer(o)&&o.length===32,"topic must be a buffer of 32"),mh(!l||typeof l=="object","metadata must be an object"),mh(!u||typeof u=="object","localMetadata must be an object"),this.initiator=n,this.sessionId=i,this.id=s,this.topic=o,this.simplePeerOptions=f,this.timeout=h,this.subscribeMediaStream=!1,this.error=null,this.signals=[],this[_ge]=r,this[U7]=null,this[Rw]=l,this[Lw]=u,this.once("error",p=>{this.error=p}),this._initializeSimplePeer()}get connected(){return this.stream.connected}get destroyed(){return this.stream.destroyed}get metadata(){return this[Rw]}set metadata(t){return mh(!t||typeof t=="object","metadata must be an object"),this[Rw]=t,this.emit("metadata-updated",this[Rw]),this[Rw]}get localMetadata(){return this[Lw]}set localMetadata(t){return mh(!t||typeof t=="object","localMetadata must be an object"),this[Lw]=t,this.emit("local-metadata-updated",this[Lw]),this[Lw]}async ready(){if(!this.connected){if(this.destroyed)throw this.error?this.error:new Yot;return Pot(this,"connect",{rejectionEvents:["error","close"]})}}addStream(t){return this.ready().then(()=>this.stream.addStream(t))}removeStream(t){return this.ready().then(()=>this.stream.removeStream(t))}destroy(t){this.stream.destroy(t)}open(t){return t&&(this[U7]=t),super.open()}async _open(){let t=setTimeout(()=>{this.destroy(new Hot(this.signals))},this.timeout),r=new Uot,n=this.ready(),i=a(o=>r.add(o),"onSignal"),s=a(()=>this.stream.removeListener("signal",i),"clean");return this.once("close",()=>s()),r.onSignal(o=>(this.signals=[...this.signals,...o],this[_ge](this,o))).onClose(o=>{s(),o&&_.default.nextTick(()=>this.destroy(o))}).resolution(()=>this.destroyed),this.stream.on("signal",i),!this.initiator&&this[U7]&&this[U7].forEach(o=>this.stream.signal(o)),n.finally(()=>{clearTimeout(t)})}_close(){if(!this.destroyed)return _.default.nextTick(()=>this.stream.destroy()),new Promise(t=>Fot(this.stream,()=>t()))}_initializeSimplePeer(){let{streams:t=[],...r}=this.simplePeerOptions;this.stream=new qot({...r,initiator:this.initiator}),t.forEach(u=>this.addStream(u).catch(()=>{})),this.stream.close=()=>_.default.nextTick(()=>this.stream.destroy());let n=a(u=>this.emit("stream",u),"onStream"),i=a(u=>this.emit("signal",u),"onSignal"),s=a(u=>this.emit("error",u),"onError"),o=a(()=>this.emit("connect"),"onConnect"),l=a(()=>{this.stream.removeListener("stream",n),this.stream.removeListener("signal",i),this.stream.removeListener("error",s),this.stream.removeListener("connect",o),this.close().catch(()=>{}),this.emit("close")},"onClose");this.stream.on("stream",n),this.stream.on("signal",i),this.stream.once("error",s),this.stream.once("connect",o),this.stream.once("close",l)}},"Peer")});var Tge=j((Wpr,Ige)=>{d();var wge=Rd(),d0=F1(),zot=mP(),Qot=vP(),Age=QP(),{NanoresourcePromise:Wot}=Sw(),Ege=GP(),KP=Symbol("socketsignal.connectionsqueue"),Dw=Symbol("socketsignal.peers"),Sge=Symbol("socketsignal.defineactions"),kge=Symbol("socketsignal.defineevents"),$P=Symbol("socketsignal.addpeer"),XP=Symbol("socketsignal.createpeer"),Cge=Symbol("socketsignal.onsignal");function Vot({peer:e,data:t},r){this.open().then(()=>(this.emit("peer-connecting",e),e.open(t))).then(()=>r()).catch(n=>r(n))}a(Vot,"worker");var Y7=class extends Wot{constructor(t,r={}){super();let{id:n=wge.randomBytes(32),requestTimeout:i=15*1e3,queueConcurrency:s=4,simplePeer:o={},metadata:l}=r;d0(!l||typeof l=="object","metadata must be an object"),this.socket=t,this.rpc=Age({timeout:i,...Age.useSocket(t)}),this.id=n,this.metadata=l,this.simplePeer=o,this.requestTimeout=i,this[Dw]=new Map,this[KP]=zot(this,Vot,s),this[Sge](),this[kge]()}get peers(){return Array.from(this[Dw].values())}get peersConnected(){return this.peers.filter(t=>t.connected)}get peersConnecting(){return this.peers.filter(t=>!t.connected)}getPeersByTopic(t){return d0(b.Buffer.isBuffer(t),"topic is required"),this.peers.filter(r=>r.topic.equals(t))}async join(t){d0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open();let r=await this.rpc.call("join",this._buildMessage({topic:t}));return this.emit("join",t,r),r}async leave(t){d0(!t||b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open(),await this.rpc.call("leave",this._buildMessage({topic:t})),this.emit("leave",t)}async lookup(t){d0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),await this.open();let r=await this.rpc.call("lookup",this._buildMessage({topic:t}));return this.emit("lookup",t,r),r}connect(t,r,n={}){d0(b.Buffer.isBuffer(t)&&t.length===32,"topic must be a Buffer of 32 bytes"),d0(b.Buffer.isBuffer(r)&&r.length===32,"peerId must be a Buffer of 32 bytes");let{metadata:i,simplePeer:s={}}=n,o=this[XP]({initiator:!0,sessionId:wge.randomBytes(32),id:r,topic:t,localMetadata:i,simplePeer:s});return this[$P](o),o}onIncomingPeer(t){return this._onIncomingPeer=t,this}onOffer(t){return this._onOffer=t,this}onAnswer(t){return this._onAnswer=t,this}closeConnectionsByTopic(t){return Promise.all(this.getPeersByTopic(t).map(r=>new Promise(n=>r.close(()=>n()))))}async _onIncomingPeer(){}async _onOffer(t){}async _onAnswer(t){}async _open(){await this.rpc.open()}async _close(){this[KP].kill(),await this.rpc.close(),await Promise.all(this.peers.map(t=>new Promise(r=>t.close(()=>r()))))}_buildMessage(t){let{localMetadata:r={},...n}=t,i=this.metadata||{};return r&&(i={...i,...r}),{...n,id:this.id,metadata:i}}[Sge](){this.rpc.actions({offer:async t=>{let r=await this._onOffer(t);d0(!r||typeof r=="object");let n=this[XP]({initiator:!1,sessionId:t.sessionId,id:t.id,topic:t.topic,metadata:t.metadata,localMetadata:r&&r.metadata,simplePeer:r&&r.simplePeer});return this[$P](n,t.data),Qot(n,"answer",{rejectionEvents:["error","closed"]})}})}[kge](){this.rpc.on("signal",t=>{let{sessionId:r,data:n=[]}=t,i=this[Dw].get(r.toString("hex"));!i||i.destroyed||n.forEach(s=>i.stream.signal(s))})}[$P](t,r){let n=t.sessionId.toString("hex");this[Dw].set(n,t),t.once("close",()=>{this[Dw].delete(n)}),t.once("error",i=>{this.emit("peer-error",i,t)}),this[KP].push({peer:t,data:r},i=>{if(i||this.closing||this.closed)return _.default.nextTick(()=>t.destroy(i));this.emit("peer-connected",t)}),this.emit("peer-queue",t)}[XP](t){t=Object.assign({},t,{onSignal:(n,i)=>this[Cge](n,i),simplePeer:Object.assign({},this.simplePeer,t.simplePeer),timeout:this.requestTimeout});let r;return typeof this.simplePeer=="function"&&(r=this.simplePeer(Ege,t)),r=new Ege(t),r}async[Cge](t,r){if(t.destroyed||t.connected&&!t.subscribeMediaStream)return;let n=a(()=>this._buildMessage({remoteId:t.id,topic:t.topic,sessionId:t.sessionId,data:r,localMetadata:t.localMetadata}),"payload");if(!t.connected){let i=r[0].type;if(i==="offer"){let s=await this.rpc.call("offer",n());await this._onAnswer(s),s.data.forEach(o=>t.stream.signal(o)),t.metadata=s.metadata;return}if(i==="answer")return await this._onIncomingPeer(t),t.emit("answer",n())}await this.rpc.emit("signal",n())}};a(Y7,"SocketSignalClient");Ige.exports=Y7});var ZP=j((Gpr,Lge)=>{d();var jot=Rd(),Mge=QP(),{NanoresourcePromise:Got}=Sw(),JP=Hc()("socketsignal:server"),Bge=Symbol("socketsignal.defineactions"),Rge=Symbol("socketsignal.defineevents"),H7=class extends Got{constructor(t={}){super();let{onConnect:r,onDisconnect:n,onJoin:i,onLeave:s,onLookup:o,onOffer:l,onSignal:u,requestTimeout:f=10*1e3,...h}=t;r&&(this._onConnect=r),n&&(this._onDisconnect=n),i&&(this._onJoin=i),s&&(this._onLeave=s),o&&(this._onLookup=o),l&&(this._onOffer=l),u&&(this._onSignal=u),this._requestTimeout=f,this._rpcOpts=h,this.connections=new Set}async addSocket(t){await this.open();let r=Mge({timeout:this._requestTimeout,...this._rpcOpts,...Mge.useSocket(t)});this[Bge](r),this[Rge](r),r.id=jot.randomBytes(32),r.socket=t;let n=a(()=>{if(this.connections.delete(r))return JP("connection-deleted",r.id.toString("hex")),this._onDisconnect(r)},"deleteConnection");r.ee.on("closed",n),r.ee.on("error",i=>this.emit("connection-error",i,r)),await r.open();try{JP("connection-added",r.id.toString("hex")),await this._onConnect(r),this.connections.add(r)}catch(i){r.closed().then(n).catch(n).finally(()=>{this.emit("connection-error",i,r)})}return r}async _open(){}async _close(){await Promise.all(Array.from(this.connections.values()).map(t=>t.close()))}async _onConnect(){}async _onDisconnect(){}async _onJoin(){}async _onLeave(){}async _onLookup(){}async _onOffer(){}async _onSignal(){}[Bge](t){t.actions({join:(r={})=>this._onJoin(t,r),leave:(r={})=>this._onLeave(t,r),offer:(r={})=>this._onOffer(t,r),lookup:(r={})=>this._onLookup(t,r)})}[Rge](t){t.on("signal",async(r={})=>{try{await this._onSignal(t,r)}catch(n){JP("signal error",n)}})}};a(H7,"SocketSignalServer");Lge.exports=H7});var Nge=j((Xpr,Dge)=>{d();var Kot=ZP(),{ERR_PEER_NOT_FOUND:$ot}=F7(),A2=Hc()("socket-signal:server-map"),z7=class extends Kot{constructor(t={}){super(t),this._peersByTopic=new Map}addPeer(t,r,n){let i=n.toString("hex"),s=r.toString("hex"),o=this._peersByTopic.get(i)||new Map;o.set(s,{rpc:t,id:r}),this._peersByTopic.set(i,o)}deletePeer(t,r){let n=t.toString("hex");if(!r){this._peersByTopic.forEach((s,o)=>{s.delete(n)&&A2("peer-leave",n+" from "+o)});return}let i=r.toString("hex");this._peersByTopic.has(i)&&this._peersByTopic.get(i).delete(n)&&A2("peer-leave",n+" from "+i)}getPeers(t){let r=t.toString("hex");return this._peersByTopic.has(r)?Array.from(this._peersByTopic.get(r).values()).map(n=>n.id):[]}findPeer(t,r){let n=t.toString("hex"),i=this._peersByTopic.get(r.toString("hex"));if(!i||!i.has(n))throw new $ot(n);return i.get(n)}async _onDisconnect(t){let r;this._peersByTopic.forEach(n=>{for(let[i,s]of n)if(s.rpc===t){r=s.id,n.delete(i);break}}),r&&A2("peer-disconnected",r.toString("hex"))}async _onJoin(t,r){return this.addPeer(t,r.id,r.topic),A2("peer-join",r.id.toString("hex")+" in "+r.topic.toString("hex")),this.getPeers(r.topic)}async _onLeave(t,r){this.deletePeer(r.id,r.topic)}async _onOffer(t,r){let n=this.findPeer(r.remoteId,r.topic);return A2(`peer-offer ${r.id.toString("hex")} -> ${r.remoteId.toString("hex")}`),n.rpc.call("offer",r)}async _onLookup(t,r){return this.getPeers(r.topic)}async _onSignal(t,r){let n=this.findPeer(r.remoteId,r.topic);A2(`peer-signal ${r.id.toString("hex")} -> ${r.remoteId.toString("hex")}`),n.rpc.emit("signal",r).catch(()=>{})}};a(z7,"SocketSignalServerMap");Dge.exports=z7});var qge=j((e1r,Oge)=>{d();Oge.exports={SocketSignalClient:Tge(),SocketSignalServer:ZP(),SocketSignalServerMap:Nge(),Peer:GP(),SignalBatch:jP(),errors:F7()}});var Yge=j((r1r,Uge)=>{"use strict";d();var eF=a(function(e,t){return eF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},eF(e,t)},"extendStatics");function Pge(e,t){eF(e,t);function r(){this.constructor=e}a(r,"__"),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}a(Pge,"__extends");function Xot(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}a(Xot,"__values");function Jot(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}a(Jot,"__read");function Zot(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jot(arguments[t]));return e}a(Zot,"__spread");var Fge=function(){function e(t,r){this.target=r,this.type=t}return a(e,"Event"),e}(),ect=function(e){Pge(t,e);function t(r,n){var i=e.call(this,"error",n)||this;return i.message=r.message,i.error=r,i}return a(t,"ErrorEvent"),t}(Fge),tct=function(e){Pge(t,e);function t(r,n,i){r===void 0&&(r=1e3),n===void 0&&(n="");var s=e.call(this,"close",i)||this;return s.wasClean=!0,s.code=r,s.reason=n,s}return a(t,"CloseEvent"),t}(Fge);var rct=a(function(){if(typeof WebSocket<"u")return WebSocket},"getGlobalWebSocket"),nct=a(function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},"isWebSocket"),V1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},ict=function(){function e(t,r,n){var i=this;n===void 0&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(s){i._debug("open event");var o=i._options.minUptime,l=o===void 0?V1.minUptime:o;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},l),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(u){return i._ws.send(u)}),i._messageQueue=[],i.onopen&&i.onopen(s),i._listeners.open.forEach(function(u){return i._callEventListener(s,u)})},this._handleMessage=function(s){i._debug("message event"),i.onmessage&&i.onmessage(s),i._listeners.message.forEach(function(o){return i._callEventListener(s,o)})},this._handleError=function(s){i._debug("error event",s.message),i._disconnect(void 0,s.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(s),i._debug("exec error listeners"),i._listeners.error.forEach(function(o){return i._callEventListener(s,o)}),i._connect()},this._handleClose=function(s){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(s),i._listeners.close.forEach(function(o){return i._callEventListener(s,o)})},this._url=t,this._protocols=r,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return a(e,"ReconnectingWebSocket"),Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(r,n){return typeof n=="string"?r+=n.length:n instanceof Blob?r+=n.size:r+=n.byteLength,r},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,r){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,r)},e.prototype.reconnect=function(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,r),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var r=this._options.maxEnqueuedMessages,n=r===void 0?V1.maxEnqueuedMessages:r;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,r){this._listeners[t]&&this._listeners[t].push(r)},e.prototype.dispatchEvent=function(t){var r,n,i=this._listeners[t.type];if(i)try{for(var s=Xot(i),o=s.next();!o.done;o=s.next()){var l=o.value;this._callEventListener(t,l)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!0},e.prototype.removeEventListener=function(t,r){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(n){return n!==r}))},e.prototype._debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._options.debug&&console.log.apply(console,Zot(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,r=t.reconnectionDelayGrowFactor,n=r===void 0?V1.reconnectionDelayGrowFactor:r,i=t.minReconnectionDelay,s=i===void 0?V1.minReconnectionDelay:i,o=t.maxReconnectionDelay,l=o===void 0?V1.maxReconnectionDelay:o,u=0;return this._retryCount>0&&(u=s*Math.pow(n,this._retryCount-1),u>l&&(u=l)),this._debug("next delay",u),u},e.prototype._wait=function(){var t=this;return new Promise(function(r){setTimeout(r,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var r=this._options,n=r.maxRetries,i=n===void 0?V1.maxRetries:n,s=r.connectionTimeout,o=s===void 0?V1.connectionTimeout:s,l=r.WebSocket,u=l===void 0?rct():l;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!nct(u))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(f){t._closeCalled||(t._debug("connect",{url:f,protocols:t._protocols}),t._ws=t._protocols?new u(f,t._protocols):new u(f),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},o))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new ect(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,r){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,r),this._handleClose(new tct(t,r,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,r){"handleEvent"in r?r.handleEvent(t):r(t)},e.prototype._removeListeners=function(){!this._ws||(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){!this._ws||(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();Uge.exports=ict});var zge=j((a1r,Hge)=>{d();var act=Rpe(),sct=F1(),oct=Dpe(),cct=Ppe(),{SocketSignalClient:lct}=qge(),tF=Hc()("socket-signal:websocket-client"),uct=a(e=>{let t=0;return()=>{let r=e[t++%e.length];return tF("url provider",r),r}},"defaultUrlProvider"),Q7=Yge();Q7.default&&(Q7=Q7.default);var E2=class extends lct{static createSocket(t,r={}){sct(Array.isArray(t)||typeof t=="function","must be an array or a function");let{simpleWebsocket:n={},reconnectingWebsocket:i={}}=r;Array.isArray(t)&&(t=uct(t)),i.WebSocket||(i.WebSocket=oct);let s=new Q7(t,i.protocols,i),o=new act({socket:s,...n}),l=s.onopen,u=s.onclose,f=s.onerror;return s.onopen=h=>{o._chunk&&!o._cb&&(o._cb=()=>{}),l(h)},s.onclose=h=>{tF("socket close",{shouldReconnect:s._shouldReconnect,ev:h}),s._shouldReconnect?o.connected=!1:u(h)},s.onerror=h=>{tF("socket error",{shouldReconnect:s._shouldReconnect,ev:h}),s._shouldReconnect?o.connected=!1:f(h)},{ws:s,socket:o}}constructor(t,r={}){let{heartbeat:n=!1,simpleWebsocket:i,reconnectingWebsocket:s,onSocket:o=a(p=>p,"onSocket"),...l}=r,{ws:u,socket:f}=E2.createSocket(t,{simpleWebsocket:i,reconnectingWebsocket:s});super(o(f),l),this._ws=u,this._heartbeat=n,this._lastPing=0;let h=!1;this.socket.on("connect",()=>{this.emit("connected",h),h=!0})}get connected(){return this._ws.readyState===this._ws.OPEN}get lastPing(){return this._lastPing}async _open(){return this._heartbeat&&this._startHeartbeat(this._heartbeat),super._open()}async _startHeartbeat(t={}){let{interval:r=10*1e3,timeout:n=5*1e3}=typeof t=="boolean"?{}:t;for(;!(this.closed||this.closing);)if(await cct(r),this.connected&&this.opened){let i=await this.rpc.call("__ping__",{time:Date.now()},{timeout:n}).catch(s=>{if(this.emit("ping-error",s),!(this.closed||this.closing)&&s.code==="NMSG_ERR_TIMEOUT")return this._ws.reconnect()});i&&(this.emit("ping",i.time),this._lastPing=i.time)}}};a(E2,"SocketSignalWebsocketClient");Hge.exports=E2});var Wge=j((c1r,Qge)=>{d();Qge.exports={SocketSignalWebsocketClient:zge()}});var jge=j((u1r,rF)=>{"use strict";d();var fct=a((e,t)=>Math.floor(Math.random()*(t-e+1)+e),"randomInteger"),Vge=a(()=>{let e=new Error("Delay aborted");return e.name="AbortError",e},"createAbortError"),W7=a(({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(Vge());let o,l,u,f=e||clearTimeout,h=a(()=>{f(o),u(Vge())},"signalListener"),p=a(()=>{s&&s.removeEventListener("abort",h)},"cleanup"),g=new Promise((y,E)=>{l=a(()=>{p(),r?y(i):E(i)},"settle"),u=E,o=(t||setTimeout)(l,n)});return s&&s.addEventListener("abort",h,{once:!0}),g.clear=()=>{f(o),o=null,l()},g},"createDelay"),S2=W7({willResolve:!0});S2.reject=W7({willResolve:!1});S2.range=(e,t,r)=>S2(fct(e,t),r);S2.createWithTimers=({clearTimeout:e,setTimeout:t})=>{let r=W7({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=W7({clearTimeout:e,setTimeout:t,willResolve:!1}),r};rF.exports=S2;rF.exports.default=S2});var Kge=j((d1r,Gge)=>{d();var hct=p2();Gge.exports=a(function(t,r={}){return new Promise((n,i)=>{function s(o){o?i(o):n()}a(s,"cb"),hct(t,r,s)})},"eosp")});var Xge=j((y1r,$ge)=>{d();$ge.exports=V7;V7.defer=nF;function V7(e){return e==null&&(e=w.Promise),this instanceof V7?nF(e,this):nF(e,Object.create(V7.prototype))}a(V7,"Deferred");function nF(e,t){return t.promise=new e(function(r,n){t.resolve=r,t.reject=n}),t}a(nF,"defer")});var Zge=j((v1r,Jge)=>{d();Jge.exports=function(e){if(!Array.isArray(e))throw"C'mon pal. You gotta feed this thing *arrays*!";let t=[],r=e.slice();for(;r.length;){let n=Math.floor(Math.random()*r.length);t.push(r.splice(n,1)[0])}return t}});var tye=j((x1r,eye)=>{d();eye.exports=p0;function p0(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var r=b.Buffer.allocUnsafe(e.length),n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}a(p0,"dist");p0.compare=a(function(t,r){if(t.length!==r.length)throw new Error("Inputs should have the same length");for(var n=0;n<t.length;n++)if(t[n]!==r[n])return t[n]<r[n]?-1:1;return 0},"compare");p0.gt=a(function(t,r){return p0.compare(t,r)===1},"gt");p0.lt=a(function(t,r){return p0.compare(t,r)===-1},"lt");p0.eq=a(function(t,r){return p0.compare(t,r)===0},"eq")});var nye=j((E1r,iF)=>{"use strict";d();var dct=Object.prototype.hasOwnProperty,Zs="~";function Nw(){}a(Nw,"Events");Object.create&&(Nw.prototype=Object.create(null),new Nw().__proto__||(Zs=!1));function pct(e,t,r){this.fn=e,this.context=t,this.once=r||!1}a(pct,"EE");function rye(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new pct(r,n||e,i),o=Zs?Zs+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}a(rye,"addListener");function j7(e,t){--e._eventsCount===0?e._events=new Nw:delete e._events[t]}a(j7,"clearEvent");function Ms(){this._events=new Nw,this._eventsCount=0}a(Ms,"EventEmitter");Ms.prototype.eventNames=a(function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)dct.call(r,n)&&t.push(Zs?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t},"eventNames");Ms.prototype.listeners=a(function(t){var r=Zs?Zs+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},"listeners");Ms.prototype.listenerCount=a(function(t){var r=Zs?Zs+t:t,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Ms.prototype.emit=a(function(t,r,n,i,s,o){var l=Zs?Zs+t:t;if(!this._events[l])return!1;var u=this._events[l],f=arguments.length,h,p;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(p=1,h=new Array(f-1);p<f;p++)h[p-1]=arguments[p];u.fn.apply(u.context,h)}else{var g=u.length,y;for(p=0;p<g;p++)switch(u[p].once&&this.removeListener(t,u[p].fn,void 0,!0),f){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,r);break;case 3:u[p].fn.call(u[p].context,r,n);break;case 4:u[p].fn.call(u[p].context,r,n,i);break;default:if(!h)for(y=1,h=new Array(f-1);y<f;y++)h[y-1]=arguments[y];u[p].fn.apply(u[p].context,h)}}return!0},"emit");Ms.prototype.on=a(function(t,r,n){return rye(this,t,r,n,!1)},"on");Ms.prototype.once=a(function(t,r,n){return rye(this,t,r,n,!0)},"once");Ms.prototype.removeListener=a(function(t,r,n,i){var s=Zs?Zs+t:t;if(!this._events[s])return this;if(!r)return j7(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&j7(this,s);else{for(var l=0,u=[],f=o.length;l<f;l++)(o[l].fn!==r||i&&!o[l].once||n&&o[l].context!==n)&&u.push(o[l]);u.length?this._events[s]=u.length===1?u[0]:u:j7(this,s)}return this},"removeListener");Ms.prototype.removeAllListeners=a(function(t){var r;return t?(r=Zs?Zs+t:t,this._events[r]&&j7(this,r)):(this._events=new Nw,this._eventsCount=0),this},"removeAllListeners");Ms.prototype.off=Ms.prototype.removeListener;Ms.prototype.addListener=Ms.prototype.on;Ms.prefixed=Zs;Ms.EventEmitter=Ms;typeof iF<"u"&&(iF.exports=Ms)});var iye=j(aF=>{"use strict";d();Object.defineProperty(aF,"__esModule",{value:!0});function gct(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}a(gct,"lowerBound");aF.default=gct});var aye=j(sF=>{"use strict";d();Object.defineProperty(sF,"__esModule",{value:!0});var yct=iye(),G7=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=yct.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};a(G7,"PriorityQueue");sF.default=G7});var oye=j(oF=>{"use strict";d();Object.defineProperty(oF,"__esModule",{value:!0});var mct=nye(),sye=bP(),bct=aye(),K7=a(()=>{},"empty"),vct=new sye.TimeoutError,$7=class extends mct{constructor(t){var r,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=K7,this._resolveIdle=K7,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:bct.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=K7,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=K7,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=a(async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():sye.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(vct)});n(await o)}catch(o){i(o)}this._next()},"run");this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};a($7,"PQueue");oF.default=$7});var lye=j((q1r,cye)=>{d();var _ct=jge(),xct=Kge(),wct=Xge(),Act=Zge(),cF=tye(),Ect=oye().default,Sct=ea(),kct=10,Cct=.33,Ict=1e3,Tct=4;cye.exports=a(class extends Sct{constructor({id:t,lookup:r,connect:n,sampleSize:i=kct,percentFar:s=Cct,maxPeers:o=Tct,lookupTimeout:l=Ict,queueTimeout:u=l+2*1e3}){if(super(),this.id=t,this._lookup=r,this._connect=n,this.sampleSize=i,this.percentFar=s,this.maxPeers=o,l>u)throw new Error("queueTimeout must be higher than lookupTimeout");this.lookupTimeout=l,this.queue=new Ect({concurrency:1,timeout:u}),this.connectedPeers=new Set,this.hasConnectedFar=!1,this.destroyed=!1}shouldHandleIncoming(){return this.connectedPeers.size<this.maxPeers}handleIncoming(t,r){if(!this.shouldHandleIncoming()){r.close();return}this.addConnection(t,r)}addConnection(t,r,n){let i=t.toString("hex");this.connectedPeers.add(i),r.once("close",()=>{this.connectedPeers.delete(i),(n||this.connectedPeers.size===0)&&this.queue.add(()=>this.run())})}async run(){if(!this.shouldHandleIncoming()||this.destroyed)return;let t=[],r=this._lookup(),n=wct(),i=Promise.race([xct(r),_ct(this.lookupTimeout),n.promise]);if(r.on("data",u=>{t.push(...u),t.length>=this.sampleSize&&n.resolve()}),await i,this.destroyed)return;let s=t.slice();s.length>this.sampleSize&&(s=Act(t).slice(0,this.sampleSize)),s.sort((u,f)=>cF.gt(cF(this.id,u),cF(this.id,f)));let o=!1;for(let u of s){if(this.destroyed)return;let f=u.toString("hex");if(!this.connectedPeers.has(f))try{let h=await this._connect(u);o=!0,this.addConnection(u,h,!0);break}catch{}}if(!o){this.emit("nopeers");return}if(!(this.hasConnectedFar||this.connectedPeers.size>=this.maxPeers||Math.random()>this.percentFar)){s.reverse();for(let u of s){if(this.destroyed)return;let f=u.toString("hex");if(!this.connectedPeers.has(f))try{let h=await this._connect(u);this.addConnection(u,h,!0),this.hasConnectedFar=!0,h.once("close",()=>{this.hasConnectedFar=!1});break}catch{}}}}async destroy(){this.destroyed=!0}},"MMST")});var lF=j((U1r,uye)=>{d();var Mct=a(e=>{if(typeof e=="string")return e;if(b.Buffer.isBuffer(e))return e.toString("hex");throw new Error("Cannot convert the buffer to hex: ",e)},"toHex"),Bct=a(e=>{if(b.Buffer.isBuffer(e))return e;if(typeof e=="string")return b.Buffer.from(e,"hex");throw new Error("Cannot convert the string to buffer: ",e)},"toBuffer"),Rct=a(()=>{let e,t=new Promise((r,n)=>{e=a((i,s)=>{i?n(i):r(s)},"callback")});return e.promise=t,e},"callbackPromise"),Lct=a((e,t)=>(e.then||(e=Promise.resolve()),e.then(r=>t(null,r)).catch(t)),"resolveCallback");uye.exports={toHex:Mct,toBuffer:Bct,callbackPromise:Rct,resolveCallback:Lct}});var fF=j(fye=>{d();var Dct=Cw();function uF(e,t){fye[e]=Dct(e,t)}a(uF,"createError");uF("ERR_MAX_PEERS_REACHED","max peers reached: %s");uF("ERR_INVALID_CHANNEL","invalid channel: %s");uF("ERR_CONNECTION_DUPLICATED","connection duplicated: %s -> %s")});var dye=j((j1r,hye)=>{d();var Nct=a(e=>{let t,r=!1,n=new Promise((i,s)=>{let o=setTimeout(()=>{r=!0,i()},e);t=a(()=>{r||(clearTimeout(o),s(new Error("timeout")))},"cancel")});return n.cancel=t,n},"delay"),X7=class{constructor(t){this._fn=t,this._stop=!1,this.run()}run(){(async()=>{for(;!this._stop;){if(this._time=Nct(Math.floor(Math.random()*11)*1e3),await this._time,this._stop)return;await this._fn()}})().catch(()=>{})}stop(){this._time&&this._time.cancel(),this._stop=!0}};a(X7,"Task");hye.exports=a(class{constructor(){this._tasks=new Map}add(t,r){this._tasks.set(t,new X7(r))}delete(t){let r=this._tasks.get(t);r&&r.stop(),this._tasks.delete(t)}clear(){this._tasks.forEach(t=>{t.stop()}),this._tasks.clear()}},"Scheduler")});var bye=j((X1r,mye)=>{d();var{SocketSignalWebsocketClient:Oct}=Wge(),qct=lye(),yye=F1(),{Readable:Pct}=A_(),pye=Hc()("discovery-swarm-webrtc:mmst-signal"),{toHex:j1}=lF(),{ERR_INVALID_CHANNEL:Fct,ERR_MAX_PEERS_REACHED:Uct}=fF(),Yct=dye(),gye=a(e=>yye(b.Buffer.isBuffer(e)&&e.length===32,"Channel must be a buffer of 32 bytes"),"assertChannel"),Ow=Symbol("mmstsignal.onconnected"),qw=Symbol("mmstsignal.getcandidates");mye.exports=a(class extends Oct{constructor(t={}){let{bootstrap:r,createConnection:n,mmstOpts:i={},strict:s=!0,...o}=t;super(r,o),this._createConnection=n,this._mmstOpts=i,this._strict=s,this._channels=new Map,this._mmsts=new Map,this._candidates=new Map,this._scheduler=new Yct,this[Ow]=this[Ow].bind(this)}join(t){gye(t);let r=j1(t);if(!this._channels.has(r)){this._channels.set(r,t);let n={id:this.id,lookup:()=>this._lookup(t),connect:async s=>{await this.open();try{let o=this.connect(t,s);return this._runCreateConnection(o),await o.ready(),o.stream}catch(o){let l=this[qw](t);throw l.list=l.list.filter(u=>!u.equals(s)),l.list.length===0&&(l.lookup=!0),o}}},i;typeof this._mmstOpts=="function"?i=this._mmstOpts(n):i=new qct({...this._mmstOpts,...n}),this._mmsts.set(r,i)}this.connected&&super.join(t).catch(()=>{})}async leave(t){gye(t);let r=j1(t);this._scheduler.delete(r),this._mmsts.get(r).destroy(),this._mmsts.delete(r),this._channels.delete(r),this._candidates.delete(r),await super.leave(t),await super.closeConnectionsByTopic(t)}async _open(){this.on("connected",this[Ow]),this.on("join",async(t,r)=>{pye("discover",{channel:t}),this.hasChannel(t)&&(await this._updateCandidates(t,r),await this._run(t),this._scheduler.add(t.toString("hex"),async()=>{let n=this[qw](t);(n.list.length===0||this.getPeersByTopic(t).length===0)&&(n.lookup=!0,await this._updateCandidates(t),await this._run(t))}))}),this.onIncomingPeer(t=>this._runCreateConnection(t)),await super._open()}hasChannel(t){return this._channels.has(j1(t))}_runCreateConnection(t){if(!this.hasChannel(t.topic))throw new Fct(j1(t.topic));let r=this._getMMST(t.topic);if(this._strict&&!t.initiator&&!r.shouldHandleIncoming())throw new Uct(this._mmstOpts.maxPeers);return this._createConnection(t),t.initiator||r.addConnection(t.id,t.stream),t}async _close(){await super._close(),this.removeListener("connected",this[Ow]),this._mmsts.forEach(t=>t.destroy()),this._mmsts.clear(),this._channels.clear(),this._candidates.clear(),this._scheduler.clear()}async _run(t){if(!!this.connected&&!(this.getPeersByTopic(t).filter(r=>r.initiator).length>0))try{this.hasChannel(t)&&await this._getMMST(t).run()}catch(r){pye("run error",r.message)}}_getMMST(t){return this._mmsts.get(j1(t))}_lookup(t){let r=new Pct({read(){},objectMode:!0});return this._updateCandidates(t).finally(()=>{r.push(this[qw](t).list),r.push(null)}),r}async[Ow](t){this._channels.forEach(r=>super.join(r).catch(()=>{}))}async _updateCandidates(t,r){let n=this[qw](t),i=n.list;if(r)i=r;else if(n.lookup){n.lookup=!1;try{i=await this.lookup(t)}catch{}}n.list=i.filter(s=>!s.equals(this.id)),this.emit("candidates-updated",t,i)}[qw](t){yye(b.Buffer.isBuffer(t));let r=this._candidates.get(j1(t));return r||(r={list:[],lookup:!1},this._candidates.set(j1(t),r),r)}},"MMSTSignal")});var wye=j((egr,hF)=>{d();var{EventEmitter:Hct}=ea(),zct=Rd(),Pw=F1(),Qct=dP(),k2=Hc()("discovery-swarm-webrtc"),Wct=bye(),{toHex:J7,callbackPromise:vye,resolveCallback:_ye}=lF(),xye=fF(),{ERR_CONNECTION_DUPLICATED:Vct}=xye,jct=a(e=>Pw(b.Buffer.isBuffer(e)&&e.length===32,"Channel must be a buffer of 32 bytes"),"assertChannel"),Z7=class extends Hct{constructor(t={}){super(),k2("opts",t);let{id:r=zct.randomBytes(32),bootstrap:n,stream:i,simplePeer:s,maxPeers:o=5,timeout:l=15*1e3,signal:u,mmst:f={}}=t;Pw(Array.isArray(n)&&n.length>0,"The `bootstrap` options is required."),Pw(b.Buffer.isBuffer(r)&&r.length===32,"The `id` option needs to be a Buffer of 32 bytes."),this.id=r;let h=l*2,p={id:this.id,bootstrap:n,createConnection:g=>this._createConnection(g),requestTimeout:l,simplePeer:s,reconnectingWebsocket:{connectionTimeout:l}};this.signal=u?u(p,this):new Wct({...p,mmstOpts:{maxPeers:o,queueTimeout:h,lookupTimeout:l,...f}}),this._maxPeers=o,this._stream=i,this._destroyed=!1,this._initialize(t)}get connected(){return this.signal.peersConnected}get connecting(){return this.signal.peersConnecting}listen(){}getPeers(t){return t?this.signal.getPeersByTopic(t).filter(r=>r.connected):this.signal.peersConnected}join(t){this.signal.join(t)}leave(t,r=vye()){return jct(t),_ye(this.signal.leave(t),r),r.promise}close(t=vye()){return _ye(this._close(),t),t.promise}async connect(t,r){Pw(t&&b.Buffer.isBuffer(t),"channel must be a buffer"),Pw(r&&b.Buffer.isBuffer(r),"peerId must be a buffer");let n=this.signal.connect(t,r);return n.subscribeMediaStream=!0,await n.ready(),n.stream}async _close(){this._destroyed||(this._destroyed=!0,await this.signal.close(),this.emit("close"))}_initialize(){let t=this.signal;this.on("error",(...r)=>k2("error",...r)),t.on("peer-error",r=>this.emit("error",r)),t.on("error",r=>this.emit("error",r)),t.open().catch(r=>_.default.nextTick(()=>this.emit("error",r))),t.on("candidates-updated",(...r)=>this.emit("candidates-updated",...r))}_createConnection(t){t.subscribeMediaStream=!0,t.channel=t.topic,t.getInfo=()=>({id:t.id,channel:t.topic,initiator:t.initiator}),t.printInfo=()=>({id:J7(t.id),channel:J7(t.topic),initiator:t.initiator}),k2("createConnection",{info:t.printInfo()});try{let r=this._checkForDuplicate(t);if(r){if(r===t)throw new Vct(J7(this.id),J7(t.id));r.destroy()}return this._bindSocketEvents(t),t}catch(r){throw this.emit("connect-failed",r,t.getInfo()),r}}_bindSocketEvents(t){let r=t.getInfo();t.on("error",n=>{k2("error",n),this.emit("connection-error",n,r)}),t.on("connect",()=>{if(k2("connect",{peer:t}),t.stream.destroyed)return;if(!this._stream){this._handleConnection(t.stream,r);return}let n=this._stream(r);if(!n){this._handleConnection(t.stream,r);return}this.emit("handshaking",n,r),n.on("handshake",this._handshake.bind(this,n,r)),Qct(t.stream,n,t.stream)}),t.on("close",()=>{k2("close",{peer:t}),this.emit("connection-closed",t.stream,r)})}_handshake(t,r){this._handleConnection(t,r)}_handleConnection(t,r){this.emit("connection",t,r)}_checkForDuplicate(t){let r=this.signal.getPeersByTopic(t.channel).find(s=>s.id.equals(t.id)&&!s.sessionId.equals(t.sessionId));if(!r)return;let n=[t,r];if(t.initiator&&r.initiator||!t.initiator&&!r.initiator)return n.sort((s,o)=>b.Buffer.compare(s.sessionId,o.sessionId))[0];let i=[this.id,t.id].sort(b.Buffer.compare)[0];return n.find(s=>s.id.equals(i))}};a(Z7,"DiscoverySwarmWebrtc");hF.exports=(...e)=>new Z7(...e);hF.exports.errors=xye});var Sye=j((ngr,Eye)=>{d();var dF=gh(),Aye=Tp(),Gct=kr(),ek=b.Buffer.allocUnsafe(10*1024),C2=0,I2=a(function(){if(!(this instanceof I2))return new I2;Aye.Transform.call(this),this._destroyed=!1},"Encoder");Gct(I2,Aye.Transform);I2.prototype._transform=function(e,t,r){if(this._destroyed)return r();dF.encode(e.length,ek,C2),C2+=dF.encode.bytes,this.push(ek.slice(C2-dF.encode.bytes,C2)),this.push(e),ek.length-C2<100&&(ek=b.Buffer.allocUnsafe(10*1024),C2=0),r()};I2.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))};Eye.exports=I2});var Tye=j((sgr,Iye)=>{d();var kye=gh(),Cye=Tp(),Kct=kr(),Qu=a(function(e){if(!(this instanceof Qu))return new Qu(e);Cye.Transform.call(this),this._destroyed=!1,this._missing=0,this._message=null,this._limit=e&&e.limit||0,this._allowEmpty=!!(e&&e.allowEmpty),this._prefix=b.Buffer.allocUnsafe(this._limit?kye.encodingLength(this._limit):100),this._ptr=0,this._allowEmpty&&(this._readableState.highWaterMark=16,this._readableState.objectMode=!0)},"Decoder");Kct(Qu,Cye.Transform);Qu.prototype._push=function(e){this._ptr=0,this._missing=0,this._message=null,this.push(e)};Qu.prototype._parseLength=function(e,t){for(t;t<e.length;t++){if(this._ptr>=this._prefix.length)return this._prefixError(e);if(this._prefix[this._ptr++]=e[t],!(e[t]&128))return this._missing=kye.decode(this._prefix),this._limit&&this._missing>this._limit?this._prefixError(e):(!this._missing&&this._allowEmpty&&this._push(b.Buffer.alloc(0)),this._ptr=0,t+1)}return e.length};Qu.prototype._prefixError=function(e){return this.destroy(new Error("Message is larger than max length")),e.length};Qu.prototype._parseMessage=function(e,t){var r=e.length-t,n=this._missing;if(!this._message){if(n<=r)return this._push(e.slice(t,t+n)),t+n;this._message=b.Buffer.allocUnsafe(n)}return e.copy(this._message,this._ptr,t,t+n),n<=r?(this._push(this._message),t+n):(this._missing-=r,this._ptr+=r,e.length)};Qu.prototype._transform=function(e,t,r){for(var n=0;!this._destroyed&&n<e.length;)this._missing?n=this._parseMessage(e,n):n=this._parseLength(e,n);r()};Qu.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))};Iye.exports=Qu});var Mye=j(pF=>{d();pF.encode=Sye();pF.decode=Tye()});var Dye=j((fgr,Lye)=>{d();Lye.exports=Rye;var Bye=128,$ct=127,Xct=~$ct,Jct=Math.pow(2,31);function Rye(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Jct;)t[r++]=e&255|Bye,e/=128;for(;e&Xct;)t[r++]=e&255|Bye,e>>>=7;return t[r]=e|0,Rye.bytes=r-n+1,t}a(Rye,"encode")});var qye=j((pgr,Oye)=>{d();Oye.exports=gF;var Zct=128,Nye=127;function gF(e,n){var r=0,n=n||0,i=0,s=n,o,l=e.length;do{if(s>=l)throw gF.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Nye)<<i:(o&Nye)*Math.pow(2,i),i+=7}while(o>=Zct);return gF.bytes=s-n,r}a(gF,"read")});var Fye=j((mgr,Pye)=>{d();var elt=Math.pow(2,7),tlt=Math.pow(2,14),rlt=Math.pow(2,21),nlt=Math.pow(2,28),ilt=Math.pow(2,35),alt=Math.pow(2,42),slt=Math.pow(2,49),olt=Math.pow(2,56),clt=Math.pow(2,63);Pye.exports=function(e){return e<elt?1:e<tlt?2:e<rlt?3:e<nlt?4:e<ilt?5:e<alt?6:e<slt?7:e<olt?8:e<clt?9:10}});var Yye=j((vgr,Uye)=>{d();Uye.exports={encode:Dye(),decode:qye(),encodingLength:Fye()}});var Hye=j(tk=>{d();var Fw=gh();tk.encode=a(function e(t,r,n){t=t>=0?t*2:t*-2-1;var i=Fw.encode(t,r,n);return e.bytes=Fw.encode.bytes,i},"encode");tk.decode=a(function e(t,r){var n=Fw.decode(t,r);return e.bytes=Fw.decode.bytes,n&1?(n+1)/-2:n/2},"decode");tk.encodingLength=function(e){return Fw.encodingLength(e>=0?e*2:e*-2-1)}});var mF=j(qi=>{d();var Jn=Yye(),yF=Hye(),ga=r1();qi.make=tc;qi.name=function(e){for(var t=Object.keys(qi),r=0;r<t.length;r++)if(qi[t[r]]===e)return t[r];return null};qi.skip=function(e,t,r){switch(e){case 0:return Jn.decode(t,r),r+Jn.decode.bytes;case 1:return r+8;case 2:var n=Jn.decode(t,r);return r+Jn.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)};qi.bytes=tc(2,a(function e(t,r,n){var i=n,s=zye(t);return Jn.encode(s,r,n),n+=Jn.encode.bytes,ga.isBuffer(t)?ga.copy(t,r,n):ga.write(r,t,n,s),n+=s,e.bytes=n-i,r},"encode"),a(function e(t,r){var n=r,i=Jn.decode(t,r);r+=Jn.decode.bytes;var s=t.subarray(r,r+i);return r+=s.length,e.bytes=r-n,s},"decode"),a(function(t){var r=zye(t);return Jn.encodingLength(r)+r},"encodingLength"));qi.string=tc(2,a(function e(t,r,n){var i=n,s=ga.byteLength(t);return Jn.encode(s,r,n,"utf-8"),n+=Jn.encode.bytes,ga.write(r,t,n,s),n+=s,e.bytes=n-i,r},"encode"),a(function e(t,r){var n=r,i=Jn.decode(t,r);r+=Jn.decode.bytes;var s=ga.toString(t,"utf-8",r,r+i);return r+=i,e.bytes=r-n,s},"decode"),a(function(t){var r=ga.byteLength(t);return Jn.encodingLength(r)+r},"encodingLength"));qi.bool=tc(0,a(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r},"encode"),a(function e(t,r){var n=t[r]>0;return e.bytes=1,n},"decode"),a(function(){return 1},"encodingLength"));qi.int32=tc(0,a(function e(t,r,n){return Jn.encode(t<0?t+4294967296:t,r,n),e.bytes=Jn.encode.bytes,r},"encode"),a(function e(t,r){var n=Jn.decode(t,r);return e.bytes=Jn.decode.bytes,n>2147483647?n-4294967296:n},"decode"),a(function(t){return Jn.encodingLength(t<0?t+4294967296:t)},"encodingLength"));qi.int64=tc(0,a(function e(t,r,n){if(t<0){var i=n+9;for(Jn.encode(t*-1,r,n),n+=Jn.encode.bytes-1,r[n]=r[n]|128;n<i-1;)n++,r[n]=255;r[i]=1,e.bytes=10}else Jn.encode(t,r,n),e.bytes=Jn.encode.bytes;return r},"encode"),a(function e(t,r){var n=Jn.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;t[r+i-1]===255;)i--;i=i||9;var s=ga.allocUnsafe(i);ga.copy(t,s,0,r,r+i),s[i-1]=s[i-1]&127,n=-1*Jn.decode(s,0),e.bytes=10}else e.bytes=Jn.decode.bytes;return n},"decode"),a(function(t){return t<0?10:Jn.encodingLength(t)},"encodingLength"));qi.sint32=qi.sint64=tc(0,yF.encode,yF.decode,yF.encodingLength);qi.uint32=qi.uint64=qi.enum=qi.varint=tc(0,Jn.encode,Jn.decode,Jn.encodingLength);qi.fixed64=qi.sfixed64=tc(1,a(function e(t,r,n){return ga.copy(t,r,n),e.bytes=8,r},"encode"),a(function e(t,r){var n=t.subarray(r,r+8);return e.bytes=8,n},"decode"),a(function(){return 8},"encodingLength"));qi.double=tc(1,a(function e(t,r,n){return ga.writeDoubleLE(r,t,n),e.bytes=8,r},"encode"),a(function e(t,r){var n=ga.readDoubleLE(t,r);return e.bytes=8,n},"decode"),a(function(){return 8},"encodingLength"));qi.fixed32=tc(5,a(function e(t,r,n){return ga.writeUInt32LE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readUInt32LE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));qi.sfixed32=tc(5,a(function e(t,r,n){return ga.writeInt32LE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readInt32LE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));qi.float=tc(5,a(function e(t,r,n){return ga.writeFloatLE(r,t,n),e.bytes=4,r},"encode"),a(function e(t,r){var n=ga.readFloatLE(t,r);return e.bytes=4,n},"decode"),a(function(){return 4},"encodingLength"));function tc(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}a(tc,"encoder");function zye(e){return ga.isBuffer(e)?e.length:ga.byteLength(e)}a(zye,"bufferLength")});var Wye=j(vF=>{d();var T2=mF(),Qye=T2.varint,llt=T2.skip;vF.EventType={READY:1,JOIN:2,LEAVE:3,ON_STREAM_OPEN:4,ON_STREAM_CLOSE:5,ON_STREAM_DATA:6,ON_STREAM_ERROR:7,ON_PEER:8,CONNECT:9};var bF=vF.SwarmEvent={buffer:!0,encodingLength:null,encode:null,decode:null};ult();function ult(){var e=[T2.enum,T2.bytes,T2.string,T2.int32];bF.encodingLength=t,bF.encode=r,bF.decode=n;function t(i){var s=0;if(!Wu(i.type))throw new Error("type is required");var o=e[0].encodingLength(i.type);if(s+=1+o,Wu(i.topic)){var o=e[1].encodingLength(i.topic);s+=1+o}if(Wu(i.data)){var o=e[1].encodingLength(i.data);s+=1+o}if(Wu(i.peer)){var o=e[2].encodingLength(i.peer);s+=1+o}if(Wu(i.stream)){var o=e[3].encodingLength(i.stream);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!Wu(i.type))throw new Error("type is required");return s[o++]=8,e[0].encode(i.type,s,o),o+=e[0].encode.bytes,Wu(i.topic)&&(s[o++]=18,e[1].encode(i.topic,s,o),o+=e[1].encode.bytes),Wu(i.data)&&(s[o++]=26,e[1].encode(i.data,s,o),o+=e[1].encode.bytes),Wu(i.peer)&&(s[o++]=34,e[2].encode(i.peer,s,o),o+=e[2].encode.bytes),Wu(i.stream)&&(s[o++]=40,e[3].encode(i.stream,s,o),o+=e[3].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={type:1,topic:null,data:null,peer:"",stream:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=Qye.decode(i,s);s+=Qye.decode.bytes;var p=h>>3;switch(p){case 1:u.type=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.topic=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 3:u.data=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:u.peer=e[2].decode(i,s),s+=e[2].decode.bytes;break;case 5:u.stream=e[3].decode(i,s),s+=e[3].decode.bytes;break;default:s=llt(h&7,i,s)}}}a(n,"decode")}a(ult,"defineSwarmEvent");function Wu(e){return e!=null&&(typeof e!="number"||!isNaN(e))}a(Wu,"defined")});var jye=j((Bgr,Vye)=>{d();var flt=A_().Duplex;Vye.exports=a(class extends flt{constructor(t,r){super({emitClose:!0}),this._secretId=Math.random(),this._id=r,this._protocol=t,this._isClosed=!1,this._handle_data=this._handleData.bind(this),this._handle_close=this._handleClose.bind(this),this._handle_error=this._handleError.bind(this),this._protocol.on("on_stream_data",this._handle_data),this._protocol.on("on_stream_close",this._handle_close),this._protocol.on("on_stream_error",this._handle_error),this._protocol.once("end",()=>this._cleanup())}_handleData({stream:t,data:r}){this._isId(t)&&this.push(r)}_handleClose({stream:t}){this._isId(t)&&(this.destroy(),this._cleanup())}_handleError({stream:t,data:r}){if(this._isId(t)){let n=r.toString("utf8");this.emit("error",new Error(n)),this.destroy(),this._cleanup()}}_cleanup(){this._isClosed=!0,this._protocol.removeListener("on_stream_data",this._handle_data),this._protocol.removeListener("on_stream_close",this._handle_close),this._protocol.removeListener("on_stream_error",this._handle_error)}_isId(t){return t===this._id}_read(){}_write(t,r,n){this._protocol.onStreamData(this._id,t),n()}_final(t){this._isClosed||(this._protocol.onStreamClose(this._id),this._cleanup()),t()}},"ProxyStream")});var Jye=j((Ngr,Xye)=>{d();var hlt=A_().Duplex,Gye=Mye(),{SwarmEvent:Kye,EventType:_F}=Wye(),$ye=jye(),dlt=dP();Xye.exports=a(class extends hlt{constructor(t){super({emitClose:!0}),this.connections=new Set,this.setMaxListeners(256),dlt(t,Gye.decode(),this,Gye.encode(),t,()=>{this._closeAllStreams()}),this.on("on_stream_open",this._handleStreamOpen.bind(this))}ready(){this.sendMessage("READY")}join(t){this.sendMessage("JOIN",{topic:t})}leave(t){this.sendMessage("LEAVE",{topic:t})}onPeer(t,r){this.sendMessage("ON_PEER",{topic:t,peer:r})}onUpdated(t){this.sendMessage("ON_UPDATED",{topic:t})}connect(t){this.sendMessage("CONNECT",{peer:t})}onStreamOpen(t,r,n){this.sendMessage("ON_STREAM_OPEN",{topic:t,peer:r,stream:n})}onStreamData(t,r){typeof r=="string"&&(r=b.Buffer.from(r,"utf8")),this.sendMessage("ON_STREAM_DATA",{stream:t,data:r})}onStreamClose(t){this.sendMessage("ON_STREAM_CLOSE",{stream:t})}onStreamError(t,r,n){let i=b.Buffer.from(r,"utf8");this.sendMessage("ON_STREAM_ERROR",{stream:t,data:i})}openStream(t,r,n){let i=new $ye(this,n);return this._addStream(i),this.onStreamOpen(t,r,n),i}_closeAllStreams(){for(let t of this.connections)t.end()}_addStream(t){this.connections.add(t),t.once("close",()=>{this.connections.delete(t)})}_handleStreamOpen({topic:t,peer:r,stream:n}){let i=new $ye(this,n);this._addStream(i),this.emit("stream",i,{topic:t,peer:r})}sendMessage(t,r={}){this.push(Kye.encode({type:_F[t],...r}))}_write(t,r,n){try{let i=Kye.decode(t),{type:s}=i;for(let o of Object.keys(_F))_F[o]===s&&this.emit(o.toLowerCase(),i);n()}catch(i){n(i)}}_read(){}},"HyperswarmProxyStream")});var tme=j((Fgr,eme)=>{d();var plt=ea(),glt=Jye(),xF="Not connected to proxy";eme.exports=a(class extends plt{constructor(t={}){super();let{connection:r,autoconnect:n=!0,maxPeers:i=24}=t;this.maxPeers=i,this._handleStream=this._handleStream.bind(this),this._handleClose=this._handleClose.bind(this),this._handlePeer=this._handlePeer.bind(this),this._handleError=this._handleError.bind(this),this._handleUpdated=this._handleUpdated.bind(this),this._reJoin=this._reJoin.bind(this),this._protocol=null,this._connection=null,this._topics=[],this._connectedPeers=new Set,this._seenPeers=[],this._autoconnect=n,this.destroyed=!1,r&&this.reconnect(r)}disconnect(){!this._protocol||(this._protocol.removeListener("close",this._handleClose),this._connection.end(),this._protocol.end(),this._connection=null,this._protocol=null)}reconnect(t){this.disconnect(),this._connection=t,this._protocol=new glt(t),this._protocol.on("stream",this._handleStream),this._protocol.on("on_peer",this._handlePeer),this._protocol.once("close",this._handleClose),this._protocol.on("error",this._handleError),this._protocol.on("on_updated",this._handleUpdated),this._protocol.once("ready",this._reJoin),this._protocol.ready()}_handleStream(t,{topic:r,peer:n}){if(this.destroyed){t.end();return}let i=new rk(n,r);this._connectedPeers.add(n),this.emit("connection",t,i),t.once("close",()=>{this.destroyed||(this.emit("disconnection",t,i),this._connectedPeers.delete(n))})}_handleClose(){this._protocol=null,this.emit("disconnected")}_handleError(t){this.emit("error",t)}_handlePeer({topic:t,peer:r}){let n={host:r,port:0,local:!1,topic:t};this.emit("peer",n);let i=this._connectedPeers.has(r),s=this._connectedPeers.size>=this.maxPeers;this._autoconnect&&!i&&!s?this.connect(n):this._seenPeers.find(l=>l.peer===r)||this._seenPeers.push(n)}_handleUpdated({topic:t}){this.emit("updated",{key:t})}_reJoin(){for(let t of this._topics)this.join(t)}get connections(){return this._protocol?this._protocol.connections:new Set}join(t){if(!this._protocol)throw new Error(xF);this._protocol.join(t),this._topics.some(n=>n.equals(t))||this._topics.push(t)}leave(t){if(!this._protocol)throw new Error(xF);this._protocol.leave(t),this._topics=this._topics.filter(r=>!r.equals(t)),this._seenPeers=this._seenPeers.filter(({topic:r})=>!r.equals(t))}connect(t,r=Zye){if(!this._protocol)return setTimeout(()=>r(new Error(xF)),0);let n=t.host,i=a((s,o)=>{o.peer.host===n&&(r(null,s,o),this.removeListener("connection",i))},"listenStreams");r&&this.on("connection",i),this._protocol.connect(n)}flush(t=Zye){t&&_.default.nextTick(t)}status(){return{lookup:!0,announce:!1}}destroy(t){this.destroyed=!0,this.disconnect(),this._topics=null,this._connectedPeers=null,this._seenPeers=null,t&&_.default.nextTick(t)}},"HyperswarmProxyClient");function Zye(){}a(Zye,"noop");var rk=class{constructor(t,r){this.type="proxy",this.client=!0,this.peer={host:t,port:0,local:!1,topic:r}}deduplicate(){return!1}};a(rk,"Details")});var rc=j((Hgr,wF)=>{"use strict";d();typeof _.default>"u"||!_.default.version||_.default.version.indexOf("v0.")===0||_.default.version.indexOf("v1.")===0&&_.default.version.indexOf("v1.8.")!==0?wF.exports={nextTick:ylt}:wF.exports=_.default;function ylt(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return _.default.nextTick(e);case 2:return _.default.nextTick(a(function(){e.call(null,t)},"afterTickOne"));case 3:return _.default.nextTick(a(function(){e.call(null,t,r)},"afterTickTwo"));case 4:return _.default.nextTick(a(function(){e.call(null,t,r,n)},"afterTickThree"));default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return _.default.nextTick(a(function(){e.apply(null,s)},"afterTick"))}}a(ylt,"nextTick")});var nme=j((Wgr,rme)=>{d();var mlt={}.toString;rme.exports=Array.isArray||function(e){return mlt.call(e)=="[object Array]"}});var AF=j((jgr,ime)=>{d();ime.exports=ea().EventEmitter});var ik=j((EF,sme)=>{d();var nk=Ei(),bh=nk.Buffer;function ame(e,t){for(var r in e)t[r]=e[r]}a(ame,"copyProps");bh.from&&bh.alloc&&bh.allocUnsafe&&bh.allocUnsafeSlow?sme.exports=nk:(ame(nk,EF),EF.Buffer=M2);function M2(e,t,r){return bh(e,t,r)}a(M2,"SafeBuffer");ame(bh,M2);M2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return bh(e,t,r)};M2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=bh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};M2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return bh(e)};M2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return nk.SlowBuffer(e)}});var Rs=j(Bs=>{d();function blt(e){return Array.isArray?Array.isArray(e):ak(e)==="[object Array]"}a(blt,"isArray");Bs.isArray=blt;function vlt(e){return typeof e=="boolean"}a(vlt,"isBoolean");Bs.isBoolean=vlt;function _lt(e){return e===null}a(_lt,"isNull");Bs.isNull=_lt;function xlt(e){return e==null}a(xlt,"isNullOrUndefined");Bs.isNullOrUndefined=xlt;function wlt(e){return typeof e=="number"}a(wlt,"isNumber");Bs.isNumber=wlt;function Alt(e){return typeof e=="string"}a(Alt,"isString");Bs.isString=Alt;function Elt(e){return typeof e=="symbol"}a(Elt,"isSymbol");Bs.isSymbol=Elt;function Slt(e){return e===void 0}a(Slt,"isUndefined");Bs.isUndefined=Slt;function klt(e){return ak(e)==="[object RegExp]"}a(klt,"isRegExp");Bs.isRegExp=klt;function Clt(e){return typeof e=="object"&&e!==null}a(Clt,"isObject");Bs.isObject=Clt;function Ilt(e){return ak(e)==="[object Date]"}a(Ilt,"isDate");Bs.isDate=Ilt;function Tlt(e){return ak(e)==="[object Error]"||e instanceof Error}a(Tlt,"isError");Bs.isError=Tlt;function Mlt(e){return typeof e=="function"}a(Mlt,"isFunction");Bs.isFunction=Mlt;function Blt(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(Blt,"isPrimitive");Bs.isPrimitive=Blt;Bs.isBuffer=Ei().Buffer.isBuffer;function ak(e){return Object.prototype.toString.call(e)}a(ak,"objectToString")});var cme=j((eyr,SF)=>{"use strict";d();function Rlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(Rlt,"_classCallCheck");var ome=ik().Buffer,Uw=Mf();function Llt(e,t,r){e.copy(t,r)}a(Llt,"copyBuffer");SF.exports=function(){function e(){Rlt(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return ome.alloc(0);if(this.length===1)return this.head.data;for(var n=ome.allocUnsafe(r>>>0),i=this.head,s=0;i;)Llt(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();Uw&&Uw.inspect&&Uw.inspect.custom&&(SF.exports.prototype[Uw.inspect.custom]=function(){var e=Uw.inspect({length:this.length});return this.constructor.name+" "+e})});var kF=j((nyr,fme)=>{"use strict";d();var lme=rc();function Dlt(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&lme.nextTick(ume,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?(lme.nextTick(ume,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(Dlt,"destroy");function Nlt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Nlt,"undestroy");function ume(e,t){e.emit("error",t)}a(ume,"emitErrorNT");fme.exports={destroy:Dlt,undestroy:Nlt}});var IF=j((syr,vme)=>{"use strict";d();var G1=rc();vme.exports=ya;function dme(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Zlt(t,e)}}a(dme,"CorkedRequest");var Olt=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:G1.nextTick,B2;ya.WritableState=Hw;var pme=Object.create(Rs());pme.inherits=kr();var qlt={deprecate:n_()},gme=AF(),ok=ik().Buffer,Plt=w.Uint8Array||function(){};function Flt(e){return ok.from(e)}a(Flt,"_uint8ArrayToBuffer");function Ult(e){return ok.isBuffer(e)||e instanceof Plt}a(Ult,"_isUint8Array");var yme=kF();pme.inherits(ya,gme);function Ylt(){}a(Ylt,"nop");function Hw(e,t){B2=B2||K1(),e=e||{};var r=t instanceof B2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){Glt(t,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new dme(this)}a(Hw,"WritableState");Hw.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(Hw.prototype,"buffer",{get:qlt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var sk;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(sk=Function.prototype[Symbol.hasInstance],Object.defineProperty(ya,Symbol.hasInstance,{value:function(e){return sk.call(this,e)?!0:this!==ya?!1:e&&e._writableState instanceof Hw}})):sk=a(function(e){return e instanceof this},"realHasInstance");function ya(e){if(B2=B2||K1(),!sk.call(ya,this)&&!(this instanceof B2))return new ya(e);this._writableState=new Hw(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gme.call(this)}a(ya,"Writable");ya.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Hlt(e,t){var r=new Error("write after end");e.emit("error",r),G1.nextTick(t,r)}a(Hlt,"writeAfterEnd");function zlt(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),G1.nextTick(n,s),i=!1),i}a(zlt,"validChunk");ya.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&Ult(e);return s&&!ok.isBuffer(e)&&(e=Flt(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Ylt),n.ended?Hlt(this,r):(s||zlt(this,n,e,r))&&(n.pendingcb++,i=Wlt(this,n,s,e,t,r)),i};ya.prototype.cork=function(){var e=this._writableState;e.corked++};ya.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&mme(this,e))};ya.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Qlt(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ok.from(t,r)),t}a(Qlt,"decodeChunk");Object.defineProperty(ya.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Wlt(e,t,r,n,i,s){if(!r){var o=Qlt(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=t.objectMode?1:n.length;t.length+=l;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else CF(e,t,!1,l,n,i,s);return u}a(Wlt,"writeOrBuffer");function CF(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(CF,"doWrite");function Vlt(e,t,r,n,i){--t.pendingcb,r?(G1.nextTick(i,n),G1.nextTick(Yw,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Yw(e,t))}a(Vlt,"onwriteError");function jlt(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(jlt,"onwriteStateUpdate");function Glt(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(jlt(r),t)Vlt(e,r,n,t,i);else{var s=bme(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&mme(e,r),n?Olt(hme,e,r,s,i):hme(e,r,s,i)}}a(Glt,"onwrite");function hme(e,t,r,n){r||Klt(e,t),t.pendingcb--,n(),Yw(e,t)}a(hme,"afterWrite");function Klt(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(Klt,"onwriteDrain");function mme(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,CF(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new dme(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:u.length;if(CF(e,t,!1,p,u,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(mme,"clearBuffer");ya.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ya.prototype._writev=null;ya.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Jlt(this,n,r)};function bme(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(bme,"needFinish");function $lt(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Yw(e,t)})}a($lt,"callFinal");function Xlt(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,G1.nextTick($lt,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Xlt,"prefinish");function Yw(e,t){var r=bme(t);return r&&(Xlt(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(Yw,"finishMaybe");function Jlt(e,t,r){t.ending=!0,Yw(e,t),r&&(t.finished?G1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(Jlt,"endWritable");function Zlt(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(Zlt,"onCorkedFinish");Object.defineProperty(ya.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ya.prototype.destroy=yme.destroy;ya.prototype._undestroy=yme.undestroy;ya.prototype._destroy=function(e,t){this.end(),t(e)}});var K1=j((lyr,Ame)=>{"use strict";d();var _me=rc(),eut=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ame.exports=vh;var xme=Object.create(Rs());xme.inherits=kr();var wme=BF(),MF=IF();xme.inherits(vh,wme);for(TF=eut(MF.prototype),ck=0;ck<TF.length;ck++)lk=TF[ck],vh.prototype[lk]||(vh.prototype[lk]=MF.prototype[lk]);var TF,lk,ck;function vh(e){if(!(this instanceof vh))return new vh(e);wme.call(this,e),MF.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",tut)}a(vh,"Duplex");Object.defineProperty(vh.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function tut(){this.allowHalfOpen||this._writableState.ended||_me.nextTick(rut,this)}a(tut,"onend");function rut(e){e.end()}a(rut,"onEndNT");Object.defineProperty(vh.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});vh.prototype._destroy=function(e,t){this.push(null),this.end(),_me.nextTick(t,e)}});var kme=j((RF,Sme)=>{d();var uk=Ei(),_h=uk.Buffer;function Eme(e,t){for(var r in e)t[r]=e[r]}a(Eme,"copyProps");_h.from&&_h.alloc&&_h.allocUnsafe&&_h.allocUnsafeSlow?Sme.exports=uk:(Eme(uk,RF),RF.Buffer=R2);function R2(e,t,r){return _h(e,t,r)}a(R2,"SafeBuffer");Eme(_h,R2);R2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _h(e,t,r)};R2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=_h(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};R2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _h(e)};R2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return uk.SlowBuffer(e)}});var NF=j(Ime=>{"use strict";d();var DF=kme().Buffer,Cme=DF.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function nut(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(nut,"_normalizeEncoding");function iut(e){var t=nut(e);if(typeof t!="string"&&(DF.isEncoding===Cme||!Cme(e)))throw new Error("Unknown encoding: "+e);return t||e}a(iut,"normalizeEncoding");Ime.StringDecoder=zw;function zw(e){this.encoding=iut(e);var t;switch(this.encoding){case"utf16le":this.text=uut,this.end=fut,t=4;break;case"utf8":this.fillLast=out,t=4;break;case"base64":this.text=hut,this.end=dut,t=3;break;default:this.write=put,this.end=gut;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=DF.allocUnsafe(t)}a(zw,"StringDecoder");zw.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};zw.prototype.end=lut;zw.prototype.text=cut;zw.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function LF(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(LF,"utf8CheckByte");function aut(e,t,r){var n=t.length-1;if(n<r)return 0;var i=LF(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=LF(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=LF(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(aut,"utf8CheckIncomplete");function sut(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(sut,"utf8CheckExtraBytes");function out(e){var t=this.lastTotal-this.lastNeed,r=sut(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(out,"utf8FillLast");function cut(e,t){var r=aut(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(cut,"utf8Text");function lut(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(lut,"utf8End");function uut(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(uut,"utf16Text");function fut(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(fut,"utf16End");function hut(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(hut,"base64Text");function dut(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(dut,"base64End");function put(e){return e.toString(this.encoding)}a(put,"simpleWrite");function gut(e){return e&&e.length?this.write(e):""}a(gut,"simpleEnd")});var BF=j((byr,Ume)=>{"use strict";d();var D2=rc();Ume.exports=Si;var yut=nme(),Qw;Si.ReadableState=Nme;var myr=ea().EventEmitter,Rme=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),UF=AF(),Ww=ik().Buffer,mut=w.Uint8Array||function(){};function but(e){return Ww.from(e)}a(but,"_uint8ArrayToBuffer");function vut(e){return Ww.isBuffer(e)||e instanceof mut}a(vut,"_isUint8Array");var Lme=Object.create(Rs());Lme.inherits=kr();var OF=Mf(),jn=void 0;OF&&OF.debuglog?jn=OF.debuglog("stream"):jn=a(function(){},"debug");var _ut=cme(),Dme=kF(),L2;Lme.inherits(Si,UF);var qF=["error","close","destroy","pause","resume"];function xut(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):yut(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(xut,"prependListener");function Nme(e,t){Qw=Qw||K1(),e=e||{};var r=t instanceof Qw;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _ut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(L2||(L2=NF().StringDecoder),this.decoder=new L2(e.encoding),this.encoding=e.encoding)}a(Nme,"ReadableState");function Si(e){if(Qw=Qw||K1(),!(this instanceof Si))return new Si(e);this._readableState=new Nme(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),UF.call(this)}a(Si,"Readable");Object.defineProperty(Si.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Si.prototype.destroy=Dme.destroy;Si.prototype._undestroy=Dme.undestroy;Si.prototype._destroy=function(e,t){this.push(null),t(e)};Si.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Ww.from(e,t),t=""),n=!0),Ome(this,e,t,!1,n)};Si.prototype.unshift=function(e){return Ome(this,e,null,!0,!1)};function Ome(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,Sut(e,s);else{var o;i||(o=wut(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==Ww.prototype&&(t=but(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):PF(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?PF(e,s,t,!1):qme(e,s)):PF(e,s,t,!1))):n||(s.reading=!1)}return Aut(s)}a(Ome,"readableAddChunk");function PF(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&fk(e)),qme(e,t)}a(PF,"addChunk");function wut(e,t){var r;return!vut(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(wut,"chunkInvalid");function Aut(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(Aut,"needMoreData");Si.prototype.isPaused=function(){return this._readableState.flowing===!1};Si.prototype.setEncoding=function(e){return L2||(L2=NF().StringDecoder),this._readableState.decoder=new L2(e),this._readableState.encoding=e,this};var Tme=8388608;function Eut(e){return e>=Tme?e=Tme:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(Eut,"computeNewHighWaterMark");function Mme(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Eut(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Mme,"howMuchToRead");Si.prototype.read=function(e){jn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return jn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?FF(this):fk(this),null;if(e=Mme(e,t),e===0&&t.ended)return t.length===0&&FF(this),null;var n=t.needReadable;jn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,jn("length less than watermark",n)),t.ended||t.reading?(n=!1,jn("reading or ended",n)):n&&(jn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Mme(r,t)));var i;return e>0?i=Pme(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&FF(this)),i!==null&&this.emit("data",i),i};function Sut(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,fk(e)}}a(Sut,"onEofChunk");function fk(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(jn("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?D2.nextTick(Bme,e):Bme(e))}a(fk,"emitReadable");function Bme(e){jn("emit readable"),e.emit("readable"),YF(e)}a(Bme,"emitReadable_");function qme(e,t){t.readingMore||(t.readingMore=!0,D2.nextTick(kut,e,t))}a(qme,"maybeReadMore");function kut(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(jn("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(kut,"maybeReadMore_");Si.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Si.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,jn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?l:z;n.endEmitted?D2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){jn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function l(){jn("onend"),e.end()}a(l,"onend");var u=Cut(r);e.on("drain",u);var f=!1;function h(){jn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){jn("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Fme(n.pipes,e)!==-1)&&!f&&(jn("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){jn("onerror",P),z(),e.removeListener("error",y),Rme(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),xut(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){jn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){jn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||(jn("pipe resume"),r.resume()),e};function Cut(e){return function(){var t=e._readableState;jn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Rme(e,"data")&&(t.flowing=!0,YF(e))}}a(Cut,"pipeOnDrain");Si.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=Fme(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Si.prototype.on=function(e,t){var r=UF.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&fk(this):D2.nextTick(Iut,this))}return r};Si.prototype.addListener=Si.prototype.on;function Iut(e){jn("readable nexttick read 0"),e.read(0)}a(Iut,"nReadingNextTick");Si.prototype.resume=function(){var e=this._readableState;return e.flowing||(jn("resume"),e.flowing=!0,Tut(this,e)),this};function Tut(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D2.nextTick(Mut,e,t))}a(Tut,"resume");function Mut(e,t){t.reading||(jn("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),YF(e),t.flowing&&!t.reading&&e.read(0)}a(Mut,"resume_");Si.prototype.pause=function(){return jn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(jn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function YF(e){var t=e._readableState;for(jn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(YF,"flow");Si.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(jn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(jn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var l=t.push(o);l||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<qF.length;s++)e.on(qF[s],this.emit.bind(this,qF[s]));return this._read=function(o){jn("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(Si.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Si._fromList=Pme;function Pme(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=But(e,t.buffer,t.decoder),r}a(Pme,"fromList");function But(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Rut(e,t):Lut(e,t),n}a(But,"fromListPartial");function Rut(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(Rut,"copyFromBufferString");function Lut(e,t){var r=Ww.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(Lut,"copyFromBuffer");function FF(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,D2.nextTick(Dut,t,e))}a(FF,"endReadable");function Dut(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(Dut,"endReadableNT");function Fme(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(Fme,"indexOf")});var HF=j((xyr,zme)=>{"use strict";d();zme.exports=xh;var hk=K1(),Hme=Object.create(Rs());Hme.inherits=kr();Hme.inherits(xh,hk);function Nut(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(Nut,"afterTransform");function xh(e){if(!(this instanceof xh))return new xh(e);hk.call(this,e),this._transformState={afterTransform:Nut.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Out)}a(xh,"Transform");function Out(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Yme(e,t,r)}):Yme(this,null,null)}a(Out,"prefinish");xh.prototype.push=function(e,t){return this._transformState.needTransform=!1,hk.prototype.push.call(this,e,t)};xh.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};xh.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};xh.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};xh.prototype._destroy=function(e,t){var r=this;hk.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Yme(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(Yme,"done")});var jme=j((Eyr,Vme)=>{"use strict";d();Vme.exports=Vw;var Qme=HF(),Wme=Object.create(Rs());Wme.inherits=kr();Wme.inherits(Vw,Qme);function Vw(e){if(!(this instanceof Vw))return new Vw(e);Qme.call(this,e)}a(Vw,"PassThrough");Vw.prototype._transform=function(e,t,r){r(null,e)}});var Kme=j((Vu,Gme)=>{d();Vu=Gme.exports=BF();Vu.Stream=Vu;Vu.Readable=Vu;Vu.Writable=IF();Vu.Duplex=K1();Vu.Transform=HF();Vu.PassThrough=jme()});var Xme=j((Iyr,$me)=>{d();var qut={}.toString;$me.exports=Array.isArray||function(e){return qut.call(e)=="[object Array]"}});var zF=j((Myr,Jme)=>{d();Jme.exports=ea().EventEmitter});var jw=j((QF,e2e)=>{d();var dk=Ei(),wh=dk.Buffer;function Zme(e,t){for(var r in e)t[r]=e[r]}a(Zme,"copyProps");wh.from&&wh.alloc&&wh.allocUnsafe&&wh.allocUnsafeSlow?e2e.exports=dk:(Zme(dk,QF),QF.Buffer=N2);function N2(e,t,r){return wh(e,t,r)}a(N2,"SafeBuffer");Zme(wh,N2);N2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return wh(e,t,r)};N2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=wh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};N2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return wh(e)};N2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return dk.SlowBuffer(e)}});var r2e=j((Dyr,WF)=>{"use strict";d();function Put(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(Put,"_classCallCheck");var t2e=jw().Buffer,Gw=Mf();function Fut(e,t,r){e.copy(t,r)}a(Fut,"copyBuffer");WF.exports=function(){function e(){Put(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return t2e.alloc(0);if(this.length===1)return this.head.data;for(var n=t2e.allocUnsafe(r>>>0),i=this.head,s=0;i;)Fut(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();Gw&&Gw.inspect&&Gw.inspect.custom&&(WF.exports.prototype[Gw.inspect.custom]=function(){var e=Gw.inspect({length:this.length});return this.constructor.name+" "+e})});var VF=j((qyr,a2e)=>{"use strict";d();var n2e=rc();function Uut(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&n2e.nextTick(i2e,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?(n2e.nextTick(i2e,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(Uut,"destroy");function Yut(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Yut,"undestroy");function i2e(e,t){e.emit("error",t)}a(i2e,"emitErrorNT");a2e.exports={destroy:Uut,undestroy:Yut}});var GF=j((Uyr,d2e)=>{"use strict";d();var $1=rc();d2e.exports=ma;function o2e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){aft(t,e)}}a(o2e,"CorkedRequest");var Hut=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:$1.nextTick,O2;ma.WritableState=$w;var c2e=Object.create(Rs());c2e.inherits=kr();var zut={deprecate:n_()},l2e=zF(),gk=jw().Buffer,Qut=w.Uint8Array||function(){};function Wut(e){return gk.from(e)}a(Wut,"_uint8ArrayToBuffer");function Vut(e){return gk.isBuffer(e)||e instanceof Qut}a(Vut,"_isUint8Array");var u2e=VF();c2e.inherits(ma,l2e);function jut(){}a(jut,"nop");function $w(e,t){O2=O2||X1(),e=e||{};var r=t instanceof O2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){eft(t,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o2e(this)}a($w,"WritableState");$w.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty($w.prototype,"buffer",{get:zut.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var pk;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(pk=Function.prototype[Symbol.hasInstance],Object.defineProperty(ma,Symbol.hasInstance,{value:function(e){return pk.call(this,e)?!0:this!==ma?!1:e&&e._writableState instanceof $w}})):pk=a(function(e){return e instanceof this},"realHasInstance");function ma(e){if(O2=O2||X1(),!pk.call(ma,this)&&!(this instanceof O2))return new ma(e);this._writableState=new $w(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),l2e.call(this)}a(ma,"Writable");ma.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Gut(e,t){var r=new Error("write after end");e.emit("error",r),$1.nextTick(t,r)}a(Gut,"writeAfterEnd");function Kut(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),$1.nextTick(n,s),i=!1),i}a(Kut,"validChunk");ma.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&Vut(e);return s&&!gk.isBuffer(e)&&(e=Wut(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=jut),n.ended?Gut(this,r):(s||Kut(this,n,e,r))&&(n.pendingcb++,i=Xut(this,n,s,e,t,r)),i};ma.prototype.cork=function(){var e=this._writableState;e.corked++};ma.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&f2e(this,e))};ma.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function $ut(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=gk.from(t,r)),t}a($ut,"decodeChunk");Object.defineProperty(ma.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Xut(e,t,r,n,i,s){if(!r){var o=$ut(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=t.objectMode?1:n.length;t.length+=l;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else jF(e,t,!1,l,n,i,s);return u}a(Xut,"writeOrBuffer");function jF(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(jF,"doWrite");function Jut(e,t,r,n,i){--t.pendingcb,r?($1.nextTick(i,n),$1.nextTick(Kw,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Kw(e,t))}a(Jut,"onwriteError");function Zut(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(Zut,"onwriteStateUpdate");function eft(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Zut(r),t)Jut(e,r,n,t,i);else{var s=h2e(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&f2e(e,r),n?Hut(s2e,e,r,s,i):s2e(e,r,s,i)}}a(eft,"onwrite");function s2e(e,t,r,n){r||tft(e,t),t.pendingcb--,n(),Kw(e,t)}a(s2e,"afterWrite");function tft(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(tft,"onwriteDrain");function f2e(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,jF(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o2e(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:u.length;if(jF(e,t,!1,p,u,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(f2e,"clearBuffer");ma.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ma.prototype._writev=null;ma.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&ift(this,n,r)};function h2e(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(h2e,"needFinish");function rft(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Kw(e,t)})}a(rft,"callFinal");function nft(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,$1.nextTick(rft,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(nft,"prefinish");function Kw(e,t){var r=h2e(t);return r&&(nft(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(Kw,"finishMaybe");function ift(e,t,r){t.ending=!0,Kw(e,t),r&&(t.finished?$1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(ift,"endWritable");function aft(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(aft,"onCorkedFinish");Object.defineProperty(ma.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ma.prototype.destroy=u2e.destroy;ma.prototype._undestroy=u2e.undestroy;ma.prototype._destroy=function(e,t){this.end(),t(e)}});var X1=j((zyr,m2e)=>{"use strict";d();var p2e=rc(),sft=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};m2e.exports=Ah;var g2e=Object.create(Rs());g2e.inherits=kr();var y2e=XF(),$F=GF();g2e.inherits(Ah,y2e);for(KF=sft($F.prototype),yk=0;yk<KF.length;yk++)mk=KF[yk],Ah.prototype[mk]||(Ah.prototype[mk]=$F.prototype[mk]);var KF,mk,yk;function Ah(e){if(!(this instanceof Ah))return new Ah(e);y2e.call(this,e),$F.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",oft)}a(Ah,"Duplex");Object.defineProperty(Ah.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function oft(){this.allowHalfOpen||this._writableState.ended||p2e.nextTick(cft,this)}a(oft,"onend");function cft(e){e.end()}a(cft,"onEndNT");Object.defineProperty(Ah.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ah.prototype._destroy=function(e,t){this.push(null),this.end(),p2e.nextTick(t,e)}});var eU=j(v2e=>{"use strict";d();var ZF=jw().Buffer,b2e=ZF.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function lft(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(lft,"_normalizeEncoding");function uft(e){var t=lft(e);if(typeof t!="string"&&(ZF.isEncoding===b2e||!b2e(e)))throw new Error("Unknown encoding: "+e);return t||e}a(uft,"normalizeEncoding");v2e.StringDecoder=Xw;function Xw(e){this.encoding=uft(e);var t;switch(this.encoding){case"utf16le":this.text=yft,this.end=mft,t=4;break;case"utf8":this.fillLast=dft,t=4;break;case"base64":this.text=bft,this.end=vft,t=3;break;default:this.write=_ft,this.end=xft;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ZF.allocUnsafe(t)}a(Xw,"StringDecoder");Xw.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Xw.prototype.end=gft;Xw.prototype.text=pft;Xw.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function JF(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(JF,"utf8CheckByte");function fft(e,t,r){var n=t.length-1;if(n<r)return 0;var i=JF(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=JF(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=JF(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(fft,"utf8CheckIncomplete");function hft(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(hft,"utf8CheckExtraBytes");function dft(e){var t=this.lastTotal-this.lastNeed,r=hft(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(dft,"utf8FillLast");function pft(e,t){var r=fft(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(pft,"utf8Text");function gft(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(gft,"utf8End");function yft(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(yft,"utf16Text");function mft(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(mft,"utf16End");function bft(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(bft,"base64Text");function vft(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(vft,"base64End");function _ft(e){return e.toString(this.encoding)}a(_ft,"simpleWrite");function xft(e){return e&&e.length?this.write(e):""}a(xft,"simpleEnd")});var XF=j(($yr,B2e)=>{"use strict";d();var P2=rc();B2e.exports=ki;var wft=Xme(),Jw;ki.ReadableState=k2e;var Kyr=ea().EventEmitter,A2e=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),aU=zF(),Zw=jw().Buffer,Aft=w.Uint8Array||function(){};function Eft(e){return Zw.from(e)}a(Eft,"_uint8ArrayToBuffer");function Sft(e){return Zw.isBuffer(e)||e instanceof Aft}a(Sft,"_isUint8Array");var E2e=Object.create(Rs());E2e.inherits=kr();var tU=Mf(),Gn=void 0;tU&&tU.debuglog?Gn=tU.debuglog("stream"):Gn=a(function(){},"debug");var kft=r2e(),S2e=VF(),q2;E2e.inherits(ki,aU);var rU=["error","close","destroy","pause","resume"];function Cft(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):wft(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(Cft,"prependListener");function k2e(e,t){Jw=Jw||X1(),e=e||{};var r=t instanceof Jw;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new kft,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q2||(q2=eU().StringDecoder),this.decoder=new q2(e.encoding),this.encoding=e.encoding)}a(k2e,"ReadableState");function ki(e){if(Jw=Jw||X1(),!(this instanceof ki))return new ki(e);this._readableState=new k2e(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),aU.call(this)}a(ki,"Readable");Object.defineProperty(ki.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ki.prototype.destroy=S2e.destroy;ki.prototype._undestroy=S2e.undestroy;ki.prototype._destroy=function(e,t){this.push(null),t(e)};ki.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Zw.from(e,t),t=""),n=!0),C2e(this,e,t,!1,n)};ki.prototype.unshift=function(e){return C2e(this,e,null,!0,!1)};function C2e(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,Bft(e,s);else{var o;i||(o=Ift(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==Zw.prototype&&(t=Eft(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):nU(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?nU(e,s,t,!1):I2e(e,s)):nU(e,s,t,!1))):n||(s.reading=!1)}return Tft(s)}a(C2e,"readableAddChunk");function nU(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&bk(e)),I2e(e,t)}a(nU,"addChunk");function Ift(e,t){var r;return!Sft(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(Ift,"chunkInvalid");function Tft(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(Tft,"needMoreData");ki.prototype.isPaused=function(){return this._readableState.flowing===!1};ki.prototype.setEncoding=function(e){return q2||(q2=eU().StringDecoder),this._readableState.decoder=new q2(e),this._readableState.encoding=e,this};var _2e=8388608;function Mft(e){return e>=_2e?e=_2e:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(Mft,"computeNewHighWaterMark");function x2e(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Mft(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(x2e,"howMuchToRead");ki.prototype.read=function(e){Gn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Gn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?iU(this):bk(this),null;if(e=x2e(e,t),e===0&&t.ended)return t.length===0&&iU(this),null;var n=t.needReadable;Gn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Gn("length less than watermark",n)),t.ended||t.reading?(n=!1,Gn("reading or ended",n)):n&&(Gn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x2e(r,t)));var i;return e>0?i=T2e(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&iU(this)),i!==null&&this.emit("data",i),i};function Bft(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,bk(e)}}a(Bft,"onEofChunk");function bk(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Gn("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?P2.nextTick(w2e,e):w2e(e))}a(bk,"emitReadable");function w2e(e){Gn("emit readable"),e.emit("readable"),sU(e)}a(w2e,"emitReadable_");function I2e(e,t){t.readingMore||(t.readingMore=!0,P2.nextTick(Rft,e,t))}a(I2e,"maybeReadMore");function Rft(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Gn("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(Rft,"maybeReadMore_");ki.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};ki.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Gn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?l:z;n.endEmitted?P2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){Gn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function l(){Gn("onend"),e.end()}a(l,"onend");var u=Lft(r);e.on("drain",u);var f=!1;function h(){Gn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){Gn("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&M2e(n.pipes,e)!==-1)&&!f&&(Gn("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){Gn("onerror",P),z(),e.removeListener("error",y),A2e(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),Cft(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){Gn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){Gn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||(Gn("pipe resume"),r.resume()),e};function Lft(e){return function(){var t=e._readableState;Gn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&A2e(e,"data")&&(t.flowing=!0,sU(e))}}a(Lft,"pipeOnDrain");ki.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=M2e(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};ki.prototype.on=function(e,t){var r=aU.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&bk(this):P2.nextTick(Dft,this))}return r};ki.prototype.addListener=ki.prototype.on;function Dft(e){Gn("readable nexttick read 0"),e.read(0)}a(Dft,"nReadingNextTick");ki.prototype.resume=function(){var e=this._readableState;return e.flowing||(Gn("resume"),e.flowing=!0,Nft(this,e)),this};function Nft(e,t){t.resumeScheduled||(t.resumeScheduled=!0,P2.nextTick(Oft,e,t))}a(Nft,"resume");function Oft(e,t){t.reading||(Gn("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),sU(e),t.flowing&&!t.reading&&e.read(0)}a(Oft,"resume_");ki.prototype.pause=function(){return Gn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Gn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function sU(e){var t=e._readableState;for(Gn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(sU,"flow");ki.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Gn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Gn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var l=t.push(o);l||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<rU.length;s++)e.on(rU[s],this.emit.bind(this,rU[s]));return this._read=function(o){Gn("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(ki.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ki._fromList=T2e;function T2e(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=qft(e,t.buffer,t.decoder),r}a(T2e,"fromList");function qft(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Pft(e,t):Fft(e,t),n}a(qft,"fromListPartial");function Pft(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(Pft,"copyFromBufferString");function Fft(e,t){var r=Zw.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(Fft,"copyFromBuffer");function iU(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,P2.nextTick(Uft,t,e))}a(iU,"endReadable");function Uft(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(Uft,"endReadableNT");function M2e(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(M2e,"indexOf")});var oU=j((Zyr,D2e)=>{"use strict";d();D2e.exports=Eh;var vk=X1(),L2e=Object.create(Rs());L2e.inherits=kr();L2e.inherits(Eh,vk);function Yft(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(Yft,"afterTransform");function Eh(e){if(!(this instanceof Eh))return new Eh(e);vk.call(this,e),this._transformState={afterTransform:Yft.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Hft)}a(Eh,"Transform");function Hft(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){R2e(e,t,r)}):R2e(this,null,null)}a(Hft,"prefinish");Eh.prototype.push=function(e,t){return this._transformState.needTransform=!1,vk.prototype.push.call(this,e,t)};Eh.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Eh.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Eh.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Eh.prototype._destroy=function(e,t){var r=this;vk.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function R2e(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(R2e,"done")});var P2e=j((rmr,q2e)=>{"use strict";d();q2e.exports=e3;var N2e=oU(),O2e=Object.create(Rs());O2e.inherits=kr();O2e.inherits(e3,N2e);function e3(e){if(!(this instanceof e3))return new e3(e);N2e.call(this,e)}a(e3,"PassThrough");e3.prototype._transform=function(e,t,r){r(null,e)}});var U2e=j((ju,F2e)=>{d();ju=F2e.exports=XF();ju.Stream=ju;ju.Readable=ju;ju.Writable=GF();ju.Duplex=X1();ju.Transform=oU();ju.PassThrough=P2e()});var H2e=j((smr,Y2e)=>{d();Y2e.exports=zft;function zft(e){var t=e._readableState;return t?t.objectMode||typeof e._duplexState=="number"?e.read():e.read(Qft(t)):null}a(zft,"shift");function Qft(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}a(Qft,"getStateLength")});var j2e=j((lmr,V2e)=>{d();var _k=U2e(),z2e=p2(),Wft=kr(),Vft=H2e(),Q2e=b.Buffer.from&&b.Buffer.from!==Uint8Array.from?b.Buffer.from([0]):new b.Buffer([0]),cU=a(function(e,t){e._corked?e.once("uncork",t):t()},"onuncork"),jft=a(function(e,t){e._autoDestroy&&e.destroy(t)},"autoDestroy"),W2e=a(function(e,t){return function(r){r?jft(e,r.message==="premature close"?null:r):t&&!e._ended&&e.end()}},"destroyer"),Gft=a(function(e,t){if(!e||e._writableState&&e._writableState.finished)return t();if(e._writableState)return e.end(t);e.end(),t()},"end"),Kft=a(function(e){return new _k.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},"toStreams2"),fs=a(function(e,t,r){if(!(this instanceof fs))return new fs(e,t,r);_k.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)},"Duplexify");Wft(fs,_k.Duplex);fs.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new fs(e,t,r)};fs.prototype.cork=function(){++this._corked===1&&this.emit("cork")};fs.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};fs.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed){e&&e.destroy&&e.destroy();return}if(e===null||e===!1){this.end();return}var t=this,r=z2e(e,{writable:!0,readable:!1},W2e(this,this._forwardEnd)),n=a(function(){var s=t._ondrain;t._ondrain=null,s&&s()},"ondrain"),i=a(function(){t._writable.removeListener("drain",n),r()},"clear");this._unwrite&&_.default.nextTick(n),this._writable=e,this._writable.on("drain",n),this._unwrite=i,this.uncork()};fs.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed){e&&e.destroy&&e.destroy();return}if(e===null||e===!1){this.push(null),this.resume();return}var t=this,r=z2e(e,{writable:!1,readable:!0},W2e(this)),n=a(function(){t._forward()},"onreadable"),i=a(function(){t.push(null)},"onend"),s=a(function(){t._readable2.removeListener("readable",n),t._readable2.removeListener("end",i),r()},"clear");this._drained=!0,this._readable=e,this._readable2=e._readableState?e:Kft(e),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=s,this._forward()};fs.prototype._read=function(){this._drained=!0,this._forward()};fs.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var e;this._drained&&(e=Vft(this._readable2))!==null;)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}};fs.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;_.default.nextTick(function(){t._destroy(e)})}};fs.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};fs.prototype._write=function(e,t,r){if(this.destroyed)return r();if(this._corked)return cU(this,this._write.bind(this,e,t,r));if(e===Q2e)return this._finish(r);if(!this._writable)return r();this._writable.write(e)===!1?this._ondrain=r:r()};fs.prototype._finish=function(e){var t=this;this.emit("preend"),cU(this,function(){Gft(t._forwardEnd&&t._writable,function(){t._writableState.prefinished===!1&&(t._writableState.prefinished=!0),t.emit("prefinish"),cU(t,e)})})};fs.prototype.end=function(e,t,r){return typeof e=="function"?this.end(null,null,e):typeof t=="function"?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(Q2e),_k.Writable.prototype.end.call(this,r))};V2e.exports=fs});var K2e=j((hmr,G2e)=>{d();var xk=null;typeof WebSocket<"u"?xk=WebSocket:typeof MozWebSocket<"u"?xk=MozWebSocket:typeof window<"u"&&(xk=window.WebSocket||window.MozWebSocket);G2e.exports=xk});var J2e=j((pmr,X2e)=>{"use strict";d();var $ft=Kme().Transform,Xft=j2e(),$2e=K2e(),F2=rn().Buffer;X2e.exports=Zft;function Jft(e,t,r){var n=new $ft({objectMode:e.objectMode});return n._write=t,n._flush=r,n}a(Jft,"buildProxy");function Zft(e,t,r){var n,i,s=_.default.title==="browser",o=!!w.WebSocket,l=s?E:y;t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=null,(typeof r.protocol=="string"||Array.isArray(r.protocol))&&(t=r.protocol)),r||(r={}),r.objectMode===void 0&&(r.objectMode=!(r.binary===!0||r.binary===void 0));var u=Jft(r,l,M);r.objectMode||(u._writev=F);var f=r.browserBufferSize||1024*512,h=r.browserBufferTimeout||1e3;typeof e=="object"?i=e:(o&&s?i=new $2e(e,t):i=new $2e(e,t,r),i.binaryType="arraybuffer");var p=typeof i.addEventListener>"u";i.readyState===i.OPEN?n=u:(n=n=Xft(void 0,void 0,r),r.objectMode||(n._writev=F),p?i.addEventListener("open",z):i.onopen=z),n.socket=i,p?(i.addEventListener("close",P),i.addEventListener("error",Q),i.addEventListener("message",V)):(i.onclose=P,i.onerror=Q,i.onmessage=V),u.on("close",W);var g=!r.objectMode;function y(B,S,T){if(i.readyState!==i.OPEN){T();return}g&&typeof B=="string"&&(B=F2.from(B,"utf8")),i.send(B,T)}a(y,"socketWriteNode");function E(B,S,T){if(i.bufferedAmount>f){setTimeout(E,h,B,S,T);return}g&&typeof B=="string"&&(B=F2.from(B,"utf8"));try{i.send(B)}catch(k){return T(k)}T()}a(E,"socketWriteBrowser");function M(B){i.close(),B()}a(M,"socketEnd");function z(){n.setReadable(u),n.setWritable(u),n.emit("connect")}a(z,"onopen");function P(){n.end(),n.destroy()}a(P,"onclose");function Q(B){n.destroy(B)}a(Q,"onerror");function V(B){var S=B.data;S instanceof ArrayBuffer?S=F2.from(S):S=F2.from(S,"utf8"),u.push(S)}a(V,"onmessage");function W(){i.close()}a(W,"destroy");function F(B,S){for(var T=new Array(B.length),k=0;k<B.length;k++)typeof B[k].chunk=="string"?T[k]=F2.from(B[k],"utf8"):T[k]=B[k].chunk;this._write(F2.concat(T),"binary",S)}return a(F,"writev"),n}a(Zft,"WebSocketStream")});var rbe=j((mmr,tbe)=>{d();var eht=tme(),Z2e=J2e(),tht="4977",ebe=`ws://localhost:${tht}`,rht=[ebe],nht=1e3,wk=class extends eht{constructor(t={}){super(t);let{proxy:r=rht,reconnectDelay:n=nht}=t;this.reconnectDelay=n,this.proxy=null,this._urls=typeof r=="string"?[r]:r,this._urlIndex=0,this.reconnect()}reconnect(){this._nextUrl();let t=Z2e(ebe);t.on("error",r=>this.emit("connection-error",r)),t.once("error",()=>{let r=Z2e(this.proxy);r.on("error",n=>this.emit("connection-error",n)),r.once("close",()=>{setTimeout(()=>{this.destroyed||this.reconnect()},this.reconnectDelay)}),super.reconnect(r)}),super.reconnect(t)}_nextUrl(){return this.proxy=this._urls[this._urlIndex++%this._urls.length],this.proxy}};a(wk,"HyperswarmProxyWSClient");tbe.exports=wk});var ibe=j((_mr,nbe)=>{d();var iht={}.toString;nbe.exports=Array.isArray||function(e){return iht.call(e)=="[object Array]"}});var lU=j((wmr,abe)=>{d();abe.exports=ea().EventEmitter});var t3=j((uU,obe)=>{d();var Ak=Ei(),Sh=Ak.Buffer;function sbe(e,t){for(var r in e)t[r]=e[r]}a(sbe,"copyProps");Sh.from&&Sh.alloc&&Sh.allocUnsafe&&Sh.allocUnsafeSlow?obe.exports=Ak:(sbe(Ak,uU),uU.Buffer=U2);function U2(e,t,r){return Sh(e,t,r)}a(U2,"SafeBuffer");sbe(Sh,U2);U2.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Sh(e,t,r)};U2.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Sh(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};U2.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sh(e)};U2.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ak.SlowBuffer(e)}});var lbe=j((kmr,fU)=>{"use strict";d();function aht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(aht,"_classCallCheck");var cbe=t3().Buffer,r3=Mf();function sht(e,t,r){e.copy(t,r)}a(sht,"copyBuffer");fU.exports=function(){function e(){aht(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join"),e.prototype.concat=a(function(r){if(this.length===0)return cbe.alloc(0);if(this.length===1)return this.head.data;for(var n=cbe.allocUnsafe(r>>>0),i=this.head,s=0;i;)sht(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat"),e}();r3&&r3.inspect&&r3.inspect.custom&&(fU.exports.prototype[r3.inspect.custom]=function(){var e=r3.inspect({length:this.length});return this.constructor.name+" "+e})});var hU=j((Tmr,hbe)=>{"use strict";d();var ube=rc();function oht(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&ube.nextTick(fbe,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?(ube.nextTick(fbe,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(s)}),this)}a(oht,"destroy");function cht(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(cht,"undestroy");function fbe(e,t){e.emit("error",t)}a(fbe,"emitErrorNT");hbe.exports={destroy:oht,undestroy:cht}});var pU=j((Rmr,_be)=>{"use strict";d();var J1=rc();_be.exports=ba;function pbe(e){var t=this;this.next=null,this.entry=null,this.finish=function(){kht(t,e)}}a(pbe,"CorkedRequest");var lht=!_.default.browser&&["v0.10","v0.9."].indexOf(_.default.version.slice(0,5))>-1?setImmediate:J1.nextTick,Y2;ba.WritableState=i3;var gbe=Object.create(Rs());gbe.inherits=kr();var uht={deprecate:n_()},ybe=lU(),Sk=t3().Buffer,fht=w.Uint8Array||function(){};function hht(e){return Sk.from(e)}a(hht,"_uint8ArrayToBuffer");function dht(e){return Sk.isBuffer(e)||e instanceof fht}a(dht,"_isUint8Array");var mbe=hU();gbe.inherits(ba,ybe);function pht(){}a(pht,"nop");function i3(e,t){Y2=Y2||Z1(),e=e||{};var r=t instanceof Y2;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){xht(t,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new pbe(this)}a(i3,"WritableState");i3.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(i3.prototype,"buffer",{get:uht.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ek;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ek=Function.prototype[Symbol.hasInstance],Object.defineProperty(ba,Symbol.hasInstance,{value:function(e){return Ek.call(this,e)?!0:this!==ba?!1:e&&e._writableState instanceof i3}})):Ek=a(function(e){return e instanceof this},"realHasInstance");function ba(e){if(Y2=Y2||Z1(),!Ek.call(ba,this)&&!(this instanceof Y2))return new ba(e);this._writableState=new i3(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),ybe.call(this)}a(ba,"Writable");ba.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ght(e,t){var r=new Error("write after end");e.emit("error",r),J1.nextTick(t,r)}a(ght,"writeAfterEnd");function yht(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),J1.nextTick(n,s),i=!1),i}a(yht,"validChunk");ba.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&dht(e);return s&&!Sk.isBuffer(e)&&(e=hht(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=pht),n.ended?ght(this,r):(s||yht(this,n,e,r))&&(n.pendingcb++,i=bht(this,n,s,e,t,r)),i};ba.prototype.cork=function(){var e=this._writableState;e.corked++};ba.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&bbe(this,e))};ba.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function mht(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Sk.from(t,r)),t}a(mht,"decodeChunk");Object.defineProperty(ba.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bht(e,t,r,n,i,s){if(!r){var o=mht(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=t.objectMode?1:n.length;t.length+=l;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else dU(e,t,!1,l,n,i,s);return u}a(bht,"writeOrBuffer");function dU(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}a(dU,"doWrite");function vht(e,t,r,n,i){--t.pendingcb,r?(J1.nextTick(i,n),J1.nextTick(n3,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),n3(e,t))}a(vht,"onwriteError");function _ht(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(_ht,"onwriteStateUpdate");function xht(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(_ht(r),t)vht(e,r,n,t,i);else{var s=vbe(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bbe(e,r),n?lht(dbe,e,r,s,i):dbe(e,r,s,i)}}a(xht,"onwrite");function dbe(e,t,r,n){r||wht(e,t),t.pendingcb--,n(),n3(e,t)}a(dbe,"afterWrite");function wht(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(wht,"onwriteDrain");function bbe(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,dU(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new pbe(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,h=r.callback,p=t.objectMode?1:u.length;if(dU(e,t,!1,p,u,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(bbe,"clearBuffer");ba.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ba.prototype._writev=null;ba.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Sht(this,n,r)};function vbe(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(vbe,"needFinish");function Aht(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),n3(e,t)})}a(Aht,"callFinal");function Eht(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,J1.nextTick(Aht,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Eht,"prefinish");function n3(e,t){var r=vbe(t);return r&&(Eht(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(n3,"finishMaybe");function Sht(e,t,r){t.ending=!0,n3(e,t),r&&(t.finished?J1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(Sht,"endWritable");function kht(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}a(kht,"onCorkedFinish");Object.defineProperty(ba.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ba.prototype.destroy=mbe.destroy;ba.prototype._undestroy=mbe.undestroy;ba.prototype._destroy=function(e,t){this.end(),t(e)}});var Z1=j((Nmr,Ebe)=>{"use strict";d();var xbe=rc(),Cht=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ebe.exports=kh;var wbe=Object.create(Rs());wbe.inherits=kr();var Abe=mU(),yU=pU();wbe.inherits(kh,Abe);for(gU=Cht(yU.prototype),kk=0;kk<gU.length;kk++)Ck=gU[kk],kh.prototype[Ck]||(kh.prototype[Ck]=yU.prototype[Ck]);var gU,Ck,kk;function kh(e){if(!(this instanceof kh))return new kh(e);Abe.call(this,e),yU.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Iht)}a(kh,"Duplex");Object.defineProperty(kh.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Iht(){this.allowHalfOpen||this._writableState.ended||xbe.nextTick(Tht,this)}a(Iht,"onend");function Tht(e){e.end()}a(Tht,"onEndNT");Object.defineProperty(kh.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});kh.prototype._destroy=function(e,t){this.push(null),this.end(),xbe.nextTick(t,e)}});var _U=j(kbe=>{"use strict";d();var vU=t3().Buffer,Sbe=vU.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Mht(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(Mht,"_normalizeEncoding");function Bht(e){var t=Mht(e);if(typeof t!="string"&&(vU.isEncoding===Sbe||!Sbe(e)))throw new Error("Unknown encoding: "+e);return t||e}a(Bht,"normalizeEncoding");kbe.StringDecoder=a3;function a3(e){this.encoding=Bht(e);var t;switch(this.encoding){case"utf16le":this.text=qht,this.end=Pht,t=4;break;case"utf8":this.fillLast=Dht,t=4;break;case"base64":this.text=Fht,this.end=Uht,t=3;break;default:this.write=Yht,this.end=Hht;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vU.allocUnsafe(t)}a(a3,"StringDecoder");a3.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};a3.prototype.end=Oht;a3.prototype.text=Nht;a3.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function bU(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(bU,"utf8CheckByte");function Rht(e,t,r){var n=t.length-1;if(n<r)return 0;var i=bU(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=bU(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=bU(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}a(Rht,"utf8CheckIncomplete");function Lht(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(Lht,"utf8CheckExtraBytes");function Dht(e){var t=this.lastTotal-this.lastNeed,r=Lht(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(Dht,"utf8FillLast");function Nht(e,t){var r=Rht(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(Nht,"utf8Text");function Oht(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(Oht,"utf8End");function qht(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(qht,"utf16Text");function Pht(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(Pht,"utf16End");function Fht(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(Fht,"base64Text");function Uht(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(Uht,"base64End");function Yht(e){return e.toString(this.encoding)}a(Yht,"simpleWrite");function Hht(e){return e&&e.length?this.write(e):""}a(Hht,"simpleEnd")});var mU=j((Hmr,Pbe)=>{"use strict";d();var z2=rc();Pbe.exports=Ci;var zht=ibe(),s3;Ci.ReadableState=Lbe;var Ymr=ea().EventEmitter,Mbe=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),SU=lU(),o3=t3().Buffer,Qht=w.Uint8Array||function(){};function Wht(e){return o3.from(e)}a(Wht,"_uint8ArrayToBuffer");function Vht(e){return o3.isBuffer(e)||e instanceof Qht}a(Vht,"_isUint8Array");var Bbe=Object.create(Rs());Bbe.inherits=kr();var xU=Mf(),Kn=void 0;xU&&xU.debuglog?Kn=xU.debuglog("stream"):Kn=a(function(){},"debug");var jht=lbe(),Rbe=hU(),H2;Bbe.inherits(Ci,SU);var wU=["error","close","destroy","pause","resume"];function Ght(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):zht(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(Ght,"prependListener");function Lbe(e,t){s3=s3||Z1(),e=e||{};var r=t instanceof s3;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new jht,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(H2||(H2=_U().StringDecoder),this.decoder=new H2(e.encoding),this.encoding=e.encoding)}a(Lbe,"ReadableState");function Ci(e){if(s3=s3||Z1(),!(this instanceof Ci))return new Ci(e);this._readableState=new Lbe(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),SU.call(this)}a(Ci,"Readable");Object.defineProperty(Ci.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Ci.prototype.destroy=Rbe.destroy;Ci.prototype._undestroy=Rbe.undestroy;Ci.prototype._destroy=function(e,t){this.push(null),t(e)};Ci.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=o3.from(e,t),t=""),n=!0),Dbe(this,e,t,!1,n)};Ci.prototype.unshift=function(e){return Dbe(this,e,null,!0,!1)};function Dbe(e,t,r,n,i){var s=e._readableState;if(t===null)s.reading=!1,Jht(e,s);else{var o;i||(o=Kht(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==o3.prototype&&(t=Wht(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):AU(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?AU(e,s,t,!1):Nbe(e,s)):AU(e,s,t,!1))):n||(s.reading=!1)}return $ht(s)}a(Dbe,"readableAddChunk");function AU(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ik(e)),Nbe(e,t)}a(AU,"addChunk");function Kht(e,t){var r;return!Vht(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(Kht,"chunkInvalid");function $ht(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a($ht,"needMoreData");Ci.prototype.isPaused=function(){return this._readableState.flowing===!1};Ci.prototype.setEncoding=function(e){return H2||(H2=_U().StringDecoder),this._readableState.decoder=new H2(e),this._readableState.encoding=e,this};var Cbe=8388608;function Xht(e){return e>=Cbe?e=Cbe:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(Xht,"computeNewHighWaterMark");function Ibe(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Xht(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Ibe,"howMuchToRead");Ci.prototype.read=function(e){Kn("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Kn("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?EU(this):Ik(this),null;if(e=Ibe(e,t),e===0&&t.ended)return t.length===0&&EU(this),null;var n=t.needReadable;Kn("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Kn("length less than watermark",n)),t.ended||t.reading?(n=!1,Kn("reading or ended",n)):n&&(Kn("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Ibe(r,t)));var i;return e>0?i=Obe(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&EU(this)),i!==null&&this.emit("data",i),i};function Jht(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Ik(e)}}a(Jht,"onEofChunk");function Ik(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Kn("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?z2.nextTick(Tbe,e):Tbe(e))}a(Ik,"emitReadable");function Tbe(e){Kn("emit readable"),e.emit("readable"),kU(e)}a(Tbe,"emitReadable_");function Nbe(e,t){t.readingMore||(t.readingMore=!0,z2.nextTick(Zht,e,t))}a(Nbe,"maybeReadMore");function Zht(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Kn("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(Zht,"maybeReadMore_");Ci.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Ci.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Kn("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==_.default.stdout&&e!==_.default.stderr,s=i?l:z;n.endEmitted?z2.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(P,Q){Kn("onunpipe"),P===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h())}a(o,"onunpipe");function l(){Kn("onend"),e.end()}a(l,"onend");var u=edt(r);e.on("drain",u);var f=!1;function h(){Kn("cleanup"),e.removeListener("close",E),e.removeListener("finish",M),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",z),r.removeListener("data",g),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}a(h,"cleanup");var p=!1;r.on("data",g);function g(P){Kn("ondata"),p=!1;var Q=e.write(P);Q===!1&&!p&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&qbe(n.pipes,e)!==-1)&&!f&&(Kn("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}a(g,"ondata");function y(P){Kn("onerror",P),z(),e.removeListener("error",y),Mbe(e,"error")===0&&e.emit("error",P)}a(y,"onerror"),Ght(e,"error",y);function E(){e.removeListener("finish",M),z()}a(E,"onclose"),e.once("close",E);function M(){Kn("onfinish"),e.removeListener("close",E),z()}a(M,"onfinish"),e.once("finish",M);function z(){Kn("unpipe"),r.unpipe(e)}return a(z,"unpipe"),e.emit("pipe",r),n.flowing||(Kn("pipe resume"),r.resume()),e};function edt(e){return function(){var t=e._readableState;Kn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Mbe(e,"data")&&(t.flowing=!0,kU(e))}}a(edt,"pipeOnDrain");Ci.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=qbe(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Ci.prototype.on=function(e,t){var r=SU.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ik(this):z2.nextTick(tdt,this))}return r};Ci.prototype.addListener=Ci.prototype.on;function tdt(e){Kn("readable nexttick read 0"),e.read(0)}a(tdt,"nReadingNextTick");Ci.prototype.resume=function(){var e=this._readableState;return e.flowing||(Kn("resume"),e.flowing=!0,rdt(this,e)),this};function rdt(e,t){t.resumeScheduled||(t.resumeScheduled=!0,z2.nextTick(ndt,e,t))}a(rdt,"resume");function ndt(e,t){t.reading||(Kn("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),kU(e),t.flowing&&!t.reading&&e.read(0)}a(ndt,"resume_");Ci.prototype.pause=function(){return Kn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Kn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function kU(e){var t=e._readableState;for(Kn("flow",t.flowing);t.flowing&&e.read()!==null;);}a(kU,"flow");Ci.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Kn("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Kn("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var l=t.push(o);l||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));for(var s=0;s<wU.length;s++)e.on(wU[s],this.emit.bind(this,wU[s]));return this._read=function(o){Kn("wrapped _read",o),n&&(n=!1,e.resume())},this};Object.defineProperty(Ci.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ci._fromList=Obe;function Obe(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=idt(e,t.buffer,t.decoder),r}a(Obe,"fromList");function idt(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?adt(e,t):sdt(e,t),n}a(idt,"fromListPartial");function adt(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}a(adt,"copyFromBufferString");function sdt(e,t){var r=o3.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}a(sdt,"copyFromBuffer");function EU(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,z2.nextTick(odt,t,e))}a(EU,"endReadable");function odt(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(odt,"endReadableNT");function qbe(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(qbe,"indexOf")});var CU=j((Wmr,Ybe)=>{"use strict";d();Ybe.exports=Ch;var Tk=Z1(),Ube=Object.create(Rs());Ube.inherits=kr();Ube.inherits(Ch,Tk);function cdt(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}a(cdt,"afterTransform");function Ch(e){if(!(this instanceof Ch))return new Ch(e);Tk.call(this,e),this._transformState={afterTransform:cdt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ldt)}a(Ch,"Transform");function ldt(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Fbe(e,t,r)}):Fbe(this,null,null)}a(ldt,"prefinish");Ch.prototype.push=function(e,t){return this._transformState.needTransform=!1,Tk.prototype.push.call(this,e,t)};Ch.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Ch.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ch.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ch.prototype._destroy=function(e,t){var r=this;Tk.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Fbe(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(Fbe,"done")});var Wbe=j((Gmr,Qbe)=>{"use strict";d();Qbe.exports=c3;var Hbe=CU(),zbe=Object.create(Rs());zbe.inherits=kr();zbe.inherits(c3,Hbe);function c3(e){if(!(this instanceof c3))return new c3(e);Hbe.call(this,e)}a(c3,"PassThrough");c3.prototype._transform=function(e,t,r){r(null,e)}});var jbe=j((Gu,Vbe)=>{d();Gu=Vbe.exports=mU();Gu.Stream=Gu;Gu.Readable=Gu;Gu.Writable=pU();Gu.Duplex=Z1();Gu.Transform=CU();Gu.PassThrough=Wbe()});var Kbe=j((Jmr,Gbe)=>{"use strict";d();var udt=jbe().Duplex,Mk=Symbol("Callback"),eg=Symbol("Other"),l3=class extends udt{constructor(t){super(t),this[Mk]=null,this[eg]=null}_read(){let t=this[Mk];t&&(this[Mk]=null,t())}_write(t,r,n){this[eg][Mk]=n,this[eg].push(t)}_final(t){this[eg].on("end",t),this[eg].push(null)}};a(l3,"DuplexSocket");var Bk=class{constructor(t){this.socket1=new l3(t),this.socket2=new l3(t),this.socket1[eg]=this.socket2,this.socket2[eg]=this.socket1}};a(Bk,"DuplexPair");Gbe.exports=Bk});var Zbe=j((r2r,Jbe)=>{d();var{EventEmitter:fdt}=ea(),hdt=wye(),ddt=rbe(),t2r=Kbe(),pdt=["wss://geut-webrtc-signal-v3.herokuapp.com","wss://signal.dat-web.eu","wss://geut-webrtc-signal-v3.glitch.me"],gdt="wss://hyperswarm.mauve.moe";Jbe.exports=a(function(t){return new Rk(t)},"swarm");function $be(e,t=[],r=[]){let n=t.map(i=>(i.endsWith("/")&&(i=i.slice(0,-1)),`${i}/${e}`));if(n=n.concat(r),n.length!==0)return n}a($be,"getBootstrapUrls");function Xbe(e){let{id:t,channel:r,initiator:n}=e;return{type:"webrtc",client:n,peer:{port:0,host:t,topic:r},deduplicate:()=>!1}}a(Xbe,"webrtcPeerInfo");var Rk=class extends fdt{constructor(t={}){super();let{bootstrap:r,webrtcBootstrap:n,wsProxy:i,maxPeers:s,simplePeer:o,wsReconnectDelay:l}=t;this.webrtcOpts={maxPeers:s,simplePeer:o,bootstrap:$be("signal",r,n)||pdt},this.wsOpts={maxPeers:s,proxy:$be("proxy",r,i)||gdt},l&&(this.wsOpts.reconnectDelay=l),this.isListening=!1,this.destroyed=!1,this._peers=new Map}_handleConnection(t,r){this._peers.set(r.peer.host,{connection:t,info:r}),this.emit("connection",t,r)}_handleDisconnection(t,r){this._peers.delete(r.peer.host),this.emit("disconnection",t,r)}get peers(){return Array.from(this._peers.values())}address(){return{port:0,family:"IPv4",address:"127.0.0.1"}}listen(t,r){if(this.isListening)return setTimeout(r,0);this.isListening=!0,this.webrtc=hdt(this.webrtcOpts),this.webrtc.on("connection",(n,i)=>this._handleConnection(n,Xbe(i))),this.webrtc.on("connection-closed",(n,i)=>this._handleDisconnection(n,Xbe(i))),this.ws=new ddt(this.wsOpts),this.ws.on("connection",(n,i)=>this._handleConnection(n,i)),this.ws.on("disconnection",(n,i)=>this._handleDisconnection(n,i))}join(t,r){this.listen(),this.webrtc.join(t),this.ws.join(t,r)}leave(t){this.listen(),this.webrtc.leave(t),this.ws.leave(t)}connect(t,r){this.listen(),this.ws.connect(t,r)}connectivity(t){this.listen(()=>{t(null,{bound:!0,bootstrapped:!0,holepunched:!0})})}flush(t){_.default.nextTick(t)}status(){return{lookup:!0,announce:!1}}destroy(t){this.destroyed=!0,this.webrtc.close(()=>{this.ws.destroy(t)})}};a(Rk,"HyperswarmWeb")});var tg=j((a2r,eve)=>{d();eve.exports=Gd()});var tve=j((o2r,Lk)=>{d();var ydt=function(){"use strict";function e(h,p){return p!=null&&h instanceof p}a(e,"_instanceof");var t;try{t=Map}catch{t=a(function(){},"nativeMap")}var r;try{r=Set}catch{r=a(function(){},"nativeSet")}var n;try{n=Promise}catch{n=a(function(){},"nativePromise")}function i(h,p,g,y,E){typeof p=="object"&&(g=p.depth,y=p.prototype,E=p.includeNonEnumerable,p=p.circular);var M=[],z=[],P=typeof b.Buffer<"u";typeof p>"u"&&(p=!0),typeof g>"u"&&(g=1/0);function Q(V,W){if(V===null)return null;if(W===0)return V;var F,B;if(typeof V!="object")return V;if(e(V,t))F=new t;else if(e(V,r))F=new r;else if(e(V,n))F=new n(function(A,U){V.then(function(G){A(Q(G,W-1))},function(G){U(Q(G,W-1))})});else if(i.__isArray(V))F=[];else if(i.__isRegExp(V))F=new RegExp(V.source,f(V)),V.lastIndex&&(F.lastIndex=V.lastIndex);else if(i.__isDate(V))F=new Date(V.getTime());else{if(P&&b.Buffer.isBuffer(V))return b.Buffer.allocUnsafe?F=b.Buffer.allocUnsafe(V.length):F=new b.Buffer(V.length),V.copy(F),F;e(V,Error)?F=Object.create(V):typeof y>"u"?(B=Object.getPrototypeOf(V),F=Object.create(B)):(F=Object.create(y),B=y)}if(p){var S=M.indexOf(V);if(S!=-1)return z[S];M.push(V),z.push(F)}e(V,t)&&V.forEach(function(A,U){var G=Q(U,W-1),K=Q(A,W-1);F.set(G,K)}),e(V,r)&&V.forEach(function(A){var U=Q(A,W-1);F.add(U)});for(var T in V){var k;B&&(k=Object.getOwnPropertyDescriptor(B,T)),!(k&&k.set==null)&&(F[T]=Q(V[T],W-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(V),T=0;T<R.length;T++){var x=R[T],N=Object.getOwnPropertyDescriptor(V,x);N&&!N.enumerable&&!E||(F[x]=Q(V[x],W-1),N.enumerable||Object.defineProperty(F,x,{enumerable:!1}))}if(E)for(var m=Object.getOwnPropertyNames(V),T=0;T<m.length;T++){var v=m[T],N=Object.getOwnPropertyDescriptor(V,v);N&&N.enumerable||(F[v]=Q(V[v],W-1),Object.defineProperty(F,v,{enumerable:!1}))}return F}return a(Q,"_clone"),Q(h,g)}a(i,"clone"),i.clonePrototype=a(function(p){if(p===null)return null;var g=a(function(){},"c");return g.prototype=p,new g},"clonePrototype");function s(h){return Object.prototype.toString.call(h)}a(s,"__objToStr"),i.__objToStr=s;function o(h){return typeof h=="object"&&s(h)==="[object Date]"}a(o,"__isDate"),i.__isDate=o;function l(h){return typeof h=="object"&&s(h)==="[object Array]"}a(l,"__isArray"),i.__isArray=l;function u(h){return typeof h=="object"&&s(h)==="[object RegExp]"}a(u,"__isRegExp"),i.__isRegExp=u;function f(h){var p="";return h.global&&(p+="g"),h.ignoreCase&&(p+="i"),h.multiline&&(p+="m"),p}return a(f,"__getRegExpFlags"),i.__getRegExpFlags=f,i}();typeof Lk=="object"&&Lk.exports&&(Lk.exports=ydt)});var nve=j((u2r,rve)=>{d();rve.exports=Gd()});var ave=j((h2r,ive)=>{d();ive.exports=Gd()});var lve=j((p2r,cve)=>{d();var{sodium_malloc:sve,sodium_memzero:rg}=tg(),{crypto_aead_chacha20poly1305_ietf_KEYBYTES:mdt,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:ove,crypto_aead_chacha20poly1305_ietf_ABYTES:bdt,crypto_aead_chacha20poly1305_ietf_encrypt:vdt,crypto_aead_chacha20poly1305_ietf_decrypt:_dt}=ave(),nc=Vn(),y0=32,Dk=8,Ih=16;nc(mdt===y0);nc(ove===4+Dk);nc(bdt===Ih);cve.exports={KEYLEN:y0,NONCELEN:Dk,MACLEN:Ih,encrypt:Th,decrypt:W2,rekey:u3};var g0=sve(ove);function Th(e,t,r,n,i){nc(e.byteLength>=i.byteLength+Ih,"output buffer must be at least plaintext plus MACLEN bytes long"),nc(t.byteLength===y0),nc(r.byteLength===Dk),nc(n==null?!0:n.byteLength!=null),rg(g0),g0.set(r,4),Th.bytesWritten=vdt(e.subarray(0,i.byteLength+Ih),i,n,null,g0,t),Th.bytesRead=Th.bytesWritten-Ih,rg(g0)}a(Th,"encrypt");Th.bytesWritten=0;Th.bytesRead=0;function W2(e,t,r,n,i){nc(e.byteLength>=i.byteLength-Ih),nc(t.byteLength===y0),nc(r.byteLength===Dk),nc(n==null?!0:n.byteLength!=null),rg(g0),g0.set(r,4),W2.bytesWritten=_dt(e.subarray(0,i.byteLength-Ih),null,i,n,g0,t),W2.bytesRead=W2.bytesWritten+Ih,rg(g0)}a(W2,"decrypt");W2.bytesWritten=0;W2.bytesRead=0;var xdt=new Uint8Array(8).fill(255),wdt=new Uint8Array(0),Adt=new Uint8Array(32),Q2=sve(y0+Ih);rg(Q2);function u3(e,t){nc(e.byteLength===y0),nc(t.byteLength===y0),rg(Q2),Q2.set(t),Th(Q2,t,xdt,wdt,Adt),u3.bytesWritten=Th.bytesWritten,u3.bytesRead=Th.bytesRead,e.set(Q2.subarray(0,y0)),rg(Q2)}a(u3,"rekey");u3.bytesWritten=0;u3.bytesRead=0});var MU=j((m2r,gve)=>{d();var{sodium_memzero:uve}=tg(),{sodium_increment:fve,sodium_memcmp:hve,sodium_is_zero:Edt}=nve(),Jc=Vn(),Ls=lve(),ng=Ls.KEYLEN+Ls.NONCELEN,dve=Ls.NONCELEN,Sdt=Ls.MACLEN;gve.exports={STATELEN:ng,NONCELEN:dve,MACLEN:Sdt,initializeKey:kdt,hasKey:TU,setNonce:Cdt,encryptWithAd:m0,decryptWithAd:b0,rekey:f3};var h3=0,V2=Ls.KEYLEN,d3=V2,IU=d3+Ls.NONCELEN;function kdt(e,t){if(Jc(e.byteLength===ng),Jc(t==null?!0:t.byteLength===Ls.KEYLEN),t==null){uve(e.subarray(h3,V2));return}e.set(t),uve(e.subarray(d3,IU))}a(kdt,"initializeKey");function TU(e){Jc(e.byteLength===ng);var t=e.subarray(h3,V2);return Edt(t)===!1}a(TU,"hasKey");function Cdt(e,t){Jc(e.byteLength===ng),Jc(t.byteLength===dve),e.set(t,d3)}a(Cdt,"setNonce");var pve=new Uint8Array(8).fill(255);function m0(e,t,r,n){Jc(e.byteLength===ng),Jc(t.byteLength!=null),Jc(n.byteLength!=null);var i=e.subarray(d3,IU);if(hve(i,pve))throw new Error("Nonce overflow");if(TU(e)===!1){t.set(n),m0.bytesRead=n.byteLength,m0.bytesWritten=m0.bytesRead;return}var s=e.subarray(h3,V2);Ls.encrypt(t,s,i,r,n),m0.bytesRead=Ls.encrypt.bytesRead,m0.bytesWritten=Ls.encrypt.bytesWritten,fve(i)}a(m0,"encryptWithAd");m0.bytesRead=0;m0.bytesWritten=0;function b0(e,t,r,n){Jc(e.byteLength===ng),Jc(t.byteLength!=null),Jc(n.byteLength!=null);var i=e.subarray(d3,IU);if(hve(i,pve))throw new Error("Nonce overflow");if(TU(e)===!1){t.set(n),b0.bytesRead=n.byteLength,b0.bytesWritten=b0.bytesRead;return}var s=e.subarray(h3,V2);Ls.decrypt(t,s,i,r,n),b0.bytesRead=Ls.decrypt.bytesRead,b0.bytesWritten=Ls.decrypt.bytesWritten,fve(i)}a(b0,"decryptWithAd");b0.bytesRead=0;b0.bytesWritten=0;function f3(e){Jc(e.byteLength===ng);var t=e.subarray(h3,V2);Ls.rekey(t,t),f3.bytesRead=Ls.rekey.bytesRead,f3.bytesWritten=Ls.rekey.bytesWritten}a(f3,"rekey");f3.bytesRead=0;f3.bytesWritten=0});var BU=j((_2r,yve)=>{d();yve.exports=Gd()});var bve=j((w2r,mve)=>{d();Mh.notEqual=Tdt;Mh.notOk=Mdt;Mh.equal=Idt;Mh.ok=Mh;mve.exports=Mh;function Idt(e,t,r){Mh(e==t,r)}a(Idt,"equal");function Tdt(e,t,r){Mh(e!=t,r)}a(Tdt,"notEqual");function Mdt(e,t){Mh(!e,t)}a(Mdt,"notOk");function Mh(e,t){if(!e)throw new Error(t||"AssertionError")}a(Mh,"assert")});var _ve=j((S2r,Ok)=>{d();var{sodium_malloc:Bdt,sodium_memzero:p3}=tg(),{crypto_generichash:Rdt,crypto_generichash_batch:vve}=BU(),RU=bve(),Nk=64,Bh=128,NU=Bdt(Bh*3),v0=NU.subarray(Bh*0,Bh*1),LU=NU.subarray(Bh*1,Bh*2),DU=NU.subarray(Bh*2,Bh*3);Ok.exports=a(function(t,r,n){RU(t.byteLength===Nk),RU(n.byteLength!=null),RU(Array.isArray(r)?r.every(s=>s.byteLength!=null):r.byteLength!=null),n.byteLength>Bh?(Rdt(v0.subarray(0,Nk),n),p3(v0.subarray(Nk))):(v0.set(n),p3(v0.subarray(n.byteLength)));for(var i=0;i<v0.byteLength;i++)LU[i]=92^v0[i],DU[i]=54^v0[i];p3(v0),vve(t,[DU].concat(r)),p3(DU),vve(t,[LU].concat(t)),p3(LU)},"hmac");Ok.exports.BYTES=Nk;Ok.exports.KEYBYTES=Bh});var wve=j((I2r,xve)=>{d();xve.exports=Gd()});var Eve=j((M2r,Ave)=>{d();Ave.exports=Gd()});var Pk=j((R2r,Cve)=>{d();var{crypto_kx_SEEDBYTES:Ldt,crypto_kx_keypair:Ddt,crypto_kx_seed_keypair:Ndt}=wve(),{crypto_scalarmult_BYTES:Sve,crypto_scalarmult_SCALARBYTES:Odt,crypto_scalarmult:qdt}=Eve(),_0=Vn(),kve=Sve,qk=Sve,g3=Odt,Pdt=Ldt;Cve.exports={DHLEN:kve,PKLEN:qk,SKLEN:g3,SEEDLEN:Pdt,generateKeypair:Fdt,generateSeedKeypair:Udt,dh:Ydt};function Fdt(e,t){_0(e.byteLength===qk),_0(t.byteLength===g3),Ddt(e,t)}a(Fdt,"generateKeypair");function Udt(e,t,r){_0(e.byteLength===qk),_0(t.byteLength===g3),_0(r.byteLength===g3),Ndt(e,t,r)}a(Udt,"generateSeedKeypair");function Ydt(e,t,r){_0(e.byteLength===kve),_0(t.byteLength===g3),_0(r.byteLength===qk),qdt(e,t,r)}a(Ydt,"dh")});var qU=j((N2r,Bve)=>{d();var{sodium_malloc:Hdt,sodium_memzero:Ive}=tg(),{crypto_generichash_batch:zdt}=BU(),Rh=Vn(),OU=_ve(),Tve=Pk(),x0=64,Mve=128;Rh(OU.KEYBYTES===Mve,"mismatching hmac BLOCKLEN");Rh(OU.BYTES===x0,"mismatching hmac HASHLEN");Bve.exports={HASHLEN:x0,BLOCKLEN:Mve,hash:Qdt,hkdf:Gdt};function Qdt(e,t){Rh(e.byteLength===x0),Rh(Array.isArray(t)),zdt(e,t)}a(Qdt,"hash");function Fk(e,t,r){return OU(e,r,t)}a(Fk,"hmac");var j2=Hdt(x0),Wdt=new Uint8Array([1]),Vdt=new Uint8Array([2]),jdt=new Uint8Array([3]);function Gdt(e,t,r,n,i){Rh(e.byteLength===x0),Rh(t.byteLength===x0),Rh(r==null?!0:r.byteLength===x0),Rh(n.byteLength===x0),Rh([0,32,Tve.DHLEN,Tve.PKLEN].includes(i.byteLength)),Ive(j2),Fk(j2,n,[i]),Fk(e,j2,[Wdt]),Fk(t,j2,[e,Vdt]),r!=null&&Fk(r,j2,[t,jdt]),Ive(j2)}a(Gdt,"hkdf")});var YU=j((P2r,Rve)=>{d();var{sodium_malloc:Uk,sodium_memzero:X2}=tg(),Ja=Vn(),Ds=MU(),Ku=qU(),Lh=Ku.HASHLEN+Ku.HASHLEN+Ds.STATELEN,Z2=Ku.HASHLEN;Rve.exports={STATELEN:Lh,initializeSymmetric:Kdt,mixKey:$dt,mixHash:Yk,mixKeyAndHash:Xdt,getHandshakeHash:Jdt,encryptAndHash:K2,decryptAndHash:$2,split:e0t,_hasKey:t0t};var J2=0,ig=Ku.HASHLEN,w0=ig,ag=w0+Ku.HASHLEN,sg=ag,eb=sg+Ds.STATELEN;function Kdt(e,t){Ja(e.byteLength===Lh),Ja(t.byteLength!=null),X2(e),t.byteLength<=Z2?e.set(t,w0):Ku.hash(e.subarray(w0,ag),[t]),e.subarray(J2,ig).set(e.subarray(w0,ag)),Ds.initializeKey(e.subarray(sg,eb),null)}a(Kdt,"initializeSymmetric");var G2=Uk(Z2);function $dt(e,t){Ja(e.byteLength===Lh),Ja(t.byteLength!=null),Ku.hkdf(e.subarray(J2,ig),G2,null,e.subarray(J2,ig),t),Ds.initializeKey(e.subarray(sg,eb),G2.subarray(0,32)),X2(G2)}a($dt,"mixKey");function Yk(e,t){Ja(e.byteLength===Lh);var r=e.subarray(w0,ag);Ku.hash(r,[r,t])}a(Yk,"mixHash");var PU=Uk(Z2);function Xdt(e,t){Ja(e.byteLength===Lh),Ja(t.byteLength!=null),Ku.hkdf(e.subarray(J2,ig),PU,G2,e.subarray(J2,ig),t),Yk(e,PU),X2(PU),Ds.initializeKey(e.subarray(sg,eb),G2.subarray(0,32)),X2(G2)}a(Xdt,"mixKeyAndHash");function Jdt(e,t){Ja(e.byteLength===Lh),Ja(t.byteLength===Z2),t.set(e.subarray(w0,ag))}a(Jdt,"getHandshakeHash");function K2(e,t,r){Ja(e.byteLength===Lh),Ja(t.byteLength!=null),Ja(r.byteLength!=null);var n=e.subarray(sg,eb),i=e.subarray(w0,ag);Ds.encryptWithAd(n,t,i,r),K2.bytesRead=Ds.encryptWithAd.bytesRead,K2.bytesWritten=Ds.encryptWithAd.bytesWritten,Yk(e,t.subarray(0,K2.bytesWritten))}a(K2,"encryptAndHash");K2.bytesRead=0;K2.bytesWritten=0;function $2(e,t,r){Ja(e.byteLength===Lh),Ja(t.byteLength!=null),Ja(r.byteLength!=null);var n=e.subarray(sg,eb),i=e.subarray(w0,ag);Ds.decryptWithAd(n,t,i,r),$2.bytesRead=Ds.decryptWithAd.bytesRead,$2.bytesWritten=Ds.decryptWithAd.bytesWritten,Yk(e,r.subarray(0,$2.bytesRead))}a($2,"decryptAndHash");$2.bytesRead=0;$2.bytesWritten=0;var FU=Uk(Z2),UU=Uk(Z2),Zdt=new Uint8Array(0);function e0t(e,t,r){Ja(e.byteLength===Lh),Ja(t.byteLength===Ds.STATELEN),Ja(r.byteLength===Ds.STATELEN),Ku.hkdf(FU,UU,null,e.subarray(J2,ig),Zdt),Ds.initializeKey(t,FU.subarray(0,32)),Ds.initializeKey(r,UU.subarray(0,32)),X2(FU),X2(UU)}a(e0t,"split");function t0t(e){return Ds.hasKey(e.subarray(sg,eb))}a(t0t,"_hasKey")});var qve=j((Y2r,Ove)=>{d();var{sodium_malloc:eo,sodium_memzero:A0,sodium_free:og}=tg(),qn=Vn(),Lve=tve(),vi=YU(),Hk=MU(),$r=Pk(),HU=$r.PKLEN,zU=$r.SKLEN;Ove.exports=Object.freeze({initialize:r0t,writeMessage:WU,readMessage:VU,destroy:n0t,keygen:Nve,seedKeygen:i0t,SKLEN:zU,PKLEN:HU});function QU(){this.symmetricState=eo(vi.STATELEN),this.initiator=null,this.spk=null,this.ssk=null,this.epk=null,this.esk=null,this.rs=null,this.re=null,this.messagePatterns=null}a(QU,"HandshakeState");var ai=Symbol("initiator"),va=Symbol("responder"),bi=Symbol("s"),Zn=Symbol("e"),ic=Symbol("es"),Dl=Symbol("se"),ko=Symbol("ee"),rb=Symbol("es"),Dve=Object.freeze({N:{premessages:[[va,bi]],messagePatterns:[[ai,Zn,ic]]},K:{premessages:[[ai,bi],[va,bi]],messagePatterns:[[ai,Zn,ic,rb]]},X:{premessages:[[va,bi]],messagePatterns:[[ai,Zn,ic,bi,rb]]},NN:{premessages:[],messagePatterns:[[ai,Zn],[va,Zn,ko]]},KN:{premessages:[[ai,bi]],messagePatterns:[[ai,Zn],[va,Zn,ko,Dl]]},NK:{premessages:[[va,bi]],messagePatterns:[[ai,Zn,ic],[va,Zn,ko]]},KK:{premessages:[[ai,bi],[va,bi]],messagePatterns:[[ai,Zn,ic,rb],[va,Zn,ko,Dl]]},NX:{premessages:[],messagePatterns:[[ai,Zn],[va,Zn,ko,bi,ic]]},KX:{premessages:[[ai,bi]],messagePatterns:[[ai,Zn],[va,Zn,ko,Dl,bi,ic]]},XN:{premessages:[],messagePatterns:[[ai,Zn],[va,Zn,ko],[ai,bi,Dl]]},IN:{premessages:[],messagePatterns:[[ai,Zn,bi],[va,Zn,ko,Dl]]},XK:{premessages:[[va,bi]],messagePatterns:[[ai,Zn,ic],[va,Zn,ko],[ai,bi,Dl]]},IK:{premessages:[[va,bi]],messagePatterns:[[ai,Zn,ic,bi,rb],[va,Zn,ko,Dl]]},XX:{premessages:[],messagePatterns:[[ai,Zn],[va,Zn,ko,bi,ic],[ai,bi,Dl]]},IX:{premessages:[],messagePatterns:[[ai,Zn,bi],[va,Zn,ko,Dl,bi,ic]]}});function tb(e){var t=eo(e.byteLength);return t.set(e),t}a(tb,"sodiumBufferCopy");function r0t(e,t,r,n,i,s,o){qn(Object.keys(Dve).includes(e),"Unsupported handshake pattern"),qn(typeof t=="boolean","Initiator must be a boolean"),qn(r.byteLength!=null,"prolouge must be a Buffer"),qn(i==null?!0:i.publicKey.byteLength===$r.PKLEN,`e.publicKey must be ${$r.PKLEN} bytes`),qn(i==null?!0:i.secretKey.byteLength===$r.SKLEN,`e.secretKey must be ${$r.SKLEN} bytes`),qn(s==null?!0:s.byteLength===$r.PKLEN,`rs must be ${$r.PKLEN} bytes`),qn(o==null?!0:o.byteLength===$r.PKLEN,`re must be ${$r.PKLEN} bytes`);var l=new QU,u=Uint8Array.from(`Noise_${e}_25519_ChaChaPoly_BLAKE2b`,a0t);vi.initializeSymmetric(l.symmetricState,u),vi.mixHash(l.symmetricState,r),l.role=t===!0?ai:va,n!=null&&(qn(n.publicKey.byteLength===$r.PKLEN,`s.publicKey must be ${$r.PKLEN} bytes`),qn(n.secretKey.byteLength===$r.SKLEN,`s.secretKey must be ${$r.SKLEN} bytes`),l.spk=tb(n.publicKey),l.ssk=tb(n.secretKey)),i!=null&&(qn(i.publicKey.byteLength===$r.PKLEN),qn(i.secretKey.byteLength===$r.SKLEN),l.epk=tb(i.publicKey),l.esk=tb(i.secretKey)),s!=null&&(qn(s.byteLength===$r.PKLEN),l.rs=tb(s)),o!=null&&(qn(o.byteLength===$r.PKLEN),l.re=tb(o));var f=Dve[e];for(var h of Lve(f.premessages)){var p=h.shift();for(var g of h)switch(g){case Zn:qn(l.role===p?l.epk.byteLength!=null:l.re.byteLength!=null),vi.mixHash(l.symmetricState,l.role===p?l.epk:l.re);break;case bi:qn(l.role===p?l.spk.byteLength!=null:l.rs.byteLength!=null),vi.mixHash(l.symmetricState,l.role===p?l.spk:l.rs);break;default:throw new Error("Invalid premessage pattern")}}return l.messagePatterns=Lve(f.messagePatterns),qn(l.messagePatterns.filter(y=>y[0]===ai).some(y=>y.includes(bi))?l.spk!==null&&l.ssk!==null:!0,"This handshake pattern requires a static keypair"),l}a(r0t,"initialize");var si=eo($r.DHLEN);function WU(e,t,r){qn(e instanceof QU),qn(t.byteLength!=null),qn(r.byteLength!=null);var n=e.messagePatterns.shift(),i=0;qn(n!=null),qn(e.role===n.shift());for(var s of n)switch(s){case Zn:qn(e.epk==null),qn(e.esk==null),e.epk=eo($r.PKLEN),e.esk=eo($r.SKLEN),$r.generateKeypair(e.epk,e.esk),r.set(e.epk,i),i+=e.epk.byteLength,vi.mixHash(e.symmetricState,e.epk);break;case bi:qn(e.spk.byteLength===$r.PKLEN),vi.encryptAndHash(e.symmetricState,r.subarray(i),e.spk),i+=vi.encryptAndHash.bytesWritten;break;case ko:$r.dh(si,e.esk,e.re),vi.mixKey(e.symmetricState,si),A0(si);break;case ic:e.role===ai?$r.dh(si,e.esk,e.rs):$r.dh(si,e.ssk,e.re),vi.mixKey(e.symmetricState,si),A0(si);break;case Dl:e.role===ai?$r.dh(si,e.ssk,e.re):$r.dh(si,e.esk,e.rs),vi.mixKey(e.symmetricState,si),A0(si);break;case rb:$r.dh(si,e.ssk,e.rs),vi.mixKey(e.symmetricState,si),A0(si);break;default:throw new Error("Invalid message pattern")}if(vi.encryptAndHash(e.symmetricState,r.subarray(i),t),i+=vi.encryptAndHash.bytesWritten,WU.bytes=i,e.messagePatterns.length===0){var o=eo(Hk.STATELEN),l=eo(Hk.STATELEN);return vi.split(e.symmetricState,o,l),{tx:o,rx:l}}}a(WU,"writeMessage");WU.bytes=0;function VU(e,t,r){qn(e instanceof QU),qn(t.byteLength!=null),qn(r.byteLength!=null);var n=e.messagePatterns.shift(),i=0;qn(n!=null),qn(n.shift()!==e.role);for(var s of n)switch(s){case Zn:qn(e.re==null),qn(t.byteLength-i>=$r.PKLEN),e.re=eo($r.PKLEN),e.re.set(t.subarray(i,i+$r.PKLEN)),i+=$r.PKLEN,vi.mixHash(e.symmetricState,e.re);break;case bi:qn(e.rs==null),e.rs=eo($r.PKLEN);var o=0;vi._hasKey(e.symmetricState)?o=$r.PKLEN+16:o=$r.PKLEN,qn(t.byteLength-i>=o),vi.decryptAndHash(e.symmetricState,e.rs,t.subarray(i,i+o)),i+=vi.decryptAndHash.bytesRead;break;case ko:$r.dh(si,e.esk,e.re),vi.mixKey(e.symmetricState,si),A0(si);break;case ic:e.role===ai?$r.dh(si,e.esk,e.rs):$r.dh(si,e.ssk,e.re),vi.mixKey(e.symmetricState,si),A0(si);break;case Dl:e.role===ai?$r.dh(si,e.ssk,e.re):$r.dh(si,e.esk,e.rs),vi.mixKey(e.symmetricState,si),A0(si);break;case rb:$r.dh(si,e.ssk,e.rs),vi.mixKey(e.symmetricState,si),A0(si);break;default:throw new Error("Invalid message pattern")}if(vi.decryptAndHash(e.symmetricState,r,t.subarray(i)),VU.bytes=vi.decryptAndHash.bytesWritten,e.messagePatterns.length===0){var l=eo(Hk.STATELEN),u=eo(Hk.STATELEN);return vi.split(e.symmetricState,u,l),{tx:l,rx:u}}}a(VU,"readMessage");VU.bytes=0;function n0t(e){e.symmetricState!=null&&(og(e.symmetricState),e.symmetricState=null),e.role=null,e.spk!=null&&(og(e.spk),e.spk=null),e.ssk!=null&&(og(e.ssk),e.ssk=null),e.epk!=null&&(og(e.epk),e.epk=null),e.esk!=null&&(og(e.esk),e.esk=null),e.rs!=null&&(og(e.rs),e.rs=null),e.re!=null&&(og(e.re),e.re=null),e.messagePatterns=null}a(n0t,"destroy");function Nve(e,t){if(!e)return e={publicKey:eo(HU),secretKey:eo(zU)},Nve(e);if(e.publicKey)return $r.generateKeypair(e.publicKey,e.secretKey),e;e.byteLength!=null&&$r.generateKeypair(null,e)}a(Nve,"keygen");function i0t(e){var t={publicKey:eo(HU),secretKey:eo(zU)};return $r.generateSeedKeypair(t.publicKey,t.secretKey,e),t}a(i0t,"seedKeygen");function a0t(e){return e.charCodeAt(0)}a(a0t,"toCharCode")});var Fve=j((Q2r,Pve)=>{d();Pve.exports=qve()});var Hve=j((V2r,Yve)=>{d();var E0=Fve(),s0t=YU(),o0t=qU(),Dh=Vn(),Uve=b.Buffer.alloc(0);function Nh(e,t){if(!(this instanceof Nh))return new Nh(e,t);t=t||{};var r=t.pattern||"NN",n=t.prolouge||Uve;this.handshakeHash=null,this.onstatickey=t.onstatickey||function(i,s){s()},this.onephemeralkey=t.onephemeralkey||function(i,s){s()},this.onhandshake=t.onhandshake||function(i,s){s()},this.state=E0.initialize(r,e,n,t.staticKeyPair,t.ephemeralKeyPair,t.remoteStaticKey,t.remoteEphemeralKey),this.waiting=e===!1,this.finished=!1,this.split=null,this._tx=b.Buffer.alloc(65535),this._rx=b.Buffer.alloc(65535)}a(Nh,"SimpleHandshake");Nh.prototype.recv=a(function(t,r){var n=this;Dh(n.finished===!1,"Should not call recv if finished"),Dh(t!=null,"must have data"),Dh(t.byteLength<=n._rx.byteLength,"too much data received"),Dh(n.waiting===!0,"Wrong state, not ready to receive data"),Dh(n.split==null,"split should be null");var i=n.state.re!=null,s=n.state.rs!=null;try{n.split=E0.readMessage(n.state,t,n._rx)}catch(h){return n._finish(h,null,r)}n.waiting=!1;var o=n.state.re!=null,l=n.state.rs!=null;if(i===!1&&o===!0)return n.onephemeralkey(n.state.re,u);return u();function u(h){return h?f(h):s===!1&&l===!0?n.onstatickey(n.state.rs,f):f()}function f(h){if(h)return n._finish(h,null,r);var p=n._rx.subarray(0,E0.readMessage.bytes);if(n.split)return n._finish(null,p,r);r(null,p)}},"recv");Nh.prototype.send=a(function(t,r){Dh(this.finished===!1,"Should not call send if finished"),Dh(this.waiting===!1,"Wrong state, not ready to send data"),Dh(this.split==null,"split should be null"),t=t||Uve;try{this.split=E0.writeMessage(this.state,t,this._tx)}catch(i){return this._finish(i,null,r)}this.waiting=!0;var n=this._tx.subarray(0,E0.writeMessage.bytes);return this.split!=null?this._finish(null,n,r):r(null,n)},"send");Nh.prototype.destroy=function(){this._finish(null,null,function(){})};Nh.prototype._finish=a(function(t,r,n){Dh(this.finished===!1,"Already finished");let i=this;if(i.finished=!0,i.waiting=!1,i.split&&(i.handshakeHash=b.Buffer.alloc(o0t.HASHLEN),s0t.getHandshakeHash(i.state.symmetricState,i.handshakeHash)),t)return s(t);i.onhandshake(i.state,s);function s(o){E0.destroy(i.state),n(o,r,i.split),i._rx.fill(0),i._tx.fill(0)}a(s,"ondone")},"_finish");Nh.keygen=E0.keygen;Nh.seedKeygen=E0.seedKeygen;Yve.exports=Nh});var zve=j(nb=>{d();var jU=Math.pow(2,32);nb.encodingLength=function(){return 8};nb.encode=function(e,t,r){t||(t=b.Buffer.allocUnsafe(8)),r||(r=0);let n=Math.floor(e/jU),i=e-n*jU;return t.writeUInt32BE(n,r),t.writeUInt32BE(i,r+4),t};nb.decode=function(e,t){t||(t=0);let r=e.readUInt32BE(t),n=e.readUInt32BE(t+4);return r*jU+n};nb.encode.bytes=8;nb.decode.bytes=8});var y3=j(ji=>{d();var _a=KN(),Qve=zve(),c0t=b.Buffer.from([0]),l0t=b.Buffer.from([1]),u0t=b.Buffer.from([2]),Wve=b.Buffer.from([3]),f0t=b.Buffer.from("hypercore"),Qk=b.Buffer.from("hypercore capability");ji.writerCapability=function(e,t,r){if(!r)return null;let n=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(n,[Wve,Qk,r.tx.slice(0,32),e],r.rx.slice(0,32)),ji.sign(n,t)};ji.verifyRemoteWriterCapability=function(e,t,r){if(!r)return null;let n=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(n,[Wve,Qk,r.rx.slice(0,32),e],r.tx.slice(0,32)),ji.verify(n,t,e)};ji.capability=function(e,t){if(!t)return null;let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[Qk,t.tx.slice(0,32),e],t.rx.slice(0,32)),r};ji.remoteCapability=function(e,t){if(!t)return null;let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[Qk,t.rx.slice(0,32),e],t.tx.slice(0,32)),r};ji.keyPair=function(e){let t=b.Buffer.allocUnsafe(_a.crypto_sign_PUBLICKEYBYTES),r=b.Buffer.allocUnsafe(_a.crypto_sign_SECRETKEYBYTES);return e?_a.crypto_sign_seed_keypair(t,r,e):_a.crypto_sign_keypair(t,r),{publicKey:t,secretKey:r}};ji.validateKeyPair=function(e){let t=b.Buffer.allocUnsafe(_a.crypto_sign_PUBLICKEYBYTES);return _a.crypto_sign_ed25519_sk_to_pk(t,e.secretKey),t.equals(e.publicKey)};ji.sign=function(e,t){let r=b.Buffer.allocUnsafe(_a.crypto_sign_BYTES);return _a.crypto_sign_detached(r,e,t),r};ji.verify=function(e,t,r){return _a.crypto_sign_verify_detached(t,e,r)};ji.data=function(e){let t=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(t,[c0t,zk(e.length),e]),t};ji.leaf=function(e){return ji.data(e.data)};ji.parent=function(e,t){if(e.index>t.index){let n=e;e=t,t=n}let r=b.Buffer.allocUnsafe(32);return _a.crypto_generichash_batch(r,[l0t,zk(e.size+t.size),e.hash,t.hash]),r};ji.tree=function(e,t){let r=new Array(3*e.length+1);var n=0;r[n++]=u0t;for(var i=0;i<e.length;i++){let s=e[i];r[n++]=s.hash,r[n++]=zk(s.index),r[n++]=zk(s.size)}return t||(t=b.Buffer.allocUnsafe(32)),_a.crypto_generichash_batch(t,r),t};ji.signable=function(e,t){let r=b.Buffer.allocUnsafe(40);return b.Buffer.isBuffer(e)?e.copy(r):ji.tree(e,r.slice(0,32)),Qve.encode(t,r.slice(32)),r};ji.randomBytes=function(e){let t=b.Buffer.allocUnsafe(e);return _a.randombytes_buf(t),t};ji.discoveryKey=function(e){let t=b.Buffer.allocUnsafe(32);return _a.crypto_generichash(t,f0t,e),t};_a.sodium_free?ji.free=function(e){e.secure&&_a.sodium_free(e)}:ji.free=function(){};function zk(e){return Qve.encode(e,b.Buffer.allocUnsafe(8))}a(zk,"encodeUInt64")});var Kve=j((ebr,Gve)=>{d();var h0t=Hve(),Wk=Pk(),Vve=y3(),m3=gh();Gve.exports=a(class jve{constructor(t,r,n,i){this.options=n,this.ondone=i,this.buffer=null,this.length=0,this.remotePayload=null,this.payload=r,this.keyPair=n.keyPair||jve.keyPair(),this.remotePublicKey=null,this.onrecv=y0t.bind(this),this.onsend=g0t.bind(this),this.destroyed=!1,this.noise=h0t(t,{pattern:"XX",onhandshake:o,staticKeyPair:this.keyPair,onstatickey:m0t.bind(this)});let s=this;this.noise.waiting===!1&&_.default.nextTick(p0t,this);function o(l,u){_.default.nextTick(d0t,s),u(null)}a(o,"onhandshake")}recv(t){if(!this.destroyed)for(this.buffer?this.buffer=b.Buffer.concat([this.buffer,t]):this.buffer=t;!this.destroyed&&!this.noise.finished;){if(!this.buffer||this.buffer.length<3)return;if(this.length){if(this.buffer.length<this.length)return;let r=this.buffer.slice(0,this.length);this.buffer=this.length<this.buffer.length?this.buffer.slice(this.length):null,this.length=0,this.noise.recv(r,this.onrecv)}else this.length=m3.decode(this.buffer,0),this.buffer=this.buffer.slice(m3.decode.bytes)}}destroy(t){this.destroyed||(this.destroyed=!0,this.noise.finished||this.noise.destroy(),this.ondone(t))}static keyPair(t){let r={publicKey:b.Buffer.alloc(Wk.PKLEN),secretKey:b.Buffer.alloc(Wk.SKLEN)};return t?Wk.generateSeedKeypair(r.publicKey,r.secretKey,t):Wk.generateKeypair(r.publicKey,r.secretKey),r}},"ProtocolHandshake");function d0t(e){if(e.destroyed)return;e.destroyed=!0;let t={rx:b.Buffer.from(e.noise.split.rx),tx:b.Buffer.from(e.noise.split.tx)};Vve.free(e.noise.split.rx),Vve.free(e.noise.split.tx),e.ondone(null,e.remotePayload,t,e.buffer,e.remotePublicKey,e.noise.handshakeHash)}a(d0t,"finish");function p0t(e){e.destroyed||e.noise.send(e.payload,e.onsend)}a(p0t,"start");function g0t(e,t){if(e)return this.destroy(e);let r=b.Buffer.allocUnsafe(m3.encodingLength(t.length)+t.length);m3.encode(t.length,r,0),t.copy(r,m3.encode.bytes),this.options.send(r)}a(g0t,"onsend");function y0t(e,t){if(e)return this.destroy(e);t&&t.length&&(this.remotePayload=b.Buffer.from(t)),!(this.destroyed||this.noise.finished)&&this.noise.waiting===!1&&this.noise.send(this.payload,this.onsend)}a(y0t,"onrecv");function m0t(e,t){this.remotePublicKey=b.Buffer.from(e),this.options.onauthenticate?this.options.onauthenticate(this.remotePublicKey,t):t(null)}a(m0t,"onstatickey")});var $ve=j(sc=>{d();var Gi=mF(),$n=Gi.varint,ac=Gi.skip,GU=sc.NoisePayload={buffer:!0,encodingLength:null,encode:null,decode:null},KU=sc.Open={buffer:!0,encodingLength:null,encode:null,decode:null},$U=sc.Options={buffer:!0,encodingLength:null,encode:null,decode:null},XU=sc.Status={buffer:!0,encodingLength:null,encode:null,decode:null},JU=sc.Have={buffer:!0,encodingLength:null,encode:null,decode:null},ZU=sc.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},eY=sc.Want={buffer:!0,encodingLength:null,encode:null,decode:null},tY=sc.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},rY=sc.Request={buffer:!0,encodingLength:null,encode:null,decode:null},nY=sc.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},Vk=sc.Data={buffer:!0,encodingLength:null,encode:null,decode:null},iY=sc.Close={buffer:!0,encodingLength:null,encode:null,decode:null};b0t();v0t();_0t();x0t();w0t();A0t();E0t();S0t();k0t();C0t();I0t();T0t();function b0t(){var e=[Gi.bytes];GU.encodingLength=t,GU.encode=r,GU.decode=n;function t(i){var s=0;if(!vr(i.nonce))throw new Error("nonce is required");var o=e[0].encodingLength(i.nonce);return s+=1+o,s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.nonce))throw new Error("nonce is required");return s[o++]=10,e[0].encode(i.nonce,s,o),o+=e[0].encode.bytes,r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={nonce:null},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.nonce=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(b0t,"defineNoisePayload");function v0t(){var e=[Gi.bytes];KU.encodingLength=t,KU.encode=r,KU.decode=n;function t(i){var s=0;if(!vr(i.discoveryKey))throw new Error("discoveryKey is required");var o=e[0].encodingLength(i.discoveryKey);if(s+=1+o,vr(i.capability)){var o=e[0].encodingLength(i.capability);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.discoveryKey))throw new Error("discoveryKey is required");return s[o++]=10,e[0].encode(i.discoveryKey,s,o),o+=e[0].encode.bytes,vr(i.capability)&&(s[o++]=18,e[0].encode(i.capability,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={discoveryKey:null,capability:null},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.discoveryKey=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.capability=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(v0t,"defineOpen");function _0t(){var e=[Gi.string,Gi.bool];$U.encodingLength=t,$U.encode=r,$U.decode=n;function t(i){var s=0;if(vr(i.extensions)){for(var o=0;o<i.extensions.length;o++)if(!!vr(i.extensions[o])){var l=e[0].encodingLength(i.extensions[o]);s+=1+l}}if(vr(i.ack)){var l=e[1].encodingLength(i.ack);s+=1+l}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(vr(i.extensions))for(var u=0;u<i.extensions.length;u++)!vr(i.extensions[u])||(s[o++]=10,e[0].encode(i.extensions[u],s,o),o+=e[0].encode.bytes);return vr(i.ack)&&(s[o++]=16,e[1].encode(i.ack,s,o),o+=e[1].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={extensions:[],ack:!1};;){if(o<=s)return n.bytes=s-l,u;var f=$n.decode(i,s);s+=$n.decode.bytes;var h=f>>3;switch(h){case 1:u.extensions.push(e[0].decode(i,s)),s+=e[0].decode.bytes;break;case 2:u.ack=e[1].decode(i,s),s+=e[1].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(_0t,"defineOptions");function x0t(){var e=[Gi.bool];XU.encodingLength=t,XU.encode=r,XU.decode=n;function t(i){var s=0;if(vr(i.uploading)){var o=e[0].encodingLength(i.uploading);s+=1+o}if(vr(i.downloading)){var o=e[0].encodingLength(i.downloading);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;return vr(i.uploading)&&(s[o++]=8,e[0].encode(i.uploading,s,o),o+=e[0].encode.bytes),vr(i.downloading)&&(s[o++]=16,e[0].encode(i.downloading,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={uploading:!1,downloading:!1};;){if(o<=s)return n.bytes=s-l,u;var f=$n.decode(i,s);s+=$n.decode.bytes;var h=f>>3;switch(h){case 1:u.uploading=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 2:u.downloading=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(x0t,"defineStatus");function w0t(){var e=[Gi.varint,Gi.bytes,Gi.bool];JU.encodingLength=t,JU.encode=r,JU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}if(vr(i.bitfield)){var o=e[1].encodingLength(i.bitfield);s+=1+o}if(vr(i.ack)){var o=e[2].encodingLength(i.ack);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),vr(i.bitfield)&&(s[o++]=26,e[1].encode(i.bitfield,s,o),o+=e[1].encode.bytes),vr(i.ack)&&(s[o++]=32,e[2].encode(i.ack,s,o),o+=e[2].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={start:0,length:1,bitfield:null,ack:!1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:u.bitfield=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:u.ack=e[2].decode(i,s),s+=e[2].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(w0t,"defineHave");function A0t(){var e=[Gi.varint];ZU.encodingLength=t,ZU.encode=r,ZU.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={start:0,length:1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(A0t,"defineUnhave");function E0t(){var e=[Gi.varint];eY.encodingLength=t,eY.encode=r,eY.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={start:0,length:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(E0t,"defineWant");function S0t(){var e=[Gi.varint];tY.encodingLength=t,tY.encode=r,tY.decode=n;function t(i){var s=0;if(!vr(i.start))throw new Error("start is required");var o=e[0].encodingLength(i.start);if(s+=1+o,vr(i.length)){var o=e[0].encodingLength(i.length);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.start))throw new Error("start is required");return s[o++]=8,e[0].encode(i.start,s,o),o+=e[0].encode.bytes,vr(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={start:0,length:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.start=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.length=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(S0t,"defineUnwant");function k0t(){var e=[Gi.varint,Gi.bool];rY.encodingLength=t,rY.encode=r,rY.decode=n;function t(i){var s=0;if(!vr(i.index))throw new Error("index is required");var o=e[0].encodingLength(i.index);if(s+=1+o,vr(i.bytes)){var o=e[0].encodingLength(i.bytes);s+=1+o}if(vr(i.hash)){var o=e[1].encodingLength(i.hash);s+=1+o}if(vr(i.nodes)){var o=e[0].encodingLength(i.nodes);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.index))throw new Error("index is required");return s[o++]=8,e[0].encode(i.index,s,o),o+=e[0].encode.bytes,vr(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes),vr(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes),vr(i.nodes)&&(s[o++]=32,e[0].encode(i.nodes,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={index:0,bytes:0,hash:!1,nodes:0},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.index=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.bytes=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:u.hash=e[1].decode(i,s),s+=e[1].decode.bytes;break;case 4:u.nodes=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(k0t,"defineRequest");function C0t(){var e=[Gi.varint,Gi.bool];nY.encodingLength=t,nY.encode=r,nY.decode=n;function t(i){var s=0;if(!vr(i.index))throw new Error("index is required");var o=e[0].encodingLength(i.index);if(s+=1+o,vr(i.bytes)){var o=e[0].encodingLength(i.bytes);s+=1+o}if(vr(i.hash)){var o=e[1].encodingLength(i.hash);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;if(!vr(i.index))throw new Error("index is required");return s[o++]=8,e[0].encode(i.index,s,o),o+=e[0].encode.bytes,vr(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes),vr(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={index:0,bytes:0,hash:!1},f=!1;;){if(o<=s){if(!f)throw new Error("Decoded message is not valid");return n.bytes=s-l,u}var h=$n.decode(i,s);s+=$n.decode.bytes;var p=h>>3;switch(p){case 1:u.index=e[0].decode(i,s),s+=e[0].decode.bytes,f=!0;break;case 2:u.bytes=e[0].decode(i,s),s+=e[0].decode.bytes;break;case 3:u.hash=e[1].decode(i,s),s+=e[1].decode.bytes;break;default:s=ac(h&7,i,s)}}}a(n,"decode")}a(C0t,"defineCancel");function I0t(){var e=Vk.Node={buffer:!0,encodingLength:null,encode:null,decode:null};t();function t(){var o=[Gi.varint,Gi.bytes];e.encodingLength=l,e.encode=u,e.decode=f;function l(h){var p=0;if(!vr(h.index))throw new Error("index is required");var g=o[0].encodingLength(h.index);if(p+=1+g,!vr(h.hash))throw new Error("hash is required");var g=o[1].encodingLength(h.hash);if(p+=1+g,!vr(h.size))throw new Error("size is required");var g=o[0].encodingLength(h.size);return p+=1+g,p}a(l,"encodingLength");function u(h,p,g){g||(g=0),p||(p=b.Buffer.allocUnsafe(l(h)));var y=g;if(!vr(h.index))throw new Error("index is required");if(p[g++]=8,o[0].encode(h.index,p,g),g+=o[0].encode.bytes,!vr(h.hash))throw new Error("hash is required");if(p[g++]=18,o[1].encode(h.hash,p,g),g+=o[1].encode.bytes,!vr(h.size))throw new Error("size is required");return p[g++]=24,o[0].encode(h.size,p,g),g+=o[0].encode.bytes,u.bytes=g-y,p}a(u,"encode");function f(h,p,g){if(p||(p=0),g||(g=h.length),!(g<=h.length&&p<=h.length))throw new Error("Decoded message is not valid");for(var y=p,E={index:0,hash:null,size:0},M=!1,z=!1,P=!1;;){if(g<=p){if(!M||!z||!P)throw new Error("Decoded message is not valid");return f.bytes=p-y,E}var Q=$n.decode(h,p);p+=$n.decode.bytes;var V=Q>>3;switch(V){case 1:E.index=o[0].decode(h,p),p+=o[0].decode.bytes,M=!0;break;case 2:E.hash=o[1].decode(h,p),p+=o[1].decode.bytes,z=!0;break;case 3:E.size=o[0].decode(h,p),p+=o[0].decode.bytes,P=!0;break;default:p=ac(Q&7,h,p)}}}a(f,"decode")}a(t,"defineNode");var r=[Gi.varint,Gi.bytes,e];Vk.encodingLength=n,Vk.encode=i,Vk.decode=s;function n(o){var l=0;if(!vr(o.index))throw new Error("index is required");var u=r[0].encodingLength(o.index);if(l+=1+u,vr(o.value)){var u=r[1].encodingLength(o.value);l+=1+u}if(vr(o.nodes)){for(var f=0;f<o.nodes.length;f++)if(!!vr(o.nodes[f])){var u=r[2].encodingLength(o.nodes[f]);l+=$n.encodingLength(u),l+=1+u}}if(vr(o.signature)){var u=r[1].encodingLength(o.signature);l+=1+u}return l}a(n,"encodingLength");function i(o,l,u){u||(u=0),l||(l=b.Buffer.allocUnsafe(n(o)));var f=u;if(!vr(o.index))throw new Error("index is required");if(l[u++]=8,r[0].encode(o.index,l,u),u+=r[0].encode.bytes,vr(o.value)&&(l[u++]=18,r[1].encode(o.value,l,u),u+=r[1].encode.bytes),vr(o.nodes))for(var h=0;h<o.nodes.length;h++)!vr(o.nodes[h])||(l[u++]=26,$n.encode(r[2].encodingLength(o.nodes[h]),l,u),u+=$n.encode.bytes,r[2].encode(o.nodes[h],l,u),u+=r[2].encode.bytes);return vr(o.signature)&&(l[u++]=34,r[1].encode(o.signature,l,u),u+=r[1].encode.bytes),i.bytes=u-f,l}a(i,"encode");function s(o,l,u){if(l||(l=0),u||(u=o.length),!(u<=o.length&&l<=o.length))throw new Error("Decoded message is not valid");for(var f=l,h={index:0,value:null,nodes:[],signature:null},p=!1;;){if(u<=l){if(!p)throw new Error("Decoded message is not valid");return s.bytes=l-f,h}var g=$n.decode(o,l);l+=$n.decode.bytes;var y=g>>3;switch(y){case 1:h.index=r[0].decode(o,l),l+=r[0].decode.bytes,p=!0;break;case 2:h.value=r[1].decode(o,l),l+=r[1].decode.bytes;break;case 3:var E=$n.decode(o,l);l+=$n.decode.bytes,h.nodes.push(r[2].decode(o,l,l+E)),l+=r[2].decode.bytes;break;case 4:h.signature=r[1].decode(o,l),l+=r[1].decode.bytes;break;default:l=ac(g&7,o,l)}}}a(s,"decode")}a(I0t,"defineData");function T0t(){var e=[Gi.bytes];iY.encodingLength=t,iY.encode=r,iY.decode=n;function t(i){var s=0;if(vr(i.discoveryKey)){var o=e[0].encodingLength(i.discoveryKey);s+=1+o}return s}a(t,"encodingLength");function r(i,s,o){o||(o=0),s||(s=b.Buffer.allocUnsafe(t(i)));var l=o;return vr(i.discoveryKey)&&(s[o++]=10,e[0].encode(i.discoveryKey,s,o),o+=e[0].encode.bytes),r.bytes=o-l,s}a(r,"encode");function n(i,s,o){if(s||(s=0),o||(o=i.length),!(o<=i.length&&s<=i.length))throw new Error("Decoded message is not valid");for(var l=s,u={discoveryKey:null};;){if(o<=s)return n.bytes=s-l,u;var f=$n.decode(i,s);s+=$n.decode.bytes;var h=f>>3;switch(h){case 1:u.discoveryKey=e[0].decode(i,s),s+=e[0].decode.bytes;break;default:s=ac(f&7,i,s)}}}a(n,"decode")}a(T0t,"defineClose");function vr(e){return e!=null&&(typeof e!="number"||!isNaN(e))}a(vr,"defined")});var Jve=j((obr,Xve)=>{d();var M0t=W8();Xve.exports=a(class{constructor(t,r){this.instance=M0t(t,r)}update(t,r){this.instance.update(r,t)}final(){this.instance.finalize()}},"XORJS")});var t_e=j((fbr,e_e)=>{d();var Zve=Jve(),B0t=y3();e_e.exports=a(class{constructor(t,r){this.rnonce=t.rnonce,this.tnonce=t.tnonce,this.rx=new Zve(this.rnonce,r.rx.slice(0,32)),this.tx=new Zve(this.tnonce,r.tx.slice(0,32))}encrypt(t){return this.tx.update(t,t),t}decrypt(t){return this.rx.update(t,t),t}destroy(){this.tx.final(),this.rx.final()}static nonce(){return B0t.randomBytes(24)}},"XOR")});var n_e=j((gbr,r_e)=>{d();var Nl=gh();r_e.exports=a(class{constructor({maxSize:t=8*1024*1024,context:r=null,onmessage:n=null,onmissing:i=null,types:s=null}={}){this._message=null,this._ptr=0,this._varint=0,this._factor=1,this._length=0,this._header=0,this._state=0,this._consumed=0,this._maxSize=t,this._types=s||[],this.receiving=!1,this.destroyed=!1,this.error=null,this.context=r,this.onmessage=n,this.onmissing=i}destroy(t){t&&(this.error=t),this.destroyed=!0}recv(t){if(this.receiving===!0)throw new Error("Cannot recursively receive data");this.receiving=!0;let r=0;for(;r<t.length;)this._state===2?r=this._readMessage(t,r):r=this._readVarint(t,r);return this._state===2&&this._length===0&&this._readMessage(t,r),this.receiving=!1,!this.destroyed}_readMessage(t,r){let n=t.length-r;return n>=this._length?(this._message?t.copy(this._message,this._message.length-this._length,r):this._message=t.slice(r,r+this._length),this._nextState(t,r+=this._length)?r:t.length):(this._message||(this._message=b.Buffer.allocUnsafe(this._length)),t.copy(this._message,this._message.length-this._length,r),this._length-=n,t.length)}_readVarint(t,r){for(;r<t.length;r++){if(this._varint+=(t[r]&127)*this._factor,this._consumed++,t[r]<128)return this._nextState(t,++r)?r:t.length;this._factor*=128}return this._consumed>=8&&this.destroy(new Error("Incoming varint is invalid")),t.length}_nextState(t,r){switch(this._state){case 0:return this._state=1,this._factor=1,this._length=this._varint,this._consumed=this._varint=0,this._length===0&&(this._state=0),!0;case 1:if(this._state=2,this._factor=1,this._header=this._varint,this._length-=this._consumed,this._consumed=this._varint=0,this._length<0||this._length>this._maxSize)return this.destroy(new Error("Incoming message is larger than max size")),!1;if(this.onmissing){let n=t.length-r;this._length>n&&this.onmissing(this._length-n,this.context)}return!0;case 2:return this._state=0,this._onmessage(this._header>>4,this._header&15,this._message,t,r),this._message=null,!this.destroyed;default:return!1}}_onmessage(t,r,n,i,s){if(r>=this._types.length)return this.onmessage===null?void 0:this.onmessage(t,r,n,this.context,i,s);let o=null,{onmessage:l,encoding:u,context:f}=this._types[r];try{o=u.decode(n)}catch(h){this.destroy(h);return}l(t,o,f,i,s)}send(t,r,n){let i=t<<4|r,s=this._encodingLength(r,n)+Nl.encodingLength(i),o=b.Buffer.allocUnsafe(Nl.encodingLength(s)+s);Nl.encode(s,o,0);let l=Nl.encode.bytes;return Nl.encode(i,o,l),this._encode(r,n,o,l+Nl.encode.bytes),o}sendBatch(t){let r=0,n=0;for(let{type:s,message:o}of t)r+=16+this._encodingLength(s,o);let i=b.Buffer.allocUnsafe(r);for(let{channel:s,type:o,message:l}of t){let u=s<<4|o,f=this._encodingLength(o,l)+Nl.encodingLength(u);Nl.encode(f,i,n),n+=Nl.encode.bytes,Nl.encode(u,i,n),n+=Nl.encode.bytes,n+=this._encode(o,l,i,n)}return i.slice(0,n)}_encodingLength(t,r){return t>=this._types.length?r.length:this._types[t].encoding.encodingLength(r)}_encode(t,r,n,i){if(t>=this._types.length)return r.copy(n,i),r.length;let s=this._types[t].encoding;return s.encode(r,n,i),s.encode.bytes}},"SimpleMessageChannels")});var c_e=j((vbr,o_e)=>{d();var i_e=Kve(),oc=$ve(),a_e=t_e(),R0t=n_e(),s_e=y3(),b3=gh();o_e.exports=a(class{constructor(t,r){let n={nonce:a_e.nonce()};this.handlers=r||{},this.remotePayload=null,this.remotePublicKey=null,this.publicKey=null,this.handshakeHash=null,this.destroyed=!1,this._initiator=t,this._payload=n,this._pending=[],this._handshake=null,this._split=null,this._encryption=null,this._noise=!(r.encrypted===!1&&r.noise===!1),this._buffering=null,this._handshaking=!1,this._messages=new R0t({onmessage:Q0t,onmissing:W0t,context:this,types:[{context:this,onmessage:L0t,encoding:oc.Open},{context:this,onmessage:D0t,encoding:oc.Options},{context:this,onmessage:N0t,encoding:oc.Status},{context:this,onmessage:O0t,encoding:oc.Have},{context:this,onmessage:q0t,encoding:oc.Unhave},{context:this,onmessage:P0t,encoding:oc.Want},{context:this,onmessage:F0t,encoding:oc.Unwant},{context:this,onmessage:U0t,encoding:oc.Request},{context:this,onmessage:Y0t,encoding:oc.Cancel},{context:this,onmessage:H0t,encoding:oc.Data},{context:this,onmessage:z0t,encoding:oc.Close}]}),(r.encrypted!==!1||r.noise!==!1)&&(this._handshaking=!0,typeof this.handlers.keyPair!="function"?this._onkeypair(null,this.handlers.keyPair||null):(this._buffering=[],this.handlers.keyPair(this._onkeypair.bind(this))))}_onkeypair(t,r){if(t)return this.destroy(t);if(this._handshake!==null)return;this.handlers.keyPair=r;let n=new i_e(this._initiator,oc.NoisePayload.encode(this._payload),this.handlers,this._onhandshake.bind(this));if(this.publicKey=n.keyPair.publicKey,this._handshake=n,this._buffering)for(;this._buffering.length;)this._recv(this._buffering.shift());this._buffering=null}open(t,r){return this._send(t,0,r)}options(t,r){return this._send(t,1,r)}status(t,r){return this._send(t,2,r)}have(t,r){return this._send(t,3,r)}unhave(t,r){return this._send(t,4,r)}want(t,r){return this._send(t,5,r)}unwant(t,r){return this._send(t,6,r)}request(t,r){return this._send(t,7,r)}cancel(t,r){return this._send(t,8,r)}data(t,r){return this._send(t,9,r)}close(t,r){return this._send(t,10,r||{})}extension(t,r,n){let i=b.Buffer.allocUnsafe(b3.encodingLength(r)+n.length);return b3.encode(r,i,0),n.copy(i,b3.encode.bytes),this._send(t,15,i)}ping(){if(this._handshaking||this._pending.length)return;let t=b.Buffer.from([0]);return this._encryption!==null&&(t=this._encryption.encrypt(t)),this.handlers.send(t)}_onhandshake(t,r,n,i,s,o){if(t)return this.destroy(new Error("Noise handshake error"));if(!r)return this.destroy(new Error("Remote did not include a handshake payload"));this.remotePublicKey=s,this.handshakeHash=o;try{r=oc.NoisePayload.decode(r)}catch{return this.destroy(new Error("Could not parse remote payload"))}if(this._handshake=null,this._handshaking=!1,this._split=n,this._encryption=this.handlers.encrypted===!1?null:new a_e({rnonce:r.nonce,tnonce:this._payload.nonce},n),this.remotePayload=r,this.handlers.onhandshake&&this.handlers.onhandshake(),!this.destroyed)for(i&&this.recv(i);this._pending.length&&!this.destroyed;)this._sendNow(...this._pending.shift())}_send(t,r,n){return this._handshaking||this._pending.length?(this._pending.push([t,r,n]),!1):this._sendNow(t,r,n)}_sendNow(t,r,n){r===0&&n.key&&!n.capability&&(n.capability=this.capability(n.key),n.key=null);let i=this._messages.send(t,r,n);return this._encryption!==null&&(i=this._encryption.encrypt(i)),this.handlers.send(i)}capability(t){return s_e.capability(t,this._split)}remoteCapability(t){return s_e.remoteCapability(t,this._split)}recv(t){this._buffering!==null?this._buffering.push(t):this._recv(t)}_recv(t){if(!this.destroyed){if(this._handshaking){this._handshake.recv(t);return}this._encryption!==null&&(t=this._encryption.decrypt(t)),this._messages.recv(t)||this.destroy(this._messages.error)}}destroy(t){this.destroyed||(this.destroyed=!0,this._handshake&&this._handshake.destroy(),this._encryption&&this._encryption.destroy(),this.handlers.destroy&&this.handlers.destroy(t))}static keyPair(t){return i_e.keyPair(t)}},"SimpleProtocol");function L0t(e,t,r){r.handlers.onopen&&r.handlers.onopen(e,t)}a(L0t,"onopen");function D0t(e,t,r){r.handlers.onoptions&&r.handlers.onoptions(e,t)}a(D0t,"onoptions");function N0t(e,t,r){r.handlers.onstatus&&r.handlers.onstatus(e,t)}a(N0t,"onstatus");function O0t(e,t,r){r.handlers.onhave&&r.handlers.onhave(e,t)}a(O0t,"onhave");function q0t(e,t,r){r.handlers.onunhave&&r.handlers.onunhave(e,t)}a(q0t,"onunhave");function P0t(e,t,r){r.handlers.onwant&&r.handlers.onwant(e,t)}a(P0t,"onwant");function F0t(e,t,r){r.handlers.onunwant&&r.handlers.onunwant(e,t)}a(F0t,"onunwant");function U0t(e,t,r){r.handlers.onrequest&&r.handlers.onrequest(e,t)}a(U0t,"onrequest");function Y0t(e,t,r){r.handlers.oncancel&&r.handlers.oncancel(e,t)}a(Y0t,"oncancel");function H0t(e,t,r){r.handlers.ondata&&r.handlers.ondata(e,t)}a(H0t,"ondata");function z0t(e,t,r){r.handlers.onclose&&r.handlers.onclose(e,t)}a(z0t,"onclose");function Q0t(e,t,r,n){if(t!==15)return;let i=b3.decode(r),s=r.slice(b3.decode.bytes);n.handlers.onextension&&n.handlers.onextension(e,i,s)}a(Q0t,"onmessage");function W0t(e,t){t.handlers.onmissing&&t.handlers.onmissing(e)}a(W0t,"onmissing")});var f_e=j((wbr,u_e)=>{d();u_e.exports=v3;function v3(e,t,r){if(!(this instanceof v3))return new v3(e,t,r);this.ms=e,this.ontimeout=t,this.context=r||null,this.called=!1,this._timeout=setTimeout(l_e,e,this)}a(v3,"Timeout");v3.prototype.refresh=function(){this.called||this.ontimeout===null||(clearTimeout(this._timeout),this._timeout=setTimeout(l_e,this.ms,this))};v3.prototype.destroy=function(){this.ontimeout=null,clearTimeout(this._timeout)};function l_e(e){e.called=!0,e.ontimeout.call(e.context)}a(l_e,"call")});var d_e=j((kbr,h_e)=>{d();h_e.exports=a(class{constructor(){this._tick=0,this._fns=[],this._dep=null}get waiting(){return this._tick>0}depend(t){if(this._dep!==null)throw new Error("Can only depend on one other guard currently");this._dep=t}wait(){this._tick++}continue(t,r,n){this._tick===1?_.default.nextTick(V0t,this):this._tick--,t&&t(r,n)}waitAndContinue(){let t=!1;return this.wait(),()=>t?!1:(t=!0,this.continue(),!0)}continueSync(t,r,n){if(!--this._tick){for(;this._fns!==null&&this._fns.length;)this._ready(this._fns.pop());t&&t(r,n)}}destroy(){let t=this._fns;if(!t)for(this._fns=null;t.length;)t.pop()()}ready(t){this._fns===null||this._tick===0?this._ready(t):this._fns.push(t)}_ready(t){this._dep===null?t():this._dep.ready(t)}},"Nanoguard");function V0t(e){e.continueSync()}a(V0t,"continueNT")});var g_e=j((Tbr,p_e)=>{d();p_e.exports=a(function(t){return b.Buffer.isBuffer(t)&&(t=t.toString("hex")),typeof t=="string"&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t},"prettyHash")});var b_e=j((Rbr,m_e)=>{d();m_e.exports=Ra;Ra.ascii=ib("ascii");Ra.utf8=ib("utf-8");Ra.hex=ib("hex");Ra.base64=ib("base64");Ra.ucs2=ib("ucs2");Ra.utf16le=ib("utf16le");Ra.ndjson=y_e(!0);Ra.json=y_e(!1);Ra.binary={name:"binary",encode:a(function(t){return typeof t=="string"?b.Buffer.from(t,"utf-8"):b.Buffer.isBuffer(t)?t:b.Buffer.from(t.buffer,t.byteOffset,t.byteLength)},"encodeBinary"),decode:a(function(t){return b.Buffer.isBuffer(t)?t:b.Buffer.from(t.buffer,t.byteOffset,t.byteLength)},"decodeBinary")};function Ra(e,t){if(typeof e=="object"&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return Ra.ndjson;case"json":return Ra.json;case"ascii":return Ra.ascii;case"utf-8":case"utf8":return Ra.utf8;case"hex":return Ra.hex;case"base64":return Ra.base64;case"ucs-2":case"ucs2":return Ra.ucs2;case"utf16-le":case"utf16le":return Ra.utf16le}return t!==void 0?t:Ra.binary}a(Ra,"codecs");function y_e(e){return{name:e?"ndjson":"json",encode:e?r:t,decode:a(function(i){return JSON.parse(i.toString())},"decodeJSON")};function t(n){return b.Buffer.from(JSON.stringify(n))}function r(n){return b.Buffer.from(JSON.stringify(n)+`
`)}}a(y_e,"createJSON");function ib(e){return{name:e,encode:a(function(r){return typeof r!="string"&&(r=r.toString()),b.Buffer.from(r,e)},"encodeString"),decode:a(function(r){return r.toString(e)},"decodeString")}}a(ib,"createString")});var x_e=j((Nbr,__e)=>{d();var v_e=b_e(),jk=class{constructor(t,r,n={}){this.id=0,this.name=r,this.encoding=v_e(n.encoding||"binary"),this.handlers=n,this.local=t}encode(t){return this.encoding.encode(t)}remoteSupports(){return!!(this.local&&this.local.map&&this.local.map[this.id]===this)}onmessage(t,r){if(!this.handlers.onmessage)return;let n;try{n=this.encoding.decode(t)}catch(i){this.handlers.onerror&&this.handlers.onerror(i,r);return}this.handlers.onmessage(n,r)}get destroyed(){return this.local===null}destroy(){this.local!==null&&(this.local._remove(this),this.local=null)}static createLocal(t=null){return new Kk(t,this)}};a(jk,"AbstractExtension");var Gk=class{constructor(t){this.local=t,this.names=null,this.map=null,this.changes=0}update(t){this.names=t,this.changes=0}onmessage(t,r,n=null){this.changes!==this.local.changes&&(this.map=this.names?G0t(this.local.messages,this.names):null,this.changes=this.local.changes);let i=this.map&&this.map[t];i&&i.onmessage(r,n)}};a(Gk,"Remote");var Kk=class{constructor(t=null,r){this.messages=[],this.handlers=t,this.Extension=r,this.changes=1,this.exclusive=!0}get length(){return this.messages.length}[Symbol.iterator](){return this.messages[Symbol.iterator]()}get(t){for(let r of this.messages)if(r.name===t)return r;return null}add(t,r){let n;typeof r!="function"?n=new this.Extension(this,t,r):(n=new this.Extension(this,t,{}),n.handlers=r(n)||{},n.encoding=v_e(n.handlers.encoding||"binary")),this.changes++,this.messages.push(n),this.messages.sort(j0t);for(let i=0;i<this.messages.length;i++)this.messages[i].id=i;if(this.exclusive&&(n.id>0&&this.messages[n.id-1].name===n.name||n.id<this.messages.length-1&&this.messages[n.id+1].name===n.name))throw this._remove(n),new Error("Cannot add multiple messages with the same name");return this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate(),n}remote(){return new Gk(this)}_remove(t){this.changes++,this.messages.splice(t.id,1),t.id=-1,this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate()}names(){let t=new Array(this.messages.length);for(let r=0;r<t.length;r++)t[r]=this.messages[r].name;return t}};a(Kk,"Local");function j0t(e,t){return e.name<t.name?-1:e.name>t.name?1:0}a(j0t,"sortMessages");function G0t(e,t){let r=0,n=0,i=new Array(t.length);for(;r<e.length&&n<t.length;){let s=e[r].name,o=t[n];s<o?r++:s>o?n++:i[n++]=e[r]}return i}a(G0t,"match");__e.exports=jk});var A_e=j((Pbr,w_e)=>{d();w_e.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var S_e=j((Ybr,E_e)=>{d();E_e.exports=a(class{constructor(t){if(!(t>0)||(t-1&t)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}},"FixedFIFO")});var I_e=j((Wbr,C_e)=>{d();var k_e=S_e();C_e.exports=a(class{constructor(t){this.hwm=t||16,this.head=new k_e(this.hwm),this.tail=this.head}push(t){if(!this.head.push(t)){let r=this.head;this.head=r.next=new k_e(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return t}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}},"FastFIFO")});var $_e=j((Gbr,K_e)=>{d();var{EventEmitter:K0t}=ea(),cY=new Error("Stream was destroyed"),aY=new Error("Premature close"),L_e=A_e(),D_e=I_e(),La=(1<<25)-1,fg=1,cg=2,A3=4,N_e=La^fg,hg=1<<3,iC=2<<3,aC=4<<3,S0=8<<3,sb=16<<3,sC=32<<3,lg=64<<3,sY=128<<3,lY=256<<3,uY=512<<3,Ol=1024<<3,rC=2049<<3,oC=4096<<3,$0t=La^hg,X0t=La^iC,J0t=La^(iC|oC),Z0t=La^aC,ept=La^oC,tpt=La^sb,rpt=La^(S0|uY),npt=La^lg,T_e=La^(sb|sC),ipt=La^rC,C0=1<<16,fY=2<<16,hY=4<<16,ug=8<<16,E3=16<<16,dg=32<<16,oY=64<<16,nC=129<<16,ob=256<<16,O_e=La^C0,apt=La^hY,q_e=La^fY,spt=La^ob,opt=La^E3,cpt=La^ug,lpt=La^nC,cb=hg|C0,P_e=La^cb,dY=Ol|dg,Oh=cg|A3,ql=Oh|fg,F_e=Oh|dY,upt=q_e&X0t,U_e=(nC|rC)&P_e,Y_e=cb|U_e,H_e=ql|U_e,fpt=ql|lg|Ol,M_e=ql|Ol|S0,hpt=sb|sC,dpt=hg|aC,ppt=hg|aC|oC,gpt=iC|hg,ypt=ql|lg|S0,mpt=lY|S0,bpt=ql|lY|S0|uY,vpt=ql|hg|lg|Ol|oC,_pt=Oh|lg|Ol,xpt=ql|ob|dg,wpt=ug|E3,z_e=ug|C0,Apt=ug|E3|ql|C0,B_e=ql|C0|ug,Ept=fY|C0,Spt=C0|hY,kpt=ql|ob|z_e|dg,Cpt=E3|Oh|ob|dg,$k=Symbol.asyncIterator||Symbol("asyncIterator"),_3=class{constructor(t,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=t,this.queue=new D_e,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||s||G_e,this.map=i||n,this.afterWrite=Mpt.bind(this),this.afterUpdateNextTick=Lpt.bind(this)}get ended(){return(this.stream._duplexState&dg)!==0}push(t){return this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=ug,!0):(this.stream._duplexState|=wpt,!1)}shift(){let t=this.queue.shift(),r=this.stream;return this.buffered-=this.byteLength(t),this.buffered===0&&(r._duplexState&=cpt),t}end(t){typeof t=="function"?this.stream.once("finish",t):t!=null&&this.push(t),this.stream._duplexState=(this.stream._duplexState|ob)&q_e}autoBatch(t,r){let n=[],i=this.stream;for(n.push(t);(i._duplexState&B_e)===z_e;)n.push(i._writableState.shift());if((i._duplexState&ql)!==0)return r(null);i._writev(n,r)}update(){let t=this.stream;for(;(t._duplexState&B_e)===ug;){let r=this.shift();t._duplexState|=Spt,t._write(r,this.afterWrite),t._duplexState&=apt}(t._duplexState&Ept)===0&&this.updateNonPrimary()}updateNonPrimary(){let t=this.stream;if((t._duplexState&kpt)===ob){t._duplexState=(t._duplexState|C0)&spt,t._final(Tpt.bind(this));return}if((t._duplexState&Oh)===cg){(t._duplexState&Y_e)===0&&(t._duplexState|=cb,t._destroy(Q_e.bind(this)));return}(t._duplexState&H_e)===fg&&(t._duplexState=(t._duplexState|cb)&N_e,t._open(W_e.bind(this)))}updateNextTick(){(this.stream._duplexState&nC)===0&&(this.stream._duplexState|=nC,L_e(this.afterUpdateNextTick))}};a(_3,"WritableState");var Xk=class{constructor(t,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=t,this.queue=new D_e,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||s||G_e,this.map=i||n,this.pipeTo=null,this.afterRead=Bpt.bind(this),this.afterUpdateNextTick=Rpt.bind(this)}get ended(){return(this.stream._duplexState&Ol)!==0}pipe(t,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=sC,this.pipeTo=t,this.pipeline=new Zk(this.stream,t,r),r&&this.stream.on("error",R_e),cC(t))t._writableState.pipeline=this.pipeline,r&&t.on("error",R_e),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,t),i=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",n),t.on("close",i),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",Ipt.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){let r=this.stream;return t===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|lg)&J0t,!1):(this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),r._duplexState=(r._duplexState|S0)&ept,this.buffered<this.highWaterMark)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=rpt),t}unshift(t){let r,n=[];for(;(r=this.queue.shift())!==void 0;)n.push(r);this.push(t);for(let i=0;i<n.length;i++)this.queue.push(n[i])}read(){let t=this.stream;if((t._duplexState&M_e)===S0){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(t._duplexState&=T_e),(t._duplexState&sY)!==0&&t.emit("data",r),r}return null}drain(){let t=this.stream;for(;(t._duplexState&M_e)===S0&&(t._duplexState&hpt)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(t._duplexState&=T_e),(t._duplexState&sY)!==0&&t.emit("data",r)}}update(){let t=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(t._duplexState&vpt)===0;)t._duplexState|=ppt,t._read(this.afterRead),t._duplexState&=Z0t,(t._duplexState&hg)===0&&this.drain();(t._duplexState&bpt)===mpt&&(t._duplexState|=uY,t.emit("readable")),(t._duplexState&gpt)===0&&this.updateNonPrimary()}updateNonPrimary(){let t=this.stream;if((t._duplexState&ypt)===lg&&(t._duplexState=(t._duplexState|Ol)&npt,t.emit("end"),(t._duplexState&F_e)===dY&&(t._duplexState|=cg),this.pipeTo!==null&&this.pipeTo.end()),(t._duplexState&Oh)===cg){(t._duplexState&Y_e)===0&&(t._duplexState|=cb,t._destroy(Q_e.bind(this)));return}(t._duplexState&H_e)===fg&&(t._duplexState=(t._duplexState|cb)&N_e,t._open(W_e.bind(this)))}updateNextTick(){(this.stream._duplexState&rC)===0&&(this.stream._duplexState|=rC,L_e(this.afterUpdateNextTick))}};a(Xk,"ReadableState");var Jk=class{constructor(t){this.data=null,this.afterTransform=Dpt.bind(t),this.afterFinal=null}};a(Jk,"TransformState");var Zk=class{constructor(t,r,n){this.from=t,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,r){if(r&&(this.error=r),t===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&Ol)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(t===this.from&&(this.from=null,this.to!==null)){(t._duplexState&Ol)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};a(Zk,"Pipeline");function Ipt(){this.stream._duplexState|=sC,(this.stream._duplexState&dpt)===0?this.updateNextTick():this.drain()}a(Ipt,"afterDrain");function Tpt(e){let t=this.stream;e&&t.destroy(e),(t._duplexState&Oh)===0&&(t._duplexState|=dg,t.emit("finish")),(t._duplexState&F_e)===dY&&(t._duplexState|=cg),t._duplexState&=O_e,this.update()}a(Tpt,"afterFinal");function Q_e(e){let t=this.stream;!e&&this.error!==cY&&(e=this.error),e&&t.emit("error",e),t._duplexState|=A3,t.emit("close");let r=t._readableState,n=t._writableState;r!==null&&r.pipeline!==null&&r.pipeline.done(t,e),n!==null&&n.pipeline!==null&&n.pipeline.done(t,e)}a(Q_e,"afterDestroy");function Mpt(e){let t=this.stream;e&&t.destroy(e),t._duplexState&=O_e,(t._duplexState&Apt)===E3&&(t._duplexState&=opt,(t._duplexState&oY)===oY&&t.emit("drain")),(t._duplexState&hY)===0&&this.update()}a(Mpt,"afterWrite");function Bpt(e){e&&this.stream.destroy(e),this.stream._duplexState&=$0t,(this.stream._duplexState&aC)===0&&this.update()}a(Bpt,"afterRead");function Rpt(){this.stream._duplexState&=ipt,this.update()}a(Rpt,"updateReadNT");function Lpt(){this.stream._duplexState&=lpt,this.update()}a(Lpt,"updateWriteNT");function W_e(e){let t=this.stream;e&&t.destroy(e),(t._duplexState&cg)===0&&((t._duplexState&fpt)===0&&(t._duplexState|=iC),(t._duplexState&xpt)===0&&(t._duplexState|=fY),t.emit("open")),t._duplexState&=P_e,t._writableState!==null&&t._writableState.update(),t._readableState!==null&&t._readableState.update()}a(W_e,"afterOpen");function Dpt(e,t){t!=null&&this.push(t),this._writableState.afterWrite(e)}a(Dpt,"afterTransform");var ab=class extends K0t{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",Fpt.bind(this)))}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&A3)!==0}get destroying(){return(this._duplexState&Oh)!==0}destroy(t){(this._duplexState&Oh)===0&&(t||(t=cY),this._duplexState=(this._duplexState|cg)&upt,this._readableState!==null&&(this._readableState.error=t,this._readableState.updateNextTick()),this._writableState!==null&&(this._writableState.error=t,this._writableState.updateNextTick()),this._predestroy())}on(t,r){return this._readableState!==null&&(t==="data"&&(this._duplexState|=sY|sb,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=lY,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=oY,this._writableState.updateNextTick()),super.on(t,r)}};a(ab,"Stream");var k0=class extends ab{constructor(t){super(t),this._duplexState|=fg|dg,this._readableState=new Xk(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this.resume().pause())}_read(t){t(null)}pipe(t,r){return this._readableState.pipe(t,r),this._readableState.updateNextTick(),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=sb,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=tpt,this}static _fromAsyncIterator(t,r){let n,i=new k0({...r,read(o){t.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=t.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(t,r){if(qpt(t))return t;if(t[$k])return this._fromAsyncIterator(t[$k](),r);Array.isArray(t)||(t=t===void 0?[]:[t]);let n=0;return new k0({...r,read(i){this.push(n===t.length?null:t[n++]),i(null)}})}static isBackpressured(t){return(t._duplexState&_pt)!==0||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return(t._duplexState&sb)===0}[$k](){let t=this,r=null,n=null,i=null;return this.on("error",f=>{r=f}),this.on("readable",s),this.on("close",o),{[$k](){return this},next(){return new Promise(function(f,h){n=f,i=h;let p=t.read();p!==null?l(p):(t._duplexState&A3)!==0&&l(null)})},return(){return u(null)},throw(f){return u(f)}};function s(){n!==null&&l(t.read())}a(s,"onreadable");function o(){n!==null&&l(null)}a(o,"onclose");function l(f){i!==null&&(r?i(r):f===null&&(t._duplexState&Ol)===0?i(cY):n({value:f,done:f===null}),i=n=null)}a(l,"ondata");function u(f){return t.destroy(f),new Promise((h,p)=>{if(t._duplexState&A3)return h({value:void 0,done:!0});t.once("close",function(){f?p(f):h({value:void 0,done:!0})})})}a(u,"destroy")}};a(k0,"Readable");var eC=class extends ab{constructor(t){super(t),this._duplexState|=fg|Ol,this._writableState=new _3(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,r){r(null)}_write(t,r){this._writableState.autoBatch(t,r)}_final(t){t(null)}static isBackpressured(t){return(t._duplexState&Cpt)!==0}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};a(eC,"Writable");var x3=class extends k0{constructor(t){super(t),this._duplexState=fg,this._writableState=new _3(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,r){r(null)}_write(t,r){this._writableState.autoBatch(t,r)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};a(x3,"Duplex");var w3=class extends x3{constructor(t){super(t),this._transformState=new Jk(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,t(null),this._transform(r,this._transformState.afterTransform)}else t(null)}_transform(t,r){r(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(Npt.bind(this))}};a(w3,"Transform");var tC=class extends w3{};a(tC,"PassThrough");function Npt(e,t){let r=this._transformState.afterFinal;if(e)return r(e);t!=null&&this.push(t),this.push(null),r(null)}a(Npt,"transformAfterFlush");function Opt(...e){return new Promise((t,r)=>V_e(...e,n=>{if(n)return r(n);t()}))}a(Opt,"pipelinePromise");function V_e(e,...t){let r=Array.isArray(e)?[...e,...t]:[e,...t],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let f=1;f<r.length;f++)s=r[f],cC(i)?i.pipe(s,u):(l(i,!0,f>1,u),i.pipe(s)),i=s;if(n){let f=!1;s.on("finish",()=>{f=!0}),s.on("error",h=>{o=o||h}),s.on("close",()=>n(o||(f?null:aY)))}return s;function l(f,h,p,g){f.on("error",g),f.on("close",y);function y(){if(h&&f._readableState&&!f._readableState.ended||p&&f._writableState&&!f._writableState.ended)return g(aY)}a(y,"onclose")}function u(f){if(!(!f||o)){o=f;for(let h of r)h.destroy(f)}}}a(V_e,"pipeline");function j_e(e){return!!e._readableState||!!e._writableState}a(j_e,"isStream");function cC(e){return typeof e._duplexState=="number"&&j_e(e)}a(cC,"isStreamx");function qpt(e){return cC(e)&&e.readable}a(qpt,"isReadStreamx");function Ppt(e){return typeof e=="object"&&e!==null&&typeof e.byteLength=="number"}a(Ppt,"isTypedArray");function G_e(e){return Ppt(e)?e.byteLength:1024}a(G_e,"defaultByteLength");function R_e(){}a(R_e,"noop");function Fpt(){this.destroy(new Error("Stream aborted."))}a(Fpt,"abort");K_e.exports={pipeline:V_e,pipelinePromise:Opt,isStream:j_e,isStreamx:cC,Stream:ab,Writable:eC,Readable:k0,Duplex:x3,Transform:w3,PassThrough:tC}});var txe=j((Xbr,exe)=>{d();var X_e=c_e(),lC=y3(),pY=f_e(),Upt=$N(),Ypt=d_e(),J_e=g_e(),Hpt=x_e(),{Duplex:zpt}=$_e(),Ri=Hc()("hypercore-protocol"),uC=class extends Hpt{send(t){let r=this.local.handlers;return r._changes!==this.local.changes&&(r._changes=this.local.changes,r.state.options(0,{extensions:this.local.names()})),r.state.extension(0,this.id,this.encode(t))}};a(uC,"StreamExtension");var fC=class{constructor(t,{encrypted:r,noise:n,keyPair:i}){this.stream=t,this.created=new Map,this.local=[null],this.remote=[null],this.noise=!(n===!1&&r===!1),this.encrypted=r!==!1,this.keyPair=i}allocLocal(){let t=this.local.indexOf(null);return t>0?t:(this.local.push(null),this.local.length-1)}attachLocal(t){let r=this.allocLocal();this.local[r]=t,t.localId=r}attachRemote(t,r){this.remote.length===r&&this.remote.push(null),this.remote[r]=t,t.remoteId=r}detachChannel(t){t.localId>-1&&this.local[t.localId]===t&&(this.local[t.localId]=null,t.localId=-1,t.handlers&&t.handlers.onclose&&t.handlers.onclose()),t.remoteId>-1&&this.remote[t.remoteId]===t&&(this.remote[t.remoteId]=null);let r=t.discoveryKey.toString("hex");this.created.get(r)===t&&this.created.delete(r)}getChannel(t){return this.created.get(t.toString("hex"))}createChannel(t){let r=t.toString("hex"),n=this.created.get(r);if(n)return n;let i=new hC(this.stream.state,this.stream,t);return this.created.set(r,i),i}onauthenticate(t,r){this.stream.handlers&&this.stream.handlers.onauthenticate?this.stream.handlers.onauthenticate(t,r):r(null)}onhandshake(){Ri("recv handshake"),this.stream.handlers&&this.stream.handlers.onhandshake&&this.stream.handlers.onhandshake(),this.stream.emit("handshake")}onopen(t,r){Ri("recv open",t,r);let n=this.createChannel(r.discoveryKey);if(n.remoteCapability=r.capability,this.attachRemote(n,t),n.localId===-1)this.stream.handlers.ondiscoverykey&&this.stream.handlers.ondiscoverykey(n.discoveryKey),this.stream.emit("discovery-key",n.discoveryKey);else{if(this.noise&&!n.remoteVerified){this.stream.destroy(new Error("Invalid remote channel capability"));return}this.stream.emit("duplex-channel",n)}n.handlers&&n.handlers.onopen&&n.handlers.onopen(),this.stream.handlers.onremoteopen&&this.stream.handlers.onremoteopen(n.discoveryKey),this.stream.emit("remote-open",n.discoveryKey)}onoptions(t,r){Ri("recv options",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onoptions?n.handlers.onoptions(r):t===0&&!n&&this.stream._updateExtensions(r.extensions)}onstatus(t,r){Ri("recv status",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onstatus&&n.handlers.onstatus(r)}onhave(t,r){Ri("recv have",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onhave&&n.handlers.onhave(r)}onunhave(t,r){Ri("recv unhave",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onunhave&&n.handlers.onunhave(r)}onwant(t,r){Ri("recv want",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onwant&&n.handlers.onwant(r)}onunwant(t,r){Ri("recv unwant",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onunwant&&n.handlers.onunwant(r)}onrequest(t,r){Ri("recv request",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.onrequest&&n.handlers.onrequest(r)}oncancel(t,r){Ri("recv cancel",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.oncancel&&n.handlers.oncancel(r)}ondata(t,r){Ri("recv data",t,r);let n=this.remote[t];n&&n.handlers&&n.handlers.ondata&&n.handlers.ondata(r)}onextension(t,r,n){Ri("recv extension",t,r);let i=this.remote[t];i&&i.handlers&&i.handlers.onextension?i.handlers.onextension(r,n):t===0&&!i&&this.stream.remoteExtensions.onmessage(r,n)}onclose(t,r){Ri("recv close",t,r);let n=t<this.remote.length?this.remote[t]:null;if(n?this.remote[t]=null:r.discoveryKey&&(n=this.getChannel(r.discoveryKey)),!n)return;n.localId>-1&&this.local[n.localId]===n&&(this.local[n.localId]=null,n.state.close(n.localId,{}),n.localId=-1,n.handlers&&n.handlers.onclose&&n.handlers.onclose()),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(n.discoveryKey,n.key);let i=n.discoveryKey.toString("hex");this.created.get(i)===n&&this.created.delete(i),this.stream._prefinalize()}onmissing(t){this.stream._utp!==null&&this.stream._utp.setContentSize(t)}send(t){return this.stream.keepAlive!==null&&this.stream.keepAlive.refresh(),this.stream.bytesSent+=t.length,this.stream.push(t)}destroy(t){this.stream.destroy(t),this.local=[],this.remote=[];for(let r of this.created.values()){let n=r.localId===-1;r.localId=r.remoteId=-1,!n&&r.handlers&&r.handlers.onclose&&r.handlers.onclose(),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(r.discoveryKey,r.key)}this.created.clear()}};a(fC,"Channelizer");var hC=class{constructor(t,r,n){this.key=null,this.discoveryKey=n,this.localId=-1,this.remoteId=-1,this.remoteCapability=null,this.handlers=null,this.state=t,this.stream=r}get opened(){return this.localId>-1}get closed(){return this.localId===-1}get remoteOpened(){return this.remoteId>-1}get remoteVerified(){return this.localId>-1&&this.remoteId>-1&&!!this.remoteCapability&&this.remoteCapability.equals(this.state.remoteCapability(this.key))}options(t){return Ri("send options",t),this.state.options(this.localId,t)}status(t){return Ri("send status",t),this.state.status(this.localId,t)}have(t){return Ri("send have",t),this.state.have(this.localId,t)}unhave(t){return Ri("send unhave",t),this.state.unhave(this.localId,t)}want(t){return Ri("send want",t),this.state.want(this.localId,t)}unwant(t){return Ri("send unwant",t),this.state.unwant(this.localId,t)}request(t){return Ri("send request",t),this.state.request(this.localId,t)}cancel(t){return Ri("send cancel",t),this.state.cancel(this.localId,t)}data(t){return Ri("send data",t),this.state.data(this.localId,t)}extension(t,r){return Ri("send extension",t),this.state.extension(this.localId,t,r)}close(){if(Ri("send close"),this.closed)return;let t=this.localId;this.stream.channelizer.detachChannel(this),this.state.close(t,{}),this.stream._prefinalize()}destroy(t){this.stream.destroy(t)}};a(hC,"Channel");exe.exports=a(class Z_e extends zpt{constructor(t,r={}){if(super(),typeof t!="boolean")throw new Error("Must specify initiator boolean in replication stream");if(this.initiator=t,this.handlers=r,this.channelizer=new fC(this,{encrypted:r.encrypted,noise:r.noise,keyPair:r.keyPair}),this.state=new X_e(t,this.channelizer),this.live=!!r.live,this.timeout=null,this.keepAlive=null,this.prefinalize=new Ypt,this.bytesSent=0,this.bytesReceived=0,this.extensions=uC.createLocal(this),this.remoteExtensions=this.extensions.remote(),this._utp=null,this._changes=0,this.once("finish",this.push.bind(this,null)),this.on("pipe",this._onpipe),r.timeout!==!1&&r.timeout!==0){let n=r.timeout||2e4;this.setTimeout(n,()=>this.destroy(new Error("ETIMEDOUT"))),this.setKeepAlive(Math.ceil(n/2))}}registerExtension(t,r){return this.extensions.add(t,r)}[Upt](t,r){let n="";if(typeof r.indentationLvl=="number")for(;n.length<r.indentationLvl;)n+=" ";return`HypercoreProtocolStream(
`+n+"  publicKey: "+r.stylize(this.publicKey&&J_e(this.publicKey),"string")+`
`+n+"  remotePublicKey: "+r.stylize(this.remotePublicKey&&J_e(this.remotePublicKey),"string")+`
`+n+"  remoteAddress: "+r.stylize(this.remoteAddress,"string")+`
`+n+"  remoteType: "+r.stylize(this.remoteType,"string")+`
`+n+"  live: "+r.stylize(this.live,"boolean")+`
`+n+"  initiator: "+r.stylize(this.initiator,"boolean")+`
`+n+"  channelCount: "+r.stylize(this.channelCount,"number")+`
`+n+"  destroyed: "+r.stylize(this.destroyed,"boolean")+`
`+n+"  prefinalized: "+r.stylize(!this.prefinalize.waiting,"boolean")+`
`+n+"  bytesSent: "+r.stylize(this.bytesSent,"number")+`
`+n+"  bytesReceived: "+r.stylize(this.bytesReceived,"number")+`
`+n+")"}static isProtocolStream(t){return!!(t&&typeof t.initiator=="boolean"&&typeof t.pipe=="function"&&t.state)}static keyPair(t){return X_e.keyPair(t)}get remoteAddress(){let t=this._readableState.pipeTo;return!t||Z_e.isProtocolStream(t)?null:t.remoteAddress}get remoteType(){let t=this._readableState.pipeTo;return t?t._utp?"utp":t.remoteAddress?"tcp":"unknown":null}get publicKey(){return this.state.publicKey}get remotePublicKey(){return this.state.remotePublicKey}_onpipe(t){typeof t.setContentSize=="function"&&(this._utp=t)}_write(t,r){this.timeout!==null&&this.timeout.refresh(),this.bytesReceived+=t.length,this.state.recv(t),r(null)}_destroy(t){this._predestroy(),this.channelizer.destroy(),this.state.destroy(),t(null)}_predestroy(){this.timeout!==null&&(this.timeout.destroy(),this.timeout=null),this.keepAlive!==null&&(this.keepAlive.destroy(),this.keepAlive=null),this.prefinalize.destroy()}_prefinalize(){this.emit("prefinalize"),this.prefinalize.ready(()=>{this.destroyed||this.channelCount||this.live||this.finalize()})}_updateExtensions(t){this.remoteExtensions.update(t),this.handlers.onextensions&&this.handlers.onextensions(t),this.emit("extensions",t)}remoteOpened(t){let r=this.channelizer.getChannel(lC.discoveryKey(t));return!!(r&&r.remoteId>-1)}remoteVerified(t){let r=this.channelizer.getChannel(lC.discoveryKey(t));return!!r&&!!r.remoteCapability&&r.remoteCapability.equals(this.state.remoteCapability(t))}opened(t){let r=this.channelizer.getChannel(lC.discoveryKey(t));return!!(r&&r.localId>-1)}ping(){return this.state.ping()}setKeepAlive(t){if(this.keepAlive&&this.keepAlive.destroy(),!t){this.keepAlive=null;return}this.keepAlive=pY(t,r,this);function r(){this.ping(),this.keepAlive=pY(t,r,this)}a(r,"ping")}setTimeout(t,r){if(this.timeout&&this.timeout.destroy(),!t){this.timeout=null;return}this.timeout=pY(t,this.emit.bind(this,"timeout")),r&&this.once("timeout",r)}get channelCount(){return this.channelizer.created.size}get channels(){return this.channelizer.created.values()}open(t,r){let n=lC.discoveryKey(t),i=this.channelizer.createChannel(n);return i.key===null&&(i.key=t,this.channelizer.attachLocal(i),this.state.open(i.localId,{key:t,discoveryKey:n})),r&&(i.handlers=r),i.remoteId>-1&&this.emit("duplex-channel",i),i}close(t){let r=this.channelizer.getChannel(t);if(r&&r.localId>-1){r.close();return}this.state.close(this.channelizer.allocLocal(),{discoveryKey:t})}finalize(){this.push(null)}},"ProtocolStream")});var ixe=j((evr,nxe)=>{d();var Qpt=Zbe(),Wpt=txe(),Vpt=Rd(),{hyperWire:jpt}=QE(),rxe=Hc()("modem56"),dC=class{constructor(t=null,r){rxe("[Modem56] Brrrrrr.. ptong ptong ptong ptong *whitenoise*"),this.swarm=t||Qpt(r),this._topic=null,this._spawnWire=null,this._onconnection=this._onconnection.bind(this),this.swarm.on("error",n=>console.error("[Modem56] swarm error: ",n.message))}join(t,r){if(this._topic){this._spawnWire=r||this._spawnWire;return}return typeof t=="string"&&(t=Vpt.createHash("sha256").update(t).digest()),this.swarm.join(t),this._spawnWire=r,this._topic=t,this.swarm.on("connection",this._onconnection),()=>this.leave()}_onconnection(t,r){rxe("[Modem56] peer connected",r);let{client:n}=r,i=new Wpt(n);t.pipe(i).pipe(t),i.on("error",l=>console.error("[Modem56] hyper-proto error: ",l.message)),t.on("error",l=>console.error("[Modem56] socket error: ",l.message));let s=this._topic,o=this._spawnWire(r);jpt(o,i,s)}leave(){this.swarm.leave(this._topic),this.swarm.off("connection",this._onconnection),this._topic=null}};a(dC,"Modem56");nxe.exports=dC});var sxe=j((yY,ub)=>{d();(function(e,t){typeof yY=="object"&&typeof ub<"u"?ub.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(yY,function(){"use strict";var e;function t(){return e.apply(null,arguments)}a(t,"f");function r(C){return C instanceof Array||Object.prototype.toString.call(C)==="[object Array]"}a(r,"a");function n(C){return C!=null&&Object.prototype.toString.call(C)==="[object Object]"}a(n,"F");function i(C,X){return Object.prototype.hasOwnProperty.call(C,X)}a(i,"c");function s(C){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(C).length===0;for(var X in C)if(i(C,X))return;return 1}a(s,"L");function o(C){return C===void 0}a(o,"o");function l(C){return typeof C=="number"||Object.prototype.toString.call(C)==="[object Number]"}a(l,"u");function u(C){return C instanceof Date||Object.prototype.toString.call(C)==="[object Date]"}a(u,"V");function f(C,X){for(var fe=[],we=C.length,Fe=0;Fe<we;++Fe)fe.push(X(C[Fe],Fe));return fe}a(f,"G");function h(C,X){for(var fe in X)i(X,fe)&&(C[fe]=X[fe]);return i(X,"toString")&&(C.toString=X.toString),i(X,"valueOf")&&(C.valueOf=X.valueOf),C}a(h,"E");function p(C,X,fe,we){return Xe(C,X,fe,we,!0).utc()}a(p,"l");function g(C){return C._pf==null&&(C._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),C._pf}a(g,"m");function y(C){if(C._isValid==null){var X=g(C),fe=M.call(X.parsedDateParts,function(we){return we!=null}),fe=!isNaN(C._d.getTime())&&X.overflow<0&&!X.empty&&!X.invalidEra&&!X.invalidMonth&&!X.invalidWeekday&&!X.weekdayMismatch&&!X.nullInput&&!X.invalidFormat&&!X.userInvalidated&&(!X.meridiem||X.meridiem&&fe);if(C._strict&&(fe=fe&&X.charsLeftOver===0&&X.unusedTokens.length===0&&X.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(C))return fe;C._isValid=fe}return C._isValid}a(y,"A");function E(C){var X=p(NaN);return C!=null?h(g(X),C):g(X).userInvalidated=!0,X}a(E,"I");var M=Array.prototype.some||function(C){for(var X=Object(this),fe=X.length>>>0,we=0;we<fe;we++)if(we in X&&C.call(this,X[we],we,X))return!0;return!1},z=t.momentProperties=[],P=!1;function Q(C,X){var fe,we,Fe,dt=z.length;if(o(X._isAMomentObject)||(C._isAMomentObject=X._isAMomentObject),o(X._i)||(C._i=X._i),o(X._f)||(C._f=X._f),o(X._l)||(C._l=X._l),o(X._strict)||(C._strict=X._strict),o(X._tzm)||(C._tzm=X._tzm),o(X._isUTC)||(C._isUTC=X._isUTC),o(X._offset)||(C._offset=X._offset),o(X._pf)||(C._pf=g(X)),o(X._locale)||(C._locale=X._locale),0<dt)for(fe=0;fe<dt;fe++)o(Fe=X[we=z[fe]])||(C[we]=Fe);return C}a(Q,"$");function V(C){Q(this,C),this._d=new Date(C._d!=null?C._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,t.updateOffset(this),P=!1)}a(V,"q");function W(C){return C instanceof V||C!=null&&C._isAMomentObject!=null}a(W,"h");function F(C){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+C)}a(F,"B");function B(C,X){var fe=!0;return h(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,C),fe){for(var we,Fe,dt=[],Nt=arguments.length,Qt=0;Qt<Nt;Qt++){if(we="",typeof arguments[Qt]=="object"){for(Fe in we+=`
[`+Qt+"] ",arguments[0])i(arguments[0],Fe)&&(we+=Fe+": "+arguments[0][Fe]+", ");we=we.slice(0,-2)}else we=arguments[Qt];dt.push(we)}F(C+`
Arguments: `+Array.prototype.slice.call(dt).join("")+`
`+new Error().stack),fe=!1}return X.apply(this,arguments)},X)}a(B,"e");var S={};function T(C,X){t.deprecationHandler!=null&&t.deprecationHandler(C,X),S[C]||(F(X),S[C]=!0)}a(T,"Q");function k(C){return typeof Function<"u"&&C instanceof Function||Object.prototype.toString.call(C)==="[object Function]"}a(k,"d");function R(C,X){var fe,we=h({},C);for(fe in X)i(X,fe)&&(n(C[fe])&&n(X[fe])?(we[fe]={},h(we[fe],C[fe]),h(we[fe],X[fe])):X[fe]!=null?we[fe]=X[fe]:delete we[fe]);for(fe in C)i(C,fe)&&!i(X,fe)&&n(C[fe])&&(we[fe]=h({},we[fe]));return we}a(R,"X");function x(C){C!=null&&this.set(C)}a(x,"K"),t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var N=Object.keys||function(C){var X,fe=[];for(X in C)i(C,X)&&fe.push(X);return fe};function m(C,X,fe){var we=""+Math.abs(C);return(0<=C?fe?"+":"":"-")+Math.pow(10,Math.max(0,X-we.length)).toString().substr(1)+we}a(m,"r");var v=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},G={};function K(C,X,fe,we){var Fe=typeof we=="string"?function(){return this[we]()}:we;C&&(G[C]=Fe),X&&(G[X[0]]=function(){return m(Fe.apply(this,arguments),X[1],X[2])}),fe&&(G[fe]=function(){return this.localeData().ordinal(Fe.apply(this,arguments),C)})}a(K,"s");function Z(C,X){return C.isValid()?(X=O(X,C.localeData()),U[X]=U[X]||function(fe){for(var we,Fe=fe.match(v),dt=0,Nt=Fe.length;dt<Nt;dt++)G[Fe[dt]]?Fe[dt]=G[Fe[dt]]:Fe[dt]=(we=Fe[dt]).match(/\[[\s\S]/)?we.replace(/^\[|\]$/g,""):we.replace(/\\/g,"");return function(Qt){for(var hr="",ir=0;ir<Nt;ir++)hr+=k(Fe[ir])?Fe[ir].call(Qt,fe):Fe[ir];return hr}}(X),U[X](C)):C.localeData().invalidDate()}a(Z,"re");function O(C,X){var fe=5;function we(Fe){return X.longDateFormat(Fe)||Fe}for(a(we,"s"),A.lastIndex=0;0<=fe&&A.test(C);)C=C.replace(A,we),A.lastIndex=0,--fe;return C}a(O,"ae");var $={};function L(C,X){var fe=C.toLowerCase();$[fe]=$[fe+"s"]=$[X]=C}a(L,"t");function ee(C){return typeof C=="string"?$[C]||$[C.toLowerCase()]:void 0}a(ee,"_");function ve(C){var X,fe,we={};for(fe in C)i(C,fe)&&(X=ee(fe))&&(we[X]=C[fe]);return we}a(ve,"ue");var ye={};function se(C,X){ye[C]=X}a(se,"n");function be(C){return C%4==0&&C%100!=0||C%400==0}a(be,"he");function Y(C){return C<0?Math.ceil(C)||0:Math.floor(C)}a(Y,"y");function D(X){var X=+X,fe=0;return fe=X!=0&&isFinite(X)?Y(X):fe}a(D,"g");function J(C,X){return function(fe){return fe!=null?(I(this,C,fe),t.updateOffset(this,X),this):q(this,C)}}a(J,"de");function q(C,X){return C.isValid()?C._d["get"+(C._isUTC?"UTC":"")+X]():NaN}a(q,"ce");function I(C,X,fe){C.isValid()&&!isNaN(fe)&&(X==="FullYear"&&be(C.year())&&C.month()===1&&C.date()===29?(fe=D(fe),C._d["set"+(C._isUTC?"UTC":"")+X](fe,C.month(),it(fe,C.month()))):C._d["set"+(C._isUTC?"UTC":"")+X](fe))}a(I,"fe");var H=/\d/,Or=/\d\d/,te=/\d{3}/,ka=/\d{4}/,Ys=/[+-]?\d{6}/,ie=/\d\d?/,he=/\d\d\d\d?/,De=/\d\d\d\d\d\d?/,$e=/\d{1,3}/,Po=/\d{1,4}/,Qn=/[+-]?\d{1,6}/,ze=/\d+/,Qe=/[+-]?\d+/,je=/Z|[+-]\d\d:?\d\d/gi,We=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Te(C,X,fe){ge[C]=k(X)?X:function(we,Fe){return we&&fe?fe:X}}a(Te,"v");function Je(C,X){return i(ge,C)?ge[C](X._strict,X._locale):new RegExp(rt(C.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(fe,we,Fe,dt,Nt){return we||Fe||dt||Nt})))}a(Je,"Oe");function rt(C){return C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}a(rt,"M");var ge={},xe={};function qe(C,X){var fe,we,Fe=X;for(typeof C=="string"&&(C=[C]),l(X)&&(Fe=a(function(dt,Nt){Nt[X]=D(dt)},"i")),we=C.length,fe=0;fe<we;fe++)xe[C[fe]]=Fe}a(qe,"D");function ot(C,X){qe(C,function(fe,we,Fe,dt){Fe._w=Fe._w||{},X(fe,Fe._w,Fe,dt)})}a(ot,"Te");var at,pe=0,Re=1,He=2,tt=3,Ve=4,et=5,gt=6,lt=7,zt=8;function it(C,X){if(isNaN(C)||isNaN(X))return NaN;var fe=(X%(fe=12)+fe)%fe;return C+=(X-fe)/12,fe==1?be(C)?29:28:31-fe%7%2}a(it,"We"),at=Array.prototype.indexOf||function(C){for(var X=0;X<this.length;++X)if(this[X]===C)return X;return-1},K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(C){return this.localeData().monthsShort(this,C)}),K("MMMM",0,0,function(C){return this.localeData().months(this,C)}),L("month","M"),se("month",8),Te("M",ie),Te("MM",ie,Or),Te("MMM",function(C,X){return X.monthsShortRegex(C)}),Te("MMMM",function(C,X){return X.monthsRegex(C)}),qe(["M","MM"],function(C,X){X[Re]=D(C)-1}),qe(["MMM","MMMM"],function(C,X,fe,we){we=fe._locale.monthsParse(C,we,fe._strict),we!=null?X[Re]=we:g(fe).invalidMonth=C});var Wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie=Ce,le=Ce;function _e(C,X){var fe;if(C.isValid()){if(typeof X=="string"){if(/^\d+$/.test(X))X=D(X);else if(!l(X=C.localeData().monthsParse(X)))return}fe=Math.min(C.date(),it(C.year(),X)),C._d["set"+(C._isUTC?"UTC":"")+"Month"](X,fe)}}a(_e,"Ve");function ae(C){return C!=null?(_e(this,C),t.updateOffset(this,!0),this):q(this,"Month")}a(ae,"Ge");function ce(){function C(Nt,Qt){return Qt.length-Nt.length}a(C,"e");for(var X,fe=[],we=[],Fe=[],dt=0;dt<12;dt++)X=p([2e3,dt]),fe.push(this.monthsShort(X,"")),we.push(this.months(X,"")),Fe.push(this.months(X,"")),Fe.push(this.monthsShort(X,""));for(fe.sort(C),we.sort(C),Fe.sort(C),dt=0;dt<12;dt++)fe[dt]=rt(fe[dt]),we[dt]=rt(we[dt]);for(dt=0;dt<24;dt++)Fe[dt]=rt(Fe[dt]);this._monthsRegex=new RegExp("^("+Fe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+we.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+fe.join("|")+")","i")}a(ce,"Ee");function re(C){return be(C)?366:365}a(re,"Ae"),K("Y",0,0,function(){var C=this.year();return C<=9999?m(C,4):"+"+C}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),L("year","y"),se("year",1),Te("Y",Qe),Te("YY",ie,Or),Te("YYYY",Po,ka),Te("YYYYY",Qn,Ys),Te("YYYYYY",Qn,Ys),qe(["YYYYY","YYYYYY"],pe),qe("YYYY",function(C,X){X[pe]=C.length===2?t.parseTwoDigitYear(C):D(C)}),qe("YY",function(C,X){X[pe]=t.parseTwoDigitYear(C)}),qe("Y",function(C,X){X[pe]=parseInt(C,10)}),t.parseTwoDigitYear=function(C){return D(C)+(68<D(C)?1900:2e3)};var au=J("FullYear",!0);function ue(C,X,fe,we,Fe,dt,Nt){var Qt;return C<100&&0<=C?(Qt=new Date(C+400,X,fe,we,Fe,dt,Nt),isFinite(Qt.getFullYear())&&Qt.setFullYear(C)):Qt=new Date(C,X,fe,we,Fe,dt,Nt),Qt}a(ue,"je");function me(C){var X;return C<100&&0<=C?((X=Array.prototype.slice.call(arguments))[0]=C+400,X=new Date(Date.UTC.apply(null,X)),isFinite(X.getUTCFullYear())&&X.setUTCFullYear(C)):X=new Date(Date.UTC.apply(null,arguments)),X}a(me,"Ze");function Ae(C,X,fe){return fe=7+X-fe,fe-(7+me(C,0,fe).getUTCDay()-X)%7-1}a(Ae,"ze");function Oe(C,Nt,Qt,we,Fe){var dt,Nt=1+7*(Nt-1)+(7+Qt-we)%7+Ae(C,we,Fe),Qt=Nt<=0?re(dt=C-1)+Nt:Nt>re(C)?(dt=C+1,Nt-re(C)):(dt=C,Nt);return{year:dt,dayOfYear:Qt}}a(Oe,"$e");function Ge(C,X,fe){var we,Fe,dt=Ae(C.year(),X,fe),dt=Math.floor((C.dayOfYear()-dt-1)/7)+1;return dt<1?we=dt+ke(Fe=C.year()-1,X,fe):dt>ke(C.year(),X,fe)?(we=dt-ke(C.year(),X,fe),Fe=C.year()+1):(Fe=C.year(),we=dt),{week:we,year:Fe}}a(Ge,"qe");function ke(C,Fe,fe){var we=Ae(C,Fe,fe),Fe=Ae(C+1,Fe,fe);return(re(C)-we+Fe)/7}a(ke,"P"),K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),se("week",5),se("isoWeek",5),Te("w",ie),Te("ww",ie,Or),Te("W",ie),Te("WW",ie,Or),ot(["w","ww","W","WW"],function(C,X,fe,we){X[we.substr(0,1)]=D(C)});function st(C,X){return C.slice(X,7).concat(C.slice(0,X))}a(st,"Be"),K("d",0,"do","day"),K("dd",0,0,function(C){return this.localeData().weekdaysMin(this,C)}),K("ddd",0,0,function(C){return this.localeData().weekdaysShort(this,C)}),K("dddd",0,0,function(C){return this.localeData().weekdays(this,C)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),se("day",11),se("weekday",11),se("isoWeekday",11),Te("d",ie),Te("e",ie),Te("E",ie),Te("dd",function(C,X){return X.weekdaysMinRegex(C)}),Te("ddd",function(C,X){return X.weekdaysShortRegex(C)}),Te("dddd",function(C,X){return X.weekdaysRegex(C)}),ot(["dd","ddd","dddd"],function(C,X,fe,we){we=fe._locale.weekdaysParse(C,we,fe._strict),we!=null?X.d=we:g(fe).invalidWeekday=C}),ot(["d","e","E"],function(C,X,fe,we){X[we]=D(C)});var yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=Ce,Pt=Ce,tr=Ce;function cr(){function C(ir,Ur){return Ur.length-ir.length}a(C,"e");for(var X,fe,we,Fe=[],dt=[],Nt=[],Qt=[],hr=0;hr<7;hr++)we=p([2e3,1]).day(hr),X=rt(this.weekdaysMin(we,"")),fe=rt(this.weekdaysShort(we,"")),we=rt(this.weekdays(we,"")),Fe.push(X),dt.push(fe),Nt.push(we),Qt.push(X),Qt.push(fe),Qt.push(we);Fe.sort(C),dt.sort(C),Nt.sort(C),Qt.sort(C),this._weekdaysRegex=new RegExp("^("+Qt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Nt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+dt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Fe.join("|")+")","i")}a(cr,"nt");function pr(){return this.hours()%12||12}a(pr,"st");function Cr(C,X){K(C,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),X)})}a(Cr,"it");function Qr(C,X){return X._meridiemParse}a(Qr,"rt"),K("H",["HH",2],0,"hour"),K("h",["hh",2],0,pr),K("k",["kk",2],0,function(){return this.hours()||24}),K("hmm",0,0,function(){return""+pr.apply(this)+m(this.minutes(),2)}),K("hmmss",0,0,function(){return""+pr.apply(this)+m(this.minutes(),2)+m(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+m(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+m(this.minutes(),2)+m(this.seconds(),2)}),Cr("a",!0),Cr("A",!1),L("hour","h"),se("hour",13),Te("a",Qr),Te("A",Qr),Te("H",ie),Te("h",ie),Te("k",ie),Te("HH",ie,Or),Te("hh",ie,Or),Te("kk",ie,Or),Te("hmm",he),Te("hmmss",De),Te("Hmm",he),Te("Hmmss",De),qe(["H","HH"],tt),qe(["k","kk"],function(C,X,fe){C=D(C),X[tt]=C===24?0:C}),qe(["a","A"],function(C,X,fe){fe._isPm=fe._locale.isPM(C),fe._meridiem=C}),qe(["h","hh"],function(C,X,fe){X[tt]=D(C),g(fe).bigHour=!0}),qe("hmm",function(C,X,fe){var we=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we)),g(fe).bigHour=!0}),qe("hmmss",function(C,X,fe){var we=C.length-4,Fe=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we,2)),X[et]=D(C.substr(Fe)),g(fe).bigHour=!0}),qe("Hmm",function(C,X,fe){var we=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we))}),qe("Hmmss",function(C,X,fe){var we=C.length-4,Fe=C.length-2;X[tt]=D(C.substr(0,we)),X[Ve]=D(C.substr(we,2)),X[et]=D(C.substr(Fe))}),Ce=J("Hours",!0);var Tr,ur={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Wt,monthsShort:bt,week:{dow:0,doy:6},weekdays:yt,weekdaysMin:wt,weekdaysShort:pt,meridiemParse:/[ap]\.?m?\.?/i},fr={},Mr={};function Br(C){return C&&C.toLowerCase().replace("_","-")}a(Br,"lt");function Ne(C){for(var X,fe,we,Fe,dt=0;dt<C.length;){for(X=(Fe=Br(C[dt]).split("-")).length,fe=(fe=Br(C[dt+1]))?fe.split("-"):null;0<X;){if(we=Ze(Fe.slice(0,X).join("-")))return we;if(fe&&fe.length>=X&&function(Nt,Qt){for(var hr=Math.min(Nt.length,Qt.length),ir=0;ir<hr;ir+=1)if(Nt[ir]!==Qt[ir])return ir;return hr}(Fe,fe)>=X-1)break;X--}dt++}return Tr}a(Ne,"ht");function Ze(C){var X;if(fr[C]===void 0&&typeof ub<"u"&&ub&&ub.exports&&C.match("^[^/\\\\]*$")!=null)try{X=Tr._abbr,Yi("./locale/"+C),Tt(X)}catch{fr[C]=null}return fr[C]}a(Ze,"dt");function Tt(C,X){return C&&((X=o(X)?At(C):Ft(C,X))?Tr=X:typeof console<"u"&&console.warn&&console.warn("Locale "+C+" not found. Did you forget to load it?")),Tr._abbr}a(Tt,"ct");function Ft(C,X){if(X===null)return delete fr[C],null;var fe,we=ur;if(X.abbr=C,fr[C]!=null)T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),we=fr[C]._config;else if(X.parentLocale!=null)if(fr[X.parentLocale]!=null)we=fr[X.parentLocale]._config;else{if((fe=Ze(X.parentLocale))==null)return Mr[X.parentLocale]||(Mr[X.parentLocale]=[]),Mr[X.parentLocale].push({name:C,config:X}),null;we=fe._config}return fr[C]=new x(R(we,X)),Mr[C]&&Mr[C].forEach(function(Fe){Ft(Fe.name,Fe.config)}),Tt(C),fr[C]}a(Ft,"ft");function At(C){var X;if(!(C=C&&C._locale&&C._locale._abbr?C._locale._abbr:C))return Tr;if(!r(C)){if(X=Ze(C))return X;C=[C]}return Ne(C)}a(At,"mt");function Ot(C){var X=C._a;return X&&g(C).overflow===-2&&(X=X[Re]<0||11<X[Re]?Re:X[He]<1||X[He]>it(X[pe],X[Re])?He:X[tt]<0||24<X[tt]||X[tt]===24&&(X[Ve]!==0||X[et]!==0||X[gt]!==0)?tt:X[Ve]<0||59<X[Ve]?Ve:X[et]<0||59<X[et]?et:X[gt]<0||999<X[gt]?gt:-1,g(C)._overflowDayOfYear&&(X<pe||He<X)&&(X=He),g(C)._overflowWeeks&&X===-1&&(X=lt),g(C)._overflowWeekday&&X===-1&&(X=zt),g(C).overflow=X),C}a(Ot,"_t");var Vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,er=/Z|[+-]\d\d(?::?\d\d)?/,Ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ir=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ct=/^\/?Date\((-?\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pi(C){var X,fe,we,Fe,dt,Nt,hr=C._i,Qt=Vt.exec(hr)||Ct.exec(hr),hr=Ue.length,ir=Ir.length;if(Qt){for(g(C).iso=!0,X=0,fe=hr;X<fe;X++)if(Ue[X][1].exec(Qt[1])){Fe=Ue[X][0],we=Ue[X][2]!==!1;break}if(Fe==null)C._isValid=!1;else{if(Qt[3]){for(X=0,fe=ir;X<fe;X++)if(Ir[X][1].exec(Qt[3])){dt=(Qt[2]||" ")+Ir[X][0];break}if(dt==null)return void(C._isValid=!1)}if(we||dt==null){if(Qt[4]){if(!er.exec(Qt[4]))return void(C._isValid=!1);Nt="Z"}C._f=Fe+(dt||"")+(Nt||""),Be(C)}else C._isValid=!1}}else C._isValid=!1}a(Pi,"St");function Ya(C,X,fe,we,Fe,dt){return C=[function(Nt){Nt=parseInt(Nt,10);{if(Nt<=49)return 2e3+Nt;if(Nt<=999)return 1900+Nt}return Nt}(C),bt.indexOf(X),parseInt(fe,10),parseInt(we,10),parseInt(Fe,10)],dt&&C.push(parseInt(dt,10)),C}a(Ya,"Yt");function Ha(C){var X,fe,we,Fe,dt=xn.exec(C._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));dt?(X=Ya(dt[4],dt[3],dt[2],dt[5],dt[6],dt[7]),fe=dt[1],we=X,Fe=C,fe&&pt.indexOf(fe)!==new Date(we[0],we[1],we[2]).getDay()?(g(Fe).weekdayMismatch=!0,Fe._isValid=!1):(C._a=X,C._tzm=(fe=dt[8],we=dt[9],Fe=dt[10],fe?Tn[fe]:we?0:60*(((fe=parseInt(Fe,10))-(we=fe%100))/100)+we),C._d=me.apply(null,C._a),C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),g(C).rfc2822=!0)):C._isValid=!1}a(Ha,"Ot");function un(C,X,fe){return C??X??fe}a(un,"bt");function oe(C){var X,fe,we,Fe,dt,Nt,Qt,hr,ir,Ur,Lr,wi=[];if(!C._d){for(we=C,Fe=new Date(t.now()),fe=we._useUTC?[Fe.getUTCFullYear(),Fe.getUTCMonth(),Fe.getUTCDate()]:[Fe.getFullYear(),Fe.getMonth(),Fe.getDate()],C._w&&C._a[He]==null&&C._a[Re]==null&&((Fe=(we=C)._w).GG!=null||Fe.W!=null||Fe.E!=null?(hr=1,ir=4,dt=un(Fe.GG,we._a[pe],Ge(ut(),1,4).year),Nt=un(Fe.W,1),((Qt=un(Fe.E,1))<1||7<Qt)&&(Ur=!0)):(hr=we._locale._week.dow,ir=we._locale._week.doy,Lr=Ge(ut(),hr,ir),dt=un(Fe.gg,we._a[pe],Lr.year),Nt=un(Fe.w,Lr.week),Fe.d!=null?((Qt=Fe.d)<0||6<Qt)&&(Ur=!0):Fe.e!=null?(Qt=Fe.e+hr,(Fe.e<0||6<Fe.e)&&(Ur=!0)):Qt=hr),Nt<1||Nt>ke(dt,hr,ir)?g(we)._overflowWeeks=!0:Ur!=null?g(we)._overflowWeekday=!0:(Lr=Oe(dt,Nt,Qt,hr,ir),we._a[pe]=Lr.year,we._dayOfYear=Lr.dayOfYear)),C._dayOfYear!=null&&(Fe=un(C._a[pe],fe[pe]),(C._dayOfYear>re(Fe)||C._dayOfYear===0)&&(g(C)._overflowDayOfYear=!0),Ur=me(Fe,0,C._dayOfYear),C._a[Re]=Ur.getUTCMonth(),C._a[He]=Ur.getUTCDate()),X=0;X<3&&C._a[X]==null;++X)C._a[X]=wi[X]=fe[X];for(;X<7;X++)C._a[X]=wi[X]=C._a[X]==null?X===2?1:0:C._a[X];C._a[tt]===24&&C._a[Ve]===0&&C._a[et]===0&&C._a[gt]===0&&(C._nextDay=!0,C._a[tt]=0),C._d=(C._useUTC?me:ue).apply(null,wi),dt=C._useUTC?C._d.getUTCDay():C._d.getDay(),C._tzm!=null&&C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),C._nextDay&&(C._a[tt]=24),C._w&&C._w.d!==void 0&&C._w.d!==dt&&(g(C).weekdayMismatch=!0)}}a(oe,"xt");function Be(C){if(C._f===t.ISO_8601)Pi(C);else if(C._f===t.RFC_2822)Ha(C);else{C._a=[],g(C).empty=!0;for(var X,fe,we,Fe,dt,Nt=""+C._i,Qt=Nt.length,hr=0,ir=O(C._f,C._locale).match(v)||[],Ur=ir.length,Lr=0;Lr<Ur;Lr++)fe=ir[Lr],(X=(Nt.match(Je(fe,C))||[])[0])&&(0<(we=Nt.substr(0,Nt.indexOf(X))).length&&g(C).unusedInput.push(we),Nt=Nt.slice(Nt.indexOf(X)+X.length),hr+=X.length),G[fe]?(X?g(C).empty=!1:g(C).unusedTokens.push(fe),we=fe,dt=C,(Fe=X)!=null&&i(xe,we)&&xe[we](Fe,dt._a,dt,we)):C._strict&&!X&&g(C).unusedTokens.push(fe);g(C).charsLeftOver=Qt-hr,0<Nt.length&&g(C).unusedInput.push(Nt),C._a[tt]<=12&&g(C).bigHour===!0&&0<C._a[tt]&&(g(C).bigHour=void 0),g(C).parsedDateParts=C._a.slice(0),g(C).meridiem=C._meridiem,C._a[tt]=function(wi,Ui,ho){return ho==null?Ui:wi.meridiemHour!=null?wi.meridiemHour(Ui,ho):wi.isPM!=null?((wi=wi.isPM(ho))&&Ui<12&&(Ui+=12),Ui=wi||Ui!==12?Ui:0):Ui}(C._locale,C._a[tt],C._meridiem),(Qt=g(C).era)!==null&&(C._a[pe]=C._locale.erasConvertYear(Qt,C._a[pe])),oe(C),Ot(C)}}a(Be,"Tt");function Le(C){var X,fe,we,Fe=C._i,dt=C._f;return C._locale=C._locale||At(C._l),Fe===null||dt===void 0&&Fe===""?E({nullInput:!0}):(typeof Fe=="string"&&(C._i=Fe=C._locale.preparse(Fe)),W(Fe)?new V(Ot(Fe)):(u(Fe)?C._d=Fe:r(dt)?function(Nt){var Qt,hr,ir,Ur,Lr,wi,Ui=!1,ho=Nt._f.length;if(ho===0)return g(Nt).invalidFormat=!0,Nt._d=new Date(NaN);for(Ur=0;Ur<ho;Ur++)Lr=0,wi=!1,Qt=Q({},Nt),Nt._useUTC!=null&&(Qt._useUTC=Nt._useUTC),Qt._f=Nt._f[Ur],Be(Qt),y(Qt)&&(wi=!0),Lr=(Lr+=g(Qt).charsLeftOver)+10*g(Qt).unusedTokens.length,g(Qt).score=Lr,Ui?Lr<ir&&(ir=Lr,hr=Qt):(ir==null||Lr<ir||wi)&&(ir=Lr,hr=Qt,wi&&(Ui=!0));h(Nt,hr||Qt)}(C):dt?Be(C):o(dt=(Fe=C)._i)?Fe._d=new Date(t.now()):u(dt)?Fe._d=new Date(dt.valueOf()):typeof dt=="string"?(fe=Fe,(X=ct.exec(fe._i))!==null?fe._d=new Date(+X[1]):(Pi(fe),fe._isValid===!1&&(delete fe._isValid,Ha(fe),fe._isValid===!1&&(delete fe._isValid,fe._strict?fe._isValid=!1:t.createFromInputFallback(fe))))):r(dt)?(Fe._a=f(dt.slice(0),function(Nt){return parseInt(Nt,10)}),oe(Fe)):n(dt)?(X=Fe)._d||(we=(fe=ve(X._i)).day===void 0?fe.date:fe.day,X._a=f([fe.year,fe.month,we,fe.hour,fe.minute,fe.second,fe.millisecond],function(Nt){return Nt&&parseInt(Nt,10)}),oe(X)):l(dt)?Fe._d=new Date(dt):t.createFromInputFallback(Fe),y(C)||(C._d=null),C))}a(Le,"Nt");function Xe(C,X,fe,we,Fe){var dt={};return X!==!0&&X!==!1||(we=X,X=void 0),fe!==!0&&fe!==!1||(we=fe,fe=void 0),(n(C)&&s(C)||r(C)&&C.length===0)&&(C=void 0),dt._isAMomentObject=!0,dt._useUTC=dt._isUTC=Fe,dt._l=fe,dt._i=C,dt._f=X,dt._strict=we,(Fe=new V(Ot(Le(Fe=dt))))._nextDay&&(Fe.add(1,"d"),Fe._nextDay=void 0),Fe}a(Xe,"Pt");function ut(C,X,fe,we){return Xe(C,X,fe,we,!1)}a(ut,"W"),t.createFromInputFallback=B("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(C){C._d=new Date(C._i+(C._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){},he=B("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=ut.apply(null,arguments);return this.isValid()&&C.isValid()?C<this?this:C:E()}),De=B("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=ut.apply(null,arguments);return this.isValid()&&C.isValid()?this<C?this:C:E()});function Ke(C,X){var fe,we;if(!(X=X.length===1&&r(X[0])?X[0]:X).length)return ut();for(fe=X[0],we=1;we<X.length;++we)X[we].isValid()&&!X[we][C](fe)||(fe=X[we]);return fe}a(Ke,"Rt");var Et=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nt(X){var X=ve(X),fe=X.year||0,we=X.quarter||0,Fe=X.month||0,dt=X.week||X.isoWeek||0,Nt=X.day||0,Qt=X.hour||0,hr=X.minute||0,ir=X.second||0,Ur=X.millisecond||0;this._isValid=function(Lr){var wi,Ui,ho=!1,hy=Et.length;for(wi in Lr)if(i(Lr,wi)&&(at.call(Et,wi)===-1||Lr[wi]!=null&&isNaN(Lr[wi])))return!1;for(Ui=0;Ui<hy;++Ui)if(Lr[Et[Ui]]){if(ho)return!1;parseFloat(Lr[Et[Ui]])!==D(Lr[Et[Ui]])&&(ho=!0)}return!0}(X),this._milliseconds=+Ur+1e3*ir+6e4*hr+1e3*Qt*60*60,this._days=+Nt+7*dt,this._months=+Fe+3*we+12*fe,this._data={},this._locale=At(),this._bubble()}a(nt,"Ct");function Rt(C){return C instanceof nt}a(Rt,"Ut");function jt(C){return C<0?-1*Math.round(-1*C):Math.round(C)}a(jt,"Ht");function Xt(C,X){K(C,0,0,function(){var fe=this.utcOffset(),we="+";return fe<0&&(fe=-fe,we="-"),we+m(~~(fe/60),2)+X+m(~~fe%60,2)})}a(Xt,"Ft"),Xt("Z",":"),Xt("ZZ",""),Te("Z",We),Te("ZZ",We),qe(["Z","ZZ"],function(C,X,fe){fe._useUTC=!0,fe._tzm=Er(We,C)});var lr=/([\+\-]|\d\d)/gi;function Er(C,fe){var fe=(fe||"").match(C);return fe===null?null:(fe=60*(C=((fe[fe.length-1]||[])+"").match(lr)||["-",0,0])[1]+D(C[2]))===0?0:C[0]==="+"?fe:-fe}a(Er,"Vt");function Kr(C,X){var fe;return X._isUTC?(X=X.clone(),fe=(W(C)||u(C)?C:ut(C)).valueOf()-X.valueOf(),X._d.setTime(X._d.valueOf()+fe),t.updateOffset(X,!1),X):ut(C).local()}a(Kr,"Gt");function Rr(C){return-Math.round(C._d.getTimezoneOffset())}a(Rr,"Et");function jr(){return!!this.isValid()&&this._isUTC&&this._offset===0}a(jr,"At"),t.updateOffset=function(){};var en=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pn(C,X){var fe,we=C,Fe=null;return Rt(C)?we={ms:C._milliseconds,d:C._days,M:C._months}:l(C)||!isNaN(+C)?(we={},X?we[X]=+C:we.milliseconds=+C):(Fe=en.exec(C))?(fe=Fe[1]==="-"?-1:1,we={y:0,d:D(Fe[He])*fe,h:D(Fe[tt])*fe,m:D(Fe[Ve])*fe,s:D(Fe[et])*fe,ms:D(jt(1e3*Fe[gt]))*fe}):(Fe=Fn.exec(C))?(fe=Fe[1]==="-"?-1:1,we={y:Dn(Fe[2],fe),M:Dn(Fe[3],fe),w:Dn(Fe[4],fe),d:Dn(Fe[5],fe),h:Dn(Fe[6],fe),m:Dn(Fe[7],fe),s:Dn(Fe[8],fe)}):we==null?we={}:typeof we=="object"&&("from"in we||"to"in we)&&(X=function(dt,Nt){var Qt;return!dt.isValid()||!Nt.isValid()?{milliseconds:0,months:0}:(Nt=Kr(Nt,dt),dt.isBefore(Nt)?Qt=gi(dt,Nt):((Qt=gi(Nt,dt)).milliseconds=-Qt.milliseconds,Qt.months=-Qt.months),Qt)}(ut(we.from),ut(we.to)),(we={}).ms=X.milliseconds,we.M=X.months),Fe=new nt(we),Rt(C)&&i(C,"_locale")&&(Fe._locale=C._locale),Rt(C)&&i(C,"_isValid")&&(Fe._isValid=C._isValid),Fe}a(pn,"C");function Dn(C,X){return C=C&&parseFloat(C.replace(",",".")),(isNaN(C)?0:C)*X}a(Dn,"Zt");function gi(C,X){var fe={};return fe.months=X.month()-C.month()+12*(X.year()-C.year()),C.clone().add(fe.months,"M").isAfter(X)&&--fe.months,fe.milliseconds=+X-+C.clone().add(fe.months,"M"),fe}a(gi,"zt");function ca(C,X){return function(fe,we){var Fe;return we===null||isNaN(+we)||(T(X,"moment()."+X+"(period, number) is deprecated. Please use moment()."+X+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Fe=fe,fe=we,we=Fe),ci(this,pn(fe,we),C),this}}a(ca,"$t");function ci(C,Nt,fe,we){var Fe=Nt._milliseconds,dt=jt(Nt._days),Nt=jt(Nt._months);C.isValid()&&(we=we==null||we,Nt&&_e(C,q(C,"Month")+Nt*fe),dt&&I(C,"Date",q(C,"Date")+dt*fe),Fe&&C._d.setTime(C._d.valueOf()+Fe*fe),we&&t.updateOffset(C,dt||Nt))}a(ci,"qt"),pn.fn=nt.prototype,pn.invalid=function(){return pn(NaN)},Wt=ca(1,"add"),yt=ca(-1,"subtract");function Li(C){return typeof C=="string"||C instanceof String}a(Li,"Bt");function za(C){return W(C)||u(C)||Li(C)||l(C)||function(X){var fe=r(X),we=!1;return fe&&(we=X.filter(function(Fe){return!l(Fe)&&Li(X)}).length===0),fe&&we}(C)||function(X){var fe,we,Fe=n(X)&&!s(X),dt=!1,Nt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Qt=Nt.length;for(fe=0;fe<Qt;fe+=1)we=Nt[fe],dt=dt||i(X,we);return Fe&&dt}(C)||C==null}a(za,"Jt");function Di(C,Fe){if(C.date()<Fe.date())return-Di(Fe,C);var fe=12*(Fe.year()-C.year())+(Fe.month()-C.month()),we=C.clone().add(fe,"months"),Fe=Fe-we<0?(Fe-we)/(we-C.clone().add(fe-1,"months")):(Fe-we)/(C.clone().add(1+fe,"months")-we);return-(fe+Fe)||0}a(Di,"Qt");function la(C){return C===void 0?this._locale._abbr:((C=At(C))!=null&&(this._locale=C),this)}a(la,"Xt"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",wt=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(C){return C===void 0?this.localeData():this.locale(C)});function Fi(){return this._locale}a(Fi,"Kt");var zr=126227808e5;function rr(C,X){return(C%X+X)%X}a(rr,"tn");function mt(C,X,fe){return C<100&&0<=C?new Date(C+400,X,fe)-zr:new Date(C,X,fe).valueOf()}a(mt,"nn");function $t(C,X,fe){return C<100&&0<=C?Date.UTC(C+400,X,fe)-zr:Date.UTC(C,X,fe)}a($t,"sn");function or(C,X){return X.erasAbbrRegex(C)}a(or,"rn");function Xr(){for(var C=[],X=[],fe=[],we=[],Fe=this.eras(),dt=0,Nt=Fe.length;dt<Nt;++dt)X.push(rt(Fe[dt].name)),C.push(rt(Fe[dt].abbr)),fe.push(rt(Fe[dt].narrow)),we.push(rt(Fe[dt].name)),we.push(rt(Fe[dt].abbr)),we.push(rt(Fe[dt].narrow));this._erasRegex=new RegExp("^("+we.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+X.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+fe.join("|")+")","i")}a(Xr,"an");function li(C,X){K(0,[C,C.length],0,X)}a(li,"on");function ui(C,X,fe,we,Fe){var dt;return C==null?Ge(this,we,Fe).year:(dt=ke(C,we,Fe),function(Nt,Qt,hr,ir,Ur){return Nt=Oe(Nt,Qt,hr,ir,Ur),Qt=me(Nt.year,0,Nt.dayOfYear),this.year(Qt.getUTCFullYear()),this.month(Qt.getUTCMonth()),this.date(Qt.getUTCDate()),this}.call(this,C,X=dt<X?dt:X,fe,we,Fe))}a(ui,"un"),K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),Te("N",or),Te("NN",or),Te("NNN",or),Te("NNNN",function(C,X){return X.erasNameRegex(C)}),Te("NNNNN",function(C,X){return X.erasNarrowRegex(C)}),qe(["N","NN","NNN","NNNN","NNNNN"],function(C,X,fe,we){we=fe._locale.erasParse(C,we,fe._strict),we?g(fe).era=we:g(fe).invalidEra=C}),Te("y",ze),Te("yy",ze),Te("yyy",ze),Te("yyyy",ze),Te("yo",function(C,X){return X._eraYearOrdinalRegex||ze}),qe(["y","yy","yyy","yyyy"],pe),qe(["yo"],function(C,X,fe,we){var Fe;fe._locale._eraYearOrdinalRegex&&(Fe=C.match(fe._locale._eraYearOrdinalRegex)),fe._locale.eraYearOrdinalParse?X[pe]=fe._locale.eraYearOrdinalParse(C,Fe):X[pe]=parseInt(C,10)}),K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100}),li("gggg","weekYear"),li("ggggg","weekYear"),li("GGGG","isoWeekYear"),li("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),se("weekYear",1),se("isoWeekYear",1),Te("G",Qe),Te("g",Qe),Te("GG",ie,Or),Te("gg",ie,Or),Te("GGGG",Po,ka),Te("gggg",Po,ka),Te("GGGGG",Qn,Ys),Te("ggggg",Qn,Ys),ot(["gggg","ggggg","GGGG","GGGGG"],function(C,X,fe,we){X[we.substr(0,2)]=D(C)}),ot(["gg","GG"],function(C,X,fe,we){X[we]=t.parseTwoDigitYear(C)}),K("Q",0,"Qo","quarter"),L("quarter","Q"),se("quarter",7),Te("Q",H),qe("Q",function(C,X){X[Re]=3*(D(C)-1)}),K("D",["DD",2],"Do","date"),L("date","D"),se("date",9),Te("D",ie),Te("DD",ie,Or),Te("Do",function(C,X){return C?X._dayOfMonthOrdinalParse||X._ordinalParse:X._dayOfMonthOrdinalParseLenient}),qe(["D","DD"],He),qe("Do",function(C,X){X[He]=D(C.match(ie)[0])}),Po=J("Date",!0),K("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),se("dayOfYear",4),Te("DDD",$e),Te("DDDD",te),qe(["DDD","DDDD"],function(C,X,fe){fe._dayOfYear=D(C)}),K("m",["mm",2],0,"minute"),L("minute","m"),se("minute",14),Te("m",ie),Te("mm",ie,Or),qe(["m","mm"],Ve);var Mn,ka=J("Minutes",!1),Qn=(K("s",["ss",2],0,"second"),L("second","s"),se("second",15),Te("s",ie),Te("ss",ie,Or),qe(["s","ss"],et),J("Seconds",!1));for(K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return 10*this.millisecond()}),K(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),K(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),K(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),K(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),K(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),se("millisecond",16),Te("S",$e,H),Te("SS",$e,Or),Te("SSS",$e,te),Mn="SSSS";Mn.length<=9;Mn+="S")Te(Mn,ze);function Fs(C,X){X[gt]=D(1e3*("0."+C))}for(a(Fs,"hn"),Mn="S";Mn.length<=9;Mn+="S")qe(Mn,Fs);Ys=J("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName"),H=V.prototype;function Ca(C){return C}a(Ca,"dn"),H.add=Wt,H.calendar=function(fe,Fe){arguments.length===1&&(arguments[0]?za(arguments[0])?(fe=arguments[0],Fe=void 0):function(dt){for(var Nt=n(dt)&&!s(dt),Qt=!1,hr=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ir=0;ir<hr.length;ir+=1)Qt=Qt||i(dt,hr[ir]);return Nt&&Qt}(arguments[0])&&(Fe=arguments[0],fe=void 0):Fe=fe=void 0);var fe=fe||ut(),we=Kr(fe,this).startOf("day"),we=t.calendarFormat(this,we)||"sameElse",Fe=Fe&&(k(Fe[we])?Fe[we].call(this,fe):Fe[we]);return this.format(Fe||this.localeData().calendar(we,this,ut(fe)))},H.clone=function(){return new V(this)},H.diff=function(C,X,fe){var we,Fe,dt;if(!this.isValid())return NaN;if(!(we=Kr(C,this)).isValid())return NaN;switch(Fe=6e4*(we.utcOffset()-this.utcOffset()),X=ee(X)){case"year":dt=Di(this,we)/12;break;case"month":dt=Di(this,we);break;case"quarter":dt=Di(this,we)/3;break;case"second":dt=(this-we)/1e3;break;case"minute":dt=(this-we)/6e4;break;case"hour":dt=(this-we)/36e5;break;case"day":dt=(this-we-Fe)/864e5;break;case"week":dt=(this-we-Fe)/6048e5;break;default:dt=this-we}return fe?dt:Y(dt)},H.endOf=function(C){var X,fe;if((C=ee(C))===void 0||C==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?$t:mt,C){case"year":X=fe(this.year()+1,0,1)-1;break;case"quarter":X=fe(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":X=fe(this.year(),this.month()+1,1)-1;break;case"week":X=fe(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":X=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":X=fe(this.year(),this.month(),this.date()+1)-1;break;case"hour":X=this._d.valueOf(),X+=36e5-rr(X+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":X=this._d.valueOf(),X+=6e4-rr(X,6e4)-1;break;case"second":X=this._d.valueOf(),X+=1e3-rr(X,1e3)-1;break}return this._d.setTime(X),t.updateOffset(this,!0),this},H.format=function(C){return C=C||(this.isUtc()?t.defaultFormatUtc:t.defaultFormat),C=Z(this,C),this.localeData().postformat(C)},H.from=function(C,X){return this.isValid()&&(W(C)&&C.isValid()||ut(C).isValid())?pn({to:this,from:C}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()},H.fromNow=function(C){return this.from(ut(),C)},H.to=function(C,X){return this.isValid()&&(W(C)&&C.isValid()||ut(C).isValid())?pn({from:this,to:C}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()},H.toNow=function(C){return this.to(ut(),C)},H.get=function(C){return k(this[C=ee(C)])?this[C]():this},H.invalidAt=function(){return g(this).overflow},H.isAfter=function(C,X){return C=W(C)?C:ut(C),!(!this.isValid()||!C.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()>C.valueOf():C.valueOf()<this.clone().startOf(X).valueOf())},H.isBefore=function(C,X){return C=W(C)?C:ut(C),!(!this.isValid()||!C.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()<C.valueOf():this.clone().endOf(X).valueOf()<C.valueOf())},H.isBetween=function(C,X,fe,we){return C=W(C)?C:ut(C),X=W(X)?X:ut(X),!!(this.isValid()&&C.isValid()&&X.isValid())&&((we=we||"()")[0]==="("?this.isAfter(C,fe):!this.isBefore(C,fe))&&(we[1]===")"?this.isBefore(X,fe):!this.isAfter(X,fe))},H.isSame=function(fe,X){var fe=W(fe)?fe:ut(fe);return!(!this.isValid()||!fe.isValid())&&((X=ee(X)||"millisecond")==="millisecond"?this.valueOf()===fe.valueOf():(fe=fe.valueOf(),this.clone().startOf(X).valueOf()<=fe&&fe<=this.clone().endOf(X).valueOf()))},H.isSameOrAfter=function(C,X){return this.isSame(C,X)||this.isAfter(C,X)},H.isSameOrBefore=function(C,X){return this.isSame(C,X)||this.isBefore(C,X)},H.isValid=function(){return y(this)},H.lang=wt,H.locale=la,H.localeData=Fi,H.max=De,H.min=he,H.parsingFlags=function(){return h({},g(this))},H.set=function(C,X){if(typeof C=="object")for(var fe=function(dt){var Nt,Qt=[];for(Nt in dt)i(dt,Nt)&&Qt.push({unit:Nt,priority:ye[Nt]});return Qt.sort(function(hr,ir){return hr.priority-ir.priority}),Qt}(C=ve(C)),we=fe.length,Fe=0;Fe<we;Fe++)this[fe[Fe].unit](C[fe[Fe].unit]);else if(k(this[C=ee(C)]))return this[C](X);return this},H.startOf=function(C){var X,fe;if((C=ee(C))===void 0||C==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?$t:mt,C){case"year":X=fe(this.year(),0,1);break;case"quarter":X=fe(this.year(),this.month()-this.month()%3,1);break;case"month":X=fe(this.year(),this.month(),1);break;case"week":X=fe(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":X=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":X=fe(this.year(),this.month(),this.date());break;case"hour":X=this._d.valueOf(),X-=rr(X+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":X=this._d.valueOf(),X-=rr(X,6e4);break;case"second":X=this._d.valueOf(),X-=rr(X,1e3);break}return this._d.setTime(X),t.updateOffset(this,!0),this},H.subtract=yt,H.toArray=function(){var C=this;return[C.year(),C.month(),C.date(),C.hour(),C.minute(),C.second(),C.millisecond()]},H.toObject=function(){var C=this;return{years:C.year(),months:C.month(),date:C.date(),hours:C.hours(),minutes:C.minutes(),seconds:C.seconds(),milliseconds:C.milliseconds()}},H.toDate=function(){return new Date(this.valueOf())},H.toISOString=function(C){if(!this.isValid())return null;var X=(C=C!==!0)?this.clone().utc():this;return X.year()<0||9999<X.year()?Z(X,C?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?C?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Z(X,"Z")):Z(X,C?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},H.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var C,X="moment",fe="";return this.isLocal()||(X=this.utcOffset()===0?"moment.utc":"moment.parseZone",fe="Z"),X="["+X+'("]',C=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(X+C+"-MM-DD[T]HH:mm:ss.SSS"+(fe+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},H.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},H.eraName=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].name;return""},H.eraNarrow=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].narrow;return""},H.eraAbbr=function(){for(var C,X=this.localeData().eras(),fe=0,we=X.length;fe<we;++fe)if(C=this.clone().startOf("day").valueOf(),X[fe].since<=C&&C<=X[fe].until||X[fe].until<=C&&C<=X[fe].since)return X[fe].abbr;return""},H.eraYear=function(){for(var C,X,fe=this.localeData().eras(),we=0,Fe=fe.length;we<Fe;++we)if(C=fe[we].since<=fe[we].until?1:-1,X=this.clone().startOf("day").valueOf(),fe[we].since<=X&&X<=fe[we].until||fe[we].until<=X&&X<=fe[we].since)return(this.year()-t(fe[we].since).year())*C+fe[we].offset;return this.year()},H.year=au,H.isLeapYear=function(){return be(this.year())},H.weekYear=function(C){return ui.call(this,C,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},H.isoWeekYear=function(C){return ui.call(this,C,this.isoWeek(),this.isoWeekday(),1,4)},H.quarter=H.quarters=function(C){return C==null?Math.ceil((this.month()+1)/3):this.month(3*(C-1)+this.month()%3)},H.month=ae,H.daysInMonth=function(){return it(this.year(),this.month())},H.week=H.weeks=function(C){var X=this.localeData().week(this);return C==null?X:this.add(7*(C-X),"d")},H.isoWeek=H.isoWeeks=function(C){var X=Ge(this,1,4).week;return C==null?X:this.add(7*(C-X),"d")},H.weeksInYear=function(){var C=this.localeData()._week;return ke(this.year(),C.dow,C.doy)},H.weeksInWeekYear=function(){var C=this.localeData()._week;return ke(this.weekYear(),C.dow,C.doy)},H.isoWeeksInYear=function(){return ke(this.year(),1,4)},H.isoWeeksInISOWeekYear=function(){return ke(this.isoWeekYear(),1,4)},H.date=Po,H.day=H.days=function(C){if(!this.isValid())return C!=null?this:NaN;var X,fe,we=this._isUTC?this._d.getUTCDay():this._d.getDay();return C!=null?(X=C,fe=this.localeData(),C=typeof X!="string"?X:isNaN(X)?typeof(X=fe.weekdaysParse(X))=="number"?X:null:parseInt(X,10),this.add(C-we,"d")):we},H.weekday=function(C){if(!this.isValid())return C!=null?this:NaN;var X=(this.day()+7-this.localeData()._week.dow)%7;return C==null?X:this.add(C-X,"d")},H.isoWeekday=function(C){return this.isValid()?C!=null?(X=C,fe=this.localeData(),fe=typeof X=="string"?fe.weekdaysParse(X)%7||7:isNaN(X)?null:X,this.day(this.day()%7?fe:fe-7)):this.day()||7:C!=null?this:NaN;var X,fe},H.dayOfYear=function(C){var X=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return C==null?X:this.add(C-X,"d")},H.hour=H.hours=Ce,H.minute=H.minutes=ka,H.second=H.seconds=Qn,H.millisecond=H.milliseconds=Ys,H.utcOffset=function(C,X,fe){var we,Fe=this._offset||0;if(!this.isValid())return C!=null?this:NaN;if(C==null)return this._isUTC?Fe:Rr(this);if(typeof C=="string"){if((C=Er(We,C))===null)return this}else Math.abs(C)<16&&!fe&&(C*=60);return!this._isUTC&&X&&(we=Rr(this)),this._offset=C,this._isUTC=!0,we!=null&&this.add(we,"m"),Fe!==C&&(!X||this._changeInProgress?ci(this,pn(C-Fe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this},H.utc=function(C){return this.utcOffset(0,C)},H.local=function(C){return this._isUTC&&(this.utcOffset(0,C),this._isUTC=!1,C&&this.subtract(Rr(this),"m")),this},H.parseZone=function(){var C;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((C=Er(je,this._i))!=null?this.utcOffset(C):this.utcOffset(0,!0)),this},H.hasAlignedHourOffset=function(C){return!!this.isValid()&&(C=C?ut(C).utcOffset():0,(this.utcOffset()-C)%60==0)},H.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},H.isLocal=function(){return!!this.isValid()&&!this._isUTC},H.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},H.isUtc=jr,H.isUTC=jr,H.zoneAbbr=function(){return this._isUTC?"UTC":""},H.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},H.dates=B("dates accessor is deprecated. Use date instead.",Po),H.months=B("months accessor is deprecated. Use month instead",ae),H.years=B("years accessor is deprecated. Use year instead",au),H.zone=B("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(C,X){return C!=null?(this.utcOffset(C=typeof C!="string"?-C:C,X),this):-this.utcOffset()}),H.isDSTShifted=B("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var C,X={};return Q(X,this),(X=Le(X))._a?(C=(X._isUTC?p:ut)(X._a),this._isDSTShifted=this.isValid()&&0<function(fe,we,Fe){for(var dt=Math.min(fe.length,we.length),Nt=Math.abs(fe.length-we.length),Qt=0,hr=0;hr<dt;hr++)(Fe&&fe[hr]!==we[hr]||!Fe&&D(fe[hr])!==D(we[hr]))&&Qt++;return Qt+Nt}(X._a,C.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),Or=x.prototype;function qo(C,X,fe,dt){var Fe=At(),dt=p().set(dt,X);return Fe[fe](dt,C)}a(qo,"cn");function _f(C,X,fe){if(l(C)&&(X=C,C=void 0),C=C||"",X!=null)return qo(C,X,fe,"month");for(var we=[],Fe=0;Fe<12;Fe++)we[Fe]=qo(C,Fe,fe,"month");return we}a(_f,"fn");function iu(C,X,fe,we){X=(typeof C=="boolean"?l(X)&&(fe=X,X=void 0):(X=C,C=!1,l(fe=X)&&(fe=X,X=void 0)),X||"");var Fe,dt=At(),Nt=C?dt._week.dow:0,Qt=[];if(fe!=null)return qo(X,(fe+Nt)%7,we,"day");for(Fe=0;Fe<7;Fe++)Qt[Fe]=qo(X,(Fe+Nt)%7,we,"day");return Qt}a(iu,"mn"),Or.calendar=function(C,X,fe){return k(C=this._calendar[C]||this._calendar.sameElse)?C.call(X,fe):C},Or.longDateFormat=function(C){var X=this._longDateFormat[C],fe=this._longDateFormat[C.toUpperCase()];return X||!fe?X:(this._longDateFormat[C]=fe.match(v).map(function(we){return we==="MMMM"||we==="MM"||we==="DD"||we==="dddd"?we.slice(1):we}).join(""),this._longDateFormat[C])},Or.invalidDate=function(){return this._invalidDate},Or.ordinal=function(C){return this._ordinal.replace("%d",C)},Or.preparse=Ca,Or.postformat=Ca,Or.relativeTime=function(C,X,fe,we){var Fe=this._relativeTime[fe];return k(Fe)?Fe(C,X,fe,we):Fe.replace(/%d/i,C)},Or.pastFuture=function(C,X){return k(C=this._relativeTime[0<C?"future":"past"])?C(X):C.replace(/%s/i,X)},Or.set=function(C){var X,fe;for(fe in C)i(C,fe)&&(k(X=C[fe])?this[fe]=X:this["_"+fe]=X);this._config=C,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Or.eras=function(C,X){for(var fe,we=this._eras||At("en")._eras,Fe=0,dt=we.length;Fe<dt;++Fe){switch(typeof we[Fe].since){case"string":fe=t(we[Fe].since).startOf("day"),we[Fe].since=fe.valueOf();break}switch(typeof we[Fe].until){case"undefined":we[Fe].until=1/0;break;case"string":fe=t(we[Fe].until).startOf("day").valueOf(),we[Fe].until=fe.valueOf();break}}return we},Or.erasParse=function(C,X,fe){var we,Fe,dt,Nt,Qt,hr=this.eras();for(C=C.toUpperCase(),we=0,Fe=hr.length;we<Fe;++we)if(dt=hr[we].name.toUpperCase(),Nt=hr[we].abbr.toUpperCase(),Qt=hr[we].narrow.toUpperCase(),fe)switch(X){case"N":case"NN":case"NNN":if(Nt===C)return hr[we];break;case"NNNN":if(dt===C)return hr[we];break;case"NNNNN":if(Qt===C)return hr[we];break}else if(0<=[dt,Nt,Qt].indexOf(C))return hr[we]},Or.erasConvertYear=function(C,X){var fe=C.since<=C.until?1:-1;return X===void 0?t(C.since).year():t(C.since).year()+(X-C.offset)*fe},Or.erasAbbrRegex=function(C){return i(this,"_erasAbbrRegex")||Xr.call(this),C?this._erasAbbrRegex:this._erasRegex},Or.erasNameRegex=function(C){return i(this,"_erasNameRegex")||Xr.call(this),C?this._erasNameRegex:this._erasRegex},Or.erasNarrowRegex=function(C){return i(this,"_erasNarrowRegex")||Xr.call(this),C?this._erasNarrowRegex:this._erasRegex},Or.months=function(C,X){return C?(r(this._months)?this._months:this._months[(this._months.isFormat||Se).test(X)?"format":"standalone"])[C.month()]:r(this._months)?this._months:this._months.standalone},Or.monthsShort=function(C,X){return C?(r(this._monthsShort)?this._monthsShort:this._monthsShort[Se.test(X)?"format":"standalone"])[C.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Or.monthsParse=function(C,X,fe){var we,Fe;if(this._monthsParseExact)return function(Lr,Nt,Qt){var hr,ir,Ur,Lr=Lr.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],hr=0;hr<12;++hr)Ur=p([2e3,hr]),this._shortMonthsParse[hr]=this.monthsShort(Ur,"").toLocaleLowerCase(),this._longMonthsParse[hr]=this.months(Ur,"").toLocaleLowerCase();return Qt?Nt==="MMM"?(ir=at.call(this._shortMonthsParse,Lr))!==-1?ir:null:(ir=at.call(this._longMonthsParse,Lr))!==-1?ir:null:Nt==="MMM"?(ir=at.call(this._shortMonthsParse,Lr))!==-1||(ir=at.call(this._longMonthsParse,Lr))!==-1?ir:null:(ir=at.call(this._longMonthsParse,Lr))!==-1||(ir=at.call(this._shortMonthsParse,Lr))!==-1?ir:null}.call(this,C,X,fe);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),we=0;we<12;we++)if(Fe=p([2e3,we]),fe&&!this._longMonthsParse[we]&&(this._longMonthsParse[we]=new RegExp("^"+this.months(Fe,"").replace(".","")+"$","i"),this._shortMonthsParse[we]=new RegExp("^"+this.monthsShort(Fe,"").replace(".","")+"$","i")),fe||this._monthsParse[we]||(Fe="^"+this.months(Fe,"")+"|^"+this.monthsShort(Fe,""),this._monthsParse[we]=new RegExp(Fe.replace(".",""),"i")),fe&&X==="MMMM"&&this._longMonthsParse[we].test(C)||fe&&X==="MMM"&&this._shortMonthsParse[we].test(C)||!fe&&this._monthsParse[we].test(C))return we},Or.monthsRegex=function(C){return this._monthsParseExact?(i(this,"_monthsRegex")||ce.call(this),C?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=le),this._monthsStrictRegex&&C?this._monthsStrictRegex:this._monthsRegex)},Or.monthsShortRegex=function(C){return this._monthsParseExact?(i(this,"_monthsRegex")||ce.call(this),C?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&C?this._monthsShortStrictRegex:this._monthsShortRegex)},Or.week=function(C){return Ge(C,this._week.dow,this._week.doy).week},Or.firstDayOfYear=function(){return this._week.doy},Or.firstDayOfWeek=function(){return this._week.dow},Or.weekdays=function(C,X){return X=r(this._weekdays)?this._weekdays:this._weekdays[C&&C!==!0&&this._weekdays.isFormat.test(X)?"format":"standalone"],C===!0?st(X,this._week.dow):C?X[C.day()]:X},Or.weekdaysMin=function(C){return C===!0?st(this._weekdaysMin,this._week.dow):C?this._weekdaysMin[C.day()]:this._weekdaysMin},Or.weekdaysShort=function(C){return C===!0?st(this._weekdaysShort,this._week.dow):C?this._weekdaysShort[C.day()]:this._weekdaysShort},Or.weekdaysParse=function(C,X,fe){var we,Fe;if(this._weekdaysParseExact)return function(Lr,Nt,Qt){var hr,ir,Ur,Lr=Lr.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],hr=0;hr<7;++hr)Ur=p([2e3,1]).day(hr),this._minWeekdaysParse[hr]=this.weekdaysMin(Ur,"").toLocaleLowerCase(),this._shortWeekdaysParse[hr]=this.weekdaysShort(Ur,"").toLocaleLowerCase(),this._weekdaysParse[hr]=this.weekdays(Ur,"").toLocaleLowerCase();return Qt?Nt==="dddd"?(ir=at.call(this._weekdaysParse,Lr))!==-1?ir:null:Nt==="ddd"?(ir=at.call(this._shortWeekdaysParse,Lr))!==-1?ir:null:(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:Nt==="dddd"?(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._shortWeekdaysParse,Lr))!==-1||(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:Nt==="ddd"?(ir=at.call(this._shortWeekdaysParse,Lr))!==-1||(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._minWeekdaysParse,Lr))!==-1?ir:null:(ir=at.call(this._minWeekdaysParse,Lr))!==-1||(ir=at.call(this._weekdaysParse,Lr))!==-1||(ir=at.call(this._shortWeekdaysParse,Lr))!==-1?ir:null}.call(this,C,X,fe);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),we=0;we<7;we++)if(Fe=p([2e3,1]).day(we),fe&&!this._fullWeekdaysParse[we]&&(this._fullWeekdaysParse[we]=new RegExp("^"+this.weekdays(Fe,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[we]=new RegExp("^"+this.weekdaysShort(Fe,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[we]=new RegExp("^"+this.weekdaysMin(Fe,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[we]||(Fe="^"+this.weekdays(Fe,"")+"|^"+this.weekdaysShort(Fe,"")+"|^"+this.weekdaysMin(Fe,""),this._weekdaysParse[we]=new RegExp(Fe.replace(".",""),"i")),fe&&X==="dddd"&&this._fullWeekdaysParse[we].test(C)||fe&&X==="ddd"&&this._shortWeekdaysParse[we].test(C)||fe&&X==="dd"&&this._minWeekdaysParse[we].test(C)||!fe&&this._weekdaysParse[we].test(C))return we},Or.weekdaysRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&C?this._weekdaysStrictRegex:this._weekdaysRegex)},Or.weekdaysShortRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pt),this._weekdaysShortStrictRegex&&C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Or.weekdaysMinRegex=function(C){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||cr.call(this),C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tr),this._weekdaysMinStrictRegex&&C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Or.isPM=function(C){return(C+"").toLowerCase().charAt(0)==="p"},Or.meridiem=function(C,X,fe){return 11<C?fe?"pm":"PM":fe?"am":"AM"},Tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(C){var X=C%10;return C+(D(C%100/10)===1?"th":X==1?"st":X==2?"nd":X==3?"rd":"th")}}),t.lang=B("moment.lang is deprecated. Use moment.locale instead.",Tt),t.langData=B("moment.langData is deprecated. Use moment.localeData instead.",At);var is=Math.abs;function xf(C,X,fe,we){return X=pn(X,fe),C._milliseconds+=we*X._milliseconds,C._days+=we*X._days,C._months+=we*X._months,C._bubble()}a(xf,"yn");function Us(C){return C<0?Math.floor(C):Math.ceil(C)}a(Us,"gn");function g6(C){return 4800*C/146097}a(g6,"wn");function Nv(C){return 146097*C/4800}a(Nv,"pn");function mc(C){return function(){return this.as(C)}}a(mc,"kn"),$e=mc("ms"),te=mc("s"),Wt=mc("m"),De=mc("h"),he=mc("d"),yt=mc("w"),Ce=mc("M"),ka=mc("Q"),Qn=mc("y");function wf(C){return function(){return this.isValid()?this._data[C]:NaN}}a(wf,"vn");var Ys=wf("milliseconds"),Po=wf("seconds"),au=wf("minutes"),Or=wf("hours"),uy=wf("days"),TB=wf("months"),Ov=wf("years"),Fo=Math.round,bc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function fy(C,X,fe,we){var ir=pn(C).abs(),Ur=Fo(ir.as("s")),Fe=Fo(ir.as("m")),dt=Fo(ir.as("h")),Nt=Fo(ir.as("d")),Qt=Fo(ir.as("M")),hr=Fo(ir.as("w")),ir=Fo(ir.as("y")),Ur=(Ur<=fe.ss?["s",Ur]:Ur<fe.s&&["ss",Ur])||Fe<=1&&["m"]||Fe<fe.m&&["mm",Fe]||dt<=1&&["h"]||dt<fe.h&&["hh",dt]||Nt<=1&&["d"]||Nt<fe.d&&["dd",Nt];return(Ur=(Ur=fe.w!=null?Ur||hr<=1&&["w"]||hr<fe.w&&["ww",hr]:Ur)||Qt<=1&&["M"]||Qt<fe.M&&["MM",Qt]||ir<=1&&["y"]||["yy",ir])[2]=X,Ur[3]=0<+C,Ur[4]=we,function(Lr,wi,Ui,ho,hy){return hy.relativeTime(wi||1,!!Ui,Lr,ho)}.apply(null,Ur)}a(fy,"bn");var vd=Math.abs;function Uo(C){return(0<C)-(C<0)||+C}a(Uo,"Tn");function _d(){if(!this.isValid())return this.localeData().invalidDate();var C,X,fe,we,Fe,dt,Nt,Qt=vd(this._milliseconds)/1e3,hr=vd(this._days),ir=vd(this._months),Ur=this.asSeconds();return Ur?(C=Y(Qt/60),X=Y(C/60),Qt%=60,C%=60,fe=Y(ir/12),ir%=12,we=Qt?Qt.toFixed(3).replace(/\.?0+$/,""):"",Fe=Uo(this._months)!==Uo(Ur)?"-":"",dt=Uo(this._days)!==Uo(Ur)?"-":"",Nt=Uo(this._milliseconds)!==Uo(Ur)?"-":"",(Ur<0?"-":"")+"P"+(fe?Fe+fe+"Y":"")+(ir?Fe+ir+"M":"")+(hr?dt+hr+"D":"")+(X||C||Qt?"T":"")+(X?Nt+X+"H":"")+(C?Nt+C+"M":"")+(Qt?Nt+we+"S":"")):"P0D"}a(_d,"Nn");var fn=nt.prototype;return fn.isValid=function(){return this._isValid},fn.abs=function(){var C=this._data;return this._milliseconds=is(this._milliseconds),this._days=is(this._days),this._months=is(this._months),C.milliseconds=is(C.milliseconds),C.seconds=is(C.seconds),C.minutes=is(C.minutes),C.hours=is(C.hours),C.months=is(C.months),C.years=is(C.years),this},fn.add=function(C,X){return xf(this,C,X,1)},fn.subtract=function(C,X){return xf(this,C,X,-1)},fn.as=function(C){if(!this.isValid())return NaN;var X,fe,we=this._milliseconds;if((C=ee(C))==="month"||C==="quarter"||C==="year")switch(X=this._days+we/864e5,fe=this._months+g6(X),C){case"month":return fe;case"quarter":return fe/3;case"year":return fe/12}else switch(X=this._days+Math.round(Nv(this._months)),C){case"week":return X/7+we/6048e5;case"day":return X+we/864e5;case"hour":return 24*X+we/36e5;case"minute":return 1440*X+we/6e4;case"second":return 86400*X+we/1e3;case"millisecond":return Math.floor(864e5*X)+we;default:throw new Error("Unknown unit "+C)}},fn.asMilliseconds=$e,fn.asSeconds=te,fn.asMinutes=Wt,fn.asHours=De,fn.asDays=he,fn.asWeeks=yt,fn.asMonths=Ce,fn.asQuarters=ka,fn.asYears=Qn,fn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN},fn._bubble=function(){var C=this._milliseconds,X=this._days,fe=this._months,we=this._data;return 0<=C&&0<=X&&0<=fe||C<=0&&X<=0&&fe<=0||(C+=864e5*Us(Nv(fe)+X),fe=X=0),we.milliseconds=C%1e3,C=Y(C/1e3),we.seconds=C%60,C=Y(C/60),we.minutes=C%60,C=Y(C/60),we.hours=C%24,X+=Y(C/24),fe+=C=Y(g6(X)),X-=Us(Nv(C)),C=Y(fe/12),fe%=12,we.days=X,we.months=fe,we.years=C,this},fn.clone=function(){return pn(this)},fn.get=function(C){return C=ee(C),this.isValid()?this[C+"s"]():NaN},fn.milliseconds=Ys,fn.seconds=Po,fn.minutes=au,fn.hours=Or,fn.days=uy,fn.weeks=function(){return Y(this.days()/7)},fn.months=TB,fn.years=Ov,fn.humanize=function(C,X){if(!this.isValid())return this.localeData().invalidDate();var fe=!1,we=bc;return typeof C=="object"&&(X=C,C=!1),typeof C=="boolean"&&(fe=C),typeof X=="object"&&(we=Object.assign({},bc,X),X.s!=null&&X.ss==null&&(we.ss=X.s-1)),C=this.localeData(),X=fy(this,!fe,we,C),fe&&(X=C.pastFuture(+this,X)),C.postformat(X)},fn.toISOString=_d,fn.toString=_d,fn.toJSON=_d,fn.locale=la,fn.localeData=Fi,fn.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_d),fn.lang=wt,K("X",0,0,"unix"),K("x",0,0,"valueOf"),Te("x",Qe),Te("X",/[+-]?\d+(\.\d{1,3})?/),qe("X",function(C,X,fe){fe._d=new Date(1e3*parseFloat(C))}),qe("x",function(C,X,fe){fe._d=new Date(D(C))}),t.version="2.29.4",e=ut,t.fn=H,t.min=function(){return Ke("isBefore",[].slice.call(arguments,0))},t.max=function(){return Ke("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=p,t.unix=function(C){return ut(1e3*C)},t.months=function(C,X){return _f(C,X,"months")},t.isDate=u,t.locale=Tt,t.invalid=E,t.duration=pn,t.isMoment=W,t.weekdays=function(C,X,fe){return iu(C,X,fe,"weekdays")},t.parseZone=function(){return ut.apply(null,arguments).parseZone()},t.localeData=At,t.isDuration=Rt,t.monthsShort=function(C,X){return _f(C,X,"monthsShort")},t.weekdaysMin=function(C,X,fe){return iu(C,X,fe,"weekdaysMin")},t.defineLocale=Ft,t.updateLocale=function(C,X){var fe,we;return X!=null?(we=ur,fr[C]!=null&&fr[C].parentLocale!=null?fr[C].set(R(fr[C]._config,X)):(X=R(we=(fe=Ze(C))!=null?fe._config:we,X),fe==null&&(X.abbr=C),(we=new x(X)).parentLocale=fr[C],fr[C]=we),Tt(C)):fr[C]!=null&&(fr[C].parentLocale!=null?(fr[C]=fr[C].parentLocale,C===Tt()&&Tt(C)):fr[C]!=null&&delete fr[C]),fr[C]},t.locales=function(){return N(fr)},t.weekdaysShort=function(C,X,fe){return iu(C,X,fe,"weekdaysShort")},t.normalizeUnits=ee,t.relativeTimeRounding=function(C){return C===void 0?Fo:typeof C=="function"&&(Fo=C,!0)},t.relativeTimeThreshold=function(C,X){return bc[C]!==void 0&&(X===void 0?bc[C]:(bc[C]=X,C==="s"&&(bc.ss=X-1),!0))},t.calendarFormat=function(C,X){return(C=C.diff(X,"days",!0))<-6?"sameElse":C<-1?"lastWeek":C<0?"lastDay":C<1?"sameDay":C<2?"nextDay":C<7?"nextWeek":"sameElse"},t.prototype=H,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var oxe=j(yC=>{"use strict";d();Object.defineProperty(yC,"__esModule",{value:!0});yC.sanitizeUrl=void 0;var Gpt=/^([^\w]*)(javascript|data|vbscript)/im,Kpt=/&#(\w+)(^\w|;)?/g,$pt=/&tab;/gi,Xpt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Jpt=/^.+(:|&colon;)/gim,Zpt=[".","/"];function e1t(e){return Zpt.indexOf(e[0])>-1}a(e1t,"isRelativeUrlWithoutProtocol");function t1t(e){return e=e.replace($pt,"&#9;"),e.replace(Kpt,function(t,r){return String.fromCharCode(r)})}a(t1t,"decodeHtmlCharacters");function r1t(e){var t=t1t(e||"").replace(Xpt,"").trim();if(!t)return"about:blank";if(e1t(t))return t;var r=t.match(Jpt);if(!r)return t;var n=r[0];return Gpt.test(n)?"about:blank":t}a(r1t,"sanitizeUrl");yC.sanitizeUrl=r1t});var Y5e=j((wKr,U5e)=>{d();function r3t(){this.__data__=[],this.size=0}a(r3t,"listCacheClear");U5e.exports=r3t});var Qg=j((SKr,H5e)=>{d();function n3t(e,t){return e===t||e!==e&&t!==t}a(n3t,"eq");H5e.exports=n3t});var e5=j((IKr,z5e)=>{d();var i3t=Qg();function a3t(e,t){for(var r=e.length;r--;)if(i3t(e[r][0],t))return r;return-1}a(a3t,"assocIndexOf");z5e.exports=a3t});var W5e=j((BKr,Q5e)=>{d();var s3t=e5(),o3t=Array.prototype,c3t=o3t.splice;function l3t(e){var t=this.__data__,r=s3t(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():c3t.call(t,r,1),--this.size,!0}a(l3t,"listCacheDelete");Q5e.exports=l3t});var j5e=j((DKr,V5e)=>{d();var u3t=e5();function f3t(e){var t=this.__data__,r=u3t(t,e);return r<0?void 0:t[r][1]}a(f3t,"listCacheGet");V5e.exports=f3t});var K5e=j((qKr,G5e)=>{d();var h3t=e5();function d3t(e){return h3t(this.__data__,e)>-1}a(d3t,"listCacheHas");G5e.exports=d3t});var X5e=j((UKr,$5e)=>{d();var p3t=e5();function g3t(e,t){var r=this.__data__,n=p3t(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}a(g3t,"listCacheSet");$5e.exports=g3t});var t5=j((zKr,J5e)=>{d();var y3t=Y5e(),m3t=W5e(),b3t=j5e(),v3t=K5e(),_3t=X5e();function Xb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Xb,"ListCache");Xb.prototype.clear=y3t;Xb.prototype.delete=m3t;Xb.prototype.get=b3t;Xb.prototype.has=v3t;Xb.prototype.set=_3t;J5e.exports=Xb});var e6e=j((VKr,Z5e)=>{d();var x3t=t5();function w3t(){this.__data__=new x3t,this.size=0}a(w3t,"stackClear");Z5e.exports=w3t});var r6e=j((KKr,t6e)=>{d();function A3t(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}a(A3t,"stackDelete");t6e.exports=A3t});var i6e=j((JKr,n6e)=>{d();function E3t(e){return this.__data__.get(e)}a(E3t,"stackGet");n6e.exports=E3t});var s6e=j((t$r,a6e)=>{d();function S3t(e){return this.__data__.has(e)}a(S3t,"stackHas");a6e.exports=S3t});var WV=j((i$r,o6e)=>{d();var k3t=typeof w=="object"&&w&&w.Object===Object&&w;o6e.exports=k3t});var tl=j((s$r,c6e)=>{d();var C3t=WV(),I3t=typeof self=="object"&&self&&self.Object===Object&&self,T3t=C3t||I3t||Function("return this")();c6e.exports=T3t});var Wg=j((c$r,l6e)=>{d();var M3t=tl(),B3t=M3t.Symbol;l6e.exports=B3t});var d6e=j((u$r,h6e)=>{d();var u6e=Wg(),f6e=Object.prototype,R3t=f6e.hasOwnProperty,L3t=f6e.toString,r5=u6e?u6e.toStringTag:void 0;function D3t(e){var t=R3t.call(e,r5),r=e[r5];try{e[r5]=void 0;var n=!0}catch{}var i=L3t.call(e);return n&&(t?e[r5]=r:delete e[r5]),i}a(D3t,"getRawTag");h6e.exports=D3t});var g6e=j((d$r,p6e)=>{d();var N3t=Object.prototype,O3t=N3t.toString;function q3t(e){return O3t.call(e)}a(q3t,"objectToString");p6e.exports=q3t});var Z0=j((y$r,b6e)=>{d();var y6e=Wg(),P3t=d6e(),F3t=g6e(),U3t="[object Null]",Y3t="[object Undefined]",m6e=y6e?y6e.toStringTag:void 0;function H3t(e){return e==null?e===void 0?Y3t:U3t:m6e&&m6e in Object(e)?P3t(e):F3t(e)}a(H3t,"baseGetTag");b6e.exports=H3t});var fc=j((v$r,v6e)=>{d();function z3t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}a(z3t,"isObject");v6e.exports=z3t});var Vg=j((w$r,_6e)=>{d();var Q3t=Z0(),W3t=fc(),V3t="[object AsyncFunction]",j3t="[object Function]",G3t="[object GeneratorFunction]",K3t="[object Proxy]";function $3t(e){if(!W3t(e))return!1;var t=Q3t(e);return t==j3t||t==G3t||t==V3t||t==K3t}a($3t,"isFunction");_6e.exports=$3t});var w6e=j((S$r,x6e)=>{d();var X3t=tl(),J3t=X3t["__core-js_shared__"];x6e.exports=J3t});var S6e=j((C$r,E6e)=>{d();var VV=w6e(),A6e=function(){var e=/[^.]+$/.exec(VV&&VV.keys&&VV.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Z3t(e){return!!A6e&&A6e in e}a(Z3t,"isMasked");E6e.exports=Z3t});var jV=j((M$r,k6e)=>{d();var e4t=Function.prototype,t4t=e4t.toString;function r4t(e){if(e!=null){try{return t4t.call(e)}catch{}try{return e+""}catch{}}return""}a(r4t,"toSource");k6e.exports=r4t});var I6e=j((L$r,C6e)=>{d();var n4t=Vg(),i4t=S6e(),a4t=fc(),s4t=jV(),o4t=/[\\^$.*+?()[\]{}|]/g,c4t=/^\[object .+?Constructor\]$/,l4t=Function.prototype,u4t=Object.prototype,f4t=l4t.toString,h4t=u4t.hasOwnProperty,d4t=RegExp("^"+f4t.call(h4t).replace(o4t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p4t(e){if(!a4t(e)||i4t(e))return!1;var t=n4t(e)?d4t:c4t;return t.test(s4t(e))}a(p4t,"baseIsNative");C6e.exports=p4t});var M6e=j((O$r,T6e)=>{d();function g4t(e,t){return e?.[t]}a(g4t,"getValue");T6e.exports=g4t});var ep=j((F$r,B6e)=>{d();var y4t=I6e(),m4t=M6e();function b4t(e,t){var r=m4t(e,t);return y4t(r)?r:void 0}a(b4t,"getNative");B6e.exports=b4t});var LI=j((H$r,R6e)=>{d();var v4t=ep(),_4t=tl(),x4t=v4t(_4t,"Map");R6e.exports=x4t});var n5=j((Q$r,L6e)=>{d();var w4t=ep(),A4t=w4t(Object,"create");L6e.exports=A4t});var O6e=j((V$r,N6e)=>{d();var D6e=n5();function E4t(){this.__data__=D6e?D6e(null):{},this.size=0}a(E4t,"hashClear");N6e.exports=E4t});var P6e=j((K$r,q6e)=>{d();function S4t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}a(S4t,"hashDelete");q6e.exports=S4t});var U6e=j((J$r,F6e)=>{d();var k4t=n5(),C4t="__lodash_hash_undefined__",I4t=Object.prototype,T4t=I4t.hasOwnProperty;function M4t(e){var t=this.__data__;if(k4t){var r=t[e];return r===C4t?void 0:r}return T4t.call(t,e)?t[e]:void 0}a(M4t,"hashGet");F6e.exports=M4t});var H6e=j((tXr,Y6e)=>{d();var B4t=n5(),R4t=Object.prototype,L4t=R4t.hasOwnProperty;function D4t(e){var t=this.__data__;return B4t?t[e]!==void 0:L4t.call(t,e)}a(D4t,"hashHas");Y6e.exports=D4t});var Q6e=j((iXr,z6e)=>{d();var N4t=n5(),O4t="__lodash_hash_undefined__";function q4t(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=N4t&&t===void 0?O4t:t,this}a(q4t,"hashSet");z6e.exports=q4t});var V6e=j((oXr,W6e)=>{d();var P4t=O6e(),F4t=P6e(),U4t=U6e(),Y4t=H6e(),H4t=Q6e();function Jb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Jb,"Hash");Jb.prototype.clear=P4t;Jb.prototype.delete=F4t;Jb.prototype.get=U4t;Jb.prototype.has=Y4t;Jb.prototype.set=H4t;W6e.exports=Jb});var K6e=j((uXr,G6e)=>{d();var j6e=V6e(),z4t=t5(),Q4t=LI();function W4t(){this.size=0,this.__data__={hash:new j6e,map:new(Q4t||z4t),string:new j6e}}a(W4t,"mapCacheClear");G6e.exports=W4t});var X6e=j((dXr,$6e)=>{d();function V4t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}a(V4t,"isKeyable");$6e.exports=V4t});var i5=j((yXr,J6e)=>{d();var j4t=X6e();function G4t(e,t){var r=e.__data__;return j4t(t)?r[typeof t=="string"?"string":"hash"]:r.map}a(G4t,"getMapData");J6e.exports=G4t});var eAe=j((vXr,Z6e)=>{d();var K4t=i5();function $4t(e){var t=K4t(this,e).delete(e);return this.size-=t?1:0,t}a($4t,"mapCacheDelete");Z6e.exports=$4t});var rAe=j((wXr,tAe)=>{d();var X4t=i5();function J4t(e){return X4t(this,e).get(e)}a(J4t,"mapCacheGet");tAe.exports=J4t});var iAe=j((SXr,nAe)=>{d();var Z4t=i5();function e5t(e){return Z4t(this,e).has(e)}a(e5t,"mapCacheHas");nAe.exports=e5t});var sAe=j((IXr,aAe)=>{d();var t5t=i5();function r5t(e,t){var r=t5t(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}a(r5t,"mapCacheSet");aAe.exports=r5t});var DI=j((BXr,oAe)=>{d();var n5t=K6e(),i5t=eAe(),a5t=rAe(),s5t=iAe(),o5t=sAe();function Zb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Zb,"MapCache");Zb.prototype.clear=n5t;Zb.prototype.delete=i5t;Zb.prototype.get=a5t;Zb.prototype.has=s5t;Zb.prototype.set=o5t;oAe.exports=Zb});var lAe=j((DXr,cAe)=>{d();var c5t=t5(),l5t=LI(),u5t=DI(),f5t=200;function h5t(e,t){var r=this.__data__;if(r instanceof c5t){var n=r.__data__;if(!l5t||n.length<f5t-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new u5t(n)}return r.set(e,t),this.size=r.size,this}a(h5t,"stackSet");cAe.exports=h5t});var a5=j((qXr,uAe)=>{d();var d5t=t5(),p5t=e6e(),g5t=r6e(),y5t=i6e(),m5t=s6e(),b5t=lAe();function ev(e){var t=this.__data__=new d5t(e);this.size=t.size}a(ev,"Stack");ev.prototype.clear=p5t;ev.prototype.delete=g5t;ev.prototype.get=y5t;ev.prototype.has=m5t;ev.prototype.set=b5t;uAe.exports=ev});var NI=j((UXr,fAe)=>{d();function v5t(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}a(v5t,"arrayEach");fAe.exports=v5t});var GV=j((zXr,hAe)=>{d();var _5t=ep(),x5t=function(){try{var e=_5t(Object,"defineProperty");return e({},"",{}),e}catch{}}();hAe.exports=x5t});var s5=j((WXr,pAe)=>{d();var dAe=GV();function w5t(e,t,r){t=="__proto__"&&dAe?dAe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}a(w5t,"baseAssignValue");pAe.exports=w5t});var o5=j((GXr,gAe)=>{d();var A5t=s5(),E5t=Qg(),S5t=Object.prototype,k5t=S5t.hasOwnProperty;function C5t(e,t,r){var n=e[t];(!(k5t.call(e,t)&&E5t(n,r))||r===void 0&&!(t in e))&&A5t(e,t,r)}a(C5t,"assignValue");gAe.exports=C5t});var tv=j((XXr,yAe)=>{d();var I5t=o5(),T5t=s5();function M5t(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),i?T5t(r,l,u):I5t(r,l,u)}return r}a(M5t,"copyObject");yAe.exports=M5t});var bAe=j((eJr,mAe)=>{d();function B5t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}a(B5t,"baseTimes");mAe.exports=B5t});var Vl=j((nJr,vAe)=>{d();function R5t(e){return e!=null&&typeof e=="object"}a(R5t,"isObjectLike");vAe.exports=R5t});var xAe=j((sJr,_Ae)=>{d();var L5t=Z0(),D5t=Vl(),N5t="[object Arguments]";function O5t(e){return D5t(e)&&L5t(e)==N5t}a(O5t,"baseIsArguments");_Ae.exports=O5t});var rv=j((lJr,EAe)=>{d();var wAe=xAe(),q5t=Vl(),AAe=Object.prototype,P5t=AAe.hasOwnProperty,F5t=AAe.propertyIsEnumerable,U5t=wAe(function(){return arguments}())?wAe:function(e){return q5t(e)&&P5t.call(e,"callee")&&!F5t.call(e,"callee")};EAe.exports=U5t});var ia=j((fJr,SAe)=>{d();var Y5t=Array.isArray;SAe.exports=Y5t});var CAe=j((dJr,kAe)=>{d();function H5t(){return!1}a(H5t,"stubFalse");kAe.exports=H5t});var jg=j((c5,nv)=>{d();var z5t=tl(),Q5t=CAe(),MAe=typeof c5=="object"&&c5&&!c5.nodeType&&c5,IAe=MAe&&typeof nv=="object"&&nv&&!nv.nodeType&&nv,W5t=IAe&&IAe.exports===MAe,TAe=W5t?z5t.Buffer:void 0,V5t=TAe?TAe.isBuffer:void 0,j5t=V5t||Q5t;nv.exports=j5t});var l5=j((mJr,BAe)=>{d();var G5t=9007199254740991,K5t=/^(?:0|[1-9]\d*)$/;function $5t(e,t){var r=typeof e;return t=t??G5t,!!t&&(r=="number"||r!="symbol"&&K5t.test(e))&&e>-1&&e%1==0&&e<t}a($5t,"isIndex");BAe.exports=$5t});var OI=j((_Jr,RAe)=>{d();var X5t=9007199254740991;function J5t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X5t}a(J5t,"isLength");RAe.exports=J5t});var DAe=j((AJr,LAe)=>{d();var Z5t=Z0(),e6t=OI(),t6t=Vl(),r6t="[object Arguments]",n6t="[object Array]",i6t="[object Boolean]",a6t="[object Date]",s6t="[object Error]",o6t="[object Function]",c6t="[object Map]",l6t="[object Number]",u6t="[object Object]",f6t="[object RegExp]",h6t="[object Set]",d6t="[object String]",p6t="[object WeakMap]",g6t="[object ArrayBuffer]",y6t="[object DataView]",m6t="[object Float32Array]",b6t="[object Float64Array]",v6t="[object Int8Array]",_6t="[object Int16Array]",x6t="[object Int32Array]",w6t="[object Uint8Array]",A6t="[object Uint8ClampedArray]",E6t="[object Uint16Array]",S6t="[object Uint32Array]",Mi={};Mi[m6t]=Mi[b6t]=Mi[v6t]=Mi[_6t]=Mi[x6t]=Mi[w6t]=Mi[A6t]=Mi[E6t]=Mi[S6t]=!0;Mi[r6t]=Mi[n6t]=Mi[g6t]=Mi[i6t]=Mi[y6t]=Mi[a6t]=Mi[s6t]=Mi[o6t]=Mi[c6t]=Mi[l6t]=Mi[u6t]=Mi[f6t]=Mi[h6t]=Mi[d6t]=Mi[p6t]=!1;function k6t(e){return t6t(e)&&e6t(e.length)&&!!Mi[Z5t(e)]}a(k6t,"baseIsTypedArray");LAe.exports=k6t});var u5=j((kJr,NAe)=>{d();function C6t(e){return function(t){return e(t)}}a(C6t,"baseUnary");NAe.exports=C6t});var qI=j((f5,iv)=>{d();var I6t=WV(),OAe=typeof f5=="object"&&f5&&!f5.nodeType&&f5,h5=OAe&&typeof iv=="object"&&iv&&!iv.nodeType&&iv,T6t=h5&&h5.exports===OAe,KV=T6t&&I6t.process,M6t=function(){try{var e=h5&&h5.require&&h5.require("util").types;return e||KV&&KV.binding&&KV.binding("util")}catch{}}();iv.exports=M6t});var av=j((MJr,FAe)=>{d();var B6t=DAe(),R6t=u5(),qAe=qI(),PAe=qAe&&qAe.isTypedArray,L6t=PAe?R6t(PAe):B6t;FAe.exports=L6t});var $V=j((RJr,UAe)=>{d();var D6t=bAe(),N6t=rv(),O6t=ia(),q6t=jg(),P6t=l5(),F6t=av(),U6t=Object.prototype,Y6t=U6t.hasOwnProperty;function H6t(e,t){var r=O6t(e),n=!r&&N6t(e),i=!r&&!n&&q6t(e),s=!r&&!n&&!i&&F6t(e),o=r||n||i||s,l=o?D6t(e.length,String):[],u=l.length;for(var f in e)(t||Y6t.call(e,f))&&!(o&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||P6t(f,u)))&&l.push(f);return l}a(H6t,"arrayLikeKeys");UAe.exports=H6t});var d5=j((NJr,YAe)=>{d();var z6t=Object.prototype;function Q6t(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z6t;return e===r}a(Q6t,"isPrototype");YAe.exports=Q6t});var XV=j((PJr,HAe)=>{d();function W6t(e,t){return function(r){return e(t(r))}}a(W6t,"overArg");HAe.exports=W6t});var QAe=j((YJr,zAe)=>{d();var V6t=XV(),j6t=V6t(Object.keys,Object);zAe.exports=j6t});var PI=j((zJr,WAe)=>{d();var G6t=d5(),K6t=QAe(),$6t=Object.prototype,X6t=$6t.hasOwnProperty;function J6t(e){if(!G6t(e))return K6t(e);var t=[];for(var r in Object(e))X6t.call(e,r)&&r!="constructor"&&t.push(r);return t}a(J6t,"baseKeys");WAe.exports=J6t});var sf=j((VJr,VAe)=>{d();var Z6t=Vg(),eAt=OI();function tAt(e){return e!=null&&eAt(e.length)&&!Z6t(e)}a(tAt,"isArrayLike");VAe.exports=tAt});var ed=j((KJr,jAe)=>{d();var rAt=$V(),nAt=PI(),iAt=sf();function aAt(e){return iAt(e)?rAt(e):nAt(e)}a(aAt,"keys");jAe.exports=aAt});var KAe=j((JJr,GAe)=>{d();var sAt=tv(),oAt=ed();function cAt(e,t){return e&&sAt(t,oAt(t),e)}a(cAt,"baseAssign");GAe.exports=cAt});var XAe=j((tZr,$Ae)=>{d();function lAt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}a(lAt,"nativeKeysIn");$Ae.exports=lAt});var ZAe=j((iZr,JAe)=>{d();var uAt=fc(),fAt=d5(),hAt=XAe(),dAt=Object.prototype,pAt=dAt.hasOwnProperty;function gAt(e){if(!uAt(e))return hAt(e);var t=fAt(e),r=[];for(var n in e)n=="constructor"&&(t||!pAt.call(e,n))||r.push(n);return r}a(gAt,"baseKeysIn");JAe.exports=gAt});var tp=j((oZr,e8e)=>{d();var yAt=$V(),mAt=ZAe(),bAt=sf();function vAt(e){return bAt(e)?yAt(e,!0):mAt(e)}a(vAt,"keysIn");e8e.exports=vAt});var r8e=j((uZr,t8e)=>{d();var _At=tv(),xAt=tp();function wAt(e,t){return e&&_At(t,xAt(t),e)}a(wAt,"baseAssignIn");t8e.exports=wAt});var JV=j((p5,sv)=>{d();var AAt=tl(),s8e=typeof p5=="object"&&p5&&!p5.nodeType&&p5,n8e=s8e&&typeof sv=="object"&&sv&&!sv.nodeType&&sv,EAt=n8e&&n8e.exports===s8e,i8e=EAt?AAt.Buffer:void 0,a8e=i8e?i8e.allocUnsafe:void 0;function SAt(e,t){if(t)return e.slice();var r=e.length,n=a8e?a8e(r):new e.constructor(r);return e.copy(n),n}a(SAt,"cloneBuffer");sv.exports=SAt});var ZV=j((gZr,o8e)=>{d();function kAt(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}a(kAt,"copyArray");o8e.exports=kAt});var ej=j((bZr,c8e)=>{d();function CAt(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}a(CAt,"arrayFilter");c8e.exports=CAt});var tj=j((xZr,l8e)=>{d();function IAt(){return[]}a(IAt,"stubArray");l8e.exports=IAt});var FI=j((EZr,f8e)=>{d();var TAt=ej(),MAt=tj(),BAt=Object.prototype,RAt=BAt.propertyIsEnumerable,u8e=Object.getOwnPropertySymbols,LAt=u8e?function(e){return e==null?[]:(e=Object(e),TAt(u8e(e),function(t){return RAt.call(e,t)}))}:MAt;f8e.exports=LAt});var d8e=j((kZr,h8e)=>{d();var DAt=tv(),NAt=FI();function OAt(e,t){return DAt(e,NAt(e),t)}a(OAt,"copySymbols");h8e.exports=OAt});var UI=j((TZr,p8e)=>{d();function qAt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}a(qAt,"arrayPush");p8e.exports=qAt});var g5=j((RZr,g8e)=>{d();var PAt=XV(),FAt=PAt(Object.getPrototypeOf,Object);g8e.exports=FAt});var rj=j((DZr,y8e)=>{d();var UAt=UI(),YAt=g5(),HAt=FI(),zAt=tj(),QAt=Object.getOwnPropertySymbols,WAt=QAt?function(e){for(var t=[];e;)UAt(t,HAt(e)),e=YAt(e);return t}:zAt;y8e.exports=WAt});var b8e=j((OZr,m8e)=>{d();var VAt=tv(),jAt=rj();function GAt(e,t){return VAt(e,jAt(e),t)}a(GAt,"copySymbolsIn");m8e.exports=GAt});var nj=j((FZr,v8e)=>{d();var KAt=UI(),$At=ia();function XAt(e,t,r){var n=t(e);return $At(e)?n:KAt(n,r(e))}a(XAt,"baseGetAllKeys");v8e.exports=XAt});var ij=j((HZr,_8e)=>{d();var JAt=nj(),ZAt=FI(),e8t=ed();function t8t(e){return JAt(e,e8t,ZAt)}a(t8t,"getAllKeys");_8e.exports=t8t});var w8e=j((WZr,x8e)=>{d();var r8t=nj(),n8t=rj(),i8t=tp();function a8t(e){return r8t(e,i8t,n8t)}a(a8t,"getAllKeysIn");x8e.exports=a8t});var E8e=j((GZr,A8e)=>{d();var s8t=ep(),o8t=tl(),c8t=s8t(o8t,"DataView");A8e.exports=c8t});var k8e=j(($Zr,S8e)=>{d();var l8t=ep(),u8t=tl(),f8t=l8t(u8t,"Promise");S8e.exports=f8t});var aj=j((JZr,C8e)=>{d();var h8t=ep(),d8t=tl(),p8t=h8t(d8t,"Set");C8e.exports=p8t});var T8e=j((een,I8e)=>{d();var g8t=ep(),y8t=tl(),m8t=g8t(y8t,"WeakMap");I8e.exports=m8t});var Kg=j((ren,O8e)=>{d();var sj=E8e(),oj=LI(),cj=k8e(),lj=aj(),uj=T8e(),N8e=Z0(),ov=jV(),M8e="[object Map]",b8t="[object Object]",B8e="[object Promise]",R8e="[object Set]",L8e="[object WeakMap]",D8e="[object DataView]",v8t=ov(sj),_8t=ov(oj),x8t=ov(cj),w8t=ov(lj),A8t=ov(uj),Gg=N8e;(sj&&Gg(new sj(new ArrayBuffer(1)))!=D8e||oj&&Gg(new oj)!=M8e||cj&&Gg(cj.resolve())!=B8e||lj&&Gg(new lj)!=R8e||uj&&Gg(new uj)!=L8e)&&(Gg=a(function(e){var t=N8e(e),r=t==b8t?e.constructor:void 0,n=r?ov(r):"";if(n)switch(n){case v8t:return D8e;case _8t:return M8e;case x8t:return B8e;case w8t:return R8e;case A8t:return L8e}return t},"getTag"));O8e.exports=Gg});var P8e=j((aen,q8e)=>{d();var E8t=Object.prototype,S8t=E8t.hasOwnProperty;function k8t(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&S8t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}a(k8t,"initCloneArray");q8e.exports=k8t});var fj=j((cen,F8e)=>{d();var C8t=tl(),I8t=C8t.Uint8Array;F8e.exports=I8t});var YI=j((uen,Y8e)=>{d();var U8e=fj();function T8t(e){var t=new e.constructor(e.byteLength);return new U8e(t).set(new U8e(e)),t}a(T8t,"cloneArrayBuffer");Y8e.exports=T8t});var z8e=j((den,H8e)=>{d();var M8t=YI();function B8t(e,t){var r=t?M8t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}a(B8t,"cloneDataView");H8e.exports=B8t});var W8e=j((yen,Q8e)=>{d();var R8t=/\w*$/;function L8t(e){var t=new e.constructor(e.source,R8t.exec(e));return t.lastIndex=e.lastIndex,t}a(L8t,"cloneRegExp");Q8e.exports=L8t});var $8e=j((ven,K8e)=>{d();var V8e=Wg(),j8e=V8e?V8e.prototype:void 0,G8e=j8e?j8e.valueOf:void 0;function D8t(e){return G8e?Object(G8e.call(e)):{}}a(D8t,"cloneSymbol");K8e.exports=D8t});var hj=j((wen,X8e)=>{d();var N8t=YI();function O8t(e,t){var r=t?N8t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}a(O8t,"cloneTypedArray");X8e.exports=O8t});var Z8e=j((Sen,J8e)=>{d();var q8t=YI(),P8t=z8e(),F8t=W8e(),U8t=$8e(),Y8t=hj(),H8t="[object Boolean]",z8t="[object Date]",Q8t="[object Map]",W8t="[object Number]",V8t="[object RegExp]",j8t="[object Set]",G8t="[object String]",K8t="[object Symbol]",$8t="[object ArrayBuffer]",X8t="[object DataView]",J8t="[object Float32Array]",Z8t="[object Float64Array]",eEt="[object Int8Array]",tEt="[object Int16Array]",rEt="[object Int32Array]",nEt="[object Uint8Array]",iEt="[object Uint8ClampedArray]",aEt="[object Uint16Array]",sEt="[object Uint32Array]";function oEt(e,t,r){var n=e.constructor;switch(t){case $8t:return q8t(e);case H8t:case z8t:return new n(+e);case X8t:return P8t(e,r);case J8t:case Z8t:case eEt:case tEt:case rEt:case nEt:case iEt:case aEt:case sEt:return Y8t(e,r);case Q8t:return new n;case W8t:case G8t:return new n(e);case V8t:return F8t(e);case j8t:return new n;case K8t:return U8t(e)}}a(oEt,"initCloneByTag");J8e.exports=oEt});var dj=j((Ien,tEe)=>{d();var cEt=fc(),eEe=Object.create,lEt=function(){function e(){}return a(e,"object"),function(t){if(!cEt(t))return{};if(eEe)return eEe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();tEe.exports=lEt});var pj=j((Ben,rEe)=>{d();var uEt=dj(),fEt=g5(),hEt=d5();function dEt(e){return typeof e.constructor=="function"&&!hEt(e)?uEt(fEt(e)):{}}a(dEt,"initCloneObject");rEe.exports=dEt});var iEe=j((Den,nEe)=>{d();var pEt=Kg(),gEt=Vl(),yEt="[object Map]";function mEt(e){return gEt(e)&&pEt(e)==yEt}a(mEt,"baseIsMap");nEe.exports=mEt});var cEe=j((qen,oEe)=>{d();var bEt=iEe(),vEt=u5(),aEe=qI(),sEe=aEe&&aEe.isMap,_Et=sEe?vEt(sEe):bEt;oEe.exports=_Et});var uEe=j((Fen,lEe)=>{d();var xEt=Kg(),wEt=Vl(),AEt="[object Set]";function EEt(e){return wEt(e)&&xEt(e)==AEt}a(EEt,"baseIsSet");lEe.exports=EEt});var pEe=j((Hen,dEe)=>{d();var SEt=uEe(),kEt=u5(),fEe=qI(),hEe=fEe&&fEe.isSet,CEt=hEe?kEt(hEe):SEt;dEe.exports=CEt});var gj=j((Qen,bEe)=>{d();var IEt=a5(),TEt=NI(),MEt=o5(),BEt=KAe(),REt=r8e(),LEt=JV(),DEt=ZV(),NEt=d8e(),OEt=b8e(),qEt=ij(),PEt=w8e(),FEt=Kg(),UEt=P8e(),YEt=Z8e(),HEt=pj(),zEt=ia(),QEt=jg(),WEt=cEe(),VEt=fc(),jEt=pEe(),GEt=ed(),KEt=tp(),$Et=1,XEt=2,JEt=4,gEe="[object Arguments]",ZEt="[object Array]",eSt="[object Boolean]",tSt="[object Date]",rSt="[object Error]",yEe="[object Function]",nSt="[object GeneratorFunction]",iSt="[object Map]",aSt="[object Number]",mEe="[object Object]",sSt="[object RegExp]",oSt="[object Set]",cSt="[object String]",lSt="[object Symbol]",uSt="[object WeakMap]",fSt="[object ArrayBuffer]",hSt="[object DataView]",dSt="[object Float32Array]",pSt="[object Float64Array]",gSt="[object Int8Array]",ySt="[object Int16Array]",mSt="[object Int32Array]",bSt="[object Uint8Array]",vSt="[object Uint8ClampedArray]",_St="[object Uint16Array]",xSt="[object Uint32Array]",_i={};_i[gEe]=_i[ZEt]=_i[fSt]=_i[hSt]=_i[eSt]=_i[tSt]=_i[dSt]=_i[pSt]=_i[gSt]=_i[ySt]=_i[mSt]=_i[iSt]=_i[aSt]=_i[mEe]=_i[sSt]=_i[oSt]=_i[cSt]=_i[lSt]=_i[bSt]=_i[vSt]=_i[_St]=_i[xSt]=!0;_i[rSt]=_i[yEe]=_i[uSt]=!1;function HI(e,t,r,n,i,s){var o,l=t&$Et,u=t&XEt,f=t&JEt;if(r&&(o=i?r(e,n,i,s):r(e)),o!==void 0)return o;if(!VEt(e))return e;var h=zEt(e);if(h){if(o=UEt(e),!l)return DEt(e,o)}else{var p=FEt(e),g=p==yEe||p==nSt;if(QEt(e))return LEt(e,l);if(p==mEe||p==gEe||g&&!i){if(o=u||g?{}:HEt(e),!l)return u?OEt(e,REt(o,e)):NEt(e,BEt(o,e))}else{if(!_i[p])return i?e:{};o=YEt(e,p,l)}}s||(s=new IEt);var y=s.get(e);if(y)return y;s.set(e,o),jEt(e)?e.forEach(function(z){o.add(HI(z,t,r,z,e,s))}):WEt(e)&&e.forEach(function(z,P){o.set(P,HI(z,t,r,P,e,s))});var E=f?u?PEt:qEt:u?KEt:GEt,M=h?void 0:E(e);return TEt(M||e,function(z,P){M&&(P=z,z=e[P]),MEt(o,P,HI(z,t,r,P,e,s))}),o}a(HI,"baseClone");bEe.exports=HI});var _Ee=j((jen,vEe)=>{d();var wSt=gj(),ASt=4;function ESt(e){return wSt(e,ASt)}a(ESt,"clone");vEe.exports=ESt});var zI=j(($en,xEe)=>{d();function SSt(e){return function(){return e}}a(SSt,"constant");xEe.exports=SSt});var AEe=j((Zen,wEe)=>{d();function kSt(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var u=o[e?l:++i];if(r(s[u],u,s)===!1)break}return t}}a(kSt,"createBaseFor");wEe.exports=kSt});var QI=j((rtn,EEe)=>{d();var CSt=AEe(),ISt=CSt();EEe.exports=ISt});var WI=j((itn,SEe)=>{d();var TSt=QI(),MSt=ed();function BSt(e,t){return e&&TSt(e,t,MSt)}a(BSt,"baseForOwn");SEe.exports=BSt});var CEe=j((otn,kEe)=>{d();var RSt=sf();function LSt(e,t){return function(r,n){if(r==null)return r;if(!RSt(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}a(LSt,"createBaseEach");kEe.exports=LSt});var y5=j((utn,IEe)=>{d();var DSt=WI(),NSt=CEe(),OSt=NSt(DSt);IEe.exports=OSt});var rp=j((htn,TEe)=>{d();function qSt(e){return e}a(qSt,"identity");TEe.exports=qSt});var yj=j((gtn,MEe)=>{d();var PSt=rp();function FSt(e){return typeof e=="function"?e:PSt}a(FSt,"castFunction");MEe.exports=FSt});var mj=j((btn,BEe)=>{d();var USt=NI(),YSt=y5(),HSt=yj(),zSt=ia();function QSt(e,t){var r=zSt(e)?USt:YSt;return r(e,HSt(t))}a(QSt,"forEach");BEe.exports=QSt});var VI=j((xtn,REe)=>{d();REe.exports=mj()});var DEe=j((Atn,LEe)=>{d();var WSt=y5();function VSt(e,t){var r=[];return WSt(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}a(VSt,"baseFilter");LEe.exports=VSt});var OEe=j((ktn,NEe)=>{d();var jSt="__lodash_hash_undefined__";function GSt(e){return this.__data__.set(e,jSt),this}a(GSt,"setCacheAdd");NEe.exports=GSt});var PEe=j((Ttn,qEe)=>{d();function KSt(e){return this.__data__.has(e)}a(KSt,"setCacheHas");qEe.exports=KSt});var bj=j((Rtn,FEe)=>{d();var $St=DI(),XSt=OEe(),JSt=PEe();function jI(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $St;++t<r;)this.add(e[t])}a(jI,"SetCache");jI.prototype.add=jI.prototype.push=XSt;jI.prototype.has=JSt;FEe.exports=jI});var YEe=j((Ntn,UEe)=>{d();function ZSt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}a(ZSt,"arraySome");UEe.exports=ZSt});var vj=j((Ptn,HEe)=>{d();function e7t(e,t){return e.has(t)}a(e7t,"cacheHas");HEe.exports=e7t});var _j=j((Ytn,zEe)=>{d();var t7t=bj(),r7t=YEe(),n7t=vj(),i7t=1,a7t=2;function s7t(e,t,r,n,i,s){var o=r&i7t,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,y=r&a7t?new t7t:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var E=e[p],M=t[p];if(n)var z=o?n(M,E,p,t,e,s):n(E,M,p,e,t,s);if(z!==void 0){if(z)continue;g=!1;break}if(y){if(!r7t(t,function(P,Q){if(!n7t(y,Q)&&(E===P||i(E,P,r,n,s)))return y.push(Q)})){g=!1;break}}else if(!(E===M||i(E,M,r,n,s))){g=!1;break}}return s.delete(e),s.delete(t),g}a(s7t,"equalArrays");zEe.exports=s7t});var WEe=j((Qtn,QEe)=>{d();function o7t(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}a(o7t,"mapToArray");QEe.exports=o7t});var GI=j((jtn,VEe)=>{d();function c7t(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}a(c7t,"setToArray");VEe.exports=c7t});var XEe=j(($tn,$Ee)=>{d();var jEe=Wg(),GEe=fj(),l7t=Qg(),u7t=_j(),f7t=WEe(),h7t=GI(),d7t=1,p7t=2,g7t="[object Boolean]",y7t="[object Date]",m7t="[object Error]",b7t="[object Map]",v7t="[object Number]",_7t="[object RegExp]",x7t="[object Set]",w7t="[object String]",A7t="[object Symbol]",E7t="[object ArrayBuffer]",S7t="[object DataView]",KEe=jEe?jEe.prototype:void 0,xj=KEe?KEe.valueOf:void 0;function k7t(e,t,r,n,i,s,o){switch(r){case S7t:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E7t:return!(e.byteLength!=t.byteLength||!s(new GEe(e),new GEe(t)));case g7t:case y7t:case v7t:return l7t(+e,+t);case m7t:return e.name==t.name&&e.message==t.message;case _7t:case w7t:return e==t+"";case b7t:var l=f7t;case x7t:var u=n&d7t;if(l||(l=h7t),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;n|=p7t,o.set(e,t);var h=u7t(l(e),l(t),n,i,s,o);return o.delete(e),h;case A7t:if(xj)return xj.call(e)==xj.call(t)}return!1}a(k7t,"equalByTag");$Ee.exports=k7t});var eSe=j((Ztn,ZEe)=>{d();var JEe=ij(),C7t=1,I7t=Object.prototype,T7t=I7t.hasOwnProperty;function M7t(e,t,r,n,i,s){var o=r&C7t,l=JEe(e),u=l.length,f=JEe(t),h=f.length;if(u!=h&&!o)return!1;for(var p=u;p--;){var g=l[p];if(!(o?g in t:T7t.call(t,g)))return!1}var y=s.get(e),E=s.get(t);if(y&&E)return y==t&&E==e;var M=!0;s.set(e,t),s.set(t,e);for(var z=o;++p<u;){g=l[p];var P=e[g],Q=t[g];if(n)var V=o?n(Q,P,g,t,e,s):n(P,Q,g,e,t,s);if(!(V===void 0?P===Q||i(P,Q,r,n,s):V)){M=!1;break}z||(z=g=="constructor")}if(M&&!z){var W=e.constructor,F=t.constructor;W!=F&&"constructor"in e&&"constructor"in t&&!(typeof W=="function"&&W instanceof W&&typeof F=="function"&&F instanceof F)&&(M=!1)}return s.delete(e),s.delete(t),M}a(M7t,"equalObjects");ZEe.exports=M7t});var cSe=j((rrn,oSe)=>{d();var wj=a5(),B7t=_j(),R7t=XEe(),L7t=eSe(),tSe=Kg(),rSe=ia(),nSe=jg(),D7t=av(),N7t=1,iSe="[object Arguments]",aSe="[object Array]",KI="[object Object]",O7t=Object.prototype,sSe=O7t.hasOwnProperty;function q7t(e,t,r,n,i,s){var o=rSe(e),l=rSe(t),u=o?aSe:tSe(e),f=l?aSe:tSe(t);u=u==iSe?KI:u,f=f==iSe?KI:f;var h=u==KI,p=f==KI,g=u==f;if(g&&nSe(e)){if(!nSe(t))return!1;o=!0,h=!1}if(g&&!h)return s||(s=new wj),o||D7t(e)?B7t(e,t,r,n,i,s):R7t(e,t,u,r,n,i,s);if(!(r&N7t)){var y=h&&sSe.call(e,"__wrapped__"),E=p&&sSe.call(t,"__wrapped__");if(y||E){var M=y?e.value():e,z=E?t.value():t;return s||(s=new wj),i(M,z,r,n,s)}}return g?(s||(s=new wj),L7t(e,t,r,n,i,s)):!1}a(q7t,"baseIsEqualDeep");oSe.exports=q7t});var Aj=j((arn,fSe)=>{d();var P7t=cSe(),lSe=Vl();function uSe(e,t,r,n,i){return e===t?!0:e==null||t==null||!lSe(e)&&!lSe(t)?e!==e&&t!==t:P7t(e,t,r,n,uSe,i)}a(uSe,"baseIsEqual");fSe.exports=uSe});var dSe=j((crn,hSe)=>{d();var F7t=a5(),U7t=Aj(),Y7t=1,H7t=2;function z7t(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var u=l[0],f=e[u],h=l[1];if(o&&l[2]){if(f===void 0&&!(u in e))return!1}else{var p=new F7t;if(n)var g=n(f,h,u,e,t,p);if(!(g===void 0?U7t(h,f,Y7t|H7t,n,p):g))return!1}}return!0}a(z7t,"baseIsMatch");hSe.exports=z7t});var Ej=j((frn,pSe)=>{d();var Q7t=fc();function W7t(e){return e===e&&!Q7t(e)}a(W7t,"isStrictComparable");pSe.exports=W7t});var ySe=j((prn,gSe)=>{d();var V7t=Ej(),j7t=ed();function G7t(e){for(var t=j7t(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,V7t(i)]}return t}a(G7t,"getMatchData");gSe.exports=G7t});var Sj=j((mrn,mSe)=>{d();function K7t(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}a(K7t,"matchesStrictComparable");mSe.exports=K7t});var vSe=j((_rn,bSe)=>{d();var $7t=dSe(),X7t=ySe(),J7t=Sj();function Z7t(e){var t=X7t(e);return t.length==1&&t[0][2]?J7t(t[0][0],t[0][1]):function(r){return r===e||$7t(r,e,t)}}a(Z7t,"baseMatches");bSe.exports=Z7t});var $g=j((Arn,_Se)=>{d();var ekt=Z0(),tkt=Vl(),rkt="[object Symbol]";function nkt(e){return typeof e=="symbol"||tkt(e)&&ekt(e)==rkt}a(nkt,"isSymbol");_Se.exports=nkt});var $I=j((krn,xSe)=>{d();var ikt=ia(),akt=$g(),skt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,okt=/^\w*$/;function ckt(e,t){if(ikt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||akt(e)?!0:okt.test(e)||!skt.test(e)||t!=null&&e in Object(t)}a(ckt,"isKey");xSe.exports=ckt});var ESe=j((Trn,ASe)=>{d();var wSe=DI(),lkt="Expected a function";function kj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lkt);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o},"memoized");return r.cache=new(kj.Cache||wSe),r}a(kj,"memoize");kj.Cache=wSe;ASe.exports=kj});var kSe=j((Rrn,SSe)=>{d();var ukt=ESe(),fkt=500;function hkt(e){var t=ukt(e,function(n){return r.size===fkt&&r.clear(),n}),r=t.cache;return t}a(hkt,"memoizeCapped");SSe.exports=hkt});var ISe=j((Nrn,CSe)=>{d();var dkt=kSe(),pkt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gkt=/\\(\\)?/g,ykt=dkt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pkt,function(r,n,i,s){t.push(i?s.replace(gkt,"$1"):n||r)}),t});CSe.exports=ykt});var m5=j((qrn,TSe)=>{d();function mkt(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}a(mkt,"arrayMap");TSe.exports=mkt});var NSe=j((Urn,DSe)=>{d();var MSe=Wg(),bkt=m5(),vkt=ia(),_kt=$g(),xkt=1/0,BSe=MSe?MSe.prototype:void 0,RSe=BSe?BSe.toString:void 0;function LSe(e){if(typeof e=="string")return e;if(vkt(e))return bkt(e,LSe)+"";if(_kt(e))return RSe?RSe.call(e):"";var t=e+"";return t=="0"&&1/e==-xkt?"-0":t}a(LSe,"baseToString");DSe.exports=LSe});var Cj=j((zrn,OSe)=>{d();var wkt=NSe();function Akt(e){return e==null?"":wkt(e)}a(Akt,"toString");OSe.exports=Akt});var b5=j((Vrn,qSe)=>{d();var Ekt=ia(),Skt=$I(),kkt=ISe(),Ckt=Cj();function Ikt(e,t){return Ekt(e)?e:Skt(e,t)?[e]:kkt(Ckt(e))}a(Ikt,"castPath");qSe.exports=Ikt});var cv=j((Krn,PSe)=>{d();var Tkt=$g(),Mkt=1/0;function Bkt(e){if(typeof e=="string"||Tkt(e))return e;var t=e+"";return t=="0"&&1/e==-Mkt?"-0":t}a(Bkt,"toKey");PSe.exports=Bkt});var v5=j((Jrn,FSe)=>{d();var Rkt=b5(),Lkt=cv();function Dkt(e,t){t=Rkt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Lkt(t[r++])];return r&&r==n?e:void 0}a(Dkt,"baseGet");FSe.exports=Dkt});var YSe=j((tnn,USe)=>{d();var Nkt=v5();function Okt(e,t,r){var n=e==null?void 0:Nkt(e,t);return n===void 0?r:n}a(Okt,"get");USe.exports=Okt});var zSe=j((inn,HSe)=>{d();function qkt(e,t){return e!=null&&t in Object(e)}a(qkt,"baseHasIn");HSe.exports=qkt});var Ij=j((onn,QSe)=>{d();var Pkt=b5(),Fkt=rv(),Ukt=ia(),Ykt=l5(),Hkt=OI(),zkt=cv();function Qkt(e,t,r){t=Pkt(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=zkt(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&Hkt(i)&&Ykt(o,i)&&(Ukt(e)||Fkt(e)))}a(Qkt,"hasPath");QSe.exports=Qkt});var Tj=j((unn,WSe)=>{d();var Wkt=zSe(),Vkt=Ij();function jkt(e,t){return e!=null&&Vkt(e,t,Wkt)}a(jkt,"hasIn");WSe.exports=jkt});var jSe=j((dnn,VSe)=>{d();var Gkt=Aj(),Kkt=YSe(),$kt=Tj(),Xkt=$I(),Jkt=Ej(),Zkt=Sj(),eCt=cv(),tCt=1,rCt=2;function nCt(e,t){return Xkt(e)&&Jkt(t)?Zkt(eCt(e),t):function(r){var n=Kkt(r,e);return n===void 0&&n===t?$kt(r,e):Gkt(t,n,tCt|rCt)}}a(nCt,"baseMatchesProperty");VSe.exports=nCt});var Mj=j((ynn,GSe)=>{d();function iCt(e){return function(t){return t?.[e]}}a(iCt,"baseProperty");GSe.exports=iCt});var $Se=j((vnn,KSe)=>{d();var aCt=v5();function sCt(e){return function(t){return aCt(t,e)}}a(sCt,"basePropertyDeep");KSe.exports=sCt});var JSe=j((wnn,XSe)=>{d();var oCt=Mj(),cCt=$Se(),lCt=$I(),uCt=cv();function fCt(e){return lCt(e)?oCt(uCt(e)):cCt(e)}a(fCt,"property");XSe.exports=fCt});var of=j((Snn,ZSe)=>{d();var hCt=vSe(),dCt=jSe(),pCt=rp(),gCt=ia(),yCt=JSe();function mCt(e){return typeof e=="function"?e:e==null?pCt:typeof e=="object"?gCt(e)?dCt(e[0],e[1]):hCt(e):yCt(e)}a(mCt,"baseIteratee");ZSe.exports=mCt});var Bj=j((Inn,e7e)=>{d();var bCt=ej(),vCt=DEe(),_Ct=of(),xCt=ia();function wCt(e,t){var r=xCt(e)?bCt:vCt;return r(e,_Ct(t,3))}a(wCt,"filter");e7e.exports=wCt});var r7e=j((Bnn,t7e)=>{d();var ACt=Object.prototype,ECt=ACt.hasOwnProperty;function SCt(e,t){return e!=null&&ECt.call(e,t)}a(SCt,"baseHas");t7e.exports=SCt});var XI=j((Dnn,n7e)=>{d();var kCt=r7e(),CCt=Ij();function ICt(e,t){return e!=null&&CCt(e,t,kCt)}a(ICt,"has");n7e.exports=ICt});var a7e=j((qnn,i7e)=>{d();var TCt=PI(),MCt=Kg(),BCt=rv(),RCt=ia(),LCt=sf(),DCt=jg(),NCt=d5(),OCt=av(),qCt="[object Map]",PCt="[object Set]",FCt=Object.prototype,UCt=FCt.hasOwnProperty;function YCt(e){if(e==null)return!0;if(LCt(e)&&(RCt(e)||typeof e=="string"||typeof e.splice=="function"||DCt(e)||OCt(e)||BCt(e)))return!e.length;var t=MCt(e);if(t==qCt||t==PCt)return!e.size;if(NCt(e))return!TCt(e).length;for(var r in e)if(UCt.call(e,r))return!1;return!0}a(YCt,"isEmpty");i7e.exports=YCt});var Rj=j((Unn,s7e)=>{d();function HCt(e){return e===void 0}a(HCt,"isUndefined");s7e.exports=HCt});var Lj=j((znn,o7e)=>{d();var zCt=y5(),QCt=sf();function WCt(e,t){var r=-1,n=QCt(e)?Array(e.length):[];return zCt(e,function(i,s,o){n[++r]=t(i,s,o)}),n}a(WCt,"baseMap");o7e.exports=WCt});var Dj=j((Vnn,c7e)=>{d();var VCt=m5(),jCt=of(),GCt=Lj(),KCt=ia();function $Ct(e,t){var r=KCt(e)?VCt:GCt;return r(e,jCt(t,3))}a($Ct,"map");c7e.exports=$Ct});var u7e=j((Knn,l7e)=>{d();function XCt(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}a(XCt,"arrayReduce");l7e.exports=XCt});var h7e=j((Jnn,f7e)=>{d();function JCt(e,t,r,n,i){return i(e,function(s,o,l){r=n?(n=!1,s):t(r,s,o,l)}),r}a(JCt,"baseReduce");f7e.exports=JCt});var Nj=j((tin,d7e)=>{d();var ZCt=u7e(),e9t=y5(),t9t=of(),r9t=h7e(),n9t=ia();function i9t(e,t,r){var n=n9t(e)?ZCt:r9t,i=arguments.length<3;return n(e,t9t(t,4),r,i,e9t)}a(i9t,"reduce");d7e.exports=i9t});var g7e=j((iin,p7e)=>{d();var a9t=Z0(),s9t=ia(),o9t=Vl(),c9t="[object String]";function l9t(e){return typeof e=="string"||!s9t(e)&&o9t(e)&&a9t(e)==c9t}a(l9t,"isString");p7e.exports=l9t});var m7e=j((oin,y7e)=>{d();var u9t=Mj(),f9t=u9t("length");y7e.exports=f9t});var v7e=j((lin,b7e)=>{d();var h9t="\\ud800-\\udfff",d9t="\\u0300-\\u036f",p9t="\\ufe20-\\ufe2f",g9t="\\u20d0-\\u20ff",y9t=d9t+p9t+g9t,m9t="\\ufe0e\\ufe0f",b9t="\\u200d",v9t=RegExp("["+b9t+h9t+y9t+m9t+"]");function _9t(e){return v9t.test(e)}a(_9t,"hasUnicode");b7e.exports=_9t});var I7e=j((hin,C7e)=>{d();var x7e="\\ud800-\\udfff",x9t="\\u0300-\\u036f",w9t="\\ufe20-\\ufe2f",A9t="\\u20d0-\\u20ff",E9t=x9t+w9t+A9t,S9t="\\ufe0e\\ufe0f",k9t="["+x7e+"]",Oj="["+E9t+"]",qj="\\ud83c[\\udffb-\\udfff]",C9t="(?:"+Oj+"|"+qj+")",w7e="[^"+x7e+"]",A7e="(?:\\ud83c[\\udde6-\\uddff]){2}",E7e="[\\ud800-\\udbff][\\udc00-\\udfff]",I9t="\\u200d",S7e=C9t+"?",k7e="["+S9t+"]?",T9t="(?:"+I9t+"(?:"+[w7e,A7e,E7e].join("|")+")"+k7e+S7e+")*",M9t=k7e+S7e+T9t,B9t="(?:"+[w7e+Oj+"?",Oj,A7e,E7e,k9t].join("|")+")",_7e=RegExp(qj+"(?="+qj+")|"+B9t+M9t,"g");function R9t(e){for(var t=_7e.lastIndex=0;_7e.test(e);)++t;return t}a(R9t,"unicodeSize");C7e.exports=R9t});var M7e=j((gin,T7e)=>{d();var L9t=m7e(),D9t=v7e(),N9t=I7e();function O9t(e){return D9t(e)?N9t(e):L9t(e)}a(O9t,"stringSize");T7e.exports=O9t});var R7e=j((bin,B7e)=>{d();var q9t=PI(),P9t=Kg(),F9t=sf(),U9t=g7e(),Y9t=M7e(),H9t="[object Map]",z9t="[object Set]";function Q9t(e){if(e==null)return 0;if(F9t(e))return U9t(e)?Y9t(e):e.length;var t=P9t(e);return t==H9t||t==z9t?e.size:q9t(e).length}a(Q9t,"size");B7e.exports=Q9t});var D7e=j((xin,L7e)=>{d();var W9t=NI(),V9t=dj(),j9t=WI(),G9t=of(),K9t=g5(),$9t=ia(),X9t=jg(),J9t=Vg(),Z9t=fc(),eIt=av();function tIt(e,t,r){var n=$9t(e),i=n||X9t(e)||eIt(e);if(t=G9t(t,4),r==null){var s=e&&e.constructor;i?r=n?new s:[]:Z9t(e)?r=J9t(s)?V9t(K9t(e)):{}:r={}}return(i?W9t:j9t)(e,function(o,l,u){return t(r,o,l,u)}),r}a(tIt,"transform");L7e.exports=tIt});var P7e=j((Ein,q7e)=>{d();var N7e=Wg(),rIt=rv(),nIt=ia(),O7e=N7e?N7e.isConcatSpreadable:void 0;function iIt(e){return nIt(e)||rIt(e)||!!(O7e&&e&&e[O7e])}a(iIt,"isFlattenable");q7e.exports=iIt});var JI=j((Cin,U7e)=>{d();var aIt=UI(),sIt=P7e();function F7e(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=sIt),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?F7e(l,t-1,r,n,i):aIt(i,l):n||(i[i.length]=l)}return i}a(F7e,"baseFlatten");U7e.exports=F7e});var H7e=j((Min,Y7e)=>{d();function oIt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}a(oIt,"apply");Y7e.exports=oIt});var Pj=j((Lin,Q7e)=>{d();var cIt=H7e(),z7e=Math.max;function lIt(e,t,r){return t=z7e(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=z7e(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),cIt(e,this,l)}}a(lIt,"overRest");Q7e.exports=lIt});var j7e=j((Oin,V7e)=>{d();var uIt=zI(),W7e=GV(),fIt=rp(),hIt=W7e?function(e,t){return W7e(e,"toString",{configurable:!0,enumerable:!1,value:uIt(t),writable:!0})}:fIt;V7e.exports=hIt});var K7e=j((Pin,G7e)=>{d();var dIt=800,pIt=16,gIt=Date.now;function yIt(e){var t=0,r=0;return function(){var n=gIt(),i=pIt-(n-r);if(r=n,i>0){if(++t>=dIt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}a(yIt,"shortOut");G7e.exports=yIt});var Fj=j((Yin,$7e)=>{d();var mIt=j7e(),bIt=K7e(),vIt=bIt(mIt);$7e.exports=vIt});var _5=j((zin,X7e)=>{d();var _It=rp(),xIt=Pj(),wIt=Fj();function AIt(e,t){return wIt(xIt(e,t,_It),e+"")}a(AIt,"baseRest");X7e.exports=AIt});var Uj=j((Vin,J7e)=>{d();function EIt(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}a(EIt,"baseFindIndex");J7e.exports=EIt});var eke=j((Kin,Z7e)=>{d();function SIt(e){return e!==e}a(SIt,"baseIsNaN");Z7e.exports=SIt});var rke=j((Jin,tke)=>{d();function kIt(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}a(kIt,"strictIndexOf");tke.exports=kIt});var ike=j((tan,nke)=>{d();var CIt=Uj(),IIt=eke(),TIt=rke();function MIt(e,t,r){return t===t?TIt(e,t,r):CIt(e,IIt,r)}a(MIt,"baseIndexOf");nke.exports=MIt});var ske=j((ian,ake)=>{d();var BIt=ike();function RIt(e,t){var r=e==null?0:e.length;return!!r&&BIt(e,t,0)>-1}a(RIt,"arrayIncludes");ake.exports=RIt});var cke=j((oan,oke)=>{d();function LIt(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}a(LIt,"arrayIncludesWith");oke.exports=LIt});var uke=j((uan,lke)=>{d();function DIt(){}a(DIt,"noop");lke.exports=DIt});var hke=j((dan,fke)=>{d();var Yj=aj(),NIt=uke(),OIt=GI(),qIt=1/0,PIt=Yj&&1/OIt(new Yj([,-0]))[1]==qIt?function(e){return new Yj(e)}:NIt;fke.exports=PIt});var pke=j((gan,dke)=>{d();var FIt=bj(),UIt=ske(),YIt=cke(),HIt=vj(),zIt=hke(),QIt=GI(),WIt=200;function VIt(e,t,r){var n=-1,i=UIt,s=e.length,o=!0,l=[],u=l;if(r)o=!1,i=YIt;else if(s>=WIt){var f=t?null:zIt(e);if(f)return QIt(f);o=!1,i=HIt,u=new FIt}else u=t?[]:l;e:for(;++n<s;){var h=e[n],p=t?t(h):h;if(h=r||h!==0?h:0,o&&p===p){for(var g=u.length;g--;)if(u[g]===p)continue e;t&&u.push(p),l.push(h)}else i(u,p,r)||(u!==l&&u.push(p),l.push(h))}return l}a(VIt,"baseUniq");dke.exports=VIt});var Hj=j((ban,gke)=>{d();var jIt=sf(),GIt=Vl();function KIt(e){return GIt(e)&&jIt(e)}a(KIt,"isArrayLikeObject");gke.exports=KIt});var mke=j((xan,yke)=>{d();var $It=JI(),XIt=_5(),JIt=pke(),ZIt=Hj(),eTt=XIt(function(e){return JIt($It(e,1,ZIt,!0))});yke.exports=eTt});var vke=j((Aan,bke)=>{d();var tTt=m5();function rTt(e,t){return tTt(t,function(r){return e[r]})}a(rTt,"baseValues");bke.exports=rTt});var zj=j((kan,_ke)=>{d();var nTt=vke(),iTt=ed();function aTt(e){return e==null?[]:nTt(e,iTt(e))}a(aTt,"values");_ke.exports=aTt});var hc=j((Tan,xke)=>{d();var ZI;if(typeof Yi=="function")try{ZI={clone:_Ee(),constant:zI(),each:VI(),filter:Bj(),has:XI(),isArray:ia(),isEmpty:a7e(),isFunction:Vg(),isUndefined:Rj(),keys:ed(),map:Dj(),reduce:Nj(),size:R7e(),transform:D7e(),union:mke(),values:zj()}}catch{}ZI||(ZI=window._);xke.exports=ZI});var eT=j((Ran,Ske)=>{"use strict";d();var Jr=hc();Ske.exports=dn;var sTt="\0",Xg="\0",wke="";function dn(e){this._isDirected=Jr.has(e,"directed")?e.directed:!0,this._isMultigraph=Jr.has(e,"multigraph")?e.multigraph:!1,this._isCompound=Jr.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Jr.constant(void 0),this._defaultEdgeLabelFn=Jr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Xg]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a(dn,"Graph");dn.prototype._nodeCount=0;dn.prototype._edgeCount=0;dn.prototype.isDirected=function(){return this._isDirected};dn.prototype.isMultigraph=function(){return this._isMultigraph};dn.prototype.isCompound=function(){return this._isCompound};dn.prototype.setGraph=function(e){return this._label=e,this};dn.prototype.graph=function(){return this._label};dn.prototype.setDefaultNodeLabel=function(e){return Jr.isFunction(e)||(e=Jr.constant(e)),this._defaultNodeLabelFn=e,this};dn.prototype.nodeCount=function(){return this._nodeCount};dn.prototype.nodes=function(){return Jr.keys(this._nodes)};dn.prototype.sources=function(){var e=this;return Jr.filter(this.nodes(),function(t){return Jr.isEmpty(e._in[t])})};dn.prototype.sinks=function(){var e=this;return Jr.filter(this.nodes(),function(t){return Jr.isEmpty(e._out[t])})};dn.prototype.setNodes=function(e,t){var r=arguments,n=this;return Jr.each(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this};dn.prototype.setNode=function(e,t){return Jr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Xg,this._children[e]={},this._children[Xg][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};dn.prototype.node=function(e){return this._nodes[e]};dn.prototype.hasNode=function(e){return Jr.has(this._nodes,e)};dn.prototype.removeNode=function(e){var t=this;if(Jr.has(this._nodes,e)){var r=a(function(n){t.removeEdge(t._edgeObjs[n])},"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Jr.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),Jr.each(Jr.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],Jr.each(Jr.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};dn.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jr.isUndefined(t))t=Xg;else{t+="";for(var r=t;!Jr.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};dn.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};dn.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==Xg)return t}};dn.prototype.children=function(e){if(Jr.isUndefined(e)&&(e=Xg),this._isCompound){var t=this._children[e];if(t)return Jr.keys(t)}else{if(e===Xg)return this.nodes();if(this.hasNode(e))return[]}};dn.prototype.predecessors=function(e){var t=this._preds[e];if(t)return Jr.keys(t)};dn.prototype.successors=function(e){var t=this._sucs[e];if(t)return Jr.keys(t)};dn.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return Jr.union(t,this.successors(e))};dn.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};dn.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Jr.each(this._nodes,function(s,o){e(o)&&t.setNode(o,s)}),Jr.each(this._edgeObjs,function(s){t.hasNode(s.v)&&t.hasNode(s.w)&&t.setEdge(s,r.edge(s))});var n={};function i(s){var o=r.parent(s);return o===void 0||t.hasNode(o)?(n[s]=o,o):o in n?n[o]:i(o)}return a(i,"findParent"),this._isCompound&&Jr.each(t.nodes(),function(s){t.setParent(s,i(s))}),t};dn.prototype.setDefaultEdgeLabel=function(e){return Jr.isFunction(e)||(e=Jr.constant(e)),this._defaultEdgeLabelFn=e,this};dn.prototype.edgeCount=function(){return this._edgeCount};dn.prototype.edges=function(){return Jr.values(this._edgeObjs)};dn.prototype.setPath=function(e,t){var r=this,n=arguments;return Jr.reduce(e,function(i,s){return n.length>1?r.setEdge(i,s,t):r.setEdge(i,s),s}),this};dn.prototype.setEdge=function(){var e,t,r,n,i=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,t=s.w,r=s.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=s,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,Jr.isUndefined(r)||(r=""+r);var o=x5(this._isDirected,e,t,r);if(Jr.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!Jr.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,t,r);var l=oTt(this._isDirected,e,t,r);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[o]=l,Ake(this._preds[t],e),Ake(this._sucs[e],t),this._in[t][o]=l,this._out[e][o]=l,this._edgeCount++,this};dn.prototype.edge=function(e,t,r){var n=arguments.length===1?Qj(this._isDirected,arguments[0]):x5(this._isDirected,e,t,r);return this._edgeLabels[n]};dn.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?Qj(this._isDirected,arguments[0]):x5(this._isDirected,e,t,r);return Jr.has(this._edgeLabels,n)};dn.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?Qj(this._isDirected,arguments[0]):x5(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Eke(this._preds[t],e),Eke(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};dn.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=Jr.values(r);return t?Jr.filter(n,function(i){return i.v===t}):n}};dn.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=Jr.values(r);return t?Jr.filter(n,function(i){return i.w===t}):n}};dn.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function Ake(e,t){e[t]?e[t]++:e[t]=1}a(Ake,"incrementOrInitEntry");function Eke(e,t){--e[t]||delete e[t]}a(Eke,"decrementOrRemoveEntry");function x5(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}return i+wke+s+wke+(Jr.isUndefined(n)?sTt:n)}a(x5,"edgeArgsToId");function oTt(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}var l={v:i,w:s};return n&&(l.name=n),l}a(oTt,"edgeArgsToObj");function Qj(e,t){return x5(e,t.v,t.w,t.name)}a(Qj,"edgeObjToId")});var Cke=j((Nan,kke)=>{d();kke.exports="2.1.8"});var Tke=j((qan,Ike)=>{d();Ike.exports={Graph:eT(),version:Cke()}});var Bke=j((Fan,Mke)=>{d();var cf=hc(),cTt=eT();Mke.exports={write:lTt,read:hTt};function lTt(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:uTt(e),edges:fTt(e)};return cf.isUndefined(e.graph())||(t.value=cf.clone(e.graph())),t}a(lTt,"write");function uTt(e){return cf.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return cf.isUndefined(r)||(i.value=r),cf.isUndefined(n)||(i.parent=n),i})}a(uTt,"writeNodes");function fTt(e){return cf.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return cf.isUndefined(t.name)||(n.name=t.name),cf.isUndefined(r)||(n.value=r),n})}a(fTt,"writeEdges");function hTt(e){var t=new cTt(e.options).setGraph(e.value);return cf.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),cf.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}a(hTt,"read")});var Lke=j((Han,Rke)=>{d();var tT=hc();Rke.exports=dTt;function dTt(e){var t={},r=[],n;function i(s){tT.has(t,s)||(t[s]=!0,n.push(s),tT.each(e.successors(s),i),tT.each(e.predecessors(s),i))}return a(i,"dfs"),tT.each(e.nodes(),function(s){n=[],i(s),n.length&&r.push(n)}),r}a(dTt,"components")});var Wj=j((Wan,Nke)=>{d();var Dke=hc();Nke.exports=rl;function rl(){this._arr=[],this._keyIndices={}}a(rl,"PriorityQueue");rl.prototype.size=function(){return this._arr.length};rl.prototype.keys=function(){return this._arr.map(function(e){return e.key})};rl.prototype.has=function(e){return Dke.has(this._keyIndices,e)};rl.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};rl.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};rl.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!Dke.has(r,e)){var n=this._arr,i=n.length;return r[e]=i,n.push({key:e,priority:t}),this._decrease(i),!0}return!1};rl.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};rl.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};rl.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,i=e;r<t.length&&(i=t[r].priority<t[i].priority?r:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==e&&(this._swap(e,i),this._heapify(i)))};rl.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};rl.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,i=r[e],s=r[t];r[e]=s,r[t]=i,n[s.key]=e,n[i.key]=t}});var Vj=j((Gan,Oke)=>{d();var pTt=hc(),gTt=Wj();Oke.exports=mTt;var yTt=pTt.constant(1);function mTt(e,t,r,n){return bTt(e,String(t),r||yTt,n||function(i){return e.outEdges(i)})}a(mTt,"dijkstra");function bTt(e,t,r,n){var i={},s=new gTt,o,l,u=a(function(f){var h=f.v!==o?f.v:f.w,p=i[h],g=r(f),y=l.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+g);y<p.distance&&(p.distance=y,p.predecessor=o,s.decrease(h,y))},"updateNeighbors");for(e.nodes().forEach(function(f){var h=f===t?0:Number.POSITIVE_INFINITY;i[f]={distance:h},s.add(f,h)});s.size()>0&&(o=s.removeMin(),l=i[o],l.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(u);return i}a(bTt,"runDijkstra")});var Pke=j((Xan,qke)=>{d();var vTt=Vj(),_Tt=hc();qke.exports=xTt;function xTt(e,t,r){return _Tt.transform(e.nodes(),function(n,i){n[i]=vTt(e,i,t,r)},{})}a(xTt,"dijkstraAll")});var jj=j((esn,Uke)=>{d();var Fke=hc();Uke.exports=wTt;function wTt(e){var t=0,r=[],n={},i=[];function s(o){var l=n[o]={onStack:!0,lowlink:t,index:t++};if(r.push(o),e.successors(o).forEach(function(h){Fke.has(n,h)?n[h].onStack&&(l.lowlink=Math.min(l.lowlink,n[h].index)):(s(h),l.lowlink=Math.min(l.lowlink,n[h].lowlink))}),l.lowlink===l.index){var u=[],f;do f=r.pop(),n[f].onStack=!1,u.push(f);while(o!==f);i.push(u)}}return a(s,"dfs"),e.nodes().forEach(function(o){Fke.has(n,o)||s(o)}),i}a(wTt,"tarjan")});var Hke=j((nsn,Yke)=>{d();var ATt=hc(),ETt=jj();Yke.exports=STt;function STt(e){return ATt.filter(ETt(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}a(STt,"findCycles")});var Qke=j((ssn,zke)=>{d();var kTt=hc();zke.exports=ITt;var CTt=kTt.constant(1);function ITt(e,t,r){return TTt(e,t||CTt,r||function(n){return e.outEdges(n)})}a(ITt,"floydWarshall");function TTt(e,t,r){var n={},i=e.nodes();return i.forEach(function(s){n[s]={},n[s][s]={distance:0},i.forEach(function(o){s!==o&&(n[s][o]={distance:Number.POSITIVE_INFINITY})}),r(s).forEach(function(o){var l=o.v===s?o.w:o.v,u=t(o);n[s][l]={distance:u,predecessor:s}})}),i.forEach(function(s){var o=n[s];i.forEach(function(l){var u=n[l];i.forEach(function(f){var h=u[s],p=o[f],g=u[f],y=h.distance+p.distance;y<g.distance&&(g.distance=y,g.predecessor=p.predecessor)})})}),n}a(TTt,"runFloydWarshall")});var Gj=j((lsn,Vke)=>{d();var w5=hc();Vke.exports=Wke;Wke.CycleException=rT;function Wke(e){var t={},r={},n=[];function i(s){if(w5.has(r,s))throw new rT;w5.has(t,s)||(r[s]=!0,t[s]=!0,w5.each(e.predecessors(s),i),delete r[s],n.push(s))}if(a(i,"visit"),w5.each(e.sinks(),i),w5.size(t)!==e.nodeCount())throw new rT;return n}a(Wke,"topsort");function rT(){}a(rT,"CycleException");rT.prototype=new Error});var Kke=j((hsn,Gke)=>{d();var jke=Gj();Gke.exports=MTt;function MTt(e){try{jke(e)}catch(t){if(t instanceof jke.CycleException)return!1;throw t}return!0}a(MTt,"isAcyclic")});var Kj=j((gsn,Xke)=>{d();var nT=hc();Xke.exports=BTt;function BTt(e,t,r){nT.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return nT.each(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);$ke(e,o,r==="post",s,n,i)}),i}a(BTt,"dfs");function $ke(e,t,r,n,i,s){nT.has(n,t)||(n[t]=!0,r||s.push(t),nT.each(i(t),function(o){$ke(e,o,r,n,i,s)}),r&&s.push(t))}a($ke,"doDfs")});var Zke=j((bsn,Jke)=>{d();var RTt=Kj();Jke.exports=LTt;function LTt(e,t){return RTt(e,t,"post")}a(LTt,"postorder")});var tCe=j((xsn,eCe)=>{d();var DTt=Kj();eCe.exports=NTt;function NTt(e,t){return DTt(e,t,"pre")}a(NTt,"preorder")});var iCe=j((Esn,nCe)=>{d();var rCe=hc(),OTt=eT(),qTt=Wj();nCe.exports=PTt;function PTt(e,t){var r=new OTt,n={},i=new qTt,s;function o(u){var f=u.v===s?u.w:u.v,h=i.priority(f);if(h!==void 0){var p=t(u);p<h&&(n[f]=s,i.decrease(f,p))}}if(a(o,"updateNeighbors"),e.nodeCount()===0)return r;rCe.each(e.nodes(),function(u){i.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),i.decrease(e.nodes()[0],0);for(var l=!1;i.size()>0;){if(s=i.removeMin(),rCe.has(n,s))r.setEdge(s,n[s]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(s).forEach(o)}return r}a(PTt,"prim")});var sCe=j((Csn,aCe)=>{d();aCe.exports={components:Lke(),dijkstra:Vj(),dijkstraAll:Pke(),findCycles:Hke(),floydWarshall:Qke(),isAcyclic:Kke(),postorder:Zke(),preorder:tCe(),prim:iCe(),tarjan:jj(),topsort:Gj()}});var iT=j((Tsn,cCe)=>{d();var oCe=Tke();cCe.exports={Graph:oCe.Graph,json:Bke(),alg:sCe(),version:oCe.version}});var nl=j((Bsn,lCe)=>{d();var aT;if(typeof Yi=="function")try{aT=iT()}catch{}aT||(aT=window.graphlib);lCe.exports=aT});var fCe=j((Dsn,uCe)=>{d();var FTt=gj(),UTt=1,YTt=4;function HTt(e){return FTt(e,UTt|YTt)}a(HTt,"cloneDeep");uCe.exports=HTt});var A5=j((qsn,hCe)=>{d();var zTt=Qg(),QTt=sf(),WTt=l5(),VTt=fc();function jTt(e,t,r){if(!VTt(r))return!1;var n=typeof t;return(n=="number"?QTt(r)&&WTt(t,r.length):n=="string"&&t in r)?zTt(r[t],e):!1}a(jTt,"isIterateeCall");hCe.exports=jTt});var $j=j((Usn,pCe)=>{d();var GTt=_5(),KTt=Qg(),$Tt=A5(),XTt=tp(),dCe=Object.prototype,JTt=dCe.hasOwnProperty,ZTt=GTt(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&$Tt(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],o=XTt(s),l=-1,u=o.length;++l<u;){var f=o[l],h=e[f];(h===void 0||KTt(h,dCe[f])&&!JTt.call(e,f))&&(e[f]=s[f])}return e});pCe.exports=ZTt});var yCe=j((Hsn,gCe)=>{d();var eMt=of(),tMt=sf(),rMt=ed();function nMt(e){return function(t,r,n){var i=Object(t);if(!tMt(t)){var s=eMt(r,3);t=rMt(t),r=a(function(l){return s(i[l],l,i)},"predicate")}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}a(nMt,"createFind");gCe.exports=nMt});var bCe=j((Wsn,mCe)=>{d();var iMt=/\s/;function aMt(e){for(var t=e.length;t--&&iMt.test(e.charAt(t)););return t}a(aMt,"trimmedEndIndex");mCe.exports=aMt});var _Ce=j((Gsn,vCe)=>{d();var sMt=bCe(),oMt=/^\s+/;function cMt(e){return e&&e.slice(0,sMt(e)+1).replace(oMt,"")}a(cMt,"baseTrim");vCe.exports=cMt});var ECe=j((Xsn,ACe)=>{d();var lMt=_Ce(),xCe=fc(),uMt=$g(),wCe=0/0,fMt=/^[-+]0x[0-9a-f]+$/i,hMt=/^0b[01]+$/i,dMt=/^0o[0-7]+$/i,pMt=parseInt;function gMt(e){if(typeof e=="number")return e;if(uMt(e))return wCe;if(xCe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xCe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lMt(e);var r=hMt.test(e);return r||dMt.test(e)?pMt(e.slice(2),r?2:8):fMt.test(e)?wCe:+e}a(gMt,"toNumber");ACe.exports=gMt});var Xj=j((eon,kCe)=>{d();var yMt=ECe(),SCe=1/0,mMt=17976931348623157e292;function bMt(e){if(!e)return e===0?e:0;if(e=yMt(e),e===SCe||e===-SCe){var t=e<0?-1:1;return t*mMt}return e===e?e:0}a(bMt,"toFinite");kCe.exports=bMt});var ICe=j((non,CCe)=>{d();var vMt=Xj();function _Mt(e){var t=vMt(e),r=t%1;return t===t?r?t-r:t:0}a(_Mt,"toInteger");CCe.exports=_Mt});var MCe=j((son,TCe)=>{d();var xMt=Uj(),wMt=of(),AMt=ICe(),EMt=Math.max;function SMt(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:AMt(r);return i<0&&(i=EMt(n+i,0)),xMt(e,wMt(t,3),i)}a(SMt,"findIndex");TCe.exports=SMt});var RCe=j((lon,BCe)=>{d();var kMt=yCe(),CMt=MCe(),IMt=kMt(CMt);BCe.exports=IMt});var Jj=j((fon,LCe)=>{d();var TMt=JI();function MMt(e){var t=e==null?0:e.length;return t?TMt(e,1):[]}a(MMt,"flatten");LCe.exports=MMt});var NCe=j((pon,DCe)=>{d();var BMt=QI(),RMt=yj(),LMt=tp();function DMt(e,t){return e==null?e:BMt(e,RMt(t),LMt)}a(DMt,"forIn");DCe.exports=DMt});var qCe=j((mon,OCe)=>{d();function NMt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}a(NMt,"last");OCe.exports=NMt});var FCe=j((_on,PCe)=>{d();var OMt=s5(),qMt=WI(),PMt=of();function FMt(e,t){var r={};return t=PMt(t,3),qMt(e,function(n,i,s){OMt(r,i,t(n,i,s))}),r}a(FMt,"mapValues");PCe.exports=FMt});var sT=j((Aon,UCe)=>{d();var UMt=$g();function YMt(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!UMt(o):r(o,l)))var l=o,u=s}return u}a(YMt,"baseExtremum");UCe.exports=YMt});var HCe=j((kon,YCe)=>{d();function HMt(e,t){return e>t}a(HMt,"baseGt");YCe.exports=HMt});var QCe=j((Ton,zCe)=>{d();var zMt=sT(),QMt=HCe(),WMt=rp();function VMt(e){return e&&e.length?zMt(e,WMt,QMt):void 0}a(VMt,"max");zCe.exports=VMt});var Zj=j((Ron,WCe)=>{d();var jMt=s5(),GMt=Qg();function KMt(e,t,r){(r!==void 0&&!GMt(e[t],r)||r===void 0&&!(t in e))&&jMt(e,t,r)}a(KMt,"assignMergeValue");WCe.exports=KMt});var eG=j((Non,jCe)=>{d();var $Mt=Z0(),XMt=g5(),JMt=Vl(),ZMt="[object Object]",eBt=Function.prototype,tBt=Object.prototype,VCe=eBt.toString,rBt=tBt.hasOwnProperty,nBt=VCe.call(Object);function iBt(e){if(!JMt(e)||$Mt(e)!=ZMt)return!1;var t=XMt(e);if(t===null)return!0;var r=rBt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&VCe.call(r)==nBt}a(iBt,"isPlainObject");jCe.exports=iBt});var tG=j((Pon,GCe)=>{d();function aBt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}a(aBt,"safeGet");GCe.exports=aBt});var $Ce=j((Yon,KCe)=>{d();var sBt=tv(),oBt=tp();function cBt(e){return sBt(e,oBt(e))}a(cBt,"toPlainObject");KCe.exports=cBt});var r9e=j((Qon,t9e)=>{d();var XCe=Zj(),lBt=JV(),uBt=hj(),fBt=ZV(),hBt=pj(),JCe=rv(),ZCe=ia(),dBt=Hj(),pBt=jg(),gBt=Vg(),yBt=fc(),mBt=eG(),bBt=av(),e9e=tG(),vBt=$Ce();function _Bt(e,t,r,n,i,s,o){var l=e9e(e,r),u=e9e(t,r),f=o.get(u);if(f){XCe(e,r,f);return}var h=s?s(l,u,r+"",e,t,o):void 0,p=h===void 0;if(p){var g=ZCe(u),y=!g&&pBt(u),E=!g&&!y&&bBt(u);h=u,g||y||E?ZCe(l)?h=l:dBt(l)?h=fBt(l):y?(p=!1,h=lBt(u,!0)):E?(p=!1,h=uBt(u,!0)):h=[]:mBt(u)||JCe(u)?(h=l,JCe(l)?h=vBt(l):(!yBt(l)||gBt(l))&&(h=hBt(u))):p=!1}p&&(o.set(u,h),i(h,u,n,s,o),o.delete(u)),XCe(e,r,h)}a(_Bt,"baseMergeDeep");t9e.exports=_Bt});var a9e=j((jon,i9e)=>{d();var xBt=a5(),wBt=Zj(),ABt=QI(),EBt=r9e(),SBt=fc(),kBt=tp(),CBt=tG();function n9e(e,t,r,n,i){e!==t&&ABt(t,function(s,o){if(i||(i=new xBt),SBt(s))EBt(e,t,o,r,n9e,n,i);else{var l=n?n(CBt(e,o),s,o+"",e,t,i):void 0;l===void 0&&(l=s),wBt(e,o,l)}},kBt)}a(n9e,"baseMerge");i9e.exports=n9e});var o9e=j(($on,s9e)=>{d();var IBt=_5(),TBt=A5();function MBt(e){return IBt(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&TBt(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var l=r[n];l&&e(t,l,n,s)}return t})}a(MBt,"createAssigner");s9e.exports=MBt});var l9e=j((Zon,c9e)=>{d();var BBt=a9e(),RBt=o9e(),LBt=RBt(function(e,t,r){BBt(e,t,r)});c9e.exports=LBt});var rG=j((tcn,u9e)=>{d();function DBt(e,t){return e<t}a(DBt,"baseLt");u9e.exports=DBt});var h9e=j((icn,f9e)=>{d();var NBt=sT(),OBt=rG(),qBt=rp();function PBt(e){return e&&e.length?NBt(e,qBt,OBt):void 0}a(PBt,"min");f9e.exports=PBt});var p9e=j((ocn,d9e)=>{d();var FBt=sT(),UBt=of(),YBt=rG();function HBt(e,t){return e&&e.length?FBt(e,UBt(t,2),YBt):void 0}a(HBt,"minBy");d9e.exports=HBt});var y9e=j((ucn,g9e)=>{d();var zBt=tl(),QBt=a(function(){return zBt.Date.now()},"now");g9e.exports=QBt});var v9e=j((dcn,b9e)=>{d();var WBt=o5(),VBt=b5(),jBt=l5(),m9e=fc(),GBt=cv();function KBt(e,t,r,n){if(!m9e(e))return e;t=VBt(t,e);for(var i=-1,s=t.length,o=s-1,l=e;l!=null&&++i<s;){var u=GBt(t[i]),f=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=o){var h=l[u];f=n?n(h,u,l):void 0,f===void 0&&(f=m9e(h)?h:jBt(t[i+1])?[]:{})}WBt(l,u,f),l=l[u]}return e}a(KBt,"baseSet");b9e.exports=KBt});var x9e=j((ycn,_9e)=>{d();var $Bt=v5(),XBt=v9e(),JBt=b5();function ZBt(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],l=$Bt(e,o);r(l,o)&&XBt(s,JBt(o,e),l)}return s}a(ZBt,"basePickBy");_9e.exports=ZBt});var A9e=j((vcn,w9e)=>{d();var eRt=x9e(),tRt=Tj();function rRt(e,t){return eRt(e,t,function(r,n){return tRt(e,n)})}a(rRt,"basePick");w9e.exports=rRt});var S9e=j((wcn,E9e)=>{d();var nRt=Jj(),iRt=Pj(),aRt=Fj();function sRt(e){return aRt(iRt(e,void 0,nRt),e+"")}a(sRt,"flatRest");E9e.exports=sRt});var nG=j((Scn,k9e)=>{d();var oRt=A9e(),cRt=S9e(),lRt=cRt(function(e,t){return e==null?{}:oRt(e,t)});k9e.exports=lRt});var I9e=j((Ccn,C9e)=>{d();var uRt=Math.ceil,fRt=Math.max;function hRt(e,t,r,n){for(var i=-1,s=fRt(uRt((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}a(hRt,"baseRange");C9e.exports=hRt});var M9e=j((Mcn,T9e)=>{d();var dRt=I9e(),pRt=A5(),iG=Xj();function gRt(e){return function(t,r,n){return n&&typeof n!="number"&&pRt(t,r,n)&&(r=n=void 0),t=iG(t),r===void 0?(r=t,t=0):r=iG(r),n=n===void 0?t<r?1:-1:iG(n),dRt(t,r,n,e)}}a(gRt,"createRange");T9e.exports=gRt});var aG=j((Lcn,B9e)=>{d();var yRt=M9e(),mRt=yRt();B9e.exports=mRt});var L9e=j((Ncn,R9e)=>{d();function bRt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}a(bRt,"baseSortBy");R9e.exports=bRt});var O9e=j((Pcn,N9e)=>{d();var D9e=$g();function vRt(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=D9e(e),o=t!==void 0,l=t===null,u=t===t,f=D9e(t);if(!l&&!f&&!s&&e>t||s&&o&&u&&!l&&!f||n&&o&&u||!r&&u||!i)return 1;if(!n&&!s&&!f&&e<t||f&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!u)return-1}return 0}a(vRt,"compareAscending");N9e.exports=vRt});var P9e=j((Ycn,q9e)=>{d();var _Rt=O9e();function xRt(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var u=_Rt(i[n],s[n]);if(u){if(n>=l)return u;var f=r[n];return u*(f=="desc"?-1:1)}}return e.index-t.index}a(xRt,"compareMultiple");q9e.exports=xRt});var U9e=j((Qcn,F9e)=>{d();var sG=m5(),wRt=v5(),ARt=of(),ERt=Lj(),SRt=L9e(),kRt=u5(),CRt=P9e(),IRt=rp(),TRt=ia();function MRt(e,t,r){t.length?t=sG(t,function(s){return TRt(s)?function(o){return wRt(o,s.length===1?s[0]:s)}:s}):t=[IRt];var n=-1;t=sG(t,kRt(ARt));var i=ERt(e,function(s,o,l){var u=sG(t,function(f){return f(s)});return{criteria:u,index:++n,value:s}});return SRt(i,function(s,o){return CRt(s,o,r)})}a(MRt,"baseOrderBy");F9e.exports=MRt});var z9e=j((jcn,H9e)=>{d();var BRt=JI(),RRt=U9e(),LRt=_5(),Y9e=A5(),DRt=LRt(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Y9e(e,t[0],t[1])?t=[]:r>2&&Y9e(t[0],t[1],t[2])&&(t=[t[0]]),RRt(e,BRt(t,1),[])});H9e.exports=DRt});var oG=j((Kcn,Q9e)=>{d();var NRt=Cj(),ORt=0;function qRt(e){var t=++ORt;return NRt(e)+t}a(qRt,"uniqueId");Q9e.exports=qRt});var V9e=j((Jcn,W9e)=>{d();function PRt(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var l=n<s?t[n]:void 0;r(o,e[n],l)}return o}a(PRt,"baseZipObject");W9e.exports=PRt});var G9e=j((tln,j9e)=>{d();var FRt=o5(),URt=V9e();function YRt(e,t){return URt(e||[],t||[],FRt)}a(YRt,"zipObject");j9e.exports=YRt});var Bi=j((iln,K9e)=>{d();var oT;if(typeof Yi=="function")try{oT={cloneDeep:fCe(),constant:zI(),defaults:$j(),each:VI(),filter:Bj(),find:RCe(),flatten:Jj(),forEach:mj(),forIn:NCe(),has:XI(),isUndefined:Rj(),last:qCe(),map:Dj(),mapValues:FCe(),max:QCe(),merge:l9e(),min:h9e(),minBy:p9e(),now:y9e(),pick:nG(),range:aG(),reduce:Nj(),sortBy:z9e(),uniqueId:oG(),values:zj(),zipObject:G9e()}}catch{}oT||(oT=window._);K9e.exports=oT});var J9e=j((oln,X9e)=>{d();X9e.exports=cT;function cT(){var e={};e._next=e._prev=e,this._sentinel=e}a(cT,"List");cT.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return $9e(t),t};cT.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&$9e(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};cT.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,HRt)),r=r._prev;return"["+e.join(", ")+"]"};function $9e(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}a($9e,"unlink");function HRt(e,t){if(e!=="_next"&&e!=="_prev")return t}a(HRt,"filterOutLinks")});var eIe=j((uln,Z9e)=>{d();var td=Bi(),zRt=nl().Graph,QRt=J9e();Z9e.exports=VRt;var WRt=td.constant(1);function VRt(e,t){if(e.nodeCount()<=1)return[];var r=GRt(e,t||WRt),n=jRt(r.graph,r.buckets,r.zeroIdx);return td.flatten(td.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}a(VRt,"greedyFAS");function jRt(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)cG(e,t,r,o);for(;o=i.dequeue();)cG(e,t,r,o);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(o=t[l].dequeue(),o){n=n.concat(cG(e,t,r,o,!0));break}}}return n}a(jRt,"doGreedyFAS");function cG(e,t,r,n,i){var s=i?[]:void 0;return td.forEach(e.inEdges(n.v),function(o){var l=e.edge(o),u=e.node(o.v);i&&s.push({v:o.v,w:o.w}),u.out-=l,lG(t,r,u)}),td.forEach(e.outEdges(n.v),function(o){var l=e.edge(o),u=o.w,f=e.node(u);f.in-=l,lG(t,r,f)}),e.removeNode(n.v),s}a(cG,"removeNode");function GRt(e,t){var r=new zRt,n=0,i=0;td.forEach(e.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),td.forEach(e.edges(),function(l){var u=r.edge(l.v,l.w)||0,f=t(l),h=u+f;r.setEdge(l.v,l.w,h),i=Math.max(i,r.node(l.v).out+=f),n=Math.max(n,r.node(l.w).in+=f)});var s=td.range(i+n+3).map(function(){return new QRt}),o=n+1;return td.forEach(r.nodes(),function(l){lG(s,o,r.node(l))}),{graph:r,buckets:s,zeroIdx:o}}a(GRt,"buildState");function lG(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}a(lG,"assignBucket")});var rIe=j((dln,tIe)=>{"use strict";d();var Jg=Bi(),KRt=eIe();tIe.exports={run:$Rt,undo:JRt};function $Rt(e){var t=e.graph().acyclicer==="greedy"?KRt(e,r(e)):XRt(e);Jg.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Jg.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}a(r,"weightFn")}a($Rt,"run");function XRt(e){var t=[],r={},n={};function i(s){Jg.has(n,s)||(n[s]=!0,r[s]=!0,Jg.forEach(e.outEdges(s),function(o){Jg.has(r,o.w)?t.push(o):i(o.w)}),delete r[s])}return a(i,"dfs"),Jg.forEach(e.nodes(),i),t}a(XRt,"dfsFAS");function JRt(e){Jg.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}a(JRt,"undo")});var oo=j((yln,sIe)=>{"use strict";d();var Xn=Bi(),nIe=nl().Graph;sIe.exports={addDummyNode:iIe,simplify:ZRt,asNonCompoundGraph:eLt,successorWeights:tLt,predecessorWeights:rLt,intersectRect:nLt,buildLayerMatrix:iLt,normalizeRanks:aLt,removeEmptyRanks:sLt,addBorderNode:oLt,maxRank:aIe,partition:cLt,time:lLt,notime:uLt};function iIe(e,t,r,n){var i;do i=Xn.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}a(iIe,"addDummyNode");function ZRt(e){var t=new nIe().setGraph(e.graph());return Xn.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),Xn.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}a(ZRt,"simplify");function eLt(e){var t=new nIe({multigraph:e.isMultigraph()}).setGraph(e.graph());return Xn.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Xn.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}a(eLt,"asNonCompoundGraph");function tLt(e){var t=Xn.map(e.nodes(),function(r){var n={};return Xn.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return Xn.zipObject(e.nodes(),t)}a(tLt,"successorWeights");function rLt(e){var t=Xn.map(e.nodes(),function(r){var n={};return Xn.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return Xn.zipObject(e.nodes(),t)}a(rLt,"predecessorWeights");function nLt(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,l=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var u,f;return Math.abs(s)*o>Math.abs(i)*l?(s<0&&(l=-l),u=l*i/s,f=l):(i<0&&(o=-o),u=o,f=o*s/i),{x:r+u,y:n+f}}a(nLt,"intersectRect");function iLt(e){var t=Xn.map(Xn.range(aIe(e)+1),function(){return[]});return Xn.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;Xn.isUndefined(i)||(t[i][n.order]=r)}),t}a(iLt,"buildLayerMatrix");function aLt(e){var t=Xn.min(Xn.map(e.nodes(),function(r){return e.node(r).rank}));Xn.forEach(e.nodes(),function(r){var n=e.node(r);Xn.has(n,"rank")&&(n.rank-=t)})}a(aLt,"normalizeRanks");function sLt(e){var t=Xn.min(Xn.map(e.nodes(),function(s){return e.node(s).rank})),r=[];Xn.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=e.graph().nodeRankFactor;Xn.forEach(r,function(s,o){Xn.isUndefined(s)&&o%i!==0?--n:n&&Xn.forEach(s,function(l){e.node(l).rank+=n})})}a(sLt,"removeEmptyRanks");function oLt(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),iIe(e,"border",i,t)}a(oLt,"addBorderNode");function aIe(e){return Xn.max(Xn.map(e.nodes(),function(t){var r=e.node(t).rank;if(!Xn.isUndefined(r))return r}))}a(aIe,"maxRank");function cLt(e,t){var r={lhs:[],rhs:[]};return Xn.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}a(cLt,"partition");function lLt(e,t){var r=Xn.now();try{return t()}finally{console.log(e+" time: "+(Xn.now()-r)+"ms")}}a(lLt,"time");function uLt(e,t){return t()}a(uLt,"notime")});var lIe=j((vln,cIe)=>{"use strict";d();var oIe=Bi(),fLt=oo();cIe.exports={run:hLt,undo:pLt};function hLt(e){e.graph().dummyChains=[],oIe.forEach(e.edges(),function(t){dLt(e,t)})}a(hLt,"run");function dLt(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,o=t.name,l=e.edge(t),u=l.labelRank;if(s!==n+1){e.removeEdge(t);var f,h,p;for(p=0,++n;n<s;++p,++n)l.points=[],h={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},f=fLt.addDummyNode(e,"edge",h,"_d"),n===u&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),e.setEdge(r,f,{weight:l.weight},o),p===0&&e.graph().dummyChains.push(f),r=f;e.setEdge(r,i,{weight:l.weight},o)}}a(dLt,"normalizeEdge");function pLt(e){oIe.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}a(pLt,"undo")});var E5=j((wln,uIe)=>{"use strict";d();var lT=Bi();uIe.exports={longestPath:gLt,slack:yLt};function gLt(e){var t={};function r(n){var i=e.node(n);if(lT.has(t,n))return i.rank;t[n]=!0;var s=lT.min(lT.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}a(r,"dfs"),lT.forEach(e.sources(),r)}a(gLt,"longestPath");function yLt(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}a(yLt,"slack")});var uG=j((Sln,fIe)=>{"use strict";d();var uT=Bi(),mLt=nl().Graph,fT=E5().slack;fIe.exports=bLt;function bLt(e){var t=new mLt({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;vLt(t,e)<n;)i=_Lt(t,e),s=t.hasNode(i.v)?fT(e,i):-fT(e,i),xLt(t,e,s);return t}a(bLt,"feasibleTree");function vLt(e,t){function r(n){uT.forEach(t.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!e.hasNode(o)&&!fT(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return a(r,"dfs"),uT.forEach(e.nodes(),r),e.nodeCount()}a(vLt,"tightTree");function _Lt(e,t){return uT.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return fT(t,r)})}a(_Lt,"findMinSlackEdge");function xLt(e,t,r){uT.forEach(e.nodes(),function(n){t.node(n).rank+=r})}a(xLt,"shiftRanks")});var vIe=j((Iln,bIe)=>{"use strict";d();var rd=Bi(),wLt=uG(),ALt=E5().slack,ELt=E5().longestPath,SLt=nl().alg.preorder,kLt=nl().alg.postorder,CLt=oo().simplify;bIe.exports=Zg;Zg.initLowLimValues=hG;Zg.initCutValues=fG;Zg.calcCutValue=dIe;Zg.leaveEdge=gIe;Zg.enterEdge=yIe;Zg.exchangeEdges=mIe;function Zg(e){e=CLt(e),ELt(e);var t=wLt(e);hG(t),fG(t,e);for(var r,n;r=gIe(t);)n=yIe(t,e,r),mIe(t,e,r,n)}a(Zg,"networkSimplex");function fG(e,t){var r=kLt(e,e.nodes());r=r.slice(0,r.length-1),rd.forEach(r,function(n){ILt(e,t,n)})}a(fG,"initCutValues");function ILt(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=dIe(e,t,r)}a(ILt,"assignCutValue");function dIe(e,t,r){var n=e.node(r),i=n.parent,s=!0,o=t.edge(r,i),l=0;return o||(s=!1,o=t.edge(i,r)),l=o.weight,rd.forEach(t.nodeEdges(r),function(u){var f=u.v===r,h=f?u.w:u.v;if(h!==i){var p=f===s,g=t.edge(u).weight;if(l+=p?g:-g,MLt(e,r,h)){var y=e.edge(r,h).cutvalue;l+=p?-y:y}}}),l}a(dIe,"calcCutValue");function hG(e,t){arguments.length<2&&(t=e.nodes()[0]),pIe(e,{},1,t)}a(hG,"initLowLimValues");function pIe(e,t,r,n,i){var s=r,o=e.node(n);return t[n]=!0,rd.forEach(e.neighbors(n),function(l){rd.has(t,l)||(r=pIe(e,t,r,l,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}a(pIe,"dfsAssignLowLim");function gIe(e){return rd.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}a(gIe,"leaveEdge");function yIe(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),o=e.node(i),l=s,u=!1;s.lim>o.lim&&(l=o,u=!0);var f=rd.filter(t.edges(),function(h){return u===hIe(e,e.node(h.v),l)&&u!==hIe(e,e.node(h.w),l)});return rd.minBy(f,function(h){return ALt(t,h)})}a(yIe,"enterEdge");function mIe(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),hG(e),fG(e,t),TLt(e,t)}a(mIe,"exchangeEdges");function TLt(e,t){var r=rd.find(e.nodes(),function(i){return!t.node(i).parent}),n=SLt(e,r);n=n.slice(1),rd.forEach(n,function(i){var s=e.node(i).parent,o=t.edge(i,s),l=!1;o||(o=t.edge(s,i),l=!0),t.node(i).rank=t.node(s).rank+(l?o.minlen:-o.minlen)})}a(TLt,"updateRanks");function MLt(e,t,r){return e.hasEdge(t,r)}a(MLt,"isTreeEdge");function hIe(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}a(hIe,"isDescendant")});var AIe=j((Bln,wIe)=>{"use strict";d();var BLt=E5(),xIe=BLt.longestPath,RLt=uG(),LLt=vIe();wIe.exports=DLt;function DLt(e){switch(e.graph().ranker){case"network-simplex":_Ie(e);break;case"tight-tree":OLt(e);break;case"longest-path":NLt(e);break;default:_Ie(e)}}a(DLt,"rank");var NLt=xIe;function OLt(e){xIe(e),RLt(e)}a(OLt,"tightTreeRanker");function _Ie(e){LLt(e)}a(_Ie,"networkSimplexRanker")});var SIe=j((Dln,EIe)=>{d();var dG=Bi();EIe.exports=qLt;function qLt(e){var t=FLt(e);dG.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=PLt(e,t,i.v,i.w),o=s.path,l=s.lca,u=0,f=o[u],h=!0;r!==i.w;){if(n=e.node(r),h){for(;(f=o[u])!==l&&e.node(f).maxRank<n.rank;)u++;f===l&&(h=!1)}if(!h){for(;u<o.length-1&&e.node(f=o[u+1]).minRank<=n.rank;)u++;f=o[u]}e.setParent(r,f),r=e.successors(r)[0]}})}a(qLt,"parentDummyChains");function PLt(e,t,r,n){var i=[],s=[],o=Math.min(t[r].low,t[n].low),l=Math.max(t[r].lim,t[n].lim),u,f;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>o||l>t[u].lim));for(f=u,u=n;(u=e.parent(u))!==f;)s.push(u);return{path:i.concat(s.reverse()),lca:f}}a(PLt,"findPath");function FLt(e){var t={},r=0;function n(i){var s=r;dG.forEach(e.children(i),n),t[i]={low:s,lim:r++}}return a(n,"dfs"),dG.forEach(e.children(),n),t}a(FLt,"postorder")});var IIe=j((qln,CIe)=>{d();var nd=Bi(),pG=oo();CIe.exports={run:ULt,cleanup:zLt};function ULt(e){var t=pG.addDummyNode(e,"root",{},"_root"),r=YLt(e),n=nd.max(nd.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,nd.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=HLt(e)+1;nd.forEach(e.children(),function(o){kIe(e,t,i,s,n,r,o)}),e.graph().nodeRankFactor=i}a(ULt,"run");function kIe(e,t,r,n,i,s,o){var l=e.children(o);if(!l.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var u=pG.addBorderNode(e,"_bt"),f=pG.addBorderNode(e,"_bb"),h=e.node(o);e.setParent(u,o),h.borderTop=u,e.setParent(f,o),h.borderBottom=f,nd.forEach(l,function(p){kIe(e,t,r,n,i,s,p);var g=e.node(p),y=g.borderTop?g.borderTop:p,E=g.borderBottom?g.borderBottom:p,M=g.borderTop?n:2*n,z=y!==E?1:i-s[o]+1;e.setEdge(u,y,{weight:M,minlen:z,nestingEdge:!0}),e.setEdge(E,f,{weight:M,minlen:z,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,u,{weight:0,minlen:i+s[o]})}a(kIe,"dfs");function YLt(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&nd.forEach(s,function(o){r(o,i+1)}),t[n]=i}return a(r,"dfs"),nd.forEach(e.children(),function(n){r(n,1)}),t}a(YLt,"treeDepths");function HLt(e){return nd.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}a(HLt,"sumWeights");function zLt(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,nd.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}a(zLt,"cleanup")});var BIe=j((Uln,MIe)=>{d();var gG=Bi(),QLt=oo();MIe.exports=WLt;function WLt(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&gG.forEach(n,t),gG.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)TIe(e,"borderLeft","_bl",r,i,s),TIe(e,"borderRight","_br",r,i,s)}}a(t,"dfs"),gG.forEach(e.children(),t)}a(WLt,"addBorderSegments");function TIe(e,t,r,n,i,s){var o={width:0,height:0,rank:s,borderType:t},l=i[t][s-1],u=QLt.addDummyNode(e,"border",o,r);i[t][s]=u,e.setParent(u,n),l&&e.setEdge(l,u,{weight:1})}a(TIe,"addBorderNode")});var NIe=j((zln,DIe)=>{"use strict";d();var lf=Bi();DIe.exports={adjust:VLt,undo:jLt};function VLt(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&LIe(e)}a(VLt,"adjust");function jLt(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&GLt(e),(t==="lr"||t==="rl")&&(KLt(e),LIe(e))}a(jLt,"undo");function LIe(e){lf.forEach(e.nodes(),function(t){RIe(e.node(t))}),lf.forEach(e.edges(),function(t){RIe(e.edge(t))})}a(LIe,"swapWidthHeight");function RIe(e){var t=e.width;e.width=e.height,e.height=t}a(RIe,"swapWidthHeightOne");function GLt(e){lf.forEach(e.nodes(),function(t){yG(e.node(t))}),lf.forEach(e.edges(),function(t){var r=e.edge(t);lf.forEach(r.points,yG),lf.has(r,"y")&&yG(r)})}a(GLt,"reverseY");function yG(e){e.y=-e.y}a(yG,"reverseYOne");function KLt(e){lf.forEach(e.nodes(),function(t){mG(e.node(t))}),lf.forEach(e.edges(),function(t){var r=e.edge(t);lf.forEach(r.points,mG),lf.has(r,"x")&&mG(r)})}a(KLt,"swapXY");function mG(e){var t=e.x;e.x=e.y,e.y=t}a(mG,"swapXYOne")});var qIe=j((Vln,OIe)=>{"use strict";d();var id=Bi();OIe.exports=$Lt;function $Lt(e){var t={},r=id.filter(e.nodes(),function(l){return!e.children(l).length}),n=id.max(id.map(r,function(l){return e.node(l).rank})),i=id.map(id.range(n+1),function(){return[]});function s(l){if(!id.has(t,l)){t[l]=!0;var u=e.node(l);i[u.rank].push(l),id.forEach(e.successors(l),s)}}a(s,"dfs");var o=id.sortBy(r,function(l){return e.node(l).rank});return id.forEach(o,s),i}a($Lt,"initOrder")});var FIe=j((Kln,PIe)=>{"use strict";d();var np=Bi();PIe.exports=XLt;function XLt(e,t){for(var r=0,n=1;n<t.length;++n)r+=JLt(e,t[n-1],t[n]);return r}a(XLt,"crossCount");function JLt(e,t,r){for(var n=np.zipObject(r,np.map(r,function(f,h){return h})),i=np.flatten(np.map(t,function(f){return np.sortBy(np.map(e.outEdges(f),function(h){return{pos:n[h.w],weight:e.edge(h).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var l=np.map(new Array(o),function(){return 0}),u=0;return np.forEach(i.forEach(function(f){var h=f.pos+s;l[h]+=f.weight;for(var p=0;h>0;)h%2&&(p+=l[h+1]),h=h-1>>1,l[h]+=f.weight;u+=f.weight*p})),u}a(JLt,"twoLayerCrossCount")});var HIe=j((Jln,YIe)=>{d();var UIe=Bi();YIe.exports=ZLt;function ZLt(e,t){return UIe.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=UIe.reduce(n,function(s,o){var l=e.edge(o),u=e.node(o.v);return{sum:s.sum+l.weight*u.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}a(ZLt,"barycenter")});var QIe=j((tun,zIe)=>{"use strict";d();var dc=Bi();zIe.exports=eDt;function eDt(e,t){var r={};dc.forEach(e,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};dc.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),dc.forEach(t.edges(),function(i){var s=r[i.v],o=r[i.w];!dc.isUndefined(s)&&!dc.isUndefined(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=dc.filter(r,function(i){return!i.indegree});return tDt(n)}a(eDt,"resolveConflicts");function tDt(e){var t=[];function r(s){return function(o){o.merged||(dc.isUndefined(o.barycenter)||dc.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&rDt(s,o)}}a(r,"handleIn");function n(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(a(n,"handleOut");e.length;){var i=e.pop();t.push(i),dc.forEach(i.in.reverse(),r(i)),dc.forEach(i.out,n(i))}return dc.map(dc.filter(t,function(s){return!s.merged}),function(s){return dc.pick(s,["vs","i","barycenter","weight"])})}a(tDt,"doResolveConflicts");function rDt(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}a(rDt,"mergeEntries")});var jIe=j((iun,VIe)=>{d();var S5=Bi(),nDt=oo();VIe.exports=iDt;function iDt(e,t){var r=nDt.partition(e,function(h){return S5.has(h,"barycenter")}),n=r.lhs,i=S5.sortBy(r.rhs,function(h){return-h.i}),s=[],o=0,l=0,u=0;n.sort(aDt(!!t)),u=WIe(s,i,u),S5.forEach(n,function(h){u+=h.vs.length,s.push(h.vs),o+=h.barycenter*h.weight,l+=h.weight,u=WIe(s,i,u)});var f={vs:S5.flatten(s,!0)};return l&&(f.barycenter=o/l,f.weight=l),f}a(iDt,"sort");function WIe(e,t,r){for(var n;t.length&&(n=S5.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}a(WIe,"consumeUnsortable");function aDt(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}a(aDt,"compareWithBias")});var $Ie=j((oun,KIe)=>{d();var ip=Bi(),sDt=HIe(),oDt=QIe(),cDt=jIe();KIe.exports=GIe;function GIe(e,t,r,n){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,l=s?s.borderRight:void 0,u={};o&&(i=ip.filter(i,function(E){return E!==o&&E!==l}));var f=sDt(e,i);ip.forEach(f,function(E){if(e.children(E.v).length){var M=GIe(e,E.v,r,n);u[E.v]=M,ip.has(M,"barycenter")&&uDt(E,M)}});var h=oDt(f,r);lDt(h,u);var p=cDt(h,n);if(o&&(p.vs=ip.flatten([o,p.vs,l],!0),e.predecessors(o).length)){var g=e.node(e.predecessors(o)[0]),y=e.node(e.predecessors(l)[0]);ip.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+y.order)/(p.weight+2),p.weight+=2}return p}a(GIe,"sortSubgraph");function lDt(e,t){ip.forEach(e,function(r){r.vs=ip.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}a(lDt,"expandSubgraphs");function uDt(e,t){ip.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}a(uDt,"mergeBarycenters")});var JIe=j((uun,XIe)=>{d();var k5=Bi(),fDt=nl().Graph;XIe.exports=hDt;function hDt(e,t,r){var n=dDt(e),i=new fDt({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return k5.forEach(e.nodes(),function(s){var o=e.node(s),l=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,l||n),k5.forEach(e[r](s),function(u){var f=u.v===s?u.w:u.v,h=i.edge(f,s),p=k5.isUndefined(h)?0:h.weight;i.setEdge(f,s,{weight:e.edge(u).weight+p})}),k5.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}a(hDt,"buildLayerGraph");function dDt(e){for(var t;e.hasNode(t=k5.uniqueId("_root")););return t}a(dDt,"createRootNode")});var eTe=j((dun,ZIe)=>{d();var pDt=Bi();ZIe.exports=gDt;function gDt(e,t,r){var n={},i;pDt.forEach(r,function(s){for(var o=e.parent(s),l,u;o;){if(l=e.parent(o),l?(u=n[l],n[l]=o):(u=i,i=o),u&&u!==o){t.setEdge(u,o);return}o=l}})}a(gDt,"addSubgraphConstraints")});var aTe=j((yun,iTe)=>{"use strict";d();var ap=Bi(),yDt=qIe(),mDt=FIe(),bDt=$Ie(),vDt=JIe(),_Dt=eTe(),xDt=nl().Graph,tTe=oo();iTe.exports=wDt;function wDt(e){var t=tTe.maxRank(e),r=rTe(e,ap.range(1,t+1),"inEdges"),n=rTe(e,ap.range(t-1,-1,-1),"outEdges"),i=yDt(e);nTe(e,i);for(var s=Number.POSITIVE_INFINITY,o,l=0,u=0;u<4;++l,++u){ADt(l%2?r:n,l%4>=2),i=tTe.buildLayerMatrix(e);var f=mDt(e,i);f<s&&(u=0,o=ap.cloneDeep(i),s=f)}nTe(e,o)}a(wDt,"order");function rTe(e,t,r){return ap.map(t,function(n){return vDt(e,n,r)})}a(rTe,"buildLayerGraphs");function ADt(e,t){var r=new xDt;ap.forEach(e,function(n){var i=n.graph().root,s=bDt(n,i,r,t);ap.forEach(s.vs,function(o,l){n.node(o).order=l}),_Dt(n,r,s.vs)})}a(ADt,"sweepLayerGraphs");function nTe(e,t){ap.forEach(t,function(r){ap.forEach(r,function(n,i){e.node(n).order=i})})}a(nTe,"assignOrder")});var gTe=j((vun,pTe)=>{"use strict";d();var Zr=Bi(),EDt=nl().Graph,SDt=oo();pTe.exports={positionX:IDt,findType1Conflicts:sTe,findType2Conflicts:oTe,addConflict:bG,hasConflict:cTe,verticalAlignment:lTe,horizontalCompaction:uTe,alignCoordinates:hTe,findSmallestWidthAlignment:fTe,balance:dTe};function sTe(e,t){var r={};function n(i,s){var o=0,l=0,u=i.length,f=Zr.last(s);return Zr.forEach(s,function(h,p){var g=kDt(e,h),y=g?e.node(g).order:u;(g||h===f)&&(Zr.forEach(s.slice(l,p+1),function(E){Zr.forEach(e.predecessors(E),function(M){var z=e.node(M),P=z.order;(P<o||y<P)&&!(z.dummy&&e.node(E).dummy)&&bG(r,M,E)})}),l=p+1,o=y)}),s}return a(n,"visitLayer"),Zr.reduce(t,n),r}a(sTe,"findType1Conflicts");function oTe(e,t){var r={};function n(s,o,l,u,f){var h;Zr.forEach(Zr.range(o,l),function(p){h=s[p],e.node(h).dummy&&Zr.forEach(e.predecessors(h),function(g){var y=e.node(g);y.dummy&&(y.order<u||y.order>f)&&bG(r,g,h)})})}a(n,"scan");function i(s,o){var l=-1,u,f=0;return Zr.forEach(o,function(h,p){if(e.node(h).dummy==="border"){var g=e.predecessors(h);g.length&&(u=e.node(g[0]).order,n(o,f,p,l,u),f=p,l=u)}n(o,f,o.length,u,s.length)}),o}return a(i,"visitLayer"),Zr.reduce(t,i),r}a(oTe,"findType2Conflicts");function kDt(e,t){if(e.node(t).dummy)return Zr.find(e.predecessors(t),function(r){return e.node(r).dummy})}a(kDt,"findOtherInnerSegmentNode");function bG(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}a(bG,"addConflict");function cTe(e,t,r){if(t>r){var n=t;t=r,r=n}return Zr.has(e[t],r)}a(cTe,"hasConflict");function lTe(e,t,r,n){var i={},s={},o={};return Zr.forEach(t,function(l){Zr.forEach(l,function(u,f){i[u]=u,s[u]=u,o[u]=f})}),Zr.forEach(t,function(l){var u=-1;Zr.forEach(l,function(f){var h=n(f);if(h.length){h=Zr.sortBy(h,function(M){return o[M]});for(var p=(h.length-1)/2,g=Math.floor(p),y=Math.ceil(p);g<=y;++g){var E=h[g];s[f]===f&&u<o[E]&&!cTe(r,f,E)&&(s[E]=f,s[f]=i[f]=i[E],u=o[E])}}})}),{root:i,align:s}}a(lTe,"verticalAlignment");function uTe(e,t,r,n,i){var s={},o=CDt(e,t,r,i),l=i?"borderLeft":"borderRight";function u(p,g){for(var y=o.nodes(),E=y.pop(),M={};E;)M[E]?p(E):(M[E]=!0,y.push(E),y=y.concat(g(E))),E=y.pop()}a(u,"iterate");function f(p){s[p]=o.inEdges(p).reduce(function(g,y){return Math.max(g,s[y.v]+o.edge(y))},0)}a(f,"pass1");function h(p){var g=o.outEdges(p).reduce(function(E,M){return Math.min(E,s[M.w]-o.edge(M))},Number.POSITIVE_INFINITY),y=e.node(p);g!==Number.POSITIVE_INFINITY&&y.borderType!==l&&(s[p]=Math.max(s[p],g))}return a(h,"pass2"),u(f,o.predecessors.bind(o)),u(h,o.successors.bind(o)),Zr.forEach(n,function(p){s[p]=s[r[p]]}),s}a(uTe,"horizontalCompaction");function CDt(e,t,r,n){var i=new EDt,s=e.graph(),o=TDt(s.nodesep,s.edgesep,n);return Zr.forEach(t,function(l){var u;Zr.forEach(l,function(f){var h=r[f];if(i.setNode(h),u){var p=r[u],g=i.edge(p,h);i.setEdge(p,h,Math.max(o(e,f,u),g||0))}u=f})}),i}a(CDt,"buildBlockGraph");function fTe(e,t){return Zr.minBy(Zr.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Zr.forIn(r,function(s,o){var l=MDt(e,o)/2;n=Math.max(s+l,n),i=Math.min(s-l,i)}),n-i})}a(fTe,"findSmallestWidthAlignment");function hTe(e,t){var r=Zr.values(t),n=Zr.min(r),i=Zr.max(r);Zr.forEach(["u","d"],function(s){Zr.forEach(["l","r"],function(o){var l=s+o,u=e[l],f;if(u!==t){var h=Zr.values(u);f=o==="l"?n-Zr.min(h):i-Zr.max(h),f&&(e[l]=Zr.mapValues(u,function(p){return p+f}))}})})}a(hTe,"alignCoordinates");function dTe(e,t){return Zr.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=Zr.sortBy(Zr.map(e,n));return(i[1]+i[2])/2})}a(dTe,"balance");function IDt(e){var t=SDt.buildLayerMatrix(e),r=Zr.merge(sTe(e,t),oTe(e,t)),n={},i;Zr.forEach(["u","d"],function(o){i=o==="u"?t:Zr.values(t).reverse(),Zr.forEach(["l","r"],function(l){l==="r"&&(i=Zr.map(i,function(p){return Zr.values(p).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),f=lTe(e,i,r,u),h=uTe(e,i,f.root,f.align,l==="r");l==="r"&&(h=Zr.mapValues(h,function(p){return-p})),n[o+l]=h})});var s=fTe(e,n);return hTe(n,s),dTe(n,e.graph().align)}a(IDt,"positionX");function TDt(e,t,r){return function(n,i,s){var o=n.node(i),l=n.node(s),u=0,f;if(u+=o.width/2,Zr.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":f=-o.width/2;break;case"r":f=o.width/2;break}if(f&&(u+=r?f:-f),f=0,u+=(o.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,Zr.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":f=l.width/2;break;case"r":f=-l.width/2;break}return f&&(u+=r?f:-f),f=0,u}}a(TDt,"sep");function MDt(e,t){return e.node(t).width}a(MDt,"width")});var bTe=j((wun,mTe)=>{"use strict";d();var C5=Bi(),yTe=oo(),BDt=gTe().positionX;mTe.exports=RDt;function RDt(e){e=yTe.asNonCompoundGraph(e),LDt(e),C5.forEach(BDt(e),function(t,r){e.node(r).x=t})}a(RDt,"position");function LDt(e){var t=yTe.buildLayerMatrix(e),r=e.graph().ranksep,n=0;C5.forEach(t,function(i){var s=C5.max(C5.map(i,function(o){return e.node(o).height}));C5.forEach(i,function(o){e.node(o).y=n+s/2}),n+=s+r})}a(LDt,"positionY")});var ETe=j((Sun,ATe)=>{"use strict";d();var ln=Bi(),vTe=rIe(),_Te=lIe(),DDt=AIe(),NDt=oo().normalizeRanks,ODt=SIe(),qDt=oo().removeEmptyRanks,xTe=IIe(),PDt=BIe(),wTe=NIe(),FDt=aTe(),UDt=bTe(),sp=oo(),YDt=nl().Graph;ATe.exports=HDt;function HDt(e,t){var r=t&&t.debugTiming?sp.time:sp.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return ZDt(e)});r("  runLayout",function(){zDt(n,r)}),r("  updateInputGraph",function(){QDt(e,n)})})}a(HDt,"layout");function zDt(e,t){t("    makeSpaceForEdgeLabels",function(){eNt(e)}),t("    removeSelfEdges",function(){lNt(e)}),t("    acyclic",function(){vTe.run(e)}),t("    nestingGraph.run",function(){xTe.run(e)}),t("    rank",function(){DDt(sp.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){tNt(e)}),t("    removeEmptyRanks",function(){qDt(e)}),t("    nestingGraph.cleanup",function(){xTe.cleanup(e)}),t("    normalizeRanks",function(){NDt(e)}),t("    assignRankMinMax",function(){rNt(e)}),t("    removeEdgeLabelProxies",function(){nNt(e)}),t("    normalize.run",function(){_Te.run(e)}),t("    parentDummyChains",function(){ODt(e)}),t("    addBorderSegments",function(){PDt(e)}),t("    order",function(){FDt(e)}),t("    insertSelfEdges",function(){uNt(e)}),t("    adjustCoordinateSystem",function(){wTe.adjust(e)}),t("    position",function(){UDt(e)}),t("    positionSelfEdges",function(){fNt(e)}),t("    removeBorderNodes",function(){cNt(e)}),t("    normalize.undo",function(){_Te.undo(e)}),t("    fixupEdgeLabelCoords",function(){sNt(e)}),t("    undoCoordinateSystem",function(){wTe.undo(e)}),t("    translateGraph",function(){iNt(e)}),t("    assignNodeIntersects",function(){aNt(e)}),t("    reversePoints",function(){oNt(e)}),t("    acyclic.undo",function(){vTe.undo(e)})}a(zDt,"runLayout");function QDt(e,t){ln.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),ln.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,ln.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}a(QDt,"updateInputGraph");var WDt=["nodesep","edgesep","ranksep","marginx","marginy"],VDt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jDt=["acyclicer","ranker","rankdir","align"],GDt=["width","height"],KDt={width:0,height:0},$Dt=["minlen","weight","width","height","labeloffset"],XDt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},JDt=["labelpos"];function ZDt(e){var t=new YDt({multigraph:!0,compound:!0}),r=_G(e.graph());return t.setGraph(ln.merge({},VDt,vG(r,WDt),ln.pick(r,jDt))),ln.forEach(e.nodes(),function(n){var i=_G(e.node(n));t.setNode(n,ln.defaults(vG(i,GDt),KDt)),t.setParent(n,e.parent(n))}),ln.forEach(e.edges(),function(n){var i=_G(e.edge(n));t.setEdge(n,ln.merge({},XDt,vG(i,$Dt),ln.pick(i,JDt)))}),t}a(ZDt,"buildLayoutGraph");function eNt(e){var t=e.graph();t.ranksep/=2,ln.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}a(eNt,"makeSpaceForEdgeLabels");function tNt(e){ln.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};sp.addDummyNode(e,"edge-proxy",s,"_ep")}})}a(tNt,"injectEdgeLabelProxies");function rNt(e){var t=0;ln.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=ln.max(t,n.maxRank))}),e.graph().maxRank=t}a(rNt,"assignRankMinMax");function nNt(e){ln.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}a(nNt,"removeEdgeLabelProxies");function iNt(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,l=s.marginy||0;function u(f){var h=f.x,p=f.y,g=f.width,y=f.height;t=Math.min(t,h-g/2),r=Math.max(r,h+g/2),n=Math.min(n,p-y/2),i=Math.max(i,p+y/2)}a(u,"getExtremes"),ln.forEach(e.nodes(),function(f){u(e.node(f))}),ln.forEach(e.edges(),function(f){var h=e.edge(f);ln.has(h,"x")&&u(h)}),t-=o,n-=l,ln.forEach(e.nodes(),function(f){var h=e.node(f);h.x-=t,h.y-=n}),ln.forEach(e.edges(),function(f){var h=e.edge(f);ln.forEach(h.points,function(p){p.x-=t,p.y-=n}),ln.has(h,"x")&&(h.x-=t),ln.has(h,"y")&&(h.y-=n)}),s.width=r-t+o,s.height=i-n+l}a(iNt,"translateGraph");function aNt(e){ln.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(sp.intersectRect(n,s)),r.points.push(sp.intersectRect(i,o))})}a(aNt,"assignNodeIntersects");function sNt(e){ln.forEach(e.edges(),function(t){var r=e.edge(t);if(ln.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}a(sNt,"fixupEdgeLabelCoords");function oNt(e){ln.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}a(oNt,"reversePointsForReversedEdges");function cNt(e){ln.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(ln.last(r.borderLeft)),o=e.node(ln.last(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),ln.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}a(cNt,"removeBorderNodes");function lNt(e){ln.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}a(lNt,"removeSelfEdges");function uNt(e){var t=sp.buildLayerMatrix(e);ln.forEach(t,function(r){var n=0;ln.forEach(r,function(i,s){var o=e.node(i);o.order=s+n,ln.forEach(o.selfEdges,function(l){sp.addDummyNode(e,"selfedge",{width:l.label.width,height:l.label.height,rank:o.rank,order:s+ ++n,e:l.e,label:l.label},"_se")}),delete o.selfEdges})})}a(uNt,"insertSelfEdges");function fNt(e){ln.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,l=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:s-l},{x:i+5*o/6,y:s-l},{x:i+o,y:s},{x:i+5*o/6,y:s+l},{x:i+2*o/3,y:s+l}],r.label.x=r.x,r.label.y=r.y}})}a(fNt,"positionSelfEdges");function vG(e,t){return ln.mapValues(ln.pick(e,t),Number)}a(vG,"selectNumberAttrs");function _G(e){var t={};return ln.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}a(_G,"canonicalize")});var kTe=j((Iun,STe)=>{d();var hT=Bi(),hNt=oo(),dNt=nl().Graph;STe.exports={debugOrdering:pNt};function pNt(e){var t=hNt.buildLayerMatrix(e),r=new dNt({compound:!0,multigraph:!0}).setGraph({});return hT.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),hT.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),hT.forEach(t,function(n,i){var s="layer"+i;r.setNode(s,{rank:"same"}),hT.reduce(n,function(o,l){return r.setEdge(o,l,{style:"invis"}),l})}),r}a(pNt,"debugOrdering")});var ITe=j((Bun,CTe)=>{d();CTe.exports="0.8.5"});var xG=j((Lun,TTe)=>{d();TTe.exports={graphlib:nl(),layout:ETe(),debug:kTe(),util:{time:oo().time,notime:oo().notime},version:ITe()}});var RTe=j((Jun,BTe)=>{d();var pT;if(typeof Yi=="function")try{pT=iT()}catch{}pT||(pT=window.graphlib);BTe.exports=pT});var SG=j((tfn,LTe)=>{d();var gT;if(typeof Yi=="function")try{gT=xG()}catch{}gT||(gT=window.dagre);LTe.exports=gT});var kG=j((ifn,DTe)=>{d();DTe.exports=bNt;function bNt(e,t){return e.intersect(t)}a(bNt,"intersectNode")});var yT=j((ofn,NTe)=>{d();NTe.exports=vNt;function vNt(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,l=s-n.y,u=Math.sqrt(t*t*l*l+r*r*o*o),f=Math.abs(t*r*o/u);n.x<i&&(f=-f);var h=Math.abs(t*r*l/u);return n.y<s&&(h=-h),{x:i+f,y:s+h}}a(vNt,"intersectEllipse")});var CG=j((ufn,OTe)=>{d();var _Nt=yT();OTe.exports=xNt;function xNt(e,t,r){return _Nt(e,t,t,r)}a(xNt,"intersectCircle")});var FTe=j((dfn,PTe)=>{d();PTe.exports=wNt;function wNt(e,t,r,n){var i,s,o,l,u,f,h,p,g,y,E,M,z,P,Q;if(i=t.y-e.y,o=e.x-t.x,u=t.x*e.y-e.x*t.y,g=i*r.x+o*r.y+u,y=i*n.x+o*n.y+u,!(g!==0&&y!==0&&qTe(g,y))&&(s=n.y-r.y,l=r.x-n.x,f=n.x*r.y-r.x*n.y,h=s*e.x+l*e.y+f,p=s*t.x+l*t.y+f,!(h!==0&&p!==0&&qTe(h,p))&&(E=i*l-s*o,E!==0)))return M=Math.abs(E/2),z=o*f-l*u,P=z<0?(z-M)/E:(z+M)/E,z=s*u-i*f,Q=z<0?(z-M)/E:(z+M)/E,{x:P,y:Q}}a(wNt,"intersectLine");function qTe(e,t){return e*t>0}a(qTe,"sameSign")});var IG=j((yfn,UTe)=>{d();var ANt=FTe();UTe.exports=ENt;function ENt(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;t.forEach(function(E){o=Math.min(o,E.x),l=Math.min(l,E.y)});for(var u=n-e.width/2-o,f=i-e.height/2-l,h=0;h<t.length;h++){var p=t[h],g=t[h<t.length-1?h+1:0],y=ANt(e,r,{x:u+p.x,y:f+p.y},{x:u+g.x,y:f+g.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(E,M){var z=E.x-r.x,P=E.y-r.y,Q=Math.sqrt(z*z+P*P),V=M.x-r.x,W=M.y-r.y,F=Math.sqrt(V*V+W*W);return Q<F?-1:Q===F?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}a(ENt,"intersectPolygon")});var TG=j((vfn,YTe)=>{d();YTe.exports=SNt;function SNt(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,l=e.height/2,u,f;return Math.abs(s)*o>Math.abs(i)*l?(s<0&&(l=-l),u=s===0?0:l*i/s,f=l):(i<0&&(o=-o),u=o,f=i===0?0:o*s/i),{x:r+u,y:n+f}}a(SNt,"intersectRect")});var zTe=j((wfn,HTe)=>{d();HTe.exports={node:kG(),circle:CG(),ellipse:yT(),polygon:IG(),rect:TG()}});var ey=j((Efn,QTe)=>{d();var mT;if(typeof Yi=="function")try{mT={defaults:$j(),each:VI(),isFunction:Vg(),isPlainObject:eG(),pick:nG(),has:XI(),range:aG(),uniqueId:oG()}}catch{}mT||(mT=window._);QTe.exports=mT});var lv=j((bT,WTe)=>{d();(function(e,t){typeof bT=="object"&&typeof WTe<"u"?t(bT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(bT,function(e){"use strict";function t(Y,D){return Y<D?-1:Y>D?1:Y>=D?0:NaN}a(t,"ascending");function r(Y){return Y.length===1&&(Y=n(Y)),{left:function(D,J,q,I){for(q==null&&(q=0),I==null&&(I=D.length);q<I;){var H=q+I>>>1;Y(D[H],J)<0?q=H+1:I=H}return q},right:function(D,J,q,I){for(q==null&&(q=0),I==null&&(I=D.length);q<I;){var H=q+I>>>1;Y(D[H],J)>0?I=H:q=H+1}return q}}}a(r,"bisector");function n(Y){return function(D,J){return t(Y(D),J)}}a(n,"ascendingComparator");var i=r(t),s=i.right,o=i.left;function l(Y,D){D==null&&(D=u);for(var J=0,q=Y.length-1,I=Y[0],H=new Array(q<0?0:q);J<q;)H[J]=D(I,I=Y[++J]);return H}a(l,"pairs");function u(Y,D){return[Y,D]}a(u,"pair");function f(Y,D,J){var q=Y.length,I=D.length,H=new Array(q*I),te,ie,he,De;for(J==null&&(J=u),te=he=0;te<q;++te)for(De=Y[te],ie=0;ie<I;++ie,++he)H[he]=J(De,D[ie]);return H}a(f,"cross");function h(Y,D){return D<Y?-1:D>Y?1:D>=Y?0:NaN}a(h,"descending");function p(Y){return Y===null?NaN:+Y}a(p,"number");function g(Y,D){var J=Y.length,q=0,I=-1,H=0,te,ie,he=0;if(D==null)for(;++I<J;)isNaN(te=p(Y[I]))||(ie=te-H,H+=ie/++q,he+=ie*(te-H));else for(;++I<J;)isNaN(te=p(D(Y[I],I,Y)))||(ie=te-H,H+=ie/++q,he+=ie*(te-H));if(q>1)return he/(q-1)}a(g,"variance");function y(Y,D){var J=g(Y,D);return J&&Math.sqrt(J)}a(y,"deviation");function E(Y,D){var J=Y.length,q=-1,I,H,te;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=te=I;++q<J;)(I=Y[q])!=null&&(H>I&&(H=I),te<I&&(te=I))}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=te=I;++q<J;)(I=D(Y[q],q,Y))!=null&&(H>I&&(H=I),te<I&&(te=I));return[H,te]}a(E,"extent");var M=Array.prototype,z=M.slice,P=M.map;function Q(Y){return function(){return Y}}a(Q,"constant");function V(Y){return Y}a(V,"identity");function W(Y,D,J){Y=+Y,D=+D,J=(I=arguments.length)<2?(D=Y,Y=0,1):I<3?1:+J;for(var q=-1,I=Math.max(0,Math.ceil((D-Y)/J))|0,H=new Array(I);++q<I;)H[q]=Y+q*J;return H}a(W,"range");var F=Math.sqrt(50),B=Math.sqrt(10),S=Math.sqrt(2);function T(Y,D,J){var q,I=-1,H,te,ie;if(D=+D,Y=+Y,J=+J,Y===D&&J>0)return[Y];if((q=D<Y)&&(H=Y,Y=D,D=H),(ie=k(Y,D,J))===0||!isFinite(ie))return[];if(ie>0)for(Y=Math.ceil(Y/ie),D=Math.floor(D/ie),te=new Array(H=Math.ceil(D-Y+1));++I<H;)te[I]=(Y+I)*ie;else for(Y=Math.floor(Y*ie),D=Math.ceil(D*ie),te=new Array(H=Math.ceil(Y-D+1));++I<H;)te[I]=(Y-I)/ie;return q&&te.reverse(),te}a(T,"ticks");function k(Y,D,J){var q=(D-Y)/Math.max(0,J),I=Math.floor(Math.log(q)/Math.LN10),H=q/Math.pow(10,I);return I>=0?(H>=F?10:H>=B?5:H>=S?2:1)*Math.pow(10,I):-Math.pow(10,-I)/(H>=F?10:H>=B?5:H>=S?2:1)}a(k,"tickIncrement");function R(Y,D,J){var q=Math.abs(D-Y)/Math.max(0,J),I=Math.pow(10,Math.floor(Math.log(q)/Math.LN10)),H=q/I;return H>=F?I*=10:H>=B?I*=5:H>=S&&(I*=2),D<Y?-I:I}a(R,"tickStep");function x(Y){return Math.ceil(Math.log(Y.length)/Math.LN2)+1}a(x,"sturges");function N(){var Y=V,D=E,J=x;function q(I){var H,te=I.length,ie,he=new Array(te);for(H=0;H<te;++H)he[H]=Y(I[H],H,I);var De=D(he),$e=De[0],ze=De[1],Qe=J(he,$e,ze);Array.isArray(Qe)||(Qe=R($e,ze,Qe),Qe=W(Math.ceil($e/Qe)*Qe,ze,Qe));for(var je=Qe.length;Qe[0]<=$e;)Qe.shift(),--je;for(;Qe[je-1]>ze;)Qe.pop(),--je;var We=new Array(je+1),Ce;for(H=0;H<=je;++H)Ce=We[H]=[],Ce.x0=H>0?Qe[H-1]:$e,Ce.x1=H<je?Qe[H]:ze;for(H=0;H<te;++H)ie=he[H],$e<=ie&&ie<=ze&&We[s(Qe,ie,0,je)].push(I[H]);return We}return a(q,"histogram"),q.value=function(I){return arguments.length?(Y=typeof I=="function"?I:Q(I),q):Y},q.domain=function(I){return arguments.length?(D=typeof I=="function"?I:Q([I[0],I[1]]),q):D},q.thresholds=function(I){return arguments.length?(J=typeof I=="function"?I:Array.isArray(I)?Q(z.call(I)):Q(I),q):J},q}a(N,"histogram");function m(Y,D,J){if(J==null&&(J=p),!!(q=Y.length)){if((D=+D)<=0||q<2)return+J(Y[0],0,Y);if(D>=1)return+J(Y[q-1],q-1,Y);var q,I=(q-1)*D,H=Math.floor(I),te=+J(Y[H],H,Y),ie=+J(Y[H+1],H+1,Y);return te+(ie-te)*(I-H)}}a(m,"quantile");function v(Y,D,J){return Y=P.call(Y,p).sort(t),Math.ceil((J-D)/(2*(m(Y,.75)-m(Y,.25))*Math.pow(Y.length,-1/3)))}a(v,"freedmanDiaconis");function A(Y,D,J){return Math.ceil((J-D)/(3.5*y(Y)*Math.pow(Y.length,-1/3)))}a(A,"scott");function U(Y,D){var J=Y.length,q=-1,I,H;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=I;++q<J;)(I=Y[q])!=null&&I>H&&(H=I)}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=I;++q<J;)(I=D(Y[q],q,Y))!=null&&I>H&&(H=I);return H}a(U,"max");function G(Y,D){var J=Y.length,q=J,I=-1,H,te=0;if(D==null)for(;++I<J;)isNaN(H=p(Y[I]))?--q:te+=H;else for(;++I<J;)isNaN(H=p(D(Y[I],I,Y)))?--q:te+=H;if(q)return te/q}a(G,"mean");function K(Y,D){var J=Y.length,q=-1,I,H=[];if(D==null)for(;++q<J;)isNaN(I=p(Y[q]))||H.push(I);else for(;++q<J;)isNaN(I=p(D(Y[q],q,Y)))||H.push(I);return m(H.sort(t),.5)}a(K,"median");function Z(Y){for(var D=Y.length,J,q=-1,I=0,H,te;++q<D;)I+=Y[q].length;for(H=new Array(I);--D>=0;)for(te=Y[D],J=te.length;--J>=0;)H[--I]=te[J];return H}a(Z,"merge");function O(Y,D){var J=Y.length,q=-1,I,H;if(D==null){for(;++q<J;)if((I=Y[q])!=null&&I>=I)for(H=I;++q<J;)(I=Y[q])!=null&&H>I&&(H=I)}else for(;++q<J;)if((I=D(Y[q],q,Y))!=null&&I>=I)for(H=I;++q<J;)(I=D(Y[q],q,Y))!=null&&H>I&&(H=I);return H}a(O,"min");function $(Y,D){for(var J=D.length,q=new Array(J);J--;)q[J]=Y[D[J]];return q}a($,"permute");function L(Y,D){if(!!(J=Y.length)){var J,q=0,I=0,H,te=Y[I];for(D==null&&(D=t);++q<J;)(D(H=Y[q],te)<0||D(te,te)!==0)&&(te=H,I=q);if(D(te,te)===0)return I}}a(L,"scan");function ee(Y,D,J){for(var q=(J??Y.length)-(D=D==null?0:+D),I,H;q;)H=Math.random()*q--|0,I=Y[q+D],Y[q+D]=Y[H+D],Y[H+D]=I;return Y}a(ee,"shuffle");function ve(Y,D){var J=Y.length,q=-1,I,H=0;if(D==null)for(;++q<J;)(I=+Y[q])&&(H+=I);else for(;++q<J;)(I=+D(Y[q],q,Y))&&(H+=I);return H}a(ve,"sum");function ye(Y){if(!(H=Y.length))return[];for(var D=-1,J=O(Y,se),q=new Array(J);++D<J;)for(var I=-1,H,te=q[D]=new Array(H);++I<H;)te[I]=Y[I][D];return q}a(ye,"transpose");function se(Y){return Y.length}a(se,"length");function be(){return ye(arguments)}a(be,"zip"),e.bisect=s,e.bisectRight=s,e.bisectLeft=o,e.ascending=t,e.bisector=r,e.cross=f,e.descending=h,e.deviation=y,e.extent=E,e.histogram=N,e.thresholdFreedmanDiaconis=v,e.thresholdScott=A,e.thresholdSturges=x,e.max=U,e.mean=G,e.median=K,e.merge=Z,e.min=O,e.pairs=l,e.permute=$,e.quantile=m,e.range=W,e.scan=L,e.shuffle=ee,e.sum=ve,e.ticks=T,e.tickIncrement=k,e.tickStep=R,e.transpose=ye,e.variance=g,e.zip=be,Object.defineProperty(e,"__esModule",{value:!0})})});var jTe=j((vT,VTe)=>{d();(function(e,t){typeof vT=="object"&&typeof VTe<"u"?t(vT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(vT,function(e){"use strict";var t=Array.prototype.slice;function r(Q){return Q}a(r,"identity");var n=1,i=2,s=3,o=4,l=1e-6;function u(Q){return"translate("+(Q+.5)+",0)"}a(u,"translateX");function f(Q){return"translate(0,"+(Q+.5)+")"}a(f,"translateY");function h(Q){return function(V){return+Q(V)}}a(h,"number");function p(Q){var V=Math.max(0,Q.bandwidth()-1)/2;return Q.round()&&(V=Math.round(V)),function(W){return+Q(W)+V}}a(p,"center");function g(){return!this.__axis}a(g,"entering");function y(Q,V){var W=[],F=null,B=null,S=6,T=6,k=3,R=Q===n||Q===o?-1:1,x=Q===o||Q===i?"x":"y",N=Q===n||Q===s?u:f;function m(v){var A=F??(V.ticks?V.ticks.apply(V,W):V.domain()),U=B??(V.tickFormat?V.tickFormat.apply(V,W):r),G=Math.max(S,0)+k,K=V.range(),Z=+K[0]+.5,O=+K[K.length-1]+.5,$=(V.bandwidth?p:h)(V.copy()),L=v.selection?v.selection():v,ee=L.selectAll(".domain").data([null]),ve=L.selectAll(".tick").data(A,V).order(),ye=ve.exit(),se=ve.enter().append("g").attr("class","tick"),be=ve.select("line"),Y=ve.select("text");ee=ee.merge(ee.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ve=ve.merge(se),be=be.merge(se.append("line").attr("stroke","currentColor").attr(x+"2",R*S)),Y=Y.merge(se.append("text").attr("fill","currentColor").attr(x,R*G).attr("dy",Q===n?"0em":Q===s?"0.71em":"0.32em")),v!==L&&(ee=ee.transition(v),ve=ve.transition(v),be=be.transition(v),Y=Y.transition(v),ye=ye.transition(v).attr("opacity",l).attr("transform",function(D){return isFinite(D=$(D))?N(D):this.getAttribute("transform")}),se.attr("opacity",l).attr("transform",function(D){var J=this.parentNode.__axis;return N(J&&isFinite(J=J(D))?J:$(D))})),ye.remove(),ee.attr("d",Q===o||Q==i?T?"M"+R*T+","+Z+"H0.5V"+O+"H"+R*T:"M0.5,"+Z+"V"+O:T?"M"+Z+","+R*T+"V0.5H"+O+"V"+R*T:"M"+Z+",0.5H"+O),ve.attr("opacity",1).attr("transform",function(D){return N($(D))}),be.attr(x+"2",R*S),Y.attr(x,R*G).text(U),L.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",Q===i?"start":Q===o?"end":"middle"),L.each(function(){this.__axis=$})}return a(m,"axis"),m.scale=function(v){return arguments.length?(V=v,m):V},m.ticks=function(){return W=t.call(arguments),m},m.tickArguments=function(v){return arguments.length?(W=v==null?[]:t.call(v),m):W.slice()},m.tickValues=function(v){return arguments.length?(F=v==null?null:t.call(v),m):F&&F.slice()},m.tickFormat=function(v){return arguments.length?(B=v,m):B},m.tickSize=function(v){return arguments.length?(S=T=+v,m):S},m.tickSizeInner=function(v){return arguments.length?(S=+v,m):S},m.tickSizeOuter=function(v){return arguments.length?(T=+v,m):T},m.tickPadding=function(v){return arguments.length?(k=+v,m):k},m}a(y,"axis");function E(Q){return y(n,Q)}a(E,"axisTop");function M(Q){return y(i,Q)}a(M,"axisRight");function z(Q){return y(s,Q)}a(z,"axisBottom");function P(Q){return y(o,Q)}a(P,"axisLeft"),e.axisTop=E,e.axisRight=M,e.axisBottom=z,e.axisLeft=P,Object.defineProperty(e,"__esModule",{value:!0})})});var ty=j((_T,GTe)=>{d();(function(e,t){typeof _T=="object"&&typeof GTe<"u"?t(_T):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(_T,function(e){"use strict";var t={value:function(){}};function r(){for(var l=0,u=arguments.length,f={},h;l<u;++l){if(!(h=arguments[l]+"")||h in f||/[\s.]/.test(h))throw new Error("illegal type: "+h);f[h]=[]}return new n(f)}a(r,"dispatch");function n(l){this._=l}a(n,"Dispatch");function i(l,u){return l.trim().split(/^|\s+/).map(function(f){var h="",p=f.indexOf(".");if(p>=0&&(h=f.slice(p+1),f=f.slice(0,p)),f&&!u.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:h}})}a(i,"parseTypenames"),n.prototype=r.prototype={constructor:n,on:function(l,u){var f=this._,h=i(l+"",f),p,g=-1,y=h.length;if(arguments.length<2){for(;++g<y;)if((p=(l=h[g]).type)&&(p=s(f[p],l.name)))return p;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++g<y;)if(p=(l=h[g]).type)f[p]=o(f[p],l.name,u);else if(u==null)for(p in f)f[p]=o(f[p],l.name,null);return this},copy:function(){var l={},u=this._;for(var f in u)l[f]=u[f].slice();return new n(l)},call:function(l,u){if((p=arguments.length-2)>0)for(var f=new Array(p),h=0,p,g;h<p;++h)f[h]=arguments[h+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(g=this._[l],h=0,p=g.length;h<p;++h)g[h].value.apply(u,f)},apply:function(l,u,f){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var h=this._[l],p=0,g=h.length;p<g;++p)h[p].value.apply(u,f)}};function s(l,u){for(var f=0,h=l.length,p;f<h;++f)if((p=l[f]).name===u)return p.value}a(s,"get");function o(l,u,f){for(var h=0,p=l.length;h<p;++h)if(l[h].name===u){l[h]=t,l=l.slice(0,h).concat(l.slice(h+1));break}return f!=null&&l.push({name:u,value:f}),l}a(o,"set"),e.dispatch=r,Object.defineProperty(e,"__esModule",{value:!0})})});var uv=j((xT,KTe)=>{d();(function(e,t){typeof xT=="object"&&typeof KTe<"u"?t(xT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(xT,function(e){"use strict";var t="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(Ne){var Ze=Ne+="",Tt=Ze.indexOf(":");return Tt>=0&&(Ze=Ne.slice(0,Tt))!=="xmlns"&&(Ne=Ne.slice(Tt+1)),r.hasOwnProperty(Ze)?{space:r[Ze],local:Ne}:Ne}a(n,"namespace");function i(Ne){return function(){var Ze=this.ownerDocument,Tt=this.namespaceURI;return Tt===t&&Ze.documentElement.namespaceURI===t?Ze.createElement(Ne):Ze.createElementNS(Tt,Ne)}}a(i,"creatorInherit");function s(Ne){return function(){return this.ownerDocument.createElementNS(Ne.space,Ne.local)}}a(s,"creatorFixed");function o(Ne){var Ze=n(Ne);return(Ze.local?s:i)(Ze)}a(o,"creator");function l(){}a(l,"none");function u(Ne){return Ne==null?l:function(){return this.querySelector(Ne)}}a(u,"selector");function f(Ne){typeof Ne!="function"&&(Ne=u(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=new Array(Tt),At=0;At<Tt;++At)for(var Ot=Ze[At],Vt=Ot.length,Ct=Ft[At]=new Array(Vt),er,Ue,Ir=0;Ir<Vt;++Ir)(er=Ot[Ir])&&(Ue=Ne.call(er,er.__data__,Ir,Ot))&&("__data__"in er&&(Ue.__data__=er.__data__),Ct[Ir]=Ue);return new wt(Ft,this._parents)}a(f,"selection_select");function h(){return[]}a(h,"empty");function p(Ne){return Ne==null?h:function(){return this.querySelectorAll(Ne)}}a(p,"selectorAll");function g(Ne){typeof Ne!="function"&&(Ne=p(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=[],At=[],Ot=0;Ot<Tt;++Ot)for(var Vt=Ze[Ot],Ct=Vt.length,er,Ue=0;Ue<Ct;++Ue)(er=Vt[Ue])&&(Ft.push(Ne.call(er,er.__data__,Ue,Vt)),At.push(er));return new wt(Ft,At)}a(g,"selection_selectAll");function y(Ne){return function(){return this.matches(Ne)}}a(y,"matcher");function E(Ne){typeof Ne!="function"&&(Ne=y(Ne));for(var Ze=this._groups,Tt=Ze.length,Ft=new Array(Tt),At=0;At<Tt;++At)for(var Ot=Ze[At],Vt=Ot.length,Ct=Ft[At]=[],er,Ue=0;Ue<Vt;++Ue)(er=Ot[Ue])&&Ne.call(er,er.__data__,Ue,Ot)&&Ct.push(er);return new wt(Ft,this._parents)}a(E,"selection_filter");function M(Ne){return new Array(Ne.length)}a(M,"sparse");function z(){return new wt(this._enter||this._groups.map(M),this._parents)}a(z,"selection_enter");function P(Ne,Ze){this.ownerDocument=Ne.ownerDocument,this.namespaceURI=Ne.namespaceURI,this._next=null,this._parent=Ne,this.__data__=Ze}a(P,"EnterNode"),P.prototype={constructor:P,appendChild:function(Ne){return this._parent.insertBefore(Ne,this._next)},insertBefore:function(Ne,Ze){return this._parent.insertBefore(Ne,Ze)},querySelector:function(Ne){return this._parent.querySelector(Ne)},querySelectorAll:function(Ne){return this._parent.querySelectorAll(Ne)}};function Q(Ne){return function(){return Ne}}a(Q,"constant");var V="$";function W(Ne,Ze,Tt,Ft,At,Ot){for(var Vt=0,Ct,er=Ze.length,Ue=Ot.length;Vt<Ue;++Vt)(Ct=Ze[Vt])?(Ct.__data__=Ot[Vt],Ft[Vt]=Ct):Tt[Vt]=new P(Ne,Ot[Vt]);for(;Vt<er;++Vt)(Ct=Ze[Vt])&&(At[Vt]=Ct)}a(W,"bindIndex");function F(Ne,Ze,Tt,Ft,At,Ot,Vt){var Ct,er,Ue={},Ir=Ze.length,ct=Ot.length,xn=new Array(Ir),Tn;for(Ct=0;Ct<Ir;++Ct)(er=Ze[Ct])&&(xn[Ct]=Tn=V+Vt.call(er,er.__data__,Ct,Ze),Tn in Ue?At[Ct]=er:Ue[Tn]=er);for(Ct=0;Ct<ct;++Ct)Tn=V+Vt.call(Ne,Ot[Ct],Ct,Ot),(er=Ue[Tn])?(Ft[Ct]=er,er.__data__=Ot[Ct],Ue[Tn]=null):Tt[Ct]=new P(Ne,Ot[Ct]);for(Ct=0;Ct<Ir;++Ct)(er=Ze[Ct])&&Ue[xn[Ct]]===er&&(At[Ct]=er)}a(F,"bindKey");function B(Ne,Ze){if(!Ne)return Tn=new Array(this.size()),Ue=-1,this.each(function(ut){Tn[++Ue]=ut}),Tn;var Tt=Ze?F:W,Ft=this._parents,At=this._groups;typeof Ne!="function"&&(Ne=Q(Ne));for(var Ot=At.length,Vt=new Array(Ot),Ct=new Array(Ot),er=new Array(Ot),Ue=0;Ue<Ot;++Ue){var Ir=Ft[Ue],ct=At[Ue],xn=ct.length,Tn=Ne.call(Ir,Ir&&Ir.__data__,Ue,Ft),Pi=Tn.length,Ya=Ct[Ue]=new Array(Pi),Ha=Vt[Ue]=new Array(Pi),un=er[Ue]=new Array(xn);Tt(Ir,ct,Ya,Ha,un,Tn,Ze);for(var oe=0,Be=0,Le,Xe;oe<Pi;++oe)if(Le=Ya[oe]){for(oe>=Be&&(Be=oe+1);!(Xe=Ha[Be])&&++Be<Pi;);Le._next=Xe||null}}return Vt=new wt(Vt,Ft),Vt._enter=Ct,Vt._exit=er,Vt}a(B,"selection_data");function S(){return new wt(this._exit||this._groups.map(M),this._parents)}a(S,"selection_exit");function T(Ne,Ze,Tt){var Ft=this.enter(),At=this,Ot=this.exit();return Ft=typeof Ne=="function"?Ne(Ft):Ft.append(Ne+""),Ze!=null&&(At=Ze(At)),Tt==null?Ot.remove():Tt(Ot),Ft&&At?Ft.merge(At).order():At}a(T,"selection_join");function k(Ne){for(var Ze=this._groups,Tt=Ne._groups,Ft=Ze.length,At=Tt.length,Ot=Math.min(Ft,At),Vt=new Array(Ft),Ct=0;Ct<Ot;++Ct)for(var er=Ze[Ct],Ue=Tt[Ct],Ir=er.length,ct=Vt[Ct]=new Array(Ir),xn,Tn=0;Tn<Ir;++Tn)(xn=er[Tn]||Ue[Tn])&&(ct[Tn]=xn);for(;Ct<Ft;++Ct)Vt[Ct]=Ze[Ct];return new wt(Vt,this._parents)}a(k,"selection_merge");function R(){for(var Ne=this._groups,Ze=-1,Tt=Ne.length;++Ze<Tt;)for(var Ft=Ne[Ze],At=Ft.length-1,Ot=Ft[At],Vt;--At>=0;)(Vt=Ft[At])&&(Ot&&Vt.compareDocumentPosition(Ot)^4&&Ot.parentNode.insertBefore(Vt,Ot),Ot=Vt);return this}a(R,"selection_order");function x(Ne){Ne||(Ne=N);function Ze(ct,xn){return ct&&xn?Ne(ct.__data__,xn.__data__):!ct-!xn}a(Ze,"compareNode");for(var Tt=this._groups,Ft=Tt.length,At=new Array(Ft),Ot=0;Ot<Ft;++Ot){for(var Vt=Tt[Ot],Ct=Vt.length,er=At[Ot]=new Array(Ct),Ue,Ir=0;Ir<Ct;++Ir)(Ue=Vt[Ir])&&(er[Ir]=Ue);er.sort(Ze)}return new wt(At,this._parents).order()}a(x,"selection_sort");function N(Ne,Ze){return Ne<Ze?-1:Ne>Ze?1:Ne>=Ze?0:NaN}a(N,"ascending");function m(){var Ne=arguments[0];return arguments[0]=this,Ne.apply(null,arguments),this}a(m,"selection_call");function v(){var Ne=new Array(this.size()),Ze=-1;return this.each(function(){Ne[++Ze]=this}),Ne}a(v,"selection_nodes");function A(){for(var Ne=this._groups,Ze=0,Tt=Ne.length;Ze<Tt;++Ze)for(var Ft=Ne[Ze],At=0,Ot=Ft.length;At<Ot;++At){var Vt=Ft[At];if(Vt)return Vt}return null}a(A,"selection_node");function U(){var Ne=0;return this.each(function(){++Ne}),Ne}a(U,"selection_size");function G(){return!this.node()}a(G,"selection_empty");function K(Ne){for(var Ze=this._groups,Tt=0,Ft=Ze.length;Tt<Ft;++Tt)for(var At=Ze[Tt],Ot=0,Vt=At.length,Ct;Ot<Vt;++Ot)(Ct=At[Ot])&&Ne.call(Ct,Ct.__data__,Ot,At);return this}a(K,"selection_each");function Z(Ne){return function(){this.removeAttribute(Ne)}}a(Z,"attrRemove");function O(Ne){return function(){this.removeAttributeNS(Ne.space,Ne.local)}}a(O,"attrRemoveNS");function $(Ne,Ze){return function(){this.setAttribute(Ne,Ze)}}a($,"attrConstant");function L(Ne,Ze){return function(){this.setAttributeNS(Ne.space,Ne.local,Ze)}}a(L,"attrConstantNS");function ee(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?this.removeAttribute(Ne):this.setAttribute(Ne,Tt)}}a(ee,"attrFunction");function ve(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?this.removeAttributeNS(Ne.space,Ne.local):this.setAttributeNS(Ne.space,Ne.local,Tt)}}a(ve,"attrFunctionNS");function ye(Ne,Ze){var Tt=n(Ne);if(arguments.length<2){var Ft=this.node();return Tt.local?Ft.getAttributeNS(Tt.space,Tt.local):Ft.getAttribute(Tt)}return this.each((Ze==null?Tt.local?O:Z:typeof Ze=="function"?Tt.local?ve:ee:Tt.local?L:$)(Tt,Ze))}a(ye,"selection_attr");function se(Ne){return Ne.ownerDocument&&Ne.ownerDocument.defaultView||Ne.document&&Ne||Ne.defaultView}a(se,"defaultView");function be(Ne){return function(){this.style.removeProperty(Ne)}}a(be,"styleRemove");function Y(Ne,Ze,Tt){return function(){this.style.setProperty(Ne,Ze,Tt)}}a(Y,"styleConstant");function D(Ne,Ze,Tt){return function(){var Ft=Ze.apply(this,arguments);Ft==null?this.style.removeProperty(Ne):this.style.setProperty(Ne,Ft,Tt)}}a(D,"styleFunction");function J(Ne,Ze,Tt){return arguments.length>1?this.each((Ze==null?be:typeof Ze=="function"?D:Y)(Ne,Ze,Tt??"")):q(this.node(),Ne)}a(J,"selection_style");function q(Ne,Ze){return Ne.style.getPropertyValue(Ze)||se(Ne).getComputedStyle(Ne,null).getPropertyValue(Ze)}a(q,"styleValue");function I(Ne){return function(){delete this[Ne]}}a(I,"propertyRemove");function H(Ne,Ze){return function(){this[Ne]=Ze}}a(H,"propertyConstant");function te(Ne,Ze){return function(){var Tt=Ze.apply(this,arguments);Tt==null?delete this[Ne]:this[Ne]=Tt}}a(te,"propertyFunction");function ie(Ne,Ze){return arguments.length>1?this.each((Ze==null?I:typeof Ze=="function"?te:H)(Ne,Ze)):this.node()[Ne]}a(ie,"selection_property");function he(Ne){return Ne.trim().split(/^|\s+/)}a(he,"classArray");function De(Ne){return Ne.classList||new $e(Ne)}a(De,"classList");function $e(Ne){this._node=Ne,this._names=he(Ne.getAttribute("class")||"")}a($e,"ClassList"),$e.prototype={add:function(Ne){var Ze=this._names.indexOf(Ne);Ze<0&&(this._names.push(Ne),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Ne){var Ze=this._names.indexOf(Ne);Ze>=0&&(this._names.splice(Ze,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Ne){return this._names.indexOf(Ne)>=0}};function ze(Ne,Ze){for(var Tt=De(Ne),Ft=-1,At=Ze.length;++Ft<At;)Tt.add(Ze[Ft])}a(ze,"classedAdd");function Qe(Ne,Ze){for(var Tt=De(Ne),Ft=-1,At=Ze.length;++Ft<At;)Tt.remove(Ze[Ft])}a(Qe,"classedRemove");function je(Ne){return function(){ze(this,Ne)}}a(je,"classedTrue");function We(Ne){return function(){Qe(this,Ne)}}a(We,"classedFalse");function Ce(Ne,Ze){return function(){(Ze.apply(this,arguments)?ze:Qe)(this,Ne)}}a(Ce,"classedFunction");function Te(Ne,Ze){var Tt=he(Ne+"");if(arguments.length<2){for(var Ft=De(this.node()),At=-1,Ot=Tt.length;++At<Ot;)if(!Ft.contains(Tt[At]))return!1;return!0}return this.each((typeof Ze=="function"?Ce:Ze?je:We)(Tt,Ze))}a(Te,"selection_classed");function Je(){this.textContent=""}a(Je,"textRemove");function rt(Ne){return function(){this.textContent=Ne}}a(rt,"textConstant");function ge(Ne){return function(){var Ze=Ne.apply(this,arguments);this.textContent=Ze??""}}a(ge,"textFunction");function xe(Ne){return arguments.length?this.each(Ne==null?Je:(typeof Ne=="function"?ge:rt)(Ne)):this.node().textContent}a(xe,"selection_text");function qe(){this.innerHTML=""}a(qe,"htmlRemove");function ot(Ne){return function(){this.innerHTML=Ne}}a(ot,"htmlConstant");function at(Ne){return function(){var Ze=Ne.apply(this,arguments);this.innerHTML=Ze??""}}a(at,"htmlFunction");function pe(Ne){return arguments.length?this.each(Ne==null?qe:(typeof Ne=="function"?at:ot)(Ne)):this.node().innerHTML}a(pe,"selection_html");function Re(){this.nextSibling&&this.parentNode.appendChild(this)}a(Re,"raise");function He(){return this.each(Re)}a(He,"selection_raise");function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(tt,"lower");function Ve(){return this.each(tt)}a(Ve,"selection_lower");function et(Ne){var Ze=typeof Ne=="function"?Ne:o(Ne);return this.select(function(){return this.appendChild(Ze.apply(this,arguments))})}a(et,"selection_append");function gt(){return null}a(gt,"constantNull");function lt(Ne,Ze){var Tt=typeof Ne=="function"?Ne:o(Ne),Ft=Ze==null?gt:typeof Ze=="function"?Ze:u(Ze);return this.select(function(){return this.insertBefore(Tt.apply(this,arguments),Ft.apply(this,arguments)||null)})}a(lt,"selection_insert");function zt(){var Ne=this.parentNode;Ne&&Ne.removeChild(this)}a(zt,"remove");function it(){return this.each(zt)}a(it,"selection_remove");function Wt(){var Ne=this.cloneNode(!1),Ze=this.parentNode;return Ze?Ze.insertBefore(Ne,this.nextSibling):Ne}a(Wt,"selection_cloneShallow");function bt(){var Ne=this.cloneNode(!0),Ze=this.parentNode;return Ze?Ze.insertBefore(Ne,this.nextSibling):Ne}a(bt,"selection_cloneDeep");function Se(Ne){return this.select(Ne?bt:Wt)}a(Se,"selection_clone");function Ie(Ne){return arguments.length?this.property("__data__",Ne):this.node().__data__}a(Ie,"selection_datum");var le={};if(e.event=null,typeof document<"u"){var _e=document.documentElement;"onmouseenter"in _e||(le={mouseenter:"mouseover",mouseleave:"mouseout"})}function ae(Ne,Ze,Tt){return Ne=ce(Ne,Ze,Tt),function(Ft){var At=Ft.relatedTarget;(!At||At!==this&&!(At.compareDocumentPosition(this)&8))&&Ne.call(this,Ft)}}a(ae,"filterContextListener");function ce(Ne,Ze,Tt){return function(Ft){var At=e.event;e.event=Ft;try{Ne.call(this,this.__data__,Ze,Tt)}finally{e.event=At}}}a(ce,"contextListener");function re(Ne){return Ne.trim().split(/^|\s+/).map(function(Ze){var Tt="",Ft=Ze.indexOf(".");return Ft>=0&&(Tt=Ze.slice(Ft+1),Ze=Ze.slice(0,Ft)),{type:Ze,name:Tt}})}a(re,"parseTypenames");function ue(Ne){return function(){var Ze=this.__on;if(!!Ze){for(var Tt=0,Ft=-1,At=Ze.length,Ot;Tt<At;++Tt)Ot=Ze[Tt],(!Ne.type||Ot.type===Ne.type)&&Ot.name===Ne.name?this.removeEventListener(Ot.type,Ot.listener,Ot.capture):Ze[++Ft]=Ot;++Ft?Ze.length=Ft:delete this.__on}}}a(ue,"onRemove");function me(Ne,Ze,Tt){var Ft=le.hasOwnProperty(Ne.type)?ae:ce;return function(At,Ot,Vt){var Ct=this.__on,er,Ue=Ft(Ze,Ot,Vt);if(Ct){for(var Ir=0,ct=Ct.length;Ir<ct;++Ir)if((er=Ct[Ir]).type===Ne.type&&er.name===Ne.name){this.removeEventListener(er.type,er.listener,er.capture),this.addEventListener(er.type,er.listener=Ue,er.capture=Tt),er.value=Ze;return}}this.addEventListener(Ne.type,Ue,Tt),er={type:Ne.type,name:Ne.name,value:Ze,listener:Ue,capture:Tt},Ct?Ct.push(er):this.__on=[er]}}a(me,"onAdd");function Ae(Ne,Ze,Tt){var Ft=re(Ne+""),At,Ot=Ft.length,Vt;if(arguments.length<2){var Ct=this.node().__on;if(Ct){for(var er=0,Ue=Ct.length,Ir;er<Ue;++er)for(At=0,Ir=Ct[er];At<Ot;++At)if((Vt=Ft[At]).type===Ir.type&&Vt.name===Ir.name)return Ir.value}return}for(Ct=Ze?me:ue,Tt==null&&(Tt=!1),At=0;At<Ot;++At)this.each(Ct(Ft[At],Ze,Tt));return this}a(Ae,"selection_on");function Oe(Ne,Ze,Tt,Ft){var At=e.event;Ne.sourceEvent=e.event,e.event=Ne;try{return Ze.apply(Tt,Ft)}finally{e.event=At}}a(Oe,"customEvent");function Ge(Ne,Ze,Tt){var Ft=se(Ne),At=Ft.CustomEvent;typeof At=="function"?At=new At(Ze,Tt):(At=Ft.document.createEvent("Event"),Tt?(At.initEvent(Ze,Tt.bubbles,Tt.cancelable),At.detail=Tt.detail):At.initEvent(Ze,!1,!1)),Ne.dispatchEvent(At)}a(Ge,"dispatchEvent");function ke(Ne,Ze){return function(){return Ge(this,Ne,Ze)}}a(ke,"dispatchConstant");function st(Ne,Ze){return function(){return Ge(this,Ne,Ze.apply(this,arguments))}}a(st,"dispatchFunction");function yt(Ne,Ze){return this.each((typeof Ze=="function"?st:ke)(Ne,Ze))}a(yt,"selection_dispatch");var pt=[null];function wt(Ne,Ze){this._groups=Ne,this._parents=Ze}a(wt,"Selection");function Gt(){return new wt([[document.documentElement]],pt)}a(Gt,"selection"),wt.prototype=Gt.prototype={constructor:wt,select:f,selectAll:g,filter:E,data:B,enter:z,exit:S,join:T,merge:k,order:R,sort:x,call:m,nodes:v,node:A,size:U,empty:G,each:K,attr:ye,style:J,property:ie,classed:Te,text:xe,html:pe,raise:He,lower:Ve,append:et,insert:lt,remove:it,clone:Se,datum:Ie,on:Ae,dispatch:yt};function Pt(Ne){return typeof Ne=="string"?new wt([[document.querySelector(Ne)]],[document.documentElement]):new wt([[Ne]],pt)}a(Pt,"select");function tr(Ne){return Pt(o(Ne).call(document.documentElement))}a(tr,"create");var cr=0;function pr(){return new Cr}a(pr,"local");function Cr(){this._="@"+(++cr).toString(36)}a(Cr,"Local"),Cr.prototype=pr.prototype={constructor:Cr,get:function(Ne){for(var Ze=this._;!(Ze in Ne);)if(!(Ne=Ne.parentNode))return;return Ne[Ze]},set:function(Ne,Ze){return Ne[this._]=Ze},remove:function(Ne){return this._ in Ne&&delete Ne[this._]},toString:function(){return this._}};function Qr(){for(var Ne=e.event,Ze;Ze=Ne.sourceEvent;)Ne=Ze;return Ne}a(Qr,"sourceEvent");function Tr(Ne,Ze){var Tt=Ne.ownerSVGElement||Ne;if(Tt.createSVGPoint){var Ft=Tt.createSVGPoint();return Ft.x=Ze.clientX,Ft.y=Ze.clientY,Ft=Ft.matrixTransform(Ne.getScreenCTM().inverse()),[Ft.x,Ft.y]}var At=Ne.getBoundingClientRect();return[Ze.clientX-At.left-Ne.clientLeft,Ze.clientY-At.top-Ne.clientTop]}a(Tr,"point");function ur(Ne){var Ze=Qr();return Ze.changedTouches&&(Ze=Ze.changedTouches[0]),Tr(Ne,Ze)}a(ur,"mouse");function fr(Ne){return typeof Ne=="string"?new wt([document.querySelectorAll(Ne)],[document.documentElement]):new wt([Ne??[]],pt)}a(fr,"selectAll");function Mr(Ne,Ze,Tt){arguments.length<3&&(Tt=Ze,Ze=Qr().changedTouches);for(var Ft=0,At=Ze?Ze.length:0,Ot;Ft<At;++Ft)if((Ot=Ze[Ft]).identifier===Tt)return Tr(Ne,Ot);return null}a(Mr,"touch");function Br(Ne,Ze){Ze==null&&(Ze=Qr().touches);for(var Tt=0,Ft=Ze?Ze.length:0,At=new Array(Ft);Tt<Ft;++Tt)At[Tt]=Tr(Ne,Ze[Tt]);return At}a(Br,"touches"),e.clientPoint=Tr,e.create=tr,e.creator=o,e.customEvent=Oe,e.local=pr,e.matcher=y,e.mouse=ur,e.namespace=n,e.namespaces=r,e.select=Pt,e.selectAll=fr,e.selection=Gt,e.selector=u,e.selectorAll=p,e.style=q,e.touch=Mr,e.touches=Br,e.window=se,Object.defineProperty(e,"__esModule",{value:!0})})});var AT=j((wT,$Te)=>{d();(function(e,t){typeof wT=="object"&&typeof $Te<"u"?t(wT,ty(),uv()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-selection"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3))})(wT,function(e,t,r){"use strict";function n(){r.event.stopImmediatePropagation()}a(n,"nopropagation");function i(){r.event.preventDefault(),r.event.stopImmediatePropagation()}a(i,"noevent");function s(E){var M=E.document.documentElement,z=r.select(E).on("dragstart.drag",i,!0);"onselectstart"in M?z.on("selectstart.drag",i,!0):(M.__noselect=M.style.MozUserSelect,M.style.MozUserSelect="none")}a(s,"nodrag");function o(E,M){var z=E.document.documentElement,P=r.select(E).on("dragstart.drag",null);M&&(P.on("click.drag",i,!0),setTimeout(function(){P.on("click.drag",null)},0)),"onselectstart"in z?P.on("selectstart.drag",null):(z.style.MozUserSelect=z.__noselect,delete z.__noselect)}a(o,"yesdrag");function l(E){return function(){return E}}a(l,"constant");function u(E,M,z,P,Q,V,W,F,B,S){this.target=E,this.type=M,this.subject=z,this.identifier=P,this.active=Q,this.x=V,this.y=W,this.dx=F,this.dy=B,this._=S}a(u,"DragEvent"),u.prototype.on=function(){var E=this._.on.apply(this._,arguments);return E===this._?this:E};function f(){return!r.event.ctrlKey&&!r.event.button}a(f,"defaultFilter");function h(){return this.parentNode}a(h,"defaultContainer");function p(E){return E??{x:r.event.x,y:r.event.y}}a(p,"defaultSubject");function g(){return navigator.maxTouchPoints||"ontouchstart"in this}a(g,"defaultTouchable");function y(){var E=f,M=h,z=p,P=g,Q={},V=t.dispatch("start","drag","end"),W=0,F,B,S,T,k=0;function R(K){K.on("mousedown.drag",x).filter(P).on("touchstart.drag",v).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(R,"drag");function x(){if(!(T||!E.apply(this,arguments))){var K=G("mouse",M.apply(this,arguments),r.mouse,this,arguments);!K||(r.select(r.event.view).on("mousemove.drag",N,!0).on("mouseup.drag",m,!0),s(r.event.view),n(),S=!1,F=r.event.clientX,B=r.event.clientY,K("start"))}}a(x,"mousedowned");function N(){if(i(),!S){var K=r.event.clientX-F,Z=r.event.clientY-B;S=K*K+Z*Z>k}Q.mouse("drag")}a(N,"mousemoved");function m(){r.select(r.event.view).on("mousemove.drag mouseup.drag",null),o(r.event.view,S),i(),Q.mouse("end")}a(m,"mouseupped");function v(){if(!!E.apply(this,arguments)){var K=r.event.changedTouches,Z=M.apply(this,arguments),O=K.length,$,L;for($=0;$<O;++$)(L=G(K[$].identifier,Z,r.touch,this,arguments))&&(n(),L("start"))}}a(v,"touchstarted");function A(){var K=r.event.changedTouches,Z=K.length,O,$;for(O=0;O<Z;++O)($=Q[K[O].identifier])&&(i(),$("drag"))}a(A,"touchmoved");function U(){var K=r.event.changedTouches,Z=K.length,O,$;for(T&&clearTimeout(T),T=setTimeout(function(){T=null},500),O=0;O<Z;++O)($=Q[K[O].identifier])&&(n(),$("end"))}a(U,"touchended");function G(K,Z,O,$,L){var ee=O(Z,K),ve,ye,se,be=V.copy();if(!!r.customEvent(new u(R,"beforestart",ve,K,W,ee[0],ee[1],0,0,be),function(){return(r.event.subject=ve=z.apply($,L))==null?!1:(ye=ve.x-ee[0]||0,se=ve.y-ee[1]||0,!0)}))return a(function Y(D){var J=ee,q;switch(D){case"start":Q[K]=Y,q=W++;break;case"end":delete Q[K],--W;case"drag":ee=O(Z,K),q=W;break}r.customEvent(new u(R,D,ve,K,q,ee[0]+ye,ee[1]+se,ee[0]-J[0],ee[1]-J[1],be),be.apply,be,[D,$,L])},"gesture")}return a(G,"beforestart"),R.filter=function(K){return arguments.length?(E=typeof K=="function"?K:l(!!K),R):E},R.container=function(K){return arguments.length?(M=typeof K=="function"?K:l(K),R):M},R.subject=function(K){return arguments.length?(z=typeof K=="function"?K:l(K),R):z},R.touchable=function(K){return arguments.length?(P=typeof K=="function"?K:l(!!K),R):P},R.on=function(){var K=V.on.apply(V,arguments);return K===V?R:K},R.clickDistance=function(K){return arguments.length?(k=(K=+K)*K,R):Math.sqrt(k)},R}a(y,"drag"),e.drag=y,e.dragDisable=s,e.dragEnable=o,Object.defineProperty(e,"__esModule",{value:!0})})});var I5=j((ET,XTe)=>{d();(function(e,t){typeof ET=="object"&&typeof XTe<"u"?t(ET):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(ET,function(e){"use strict";function t(pe,Re,He){pe.prototype=Re.prototype=He,He.constructor=pe}a(t,"define");function r(pe,Re){var He=Object.create(pe.prototype);for(var tt in Re)He[tt]=Re[tt];return He}a(r,"extend");function n(){}a(n,"Color");var i=.7,s=1/i,o="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),p=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),g=new RegExp("^rgba\\("+[o,o,o,l]+"\\)$"),y=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),E=new RegExp("^hsl\\("+[l,u,u]+"\\)$"),M=new RegExp("^hsla\\("+[l,u,u,l]+"\\)$"),z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(n,W,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:P,formatHex:P,formatHsl:Q,formatRgb:V,toString:V});function P(){return this.rgb().formatHex()}a(P,"color_formatHex");function Q(){return v(this).formatHsl()}a(Q,"color_formatHsl");function V(){return this.rgb().formatRgb()}a(V,"color_formatRgb");function W(pe){var Re,He;return pe=(pe+"").trim().toLowerCase(),(Re=f.exec(pe))?(He=Re[1].length,Re=parseInt(Re[1],16),He===6?F(Re):He===3?new k(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):He===8?B(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):He===4?B(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=h.exec(pe))?new k(Re[1],Re[2],Re[3],1):(Re=p.exec(pe))?new k(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=g.exec(pe))?B(Re[1],Re[2],Re[3],Re[4]):(Re=y.exec(pe))?B(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=E.exec(pe))?m(Re[1],Re[2]/100,Re[3]/100,1):(Re=M.exec(pe))?m(Re[1],Re[2]/100,Re[3]/100,Re[4]):z.hasOwnProperty(pe)?F(z[pe]):pe==="transparent"?new k(NaN,NaN,NaN,0):null}a(W,"color");function F(pe){return new k(pe>>16&255,pe>>8&255,pe&255,1)}a(F,"rgbn");function B(pe,Re,He,tt){return tt<=0&&(pe=Re=He=NaN),new k(pe,Re,He,tt)}a(B,"rgba");function S(pe){return pe instanceof n||(pe=W(pe)),pe?(pe=pe.rgb(),new k(pe.r,pe.g,pe.b,pe.opacity)):new k}a(S,"rgbConvert");function T(pe,Re,He,tt){return arguments.length===1?S(pe):new k(pe,Re,He,tt??1)}a(T,"rgb");function k(pe,Re,He,tt){this.r=+pe,this.g=+Re,this.b=+He,this.opacity=+tt}a(k,"Rgb"),t(k,T,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new k(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new k(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R,formatHex:R,formatRgb:x,toString:x}));function R(){return"#"+N(this.r)+N(this.g)+N(this.b)}a(R,"rgb_formatHex");function x(){var pe=this.opacity;return pe=isNaN(pe)?1:Math.max(0,Math.min(1,pe)),(pe===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(pe===1?")":", "+pe+")")}a(x,"rgb_formatRgb");function N(pe){return pe=Math.max(0,Math.min(255,Math.round(pe)||0)),(pe<16?"0":"")+pe.toString(16)}a(N,"hex");function m(pe,Re,He,tt){return tt<=0?pe=Re=He=NaN:He<=0||He>=1?pe=Re=NaN:Re<=0&&(pe=NaN),new U(pe,Re,He,tt)}a(m,"hsla");function v(pe){if(pe instanceof U)return new U(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof n||(pe=W(pe)),!pe)return new U;if(pe instanceof U)return pe;pe=pe.rgb();var Re=pe.r/255,He=pe.g/255,tt=pe.b/255,Ve=Math.min(Re,He,tt),et=Math.max(Re,He,tt),gt=NaN,lt=et-Ve,zt=(et+Ve)/2;return lt?(Re===et?gt=(He-tt)/lt+(He<tt)*6:He===et?gt=(tt-Re)/lt+2:gt=(Re-He)/lt+4,lt/=zt<.5?et+Ve:2-et-Ve,gt*=60):lt=zt>0&&zt<1?0:gt,new U(gt,lt,zt,pe.opacity)}a(v,"hslConvert");function A(pe,Re,He,tt){return arguments.length===1?v(pe):new U(pe,Re,He,tt??1)}a(A,"hsl");function U(pe,Re,He,tt){this.h=+pe,this.s=+Re,this.l=+He,this.opacity=+tt}a(U,"Hsl"),t(U,A,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new U(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new U(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+(this.h<0)*360,Re=isNaN(pe)||isNaN(this.s)?0:this.s,He=this.l,tt=He+(He<.5?He:1-He)*Re,Ve=2*He-tt;return new k(G(pe>=240?pe-240:pe+120,Ve,tt),G(pe,Ve,tt),G(pe<120?pe+240:pe-120,Ve,tt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=this.opacity;return pe=isNaN(pe)?1:Math.max(0,Math.min(1,pe)),(pe===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(pe===1?")":", "+pe+")")}}));function G(pe,Re,He){return(pe<60?Re+(He-Re)*pe/60:pe<180?He:pe<240?Re+(He-Re)*(240-pe)/60:Re)*255}a(G,"hsl2rgb");var K=Math.PI/180,Z=180/Math.PI,O=18,$=.96422,L=1,ee=.82521,ve=4/29,ye=6/29,se=3*ye*ye,be=ye*ye*ye;function Y(pe){if(pe instanceof q)return new q(pe.l,pe.a,pe.b,pe.opacity);if(pe instanceof ze)return Qe(pe);pe instanceof k||(pe=S(pe));var Re=ie(pe.r),He=ie(pe.g),tt=ie(pe.b),Ve=I((.2225045*Re+.7168786*He+.0606169*tt)/L),et,gt;return Re===He&&He===tt?et=gt=Ve:(et=I((.4360747*Re+.3850649*He+.1430804*tt)/$),gt=I((.0139322*Re+.0971045*He+.7141733*tt)/ee)),new q(116*Ve-16,500*(et-Ve),200*(Ve-gt),pe.opacity)}a(Y,"labConvert");function D(pe,Re){return new q(pe,0,0,Re??1)}a(D,"gray");function J(pe,Re,He,tt){return arguments.length===1?Y(pe):new q(pe,Re,He,tt??1)}a(J,"lab");function q(pe,Re,He,tt){this.l=+pe,this.a=+Re,this.b=+He,this.opacity=+tt}a(q,"Lab"),t(q,J,r(n,{brighter:function(pe){return new q(this.l+O*(pe??1),this.a,this.b,this.opacity)},darker:function(pe){return new q(this.l-O*(pe??1),this.a,this.b,this.opacity)},rgb:function(){var pe=(this.l+16)/116,Re=isNaN(this.a)?pe:pe+this.a/500,He=isNaN(this.b)?pe:pe-this.b/200;return Re=$*H(Re),pe=L*H(pe),He=ee*H(He),new k(te(3.1338561*Re-1.6168667*pe-.4906146*He),te(-.9787684*Re+1.9161415*pe+.033454*He),te(.0719453*Re-.2289914*pe+1.4052427*He),this.opacity)}}));function I(pe){return pe>be?Math.pow(pe,1/3):pe/se+ve}a(I,"xyz2lab");function H(pe){return pe>ye?pe*pe*pe:se*(pe-ve)}a(H,"lab2xyz");function te(pe){return 255*(pe<=.0031308?12.92*pe:1.055*Math.pow(pe,1/2.4)-.055)}a(te,"lrgb2rgb");function ie(pe){return(pe/=255)<=.04045?pe/12.92:Math.pow((pe+.055)/1.055,2.4)}a(ie,"rgb2lrgb");function he(pe){if(pe instanceof ze)return new ze(pe.h,pe.c,pe.l,pe.opacity);if(pe instanceof q||(pe=Y(pe)),pe.a===0&&pe.b===0)return new ze(NaN,0<pe.l&&pe.l<100?0:NaN,pe.l,pe.opacity);var Re=Math.atan2(pe.b,pe.a)*Z;return new ze(Re<0?Re+360:Re,Math.sqrt(pe.a*pe.a+pe.b*pe.b),pe.l,pe.opacity)}a(he,"hclConvert");function De(pe,Re,He,tt){return arguments.length===1?he(pe):new ze(He,Re,pe,tt??1)}a(De,"lch");function $e(pe,Re,He,tt){return arguments.length===1?he(pe):new ze(pe,Re,He,tt??1)}a($e,"hcl");function ze(pe,Re,He,tt){this.h=+pe,this.c=+Re,this.l=+He,this.opacity=+tt}a(ze,"Hcl");function Qe(pe){if(isNaN(pe.h))return new q(pe.l,0,0,pe.opacity);var Re=pe.h*K;return new q(pe.l,Math.cos(Re)*pe.c,Math.sin(Re)*pe.c,pe.opacity)}a(Qe,"hcl2lab"),t(ze,$e,r(n,{brighter:function(pe){return new ze(this.h,this.c,this.l+O*(pe??1),this.opacity)},darker:function(pe){return new ze(this.h,this.c,this.l-O*(pe??1),this.opacity)},rgb:function(){return Qe(this).rgb()}}));var je=-.14861,We=1.78277,Ce=-.29227,Te=-.90649,Je=1.97294,rt=Je*Te,ge=Je*We,xe=We*Ce-Te*je;function qe(pe){if(pe instanceof at)return new at(pe.h,pe.s,pe.l,pe.opacity);pe instanceof k||(pe=S(pe));var Re=pe.r/255,He=pe.g/255,tt=pe.b/255,Ve=(xe*tt+rt*Re-ge*He)/(xe+rt-ge),et=tt-Ve,gt=(Je*(He-Ve)-Ce*et)/Te,lt=Math.sqrt(gt*gt+et*et)/(Je*Ve*(1-Ve)),zt=lt?Math.atan2(gt,et)*Z-120:NaN;return new at(zt<0?zt+360:zt,lt,Ve,pe.opacity)}a(qe,"cubehelixConvert");function ot(pe,Re,He,tt){return arguments.length===1?qe(pe):new at(pe,Re,He,tt??1)}a(ot,"cubehelix");function at(pe,Re,He,tt){this.h=+pe,this.s=+Re,this.l=+He,this.opacity=+tt}a(at,"Cubehelix"),t(at,ot,r(n,{brighter:function(pe){return pe=pe==null?s:Math.pow(s,pe),new at(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?i:Math.pow(i,pe),new at(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=isNaN(this.h)?0:(this.h+120)*K,Re=+this.l,He=isNaN(this.s)?0:this.s*Re*(1-Re),tt=Math.cos(pe),Ve=Math.sin(pe);return new k(255*(Re+He*(je*tt+We*Ve)),255*(Re+He*(Ce*tt+Te*Ve)),255*(Re+He*(Je*tt)),this.opacity)}})),e.color=W,e.cubehelix=ot,e.gray=D,e.hcl=$e,e.hsl=A,e.lab=J,e.lch=De,e.rgb=T,Object.defineProperty(e,"__esModule",{value:!0})})});var ry=j((ST,JTe)=>{d();(function(e,t){typeof ST=="object"&&typeof JTe<"u"?t(ST,I5()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(ST,function(e,t){"use strict";function r(ge,xe,qe,ot,at){var pe=ge*ge,Re=pe*ge;return((1-3*ge+3*pe-Re)*xe+(4-6*pe+3*Re)*qe+(1+3*ge+3*pe-3*Re)*ot+Re*at)/6}a(r,"basis");function n(ge){var xe=ge.length-1;return function(qe){var ot=qe<=0?qe=0:qe>=1?(qe=1,xe-1):Math.floor(qe*xe),at=ge[ot],pe=ge[ot+1],Re=ot>0?ge[ot-1]:2*at-pe,He=ot<xe-1?ge[ot+2]:2*pe-at;return r((qe-ot/xe)*xe,Re,at,pe,He)}}a(n,"basis$1");function i(ge){var xe=ge.length;return function(qe){var ot=Math.floor(((qe%=1)<0?++qe:qe)*xe),at=ge[(ot+xe-1)%xe],pe=ge[ot%xe],Re=ge[(ot+1)%xe],He=ge[(ot+2)%xe];return r((qe-ot/xe)*xe,at,pe,Re,He)}}a(i,"basisClosed");function s(ge){return function(){return ge}}a(s,"constant");function o(ge,xe){return function(qe){return ge+qe*xe}}a(o,"linear");function l(ge,xe,qe){return ge=Math.pow(ge,qe),xe=Math.pow(xe,qe)-ge,qe=1/qe,function(ot){return Math.pow(ge+ot*xe,qe)}}a(l,"exponential");function u(ge,xe){var qe=xe-ge;return qe?o(ge,qe>180||qe<-180?qe-360*Math.round(qe/360):qe):s(isNaN(ge)?xe:ge)}a(u,"hue");function f(ge){return(ge=+ge)==1?h:function(xe,qe){return qe-xe?l(xe,qe,ge):s(isNaN(xe)?qe:xe)}}a(f,"gamma");function h(ge,xe){var qe=xe-ge;return qe?o(ge,qe):s(isNaN(ge)?xe:ge)}a(h,"nogamma");var p=a(function ge(xe){var qe=f(xe);function ot(at,pe){var Re=qe((at=t.rgb(at)).r,(pe=t.rgb(pe)).r),He=qe(at.g,pe.g),tt=qe(at.b,pe.b),Ve=h(at.opacity,pe.opacity);return function(et){return at.r=Re(et),at.g=He(et),at.b=tt(et),at.opacity=Ve(et),at+""}}return a(ot,"rgb"),ot.gamma=ge,ot},"rgbGamma")(1);function g(ge){return function(xe){var qe=xe.length,ot=new Array(qe),at=new Array(qe),pe=new Array(qe),Re,He;for(Re=0;Re<qe;++Re)He=t.rgb(xe[Re]),ot[Re]=He.r||0,at[Re]=He.g||0,pe[Re]=He.b||0;return ot=ge(ot),at=ge(at),pe=ge(pe),He.opacity=1,function(tt){return He.r=ot(tt),He.g=at(tt),He.b=pe(tt),He+""}}}a(g,"rgbSpline");var y=g(n),E=g(i);function M(ge,xe){xe||(xe=[]);var qe=ge?Math.min(xe.length,ge.length):0,ot=xe.slice(),at;return function(pe){for(at=0;at<qe;++at)ot[at]=ge[at]*(1-pe)+xe[at]*pe;return ot}}a(M,"numberArray");function z(ge){return ArrayBuffer.isView(ge)&&!(ge instanceof DataView)}a(z,"isNumberArray");function P(ge,xe){return(z(xe)?M:Q)(ge,xe)}a(P,"array");function Q(ge,xe){var qe=xe?xe.length:0,ot=ge?Math.min(qe,ge.length):0,at=new Array(ot),pe=new Array(qe),Re;for(Re=0;Re<ot;++Re)at[Re]=x(ge[Re],xe[Re]);for(;Re<qe;++Re)pe[Re]=xe[Re];return function(He){for(Re=0;Re<ot;++Re)pe[Re]=at[Re](He);return pe}}a(Q,"genericArray");function V(ge,xe){var qe=new Date;return ge=+ge,xe=+xe,function(ot){return qe.setTime(ge*(1-ot)+xe*ot),qe}}a(V,"date");function W(ge,xe){return ge=+ge,xe=+xe,function(qe){return ge*(1-qe)+xe*qe}}a(W,"number");function F(ge,xe){var qe={},ot={},at;(ge===null||typeof ge!="object")&&(ge={}),(xe===null||typeof xe!="object")&&(xe={});for(at in xe)at in ge?qe[at]=x(ge[at],xe[at]):ot[at]=xe[at];return function(pe){for(at in qe)ot[at]=qe[at](pe);return ot}}a(F,"object");var B=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S=new RegExp(B.source,"g");function T(ge){return function(){return ge}}a(T,"zero");function k(ge){return function(xe){return ge(xe)+""}}a(k,"one");function R(ge,xe){var qe=B.lastIndex=S.lastIndex=0,ot,at,pe,Re=-1,He=[],tt=[];for(ge=ge+"",xe=xe+"";(ot=B.exec(ge))&&(at=S.exec(xe));)(pe=at.index)>qe&&(pe=xe.slice(qe,pe),He[Re]?He[Re]+=pe:He[++Re]=pe),(ot=ot[0])===(at=at[0])?He[Re]?He[Re]+=at:He[++Re]=at:(He[++Re]=null,tt.push({i:Re,x:W(ot,at)})),qe=S.lastIndex;return qe<xe.length&&(pe=xe.slice(qe),He[Re]?He[Re]+=pe:He[++Re]=pe),He.length<2?tt[0]?k(tt[0].x):T(xe):(xe=tt.length,function(Ve){for(var et=0,gt;et<xe;++et)He[(gt=tt[et]).i]=gt.x(Ve);return He.join("")})}a(R,"string");function x(ge,xe){var qe=typeof xe,ot;return xe==null||qe==="boolean"?s(xe):(qe==="number"?W:qe==="string"?(ot=t.color(xe))?(xe=ot,p):R:xe instanceof t.color?p:xe instanceof Date?V:z(xe)?M:Array.isArray(xe)?Q:typeof xe.valueOf!="function"&&typeof xe.toString!="function"||isNaN(xe)?F:W)(ge,xe)}a(x,"value");function N(ge){var xe=ge.length;return function(qe){return ge[Math.max(0,Math.min(xe-1,Math.floor(qe*xe)))]}}a(N,"discrete");function m(ge,xe){var qe=u(+ge,+xe);return function(ot){var at=qe(ot);return at-360*Math.floor(at/360)}}a(m,"hue$1");function v(ge,xe){return ge=+ge,xe=+xe,function(qe){return Math.round(ge*(1-qe)+xe*qe)}}a(v,"round");var A=180/Math.PI,U={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function G(ge,xe,qe,ot,at,pe){var Re,He,tt;return(Re=Math.sqrt(ge*ge+xe*xe))&&(ge/=Re,xe/=Re),(tt=ge*qe+xe*ot)&&(qe-=ge*tt,ot-=xe*tt),(He=Math.sqrt(qe*qe+ot*ot))&&(qe/=He,ot/=He,tt/=He),ge*ot<xe*qe&&(ge=-ge,xe=-xe,tt=-tt,Re=-Re),{translateX:at,translateY:pe,rotate:Math.atan2(xe,ge)*A,skewX:Math.atan(tt)*A,scaleX:Re,scaleY:He}}a(G,"decompose");var K,Z,O,$;function L(ge){return ge==="none"?U:(K||(K=document.createElement("DIV"),Z=document.documentElement,O=document.defaultView),K.style.transform=ge,ge=O.getComputedStyle(Z.appendChild(K),null).getPropertyValue("transform"),Z.removeChild(K),ge=ge.slice(7,-1).split(","),G(+ge[0],+ge[1],+ge[2],+ge[3],+ge[4],+ge[5]))}a(L,"parseCss");function ee(ge){return ge==null||($||($=document.createElementNS("http://www.w3.org/2000/svg","g")),$.setAttribute("transform",ge),!(ge=$.transform.baseVal.consolidate()))?U:(ge=ge.matrix,G(ge.a,ge.b,ge.c,ge.d,ge.e,ge.f))}a(ee,"parseSvg");function ve(ge,xe,qe,ot){function at(Ve){return Ve.length?Ve.pop()+" ":""}a(at,"pop");function pe(Ve,et,gt,lt,zt,it){if(Ve!==gt||et!==lt){var Wt=zt.push("translate(",null,xe,null,qe);it.push({i:Wt-4,x:W(Ve,gt)},{i:Wt-2,x:W(et,lt)})}else(gt||lt)&&zt.push("translate("+gt+xe+lt+qe)}a(pe,"translate");function Re(Ve,et,gt,lt){Ve!==et?(Ve-et>180?et+=360:et-Ve>180&&(Ve+=360),lt.push({i:gt.push(at(gt)+"rotate(",null,ot)-2,x:W(Ve,et)})):et&&gt.push(at(gt)+"rotate("+et+ot)}a(Re,"rotate");function He(Ve,et,gt,lt){Ve!==et?lt.push({i:gt.push(at(gt)+"skewX(",null,ot)-2,x:W(Ve,et)}):et&&gt.push(at(gt)+"skewX("+et+ot)}a(He,"skewX");function tt(Ve,et,gt,lt,zt,it){if(Ve!==gt||et!==lt){var Wt=zt.push(at(zt)+"scale(",null,",",null,")");it.push({i:Wt-4,x:W(Ve,gt)},{i:Wt-2,x:W(et,lt)})}else(gt!==1||lt!==1)&&zt.push(at(zt)+"scale("+gt+","+lt+")")}return a(tt,"scale"),function(Ve,et){var gt=[],lt=[];return Ve=ge(Ve),et=ge(et),pe(Ve.translateX,Ve.translateY,et.translateX,et.translateY,gt,lt),Re(Ve.rotate,et.rotate,gt,lt),He(Ve.skewX,et.skewX,gt,lt),tt(Ve.scaleX,Ve.scaleY,et.scaleX,et.scaleY,gt,lt),Ve=et=null,function(zt){for(var it=-1,Wt=lt.length,bt;++it<Wt;)gt[(bt=lt[it]).i]=bt.x(zt);return gt.join("")}}}a(ve,"interpolateTransform");var ye=ve(L,"px, ","px)","deg)"),se=ve(ee,", ",")",")"),be=Math.SQRT2,Y=2,D=4,J=1e-12;function q(ge){return((ge=Math.exp(ge))+1/ge)/2}a(q,"cosh");function I(ge){return((ge=Math.exp(ge))-1/ge)/2}a(I,"sinh");function H(ge){return((ge=Math.exp(2*ge))-1)/(ge+1)}a(H,"tanh");function te(ge,xe){var qe=ge[0],ot=ge[1],at=ge[2],pe=xe[0],Re=xe[1],He=xe[2],tt=pe-qe,Ve=Re-ot,et=tt*tt+Ve*Ve,gt,lt;if(et<J)lt=Math.log(He/at)/be,gt=a(function(Ie){return[qe+Ie*tt,ot+Ie*Ve,at*Math.exp(be*Ie*lt)]},"i");else{var zt=Math.sqrt(et),it=(He*He-at*at+D*et)/(2*at*Y*zt),Wt=(He*He-at*at-D*et)/(2*He*Y*zt),bt=Math.log(Math.sqrt(it*it+1)-it),Se=Math.log(Math.sqrt(Wt*Wt+1)-Wt);lt=(Se-bt)/be,gt=a(function(Ie){var le=Ie*lt,_e=q(bt),ae=at/(Y*zt)*(_e*H(be*le+bt)-I(bt));return[qe+ae*tt,ot+ae*Ve,at*_e/q(be*le+bt)]},"i")}return gt.duration=lt*1e3,gt}a(te,"zoom");function ie(ge){return function(xe,qe){var ot=ge((xe=t.hsl(xe)).h,(qe=t.hsl(qe)).h),at=h(xe.s,qe.s),pe=h(xe.l,qe.l),Re=h(xe.opacity,qe.opacity);return function(He){return xe.h=ot(He),xe.s=at(He),xe.l=pe(He),xe.opacity=Re(He),xe+""}}}a(ie,"hsl");var he=ie(u),De=ie(h);function $e(ge,xe){var qe=h((ge=t.lab(ge)).l,(xe=t.lab(xe)).l),ot=h(ge.a,xe.a),at=h(ge.b,xe.b),pe=h(ge.opacity,xe.opacity);return function(Re){return ge.l=qe(Re),ge.a=ot(Re),ge.b=at(Re),ge.opacity=pe(Re),ge+""}}a($e,"lab");function ze(ge){return function(xe,qe){var ot=ge((xe=t.hcl(xe)).h,(qe=t.hcl(qe)).h),at=h(xe.c,qe.c),pe=h(xe.l,qe.l),Re=h(xe.opacity,qe.opacity);return function(He){return xe.h=ot(He),xe.c=at(He),xe.l=pe(He),xe.opacity=Re(He),xe+""}}}a(ze,"hcl");var Qe=ze(u),je=ze(h);function We(ge){return a(function xe(qe){qe=+qe;function ot(at,pe){var Re=ge((at=t.cubehelix(at)).h,(pe=t.cubehelix(pe)).h),He=h(at.s,pe.s),tt=h(at.l,pe.l),Ve=h(at.opacity,pe.opacity);return function(et){return at.h=Re(et),at.s=He(et),at.l=tt(Math.pow(et,qe)),at.opacity=Ve(et),at+""}}return a(ot,"cubehelix"),ot.gamma=xe,ot},"cubehelixGamma")(1)}a(We,"cubehelix");var Ce=We(u),Te=We(h);function Je(ge,xe){for(var qe=0,ot=xe.length-1,at=xe[0],pe=new Array(ot<0?0:ot);qe<ot;)pe[qe]=ge(at,at=xe[++qe]);return function(Re){var He=Math.max(0,Math.min(ot-1,Math.floor(Re*=ot)));return pe[He](Re-He)}}a(Je,"piecewise");function rt(ge,xe){for(var qe=new Array(xe),ot=0;ot<xe;++ot)qe[ot]=ge(ot/(xe-1));return qe}a(rt,"quantize"),e.interpolate=x,e.interpolateArray=P,e.interpolateBasis=n,e.interpolateBasisClosed=i,e.interpolateCubehelix=Ce,e.interpolateCubehelixLong=Te,e.interpolateDate=V,e.interpolateDiscrete=N,e.interpolateHcl=Qe,e.interpolateHclLong=je,e.interpolateHsl=he,e.interpolateHslLong=De,e.interpolateHue=m,e.interpolateLab=$e,e.interpolateNumber=W,e.interpolateNumberArray=M,e.interpolateObject=F,e.interpolateRgb=p,e.interpolateRgbBasis=y,e.interpolateRgbBasisClosed=E,e.interpolateRound=v,e.interpolateString=R,e.interpolateTransformCss=ye,e.interpolateTransformSvg=se,e.interpolateZoom=te,e.piecewise=Je,e.quantize=rt,Object.defineProperty(e,"__esModule",{value:!0})})});var CT=j((kT,ZTe)=>{d();(function(e,t){typeof kT=="object"&&typeof ZTe<"u"?t(kT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(kT,function(e){"use strict";var t=0,r=0,n=0,i=1e3,s,o,l=0,u=0,f=0,h=typeof performance=="object"&&performance.now?performance:Date,p=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(S){setTimeout(S,17)};function g(){return u||(p(y),u=h.now()+f)}a(g,"now");function y(){u=0}a(y,"clearNow");function E(){this._call=this._time=this._next=null}a(E,"Timer"),E.prototype=M.prototype={constructor:E,restart:function(S,T,k){if(typeof S!="function")throw new TypeError("callback is not a function");k=(k==null?g():+k)+(T==null?0:+T),!this._next&&o!==this&&(o?o._next=this:s=this,o=this),this._call=S,this._time=k,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};function M(S,T,k){var R=new E;return R.restart(S,T,k),R}a(M,"timer");function z(){g(),++t;for(var S=s,T;S;)(T=u-S._time)>=0&&S._call.call(null,T),S=S._next;--t}a(z,"timerFlush");function P(){u=(l=h.now())+f,t=r=0;try{z()}finally{t=0,V(),u=0}}a(P,"wake");function Q(){var S=h.now(),T=S-l;T>i&&(f-=T,l=S)}a(Q,"poke");function V(){for(var S,T=s,k,R=1/0;T;)T._call?(R>T._time&&(R=T._time),S=T,T=T._next):(k=T._next,T._next=null,T=S?S._next=k:s=k);o=S,W(R)}a(V,"nap");function W(S){if(!t){r&&(r=clearTimeout(r));var T=S-u;T>24?(S<1/0&&(r=setTimeout(P,S-h.now()-f)),n&&(n=clearInterval(n))):(n||(l=h.now(),n=setInterval(Q,i)),t=1,p(P))}}a(W,"sleep");function F(S,T,k){var R=new E;return T=T==null?0:+T,R.restart(function(x){R.stop(),S(x+T)},T,k),R}a(F,"timeout$1");function B(S,T,k){var R=new E,x=T;return T==null?(R.restart(S,T,k),R):(T=+T,k=k==null?g():+k,R.restart(a(function N(m){m+=x,R.restart(N,x+=T,k),S(m)},"tick"),T,k),R)}a(B,"interval$1"),e.interval=B,e.now=g,e.timeout=F,e.timer=M,e.timerFlush=z,Object.defineProperty(e,"__esModule",{value:!0})})});var MG=j((IT,eMe)=>{d();(function(e,t){typeof IT=="object"&&typeof eMe<"u"?t(IT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(IT,function(e){"use strict";function t(q){return+q}a(t,"linear");function r(q){return q*q}a(r,"quadIn");function n(q){return q*(2-q)}a(n,"quadOut");function i(q){return((q*=2)<=1?q*q:--q*(2-q)+1)/2}a(i,"quadInOut");function s(q){return q*q*q}a(s,"cubicIn");function o(q){return--q*q*q+1}a(o,"cubicOut");function l(q){return((q*=2)<=1?q*q*q:(q-=2)*q*q+2)/2}a(l,"cubicInOut");var u=3,f=a(function q(I){I=+I;function H(te){return Math.pow(te,I)}return a(H,"polyIn"),H.exponent=q,H},"custom")(u),h=a(function q(I){I=+I;function H(te){return 1-Math.pow(1-te,I)}return a(H,"polyOut"),H.exponent=q,H},"custom")(u),p=a(function q(I){I=+I;function H(te){return((te*=2)<=1?Math.pow(te,I):2-Math.pow(2-te,I))/2}return a(H,"polyInOut"),H.exponent=q,H},"custom")(u),g=Math.PI,y=g/2;function E(q){return+q==1?1:1-Math.cos(q*y)}a(E,"sinIn");function M(q){return Math.sin(q*y)}a(M,"sinOut");function z(q){return(1-Math.cos(g*q))/2}a(z,"sinInOut");function P(q){return(Math.pow(2,-10*q)-.0009765625)*1.0009775171065494}a(P,"tpmt");function Q(q){return P(1-+q)}a(Q,"expIn");function V(q){return 1-P(q)}a(V,"expOut");function W(q){return((q*=2)<=1?P(1-q):2-P(q-1))/2}a(W,"expInOut");function F(q){return 1-Math.sqrt(1-q*q)}a(F,"circleIn");function B(q){return Math.sqrt(1- --q*q)}a(B,"circleOut");function S(q){return((q*=2)<=1?1-Math.sqrt(1-q*q):Math.sqrt(1-(q-=2)*q)+1)/2}a(S,"circleInOut");var T=4/11,k=6/11,R=8/11,x=3/4,N=9/11,m=10/11,v=15/16,A=21/22,U=63/64,G=1/T/T;function K(q){return 1-Z(1-q)}a(K,"bounceIn");function Z(q){return(q=+q)<T?G*q*q:q<R?G*(q-=k)*q+x:q<m?G*(q-=N)*q+v:G*(q-=A)*q+U}a(Z,"bounceOut");function O(q){return((q*=2)<=1?1-Z(1-q):Z(q-1)+1)/2}a(O,"bounceInOut");var $=1.70158,L=a(function q(I){I=+I;function H(te){return(te=+te)*te*(I*(te-1)+te)}return a(H,"backIn"),H.overshoot=q,H},"custom")($),ee=a(function q(I){I=+I;function H(te){return--te*te*((te+1)*I+te)+1}return a(H,"backOut"),H.overshoot=q,H},"custom")($),ve=a(function q(I){I=+I;function H(te){return((te*=2)<1?te*te*((I+1)*te-I):(te-=2)*te*((I+1)*te+I)+2)/2}return a(H,"backInOut"),H.overshoot=q,H},"custom")($),ye=2*Math.PI,se=1,be=.3,Y=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return I*P(- --he)*Math.sin((te-he)/H)}return a(ie,"elasticIn"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be),D=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return 1-I*P(he=+he)*Math.sin((he+te)/H)}return a(ie,"elasticOut"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be),J=a(function q(I,H){var te=Math.asin(1/(I=Math.max(1,I)))*(H/=ye);function ie(he){return((he=he*2-1)<0?I*P(-he)*Math.sin((te-he)/H):2-I*P(he)*Math.sin((te+he)/H))/2}return a(ie,"elasticInOut"),ie.amplitude=function(he){return q(he,H*ye)},ie.period=function(he){return q(I,he)},ie},"custom")(se,be);e.easeBack=ve,e.easeBackIn=L,e.easeBackInOut=ve,e.easeBackOut=ee,e.easeBounce=Z,e.easeBounceIn=K,e.easeBounceInOut=O,e.easeBounceOut=Z,e.easeCircle=S,e.easeCircleIn=F,e.easeCircleInOut=S,e.easeCircleOut=B,e.easeCubic=l,e.easeCubicIn=s,e.easeCubicInOut=l,e.easeCubicOut=o,e.easeElastic=D,e.easeElasticIn=Y,e.easeElasticInOut=J,e.easeElasticOut=D,e.easeExp=W,e.easeExpIn=Q,e.easeExpInOut=W,e.easeExpOut=V,e.easeLinear=t,e.easePoly=p,e.easePolyIn=f,e.easePolyInOut=p,e.easePolyOut=h,e.easeQuad=i,e.easeQuadIn=r,e.easeQuadInOut=i,e.easeQuadOut=n,e.easeSin=z,e.easeSinIn=E,e.easeSinInOut=z,e.easeSinOut=M,Object.defineProperty(e,"__esModule",{value:!0})})});var MT=j((TT,tMe)=>{d();(function(e,t){typeof TT=="object"&&typeof tMe<"u"?t(TT,uv(),ty(),CT(),ry(),I5(),MG()):typeof define=="function"&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(TT,function(e,t,r,n,i,s,o){"use strict";var l=r.dispatch("start","end","cancel","interrupt"),u=[],f=0,h=1,p=2,g=3,y=4,E=5,M=6;function z(re,ue,me,Ae,Oe,Ge){var ke=re.__transition;if(!ke)re.__transition={};else if(me in ke)return;W(re,me,{name:ue,index:Ae,group:Oe,on:l,tween:u,time:Ge.time,delay:Ge.delay,duration:Ge.duration,ease:Ge.ease,timer:null,state:f})}a(z,"schedule");function P(re,ue){var me=V(re,ue);if(me.state>f)throw new Error("too late; already scheduled");return me}a(P,"init");function Q(re,ue){var me=V(re,ue);if(me.state>g)throw new Error("too late; already running");return me}a(Q,"set");function V(re,ue){var me=re.__transition;if(!me||!(me=me[ue]))throw new Error("transition not found");return me}a(V,"get");function W(re,ue,me){var Ae=re.__transition,Oe;Ae[ue]=me,me.timer=n.timer(Ge,0,me.time);function Ge(pt){me.state=h,me.timer.restart(ke,me.delay,me.time),me.delay<=pt&&ke(pt-me.delay)}a(Ge,"schedule");function ke(pt){var wt,Gt,Pt,tr;if(me.state!==h)return yt();for(wt in Ae)if(tr=Ae[wt],tr.name===me.name){if(tr.state===g)return n.timeout(ke);tr.state===y?(tr.state=M,tr.timer.stop(),tr.on.call("interrupt",re,re.__data__,tr.index,tr.group),delete Ae[wt]):+wt<ue&&(tr.state=M,tr.timer.stop(),tr.on.call("cancel",re,re.__data__,tr.index,tr.group),delete Ae[wt])}if(n.timeout(function(){me.state===g&&(me.state=y,me.timer.restart(st,me.delay,me.time),st(pt))}),me.state=p,me.on.call("start",re,re.__data__,me.index,me.group),me.state===p){for(me.state=g,Oe=new Array(Pt=me.tween.length),wt=0,Gt=-1;wt<Pt;++wt)(tr=me.tween[wt].value.call(re,re.__data__,me.index,me.group))&&(Oe[++Gt]=tr);Oe.length=Gt+1}}a(ke,"start");function st(pt){for(var wt=pt<me.duration?me.ease.call(null,pt/me.duration):(me.timer.restart(yt),me.state=E,1),Gt=-1,Pt=Oe.length;++Gt<Pt;)Oe[Gt].call(re,wt);me.state===E&&(me.on.call("end",re,re.__data__,me.index,me.group),yt())}a(st,"tick");function yt(){me.state=M,me.timer.stop(),delete Ae[ue];for(var pt in Ae)return;delete re.__transition}a(yt,"stop")}a(W,"create");function F(re,ue){var me=re.__transition,Ae,Oe,Ge=!0,ke;if(!!me){ue=ue==null?null:ue+"";for(ke in me){if((Ae=me[ke]).name!==ue){Ge=!1;continue}Oe=Ae.state>p&&Ae.state<E,Ae.state=M,Ae.timer.stop(),Ae.on.call(Oe?"interrupt":"cancel",re,re.__data__,Ae.index,Ae.group),delete me[ke]}Ge&&delete re.__transition}}a(F,"interrupt");function B(re){return this.each(function(){F(this,re)})}a(B,"selection_interrupt");function S(re,ue){var me,Ae;return function(){var Oe=Q(this,re),Ge=Oe.tween;if(Ge!==me){Ae=me=Ge;for(var ke=0,st=Ae.length;ke<st;++ke)if(Ae[ke].name===ue){Ae=Ae.slice(),Ae.splice(ke,1);break}}Oe.tween=Ae}}a(S,"tweenRemove");function T(re,ue,me){var Ae,Oe;if(typeof me!="function")throw new Error;return function(){var Ge=Q(this,re),ke=Ge.tween;if(ke!==Ae){Oe=(Ae=ke).slice();for(var st={name:ue,value:me},yt=0,pt=Oe.length;yt<pt;++yt)if(Oe[yt].name===ue){Oe[yt]=st;break}yt===pt&&Oe.push(st)}Ge.tween=Oe}}a(T,"tweenFunction");function k(re,ue){var me=this._id;if(re+="",arguments.length<2){for(var Ae=V(this.node(),me).tween,Oe=0,Ge=Ae.length,ke;Oe<Ge;++Oe)if((ke=Ae[Oe]).name===re)return ke.value;return null}return this.each((ue==null?S:T)(me,re,ue))}a(k,"transition_tween");function R(re,ue,me){var Ae=re._id;return re.each(function(){var Oe=Q(this,Ae);(Oe.value||(Oe.value={}))[ue]=me.apply(this,arguments)}),function(Oe){return V(Oe,Ae).value[ue]}}a(R,"tweenValue");function x(re,ue){var me;return(typeof ue=="number"?i.interpolateNumber:ue instanceof s.color?i.interpolateRgb:(me=s.color(ue))?(ue=me,i.interpolateRgb):i.interpolateString)(re,ue)}a(x,"interpolate");function N(re){return function(){this.removeAttribute(re)}}a(N,"attrRemove");function m(re){return function(){this.removeAttributeNS(re.space,re.local)}}a(m,"attrRemoveNS");function v(re,ue,me){var Ae,Oe=me+"",Ge;return function(){var ke=this.getAttribute(re);return ke===Oe?null:ke===Ae?Ge:Ge=ue(Ae=ke,me)}}a(v,"attrConstant");function A(re,ue,me){var Ae,Oe=me+"",Ge;return function(){var ke=this.getAttributeNS(re.space,re.local);return ke===Oe?null:ke===Ae?Ge:Ge=ue(Ae=ke,me)}}a(A,"attrConstantNS");function U(re,ue,me){var Ae,Oe,Ge;return function(){var ke,st=me(this),yt;return st==null?void this.removeAttribute(re):(ke=this.getAttribute(re),yt=st+"",ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=ue(Ae=ke,st)))}}a(U,"attrFunction");function G(re,ue,me){var Ae,Oe,Ge;return function(){var ke,st=me(this),yt;return st==null?void this.removeAttributeNS(re.space,re.local):(ke=this.getAttributeNS(re.space,re.local),yt=st+"",ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=ue(Ae=ke,st)))}}a(G,"attrFunctionNS");function K(re,ue){var me=t.namespace(re),Ae=me==="transform"?i.interpolateTransformSvg:x;return this.attrTween(re,typeof ue=="function"?(me.local?G:U)(me,Ae,R(this,"attr."+re,ue)):ue==null?(me.local?m:N)(me):(me.local?A:v)(me,Ae,ue))}a(K,"transition_attr");function Z(re,ue){return function(me){this.setAttribute(re,ue.call(this,me))}}a(Z,"attrInterpolate");function O(re,ue){return function(me){this.setAttributeNS(re.space,re.local,ue.call(this,me))}}a(O,"attrInterpolateNS");function $(re,ue){var me,Ae;function Oe(){var Ge=ue.apply(this,arguments);return Ge!==Ae&&(me=(Ae=Ge)&&O(re,Ge)),me}return a(Oe,"tween"),Oe._value=ue,Oe}a($,"attrTweenNS");function L(re,ue){var me,Ae;function Oe(){var Ge=ue.apply(this,arguments);return Ge!==Ae&&(me=(Ae=Ge)&&Z(re,Ge)),me}return a(Oe,"tween"),Oe._value=ue,Oe}a(L,"attrTween");function ee(re,ue){var me="attr."+re;if(arguments.length<2)return(me=this.tween(me))&&me._value;if(ue==null)return this.tween(me,null);if(typeof ue!="function")throw new Error;var Ae=t.namespace(re);return this.tween(me,(Ae.local?$:L)(Ae,ue))}a(ee,"transition_attrTween");function ve(re,ue){return function(){P(this,re).delay=+ue.apply(this,arguments)}}a(ve,"delayFunction");function ye(re,ue){return ue=+ue,function(){P(this,re).delay=ue}}a(ye,"delayConstant");function se(re){var ue=this._id;return arguments.length?this.each((typeof re=="function"?ve:ye)(ue,re)):V(this.node(),ue).delay}a(se,"transition_delay");function be(re,ue){return function(){Q(this,re).duration=+ue.apply(this,arguments)}}a(be,"durationFunction");function Y(re,ue){return ue=+ue,function(){Q(this,re).duration=ue}}a(Y,"durationConstant");function D(re){var ue=this._id;return arguments.length?this.each((typeof re=="function"?be:Y)(ue,re)):V(this.node(),ue).duration}a(D,"transition_duration");function J(re,ue){if(typeof ue!="function")throw new Error;return function(){Q(this,re).ease=ue}}a(J,"easeConstant");function q(re){var ue=this._id;return arguments.length?this.each(J(ue,re)):V(this.node(),ue).ease}a(q,"transition_ease");function I(re){typeof re!="function"&&(re=t.matcher(re));for(var ue=this._groups,me=ue.length,Ae=new Array(me),Oe=0;Oe<me;++Oe)for(var Ge=ue[Oe],ke=Ge.length,st=Ae[Oe]=[],yt,pt=0;pt<ke;++pt)(yt=Ge[pt])&&re.call(yt,yt.__data__,pt,Ge)&&st.push(yt);return new it(Ae,this._parents,this._name,this._id)}a(I,"transition_filter");function H(re){if(re._id!==this._id)throw new Error;for(var ue=this._groups,me=re._groups,Ae=ue.length,Oe=me.length,Ge=Math.min(Ae,Oe),ke=new Array(Ae),st=0;st<Ge;++st)for(var yt=ue[st],pt=me[st],wt=yt.length,Gt=ke[st]=new Array(wt),Pt,tr=0;tr<wt;++tr)(Pt=yt[tr]||pt[tr])&&(Gt[tr]=Pt);for(;st<Ae;++st)ke[st]=ue[st];return new it(ke,this._parents,this._name,this._id)}a(H,"transition_merge");function te(re){return(re+"").trim().split(/^|\s+/).every(function(ue){var me=ue.indexOf(".");return me>=0&&(ue=ue.slice(0,me)),!ue||ue==="start"})}a(te,"start");function ie(re,ue,me){var Ae,Oe,Ge=te(ue)?P:Q;return function(){var ke=Ge(this,re),st=ke.on;st!==Ae&&(Oe=(Ae=st).copy()).on(ue,me),ke.on=Oe}}a(ie,"onFunction");function he(re,ue){var me=this._id;return arguments.length<2?V(this.node(),me).on.on(re):this.each(ie(me,re,ue))}a(he,"transition_on");function De(re){return function(){var ue=this.parentNode;for(var me in this.__transition)if(+me!==re)return;ue&&ue.removeChild(this)}}a(De,"removeFunction");function $e(){return this.on("end.remove",De(this._id))}a($e,"transition_remove");function ze(re){var ue=this._name,me=this._id;typeof re!="function"&&(re=t.selector(re));for(var Ae=this._groups,Oe=Ae.length,Ge=new Array(Oe),ke=0;ke<Oe;++ke)for(var st=Ae[ke],yt=st.length,pt=Ge[ke]=new Array(yt),wt,Gt,Pt=0;Pt<yt;++Pt)(wt=st[Pt])&&(Gt=re.call(wt,wt.__data__,Pt,st))&&("__data__"in wt&&(Gt.__data__=wt.__data__),pt[Pt]=Gt,z(pt[Pt],ue,me,Pt,pt,V(wt,me)));return new it(Ge,this._parents,ue,me)}a(ze,"transition_select");function Qe(re){var ue=this._name,me=this._id;typeof re!="function"&&(re=t.selectorAll(re));for(var Ae=this._groups,Oe=Ae.length,Ge=[],ke=[],st=0;st<Oe;++st)for(var yt=Ae[st],pt=yt.length,wt,Gt=0;Gt<pt;++Gt)if(wt=yt[Gt]){for(var Pt=re.call(wt,wt.__data__,Gt,yt),tr,cr=V(wt,me),pr=0,Cr=Pt.length;pr<Cr;++pr)(tr=Pt[pr])&&z(tr,ue,me,pr,Pt,cr);Ge.push(Pt),ke.push(wt)}return new it(Ge,ke,ue,me)}a(Qe,"transition_selectAll");var je=t.selection.prototype.constructor;function We(){return new je(this._groups,this._parents)}a(We,"transition_selection");function Ce(re,ue){var me,Ae,Oe;return function(){var Ge=t.style(this,re),ke=(this.style.removeProperty(re),t.style(this,re));return Ge===ke?null:Ge===me&&ke===Ae?Oe:Oe=ue(me=Ge,Ae=ke)}}a(Ce,"styleNull");function Te(re){return function(){this.style.removeProperty(re)}}a(Te,"styleRemove");function Je(re,ue,me){var Ae,Oe=me+"",Ge;return function(){var ke=t.style(this,re);return ke===Oe?null:ke===Ae?Ge:Ge=ue(Ae=ke,me)}}a(Je,"styleConstant");function rt(re,ue,me){var Ae,Oe,Ge;return function(){var ke=t.style(this,re),st=me(this),yt=st+"";return st==null&&(yt=st=(this.style.removeProperty(re),t.style(this,re))),ke===yt?null:ke===Ae&&yt===Oe?Ge:(Oe=yt,Ge=ue(Ae=ke,st))}}a(rt,"styleFunction");function ge(re,ue){var me,Ae,Oe,Ge="style."+ue,ke="end."+Ge,st;return function(){var yt=Q(this,re),pt=yt.on,wt=yt.value[Ge]==null?st||(st=Te(ue)):void 0;(pt!==me||Oe!==wt)&&(Ae=(me=pt).copy()).on(ke,Oe=wt),yt.on=Ae}}a(ge,"styleMaybeRemove");function xe(re,ue,me){var Ae=(re+="")=="transform"?i.interpolateTransformCss:x;return ue==null?this.styleTween(re,Ce(re,Ae)).on("end.style."+re,Te(re)):typeof ue=="function"?this.styleTween(re,rt(re,Ae,R(this,"style."+re,ue))).each(ge(this._id,re)):this.styleTween(re,Je(re,Ae,ue),me).on("end.style."+re,null)}a(xe,"transition_style");function qe(re,ue,me){return function(Ae){this.style.setProperty(re,ue.call(this,Ae),me)}}a(qe,"styleInterpolate");function ot(re,ue,me){var Ae,Oe;function Ge(){var ke=ue.apply(this,arguments);return ke!==Oe&&(Ae=(Oe=ke)&&qe(re,ke,me)),Ae}return a(Ge,"tween"),Ge._value=ue,Ge}a(ot,"styleTween");function at(re,ue,me){var Ae="style."+(re+="");if(arguments.length<2)return(Ae=this.tween(Ae))&&Ae._value;if(ue==null)return this.tween(Ae,null);if(typeof ue!="function")throw new Error;return this.tween(Ae,ot(re,ue,me??""))}a(at,"transition_styleTween");function pe(re){return function(){this.textContent=re}}a(pe,"textConstant");function Re(re){return function(){var ue=re(this);this.textContent=ue??""}}a(Re,"textFunction");function He(re){return this.tween("text",typeof re=="function"?Re(R(this,"text",re)):pe(re==null?"":re+""))}a(He,"transition_text");function tt(re){return function(ue){this.textContent=re.call(this,ue)}}a(tt,"textInterpolate");function Ve(re){var ue,me;function Ae(){var Oe=re.apply(this,arguments);return Oe!==me&&(ue=(me=Oe)&&tt(Oe)),ue}return a(Ae,"tween"),Ae._value=re,Ae}a(Ve,"textTween");function et(re){var ue="text";if(arguments.length<1)return(ue=this.tween(ue))&&ue._value;if(re==null)return this.tween(ue,null);if(typeof re!="function")throw new Error;return this.tween(ue,Ve(re))}a(et,"transition_textTween");function gt(){for(var re=this._name,ue=this._id,me=bt(),Ae=this._groups,Oe=Ae.length,Ge=0;Ge<Oe;++Ge)for(var ke=Ae[Ge],st=ke.length,yt,pt=0;pt<st;++pt)if(yt=ke[pt]){var wt=V(yt,ue);z(yt,re,me,pt,ke,{time:wt.time+wt.delay+wt.duration,delay:0,duration:wt.duration,ease:wt.ease})}return new it(Ae,this._parents,re,me)}a(gt,"transition_transition");function lt(){var re,ue,me=this,Ae=me._id,Oe=me.size();return new Promise(function(Ge,ke){var st={value:ke},yt={value:function(){--Oe===0&&Ge()}};me.each(function(){var pt=Q(this,Ae),wt=pt.on;wt!==re&&(ue=(re=wt).copy(),ue._.cancel.push(st),ue._.interrupt.push(st),ue._.end.push(yt)),pt.on=ue})})}a(lt,"transition_end");var zt=0;function it(re,ue,me,Ae){this._groups=re,this._parents=ue,this._name=me,this._id=Ae}a(it,"Transition");function Wt(re){return t.selection().transition(re)}a(Wt,"transition");function bt(){return++zt}a(bt,"newId");var Se=t.selection.prototype;it.prototype=Wt.prototype={constructor:it,select:ze,selectAll:Qe,filter:I,merge:H,selection:We,transition:gt,call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:he,attr:K,attrTween:ee,style:xe,styleTween:at,text:He,textTween:et,remove:$e,tween:k,delay:se,duration:D,ease:q,end:lt};var Ie={time:null,delay:0,duration:250,ease:o.easeCubicInOut};function le(re,ue){for(var me;!(me=re.__transition)||!(me=me[ue]);)if(!(re=re.parentNode))return Ie.time=n.now(),Ie;return me}a(le,"inherit");function _e(re){var ue,me;re instanceof it?(ue=re._id,re=re._name):(ue=bt(),(me=Ie).time=n.now(),re=re==null?null:re+"");for(var Ae=this._groups,Oe=Ae.length,Ge=0;Ge<Oe;++Ge)for(var ke=Ae[Ge],st=ke.length,yt,pt=0;pt<st;++pt)(yt=ke[pt])&&z(yt,re,ue,pt,ke,me||le(yt,ue));return new it(Ae,this._parents,re,ue)}a(_e,"selection_transition"),t.selection.prototype.interrupt=B,t.selection.prototype.transition=_e;var ae=[null];function ce(re,ue){var me=re.__transition,Ae,Oe;if(me){ue=ue==null?null:ue+"";for(Oe in me)if((Ae=me[Oe]).state>h&&Ae.name===ue)return new it([[re]],ae,ue,+Oe)}return null}a(ce,"active"),e.active=ce,e.interrupt=F,e.transition=Wt,Object.defineProperty(e,"__esModule",{value:!0})})});var nMe=j((BT,rMe)=>{d();(function(e,t){typeof BT=="object"&&typeof rMe<"u"?t(BT,ty(),AT(),ry(),uv(),MT()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(BT,function(e,t,r,n,i,s){"use strict";function o(O){return function(){return O}}a(o,"constant");function l(O,$,L){this.target=O,this.type=$,this.selection=L}a(l,"BrushEvent");function u(){i.event.stopImmediatePropagation()}a(u,"nopropagation");function f(){i.event.preventDefault(),i.event.stopImmediatePropagation()}a(f,"noevent");var h={name:"drag"},p={name:"space"},g={name:"handle"},y={name:"center"};function E(O){return[+O[0],+O[1]]}a(E,"number1");function M(O){return[E(O[0]),E(O[1])]}a(M,"number2");function z(O){return function($){return i.touch($,i.event.touches,O)}}a(z,"toucher");var P={name:"x",handles:["w","e"].map(k),input:function(O,$){return O==null?null:[[+O[0],$[0][1]],[+O[1],$[1][1]]]},output:function(O){return O&&[O[0][0],O[1][0]]}},Q={name:"y",handles:["n","s"].map(k),input:function(O,$){return O==null?null:[[$[0][0],+O[0]],[$[1][0],+O[1]]]},output:function(O){return O&&[O[0][1],O[1][1]]}},V={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(k),input:function(O){return O==null?null:M(O)},output:function(O){return O}},W={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},F={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},B={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},T={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function k(O){return{type:O}}a(k,"type");function R(){return!i.event.ctrlKey&&!i.event.button}a(R,"defaultFilter");function x(){var O=this.ownerSVGElement||this;return O.hasAttribute("viewBox")?(O=O.viewBox.baseVal,[[O.x,O.y],[O.x+O.width,O.y+O.height]]):[[0,0],[O.width.baseVal.value,O.height.baseVal.value]]}a(x,"defaultExtent");function N(){return navigator.maxTouchPoints||"ontouchstart"in this}a(N,"defaultTouchable");function m(O){for(;!O.__brush;)if(!(O=O.parentNode))return;return O.__brush}a(m,"local");function v(O){return O[0][0]===O[1][0]||O[0][1]===O[1][1]}a(v,"empty");function A(O){var $=O.__brush;return $?$.dim.output($.selection):null}a(A,"brushSelection");function U(){return Z(P)}a(U,"brushX");function G(){return Z(Q)}a(G,"brushY");function K(){return Z(V)}a(K,"brush");function Z(O){var $=x,L=R,ee=N,ve=!0,ye=t.dispatch("start","brush","end"),se=6,be;function Y(he){var De=he.property("__brush",ie).selectAll(".overlay").data([k("overlay")]);De.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",W.overlay).merge(De).each(function(){var ze=m(this).extent;i.select(this).attr("x",ze[0][0]).attr("y",ze[0][1]).attr("width",ze[1][0]-ze[0][0]).attr("height",ze[1][1]-ze[0][1])}),he.selectAll(".selection").data([k("selection")]).enter().append("rect").attr("class","selection").attr("cursor",W.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $e=he.selectAll(".handle").data(O.handles,function(ze){return ze.type});$e.exit().remove(),$e.enter().append("rect").attr("class",function(ze){return"handle handle--"+ze.type}).attr("cursor",function(ze){return W[ze.type]}),he.each(D).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",I).filter(ee).on("touchstart.brush",I).on("touchmove.brush",H).on("touchend.brush touchcancel.brush",te).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(Y,"brush"),Y.move=function(he,De){he.selection?he.on("start.brush",function(){J(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){J(this,arguments).end()}).tween("brush",function(){var $e=this,ze=$e.__brush,Qe=J($e,arguments),je=ze.selection,We=O.input(typeof De=="function"?De.apply(this,arguments):De,ze.extent),Ce=n.interpolate(je,We);function Te(Je){ze.selection=Je===1&&We===null?null:Ce(Je),D.call($e),Qe.brush()}return a(Te,"tween"),je!==null&&We!==null?Te:Te(1)}):he.each(function(){var $e=this,ze=arguments,Qe=$e.__brush,je=O.input(typeof De=="function"?De.apply($e,ze):De,Qe.extent),We=J($e,ze).beforestart();s.interrupt($e),Qe.selection=je===null?null:je,D.call($e),We.start().brush().end()})},Y.clear=function(he){Y.move(he,null)};function D(){var he=i.select(this),De=m(this).selection;De?(he.selectAll(".selection").style("display",null).attr("x",De[0][0]).attr("y",De[0][1]).attr("width",De[1][0]-De[0][0]).attr("height",De[1][1]-De[0][1]),he.selectAll(".handle").style("display",null).attr("x",function($e){return $e.type[$e.type.length-1]==="e"?De[1][0]-se/2:De[0][0]-se/2}).attr("y",function($e){return $e.type[0]==="s"?De[1][1]-se/2:De[0][1]-se/2}).attr("width",function($e){return $e.type==="n"||$e.type==="s"?De[1][0]-De[0][0]+se:se}).attr("height",function($e){return $e.type==="e"||$e.type==="w"?De[1][1]-De[0][1]+se:se})):he.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}a(D,"redraw");function J(he,De,$e){var ze=he.__brush.emitter;return ze&&(!$e||!ze.clean)?ze:new q(he,De,$e)}a(J,"emitter");function q(he,De,$e){this.that=he,this.args=De,this.state=he.__brush,this.active=0,this.clean=$e}a(q,"Emitter"),q.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(he){i.customEvent(new l(Y,he,O.output(this.state.selection)),ye.apply,ye,[he,this.that,this.args])}};function I(){if(be&&!i.event.touches||!L.apply(this,arguments))return;var he=this,De=i.event.target.__data__.type,$e=(ve&&i.event.metaKey?De="overlay":De)==="selection"?h:ve&&i.event.altKey?y:g,ze=O===Q?null:S[De],Qe=O===P?null:T[De],je=m(he),We=je.extent,Ce=je.selection,Te=We[0][0],Je,rt,ge=We[0][1],xe,qe,ot=We[1][0],at,pe,Re=We[1][1],He,tt,Ve=0,et=0,gt,lt=ze&&Qe&&ve&&i.event.shiftKey,zt,it,Wt=i.event.touches?z(i.event.changedTouches[0].identifier):i.mouse,bt=Wt(he),Se=bt,Ie=J(he,arguments,!0).beforestart();De==="overlay"?(Ce&&(gt=!0),je.selection=Ce=[[Je=O===Q?Te:bt[0],xe=O===P?ge:bt[1]],[at=O===Q?ot:Je,He=O===P?Re:xe]]):(Je=Ce[0][0],xe=Ce[0][1],at=Ce[1][0],He=Ce[1][1]),rt=Je,qe=xe,pe=at,tt=He;var le=i.select(he).attr("pointer-events","none"),_e=le.selectAll(".overlay").attr("cursor",W[De]);if(i.event.touches)Ie.moved=ce,Ie.ended=ue;else{var ae=i.select(i.event.view).on("mousemove.brush",ce,!0).on("mouseup.brush",ue,!0);ve&&ae.on("keydown.brush",me,!0).on("keyup.brush",Ae,!0),r.dragDisable(i.event.view)}u(),s.interrupt(he),D.call(he),Ie.start();function ce(){var Oe=Wt(he);lt&&!zt&&!it&&(Math.abs(Oe[0]-Se[0])>Math.abs(Oe[1]-Se[1])?it=!0:zt=!0),Se=Oe,gt=!0,f(),re()}a(ce,"moved");function re(){var Oe;switch(Ve=Se[0]-bt[0],et=Se[1]-bt[1],$e){case p:case h:{ze&&(Ve=Math.max(Te-Je,Math.min(ot-at,Ve)),rt=Je+Ve,pe=at+Ve),Qe&&(et=Math.max(ge-xe,Math.min(Re-He,et)),qe=xe+et,tt=He+et);break}case g:{ze<0?(Ve=Math.max(Te-Je,Math.min(ot-Je,Ve)),rt=Je+Ve,pe=at):ze>0&&(Ve=Math.max(Te-at,Math.min(ot-at,Ve)),rt=Je,pe=at+Ve),Qe<0?(et=Math.max(ge-xe,Math.min(Re-xe,et)),qe=xe+et,tt=He):Qe>0&&(et=Math.max(ge-He,Math.min(Re-He,et)),qe=xe,tt=He+et);break}case y:{ze&&(rt=Math.max(Te,Math.min(ot,Je-Ve*ze)),pe=Math.max(Te,Math.min(ot,at+Ve*ze))),Qe&&(qe=Math.max(ge,Math.min(Re,xe-et*Qe)),tt=Math.max(ge,Math.min(Re,He+et*Qe)));break}}pe<rt&&(ze*=-1,Oe=Je,Je=at,at=Oe,Oe=rt,rt=pe,pe=Oe,De in F&&_e.attr("cursor",W[De=F[De]])),tt<qe&&(Qe*=-1,Oe=xe,xe=He,He=Oe,Oe=qe,qe=tt,tt=Oe,De in B&&_e.attr("cursor",W[De=B[De]])),je.selection&&(Ce=je.selection),zt&&(rt=Ce[0][0],pe=Ce[1][0]),it&&(qe=Ce[0][1],tt=Ce[1][1]),(Ce[0][0]!==rt||Ce[0][1]!==qe||Ce[1][0]!==pe||Ce[1][1]!==tt)&&(je.selection=[[rt,qe],[pe,tt]],D.call(he),Ie.brush())}a(re,"move");function ue(){if(u(),i.event.touches){if(i.event.touches.length)return;be&&clearTimeout(be),be=setTimeout(function(){be=null},500)}else r.dragEnable(i.event.view,gt),ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);le.attr("pointer-events","all"),_e.attr("cursor",W.overlay),je.selection&&(Ce=je.selection),v(Ce)&&(je.selection=null,D.call(he)),Ie.end()}a(ue,"ended");function me(){switch(i.event.keyCode){case 16:{lt=ze&&Qe;break}case 18:{$e===g&&(ze&&(at=pe-Ve*ze,Je=rt+Ve*ze),Qe&&(He=tt-et*Qe,xe=qe+et*Qe),$e=y,re());break}case 32:{($e===g||$e===y)&&(ze<0?at=pe-Ve:ze>0&&(Je=rt-Ve),Qe<0?He=tt-et:Qe>0&&(xe=qe-et),$e=p,_e.attr("cursor",W.selection),re());break}default:return}f()}a(me,"keydowned");function Ae(){switch(i.event.keyCode){case 16:{lt&&(zt=it=lt=!1,re());break}case 18:{$e===y&&(ze<0?at=pe:ze>0&&(Je=rt),Qe<0?He=tt:Qe>0&&(xe=qe),$e=g,re());break}case 32:{$e===p&&(i.event.altKey?(ze&&(at=pe-Ve*ze,Je=rt+Ve*ze),Qe&&(He=tt-et*Qe,xe=qe+et*Qe),$e=y):(ze<0?at=pe:ze>0&&(Je=rt),Qe<0?He=tt:Qe>0&&(xe=qe),$e=g),_e.attr("cursor",W[De]),re());break}default:return}f()}a(Ae,"keyupped")}a(I,"started");function H(){J(this,arguments).moved()}a(H,"touchmoved");function te(){J(this,arguments).ended()}a(te,"touchended");function ie(){var he=this.__brush||{selection:null};return he.extent=M($.apply(this,arguments)),he.dim=O,he}return a(ie,"initialize"),Y.extent=function(he){return arguments.length?($=typeof he=="function"?he:o(M(he)),Y):$},Y.filter=function(he){return arguments.length?(L=typeof he=="function"?he:o(!!he),Y):L},Y.touchable=function(he){return arguments.length?(ee=typeof he=="function"?he:o(!!he),Y):ee},Y.handleSize=function(he){return arguments.length?(se=+he,Y):se},Y.keyModifiers=function(he){return arguments.length?(ve=!!he,Y):ve},Y.on=function(){var he=ye.on.apply(ye,arguments);return he===ye?Y:he},Y}a(Z,"brush$1"),e.brush=K,e.brushSelection=A,e.brushX=U,e.brushY=G,Object.defineProperty(e,"__esModule",{value:!0})})});var LT=j((RT,iMe)=>{d();(function(e,t){typeof RT=="object"&&typeof iMe<"u"?t(RT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(RT,function(e){"use strict";var t=Math.PI,r=2*t,n=1e-6,i=r-n;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}a(s,"Path");function o(){return new s}a(o,"path"),s.prototype=o.prototype={constructor:s,moveTo:function(l,u){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+u)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(l,u){this._+="L"+(this._x1=+l)+","+(this._y1=+u)},quadraticCurveTo:function(l,u,f,h){this._+="Q"+ +l+","+ +u+","+(this._x1=+f)+","+(this._y1=+h)},bezierCurveTo:function(l,u,f,h,p,g){this._+="C"+ +l+","+ +u+","+ +f+","+ +h+","+(this._x1=+p)+","+(this._y1=+g)},arcTo:function(l,u,f,h,p){l=+l,u=+u,f=+f,h=+h,p=+p;var g=this._x1,y=this._y1,E=f-l,M=h-u,z=g-l,P=y-u,Q=z*z+P*P;if(p<0)throw new Error("negative radius: "+p);if(this._x1===null)this._+="M"+(this._x1=l)+","+(this._y1=u);else if(Q>n)if(!(Math.abs(P*E-M*z)>n)||!p)this._+="L"+(this._x1=l)+","+(this._y1=u);else{var V=f-g,W=h-y,F=E*E+M*M,B=V*V+W*W,S=Math.sqrt(F),T=Math.sqrt(Q),k=p*Math.tan((t-Math.acos((F+Q-B)/(2*S*T)))/2),R=k/T,x=k/S;Math.abs(R-1)>n&&(this._+="L"+(l+R*z)+","+(u+R*P)),this._+="A"+p+","+p+",0,0,"+ +(P*V>z*W)+","+(this._x1=l+x*E)+","+(this._y1=u+x*M)}},arc:function(l,u,f,h,p,g){l=+l,u=+u,f=+f,g=!!g;var y=f*Math.cos(h),E=f*Math.sin(h),M=l+y,z=u+E,P=1^g,Q=g?h-p:p-h;if(f<0)throw new Error("negative radius: "+f);this._x1===null?this._+="M"+M+","+z:(Math.abs(this._x1-M)>n||Math.abs(this._y1-z)>n)&&(this._+="L"+M+","+z),f&&(Q<0&&(Q=Q%r+r),Q>i?this._+="A"+f+","+f+",0,1,"+P+","+(l-y)+","+(u-E)+"A"+f+","+f+",0,1,"+P+","+(this._x1=M)+","+(this._y1=z):Q>n&&(this._+="A"+f+","+f+",0,"+ +(Q>=t)+","+P+","+(this._x1=l+f*Math.cos(p))+","+(this._y1=u+f*Math.sin(p))))},rect:function(l,u,f,h){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+u)+"h"+ +f+"v"+ +h+"h"+-f+"Z"},toString:function(){return this._}},e.path=o,Object.defineProperty(e,"__esModule",{value:!0})})});var sMe=j((DT,aMe)=>{d();(function(e,t){typeof DT=="object"&&typeof aMe<"u"?t(DT,lv(),LT()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-path"],t):t(e.d3=e.d3||{},e.d3,e.d3)})(DT,function(e,t,r){"use strict";var n=Math.cos,i=Math.sin,s=Math.PI,o=s/2,l=s*2,u=Math.max;function f(V){return function(W,F){return V(W.source.value+W.target.value,F.source.value+F.target.value)}}a(f,"compareValue");function h(){var V=0,W=null,F=null,B=null;function S(T){var k=T.length,R=[],x=t.range(k),N=[],m=[],v=m.groups=new Array(k),A=new Array(k*k),U,G,K,Z,O,$;for(U=0,O=-1;++O<k;){for(G=0,$=-1;++$<k;)G+=T[O][$];R.push(G),N.push(t.range(k)),U+=G}for(W&&x.sort(function(D,J){return W(R[D],R[J])}),F&&N.forEach(function(D,J){D.sort(function(q,I){return F(T[J][q],T[J][I])})}),U=u(0,l-V*k)/U,Z=U?V:l/k,G=0,O=-1;++O<k;){for(K=G,$=-1;++$<k;){var L=x[O],ee=N[L][$],ve=T[L][ee],ye=G,se=G+=ve*U;A[ee*k+L]={index:L,subindex:ee,startAngle:ye,endAngle:se,value:ve}}v[L]={index:L,startAngle:K,endAngle:G,value:R[L]},G+=Z}for(O=-1;++O<k;)for($=O-1;++$<k;){var be=A[$*k+O],Y=A[O*k+$];(be.value||Y.value)&&m.push(be.value<Y.value?{source:Y,target:be}:{source:be,target:Y})}return B?m.sort(B):m}return a(S,"chord"),S.padAngle=function(T){return arguments.length?(V=u(0,T),S):V},S.sortGroups=function(T){return arguments.length?(W=T,S):W},S.sortSubgroups=function(T){return arguments.length?(F=T,S):F},S.sortChords=function(T){return arguments.length?(T==null?B=null:(B=f(T))._=T,S):B&&B._},S}a(h,"chord");var p=Array.prototype.slice;function g(V){return function(){return V}}a(g,"constant");function y(V){return V.source}a(y,"defaultSource");function E(V){return V.target}a(E,"defaultTarget");function M(V){return V.radius}a(M,"defaultRadius");function z(V){return V.startAngle}a(z,"defaultStartAngle");function P(V){return V.endAngle}a(P,"defaultEndAngle");function Q(){var V=y,W=E,F=M,B=z,S=P,T=null;function k(){var R,x=p.call(arguments),N=V.apply(this,x),m=W.apply(this,x),v=+F.apply(this,(x[0]=N,x)),A=B.apply(this,x)-o,U=S.apply(this,x)-o,G=v*n(A),K=v*i(A),Z=+F.apply(this,(x[0]=m,x)),O=B.apply(this,x)-o,$=S.apply(this,x)-o;if(T||(T=R=r.path()),T.moveTo(G,K),T.arc(0,0,v,A,U),(A!==O||U!==$)&&(T.quadraticCurveTo(0,0,Z*n(O),Z*i(O)),T.arc(0,0,Z,O,$)),T.quadraticCurveTo(0,0,G,K),T.closePath(),R)return T=null,R+""||null}return a(k,"ribbon"),k.radius=function(R){return arguments.length?(F=typeof R=="function"?R:g(+R),k):F},k.startAngle=function(R){return arguments.length?(B=typeof R=="function"?R:g(+R),k):B},k.endAngle=function(R){return arguments.length?(S=typeof R=="function"?R:g(+R),k):S},k.source=function(R){return arguments.length?(V=R,k):V},k.target=function(R){return arguments.length?(W=R,k):W},k.context=function(R){return arguments.length?(T=R??null,k):T},k}a(Q,"ribbon"),e.chord=h,e.ribbon=Q,Object.defineProperty(e,"__esModule",{value:!0})})});var OT=j((NT,oMe)=>{d();(function(e,t){typeof NT=="object"&&typeof oMe<"u"?t(NT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(NT,function(e){"use strict";var t="$";function r(){}a(r,"Map"),r.prototype=n.prototype={constructor:r,has:function(M){return t+M in this},get:function(M){return this[t+M]},set:function(M,z){return this[t+M]=z,this},remove:function(M){var z=t+M;return z in this&&delete this[z]},clear:function(){for(var M in this)M[0]===t&&delete this[M]},keys:function(){var M=[];for(var z in this)z[0]===t&&M.push(z.slice(1));return M},values:function(){var M=[];for(var z in this)z[0]===t&&M.push(this[z]);return M},entries:function(){var M=[];for(var z in this)z[0]===t&&M.push({key:z.slice(1),value:this[z]});return M},size:function(){var M=0;for(var z in this)z[0]===t&&++M;return M},empty:function(){for(var M in this)if(M[0]===t)return!1;return!0},each:function(M){for(var z in this)z[0]===t&&M(this[z],z.slice(1),this)}};function n(M,z){var P=new r;if(M instanceof r)M.each(function(B,S){P.set(S,B)});else if(Array.isArray(M)){var Q=-1,V=M.length,W;if(z==null)for(;++Q<V;)P.set(Q,M[Q]);else for(;++Q<V;)P.set(z(W=M[Q],Q,M),W)}else if(M)for(var F in M)P.set(F,M[F]);return P}a(n,"map");function i(){var M=[],z=[],P,Q,V;function W(B,S,T,k){if(S>=M.length)return P!=null&&B.sort(P),Q!=null?Q(B):B;for(var R=-1,x=B.length,N=M[S++],m,v,A=n(),U,G=T();++R<x;)(U=A.get(m=N(v=B[R])+""))?U.push(v):A.set(m,[v]);return A.each(function(K,Z){k(G,Z,W(K,S,T,k))}),G}a(W,"apply");function F(B,S){if(++S>M.length)return B;var T,k=z[S-1];return Q!=null&&S>=M.length?T=B.entries():(T=[],B.each(function(R,x){T.push({key:x,values:F(R,S)})})),k!=null?T.sort(function(R,x){return k(R.key,x.key)}):T}return a(F,"entries"),V={object:function(B){return W(B,0,s,o)},map:function(B){return W(B,0,l,u)},entries:function(B){return F(W(B,0,l,u),0)},key:function(B){return M.push(B),V},sortKeys:function(B){return z[M.length-1]=B,V},sortValues:function(B){return P=B,V},rollup:function(B){return Q=B,V}}}a(i,"nest");function s(){return{}}a(s,"createObject");function o(M,z,P){M[z]=P}a(o,"setObject");function l(){return n()}a(l,"createMap");function u(M,z,P){M.set(z,P)}a(u,"setMap");function f(){}a(f,"Set");var h=n.prototype;f.prototype=p.prototype={constructor:f,has:h.has,add:function(M){return M+="",this[t+M]=M,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};function p(M,z){var P=new f;if(M instanceof f)M.each(function(W){P.add(W)});else if(M){var Q=-1,V=M.length;if(z==null)for(;++Q<V;)P.add(M[Q]);else for(;++Q<V;)P.add(z(M[Q],Q,M))}return P}a(p,"set");function g(M){var z=[];for(var P in M)z.push(P);return z}a(g,"keys");function y(M){var z=[];for(var P in M)z.push(M[P]);return z}a(y,"values");function E(M){var z=[];for(var P in M)z.push({key:P,value:M[P]});return z}a(E,"entries"),e.nest=i,e.set=p,e.map=n,e.keys=g,e.values=y,e.entries=E,Object.defineProperty(e,"__esModule",{value:!0})})});var lMe=j((qT,cMe)=>{d();(function(e,t){typeof qT=="object"&&typeof cMe<"u"?t(qT,lv()):typeof define=="function"&&define.amd?define(["exports","d3-array"],t):t(e.d3=e.d3||{},e.d3)})(qT,function(e,t){"use strict";var r=Array.prototype,n=r.slice;function i(F,B){return F-B}a(i,"ascending");function s(F){for(var B=0,S=F.length,T=F[S-1][1]*F[0][0]-F[S-1][0]*F[0][1];++B<S;)T+=F[B-1][1]*F[B][0]-F[B-1][0]*F[B][1];return T}a(s,"area");function o(F){return function(){return F}}a(o,"constant");function l(F,B){for(var S=-1,T=B.length,k;++S<T;)if(k=u(F,B[S]))return k;return 0}a(l,"contains");function u(F,B){for(var S=B[0],T=B[1],k=-1,R=0,x=F.length,N=x-1;R<x;N=R++){var m=F[R],v=m[0],A=m[1],U=F[N],G=U[0],K=U[1];if(f(m,U,B))return 0;A>T!=K>T&&S<(G-v)*(T-A)/(K-A)+v&&(k=-k)}return k}a(u,"ringContains");function f(F,B,S){var T;return h(F,B,S)&&p(F[T=+(F[0]===B[0])],S[T],B[T])}a(f,"segmentContains");function h(F,B,S){return(B[0]-F[0])*(S[1]-F[1])===(S[0]-F[0])*(B[1]-F[1])}a(h,"collinear");function p(F,B,S){return F<=B&&B<=S||S<=B&&B<=F}a(p,"within");function g(){}a(g,"noop");var y=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function E(){var F=1,B=1,S=t.thresholdSturges,T=m;function k(v){var A=S(v);if(Array.isArray(A))A=A.slice().sort(i);else{var U=t.extent(v),G=U[0],K=U[1];A=t.tickStep(G,K,A),A=t.range(Math.floor(G/A)*A,Math.floor(K/A)*A,A)}return A.map(function(Z){return R(v,Z)})}a(k,"contours");function R(v,A){var U=[],G=[];return x(v,A,function(K){T(K,v,A),s(K)>0?U.push([K]):G.push(K)}),G.forEach(function(K){for(var Z=0,O=U.length,$;Z<O;++Z)if(l(($=U[Z])[0],K)!==-1){$.push(K);return}}),{type:"MultiPolygon",value:A,coordinates:U}}a(R,"contour");function x(v,A,U){var G=new Array,K=new Array,Z,O,$,L,ee,ve;for(Z=O=-1,L=v[0]>=A,y[L<<1].forEach(ye);++Z<F-1;)$=L,L=v[Z+1]>=A,y[$|L<<1].forEach(ye);for(y[L<<0].forEach(ye);++O<B-1;){for(Z=-1,L=v[O*F+F]>=A,ee=v[O*F]>=A,y[L<<1|ee<<2].forEach(ye);++Z<F-1;)$=L,L=v[O*F+F+Z+1]>=A,ve=ee,ee=v[O*F+Z+1]>=A,y[$|L<<1|ee<<2|ve<<3].forEach(ye);y[L|ee<<3].forEach(ye)}for(Z=-1,ee=v[O*F]>=A,y[ee<<2].forEach(ye);++Z<F-1;)ve=ee,ee=v[O*F+Z+1]>=A,y[ee<<2|ve<<3].forEach(ye);y[ee<<3].forEach(ye);function ye(se){var be=[se[0][0]+Z,se[0][1]+O],Y=[se[1][0]+Z,se[1][1]+O],D=N(be),J=N(Y),q,I;(q=K[D])?(I=G[J])?(delete K[q.end],delete G[I.start],q===I?(q.ring.push(Y),U(q.ring)):G[q.start]=K[I.end]={start:q.start,end:I.end,ring:q.ring.concat(I.ring)}):(delete K[q.end],q.ring.push(Y),K[q.end=J]=q):(q=G[J])?(I=K[D])?(delete G[q.start],delete K[I.end],q===I?(q.ring.push(Y),U(q.ring)):G[I.start]=K[q.end]={start:I.start,end:q.end,ring:I.ring.concat(q.ring)}):(delete G[q.start],q.ring.unshift(be),G[q.start=D]=q):G[D]=K[J]={start:D,end:J,ring:[be,Y]}}a(ye,"stitch")}a(x,"isorings");function N(v){return v[0]*2+v[1]*(F+1)*4}a(N,"index");function m(v,A,U){v.forEach(function(G){var K=G[0],Z=G[1],O=K|0,$=Z|0,L,ee=A[$*F+O];K>0&&K<F&&O===K&&(L=A[$*F+O-1],G[0]=K+(U-L)/(ee-L)-.5),Z>0&&Z<B&&$===Z&&(L=A[($-1)*F+O],G[1]=Z+(U-L)/(ee-L)-.5)})}return a(m,"smoothLinear"),k.contour=R,k.size=function(v){if(!arguments.length)return[F,B];var A=Math.ceil(v[0]),U=Math.ceil(v[1]);if(!(A>0)||!(U>0))throw new Error("invalid size");return F=A,B=U,k},k.thresholds=function(v){return arguments.length?(S=typeof v=="function"?v:Array.isArray(v)?o(n.call(v)):o(v),k):S},k.smooth=function(v){return arguments.length?(T=v?m:g,k):T===m},k}a(E,"contours");function M(F,B,S){for(var T=F.width,k=F.height,R=(S<<1)+1,x=0;x<k;++x)for(var N=0,m=0;N<T+S;++N)N<T&&(m+=F.data[N+x*T]),N>=S&&(N>=R&&(m-=F.data[N-R+x*T]),B.data[N-S+x*T]=m/Math.min(N+1,T-1+R-N,R))}a(M,"blurX");function z(F,B,S){for(var T=F.width,k=F.height,R=(S<<1)+1,x=0;x<T;++x)for(var N=0,m=0;N<k+S;++N)N<k&&(m+=F.data[x+N*T]),N>=S&&(N>=R&&(m-=F.data[x+(N-R)*T]),B.data[x+(N-S)*T]=m/Math.min(N+1,k-1+R-N,R))}a(z,"blurY");function P(F){return F[0]}a(P,"defaultX");function Q(F){return F[1]}a(Q,"defaultY");function V(){return 1}a(V,"defaultWeight");function W(){var F=P,B=Q,S=V,T=960,k=500,R=20,x=2,N=R*3,m=T+N*2>>x,v=k+N*2>>x,A=o(20);function U(L){var ee=new Float32Array(m*v),ve=new Float32Array(m*v);L.forEach(function(be,Y,D){var J=+F(be,Y,D)+N>>x,q=+B(be,Y,D)+N>>x,I=+S(be,Y,D);J>=0&&J<m&&q>=0&&q<v&&(ee[J+q*m]+=I)}),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x),M({width:m,height:v,data:ee},{width:m,height:v,data:ve},R>>x),z({width:m,height:v,data:ve},{width:m,height:v,data:ee},R>>x);var ye=A(ee);if(!Array.isArray(ye)){var se=t.max(ee);ye=t.tickStep(0,se,ye),ye=t.range(0,Math.floor(se/ye)*ye,ye),ye.shift()}return E().thresholds(ye).size([m,v])(ee).map(G)}a(U,"density");function G(L){return L.value*=Math.pow(2,-2*x),L.coordinates.forEach(K),L}a(G,"transform");function K(L){L.forEach(Z)}a(K,"transformPolygon");function Z(L){L.forEach(O)}a(Z,"transformRing");function O(L){L[0]=L[0]*Math.pow(2,x)-N,L[1]=L[1]*Math.pow(2,x)-N}a(O,"transformPoint");function $(){return N=R*3,m=T+N*2>>x,v=k+N*2>>x,U}return a($,"resize"),U.x=function(L){return arguments.length?(F=typeof L=="function"?L:o(+L),U):F},U.y=function(L){return arguments.length?(B=typeof L=="function"?L:o(+L),U):B},U.weight=function(L){return arguments.length?(S=typeof L=="function"?L:o(+L),U):S},U.size=function(L){if(!arguments.length)return[T,k];var ee=Math.ceil(L[0]),ve=Math.ceil(L[1]);if(!(ee>=0)&&!(ee>=0))throw new Error("invalid size");return T=ee,k=ve,$()},U.cellSize=function(L){if(!arguments.length)return 1<<x;if(!((L=+L)>=1))throw new Error("invalid cell size");return x=Math.floor(Math.log(L)/Math.LN2),$()},U.thresholds=function(L){return arguments.length?(A=typeof L=="function"?L:Array.isArray(L)?o(n.call(L)):o(L),U):A},U.bandwidth=function(L){if(!arguments.length)return Math.sqrt(R*(R+1));if(!((L=+L)>=0))throw new Error("invalid bandwidth");return R=Math.round((Math.sqrt(4*L*L+1)-1)/2),$()},U}a(W,"density"),e.contours=E,e.contourDensity=W,Object.defineProperty(e,"__esModule",{value:!0})})});var BG=j((PT,uMe)=>{d();(function(e,t){typeof PT=="object"&&typeof uMe<"u"?t(PT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(PT,function(e){"use strict";var t={},r={},n=34,i=10,s=13;function o(A){return new Function("d","return {"+A.map(function(U,G){return JSON.stringify(U)+": d["+G+'] || ""'}).join(",")+"}")}a(o,"objectConverter");function l(A,U){var G=o(A);return function(K,Z){return U(G(K),Z,A)}}a(l,"customConverter");function u(A){var U=Object.create(null),G=[];return A.forEach(function(K){for(var Z in K)Z in U||G.push(U[Z]=Z)}),G}a(u,"inferColumns");function f(A,U){var G=A+"",K=G.length;return K<U?new Array(U-K+1).join(0)+G:G}a(f,"pad");function h(A){return A<0?"-"+f(-A,6):A>9999?"+"+f(A,6):f(A,4)}a(h,"formatYear");function p(A){var U=A.getUTCHours(),G=A.getUTCMinutes(),K=A.getUTCSeconds(),Z=A.getUTCMilliseconds();return isNaN(A)?"Invalid Date":h(A.getUTCFullYear())+"-"+f(A.getUTCMonth()+1,2)+"-"+f(A.getUTCDate(),2)+(Z?"T"+f(U,2)+":"+f(G,2)+":"+f(K,2)+"."+f(Z,3)+"Z":K?"T"+f(U,2)+":"+f(G,2)+":"+f(K,2)+"Z":G||U?"T"+f(U,2)+":"+f(G,2)+"Z":"")}a(p,"formatDate");function g(A){var U=new RegExp('["'+A+`
\r]`),G=A.charCodeAt(0);function K(se,be){var Y,D,J=Z(se,function(q,I){if(Y)return Y(q,I-1);D=q,Y=be?l(q,be):o(q)});return J.columns=D||[],J}a(K,"parse");function Z(se,be){var Y=[],D=se.length,J=0,q=0,I,H=D<=0,te=!1;se.charCodeAt(D-1)===i&&--D,se.charCodeAt(D-1)===s&&--D;function ie(){if(H)return r;if(te)return te=!1,t;var De,$e=J,ze;if(se.charCodeAt($e)===n){for(;J++<D&&se.charCodeAt(J)!==n||se.charCodeAt(++J)===n;);return(De=J)>=D?H=!0:(ze=se.charCodeAt(J++))===i?te=!0:ze===s&&(te=!0,se.charCodeAt(J)===i&&++J),se.slice($e+1,De-1).replace(/""/g,'"')}for(;J<D;){if((ze=se.charCodeAt(De=J++))===i)te=!0;else if(ze===s)te=!0,se.charCodeAt(J)===i&&++J;else if(ze!==G)continue;return se.slice($e,De)}return H=!0,se.slice($e,D)}for(a(ie,"token");(I=ie())!==r;){for(var he=[];I!==t&&I!==r;)he.push(I),I=ie();be&&(he=be(he,q++))==null||Y.push(he)}return Y}a(Z,"parseRows");function O(se,be){return se.map(function(Y){return be.map(function(D){return ye(Y[D])}).join(A)})}a(O,"preformatBody");function $(se,be){return be==null&&(be=u(se)),[be.map(ye).join(A)].concat(O(se,be)).join(`
`)}a($,"format");function L(se,be){return be==null&&(be=u(se)),O(se,be).join(`
`)}a(L,"formatBody");function ee(se){return se.map(ve).join(`
`)}a(ee,"formatRows");function ve(se){return se.map(ye).join(A)}a(ve,"formatRow");function ye(se){return se==null?"":se instanceof Date?p(se):U.test(se+="")?'"'+se.replace(/"/g,'""')+'"':se}return a(ye,"formatValue"),{parse:K,parseRows:Z,format:$,formatBody:L,formatRows:ee,formatRow:ve,formatValue:ye}}a(g,"dsv");var y=g(","),E=y.parse,M=y.parseRows,z=y.format,P=y.formatBody,Q=y.formatRows,V=y.formatRow,W=y.formatValue,F=g("	"),B=F.parse,S=F.parseRows,T=F.format,k=F.formatBody,R=F.formatRows,x=F.formatRow,N=F.formatValue;function m(A){for(var U in A){var G=A[U].trim(),K,Z;if(!G)G=null;else if(G==="true")G=!0;else if(G==="false")G=!1;else if(G==="NaN")G=NaN;else if(!isNaN(K=+G))G=K;else if(Z=G.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))v&&!!Z[4]&&!Z[7]&&(G=G.replace(/-/g,"/").replace(/T/," ")),G=new Date(G);else continue;A[U]=G}return A}a(m,"autoType");var v=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=m,e.csvFormat=z,e.csvFormatBody=P,e.csvFormatRow=V,e.csvFormatRows=Q,e.csvFormatValue=W,e.csvParse=E,e.csvParseRows=M,e.dsvFormat=g,e.tsvFormat=T,e.tsvFormatBody=k,e.tsvFormatRow=x,e.tsvFormatRows=R,e.tsvFormatValue=N,e.tsvParse=B,e.tsvParseRows=S,Object.defineProperty(e,"__esModule",{value:!0})})});var hMe=j((FT,fMe)=>{d();(function(e,t){typeof FT=="object"&&typeof fMe<"u"?t(FT,BG()):typeof define=="function"&&define.amd?define(["exports","d3-dsv"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(FT,function(e,t){"use strict";function r(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.blob()}a(r,"responseBlob");function n(V,W){return fetch(V,W).then(r)}a(n,"blob");function i(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.arrayBuffer()}a(i,"responseArrayBuffer");function s(V,W){return fetch(V,W).then(i)}a(s,"buffer");function o(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);return V.text()}a(o,"responseText");function l(V,W){return fetch(V,W).then(o)}a(l,"text");function u(V){return function(W,F,B){return arguments.length===2&&typeof F=="function"&&(B=F,F=void 0),l(W,F).then(function(S){return V(S,B)})}}a(u,"dsvParse");function f(V,W,F,B){arguments.length===3&&typeof F=="function"&&(B=F,F=void 0);var S=t.dsvFormat(V);return l(W,F).then(function(T){return S.parse(T,B)})}a(f,"dsv");var h=u(t.csvParse),p=u(t.tsvParse);function g(V,W){return new Promise(function(F,B){var S=new Image;for(var T in W)S[T]=W[T];S.onerror=B,S.onload=function(){F(S)},S.src=V})}a(g,"image");function y(V){if(!V.ok)throw new Error(V.status+" "+V.statusText);if(!(V.status===204||V.status===205))return V.json()}a(y,"responseJson");function E(V,W){return fetch(V,W).then(y)}a(E,"json");function M(V){return function(W,F){return l(W,F).then(function(B){return new DOMParser().parseFromString(B,V)})}}a(M,"parser");var z=M("application/xml"),P=M("text/html"),Q=M("image/svg+xml");e.blob=n,e.buffer=s,e.csv=h,e.dsv=f,e.html=P,e.image=g,e.json=E,e.svg=Q,e.text=l,e.tsv=p,e.xml=z,Object.defineProperty(e,"__esModule",{value:!0})})});var RG=j((UT,dMe)=>{d();(function(e,t){typeof UT=="object"&&typeof dMe<"u"?t(UT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(UT,function(e){"use strict";function t(S){var T=+this._x.call(null,S),k=+this._y.call(null,S);return r(this.cover(T,k),T,k,S)}a(t,"tree_add");function r(S,T,k,R){if(isNaN(T)||isNaN(k))return S;var x,N=S._root,m={data:R},v=S._x0,A=S._y0,U=S._x1,G=S._y1,K,Z,O,$,L,ee,ve,ye;if(!N)return S._root=m,S;for(;N.length;)if((L=T>=(K=(v+U)/2))?v=K:U=K,(ee=k>=(Z=(A+G)/2))?A=Z:G=Z,x=N,!(N=N[ve=ee<<1|L]))return x[ve]=m,S;if(O=+S._x.call(null,N.data),$=+S._y.call(null,N.data),T===O&&k===$)return m.next=N,x?x[ve]=m:S._root=m,S;do x=x?x[ve]=new Array(4):S._root=new Array(4),(L=T>=(K=(v+U)/2))?v=K:U=K,(ee=k>=(Z=(A+G)/2))?A=Z:G=Z;while((ve=ee<<1|L)===(ye=($>=Z)<<1|O>=K));return x[ye]=N,x[ve]=m,S}a(r,"add");function n(S){var T,k,R=S.length,x,N,m=new Array(R),v=new Array(R),A=1/0,U=1/0,G=-1/0,K=-1/0;for(k=0;k<R;++k)isNaN(x=+this._x.call(null,T=S[k]))||isNaN(N=+this._y.call(null,T))||(m[k]=x,v[k]=N,x<A&&(A=x),x>G&&(G=x),N<U&&(U=N),N>K&&(K=N));if(A>G||U>K)return this;for(this.cover(A,U).cover(G,K),k=0;k<R;++k)r(this,m[k],v[k],S[k]);return this}a(n,"addAll");function i(S,T){if(isNaN(S=+S)||isNaN(T=+T))return this;var k=this._x0,R=this._y0,x=this._x1,N=this._y1;if(isNaN(k))x=(k=Math.floor(S))+1,N=(R=Math.floor(T))+1;else{for(var m=x-k,v=this._root,A,U;k>S||S>=x||R>T||T>=N;)switch(U=(T<R)<<1|S<k,A=new Array(4),A[U]=v,v=A,m*=2,U){case 0:x=k+m,N=R+m;break;case 1:k=x-m,N=R+m;break;case 2:x=k+m,R=N-m;break;case 3:k=x-m,R=N-m;break}this._root&&this._root.length&&(this._root=v)}return this._x0=k,this._y0=R,this._x1=x,this._y1=N,this}a(i,"tree_cover");function s(){var S=[];return this.visit(function(T){if(!T.length)do S.push(T.data);while(T=T.next)}),S}a(s,"tree_data");function o(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}a(o,"tree_extent");function l(S,T,k,R,x){this.node=S,this.x0=T,this.y0=k,this.x1=R,this.y1=x}a(l,"Quad");function u(S,T,k){var R,x=this._x0,N=this._y0,m,v,A,U,G=this._x1,K=this._y1,Z=[],O=this._root,$,L;for(O&&Z.push(new l(O,x,N,G,K)),k==null?k=1/0:(x=S-k,N=T-k,G=S+k,K=T+k,k*=k);$=Z.pop();)if(!(!(O=$.node)||(m=$.x0)>G||(v=$.y0)>K||(A=$.x1)<x||(U=$.y1)<N))if(O.length){var ee=(m+A)/2,ve=(v+U)/2;Z.push(new l(O[3],ee,ve,A,U),new l(O[2],m,ve,ee,U),new l(O[1],ee,v,A,ve),new l(O[0],m,v,ee,ve)),(L=(T>=ve)<<1|S>=ee)&&($=Z[Z.length-1],Z[Z.length-1]=Z[Z.length-1-L],Z[Z.length-1-L]=$)}else{var ye=S-+this._x.call(null,O.data),se=T-+this._y.call(null,O.data),be=ye*ye+se*se;if(be<k){var Y=Math.sqrt(k=be);x=S-Y,N=T-Y,G=S+Y,K=T+Y,R=O.data}}return R}a(u,"tree_find");function f(S){if(isNaN(G=+this._x.call(null,S))||isNaN(K=+this._y.call(null,S)))return this;var T,k=this._root,R,x,N,m=this._x0,v=this._y0,A=this._x1,U=this._y1,G,K,Z,O,$,L,ee,ve;if(!k)return this;if(k.length)for(;;){if(($=G>=(Z=(m+A)/2))?m=Z:A=Z,(L=K>=(O=(v+U)/2))?v=O:U=O,T=k,!(k=k[ee=L<<1|$]))return this;if(!k.length)break;(T[ee+1&3]||T[ee+2&3]||T[ee+3&3])&&(R=T,ve=ee)}for(;k.data!==S;)if(x=k,!(k=k.next))return this;return(N=k.next)&&delete k.next,x?(N?x.next=N:delete x.next,this):T?(N?T[ee]=N:delete T[ee],(k=T[0]||T[1]||T[2]||T[3])&&k===(T[3]||T[2]||T[1]||T[0])&&!k.length&&(R?R[ve]=k:this._root=k),this):(this._root=N,this)}a(f,"tree_remove");function h(S){for(var T=0,k=S.length;T<k;++T)this.remove(S[T]);return this}a(h,"removeAll");function p(){return this._root}a(p,"tree_root");function g(){var S=0;return this.visit(function(T){if(!T.length)do++S;while(T=T.next)}),S}a(g,"tree_size");function y(S){var T=[],k,R=this._root,x,N,m,v,A;for(R&&T.push(new l(R,this._x0,this._y0,this._x1,this._y1));k=T.pop();)if(!S(R=k.node,N=k.x0,m=k.y0,v=k.x1,A=k.y1)&&R.length){var U=(N+v)/2,G=(m+A)/2;(x=R[3])&&T.push(new l(x,U,G,v,A)),(x=R[2])&&T.push(new l(x,N,G,U,A)),(x=R[1])&&T.push(new l(x,U,m,v,G)),(x=R[0])&&T.push(new l(x,N,m,U,G))}return this}a(y,"tree_visit");function E(S){var T=[],k=[],R;for(this._root&&T.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));R=T.pop();){var x=R.node;if(x.length){var N,m=R.x0,v=R.y0,A=R.x1,U=R.y1,G=(m+A)/2,K=(v+U)/2;(N=x[0])&&T.push(new l(N,m,v,G,K)),(N=x[1])&&T.push(new l(N,G,v,A,K)),(N=x[2])&&T.push(new l(N,m,K,G,U)),(N=x[3])&&T.push(new l(N,G,K,A,U))}k.push(R)}for(;R=k.pop();)S(R.node,R.x0,R.y0,R.x1,R.y1);return this}a(E,"tree_visitAfter");function M(S){return S[0]}a(M,"defaultX");function z(S){return arguments.length?(this._x=S,this):this._x}a(z,"tree_x");function P(S){return S[1]}a(P,"defaultY");function Q(S){return arguments.length?(this._y=S,this):this._y}a(Q,"tree_y");function V(S,T,k){var R=new W(T??M,k??P,NaN,NaN,NaN,NaN);return S==null?R:R.addAll(S)}a(V,"quadtree");function W(S,T,k,R,x,N){this._x=S,this._y=T,this._x0=k,this._y0=R,this._x1=x,this._y1=N,this._root=void 0}a(W,"Quadtree");function F(S){for(var T={data:S.data},k=T;S=S.next;)k=k.next={data:S.data};return T}a(F,"leaf_copy");var B=V.prototype=W.prototype;B.copy=function(){var S=new W(this._x,this._y,this._x0,this._y0,this._x1,this._y1),T=this._root,k,R;if(!T)return S;if(!T.length)return S._root=F(T),S;for(k=[{source:T,target:S._root=new Array(4)}];T=k.pop();)for(var x=0;x<4;++x)(R=T.source[x])&&(R.length?k.push({source:R,target:T.target[x]=new Array(4)}):T.target[x]=F(R));return S},B.add=t,B.addAll=n,B.cover=i,B.data=s,B.extent=o,B.find=u,B.remove=f,B.removeAll=h,B.root=p,B.size=g,B.visit=y,B.visitAfter=E,B.x=z,B.y=Q,e.quadtree=V,Object.defineProperty(e,"__esModule",{value:!0})})});var gMe=j((YT,pMe)=>{d();(function(e,t){typeof YT=="object"&&typeof pMe<"u"?t(YT,RG(),OT(),ty(),CT()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(YT,function(e,t,r,n,i){"use strict";function s(S,T){var k;S==null&&(S=0),T==null&&(T=0);function R(){var x,N=k.length,m,v=0,A=0;for(x=0;x<N;++x)m=k[x],v+=m.x,A+=m.y;for(v=v/N-S,A=A/N-T,x=0;x<N;++x)m=k[x],m.x-=v,m.y-=A}return a(R,"force"),R.initialize=function(x){k=x},R.x=function(x){return arguments.length?(S=+x,R):S},R.y=function(x){return arguments.length?(T=+x,R):T},R}a(s,"center");function o(S){return function(){return S}}a(o,"constant");function l(){return(Math.random()-.5)*1e-6}a(l,"jiggle");function u(S){return S.x+S.vx}a(u,"x");function f(S){return S.y+S.vy}a(f,"y");function h(S){var T,k,R=1,x=1;typeof S!="function"&&(S=o(S==null?1:+S));function N(){for(var A,U=T.length,G,K,Z,O,$,L,ee=0;ee<x;++ee)for(G=t.quadtree(T,u,f).visitAfter(m),A=0;A<U;++A)K=T[A],$=k[K.index],L=$*$,Z=K.x+K.vx,O=K.y+K.vy,G.visit(ve);function ve(ye,se,be,Y,D){var J=ye.data,q=ye.r,I=$+q;if(J){if(J.index>K.index){var H=Z-J.x-J.vx,te=O-J.y-J.vy,ie=H*H+te*te;ie<I*I&&(H===0&&(H=l(),ie+=H*H),te===0&&(te=l(),ie+=te*te),ie=(I-(ie=Math.sqrt(ie)))/ie*R,K.vx+=(H*=ie)*(I=(q*=q)/(L+q)),K.vy+=(te*=ie)*I,J.vx-=H*(I=1-I),J.vy-=te*I)}return}return se>Z+I||Y<Z-I||be>O+I||D<O-I}a(ve,"apply")}a(N,"force");function m(A){if(A.data)return A.r=k[A.data.index];for(var U=A.r=0;U<4;++U)A[U]&&A[U].r>A.r&&(A.r=A[U].r)}a(m,"prepare");function v(){if(!!T){var A,U=T.length,G;for(k=new Array(U),A=0;A<U;++A)G=T[A],k[G.index]=+S(G,A,T)}}return a(v,"initialize"),N.initialize=function(A){T=A,v()},N.iterations=function(A){return arguments.length?(x=+A,N):x},N.strength=function(A){return arguments.length?(R=+A,N):R},N.radius=function(A){return arguments.length?(S=typeof A=="function"?A:o(+A),v(),N):S},N}a(h,"collide");function p(S){return S.index}a(p,"index");function g(S,T){var k=S.get(T);if(!k)throw new Error("missing: "+T);return k}a(g,"find");function y(S){var T=p,k=G,R,x=o(30),N,m,v,A,U=1;S==null&&(S=[]);function G(L){return 1/Math.min(v[L.source.index],v[L.target.index])}a(G,"defaultStrength");function K(L){for(var ee=0,ve=S.length;ee<U;++ee)for(var ye=0,se,be,Y,D,J,q,I;ye<ve;++ye)se=S[ye],be=se.source,Y=se.target,D=Y.x+Y.vx-be.x-be.vx||l(),J=Y.y+Y.vy-be.y-be.vy||l(),q=Math.sqrt(D*D+J*J),q=(q-N[ye])/q*L*R[ye],D*=q,J*=q,Y.vx-=D*(I=A[ye]),Y.vy-=J*I,be.vx+=D*(I=1-I),be.vy+=J*I}a(K,"force");function Z(){if(!!m){var L,ee=m.length,ve=S.length,ye=r.map(m,T),se;for(L=0,v=new Array(ee);L<ve;++L)se=S[L],se.index=L,typeof se.source!="object"&&(se.source=g(ye,se.source)),typeof se.target!="object"&&(se.target=g(ye,se.target)),v[se.source.index]=(v[se.source.index]||0)+1,v[se.target.index]=(v[se.target.index]||0)+1;for(L=0,A=new Array(ve);L<ve;++L)se=S[L],A[L]=v[se.source.index]/(v[se.source.index]+v[se.target.index]);R=new Array(ve),O(),N=new Array(ve),$()}}a(Z,"initialize");function O(){if(!!m)for(var L=0,ee=S.length;L<ee;++L)R[L]=+k(S[L],L,S)}a(O,"initializeStrength");function $(){if(!!m)for(var L=0,ee=S.length;L<ee;++L)N[L]=+x(S[L],L,S)}return a($,"initializeDistance"),K.initialize=function(L){m=L,Z()},K.links=function(L){return arguments.length?(S=L,Z(),K):S},K.id=function(L){return arguments.length?(T=L,K):T},K.iterations=function(L){return arguments.length?(U=+L,K):U},K.strength=function(L){return arguments.length?(k=typeof L=="function"?L:o(+L),O(),K):k},K.distance=function(L){return arguments.length?(x=typeof L=="function"?L:o(+L),$(),K):x},K}a(y,"link");function E(S){return S.x}a(E,"x$1");function M(S){return S.y}a(M,"y$1");var z=10,P=Math.PI*(3-Math.sqrt(5));function Q(S){var T,k=1,R=.001,x=1-Math.pow(R,1/300),N=0,m=.6,v=r.map(),A=i.timer(G),U=n.dispatch("tick","end");S==null&&(S=[]);function G(){K(),U.call("tick",T),k<R&&(A.stop(),U.call("end",T))}a(G,"step");function K($){var L,ee=S.length,ve;$===void 0&&($=1);for(var ye=0;ye<$;++ye)for(k+=(N-k)*x,v.each(function(se){se(k)}),L=0;L<ee;++L)ve=S[L],ve.fx==null?ve.x+=ve.vx*=m:(ve.x=ve.fx,ve.vx=0),ve.fy==null?ve.y+=ve.vy*=m:(ve.y=ve.fy,ve.vy=0);return T}a(K,"tick");function Z(){for(var $=0,L=S.length,ee;$<L;++$){if(ee=S[$],ee.index=$,ee.fx!=null&&(ee.x=ee.fx),ee.fy!=null&&(ee.y=ee.fy),isNaN(ee.x)||isNaN(ee.y)){var ve=z*Math.sqrt($),ye=$*P;ee.x=ve*Math.cos(ye),ee.y=ve*Math.sin(ye)}(isNaN(ee.vx)||isNaN(ee.vy))&&(ee.vx=ee.vy=0)}}a(Z,"initializeNodes");function O($){return $.initialize&&$.initialize(S),$}return a(O,"initializeForce"),Z(),T={tick:K,restart:function(){return A.restart(G),T},stop:function(){return A.stop(),T},nodes:function($){return arguments.length?(S=$,Z(),v.each(O),T):S},alpha:function($){return arguments.length?(k=+$,T):k},alphaMin:function($){return arguments.length?(R=+$,T):R},alphaDecay:function($){return arguments.length?(x=+$,T):+x},alphaTarget:function($){return arguments.length?(N=+$,T):N},velocityDecay:function($){return arguments.length?(m=1-$,T):1-m},force:function($,L){return arguments.length>1?(L==null?v.remove($):v.set($,O(L)),T):v.get($)},find:function($,L,ee){var ve=0,ye=S.length,se,be,Y,D,J;for(ee==null?ee=1/0:ee*=ee,ve=0;ve<ye;++ve)D=S[ve],se=$-D.x,be=L-D.y,Y=se*se+be*be,Y<ee&&(J=D,ee=Y);return J},on:function($,L){return arguments.length>1?(U.on($,L),T):U.on($)}}}a(Q,"simulation");function V(){var S,T,k,R=o(-30),x,N=1,m=1/0,v=.81;function A(Z){var O,$=S.length,L=t.quadtree(S,E,M).visitAfter(G);for(k=Z,O=0;O<$;++O)T=S[O],L.visit(K)}a(A,"force");function U(){if(!!S){var Z,O=S.length,$;for(x=new Array(O),Z=0;Z<O;++Z)$=S[Z],x[$.index]=+R($,Z,S)}}a(U,"initialize");function G(Z){var O=0,$,L,ee=0,ve,ye,se;if(Z.length){for(ve=ye=se=0;se<4;++se)($=Z[se])&&(L=Math.abs($.value))&&(O+=$.value,ee+=L,ve+=L*$.x,ye+=L*$.y);Z.x=ve/ee,Z.y=ye/ee}else{$=Z,$.x=$.data.x,$.y=$.data.y;do O+=x[$.data.index];while($=$.next)}Z.value=O}a(G,"accumulate");function K(Z,O,$,L){if(!Z.value)return!0;var ee=Z.x-T.x,ve=Z.y-T.y,ye=L-O,se=ee*ee+ve*ve;if(ye*ye/v<se)return se<m&&(ee===0&&(ee=l(),se+=ee*ee),ve===0&&(ve=l(),se+=ve*ve),se<N&&(se=Math.sqrt(N*se)),T.vx+=ee*Z.value*k/se,T.vy+=ve*Z.value*k/se),!0;if(Z.length||se>=m)return;(Z.data!==T||Z.next)&&(ee===0&&(ee=l(),se+=ee*ee),ve===0&&(ve=l(),se+=ve*ve),se<N&&(se=Math.sqrt(N*se)));do Z.data!==T&&(ye=x[Z.data.index]*k/se,T.vx+=ee*ye,T.vy+=ve*ye);while(Z=Z.next)}return a(K,"apply"),A.initialize=function(Z){S=Z,U()},A.strength=function(Z){return arguments.length?(R=typeof Z=="function"?Z:o(+Z),U(),A):R},A.distanceMin=function(Z){return arguments.length?(N=Z*Z,A):Math.sqrt(N)},A.distanceMax=function(Z){return arguments.length?(m=Z*Z,A):Math.sqrt(m)},A.theta=function(Z){return arguments.length?(v=Z*Z,A):Math.sqrt(v)},A}a(V,"manyBody");function W(S,T,k){var R,x=o(.1),N,m;typeof S!="function"&&(S=o(+S)),T==null&&(T=0),k==null&&(k=0);function v(U){for(var G=0,K=R.length;G<K;++G){var Z=R[G],O=Z.x-T||1e-6,$=Z.y-k||1e-6,L=Math.sqrt(O*O+$*$),ee=(m[G]-L)*N[G]*U/L;Z.vx+=O*ee,Z.vy+=$*ee}}a(v,"force");function A(){if(!!R){var U,G=R.length;for(N=new Array(G),m=new Array(G),U=0;U<G;++U)m[U]=+S(R[U],U,R),N[U]=isNaN(m[U])?0:+x(R[U],U,R)}}return a(A,"initialize"),v.initialize=function(U){R=U,A()},v.strength=function(U){return arguments.length?(x=typeof U=="function"?U:o(+U),A(),v):x},v.radius=function(U){return arguments.length?(S=typeof U=="function"?U:o(+U),A(),v):S},v.x=function(U){return arguments.length?(T=+U,v):T},v.y=function(U){return arguments.length?(k=+U,v):k},v}a(W,"radial");function F(S){var T=o(.1),k,R,x;typeof S!="function"&&(S=o(S==null?0:+S));function N(v){for(var A=0,U=k.length,G;A<U;++A)G=k[A],G.vx+=(x[A]-G.x)*R[A]*v}a(N,"force");function m(){if(!!k){var v,A=k.length;for(R=new Array(A),x=new Array(A),v=0;v<A;++v)R[v]=isNaN(x[v]=+S(k[v],v,k))?0:+T(k[v],v,k)}}return a(m,"initialize"),N.initialize=function(v){k=v,m()},N.strength=function(v){return arguments.length?(T=typeof v=="function"?v:o(+v),m(),N):T},N.x=function(v){return arguments.length?(S=typeof v=="function"?v:o(+v),m(),N):S},N}a(F,"x$2");function B(S){var T=o(.1),k,R,x;typeof S!="function"&&(S=o(S==null?0:+S));function N(v){for(var A=0,U=k.length,G;A<U;++A)G=k[A],G.vy+=(x[A]-G.y)*R[A]*v}a(N,"force");function m(){if(!!k){var v,A=k.length;for(R=new Array(A),x=new Array(A),v=0;v<A;++v)R[v]=isNaN(x[v]=+S(k[v],v,k))?0:+T(k[v],v,k)}}return a(m,"initialize"),N.initialize=function(v){k=v,m()},N.strength=function(v){return arguments.length?(T=typeof v=="function"?v:o(+v),m(),N):T},N.y=function(v){return arguments.length?(S=typeof v=="function"?v:o(+v),m(),N):S},N}a(B,"y$2"),e.forceCenter=s,e.forceCollide=h,e.forceLink=y,e.forceManyBody=V,e.forceRadial=W,e.forceSimulation=Q,e.forceX=F,e.forceY=B,Object.defineProperty(e,"__esModule",{value:!0})})});var LG=j((HT,yMe)=>{d();(function(e,t){typeof HT=="object"&&typeof yMe<"u"?t(HT):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.d3=e.d3||{}))})(HT,function(e){"use strict";function t(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}a(t,"formatDecimal");function r(S,T){if((k=(S=T?S.toExponential(T-1):S.toExponential()).indexOf("e"))<0)return null;var k,R=S.slice(0,k);return[R.length>1?R[0]+R.slice(2):R,+S.slice(k+1)]}a(r,"formatDecimalParts");function n(S){return S=r(Math.abs(S)),S?S[1]:NaN}a(n,"exponent");function i(S,T){return function(k,R){for(var x=k.length,N=[],m=0,v=S[0],A=0;x>0&&v>0&&(A+v+1>R&&(v=Math.max(1,R-A)),N.push(k.substring(x-=v,x+v)),!((A+=v+1)>R));)v=S[m=(m+1)%S.length];return N.reverse().join(T)}}a(i,"formatGroup");function s(S){return function(T){return T.replace(/[0-9]/g,function(k){return S[+k]})}}a(s,"formatNumerals");var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(S){if(!(T=o.exec(S)))throw new Error("invalid format: "+S);var T;return new u({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}a(l,"formatSpecifier"),l.prototype=u.prototype;function u(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}a(u,"FormatSpecifier"),u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f(S){e:for(var T=S.length,k=1,R=-1,x;k<T;++k)switch(S[k]){case".":R=x=k;break;case"0":R===0&&(R=k),x=k;break;default:if(!+S[k])break e;R>0&&(R=0);break}return R>0?S.slice(0,R)+S.slice(x+1):S}a(f,"formatTrim");var h;function p(S,T){var k=r(S,T);if(!k)return S+"";var R=k[0],x=k[1],N=x-(h=Math.max(-8,Math.min(8,Math.floor(x/3)))*3)+1,m=R.length;return N===m?R:N>m?R+new Array(N-m+1).join("0"):N>0?R.slice(0,N)+"."+R.slice(N):"0."+new Array(1-N).join("0")+r(S,Math.max(0,T+N-1))[0]}a(p,"formatPrefixAuto");function g(S,T){var k=r(S,T);if(!k)return S+"";var R=k[0],x=k[1];return x<0?"0."+new Array(-x).join("0")+R:R.length>x+1?R.slice(0,x+1)+"."+R.slice(x+1):R+new Array(x-R.length+2).join("0")}a(g,"formatRounded");var y={"%":function(S,T){return(S*100).toFixed(T)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:t,e:function(S,T){return S.toExponential(T)},f:function(S,T){return S.toFixed(T)},g:function(S,T){return S.toPrecision(T)},o:function(S){return Math.round(S).toString(8)},p:function(S,T){return g(S*100,T)},r:g,s:p,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function E(S){return S}a(E,"identity");var M=Array.prototype.map,z=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function P(S){var T=S.grouping===void 0||S.thousands===void 0?E:i(M.call(S.grouping,Number),S.thousands+""),k=S.currency===void 0?"":S.currency[0]+"",R=S.currency===void 0?"":S.currency[1]+"",x=S.decimal===void 0?".":S.decimal+"",N=S.numerals===void 0?E:s(M.call(S.numerals,String)),m=S.percent===void 0?"%":S.percent+"",v=S.minus===void 0?"-":S.minus+"",A=S.nan===void 0?"NaN":S.nan+"";function U(K){K=l(K);var Z=K.fill,O=K.align,$=K.sign,L=K.symbol,ee=K.zero,ve=K.width,ye=K.comma,se=K.precision,be=K.trim,Y=K.type;Y==="n"?(ye=!0,Y="g"):y[Y]||(se===void 0&&(se=12),be=!0,Y="g"),(ee||Z==="0"&&O==="=")&&(ee=!0,Z="0",O="=");var D=L==="$"?k:L==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",J=L==="$"?R:/[%p]/.test(Y)?m:"",q=y[Y],I=/[defgprs%]/.test(Y);se=se===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,se)):Math.max(0,Math.min(20,se));function H(te){var ie=D,he=J,De,$e,ze;if(Y==="c")he=q(te)+he,te="";else{te=+te;var Qe=te<0||1/te<0;if(te=isNaN(te)?A:q(Math.abs(te),se),be&&(te=f(te)),Qe&&+te==0&&$!=="+"&&(Qe=!1),ie=(Qe?$==="("?$:v:$==="-"||$==="("?"":$)+ie,he=(Y==="s"?z[8+h/3]:"")+he+(Qe&&$==="("?")":""),I){for(De=-1,$e=te.length;++De<$e;)if(ze=te.charCodeAt(De),48>ze||ze>57){he=(ze===46?x+te.slice(De+1):te.slice(De))+he,te=te.slice(0,De);break}}}ye&&!ee&&(te=T(te,1/0));var je=ie.length+te.length+he.length,We=je<ve?new Array(ve-je+1).join(Z):"";switch(ye&&ee&&(te=T(We+te,We.length?ve-he.length:1/0),We=""),O){case"<":te=ie+te+he+We;break;case"=":te=ie+We+te+he;break;case"^":te=We.slice(0,je=We.length>>1)+ie+te+he+We.slice(je);break;default:te=We+ie+te+he;break}return N(te)}return a(H,"format"),H.toString=function(){return K+""},H}a(U,"newFormat");function G(K,Z){var O=U((K=l(K),K.type="f",K)),$=Math.max(-8,Math.min(8,Math.floor(n(Z)/3)))*3,L=Math.pow(10,-$),ee=z[8+$/3];return function(ve){return O(L*ve)+ee}}return a(G,"formatPrefix"),{format:U,formatPrefix:G}}a(P,"formatLocale");var Q;V({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function V(S){return Q=P(S),e.format=Q.format,e.formatPrefix=Q.formatPrefix,Q}a(V,"defaultLocale");function W(S){return Math.max(0,-n(Math.abs(S)))}a(W,"precisionFixed");function F(S,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(T)/3)))*3-n(Math.abs(S)))}a(F,"precisionPrefix");function B(S,T){return S=Math.abs(S),T=Math.abs(T)-S,Math.max(0,n(T)-n(S))+1}a(B,"precisionRound"),e.FormatSpecifier=u,e.formatDefaultLocale=V,e.formatLocale=P,e.formatSpecifier=l,e.precisionFixed=W,e.precisionPrefix=F,e.precisionRound=B,Object.defineProperty(e,"__esModule",{value:!0})})});var bMe=j((zT,mMe)=>{d();(function(e,t){typeof zT=="object"&&typeof mMe<"u"?t(zT,lv()):typeof define=="function"&&define.amd?define(["exports","d3-array"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(zT,function(e,t){"use strict";function r(){return new n}a(r,"adder");function n(){this.reset()}a(n,"Adder"),n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(ne){s(i,ne,this.t),s(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new n;function s(ne,de,Me){var Ee=ne.s=de+Me,Ye=Ee-de,ht=Ee-Ye;ne.t=de-ht+(Me-Ye)}a(s,"add");var o=1e-6,l=1e-12,u=Math.PI,f=u/2,h=u/4,p=u*2,g=180/u,y=u/180,E=Math.abs,M=Math.atan,z=Math.atan2,P=Math.cos,Q=Math.ceil,V=Math.exp,W=Math.log,F=Math.pow,B=Math.sin,S=Math.sign||function(ne){return ne>0?1:ne<0?-1:0},T=Math.sqrt,k=Math.tan;function R(ne){return ne>1?0:ne<-1?u:Math.acos(ne)}a(R,"acos");function x(ne){return ne>1?f:ne<-1?-f:Math.asin(ne)}a(x,"asin");function N(ne){return(ne=B(ne/2))*ne}a(N,"haversin");function m(){}a(m,"noop");function v(ne,de){ne&&U.hasOwnProperty(ne.type)&&U[ne.type](ne,de)}a(v,"streamGeometry");var A={Feature:function(ne,de){v(ne.geometry,de)},FeatureCollection:function(ne,de){for(var Me=ne.features,Ee=-1,Ye=Me.length;++Ee<Ye;)v(Me[Ee].geometry,de)}},U={Sphere:function(ne,de){de.sphere()},Point:function(ne,de){ne=ne.coordinates,de.point(ne[0],ne[1],ne[2])},MultiPoint:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)ne=Me[Ee],de.point(ne[0],ne[1],ne[2])},LineString:function(ne,de){G(ne.coordinates,de,0)},MultiLineString:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)G(Me[Ee],de,0)},Polygon:function(ne,de){K(ne.coordinates,de)},MultiPolygon:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)K(Me[Ee],de)},GeometryCollection:function(ne,de){for(var Me=ne.geometries,Ee=-1,Ye=Me.length;++Ee<Ye;)v(Me[Ee],de)}};function G(ne,de,Me){var Ee=-1,Ye=ne.length-Me,ht;for(de.lineStart();++Ee<Ye;)ht=ne[Ee],de.point(ht[0],ht[1],ht[2]);de.lineEnd()}a(G,"streamLine");function K(ne,de){var Me=-1,Ee=ne.length;for(de.polygonStart();++Me<Ee;)G(ne[Me],de,1);de.polygonEnd()}a(K,"streamPolygon");function Z(ne,de){ne&&A.hasOwnProperty(ne.type)?A[ne.type](ne,de):v(ne,de)}a(Z,"geoStream");var O=r(),$=r(),L,ee,ve,ye,se,be={point:m,lineStart:m,lineEnd:m,polygonStart:function(){O.reset(),be.lineStart=Y,be.lineEnd=D},polygonEnd:function(){var ne=+O;$.add(ne<0?p+ne:ne),this.lineStart=this.lineEnd=this.point=m},sphere:function(){$.add(p)}};function Y(){be.point=J}a(Y,"areaRingStart");function D(){q(L,ee)}a(D,"areaRingEnd");function J(ne,de){be.point=q,L=ne,ee=de,ne*=y,de*=y,ve=ne,ye=P(de=de/2+h),se=B(de)}a(J,"areaPointFirst");function q(ne,de){ne*=y,de*=y,de=de/2+h;var Me=ne-ve,Ee=Me>=0?1:-1,Ye=Ee*Me,ht=P(de),vt=B(de),It=se*vt,Mt=ye*ht+It*P(Ye),Ut=It*Ee*B(Ye);O.add(z(Ut,Mt)),ve=ne,ye=ht,se=vt}a(q,"areaPoint");function I(ne){return $.reset(),Z(ne,be),$*2}a(I,"area");function H(ne){return[z(ne[1],ne[0]),x(ne[2])]}a(H,"spherical");function te(ne){var de=ne[0],Me=ne[1],Ee=P(Me);return[Ee*P(de),Ee*B(de),B(Me)]}a(te,"cartesian");function ie(ne,de){return ne[0]*de[0]+ne[1]*de[1]+ne[2]*de[2]}a(ie,"cartesianDot");function he(ne,de){return[ne[1]*de[2]-ne[2]*de[1],ne[2]*de[0]-ne[0]*de[2],ne[0]*de[1]-ne[1]*de[0]]}a(he,"cartesianCross");function De(ne,de){ne[0]+=de[0],ne[1]+=de[1],ne[2]+=de[2]}a(De,"cartesianAddInPlace");function $e(ne,de){return[ne[0]*de,ne[1]*de,ne[2]*de]}a($e,"cartesianScale");function ze(ne){var de=T(ne[0]*ne[0]+ne[1]*ne[1]+ne[2]*ne[2]);ne[0]/=de,ne[1]/=de,ne[2]/=de}a(ze,"cartesianNormalizeInPlace");var Qe,je,We,Ce,Te,Je,rt,ge,xe=r(),qe,ot,at={point:pe,lineStart:He,lineEnd:tt,polygonStart:function(){at.point=Ve,at.lineStart=et,at.lineEnd=gt,xe.reset(),be.polygonStart()},polygonEnd:function(){be.polygonEnd(),at.point=pe,at.lineStart=He,at.lineEnd=tt,O<0?(Qe=-(We=180),je=-(Ce=90)):xe>o?Ce=90:xe<-o&&(je=-90),ot[0]=Qe,ot[1]=We},sphere:function(){Qe=-(We=180),je=-(Ce=90)}};function pe(ne,de){qe.push(ot=[Qe=ne,We=ne]),de<je&&(je=de),de>Ce&&(Ce=de)}a(pe,"boundsPoint");function Re(ne,de){var Me=te([ne*y,de*y]);if(ge){var Ee=he(ge,Me),Ye=[Ee[1],-Ee[0],0],ht=he(Ye,Ee);ze(ht),ht=H(ht);var vt=ne-Te,It=vt>0?1:-1,Mt=ht[0]*g*It,Ut,_t=E(vt)>180;_t^(It*Te<Mt&&Mt<It*ne)?(Ut=ht[1]*g,Ut>Ce&&(Ce=Ut)):(Mt=(Mt+360)%360-180,_t^(It*Te<Mt&&Mt<It*ne)?(Ut=-ht[1]*g,Ut<je&&(je=Ut)):(de<je&&(je=de),de>Ce&&(Ce=de))),_t?ne<Te?lt(Qe,ne)>lt(Qe,We)&&(We=ne):lt(ne,We)>lt(Qe,We)&&(Qe=ne):We>=Qe?(ne<Qe&&(Qe=ne),ne>We&&(We=ne)):ne>Te?lt(Qe,ne)>lt(Qe,We)&&(We=ne):lt(ne,We)>lt(Qe,We)&&(Qe=ne)}else qe.push(ot=[Qe=ne,We=ne]);de<je&&(je=de),de>Ce&&(Ce=de),ge=Me,Te=ne}a(Re,"linePoint");function He(){at.point=Re}a(He,"boundsLineStart");function tt(){ot[0]=Qe,ot[1]=We,at.point=pe,ge=null}a(tt,"boundsLineEnd");function Ve(ne,de){if(ge){var Me=ne-Te;xe.add(E(Me)>180?Me+(Me>0?360:-360):Me)}else Je=ne,rt=de;be.point(ne,de),Re(ne,de)}a(Ve,"boundsRingPoint");function et(){be.lineStart()}a(et,"boundsRingStart");function gt(){Ve(Je,rt),be.lineEnd(),E(xe)>o&&(Qe=-(We=180)),ot[0]=Qe,ot[1]=We,ge=null}a(gt,"boundsRingEnd");function lt(ne,de){return(de-=ne)<0?de+360:de}a(lt,"angle");function zt(ne,de){return ne[0]-de[0]}a(zt,"rangeCompare");function it(ne,de){return ne[0]<=ne[1]?ne[0]<=de&&de<=ne[1]:de<ne[0]||ne[1]<de}a(it,"rangeContains");function Wt(ne){var de,Me,Ee,Ye,ht,vt,It;if(Ce=We=-(Qe=je=1/0),qe=[],Z(ne,at),Me=qe.length){for(qe.sort(zt),de=1,Ee=qe[0],ht=[Ee];de<Me;++de)Ye=qe[de],it(Ee,Ye[0])||it(Ee,Ye[1])?(lt(Ee[0],Ye[1])>lt(Ee[0],Ee[1])&&(Ee[1]=Ye[1]),lt(Ye[0],Ee[1])>lt(Ee[0],Ee[1])&&(Ee[0]=Ye[0])):ht.push(Ee=Ye);for(vt=-1/0,Me=ht.length-1,de=0,Ee=ht[Me];de<=Me;Ee=Ye,++de)Ye=ht[de],(It=lt(Ee[1],Ye[0]))>vt&&(vt=It,Qe=Ye[0],We=Ee[1])}return qe=ot=null,Qe===1/0||je===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qe,je],[We,Ce]]}a(Wt,"bounds");var bt,Se,Ie,le,_e,ae,ce,re,ue,me,Ae,Oe,Ge,ke,st,yt,pt={sphere:m,point:wt,lineStart:Pt,lineEnd:pr,polygonStart:function(){pt.lineStart=Cr,pt.lineEnd=Qr},polygonEnd:function(){pt.lineStart=Pt,pt.lineEnd=pr}};function wt(ne,de){ne*=y,de*=y;var Me=P(de);Gt(Me*P(ne),Me*B(ne),B(de))}a(wt,"centroidPoint");function Gt(ne,de,Me){++bt,Ie+=(ne-Ie)/bt,le+=(de-le)/bt,_e+=(Me-_e)/bt}a(Gt,"centroidPointCartesian");function Pt(){pt.point=tr}a(Pt,"centroidLineStart");function tr(ne,de){ne*=y,de*=y;var Me=P(de);ke=Me*P(ne),st=Me*B(ne),yt=B(de),pt.point=cr,Gt(ke,st,yt)}a(tr,"centroidLinePointFirst");function cr(ne,de){ne*=y,de*=y;var Me=P(de),Ee=Me*P(ne),Ye=Me*B(ne),ht=B(de),vt=z(T((vt=st*ht-yt*Ye)*vt+(vt=yt*Ee-ke*ht)*vt+(vt=ke*Ye-st*Ee)*vt),ke*Ee+st*Ye+yt*ht);Se+=vt,ae+=vt*(ke+(ke=Ee)),ce+=vt*(st+(st=Ye)),re+=vt*(yt+(yt=ht)),Gt(ke,st,yt)}a(cr,"centroidLinePoint");function pr(){pt.point=wt}a(pr,"centroidLineEnd");function Cr(){pt.point=Tr}a(Cr,"centroidRingStart");function Qr(){ur(Oe,Ge),pt.point=wt}a(Qr,"centroidRingEnd");function Tr(ne,de){Oe=ne,Ge=de,ne*=y,de*=y,pt.point=ur;var Me=P(de);ke=Me*P(ne),st=Me*B(ne),yt=B(de),Gt(ke,st,yt)}a(Tr,"centroidRingPointFirst");function ur(ne,de){ne*=y,de*=y;var Me=P(de),Ee=Me*P(ne),Ye=Me*B(ne),ht=B(de),vt=st*ht-yt*Ye,It=yt*Ee-ke*ht,Mt=ke*Ye-st*Ee,Ut=T(vt*vt+It*It+Mt*Mt),_t=x(Ut),Lt=Ut&&-_t/Ut;ue+=Lt*vt,me+=Lt*It,Ae+=Lt*Mt,Se+=_t,ae+=_t*(ke+(ke=Ee)),ce+=_t*(st+(st=Ye)),re+=_t*(yt+(yt=ht)),Gt(ke,st,yt)}a(ur,"centroidRingPoint");function fr(ne){bt=Se=Ie=le=_e=ae=ce=re=ue=me=Ae=0,Z(ne,pt);var de=ue,Me=me,Ee=Ae,Ye=de*de+Me*Me+Ee*Ee;return Ye<l&&(de=ae,Me=ce,Ee=re,Se<o&&(de=Ie,Me=le,Ee=_e),Ye=de*de+Me*Me+Ee*Ee,Ye<l)?[NaN,NaN]:[z(Me,de)*g,x(Ee/T(Ye))*g]}a(fr,"centroid");function Mr(ne){return function(){return ne}}a(Mr,"constant");function Br(ne,de){function Me(Ee,Ye){return Ee=ne(Ee,Ye),de(Ee[0],Ee[1])}return a(Me,"compose"),ne.invert&&de.invert&&(Me.invert=function(Ee,Ye){return Ee=de.invert(Ee,Ye),Ee&&ne.invert(Ee[0],Ee[1])}),Me}a(Br,"compose");function Ne(ne,de){return[E(ne)>u?ne+Math.round(-ne/p)*p:ne,de]}a(Ne,"rotationIdentity"),Ne.invert=Ne;function Ze(ne,de,Me){return(ne%=p)?de||Me?Br(Ft(ne),At(de,Me)):Ft(ne):de||Me?At(de,Me):Ne}a(Ze,"rotateRadians");function Tt(ne){return function(de,Me){return de+=ne,[de>u?de-p:de<-u?de+p:de,Me]}}a(Tt,"forwardRotationLambda");function Ft(ne){var de=Tt(ne);return de.invert=Tt(-ne),de}a(Ft,"rotationLambda");function At(ne,de){var Me=P(ne),Ee=B(ne),Ye=P(de),ht=B(de);function vt(It,Mt){var Ut=P(Mt),_t=P(It)*Ut,Lt=B(It)*Ut,Bt=B(Mt),Yt=Bt*Me+_t*Ee;return[z(Lt*Ye-Yt*ht,_t*Me-Bt*Ee),x(Yt*Ye+Lt*ht)]}return a(vt,"rotation"),vt.invert=function(It,Mt){var Ut=P(Mt),_t=P(It)*Ut,Lt=B(It)*Ut,Bt=B(Mt),Yt=Bt*Ye-Lt*ht;return[z(Lt*Ye+Bt*ht,_t*Me+Yt*Ee),x(Yt*Me-_t*Ee)]},vt}a(At,"rotationPhiGamma");function Ot(ne){ne=Ze(ne[0]*y,ne[1]*y,ne.length>2?ne[2]*y:0);function de(Me){return Me=ne(Me[0]*y,Me[1]*y),Me[0]*=g,Me[1]*=g,Me}return a(de,"forward"),de.invert=function(Me){return Me=ne.invert(Me[0]*y,Me[1]*y),Me[0]*=g,Me[1]*=g,Me},de}a(Ot,"rotation");function Vt(ne,de,Me,Ee,Ye,ht){if(!!Me){var vt=P(de),It=B(de),Mt=Ee*Me;Ye==null?(Ye=de+Ee*p,ht=de-Mt/2):(Ye=Ct(vt,Ye),ht=Ct(vt,ht),(Ee>0?Ye<ht:Ye>ht)&&(Ye+=Ee*p));for(var Ut,_t=Ye;Ee>0?_t>ht:_t<ht;_t-=Mt)Ut=H([vt,-It*P(_t),-It*B(_t)]),ne.point(Ut[0],Ut[1])}}a(Vt,"circleStream");function Ct(ne,de){de=te(de),de[0]-=ne,ze(de);var Me=R(-de[1]);return((-de[2]<0?-Me:Me)+p-o)%p}a(Ct,"circleRadius");function er(){var ne=Mr([0,0]),de=Mr(90),Me=Mr(6),Ee,Ye,ht={point:vt};function vt(Mt,Ut){Ee.push(Mt=Ye(Mt,Ut)),Mt[0]*=g,Mt[1]*=g}a(vt,"point");function It(){var Mt=ne.apply(this,arguments),Ut=de.apply(this,arguments)*y,_t=Me.apply(this,arguments)*y;return Ee=[],Ye=Ze(-Mt[0]*y,-Mt[1]*y,0).invert,Vt(ht,Ut,_t,1),Mt={type:"Polygon",coordinates:[Ee]},Ee=Ye=null,Mt}return a(It,"circle"),It.center=function(Mt){return arguments.length?(ne=typeof Mt=="function"?Mt:Mr([+Mt[0],+Mt[1]]),It):ne},It.radius=function(Mt){return arguments.length?(de=typeof Mt=="function"?Mt:Mr(+Mt),It):de},It.precision=function(Mt){return arguments.length?(Me=typeof Mt=="function"?Mt:Mr(+Mt),It):Me},It}a(er,"circle");function Ue(){var ne=[],de;return{point:function(Me,Ee,Ye){de.push([Me,Ee,Ye])},lineStart:function(){ne.push(de=[])},lineEnd:m,rejoin:function(){ne.length>1&&ne.push(ne.pop().concat(ne.shift()))},result:function(){var Me=ne;return ne=[],de=null,Me}}}a(Ue,"clipBuffer");function Ir(ne,de){return E(ne[0]-de[0])<o&&E(ne[1]-de[1])<o}a(Ir,"pointEqual");function ct(ne,de,Me,Ee){this.x=ne,this.z=de,this.o=Me,this.e=Ee,this.v=!1,this.n=this.p=null}a(ct,"Intersection");function xn(ne,de,Me,Ee,Ye){var ht=[],vt=[],It,Mt;if(ne.forEach(function(Kt){if(!((br=Kt.length-1)<=0)){var br,yr=Kt[0],xr=Kt[br],wr;if(Ir(yr,xr)){if(!yr[2]&&!xr[2]){for(Ye.lineStart(),It=0;It<br;++It)Ye.point((yr=Kt[It])[0],yr[1]);Ye.lineEnd();return}xr[0]+=2*o}ht.push(wr=new ct(yr,Kt,null,!0)),vt.push(wr.o=new ct(yr,null,wr,!1)),ht.push(wr=new ct(xr,Kt,null,!1)),vt.push(wr.o=new ct(xr,null,wr,!0))}}),!!ht.length){for(vt.sort(de),Tn(ht),Tn(vt),It=0,Mt=vt.length;It<Mt;++It)vt[It].e=Me=!Me;for(var Ut=ht[0],_t,Lt;;){for(var Bt=Ut,Yt=!0;Bt.v;)if((Bt=Bt.n)===Ut)return;_t=Bt.z,Ye.lineStart();do{if(Bt.v=Bt.o.v=!0,Bt.e){if(Yt)for(It=0,Mt=_t.length;It<Mt;++It)Ye.point((Lt=_t[It])[0],Lt[1]);else Ee(Bt.x,Bt.n.x,1,Ye);Bt=Bt.n}else{if(Yt)for(_t=Bt.p.z,It=_t.length-1;It>=0;--It)Ye.point((Lt=_t[It])[0],Lt[1]);else Ee(Bt.x,Bt.p.x,-1,Ye);Bt=Bt.p}Bt=Bt.o,_t=Bt.z,Yt=!Yt}while(!Bt.v);Ye.lineEnd()}}}a(xn,"clipRejoin");function Tn(ne){if(!!(de=ne.length)){for(var de,Me=0,Ee=ne[0],Ye;++Me<de;)Ee.n=Ye=ne[Me],Ye.p=Ee,Ee=Ye;Ee.n=Ye=ne[0],Ye.p=Ee}}a(Tn,"link");var Pi=r();function Ya(ne){return E(ne[0])<=u?ne[0]:S(ne[0])*((E(ne[0])+u)%p-u)}a(Ya,"longitude");function Ha(ne,de){var Me=Ya(de),Ee=de[1],Ye=B(Ee),ht=[B(Me),-P(Me),0],vt=0,It=0;Pi.reset(),Ye===1?Ee=f+o:Ye===-1&&(Ee=-f-o);for(var Mt=0,Ut=ne.length;Mt<Ut;++Mt)if(!!(Lt=(_t=ne[Mt]).length))for(var _t,Lt,Bt=_t[Lt-1],Yt=Ya(Bt),Kt=Bt[1]/2+h,br=B(Kt),yr=P(Kt),xr=0;xr<Lt;++xr,Yt=Jt,br=Ar,yr=Pr,Bt=wr){var wr=_t[xr],Jt=Ya(wr),nr=wr[1]/2+h,Ar=B(nr),Pr=P(nr),An=Jt-Yt,ti=An>=0?1:-1,Wn=ti*An,Ai=Wn>u,nn=br*Ar;if(Pi.add(z(nn*ti*B(Wn),yr*Pr+nn*P(Wn))),vt+=Ai?An+ti*p:An,Ai^Yt>=Me^Jt>=Me){var vs=he(te(Bt),te(wr));ze(vs);var Ia=he(ht,vs);ze(Ia);var fi=(Ai^An>=0?-1:1)*x(Ia[2]);(Ee>fi||Ee===fi&&(vs[0]||vs[1]))&&(It+=Ai^An>=0?1:-1)}}return(vt<-o||vt<o&&Pi<-o)^It&1}a(Ha,"polygonContains");function un(ne,de,Me,Ee){return function(Ye){var ht=de(Ye),vt=Ue(),It=de(vt),Mt=!1,Ut,_t,Lt,Bt={point:Yt,lineStart:br,lineEnd:yr,polygonStart:function(){Bt.point=xr,Bt.lineStart=wr,Bt.lineEnd=Jt,_t=[],Ut=[]},polygonEnd:function(){Bt.point=Yt,Bt.lineStart=br,Bt.lineEnd=yr,_t=t.merge(_t);var nr=Ha(Ut,Ee);_t.length?(Mt||(Ye.polygonStart(),Mt=!0),xn(_t,Be,nr,Me,Ye)):nr&&(Mt||(Ye.polygonStart(),Mt=!0),Ye.lineStart(),Me(null,null,1,Ye),Ye.lineEnd()),Mt&&(Ye.polygonEnd(),Mt=!1),_t=Ut=null},sphere:function(){Ye.polygonStart(),Ye.lineStart(),Me(null,null,1,Ye),Ye.lineEnd(),Ye.polygonEnd()}};function Yt(nr,Ar){ne(nr,Ar)&&Ye.point(nr,Ar)}a(Yt,"point");function Kt(nr,Ar){ht.point(nr,Ar)}a(Kt,"pointLine");function br(){Bt.point=Kt,ht.lineStart()}a(br,"lineStart");function yr(){Bt.point=Yt,ht.lineEnd()}a(yr,"lineEnd");function xr(nr,Ar){Lt.push([nr,Ar]),It.point(nr,Ar)}a(xr,"pointRing");function wr(){It.lineStart(),Lt=[]}a(wr,"ringStart");function Jt(){xr(Lt[0][0],Lt[0][1]),It.lineEnd();var nr=It.clean(),Ar=vt.result(),Pr,An=Ar.length,ti,Wn,Ai;if(Lt.pop(),Ut.push(Lt),Lt=null,!!An){if(nr&1){if(Wn=Ar[0],(ti=Wn.length-1)>0){for(Mt||(Ye.polygonStart(),Mt=!0),Ye.lineStart(),Pr=0;Pr<ti;++Pr)Ye.point((Ai=Wn[Pr])[0],Ai[1]);Ye.lineEnd()}return}An>1&&nr&2&&Ar.push(Ar.pop().concat(Ar.shift())),_t.push(Ar.filter(oe))}}return a(Jt,"ringEnd"),Bt}}a(un,"clip");function oe(ne){return ne.length>1}a(oe,"validSegment");function Be(ne,de){return((ne=ne.x)[0]<0?ne[1]-f-o:f-ne[1])-((de=de.x)[0]<0?de[1]-f-o:f-de[1])}a(Be,"compareIntersection");var Le=un(function(){return!0},Xe,Ke,[-u,-f]);function Xe(ne){var de=NaN,Me=NaN,Ee=NaN,Ye;return{lineStart:function(){ne.lineStart(),Ye=1},point:function(ht,vt){var It=ht>0?u:-u,Mt=E(ht-de);E(Mt-u)<o?(ne.point(de,Me=(Me+vt)/2>0?f:-f),ne.point(Ee,Me),ne.lineEnd(),ne.lineStart(),ne.point(It,Me),ne.point(ht,Me),Ye=0):Ee!==It&&Mt>=u&&(E(de-Ee)<o&&(de-=Ee*o),E(ht-It)<o&&(ht-=It*o),Me=ut(de,Me,ht,vt),ne.point(Ee,Me),ne.lineEnd(),ne.lineStart(),ne.point(It,Me),Ye=0),ne.point(de=ht,Me=vt),Ee=It},lineEnd:function(){ne.lineEnd(),de=Me=NaN},clean:function(){return 2-Ye}}}a(Xe,"clipAntimeridianLine");function ut(ne,de,Me,Ee){var Ye,ht,vt=B(ne-Me);return E(vt)>o?M((B(de)*(ht=P(Ee))*B(Me)-B(Ee)*(Ye=P(de))*B(ne))/(Ye*ht*vt)):(de+Ee)/2}a(ut,"clipAntimeridianIntersect");function Ke(ne,de,Me,Ee){var Ye;if(ne==null)Ye=Me*f,Ee.point(-u,Ye),Ee.point(0,Ye),Ee.point(u,Ye),Ee.point(u,0),Ee.point(u,-Ye),Ee.point(0,-Ye),Ee.point(-u,-Ye),Ee.point(-u,0),Ee.point(-u,Ye);else if(E(ne[0]-de[0])>o){var ht=ne[0]<de[0]?u:-u;Ye=Me*ht/2,Ee.point(-ht,Ye),Ee.point(0,Ye),Ee.point(ht,Ye)}else Ee.point(de[0],de[1])}a(Ke,"clipAntimeridianInterpolate");function Et(ne){var de=P(ne),Me=6*y,Ee=de>0,Ye=E(de)>o;function ht(_t,Lt,Bt,Yt){Vt(Yt,ne,Me,Bt,_t,Lt)}a(ht,"interpolate");function vt(_t,Lt){return P(_t)*P(Lt)>de}a(vt,"visible");function It(_t){var Lt,Bt,Yt,Kt,br;return{lineStart:function(){Kt=Yt=!1,br=1},point:function(yr,xr){var wr=[yr,xr],Jt,nr=vt(yr,xr),Ar=Ee?nr?0:Ut(yr,xr):nr?Ut(yr+(yr<0?u:-u),xr):0;if(!Lt&&(Kt=Yt=nr)&&_t.lineStart(),nr!==Yt&&(Jt=Mt(Lt,wr),(!Jt||Ir(Lt,Jt)||Ir(wr,Jt))&&(wr[2]=1)),nr!==Yt)br=0,nr?(_t.lineStart(),Jt=Mt(wr,Lt),_t.point(Jt[0],Jt[1])):(Jt=Mt(Lt,wr),_t.point(Jt[0],Jt[1],2),_t.lineEnd()),Lt=Jt;else if(Ye&&Lt&&Ee^nr){var Pr;!(Ar&Bt)&&(Pr=Mt(wr,Lt,!0))&&(br=0,Ee?(_t.lineStart(),_t.point(Pr[0][0],Pr[0][1]),_t.point(Pr[1][0],Pr[1][1]),_t.lineEnd()):(_t.point(Pr[1][0],Pr[1][1]),_t.lineEnd(),_t.lineStart(),_t.point(Pr[0][0],Pr[0][1],3)))}nr&&(!Lt||!Ir(Lt,wr))&&_t.point(wr[0],wr[1]),Lt=wr,Yt=nr,Bt=Ar},lineEnd:function(){Yt&&_t.lineEnd(),Lt=null},clean:function(){return br|(Kt&&Yt)<<1}}}a(It,"clipLine");function Mt(_t,Lt,Bt){var Yt=te(_t),Kt=te(Lt),br=[1,0,0],yr=he(Yt,Kt),xr=ie(yr,yr),wr=yr[0],Jt=xr-wr*wr;if(!Jt)return!Bt&&_t;var nr=de*xr/Jt,Ar=-de*wr/Jt,Pr=he(br,yr),An=$e(br,nr),ti=$e(yr,Ar);De(An,ti);var Wn=Pr,Ai=ie(An,Wn),nn=ie(Wn,Wn),vs=Ai*Ai-nn*(ie(An,An)-1);if(!(vs<0)){var Ia=T(vs),fi=$e(Wn,(-Ai-Ia)/nn);if(De(fi,An),fi=H(fi),!Bt)return fi;var ar=_t[0],En=Lt[0],Qa=_t[1],po=Lt[1],vc;En<ar&&(vc=ar,ar=En,En=vc);var Gv=En-ar,Af=E(Gv-u)<o,yp=Af||Gv<o;if(!Af&&po<Qa&&(vc=Qa,Qa=po,po=vc),yp?Af?Qa+po>0^fi[1]<(E(fi[0]-ar)<o?Qa:po):Qa<=fi[1]&&fi[1]<=po:Gv>u^(ar<=fi[0]&&fi[0]<=En)){var Ef=$e(Wn,(-Ai+Ia)/nn);return De(Ef,An),[fi,H(Ef)]}}}a(Mt,"intersect");function Ut(_t,Lt){var Bt=Ee?ne:u-ne,Yt=0;return _t<-Bt?Yt|=1:_t>Bt&&(Yt|=2),Lt<-Bt?Yt|=4:Lt>Bt&&(Yt|=8),Yt}return a(Ut,"code"),un(vt,It,ht,Ee?[0,-ne]:[-u,ne-u])}a(Et,"clipCircle");function nt(ne,de,Me,Ee,Ye,ht){var vt=ne[0],It=ne[1],Mt=de[0],Ut=de[1],_t=0,Lt=1,Bt=Mt-vt,Yt=Ut-It,Kt;if(Kt=Me-vt,!(!Bt&&Kt>0)){if(Kt/=Bt,Bt<0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}else if(Bt>0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}if(Kt=Ye-vt,!(!Bt&&Kt<0)){if(Kt/=Bt,Bt<0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}else if(Bt>0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}if(Kt=Ee-It,!(!Yt&&Kt>0)){if(Kt/=Yt,Yt<0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}else if(Yt>0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}if(Kt=ht-It,!(!Yt&&Kt<0)){if(Kt/=Yt,Yt<0){if(Kt>Lt)return;Kt>_t&&(_t=Kt)}else if(Yt>0){if(Kt<_t)return;Kt<Lt&&(Lt=Kt)}return _t>0&&(ne[0]=vt+_t*Bt,ne[1]=It+_t*Yt),Lt<1&&(de[0]=vt+Lt*Bt,de[1]=It+Lt*Yt),!0}}}}}a(nt,"clipLine");var Rt=1e9,jt=-Rt;function Xt(ne,de,Me,Ee){function Ye(Ut,_t){return ne<=Ut&&Ut<=Me&&de<=_t&&_t<=Ee}a(Ye,"visible");function ht(Ut,_t,Lt,Bt){var Yt=0,Kt=0;if(Ut==null||(Yt=vt(Ut,Lt))!==(Kt=vt(_t,Lt))||Mt(Ut,_t)<0^Lt>0)do Bt.point(Yt===0||Yt===3?ne:Me,Yt>1?Ee:de);while((Yt=(Yt+Lt+4)%4)!==Kt);else Bt.point(_t[0],_t[1])}a(ht,"interpolate");function vt(Ut,_t){return E(Ut[0]-ne)<o?_t>0?0:3:E(Ut[0]-Me)<o?_t>0?2:1:E(Ut[1]-de)<o?_t>0?1:0:_t>0?3:2}a(vt,"corner");function It(Ut,_t){return Mt(Ut.x,_t.x)}a(It,"compareIntersection");function Mt(Ut,_t){var Lt=vt(Ut,1),Bt=vt(_t,1);return Lt!==Bt?Lt-Bt:Lt===0?_t[1]-Ut[1]:Lt===1?Ut[0]-_t[0]:Lt===2?Ut[1]-_t[1]:_t[0]-Ut[0]}return a(Mt,"comparePoint"),function(Ut){var _t=Ut,Lt=Ue(),Bt,Yt,Kt,br,yr,xr,wr,Jt,nr,Ar,Pr,An={point:ti,lineStart:vs,lineEnd:Ia,polygonStart:Ai,polygonEnd:nn};function ti(ar,En){Ye(ar,En)&&_t.point(ar,En)}a(ti,"point");function Wn(){for(var ar=0,En=0,Qa=Yt.length;En<Qa;++En)for(var po=Yt[En],vc=1,Gv=po.length,Af=po[0],yp,Ef,_6=Af[0],dy=Af[1];vc<Gv;++vc)yp=_6,Ef=dy,Af=po[vc],_6=Af[0],dy=Af[1],Ef<=Ee?dy>Ee&&(_6-yp)*(Ee-Ef)>(dy-Ef)*(ne-yp)&&++ar:dy<=Ee&&(_6-yp)*(Ee-Ef)<(dy-Ef)*(ne-yp)&&--ar;return ar}a(Wn,"polygonInside");function Ai(){_t=Lt,Bt=[],Yt=[],Pr=!0}a(Ai,"polygonStart");function nn(){var ar=Wn(),En=Pr&&ar,Qa=(Bt=t.merge(Bt)).length;(En||Qa)&&(Ut.polygonStart(),En&&(Ut.lineStart(),ht(null,null,1,Ut),Ut.lineEnd()),Qa&&xn(Bt,It,ar,ht,Ut),Ut.polygonEnd()),_t=Ut,Bt=Yt=Kt=null}a(nn,"polygonEnd");function vs(){An.point=fi,Yt&&Yt.push(Kt=[]),Ar=!0,nr=!1,wr=Jt=NaN}a(vs,"lineStart");function Ia(){Bt&&(fi(br,yr),xr&&nr&&Lt.rejoin(),Bt.push(Lt.result())),An.point=ti,nr&&_t.lineEnd()}a(Ia,"lineEnd");function fi(ar,En){var Qa=Ye(ar,En);if(Yt&&Kt.push([ar,En]),Ar)br=ar,yr=En,xr=Qa,Ar=!1,Qa&&(_t.lineStart(),_t.point(ar,En));else if(Qa&&nr)_t.point(ar,En);else{var po=[wr=Math.max(jt,Math.min(Rt,wr)),Jt=Math.max(jt,Math.min(Rt,Jt))],vc=[ar=Math.max(jt,Math.min(Rt,ar)),En=Math.max(jt,Math.min(Rt,En))];nt(po,vc,ne,de,Me,Ee)?(nr||(_t.lineStart(),_t.point(po[0],po[1])),_t.point(vc[0],vc[1]),Qa||_t.lineEnd(),Pr=!1):Qa&&(_t.lineStart(),_t.point(ar,En),Pr=!1)}wr=ar,Jt=En,nr=Qa}return a(fi,"linePoint"),An}}a(Xt,"clipRectangle");function lr(){var ne=0,de=0,Me=960,Ee=500,Ye,ht,vt;return vt={stream:function(It){return Ye&&ht===It?Ye:Ye=Xt(ne,de,Me,Ee)(ht=It)},extent:function(It){return arguments.length?(ne=+It[0][0],de=+It[0][1],Me=+It[1][0],Ee=+It[1][1],Ye=ht=null,vt):[[ne,de],[Me,Ee]]}}}a(lr,"extent");var Er=r(),Kr,Rr,jr,en={sphere:m,point:m,lineStart:Fn,lineEnd:m,polygonStart:m,polygonEnd:m};function Fn(){en.point=Dn,en.lineEnd=pn}a(Fn,"lengthLineStart");function pn(){en.point=en.lineEnd=m}a(pn,"lengthLineEnd");function Dn(ne,de){ne*=y,de*=y,Kr=ne,Rr=B(de),jr=P(de),en.point=gi}a(Dn,"lengthPointFirst");function gi(ne,de){ne*=y,de*=y;var Me=B(de),Ee=P(de),Ye=E(ne-Kr),ht=P(Ye),vt=B(Ye),It=Ee*vt,Mt=jr*Me-Rr*Ee*ht,Ut=Rr*Me+jr*Ee*ht;Er.add(z(T(It*It+Mt*Mt),Ut)),Kr=ne,Rr=Me,jr=Ee}a(gi,"lengthPoint");function ca(ne){return Er.reset(),Z(ne,en),+Er}a(ca,"length");var ci=[null,null],Li={type:"LineString",coordinates:ci};function za(ne,de){return ci[0]=ne,ci[1]=de,ca(Li)}a(za,"distance");var Di={Feature:function(ne,de){return Fi(ne.geometry,de)},FeatureCollection:function(ne,de){for(var Me=ne.features,Ee=-1,Ye=Me.length;++Ee<Ye;)if(Fi(Me[Ee].geometry,de))return!0;return!1}},la={Sphere:function(){return!0},Point:function(ne,de){return zr(ne.coordinates,de)},MultiPoint:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(zr(Me[Ee],de))return!0;return!1},LineString:function(ne,de){return rr(ne.coordinates,de)},MultiLineString:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(rr(Me[Ee],de))return!0;return!1},Polygon:function(ne,de){return mt(ne.coordinates,de)},MultiPolygon:function(ne,de){for(var Me=ne.coordinates,Ee=-1,Ye=Me.length;++Ee<Ye;)if(mt(Me[Ee],de))return!0;return!1},GeometryCollection:function(ne,de){for(var Me=ne.geometries,Ee=-1,Ye=Me.length;++Ee<Ye;)if(Fi(Me[Ee],de))return!0;return!1}};function Fi(ne,de){return ne&&la.hasOwnProperty(ne.type)?la[ne.type](ne,de):!1}a(Fi,"containsGeometry");function zr(ne,de){return za(ne,de)===0}a(zr,"containsPoint");function rr(ne,de){for(var Me,Ee,Ye,ht=0,vt=ne.length;ht<vt;ht++){if(Ee=za(ne[ht],de),Ee===0||ht>0&&(Ye=za(ne[ht],ne[ht-1]),Ye>0&&Me<=Ye&&Ee<=Ye&&(Me+Ee-Ye)*(1-Math.pow((Me-Ee)/Ye,2))<l*Ye))return!0;Me=Ee}return!1}a(rr,"containsLine");function mt(ne,de){return!!Ha(ne.map($t),or(de))}a(mt,"containsPolygon");function $t(ne){return ne=ne.map(or),ne.pop(),ne}a($t,"ringRadians");function or(ne){return[ne[0]*y,ne[1]*y]}a(or,"pointRadians");function Xr(ne,de){return(ne&&Di.hasOwnProperty(ne.type)?Di[ne.type]:Fi)(ne,de)}a(Xr,"contains");function li(ne,de,Me){var Ee=t.range(ne,de-o,Me).concat(de);return function(Ye){return Ee.map(function(ht){return[Ye,ht]})}}a(li,"graticuleX");function ui(ne,de,Me){var Ee=t.range(ne,de-o,Me).concat(de);return function(Ye){return Ee.map(function(ht){return[ht,Ye]})}}a(ui,"graticuleY");function Mn(){var ne,de,Me,Ee,Ye,ht,vt,It,Mt=10,Ut=Mt,_t=90,Lt=360,Bt,Yt,Kt,br,yr=2.5;function xr(){return{type:"MultiLineString",coordinates:wr()}}a(xr,"graticule");function wr(){return t.range(Q(Ee/_t)*_t,Me,_t).map(Kt).concat(t.range(Q(It/Lt)*Lt,vt,Lt).map(br)).concat(t.range(Q(de/Mt)*Mt,ne,Mt).filter(function(Jt){return E(Jt%_t)>o}).map(Bt)).concat(t.range(Q(ht/Ut)*Ut,Ye,Ut).filter(function(Jt){return E(Jt%Lt)>o}).map(Yt))}return a(wr,"lines"),xr.lines=function(){return wr().map(function(Jt){return{type:"LineString",coordinates:Jt}})},xr.outline=function(){return{type:"Polygon",coordinates:[Kt(Ee).concat(br(vt).slice(1),Kt(Me).reverse().slice(1),br(It).reverse().slice(1))]}},xr.extent=function(Jt){return arguments.length?xr.extentMajor(Jt).extentMinor(Jt):xr.extentMinor()},xr.extentMajor=function(Jt){return arguments.length?(Ee=+Jt[0][0],Me=+Jt[1][0],It=+Jt[0][1],vt=+Jt[1][1],Ee>Me&&(Jt=Ee,Ee=Me,Me=Jt),It>vt&&(Jt=It,It=vt,vt=Jt),xr.precision(yr)):[[Ee,It],[Me,vt]]},xr.extentMinor=function(Jt){return arguments.length?(de=+Jt[0][0],ne=+Jt[1][0],ht=+Jt[0][1],Ye=+Jt[1][1],de>ne&&(Jt=de,de=ne,ne=Jt),ht>Ye&&(Jt=ht,ht=Ye,Ye=Jt),xr.precision(yr)):[[de,ht],[ne,Ye]]},xr.step=function(Jt){return arguments.length?xr.stepMajor(Jt).stepMinor(Jt):xr.stepMinor()},xr.stepMajor=function(Jt){return arguments.length?(_t=+Jt[0],Lt=+Jt[1],xr):[_t,Lt]},xr.stepMinor=function(Jt){return arguments.length?(Mt=+Jt[0],Ut=+Jt[1],xr):[Mt,Ut]},xr.precision=function(Jt){return arguments.length?(yr=+Jt,Bt=li(ht,Ye,90),Yt=ui(de,ne,yr),Kt=li(It,vt,90),br=ui(Ee,Me,yr),xr):yr},xr.extentMajor([[-180,-90+o],[180,90-o]]).extentMinor([[-180,-80-o],[180,80+o]])}a(Mn,"graticule");function ka(){return Mn()()}a(ka,"graticule10");function Qn(ne,de){var Me=ne[0]*y,Ee=ne[1]*y,Ye=de[0]*y,ht=de[1]*y,vt=P(Ee),It=B(Ee),Mt=P(ht),Ut=B(ht),_t=vt*P(Me),Lt=vt*B(Me),Bt=Mt*P(Ye),Yt=Mt*B(Ye),Kt=2*x(T(N(ht-Ee)+vt*Mt*N(Ye-Me))),br=B(Kt),yr=Kt?function(xr){var wr=B(xr*=Kt)/br,Jt=B(Kt-xr)/br,nr=Jt*_t+wr*Bt,Ar=Jt*Lt+wr*Yt,Pr=Jt*It+wr*Ut;return[z(Ar,nr)*g,z(Pr,T(nr*nr+Ar*Ar))*g]}:function(){return[Me*g,Ee*g]};return yr.distance=Kt,yr}a(Qn,"interpolate");function Fs(ne){return ne}a(Fs,"identity");var Ca=r(),qo=r(),_f,iu,is,xf,Us={point:m,lineStart:m,lineEnd:m,polygonStart:function(){Us.lineStart=g6,Us.lineEnd=wf},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=m,Ca.add(E(qo)),qo.reset()},result:function(){var ne=Ca/2;return Ca.reset(),ne}};function g6(){Us.point=Nv}a(g6,"areaRingStart$1");function Nv(ne,de){Us.point=mc,_f=is=ne,iu=xf=de}a(Nv,"areaPointFirst$1");function mc(ne,de){qo.add(xf*ne-is*de),is=ne,xf=de}a(mc,"areaPoint$1");function wf(){mc(_f,iu)}a(wf,"areaRingEnd$1");var Ys=1/0,Po=Ys,au=-Ys,Or=au,uy={point:TB,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m,result:function(){var ne=[[Ys,Po],[au,Or]];return au=Or=-(Po=Ys=1/0),ne}};function TB(ne,de){ne<Ys&&(Ys=ne),ne>au&&(au=ne),de<Po&&(Po=de),de>Or&&(Or=de)}a(TB,"boundsPoint$1");var Ov=0,Fo=0,bc=0,fy=0,vd=0,Uo=0,_d=0,fn=0,C=0,X,fe,we,Fe,dt={point:Nt,lineStart:Qt,lineEnd:Ur,polygonStart:function(){dt.lineStart=Lr,dt.lineEnd=wi},polygonEnd:function(){dt.point=Nt,dt.lineStart=Qt,dt.lineEnd=Ur},result:function(){var ne=C?[_d/C,fn/C]:Uo?[fy/Uo,vd/Uo]:bc?[Ov/bc,Fo/bc]:[NaN,NaN];return Ov=Fo=bc=fy=vd=Uo=_d=fn=C=0,ne}};function Nt(ne,de){Ov+=ne,Fo+=de,++bc}a(Nt,"centroidPoint$1");function Qt(){dt.point=hr}a(Qt,"centroidLineStart$1");function hr(ne,de){dt.point=ir,Nt(we=ne,Fe=de)}a(hr,"centroidPointFirstLine");function ir(ne,de){var Me=ne-we,Ee=de-Fe,Ye=T(Me*Me+Ee*Ee);fy+=Ye*(we+ne)/2,vd+=Ye*(Fe+de)/2,Uo+=Ye,Nt(we=ne,Fe=de)}a(ir,"centroidPointLine");function Ur(){dt.point=Nt}a(Ur,"centroidLineEnd$1");function Lr(){dt.point=Ui}a(Lr,"centroidRingStart$1");function wi(){ho(X,fe)}a(wi,"centroidRingEnd$1");function Ui(ne,de){dt.point=ho,Nt(X=we=ne,fe=Fe=de)}a(Ui,"centroidPointFirstRing");function ho(ne,de){var Me=ne-we,Ee=de-Fe,Ye=T(Me*Me+Ee*Ee);fy+=Ye*(we+ne)/2,vd+=Ye*(Fe+de)/2,Uo+=Ye,Ye=Fe*ne-we*de,_d+=Ye*(we+ne),fn+=Ye*(Fe+de),C+=Ye*3,Nt(we=ne,Fe=de)}a(ho,"centroidPointRing");function hy(ne){this._context=ne}a(hy,"PathContext"),hy.prototype={_radius:4.5,pointRadius:function(ne){return this._radius=ne,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(ne,de){switch(this._point){case 0:{this._context.moveTo(ne,de),this._point=1;break}case 1:{this._context.lineTo(ne,de);break}default:{this._context.moveTo(ne+this._radius,de),this._context.arc(ne,de,this._radius,0,p);break}}},result:m};var MB=r(),BB,FX,UX,qv,Pv,Fv={point:m,lineStart:function(){Fv.point=VOe},lineEnd:function(){BB&&YX(FX,UX),Fv.point=m},polygonStart:function(){BB=!0},polygonEnd:function(){BB=null},result:function(){var ne=+MB;return MB.reset(),ne}};function VOe(ne,de){Fv.point=YX,FX=qv=ne,UX=Pv=de}a(VOe,"lengthPointFirst$1");function YX(ne,de){qv-=ne,Pv-=de,MB.add(T(qv*qv+Pv*Pv)),qv=ne,Pv=de}a(YX,"lengthPoint$1");function HX(){this._string=[]}a(HX,"PathString"),HX.prototype={_radius:4.5,_circle:zX(4.5),pointRadius:function(ne){return(ne=+ne)!==this._radius&&(this._radius=ne,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(ne,de){switch(this._point){case 0:{this._string.push("M",ne,",",de),this._point=1;break}case 1:{this._string.push("L",ne,",",de);break}default:{this._circle==null&&(this._circle=zX(this._radius)),this._string.push("M",ne,",",de,this._circle);break}}},result:function(){if(this._string.length){var ne=this._string.join("");return this._string=[],ne}else return null}};function zX(ne){return"m0,"+ne+"a"+ne+","+ne+" 0 1,1 0,"+-2*ne+"a"+ne+","+ne+" 0 1,1 0,"+2*ne+"z"}a(zX,"circle$1");function jOe(ne,de){var Me=4.5,Ee,Ye;function ht(vt){return vt&&(typeof Me=="function"&&Ye.pointRadius(+Me.apply(this,arguments)),Z(vt,Ee(Ye))),Ye.result()}return a(ht,"path"),ht.area=function(vt){return Z(vt,Ee(Us)),Us.result()},ht.measure=function(vt){return Z(vt,Ee(Fv)),Fv.result()},ht.bounds=function(vt){return Z(vt,Ee(uy)),uy.result()},ht.centroid=function(vt){return Z(vt,Ee(dt)),dt.result()},ht.projection=function(vt){return arguments.length?(Ee=vt==null?(ne=null,Fs):(ne=vt).stream,ht):ne},ht.context=function(vt){return arguments.length?(Ye=vt==null?(de=null,new HX):new hy(de=vt),typeof Me!="function"&&Ye.pointRadius(Me),ht):de},ht.pointRadius=function(vt){return arguments.length?(Me=typeof vt=="function"?vt:(Ye.pointRadius(+vt),+vt),ht):Me},ht.projection(ne).context(de)}a(jOe,"index");function GOe(ne){return{stream:Uv(ne)}}a(GOe,"transform");function Uv(ne){return function(de){var Me=new RB;for(var Ee in ne)Me[Ee]=ne[Ee];return Me.stream=de,Me}}a(Uv,"transformer");function RB(){}a(RB,"TransformStream"),RB.prototype={constructor:RB,point:function(ne,de){this.stream.point(ne,de)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function LB(ne,de,Me){var Ee=ne.clipExtent&&ne.clipExtent();return ne.scale(150).translate([0,0]),Ee!=null&&ne.clipExtent(null),Z(Me,ne.stream(uy)),de(uy.result()),Ee!=null&&ne.clipExtent(Ee),ne}a(LB,"fit");function y6(ne,de,Me){return LB(ne,function(Ee){var Ye=de[1][0]-de[0][0],ht=de[1][1]-de[0][1],vt=Math.min(Ye/(Ee[1][0]-Ee[0][0]),ht/(Ee[1][1]-Ee[0][1])),It=+de[0][0]+(Ye-vt*(Ee[1][0]+Ee[0][0]))/2,Mt=+de[0][1]+(ht-vt*(Ee[1][1]+Ee[0][1]))/2;ne.scale(150*vt).translate([It,Mt])},Me)}a(y6,"fitExtent");function DB(ne,de,Me){return y6(ne,[[0,0],de],Me)}a(DB,"fitSize");function NB(ne,de,Me){return LB(ne,function(Ee){var Ye=+de,ht=Ye/(Ee[1][0]-Ee[0][0]),vt=(Ye-ht*(Ee[1][0]+Ee[0][0]))/2,It=-ht*Ee[0][1];ne.scale(150*ht).translate([vt,It])},Me)}a(NB,"fitWidth");function OB(ne,de,Me){return LB(ne,function(Ee){var Ye=+de,ht=Ye/(Ee[1][1]-Ee[0][1]),vt=-ht*Ee[0][0],It=(Ye-ht*(Ee[1][1]+Ee[0][1]))/2;ne.scale(150*ht).translate([vt,It])},Me)}a(OB,"fitHeight");var QX=16,KOe=P(30*y);function WX(ne,de){return+de?XOe(ne,de):$Oe(ne)}a(WX,"resample");function $Oe(ne){return Uv({point:function(de,Me){de=ne(de,Me),this.stream.point(de[0],de[1])}})}a($Oe,"resampleNone");function XOe(ne,de){function Me(Ee,Ye,ht,vt,It,Mt,Ut,_t,Lt,Bt,Yt,Kt,br,yr){var xr=Ut-Ee,wr=_t-Ye,Jt=xr*xr+wr*wr;if(Jt>4*de&&br--){var nr=vt+Bt,Ar=It+Yt,Pr=Mt+Kt,An=T(nr*nr+Ar*Ar+Pr*Pr),ti=x(Pr/=An),Wn=E(E(Pr)-1)<o||E(ht-Lt)<o?(ht+Lt)/2:z(Ar,nr),Ai=ne(Wn,ti),nn=Ai[0],vs=Ai[1],Ia=nn-Ee,fi=vs-Ye,ar=wr*Ia-xr*fi;(ar*ar/Jt>de||E((xr*Ia+wr*fi)/Jt-.5)>.3||vt*Bt+It*Yt+Mt*Kt<KOe)&&(Me(Ee,Ye,ht,vt,It,Mt,nn,vs,Wn,nr/=An,Ar/=An,Pr,br,yr),yr.point(nn,vs),Me(nn,vs,Wn,nr,Ar,Pr,Ut,_t,Lt,Bt,Yt,Kt,br,yr))}}return a(Me,"resampleLineTo"),function(Ee){var Ye,ht,vt,It,Mt,Ut,_t,Lt,Bt,Yt,Kt,br,yr={point:xr,lineStart:wr,lineEnd:nr,polygonStart:function(){Ee.polygonStart(),yr.lineStart=Ar},polygonEnd:function(){Ee.polygonEnd(),yr.lineStart=wr}};function xr(ti,Wn){ti=ne(ti,Wn),Ee.point(ti[0],ti[1])}a(xr,"point");function wr(){Lt=NaN,yr.point=Jt,Ee.lineStart()}a(wr,"lineStart");function Jt(ti,Wn){var Ai=te([ti,Wn]),nn=ne(ti,Wn);Me(Lt,Bt,_t,Yt,Kt,br,Lt=nn[0],Bt=nn[1],_t=ti,Yt=Ai[0],Kt=Ai[1],br=Ai[2],QX,Ee),Ee.point(Lt,Bt)}a(Jt,"linePoint");function nr(){yr.point=xr,Ee.lineEnd()}a(nr,"lineEnd");function Ar(){wr(),yr.point=Pr,yr.lineEnd=An}a(Ar,"ringStart");function Pr(ti,Wn){Jt(Ye=ti,Wn),ht=Lt,vt=Bt,It=Yt,Mt=Kt,Ut=br,yr.point=Jt}a(Pr,"ringPoint");function An(){Me(Lt,Bt,_t,Yt,Kt,br,ht,vt,Ye,It,Mt,Ut,QX,Ee),yr.lineEnd=nr,nr()}return a(An,"ringEnd"),yr}}a(XOe,"resample$1");var JOe=Uv({point:function(ne,de){this.stream.point(ne*y,de*y)}});function ZOe(ne){return Uv({point:function(de,Me){var Ee=ne(de,Me);return this.stream.point(Ee[0],Ee[1])}})}a(ZOe,"transformRotate");function eqe(ne,de,Me,Ee,Ye){function ht(vt,It){return vt*=Ee,It*=Ye,[de+ne*vt,Me-ne*It]}return a(ht,"transform"),ht.invert=function(vt,It){return[(vt-de)/ne*Ee,(Me-It)/ne*Ye]},ht}a(eqe,"scaleTranslate");function VX(ne,de,Me,Ee,Ye,ht){var vt=P(ht),It=B(ht),Mt=vt*ne,Ut=It*ne,_t=vt/ne,Lt=It/ne,Bt=(It*Me-vt*de)/ne,Yt=(It*de+vt*Me)/ne;function Kt(br,yr){return br*=Ee,yr*=Ye,[Mt*br-Ut*yr+de,Me-Ut*br-Mt*yr]}return a(Kt,"transform"),Kt.invert=function(br,yr){return[Ee*(_t*br-Lt*yr+Bt),Ye*(Yt-Lt*br-_t*yr)]},Kt}a(VX,"scaleTranslateRotate");function su(ne){return qB(function(){return ne})()}a(su,"projection");function qB(ne){var de,Me=150,Ee=480,Ye=250,ht=0,vt=0,It=0,Mt=0,Ut=0,_t,Lt=0,Bt=1,Yt=1,Kt=null,br=Le,yr=null,xr,wr,Jt,nr=Fs,Ar=.5,Pr,An,ti,Wn,Ai;function nn(ar){return ti(ar[0]*y,ar[1]*y)}a(nn,"projection");function vs(ar){return ar=ti.invert(ar[0],ar[1]),ar&&[ar[0]*g,ar[1]*g]}a(vs,"invert"),nn.stream=function(ar){return Wn&&Ai===ar?Wn:Wn=JOe(ZOe(_t)(br(Pr(nr(Ai=ar)))))},nn.preclip=function(ar){return arguments.length?(br=ar,Kt=void 0,fi()):br},nn.postclip=function(ar){return arguments.length?(nr=ar,yr=xr=wr=Jt=null,fi()):nr},nn.clipAngle=function(ar){return arguments.length?(br=+ar?Et(Kt=ar*y):(Kt=null,Le),fi()):Kt*g},nn.clipExtent=function(ar){return arguments.length?(nr=ar==null?(yr=xr=wr=Jt=null,Fs):Xt(yr=+ar[0][0],xr=+ar[0][1],wr=+ar[1][0],Jt=+ar[1][1]),fi()):yr==null?null:[[yr,xr],[wr,Jt]]},nn.scale=function(ar){return arguments.length?(Me=+ar,Ia()):Me},nn.translate=function(ar){return arguments.length?(Ee=+ar[0],Ye=+ar[1],Ia()):[Ee,Ye]},nn.center=function(ar){return arguments.length?(ht=ar[0]%360*y,vt=ar[1]%360*y,Ia()):[ht*g,vt*g]},nn.rotate=function(ar){return arguments.length?(It=ar[0]%360*y,Mt=ar[1]%360*y,Ut=ar.length>2?ar[2]%360*y:0,Ia()):[It*g,Mt*g,Ut*g]},nn.angle=function(ar){return arguments.length?(Lt=ar%360*y,Ia()):Lt*g},nn.reflectX=function(ar){return arguments.length?(Bt=ar?-1:1,Ia()):Bt<0},nn.reflectY=function(ar){return arguments.length?(Yt=ar?-1:1,Ia()):Yt<0},nn.precision=function(ar){return arguments.length?(Pr=WX(An,Ar=ar*ar),fi()):T(Ar)},nn.fitExtent=function(ar,En){return y6(nn,ar,En)},nn.fitSize=function(ar,En){return DB(nn,ar,En)},nn.fitWidth=function(ar,En){return NB(nn,ar,En)},nn.fitHeight=function(ar,En){return OB(nn,ar,En)};function Ia(){var ar=VX(Me,0,0,Bt,Yt,Lt).apply(null,de(ht,vt)),En=(Lt?VX:eqe)(Me,Ee-ar[0],Ye-ar[1],Bt,Yt,Lt);return _t=Ze(It,Mt,Ut),An=Br(de,En),ti=Br(_t,An),Pr=WX(An,Ar),fi()}a(Ia,"recenter");function fi(){return Wn=Ai=null,nn}return a(fi,"reset"),function(){return de=ne.apply(this,arguments),nn.invert=de.invert&&vs,Ia()}}a(qB,"projectionMutator");function PB(ne){var de=0,Me=u/3,Ee=qB(ne),Ye=Ee(de,Me);return Ye.parallels=function(ht){return arguments.length?Ee(de=ht[0]*y,Me=ht[1]*y):[de*g,Me*g]},Ye}a(PB,"conicProjection");function tqe(ne){var de=P(ne);function Me(Ee,Ye){return[Ee*de,B(Ye)/de]}return a(Me,"forward"),Me.invert=function(Ee,Ye){return[Ee/de,x(Ye*de)]},Me}a(tqe,"cylindricalEqualAreaRaw");function jX(ne,de){var Me=B(ne),Ee=(Me+B(de))/2;if(E(Ee)<o)return tqe(ne);var Ye=1+Me*(2*Ee-Me),ht=T(Ye)/Ee;function vt(It,Mt){var Ut=T(Ye-2*Ee*B(Mt))/Ee;return[Ut*B(It*=Ee),ht-Ut*P(It)]}return a(vt,"project"),vt.invert=function(It,Mt){var Ut=ht-Mt,_t=z(It,E(Ut))*S(Ut);return Ut*Ee<0&&(_t-=u*S(It)*S(Ut)),[_t/Ee,x((Ye-(It*It+Ut*Ut)*Ee*Ee)/(2*Ee))]},vt}a(jX,"conicEqualAreaRaw");function m6(){return PB(jX).scale(155.424).center([0,33.6442])}a(m6,"conicEqualArea");function GX(){return m6().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}a(GX,"albers");function rqe(ne){var de=ne.length;return{point:function(Me,Ee){for(var Ye=-1;++Ye<de;)ne[Ye].point(Me,Ee)},sphere:function(){for(var Me=-1;++Me<de;)ne[Me].sphere()},lineStart:function(){for(var Me=-1;++Me<de;)ne[Me].lineStart()},lineEnd:function(){for(var Me=-1;++Me<de;)ne[Me].lineEnd()},polygonStart:function(){for(var Me=-1;++Me<de;)ne[Me].polygonStart()},polygonEnd:function(){for(var Me=-1;++Me<de;)ne[Me].polygonEnd()}}}a(rqe,"multiplex");function nqe(){var ne,de,Me=GX(),Ee,Ye=m6().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ht,vt=m6().rotate([157,0]).center([-3,19.9]).parallels([8,18]),It,Mt,Ut={point:function(Bt,Yt){Mt=[Bt,Yt]}};function _t(Bt){var Yt=Bt[0],Kt=Bt[1];return Mt=null,Ee.point(Yt,Kt),Mt||(ht.point(Yt,Kt),Mt)||(It.point(Yt,Kt),Mt)}a(_t,"albersUsa"),_t.invert=function(Bt){var Yt=Me.scale(),Kt=Me.translate(),br=(Bt[0]-Kt[0])/Yt,yr=(Bt[1]-Kt[1])/Yt;return(yr>=.12&&yr<.234&&br>=-.425&&br<-.214?Ye:yr>=.166&&yr<.234&&br>=-.214&&br<-.115?vt:Me).invert(Bt)},_t.stream=function(Bt){return ne&&de===Bt?ne:ne=rqe([Me.stream(de=Bt),Ye.stream(Bt),vt.stream(Bt)])},_t.precision=function(Bt){return arguments.length?(Me.precision(Bt),Ye.precision(Bt),vt.precision(Bt),Lt()):Me.precision()},_t.scale=function(Bt){return arguments.length?(Me.scale(Bt),Ye.scale(Bt*.35),vt.scale(Bt),_t.translate(Me.translate())):Me.scale()},_t.translate=function(Bt){if(!arguments.length)return Me.translate();var Yt=Me.scale(),Kt=+Bt[0],br=+Bt[1];return Ee=Me.translate(Bt).clipExtent([[Kt-.455*Yt,br-.238*Yt],[Kt+.455*Yt,br+.238*Yt]]).stream(Ut),ht=Ye.translate([Kt-.307*Yt,br+.201*Yt]).clipExtent([[Kt-.425*Yt+o,br+.12*Yt+o],[Kt-.214*Yt-o,br+.234*Yt-o]]).stream(Ut),It=vt.translate([Kt-.205*Yt,br+.212*Yt]).clipExtent([[Kt-.214*Yt+o,br+.166*Yt+o],[Kt-.115*Yt-o,br+.234*Yt-o]]).stream(Ut),Lt()},_t.fitExtent=function(Bt,Yt){return y6(_t,Bt,Yt)},_t.fitSize=function(Bt,Yt){return DB(_t,Bt,Yt)},_t.fitWidth=function(Bt,Yt){return NB(_t,Bt,Yt)},_t.fitHeight=function(Bt,Yt){return OB(_t,Bt,Yt)};function Lt(){return ne=de=null,_t}return a(Lt,"reset"),_t.scale(1070)}a(nqe,"albersUsa");function KX(ne){return function(de,Me){var Ee=P(de),Ye=P(Me),ht=ne(Ee*Ye);return[ht*Ye*B(de),ht*B(Me)]}}a(KX,"azimuthalRaw");function Yv(ne){return function(de,Me){var Ee=T(de*de+Me*Me),Ye=ne(Ee),ht=B(Ye),vt=P(Ye);return[z(de*ht,Ee*vt),x(Ee&&Me*ht/Ee)]}}a(Yv,"azimuthalInvert");var FB=KX(function(ne){return T(2/(1+ne))});FB.invert=Yv(function(ne){return 2*x(ne/2)});function iqe(){return su(FB).scale(124.75).clipAngle(180-.001)}a(iqe,"azimuthalEqualArea");var UB=KX(function(ne){return(ne=R(ne))&&ne/B(ne)});UB.invert=Yv(function(ne){return ne});function aqe(){return su(UB).scale(79.4188).clipAngle(180-.001)}a(aqe,"azimuthalEquidistant");function Hv(ne,de){return[ne,W(k((f+de)/2))]}a(Hv,"mercatorRaw"),Hv.invert=function(ne,de){return[ne,2*M(V(de))-f]};function sqe(){return $X(Hv).scale(961/p)}a(sqe,"mercator");function $X(ne){var de=su(ne),Me=de.center,Ee=de.scale,Ye=de.translate,ht=de.clipExtent,vt=null,It,Mt,Ut;de.scale=function(Lt){return arguments.length?(Ee(Lt),_t()):Ee()},de.translate=function(Lt){return arguments.length?(Ye(Lt),_t()):Ye()},de.center=function(Lt){return arguments.length?(Me(Lt),_t()):Me()},de.clipExtent=function(Lt){return arguments.length?(Lt==null?vt=It=Mt=Ut=null:(vt=+Lt[0][0],It=+Lt[0][1],Mt=+Lt[1][0],Ut=+Lt[1][1]),_t()):vt==null?null:[[vt,It],[Mt,Ut]]};function _t(){var Lt=u*Ee(),Bt=de(Ot(de.rotate()).invert([0,0]));return ht(vt==null?[[Bt[0]-Lt,Bt[1]-Lt],[Bt[0]+Lt,Bt[1]+Lt]]:ne===Hv?[[Math.max(Bt[0]-Lt,vt),It],[Math.min(Bt[0]+Lt,Mt),Ut]]:[[vt,Math.max(Bt[1]-Lt,It)],[Mt,Math.min(Bt[1]+Lt,Ut)]])}return a(_t,"reclip"),_t()}a($X,"mercatorProjection");function b6(ne){return k((f+ne)/2)}a(b6,"tany");function XX(ne,de){var Me=P(ne),Ee=ne===de?B(ne):W(Me/P(de))/W(b6(de)/b6(ne)),Ye=Me*F(b6(ne),Ee)/Ee;if(!Ee)return Hv;function ht(vt,It){Ye>0?It<-f+o&&(It=-f+o):It>f-o&&(It=f-o);var Mt=Ye/F(b6(It),Ee);return[Mt*B(Ee*vt),Ye-Mt*P(Ee*vt)]}return a(ht,"project"),ht.invert=function(vt,It){var Mt=Ye-It,Ut=S(Ee)*T(vt*vt+Mt*Mt),_t=z(vt,E(Mt))*S(Mt);return Mt*Ee<0&&(_t-=u*S(vt)*S(Mt)),[_t/Ee,2*M(F(Ye/Ut,1/Ee))-f]},ht}a(XX,"conicConformalRaw");function oqe(){return PB(XX).scale(109.5).parallels([30,30])}a(oqe,"conicConformal");function zv(ne,de){return[ne,de]}a(zv,"equirectangularRaw"),zv.invert=zv;function cqe(){return su(zv).scale(152.63)}a(cqe,"equirectangular");function JX(ne,de){var Me=P(ne),Ee=ne===de?B(ne):(Me-P(de))/(de-ne),Ye=Me/Ee+ne;if(E(Ee)<o)return zv;function ht(vt,It){var Mt=Ye-It,Ut=Ee*vt;return[Mt*B(Ut),Ye-Mt*P(Ut)]}return a(ht,"project"),ht.invert=function(vt,It){var Mt=Ye-It,Ut=z(vt,E(Mt))*S(Mt);return Mt*Ee<0&&(Ut-=u*S(vt)*S(Mt)),[Ut/Ee,Ye-S(Ee)*T(vt*vt+Mt*Mt)]},ht}a(JX,"conicEquidistantRaw");function lqe(){return PB(JX).scale(131.154).center([0,13.9389])}a(lqe,"conicEquidistant");var Qv=1.340264,Wv=-.081106,Vv=893e-6,jv=.003796,v6=T(3)/2,uqe=12;function YB(ne,de){var Me=x(v6*B(de)),Ee=Me*Me,Ye=Ee*Ee*Ee;return[ne*P(Me)/(v6*(Qv+3*Wv*Ee+Ye*(7*Vv+9*jv*Ee))),Me*(Qv+Wv*Ee+Ye*(Vv+jv*Ee))]}a(YB,"equalEarthRaw"),YB.invert=function(ne,de){for(var Me=de,Ee=Me*Me,Ye=Ee*Ee*Ee,ht=0,vt,It,Mt;ht<uqe&&(It=Me*(Qv+Wv*Ee+Ye*(Vv+jv*Ee))-de,Mt=Qv+3*Wv*Ee+Ye*(7*Vv+9*jv*Ee),Me-=vt=It/Mt,Ee=Me*Me,Ye=Ee*Ee*Ee,!(E(vt)<l));++ht);return[v6*ne*(Qv+3*Wv*Ee+Ye*(7*Vv+9*jv*Ee))/P(Me),x(B(Me)/v6)]};function fqe(){return su(YB).scale(177.158)}a(fqe,"equalEarth");function HB(ne,de){var Me=P(de),Ee=P(ne)*Me;return[Me*B(ne)/Ee,B(de)/Ee]}a(HB,"gnomonicRaw"),HB.invert=Yv(M);function hqe(){return su(HB).scale(144.049).clipAngle(60)}a(hqe,"gnomonic");function dqe(){var ne=1,de=0,Me=0,Ee=1,Ye=1,ht=0,vt,It,Mt=null,Ut,_t,Lt,Bt=1,Yt=1,Kt=Uv({point:function(nr,Ar){var Pr=Jt([nr,Ar]);this.stream.point(Pr[0],Pr[1])}}),br=Fs,yr,xr;function wr(){return Bt=ne*Ee,Yt=ne*Ye,yr=xr=null,Jt}a(wr,"reset");function Jt(nr){var Ar=nr[0]*Bt,Pr=nr[1]*Yt;if(ht){var An=Pr*vt-Ar*It;Ar=Ar*vt+Pr*It,Pr=An}return[Ar+de,Pr+Me]}return a(Jt,"projection"),Jt.invert=function(nr){var Ar=nr[0]-de,Pr=nr[1]-Me;if(ht){var An=Pr*vt+Ar*It;Ar=Ar*vt-Pr*It,Pr=An}return[Ar/Bt,Pr/Yt]},Jt.stream=function(nr){return yr&&xr===nr?yr:yr=Kt(br(xr=nr))},Jt.postclip=function(nr){return arguments.length?(br=nr,Mt=Ut=_t=Lt=null,wr()):br},Jt.clipExtent=function(nr){return arguments.length?(br=nr==null?(Mt=Ut=_t=Lt=null,Fs):Xt(Mt=+nr[0][0],Ut=+nr[0][1],_t=+nr[1][0],Lt=+nr[1][1]),wr()):Mt==null?null:[[Mt,Ut],[_t,Lt]]},Jt.scale=function(nr){return arguments.length?(ne=+nr,wr()):ne},Jt.translate=function(nr){return arguments.length?(de=+nr[0],Me=+nr[1],wr()):[de,Me]},Jt.angle=function(nr){return arguments.length?(ht=nr%360*y,It=B(ht),vt=P(ht),wr()):ht*g},Jt.reflectX=function(nr){return arguments.length?(Ee=nr?-1:1,wr()):Ee<0},Jt.reflectY=function(nr){return arguments.length?(Ye=nr?-1:1,wr()):Ye<0},Jt.fitExtent=function(nr,Ar){return y6(Jt,nr,Ar)},Jt.fitSize=function(nr,Ar){return DB(Jt,nr,Ar)},Jt.fitWidth=function(nr,Ar){return NB(Jt,nr,Ar)},Jt.fitHeight=function(nr,Ar){return OB(Jt,nr,Ar)},Jt}a(dqe,"identity$1");function zB(ne,de){var Me=de*de,Ee=Me*Me;return[ne*(.8707-.131979*Me+Ee*(-.013791+Ee*(.003971*Me-.001529*Ee))),de*(1.007226+Me*(.015085+Ee*(-.044475+.028874*Me-.005916*Ee)))]}a(zB,"naturalEarth1Raw"),zB.invert=function(ne,de){var Me=de,Ee=25,Ye;do{var ht=Me*Me,vt=ht*ht;Me-=Ye=(Me*(1.007226+ht*(.015085+vt*(-.044475+.028874*ht-.005916*vt)))-de)/(1.007226+ht*(.015085*3+vt*(-.044475*7+.028874*9*ht-.005916*11*vt)))}while(E(Ye)>o&&--Ee>0);return[ne/(.8707+(ht=Me*Me)*(-.131979+ht*(-.013791+ht*ht*ht*(.003971-.001529*ht)))),Me]};function pqe(){return su(zB).scale(175.295)}a(pqe,"naturalEarth1");function QB(ne,de){return[P(de)*B(ne),B(de)]}a(QB,"orthographicRaw"),QB.invert=Yv(x);function gqe(){return su(QB).scale(249.5).clipAngle(90+o)}a(gqe,"orthographic");function WB(ne,de){var Me=P(de),Ee=1+P(ne)*Me;return[Me*B(ne)/Ee,B(de)/Ee]}a(WB,"stereographicRaw"),WB.invert=Yv(function(ne){return 2*M(ne)});function yqe(){return su(WB).scale(250).clipAngle(142)}a(yqe,"stereographic");function VB(ne,de){return[W(k((f+de)/2)),-ne]}a(VB,"transverseMercatorRaw"),VB.invert=function(ne,de){return[-de,2*M(V(ne))-f]};function mqe(){var ne=$X(VB),de=ne.center,Me=ne.rotate;return ne.center=function(Ee){return arguments.length?de([-Ee[1],Ee[0]]):(Ee=de(),[Ee[1],-Ee[0]])},ne.rotate=function(Ee){return arguments.length?Me([Ee[0],Ee[1],Ee.length>2?Ee[2]+90:90]):(Ee=Me(),[Ee[0],Ee[1],Ee[2]-90])},Me([0,0,90]).scale(159.155)}a(mqe,"transverseMercator"),e.geoAlbers=GX,e.geoAlbersUsa=nqe,e.geoArea=I,e.geoAzimuthalEqualArea=iqe,e.geoAzimuthalEqualAreaRaw=FB,e.geoAzimuthalEquidistant=aqe,e.geoAzimuthalEquidistantRaw=UB,e.geoBounds=Wt,e.geoCentroid=fr,e.geoCircle=er,e.geoClipAntimeridian=Le,e.geoClipCircle=Et,e.geoClipExtent=lr,e.geoClipRectangle=Xt,e.geoConicConformal=oqe,e.geoConicConformalRaw=XX,e.geoConicEqualArea=m6,e.geoConicEqualAreaRaw=jX,e.geoConicEquidistant=lqe,e.geoConicEquidistantRaw=JX,e.geoContains=Xr,e.geoDistance=za,e.geoEqualEarth=fqe,e.geoEqualEarthRaw=YB,e.geoEquirectangular=cqe,e.geoEquirectangularRaw=zv,e.geoGnomonic=hqe,e.geoGnomonicRaw=HB,e.geoGraticule=Mn,e.geoGraticule10=ka,e.geoIdentity=dqe,e.geoInterpolate=Qn,e.geoLength=ca,e.geoMercator=sqe,e.geoMercatorRaw=Hv,e.geoNaturalEarth1=pqe,e.geoNaturalEarth1Raw=zB,e.geoOrthographic=gqe,e.geoOrthographicRaw=QB,e.geoPath=jOe,e.geoProjection=su,e.geoProjectionMutator=qB,e.geoRotation=Ot,e.geoStereographic=yqe,e.geoStereographicRaw=WB,e.geoStream=Z,e.geoTransform=GOe,e.geoTransverseMercator=mqe,e.geoTransverseMercatorRaw=VB,Object.defineProperty(e,"__esModule",{value:!0})})});var _Me=j((QT,vMe)=>{d();(function(e,t){typeof QT=="object"&&typeof vMe<"u"?t(QT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(QT,function(e){"use strict";function t(Se,Ie){return Se.parent===Ie.parent?1:2}a(t,"defaultSeparation");function r(Se){return Se.reduce(n,0)/Se.length}a(r,"meanX");function n(Se,Ie){return Se+Ie.x}a(n,"meanXReduce");function i(Se){return 1+Se.reduce(s,0)}a(i,"maxY");function s(Se,Ie){return Math.max(Se,Ie.y)}a(s,"maxYReduce");function o(Se){for(var Ie;Ie=Se.children;)Se=Ie[0];return Se}a(o,"leafLeft");function l(Se){for(var Ie;Ie=Se.children;)Se=Ie[Ie.length-1];return Se}a(l,"leafRight");function u(){var Se=t,Ie=1,le=1,_e=!1;function ae(ce){var re,ue=0;ce.eachAfter(function(ke){var st=ke.children;st?(ke.x=r(st),ke.y=i(st)):(ke.x=re?ue+=Se(ke,re):0,ke.y=0,re=ke)});var me=o(ce),Ae=l(ce),Oe=me.x-Se(me,Ae)/2,Ge=Ae.x+Se(Ae,me)/2;return ce.eachAfter(_e?function(ke){ke.x=(ke.x-ce.x)*Ie,ke.y=(ce.y-ke.y)*le}:function(ke){ke.x=(ke.x-Oe)/(Ge-Oe)*Ie,ke.y=(1-(ce.y?ke.y/ce.y:1))*le})}return a(ae,"cluster"),ae.separation=function(ce){return arguments.length?(Se=ce,ae):Se},ae.size=function(ce){return arguments.length?(_e=!1,Ie=+ce[0],le=+ce[1],ae):_e?null:[Ie,le]},ae.nodeSize=function(ce){return arguments.length?(_e=!0,Ie=+ce[0],le=+ce[1],ae):_e?[Ie,le]:null},ae}a(u,"cluster");function f(Se){var Ie=0,le=Se.children,_e=le&&le.length;if(!_e)Ie=1;else for(;--_e>=0;)Ie+=le[_e].value;Se.value=Ie}a(f,"count");function h(){return this.eachAfter(f)}a(h,"node_count");function p(Se){var Ie=this,le,_e=[Ie],ae,ce,re;do for(le=_e.reverse(),_e=[];Ie=le.pop();)if(Se(Ie),ae=Ie.children,ae)for(ce=0,re=ae.length;ce<re;++ce)_e.push(ae[ce]);while(_e.length);return this}a(p,"node_each");function g(Se){for(var Ie=this,le=[Ie],_e,ae;Ie=le.pop();)if(Se(Ie),_e=Ie.children,_e)for(ae=_e.length-1;ae>=0;--ae)le.push(_e[ae]);return this}a(g,"node_eachBefore");function y(Se){for(var Ie=this,le=[Ie],_e=[],ae,ce,re;Ie=le.pop();)if(_e.push(Ie),ae=Ie.children,ae)for(ce=0,re=ae.length;ce<re;++ce)le.push(ae[ce]);for(;Ie=_e.pop();)Se(Ie);return this}a(y,"node_eachAfter");function E(Se){return this.eachAfter(function(Ie){for(var le=+Se(Ie.data)||0,_e=Ie.children,ae=_e&&_e.length;--ae>=0;)le+=_e[ae].value;Ie.value=le})}a(E,"node_sum");function M(Se){return this.eachBefore(function(Ie){Ie.children&&Ie.children.sort(Se)})}a(M,"node_sort");function z(Se){for(var Ie=this,le=P(Ie,Se),_e=[Ie];Ie!==le;)Ie=Ie.parent,_e.push(Ie);for(var ae=_e.length;Se!==le;)_e.splice(ae,0,Se),Se=Se.parent;return _e}a(z,"node_path");function P(Se,Ie){if(Se===Ie)return Se;var le=Se.ancestors(),_e=Ie.ancestors(),ae=null;for(Se=le.pop(),Ie=_e.pop();Se===Ie;)ae=Se,Se=le.pop(),Ie=_e.pop();return ae}a(P,"leastCommonAncestor");function Q(){for(var Se=this,Ie=[Se];Se=Se.parent;)Ie.push(Se);return Ie}a(Q,"node_ancestors");function V(){var Se=[];return this.each(function(Ie){Se.push(Ie)}),Se}a(V,"node_descendants");function W(){var Se=[];return this.eachBefore(function(Ie){Ie.children||Se.push(Ie)}),Se}a(W,"node_leaves");function F(){var Se=this,Ie=[];return Se.each(function(le){le!==Se&&Ie.push({source:le.parent,target:le})}),Ie}a(F,"node_links");function B(Se,Ie){var le=new x(Se),_e=+Se.value&&(le.value=Se.value),ae,ce=[le],re,ue,me,Ae;for(Ie==null&&(Ie=T);ae=ce.pop();)if(_e&&(ae.value=+ae.data.value),(ue=Ie(ae.data))&&(Ae=ue.length))for(ae.children=new Array(Ae),me=Ae-1;me>=0;--me)ce.push(re=ae.children[me]=new x(ue[me])),re.parent=ae,re.depth=ae.depth+1;return le.eachBefore(R)}a(B,"hierarchy");function S(){return B(this).eachBefore(k)}a(S,"node_copy");function T(Se){return Se.children}a(T,"defaultChildren");function k(Se){Se.data=Se.data.data}a(k,"copyData");function R(Se){var Ie=0;do Se.height=Ie;while((Se=Se.parent)&&Se.height<++Ie)}a(R,"computeHeight");function x(Se){this.data=Se,this.depth=this.height=0,this.parent=null}a(x,"Node"),x.prototype=B.prototype={constructor:x,count:h,each:p,eachAfter:y,eachBefore:g,sum:E,sort:M,path:z,ancestors:Q,descendants:V,leaves:W,links:F,copy:S};var N=Array.prototype.slice;function m(Se){for(var Ie=Se.length,le,_e;Ie;)_e=Math.random()*Ie--|0,le=Se[Ie],Se[Ie]=Se[_e],Se[_e]=le;return Se}a(m,"shuffle");function v(Se){for(var Ie=0,le=(Se=m(N.call(Se))).length,_e=[],ae,ce;Ie<le;)ae=Se[Ie],ce&&G(ce,ae)?++Ie:(ce=Z(_e=A(_e,ae)),Ie=0);return ce}a(v,"enclose");function A(Se,Ie){var le,_e;if(K(Ie,Se))return[Ie];for(le=0;le<Se.length;++le)if(U(Ie,Se[le])&&K($(Se[le],Ie),Se))return[Se[le],Ie];for(le=0;le<Se.length-1;++le)for(_e=le+1;_e<Se.length;++_e)if(U($(Se[le],Se[_e]),Ie)&&U($(Se[le],Ie),Se[_e])&&U($(Se[_e],Ie),Se[le])&&K(L(Se[le],Se[_e],Ie),Se))return[Se[le],Se[_e],Ie];throw new Error}a(A,"extendBasis");function U(Se,Ie){var le=Se.r-Ie.r,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return le<0||le*le<_e*_e+ae*ae}a(U,"enclosesNot");function G(Se,Ie){var le=Se.r-Ie.r+1e-6,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return le>0&&le*le>_e*_e+ae*ae}a(G,"enclosesWeak");function K(Se,Ie){for(var le=0;le<Ie.length;++le)if(!G(Se,Ie[le]))return!1;return!0}a(K,"enclosesWeakAll");function Z(Se){switch(Se.length){case 1:return O(Se[0]);case 2:return $(Se[0],Se[1]);case 3:return L(Se[0],Se[1],Se[2])}}a(Z,"encloseBasis");function O(Se){return{x:Se.x,y:Se.y,r:Se.r}}a(O,"encloseBasis1");function $(Se,Ie){var le=Se.x,_e=Se.y,ae=Se.r,ce=Ie.x,re=Ie.y,ue=Ie.r,me=ce-le,Ae=re-_e,Oe=ue-ae,Ge=Math.sqrt(me*me+Ae*Ae);return{x:(le+ce+me/Ge*Oe)/2,y:(_e+re+Ae/Ge*Oe)/2,r:(Ge+ae+ue)/2}}a($,"encloseBasis2");function L(Se,Ie,le){var _e=Se.x,ae=Se.y,ce=Se.r,re=Ie.x,ue=Ie.y,me=Ie.r,Ae=le.x,Oe=le.y,Ge=le.r,ke=_e-re,st=_e-Ae,yt=ae-ue,pt=ae-Oe,wt=me-ce,Gt=Ge-ce,Pt=_e*_e+ae*ae-ce*ce,tr=Pt-re*re-ue*ue+me*me,cr=Pt-Ae*Ae-Oe*Oe+Ge*Ge,pr=st*yt-ke*pt,Cr=(yt*cr-pt*tr)/(pr*2)-_e,Qr=(pt*wt-yt*Gt)/pr,Tr=(st*tr-ke*cr)/(pr*2)-ae,ur=(ke*Gt-st*wt)/pr,fr=Qr*Qr+ur*ur-1,Mr=2*(ce+Cr*Qr+Tr*ur),Br=Cr*Cr+Tr*Tr-ce*ce,Ne=-(fr?(Mr+Math.sqrt(Mr*Mr-4*fr*Br))/(2*fr):Br/Mr);return{x:_e+Cr+Qr*Ne,y:ae+Tr+ur*Ne,r:Ne}}a(L,"encloseBasis3");function ee(Se,Ie,le){var _e=Se.x-Ie.x,ae,ce,re=Se.y-Ie.y,ue,me,Ae=_e*_e+re*re;Ae?(ce=Ie.r+le.r,ce*=ce,me=Se.r+le.r,me*=me,ce>me?(ae=(Ae+me-ce)/(2*Ae),ue=Math.sqrt(Math.max(0,me/Ae-ae*ae)),le.x=Se.x-ae*_e-ue*re,le.y=Se.y-ae*re+ue*_e):(ae=(Ae+ce-me)/(2*Ae),ue=Math.sqrt(Math.max(0,ce/Ae-ae*ae)),le.x=Ie.x+ae*_e-ue*re,le.y=Ie.y+ae*re+ue*_e)):(le.x=Ie.x+le.r,le.y=Ie.y)}a(ee,"place");function ve(Se,Ie){var le=Se.r+Ie.r-1e-6,_e=Ie.x-Se.x,ae=Ie.y-Se.y;return le>0&&le*le>_e*_e+ae*ae}a(ve,"intersects");function ye(Se){var Ie=Se._,le=Se.next._,_e=Ie.r+le.r,ae=(Ie.x*le.r+le.x*Ie.r)/_e,ce=(Ie.y*le.r+le.y*Ie.r)/_e;return ae*ae+ce*ce}a(ye,"score");function se(Se){this._=Se,this.next=null,this.previous=null}a(se,"Node$1");function be(Se){if(!(ae=Se.length))return 0;var Ie,le,_e,ae,ce,re,ue,me,Ae,Oe,Ge;if(Ie=Se[0],Ie.x=0,Ie.y=0,!(ae>1))return Ie.r;if(le=Se[1],Ie.x=-le.r,le.x=Ie.r,le.y=0,!(ae>2))return Ie.r+le.r;ee(le,Ie,_e=Se[2]),Ie=new se(Ie),le=new se(le),_e=new se(_e),Ie.next=_e.previous=le,le.next=Ie.previous=_e,_e.next=le.previous=Ie;e:for(ue=3;ue<ae;++ue){ee(Ie._,le._,_e=Se[ue]),_e=new se(_e),me=le.next,Ae=Ie.previous,Oe=le._.r,Ge=Ie._.r;do if(Oe<=Ge){if(ve(me._,_e._)){le=me,Ie.next=le,le.previous=Ie,--ue;continue e}Oe+=me._.r,me=me.next}else{if(ve(Ae._,_e._)){Ie=Ae,Ie.next=le,le.previous=Ie,--ue;continue e}Ge+=Ae._.r,Ae=Ae.previous}while(me!==Ae.next);for(_e.previous=Ie,_e.next=le,Ie.next=le.previous=le=_e,ce=ye(Ie);(_e=_e.next)!==le;)(re=ye(_e))<ce&&(Ie=_e,ce=re);le=Ie.next}for(Ie=[le._],_e=le;(_e=_e.next)!==le;)Ie.push(_e._);for(_e=v(Ie),ue=0;ue<ae;++ue)Ie=Se[ue],Ie.x-=_e.x,Ie.y-=_e.y;return _e.r}a(be,"packEnclose");function Y(Se){return be(Se),Se}a(Y,"siblings");function D(Se){return Se==null?null:J(Se)}a(D,"optional");function J(Se){if(typeof Se!="function")throw new Error;return Se}a(J,"required");function q(){return 0}a(q,"constantZero");function I(Se){return function(){return Se}}a(I,"constant");function H(Se){return Math.sqrt(Se.value)}a(H,"defaultRadius");function te(){var Se=null,Ie=1,le=1,_e=q;function ae(ce){return ce.x=Ie/2,ce.y=le/2,Se?ce.eachBefore(ie(Se)).eachAfter(he(_e,.5)).eachBefore(De(1)):ce.eachBefore(ie(H)).eachAfter(he(q,1)).eachAfter(he(_e,ce.r/Math.min(Ie,le))).eachBefore(De(Math.min(Ie,le)/(2*ce.r))),ce}return a(ae,"pack"),ae.radius=function(ce){return arguments.length?(Se=D(ce),ae):Se},ae.size=function(ce){return arguments.length?(Ie=+ce[0],le=+ce[1],ae):[Ie,le]},ae.padding=function(ce){return arguments.length?(_e=typeof ce=="function"?ce:I(+ce),ae):_e},ae}a(te,"index");function ie(Se){return function(Ie){Ie.children||(Ie.r=Math.max(0,+Se(Ie)||0))}}a(ie,"radiusLeaf");function he(Se,Ie){return function(le){if(_e=le.children){var _e,ae,ce=_e.length,re=Se(le)*Ie||0,ue;if(re)for(ae=0;ae<ce;++ae)_e[ae].r+=re;if(ue=be(_e),re)for(ae=0;ae<ce;++ae)_e[ae].r-=re;le.r=ue+re}}}a(he,"packChildren");function De(Se){return function(Ie){var le=Ie.parent;Ie.r*=Se,le&&(Ie.x=le.x+Se*Ie.x,Ie.y=le.y+Se*Ie.y)}}a(De,"translateChild");function $e(Se){Se.x0=Math.round(Se.x0),Se.y0=Math.round(Se.y0),Se.x1=Math.round(Se.x1),Se.y1=Math.round(Se.y1)}a($e,"roundNode");function ze(Se,Ie,le,_e,ae){for(var ce=Se.children,re,ue=-1,me=ce.length,Ae=Se.value&&(_e-Ie)/Se.value;++ue<me;)re=ce[ue],re.y0=le,re.y1=ae,re.x0=Ie,re.x1=Ie+=re.value*Ae}a(ze,"treemapDice");function Qe(){var Se=1,Ie=1,le=0,_e=!1;function ae(re){var ue=re.height+1;return re.x0=re.y0=le,re.x1=Se,re.y1=Ie/ue,re.eachBefore(ce(Ie,ue)),_e&&re.eachBefore($e),re}a(ae,"partition");function ce(re,ue){return function(me){me.children&&ze(me,me.x0,re*(me.depth+1)/ue,me.x1,re*(me.depth+2)/ue);var Ae=me.x0,Oe=me.y0,Ge=me.x1-le,ke=me.y1-le;Ge<Ae&&(Ae=Ge=(Ae+Ge)/2),ke<Oe&&(Oe=ke=(Oe+ke)/2),me.x0=Ae,me.y0=Oe,me.x1=Ge,me.y1=ke}}return a(ce,"positionNode"),ae.round=function(re){return arguments.length?(_e=!!re,ae):_e},ae.size=function(re){return arguments.length?(Se=+re[0],Ie=+re[1],ae):[Se,Ie]},ae.padding=function(re){return arguments.length?(le=+re,ae):le},ae}a(Qe,"partition");var je="$",We={depth:-1},Ce={};function Te(Se){return Se.id}a(Te,"defaultId");function Je(Se){return Se.parentId}a(Je,"defaultParentId");function rt(){var Se=Te,Ie=Je;function le(_e){var ae,ce,re=_e.length,ue,me,Ae,Oe=new Array(re),Ge,ke,st={};for(ce=0;ce<re;++ce)ae=_e[ce],Ae=Oe[ce]=new x(ae),(Ge=Se(ae,ce,_e))!=null&&(Ge+="")&&(ke=je+(Ae.id=Ge),st[ke]=ke in st?Ce:Ae);for(ce=0;ce<re;++ce)if(Ae=Oe[ce],Ge=Ie(_e[ce],ce,_e),Ge==null||!(Ge+="")){if(ue)throw new Error("multiple roots");ue=Ae}else{if(me=st[je+Ge],!me)throw new Error("missing: "+Ge);if(me===Ce)throw new Error("ambiguous: "+Ge);me.children?me.children.push(Ae):me.children=[Ae],Ae.parent=me}if(!ue)throw new Error("no root");if(ue.parent=We,ue.eachBefore(function(yt){yt.depth=yt.parent.depth+1,--re}).eachBefore(R),ue.parent=null,re>0)throw new Error("cycle");return ue}return a(le,"stratify"),le.id=function(_e){return arguments.length?(Se=J(_e),le):Se},le.parentId=function(_e){return arguments.length?(Ie=J(_e),le):Ie},le}a(rt,"stratify");function ge(Se,Ie){return Se.parent===Ie.parent?1:2}a(ge,"defaultSeparation$1");function xe(Se){var Ie=Se.children;return Ie?Ie[0]:Se.t}a(xe,"nextLeft");function qe(Se){var Ie=Se.children;return Ie?Ie[Ie.length-1]:Se.t}a(qe,"nextRight");function ot(Se,Ie,le){var _e=le/(Ie.i-Se.i);Ie.c-=_e,Ie.s+=le,Se.c+=_e,Ie.z+=le,Ie.m+=le}a(ot,"moveSubtree");function at(Se){for(var Ie=0,le=0,_e=Se.children,ae=_e.length,ce;--ae>=0;)ce=_e[ae],ce.z+=Ie,ce.m+=Ie,Ie+=ce.s+(le+=ce.c)}a(at,"executeShifts");function pe(Se,Ie,le){return Se.a.parent===Ie.parent?Se.a:le}a(pe,"nextAncestor");function Re(Se,Ie){this._=Se,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ie}a(Re,"TreeNode"),Re.prototype=Object.create(x.prototype);function He(Se){for(var Ie=new Re(Se,0),le,_e=[Ie],ae,ce,re,ue;le=_e.pop();)if(ce=le._.children)for(le.children=new Array(ue=ce.length),re=ue-1;re>=0;--re)_e.push(ae=le.children[re]=new Re(ce[re],re)),ae.parent=le;return(Ie.parent=new Re(null,0)).children=[Ie],Ie}a(He,"treeRoot");function tt(){var Se=ge,Ie=1,le=1,_e=null;function ae(Ae){var Oe=He(Ae);if(Oe.eachAfter(ce),Oe.parent.m=-Oe.z,Oe.eachBefore(re),_e)Ae.eachBefore(me);else{var Ge=Ae,ke=Ae,st=Ae;Ae.eachBefore(function(Pt){Pt.x<Ge.x&&(Ge=Pt),Pt.x>ke.x&&(ke=Pt),Pt.depth>st.depth&&(st=Pt)});var yt=Ge===ke?1:Se(Ge,ke)/2,pt=yt-Ge.x,wt=Ie/(ke.x+yt+pt),Gt=le/(st.depth||1);Ae.eachBefore(function(Pt){Pt.x=(Pt.x+pt)*wt,Pt.y=Pt.depth*Gt})}return Ae}a(ae,"tree");function ce(Ae){var Oe=Ae.children,Ge=Ae.parent.children,ke=Ae.i?Ge[Ae.i-1]:null;if(Oe){at(Ae);var st=(Oe[0].z+Oe[Oe.length-1].z)/2;ke?(Ae.z=ke.z+Se(Ae._,ke._),Ae.m=Ae.z-st):Ae.z=st}else ke&&(Ae.z=ke.z+Se(Ae._,ke._));Ae.parent.A=ue(Ae,ke,Ae.parent.A||Ge[0])}a(ce,"firstWalk");function re(Ae){Ae._.x=Ae.z+Ae.parent.m,Ae.m+=Ae.parent.m}a(re,"secondWalk");function ue(Ae,Oe,Ge){if(Oe){for(var ke=Ae,st=Ae,yt=Oe,pt=ke.parent.children[0],wt=ke.m,Gt=st.m,Pt=yt.m,tr=pt.m,cr;yt=qe(yt),ke=xe(ke),yt&&ke;)pt=xe(pt),st=qe(st),st.a=Ae,cr=yt.z+Pt-ke.z-wt+Se(yt._,ke._),cr>0&&(ot(pe(yt,Ae,Ge),Ae,cr),wt+=cr,Gt+=cr),Pt+=yt.m,wt+=ke.m,tr+=pt.m,Gt+=st.m;yt&&!qe(st)&&(st.t=yt,st.m+=Pt-Gt),ke&&!xe(pt)&&(pt.t=ke,pt.m+=wt-tr,Ge=Ae)}return Ge}a(ue,"apportion");function me(Ae){Ae.x*=Ie,Ae.y=Ae.depth*le}return a(me,"sizeNode"),ae.separation=function(Ae){return arguments.length?(Se=Ae,ae):Se},ae.size=function(Ae){return arguments.length?(_e=!1,Ie=+Ae[0],le=+Ae[1],ae):_e?null:[Ie,le]},ae.nodeSize=function(Ae){return arguments.length?(_e=!0,Ie=+Ae[0],le=+Ae[1],ae):_e?[Ie,le]:null},ae}a(tt,"tree");function Ve(Se,Ie,le,_e,ae){for(var ce=Se.children,re,ue=-1,me=ce.length,Ae=Se.value&&(ae-le)/Se.value;++ue<me;)re=ce[ue],re.x0=Ie,re.x1=_e,re.y0=le,re.y1=le+=re.value*Ae}a(Ve,"treemapSlice");var et=(1+Math.sqrt(5))/2;function gt(Se,Ie,le,_e,ae,ce){for(var re=[],ue=Ie.children,me,Ae,Oe=0,Ge=0,ke=ue.length,st,yt,pt=Ie.value,wt,Gt,Pt,tr,cr,pr,Cr;Oe<ke;){st=ae-le,yt=ce-_e;do wt=ue[Ge++].value;while(!wt&&Ge<ke);for(Gt=Pt=wt,pr=Math.max(yt/st,st/yt)/(pt*Se),Cr=wt*wt*pr,cr=Math.max(Pt/Cr,Cr/Gt);Ge<ke;++Ge){if(wt+=Ae=ue[Ge].value,Ae<Gt&&(Gt=Ae),Ae>Pt&&(Pt=Ae),Cr=wt*wt*pr,tr=Math.max(Pt/Cr,Cr/Gt),tr>cr){wt-=Ae;break}cr=tr}re.push(me={value:wt,dice:st<yt,children:ue.slice(Oe,Ge)}),me.dice?ze(me,le,_e,ae,pt?_e+=yt*wt/pt:ce):Ve(me,le,_e,pt?le+=st*wt/pt:ae,ce),pt-=wt,Oe=Ge}return re}a(gt,"squarifyRatio");var lt=a(function Se(Ie){function le(_e,ae,ce,re,ue){gt(Ie,_e,ae,ce,re,ue)}return a(le,"squarify"),le.ratio=function(_e){return Se((_e=+_e)>1?_e:1)},le},"custom")(et);function zt(){var Se=lt,Ie=!1,le=1,_e=1,ae=[0],ce=q,re=q,ue=q,me=q,Ae=q;function Oe(ke){return ke.x0=ke.y0=0,ke.x1=le,ke.y1=_e,ke.eachBefore(Ge),ae=[0],Ie&&ke.eachBefore($e),ke}a(Oe,"treemap");function Ge(ke){var st=ae[ke.depth],yt=ke.x0+st,pt=ke.y0+st,wt=ke.x1-st,Gt=ke.y1-st;wt<yt&&(yt=wt=(yt+wt)/2),Gt<pt&&(pt=Gt=(pt+Gt)/2),ke.x0=yt,ke.y0=pt,ke.x1=wt,ke.y1=Gt,ke.children&&(st=ae[ke.depth+1]=ce(ke)/2,yt+=Ae(ke)-st,pt+=re(ke)-st,wt-=ue(ke)-st,Gt-=me(ke)-st,wt<yt&&(yt=wt=(yt+wt)/2),Gt<pt&&(pt=Gt=(pt+Gt)/2),Se(ke,yt,pt,wt,Gt))}return a(Ge,"positionNode"),Oe.round=function(ke){return arguments.length?(Ie=!!ke,Oe):Ie},Oe.size=function(ke){return arguments.length?(le=+ke[0],_e=+ke[1],Oe):[le,_e]},Oe.tile=function(ke){return arguments.length?(Se=J(ke),Oe):Se},Oe.padding=function(ke){return arguments.length?Oe.paddingInner(ke).paddingOuter(ke):Oe.paddingInner()},Oe.paddingInner=function(ke){return arguments.length?(ce=typeof ke=="function"?ke:I(+ke),Oe):ce},Oe.paddingOuter=function(ke){return arguments.length?Oe.paddingTop(ke).paddingRight(ke).paddingBottom(ke).paddingLeft(ke):Oe.paddingTop()},Oe.paddingTop=function(ke){return arguments.length?(re=typeof ke=="function"?ke:I(+ke),Oe):re},Oe.paddingRight=function(ke){return arguments.length?(ue=typeof ke=="function"?ke:I(+ke),Oe):ue},Oe.paddingBottom=function(ke){return arguments.length?(me=typeof ke=="function"?ke:I(+ke),Oe):me},Oe.paddingLeft=function(ke){return arguments.length?(Ae=typeof ke=="function"?ke:I(+ke),Oe):Ae},Oe}a(zt,"index$1");function it(Se,Ie,le,_e,ae){var ce=Se.children,re,ue=ce.length,me,Ae=new Array(ue+1);for(Ae[0]=me=re=0;re<ue;++re)Ae[re+1]=me+=ce[re].value;Oe(0,ue,Se.value,Ie,le,_e,ae);function Oe(Ge,ke,st,yt,pt,wt,Gt){if(Ge>=ke-1){var Pt=ce[Ge];Pt.x0=yt,Pt.y0=pt,Pt.x1=wt,Pt.y1=Gt;return}for(var tr=Ae[Ge],cr=st/2+tr,pr=Ge+1,Cr=ke-1;pr<Cr;){var Qr=pr+Cr>>>1;Ae[Qr]<cr?pr=Qr+1:Cr=Qr}cr-Ae[pr-1]<Ae[pr]-cr&&Ge+1<pr&&--pr;var Tr=Ae[pr]-tr,ur=st-Tr;if(wt-yt>Gt-pt){var fr=(yt*ur+wt*Tr)/st;Oe(Ge,pr,Tr,yt,pt,fr,Gt),Oe(pr,ke,ur,fr,pt,wt,Gt)}else{var Mr=(pt*ur+Gt*Tr)/st;Oe(Ge,pr,Tr,yt,pt,wt,Mr),Oe(pr,ke,ur,yt,Mr,wt,Gt)}}a(Oe,"partition")}a(it,"binary");function Wt(Se,Ie,le,_e,ae){(Se.depth&1?Ve:ze)(Se,Ie,le,_e,ae)}a(Wt,"sliceDice");var bt=a(function Se(Ie){function le(_e,ae,ce,re,ue){if((me=_e._squarify)&&me.ratio===Ie)for(var me,Ae,Oe,Ge,ke=-1,st,yt=me.length,pt=_e.value;++ke<yt;){for(Ae=me[ke],Oe=Ae.children,Ge=Ae.value=0,st=Oe.length;Ge<st;++Ge)Ae.value+=Oe[Ge].value;Ae.dice?ze(Ae,ae,ce,re,ce+=(ue-ce)*Ae.value/pt):Ve(Ae,ae,ce,ae+=(re-ae)*Ae.value/pt,ue),pt-=Ae.value}else _e._squarify=me=gt(Ie,_e,ae,ce,re,ue),me.ratio=Ie}return a(le,"resquarify"),le.ratio=function(_e){return Se((_e=+_e)>1?_e:1)},le},"custom")(et);e.cluster=u,e.hierarchy=B,e.pack=te,e.packEnclose=v,e.packSiblings=Y,e.partition=Qe,e.stratify=rt,e.tree=tt,e.treemap=zt,e.treemapBinary=it,e.treemapDice=ze,e.treemapResquarify=bt,e.treemapSlice=Ve,e.treemapSliceDice=Wt,e.treemapSquarify=lt,Object.defineProperty(e,"__esModule",{value:!0})})});var wMe=j((WT,xMe)=>{d();(function(e,t){typeof WT=="object"&&typeof xMe<"u"?t(WT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(WT,function(e){"use strict";function t(f){for(var h=-1,p=f.length,g,y=f[p-1],E=0;++h<p;)g=y,y=f[h],E+=g[1]*y[0]-g[0]*y[1];return E/2}a(t,"area");function r(f){for(var h=-1,p=f.length,g=0,y=0,E,M=f[p-1],z,P=0;++h<p;)E=M,M=f[h],P+=z=E[0]*M[1]-M[0]*E[1],g+=(E[0]+M[0])*z,y+=(E[1]+M[1])*z;return P*=3,[g/P,y/P]}a(r,"centroid");function n(f,h,p){return(h[0]-f[0])*(p[1]-f[1])-(h[1]-f[1])*(p[0]-f[0])}a(n,"cross");function i(f,h){return f[0]-h[0]||f[1]-h[1]}a(i,"lexicographicOrder");function s(f){for(var h=f.length,p=[0,1],g=2,y=2;y<h;++y){for(;g>1&&n(f[p[g-2]],f[p[g-1]],f[y])<=0;)--g;p[g++]=y}return p.slice(0,g)}a(s,"computeUpperHullIndexes");function o(f){if((p=f.length)<3)return null;var h,p,g=new Array(p),y=new Array(p);for(h=0;h<p;++h)g[h]=[+f[h][0],+f[h][1],h];for(g.sort(i),h=0;h<p;++h)y[h]=[g[h][0],-g[h][1]];var E=s(g),M=s(y),z=M[0]===E[0],P=M[M.length-1]===E[E.length-1],Q=[];for(h=E.length-1;h>=0;--h)Q.push(f[g[E[h]][2]]);for(h=+z;h<M.length-P;++h)Q.push(f[g[M[h]][2]]);return Q}a(o,"hull");function l(f,h){for(var p=f.length,g=f[p-1],y=h[0],E=h[1],M=g[0],z=g[1],P,Q,V=!1,W=0;W<p;++W)g=f[W],P=g[0],Q=g[1],Q>E!=z>E&&y<(M-P)*(E-Q)/(z-Q)+P&&(V=!V),M=P,z=Q;return V}a(l,"contains");function u(f){for(var h=-1,p=f.length,g=f[p-1],y,E,M=g[0],z=g[1],P=0;++h<p;)y=M,E=z,g=f[h],M=g[0],z=g[1],y-=M,E-=z,P+=Math.sqrt(y*y+E*E);return P}a(u,"length"),e.polygonArea=t,e.polygonCentroid=r,e.polygonContains=l,e.polygonHull=o,e.polygonLength=u,Object.defineProperty(e,"__esModule",{value:!0})})});var EMe=j((VT,AMe)=>{d();(function(e,t){typeof VT=="object"&&typeof AMe<"u"?t(VT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(VT,function(e){"use strict";function t(){return Math.random()}a(t,"defaultSource");var r=a(function u(f){function h(p,g){return p=p==null?0:+p,g=g==null?1:+g,arguments.length===1?(g=p,p=0):g-=p,function(){return f()*g+p}}return a(h,"randomUniform"),h.source=u,h},"sourceRandomUniform")(t),n=a(function u(f){function h(p,g){var y,E;return p=p==null?0:+p,g=g==null?1:+g,function(){var M;if(y!=null)M=y,y=null;else do y=f()*2-1,M=f()*2-1,E=y*y+M*M;while(!E||E>1);return p+g*M*Math.sqrt(-2*Math.log(E)/E)}}return a(h,"randomNormal"),h.source=u,h},"sourceRandomNormal")(t),i=a(function u(f){function h(){var p=n.source(f).apply(this,arguments);return function(){return Math.exp(p())}}return a(h,"randomLogNormal"),h.source=u,h},"sourceRandomLogNormal")(t),s=a(function u(f){function h(p){return function(){for(var g=0,y=0;y<p;++y)g+=f();return g}}return a(h,"randomIrwinHall"),h.source=u,h},"sourceRandomIrwinHall")(t),o=a(function u(f){function h(p){var g=s.source(f)(p);return function(){return g()/p}}return a(h,"randomBates"),h.source=u,h},"sourceRandomBates")(t),l=a(function u(f){function h(p){return function(){return-Math.log(1-f())/p}}return a(h,"randomExponential"),h.source=u,h},"sourceRandomExponential")(t);e.randomUniform=r,e.randomNormal=n,e.randomLogNormal=i,e.randomBates=o,e.randomIrwinHall=s,e.randomExponential=l,Object.defineProperty(e,"__esModule",{value:!0})})});var GT=j((jT,SMe)=>{d();(function(e,t){typeof jT=="object"&&typeof SMe<"u"?t(jT):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(jT,function(e){"use strict";var t=new Date,r=new Date;function n(ge,xe,qe,ot){function at(pe){return ge(pe=arguments.length===0?new Date:new Date(+pe)),pe}return a(at,"interval"),at.floor=function(pe){return ge(pe=new Date(+pe)),pe},at.ceil=function(pe){return ge(pe=new Date(pe-1)),xe(pe,1),ge(pe),pe},at.round=function(pe){var Re=at(pe),He=at.ceil(pe);return pe-Re<He-pe?Re:He},at.offset=function(pe,Re){return xe(pe=new Date(+pe),Re==null?1:Math.floor(Re)),pe},at.range=function(pe,Re,He){var tt=[],Ve;if(pe=at.ceil(pe),He=He==null?1:Math.floor(He),!(pe<Re)||!(He>0))return tt;do tt.push(Ve=new Date(+pe)),xe(pe,He),ge(pe);while(Ve<pe&&pe<Re);return tt},at.filter=function(pe){return n(function(Re){if(Re>=Re)for(;ge(Re),!pe(Re);)Re.setTime(Re-1)},function(Re,He){if(Re>=Re)if(He<0)for(;++He<=0;)for(;xe(Re,-1),!pe(Re););else for(;--He>=0;)for(;xe(Re,1),!pe(Re););})},qe&&(at.count=function(pe,Re){return t.setTime(+pe),r.setTime(+Re),ge(t),ge(r),Math.floor(qe(t,r))},at.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?at.filter(ot?function(Re){return ot(Re)%pe===0}:function(Re){return at.count(0,Re)%pe===0}):at}),at}a(n,"newInterval");var i=n(function(){},function(ge,xe){ge.setTime(+ge+xe)},function(ge,xe){return xe-ge});i.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(xe){xe.setTime(Math.floor(xe/ge)*ge)},function(xe,qe){xe.setTime(+xe+qe*ge)},function(xe,qe){return(qe-xe)/ge}):i};var s=i.range,o=1e3,l=6e4,u=36e5,f=864e5,h=6048e5,p=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,xe){ge.setTime(+ge+xe*o)},function(ge,xe){return(xe-ge)/o},function(ge){return ge.getUTCSeconds()}),g=p.range,y=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o)},function(ge,xe){ge.setTime(+ge+xe*l)},function(ge,xe){return(xe-ge)/l},function(ge){return ge.getMinutes()}),E=y.range,M=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*o-ge.getMinutes()*l)},function(ge,xe){ge.setTime(+ge+xe*u)},function(ge,xe){return(xe-ge)/u},function(ge){return ge.getHours()}),z=M.range,P=n(function(ge){ge.setHours(0,0,0,0)},function(ge,xe){ge.setDate(ge.getDate()+xe)},function(ge,xe){return(xe-ge-(xe.getTimezoneOffset()-ge.getTimezoneOffset())*l)/f},function(ge){return ge.getDate()-1}),Q=P.range;function V(ge){return n(function(xe){xe.setDate(xe.getDate()-(xe.getDay()+7-ge)%7),xe.setHours(0,0,0,0)},function(xe,qe){xe.setDate(xe.getDate()+qe*7)},function(xe,qe){return(qe-xe-(qe.getTimezoneOffset()-xe.getTimezoneOffset())*l)/h})}a(V,"weekday");var W=V(0),F=V(1),B=V(2),S=V(3),T=V(4),k=V(5),R=V(6),x=W.range,N=F.range,m=B.range,v=S.range,A=T.range,U=k.range,G=R.range,K=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,xe){ge.setMonth(ge.getMonth()+xe)},function(ge,xe){return xe.getMonth()-ge.getMonth()+(xe.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),Z=K.range,O=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,xe){ge.setFullYear(ge.getFullYear()+xe)},function(ge,xe){return xe.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});O.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(xe){xe.setFullYear(Math.floor(xe.getFullYear()/ge)*ge),xe.setMonth(0,1),xe.setHours(0,0,0,0)},function(xe,qe){xe.setFullYear(xe.getFullYear()+qe*ge)})};var $=O.range,L=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,xe){ge.setTime(+ge+xe*l)},function(ge,xe){return(xe-ge)/l},function(ge){return ge.getUTCMinutes()}),ee=L.range,ve=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,xe){ge.setTime(+ge+xe*u)},function(ge,xe){return(xe-ge)/u},function(ge){return ge.getUTCHours()}),ye=ve.range,se=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCDate(ge.getUTCDate()+xe)},function(ge,xe){return(xe-ge)/f},function(ge){return ge.getUTCDate()-1}),be=se.range;function Y(ge){return n(function(xe){xe.setUTCDate(xe.getUTCDate()-(xe.getUTCDay()+7-ge)%7),xe.setUTCHours(0,0,0,0)},function(xe,qe){xe.setUTCDate(xe.getUTCDate()+qe*7)},function(xe,qe){return(qe-xe)/h})}a(Y,"utcWeekday");var D=Y(0),J=Y(1),q=Y(2),I=Y(3),H=Y(4),te=Y(5),ie=Y(6),he=D.range,De=J.range,$e=q.range,ze=I.range,Qe=H.range,je=te.range,We=ie.range,Ce=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCMonth(ge.getUTCMonth()+xe)},function(ge,xe){return xe.getUTCMonth()-ge.getUTCMonth()+(xe.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Te=Ce.range,Je=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,xe){ge.setUTCFullYear(ge.getUTCFullYear()+xe)},function(ge,xe){return xe.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Je.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(xe){xe.setUTCFullYear(Math.floor(xe.getUTCFullYear()/ge)*ge),xe.setUTCMonth(0,1),xe.setUTCHours(0,0,0,0)},function(xe,qe){xe.setUTCFullYear(xe.getUTCFullYear()+qe*ge)})};var rt=Je.range;e.timeDay=P,e.timeDays=Q,e.timeFriday=k,e.timeFridays=U,e.timeHour=M,e.timeHours=z,e.timeInterval=n,e.timeMillisecond=i,e.timeMilliseconds=s,e.timeMinute=y,e.timeMinutes=E,e.timeMonday=F,e.timeMondays=N,e.timeMonth=K,e.timeMonths=Z,e.timeSaturday=R,e.timeSaturdays=G,e.timeSecond=p,e.timeSeconds=g,e.timeSunday=W,e.timeSundays=x,e.timeThursday=T,e.timeThursdays=A,e.timeTuesday=B,e.timeTuesdays=m,e.timeWednesday=S,e.timeWednesdays=v,e.timeWeek=W,e.timeWeeks=x,e.timeYear=O,e.timeYears=$,e.utcDay=se,e.utcDays=be,e.utcFriday=te,e.utcFridays=je,e.utcHour=ve,e.utcHours=ye,e.utcMillisecond=i,e.utcMilliseconds=s,e.utcMinute=L,e.utcMinutes=ee,e.utcMonday=J,e.utcMondays=De,e.utcMonth=Ce,e.utcMonths=Te,e.utcSaturday=ie,e.utcSaturdays=We,e.utcSecond=p,e.utcSeconds=g,e.utcSunday=D,e.utcSundays=he,e.utcThursday=H,e.utcThursdays=Qe,e.utcTuesday=q,e.utcTuesdays=$e,e.utcWednesday=I,e.utcWednesdays=ze,e.utcWeek=D,e.utcWeeks=he,e.utcYear=Je,e.utcYears=rt,Object.defineProperty(e,"__esModule",{value:!0})})});var DG=j((KT,kMe)=>{d();(function(e,t){typeof KT=="object"&&typeof kMe<"u"?t(KT,GT()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(KT,function(e,t){"use strict";function r(ae){if(0<=ae.y&&ae.y<100){var ce=new Date(-1,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L);return ce.setFullYear(ae.y),ce}return new Date(ae.y,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L)}a(r,"localDate");function n(ae){if(0<=ae.y&&ae.y<100){var ce=new Date(Date.UTC(-1,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L));return ce.setUTCFullYear(ae.y),ce}return new Date(Date.UTC(ae.y,ae.m,ae.d,ae.H,ae.M,ae.S,ae.L))}a(n,"utcDate");function i(ae,ce,re){return{y:ae,m:ce,d:re,H:0,M:0,S:0,L:0}}a(i,"newDate");function s(ae){var ce=ae.dateTime,re=ae.date,ue=ae.time,me=ae.periods,Ae=ae.days,Oe=ae.shortDays,Ge=ae.months,ke=ae.shortMonths,st=g(me),yt=y(me),pt=g(Ae),wt=y(Ae),Gt=g(Oe),Pt=y(Oe),tr=g(Ge),cr=y(Ge),pr=g(ke),Cr=y(ke),Qr={a:er,A:Ue,b:Ir,B:ct,c:null,d:K,e:K,f:ee,g:te,G:he,H:Z,I:O,j:$,L,m:ve,M:ye,p:xn,q:Tn,Q:lt,s:zt,S:se,u:be,U:Y,V:J,w:q,W:I,x:null,X:null,y:H,Y:ie,Z:De,"%":gt},Tr={a:Pi,A:Ya,b:Ha,B:un,c:null,d:$e,e:$e,f:Ce,g:He,G:Ve,H:ze,I:Qe,j:je,L:We,m:Te,M:Je,p:oe,q:Be,Q:lt,s:zt,S:rt,u:ge,U:xe,V:ot,w:at,W:pe,x:null,X:null,y:Re,Y:tt,Z:et,"%":gt},ur={a:Ze,A:Tt,b:Ft,B:At,c:Ot,d:T,e:T,f:v,g:W,G:V,H:R,I:R,j:k,L:m,m:S,M:x,p:Ne,q:B,Q:U,s:G,S:N,u:M,U:z,V:P,w:E,W:Q,x:Vt,X:Ct,y:W,Y:V,Z:F,"%":A};Qr.x=fr(re,Qr),Qr.X=fr(ue,Qr),Qr.c=fr(ce,Qr),Tr.x=fr(re,Tr),Tr.X=fr(ue,Tr),Tr.c=fr(ce,Tr);function fr(Le,Xe){return function(ut){var Ke=[],Et=-1,nt=0,Rt=Le.length,jt,Xt,lr;for(ut instanceof Date||(ut=new Date(+ut));++Et<Rt;)Le.charCodeAt(Et)===37&&(Ke.push(Le.slice(nt,Et)),(Xt=o[jt=Le.charAt(++Et)])!=null?jt=Le.charAt(++Et):Xt=jt==="e"?" ":"0",(lr=Xe[jt])&&(jt=lr(ut,Xt)),Ke.push(jt),nt=Et+1);return Ke.push(Le.slice(nt,Et)),Ke.join("")}}a(fr,"newFormat");function Mr(Le,Xe){return function(ut){var Ke=i(1900,void 0,1),Et=Br(Ke,Le,ut+="",0),nt,Rt;if(Et!=ut.length)return null;if("Q"in Ke)return new Date(Ke.Q);if("s"in Ke)return new Date(Ke.s*1e3+("L"in Ke?Ke.L:0));if(Xe&&!("Z"in Ke)&&(Ke.Z=0),"p"in Ke&&(Ke.H=Ke.H%12+Ke.p*12),Ke.m===void 0&&(Ke.m="q"in Ke?Ke.q:0),"V"in Ke){if(Ke.V<1||Ke.V>53)return null;"w"in Ke||(Ke.w=1),"Z"in Ke?(nt=n(i(Ke.y,0,1)),Rt=nt.getUTCDay(),nt=Rt>4||Rt===0?t.utcMonday.ceil(nt):t.utcMonday(nt),nt=t.utcDay.offset(nt,(Ke.V-1)*7),Ke.y=nt.getUTCFullYear(),Ke.m=nt.getUTCMonth(),Ke.d=nt.getUTCDate()+(Ke.w+6)%7):(nt=r(i(Ke.y,0,1)),Rt=nt.getDay(),nt=Rt>4||Rt===0?t.timeMonday.ceil(nt):t.timeMonday(nt),nt=t.timeDay.offset(nt,(Ke.V-1)*7),Ke.y=nt.getFullYear(),Ke.m=nt.getMonth(),Ke.d=nt.getDate()+(Ke.w+6)%7)}else("W"in Ke||"U"in Ke)&&("w"in Ke||(Ke.w="u"in Ke?Ke.u%7:"W"in Ke?1:0),Rt="Z"in Ke?n(i(Ke.y,0,1)).getUTCDay():r(i(Ke.y,0,1)).getDay(),Ke.m=0,Ke.d="W"in Ke?(Ke.w+6)%7+Ke.W*7-(Rt+5)%7:Ke.w+Ke.U*7-(Rt+6)%7);return"Z"in Ke?(Ke.H+=Ke.Z/100|0,Ke.M+=Ke.Z%100,n(Ke)):r(Ke)}}a(Mr,"newParse");function Br(Le,Xe,ut,Ke){for(var Et=0,nt=Xe.length,Rt=ut.length,jt,Xt;Et<nt;){if(Ke>=Rt)return-1;if(jt=Xe.charCodeAt(Et++),jt===37){if(jt=Xe.charAt(Et++),Xt=ur[jt in o?Xe.charAt(Et++):jt],!Xt||(Ke=Xt(Le,ut,Ke))<0)return-1}else if(jt!=ut.charCodeAt(Ke++))return-1}return Ke}a(Br,"parseSpecifier");function Ne(Le,Xe,ut){var Ke=st.exec(Xe.slice(ut));return Ke?(Le.p=yt[Ke[0].toLowerCase()],ut+Ke[0].length):-1}a(Ne,"parsePeriod");function Ze(Le,Xe,ut){var Ke=Gt.exec(Xe.slice(ut));return Ke?(Le.w=Pt[Ke[0].toLowerCase()],ut+Ke[0].length):-1}a(Ze,"parseShortWeekday");function Tt(Le,Xe,ut){var Ke=pt.exec(Xe.slice(ut));return Ke?(Le.w=wt[Ke[0].toLowerCase()],ut+Ke[0].length):-1}a(Tt,"parseWeekday");function Ft(Le,Xe,ut){var Ke=pr.exec(Xe.slice(ut));return Ke?(Le.m=Cr[Ke[0].toLowerCase()],ut+Ke[0].length):-1}a(Ft,"parseShortMonth");function At(Le,Xe,ut){var Ke=tr.exec(Xe.slice(ut));return Ke?(Le.m=cr[Ke[0].toLowerCase()],ut+Ke[0].length):-1}a(At,"parseMonth");function Ot(Le,Xe,ut){return Br(Le,ce,Xe,ut)}a(Ot,"parseLocaleDateTime");function Vt(Le,Xe,ut){return Br(Le,re,Xe,ut)}a(Vt,"parseLocaleDate");function Ct(Le,Xe,ut){return Br(Le,ue,Xe,ut)}a(Ct,"parseLocaleTime");function er(Le){return Oe[Le.getDay()]}a(er,"formatShortWeekday");function Ue(Le){return Ae[Le.getDay()]}a(Ue,"formatWeekday");function Ir(Le){return ke[Le.getMonth()]}a(Ir,"formatShortMonth");function ct(Le){return Ge[Le.getMonth()]}a(ct,"formatMonth");function xn(Le){return me[+(Le.getHours()>=12)]}a(xn,"formatPeriod");function Tn(Le){return 1+~~(Le.getMonth()/3)}a(Tn,"formatQuarter");function Pi(Le){return Oe[Le.getUTCDay()]}a(Pi,"formatUTCShortWeekday");function Ya(Le){return Ae[Le.getUTCDay()]}a(Ya,"formatUTCWeekday");function Ha(Le){return ke[Le.getUTCMonth()]}a(Ha,"formatUTCShortMonth");function un(Le){return Ge[Le.getUTCMonth()]}a(un,"formatUTCMonth");function oe(Le){return me[+(Le.getUTCHours()>=12)]}a(oe,"formatUTCPeriod");function Be(Le){return 1+~~(Le.getUTCMonth()/3)}return a(Be,"formatUTCQuarter"),{format:function(Le){var Xe=fr(Le+="",Qr);return Xe.toString=function(){return Le},Xe},parse:function(Le){var Xe=Mr(Le+="",!1);return Xe.toString=function(){return Le},Xe},utcFormat:function(Le){var Xe=fr(Le+="",Tr);return Xe.toString=function(){return Le},Xe},utcParse:function(Le){var Xe=Mr(Le+="",!0);return Xe.toString=function(){return Le},Xe}}}a(s,"formatLocale");var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,f=/[\\^$*+?|[\]().{}]/g;function h(ae,ce,re){var ue=ae<0?"-":"",me=(ue?-ae:ae)+"",Ae=me.length;return ue+(Ae<re?new Array(re-Ae+1).join(ce)+me:me)}a(h,"pad");function p(ae){return ae.replace(f,"\\$&")}a(p,"requote");function g(ae){return new RegExp("^(?:"+ae.map(p).join("|")+")","i")}a(g,"formatRe");function y(ae){for(var ce={},re=-1,ue=ae.length;++re<ue;)ce[ae[re].toLowerCase()]=re;return ce}a(y,"formatLookup");function E(ae,ce,re){var ue=l.exec(ce.slice(re,re+1));return ue?(ae.w=+ue[0],re+ue[0].length):-1}a(E,"parseWeekdayNumberSunday");function M(ae,ce,re){var ue=l.exec(ce.slice(re,re+1));return ue?(ae.u=+ue[0],re+ue[0].length):-1}a(M,"parseWeekdayNumberMonday");function z(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.U=+ue[0],re+ue[0].length):-1}a(z,"parseWeekNumberSunday");function P(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.V=+ue[0],re+ue[0].length):-1}a(P,"parseWeekNumberISO");function Q(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.W=+ue[0],re+ue[0].length):-1}a(Q,"parseWeekNumberMonday");function V(ae,ce,re){var ue=l.exec(ce.slice(re,re+4));return ue?(ae.y=+ue[0],re+ue[0].length):-1}a(V,"parseFullYear");function W(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.y=+ue[0]+(+ue[0]>68?1900:2e3),re+ue[0].length):-1}a(W,"parseYear");function F(ae,ce,re){var ue=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ce.slice(re,re+6));return ue?(ae.Z=ue[1]?0:-(ue[2]+(ue[3]||"00")),re+ue[0].length):-1}a(F,"parseZone");function B(ae,ce,re){var ue=l.exec(ce.slice(re,re+1));return ue?(ae.q=ue[0]*3-3,re+ue[0].length):-1}a(B,"parseQuarter");function S(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.m=ue[0]-1,re+ue[0].length):-1}a(S,"parseMonthNumber");function T(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.d=+ue[0],re+ue[0].length):-1}a(T,"parseDayOfMonth");function k(ae,ce,re){var ue=l.exec(ce.slice(re,re+3));return ue?(ae.m=0,ae.d=+ue[0],re+ue[0].length):-1}a(k,"parseDayOfYear");function R(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.H=+ue[0],re+ue[0].length):-1}a(R,"parseHour24");function x(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.M=+ue[0],re+ue[0].length):-1}a(x,"parseMinutes");function N(ae,ce,re){var ue=l.exec(ce.slice(re,re+2));return ue?(ae.S=+ue[0],re+ue[0].length):-1}a(N,"parseSeconds");function m(ae,ce,re){var ue=l.exec(ce.slice(re,re+3));return ue?(ae.L=+ue[0],re+ue[0].length):-1}a(m,"parseMilliseconds");function v(ae,ce,re){var ue=l.exec(ce.slice(re,re+6));return ue?(ae.L=Math.floor(ue[0]/1e3),re+ue[0].length):-1}a(v,"parseMicroseconds");function A(ae,ce,re){var ue=u.exec(ce.slice(re,re+1));return ue?re+ue[0].length:-1}a(A,"parseLiteralPercent");function U(ae,ce,re){var ue=l.exec(ce.slice(re));return ue?(ae.Q=+ue[0],re+ue[0].length):-1}a(U,"parseUnixTimestamp");function G(ae,ce,re){var ue=l.exec(ce.slice(re));return ue?(ae.s=+ue[0],re+ue[0].length):-1}a(G,"parseUnixTimestampSeconds");function K(ae,ce){return h(ae.getDate(),ce,2)}a(K,"formatDayOfMonth");function Z(ae,ce){return h(ae.getHours(),ce,2)}a(Z,"formatHour24");function O(ae,ce){return h(ae.getHours()%12||12,ce,2)}a(O,"formatHour12");function $(ae,ce){return h(1+t.timeDay.count(t.timeYear(ae),ae),ce,3)}a($,"formatDayOfYear");function L(ae,ce){return h(ae.getMilliseconds(),ce,3)}a(L,"formatMilliseconds");function ee(ae,ce){return L(ae,ce)+"000"}a(ee,"formatMicroseconds");function ve(ae,ce){return h(ae.getMonth()+1,ce,2)}a(ve,"formatMonthNumber");function ye(ae,ce){return h(ae.getMinutes(),ce,2)}a(ye,"formatMinutes");function se(ae,ce){return h(ae.getSeconds(),ce,2)}a(se,"formatSeconds");function be(ae){var ce=ae.getDay();return ce===0?7:ce}a(be,"formatWeekdayNumberMonday");function Y(ae,ce){return h(t.timeSunday.count(t.timeYear(ae)-1,ae),ce,2)}a(Y,"formatWeekNumberSunday");function D(ae){var ce=ae.getDay();return ce>=4||ce===0?t.timeThursday(ae):t.timeThursday.ceil(ae)}a(D,"dISO");function J(ae,ce){return ae=D(ae),h(t.timeThursday.count(t.timeYear(ae),ae)+(t.timeYear(ae).getDay()===4),ce,2)}a(J,"formatWeekNumberISO");function q(ae){return ae.getDay()}a(q,"formatWeekdayNumberSunday");function I(ae,ce){return h(t.timeMonday.count(t.timeYear(ae)-1,ae),ce,2)}a(I,"formatWeekNumberMonday");function H(ae,ce){return h(ae.getFullYear()%100,ce,2)}a(H,"formatYear");function te(ae,ce){return ae=D(ae),h(ae.getFullYear()%100,ce,2)}a(te,"formatYearISO");function ie(ae,ce){return h(ae.getFullYear()%1e4,ce,4)}a(ie,"formatFullYear");function he(ae,ce){var re=ae.getDay();return ae=re>=4||re===0?t.timeThursday(ae):t.timeThursday.ceil(ae),h(ae.getFullYear()%1e4,ce,4)}a(he,"formatFullYearISO");function De(ae){var ce=ae.getTimezoneOffset();return(ce>0?"-":(ce*=-1,"+"))+h(ce/60|0,"0",2)+h(ce%60,"0",2)}a(De,"formatZone");function $e(ae,ce){return h(ae.getUTCDate(),ce,2)}a($e,"formatUTCDayOfMonth");function ze(ae,ce){return h(ae.getUTCHours(),ce,2)}a(ze,"formatUTCHour24");function Qe(ae,ce){return h(ae.getUTCHours()%12||12,ce,2)}a(Qe,"formatUTCHour12");function je(ae,ce){return h(1+t.utcDay.count(t.utcYear(ae),ae),ce,3)}a(je,"formatUTCDayOfYear");function We(ae,ce){return h(ae.getUTCMilliseconds(),ce,3)}a(We,"formatUTCMilliseconds");function Ce(ae,ce){return We(ae,ce)+"000"}a(Ce,"formatUTCMicroseconds");function Te(ae,ce){return h(ae.getUTCMonth()+1,ce,2)}a(Te,"formatUTCMonthNumber");function Je(ae,ce){return h(ae.getUTCMinutes(),ce,2)}a(Je,"formatUTCMinutes");function rt(ae,ce){return h(ae.getUTCSeconds(),ce,2)}a(rt,"formatUTCSeconds");function ge(ae){var ce=ae.getUTCDay();return ce===0?7:ce}a(ge,"formatUTCWeekdayNumberMonday");function xe(ae,ce){return h(t.utcSunday.count(t.utcYear(ae)-1,ae),ce,2)}a(xe,"formatUTCWeekNumberSunday");function qe(ae){var ce=ae.getUTCDay();return ce>=4||ce===0?t.utcThursday(ae):t.utcThursday.ceil(ae)}a(qe,"UTCdISO");function ot(ae,ce){return ae=qe(ae),h(t.utcThursday.count(t.utcYear(ae),ae)+(t.utcYear(ae).getUTCDay()===4),ce,2)}a(ot,"formatUTCWeekNumberISO");function at(ae){return ae.getUTCDay()}a(at,"formatUTCWeekdayNumberSunday");function pe(ae,ce){return h(t.utcMonday.count(t.utcYear(ae)-1,ae),ce,2)}a(pe,"formatUTCWeekNumberMonday");function Re(ae,ce){return h(ae.getUTCFullYear()%100,ce,2)}a(Re,"formatUTCYear");function He(ae,ce){return ae=qe(ae),h(ae.getUTCFullYear()%100,ce,2)}a(He,"formatUTCYearISO");function tt(ae,ce){return h(ae.getUTCFullYear()%1e4,ce,4)}a(tt,"formatUTCFullYear");function Ve(ae,ce){var re=ae.getUTCDay();return ae=re>=4||re===0?t.utcThursday(ae):t.utcThursday.ceil(ae),h(ae.getUTCFullYear()%1e4,ce,4)}a(Ve,"formatUTCFullYearISO");function et(){return"+0000"}a(et,"formatUTCZone");function gt(){return"%"}a(gt,"formatLiteralPercent");function lt(ae){return+ae}a(lt,"formatUnixTimestamp");function zt(ae){return Math.floor(+ae/1e3)}a(zt,"formatUnixTimestampSeconds");var it;Wt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wt(ae){return it=s(ae),e.timeFormat=it.format,e.timeParse=it.parse,e.utcFormat=it.utcFormat,e.utcParse=it.utcParse,it}a(Wt,"defaultLocale");var bt="%Y-%m-%dT%H:%M:%S.%LZ";function Se(ae){return ae.toISOString()}a(Se,"formatIsoNative");var Ie=Date.prototype.toISOString?Se:e.utcFormat(bt);function le(ae){var ce=new Date(ae);return isNaN(ce)?null:ce}a(le,"parseIsoNative");var _e=+new Date("2000-01-01T00:00:00.000Z")?le:e.utcParse(bt);e.isoFormat=Ie,e.isoParse=_e,e.timeFormatDefaultLocale=Wt,e.timeFormatLocale=s,Object.defineProperty(e,"__esModule",{value:!0})})});var IMe=j(($T,CMe)=>{d();(function(e,t){typeof $T=="object"&&typeof CMe<"u"?t($T,OT(),lv(),ry(),LG(),GT(),DG()):typeof define=="function"&&define.amd?define(["exports","d3-collection","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})($T,function(e,t,r,n,i,s,o){"use strict";function l(le,_e){switch(arguments.length){case 0:break;case 1:this.range(le);break;default:this.range(_e).domain(le);break}return this}a(l,"initRange");function u(le,_e){switch(arguments.length){case 0:break;case 1:this.interpolator(le);break;default:this.interpolator(_e).domain(le);break}return this}a(u,"initInterpolator");var f=Array.prototype,h=f.map,p=f.slice,g={name:"implicit"};function y(){var le=t.map(),_e=[],ae=[],ce=g;function re(ue){var me=ue+"",Ae=le.get(me);if(!Ae){if(ce!==g)return ce;le.set(me,Ae=_e.push(ue))}return ae[(Ae-1)%ae.length]}return a(re,"scale"),re.domain=function(ue){if(!arguments.length)return _e.slice();_e=[],le=t.map();for(var me=-1,Ae=ue.length,Oe,Ge;++me<Ae;)le.has(Ge=(Oe=ue[me])+"")||le.set(Ge,_e.push(Oe));return re},re.range=function(ue){return arguments.length?(ae=p.call(ue),re):ae.slice()},re.unknown=function(ue){return arguments.length?(ce=ue,re):ce},re.copy=function(){return y(_e,ae).unknown(ce)},l.apply(re,arguments),re}a(y,"ordinal");function E(){var le=y().unknown(void 0),_e=le.domain,ae=le.range,ce=[0,1],re,ue,me=!1,Ae=0,Oe=0,Ge=.5;delete le.unknown;function ke(){var st=_e().length,yt=ce[1]<ce[0],pt=ce[yt-0],wt=ce[1-yt];re=(wt-pt)/Math.max(1,st-Ae+Oe*2),me&&(re=Math.floor(re)),pt+=(wt-pt-re*(st-Ae))*Ge,ue=re*(1-Ae),me&&(pt=Math.round(pt),ue=Math.round(ue));var Gt=r.range(st).map(function(Pt){return pt+re*Pt});return ae(yt?Gt.reverse():Gt)}return a(ke,"rescale"),le.domain=function(st){return arguments.length?(_e(st),ke()):_e()},le.range=function(st){return arguments.length?(ce=[+st[0],+st[1]],ke()):ce.slice()},le.rangeRound=function(st){return ce=[+st[0],+st[1]],me=!0,ke()},le.bandwidth=function(){return ue},le.step=function(){return re},le.round=function(st){return arguments.length?(me=!!st,ke()):me},le.padding=function(st){return arguments.length?(Ae=Math.min(1,Oe=+st),ke()):Ae},le.paddingInner=function(st){return arguments.length?(Ae=Math.min(1,st),ke()):Ae},le.paddingOuter=function(st){return arguments.length?(Oe=+st,ke()):Oe},le.align=function(st){return arguments.length?(Ge=Math.max(0,Math.min(1,st)),ke()):Ge},le.copy=function(){return E(_e(),ce).round(me).paddingInner(Ae).paddingOuter(Oe).align(Ge)},l.apply(ke(),arguments)}a(E,"band");function M(le){var _e=le.copy;return le.padding=le.paddingOuter,delete le.paddingInner,delete le.paddingOuter,le.copy=function(){return M(_e())},le}a(M,"pointish");function z(){return M(E.apply(null,arguments).paddingInner(1))}a(z,"point");function P(le){return function(){return le}}a(P,"constant");function Q(le){return+le}a(Q,"number");var V=[0,1];function W(le){return le}a(W,"identity");function F(le,_e){return(_e-=le=+le)?function(ae){return(ae-le)/_e}:P(isNaN(_e)?NaN:.5)}a(F,"normalize");function B(le){var _e=le[0],ae=le[le.length-1],ce;return _e>ae&&(ce=_e,_e=ae,ae=ce),function(re){return Math.max(_e,Math.min(ae,re))}}a(B,"clamper");function S(le,_e,ae){var ce=le[0],re=le[1],ue=_e[0],me=_e[1];return re<ce?(ce=F(re,ce),ue=ae(me,ue)):(ce=F(ce,re),ue=ae(ue,me)),function(Ae){return ue(ce(Ae))}}a(S,"bimap");function T(le,_e,ae){var ce=Math.min(le.length,_e.length)-1,re=new Array(ce),ue=new Array(ce),me=-1;for(le[ce]<le[0]&&(le=le.slice().reverse(),_e=_e.slice().reverse());++me<ce;)re[me]=F(le[me],le[me+1]),ue[me]=ae(_e[me],_e[me+1]);return function(Ae){var Oe=r.bisect(le,Ae,1,ce)-1;return ue[Oe](re[Oe](Ae))}}a(T,"polymap");function k(le,_e){return _e.domain(le.domain()).range(le.range()).interpolate(le.interpolate()).clamp(le.clamp()).unknown(le.unknown())}a(k,"copy");function R(){var le=V,_e=V,ae=n.interpolate,ce,re,ue,me=W,Ae,Oe,Ge;function ke(){return Ae=Math.min(le.length,_e.length)>2?T:S,Oe=Ge=null,st}a(ke,"rescale");function st(yt){return isNaN(yt=+yt)?ue:(Oe||(Oe=Ae(le.map(ce),_e,ae)))(ce(me(yt)))}return a(st,"scale"),st.invert=function(yt){return me(re((Ge||(Ge=Ae(_e,le.map(ce),n.interpolateNumber)))(yt)))},st.domain=function(yt){return arguments.length?(le=h.call(yt,Q),me===W||(me=B(le)),ke()):le.slice()},st.range=function(yt){return arguments.length?(_e=p.call(yt),ke()):_e.slice()},st.rangeRound=function(yt){return _e=p.call(yt),ae=n.interpolateRound,ke()},st.clamp=function(yt){return arguments.length?(me=yt?B(le):W,st):me!==W},st.interpolate=function(yt){return arguments.length?(ae=yt,ke()):ae},st.unknown=function(yt){return arguments.length?(ue=yt,st):ue},function(yt,pt){return ce=yt,re=pt,ke()}}a(R,"transformer");function x(le,_e){return R()(le,_e)}a(x,"continuous");function N(le,_e,ae,ce){var re=r.tickStep(le,_e,ae),ue;switch(ce=i.formatSpecifier(ce??",f"),ce.type){case"s":{var me=Math.max(Math.abs(le),Math.abs(_e));return ce.precision==null&&!isNaN(ue=i.precisionPrefix(re,me))&&(ce.precision=ue),i.formatPrefix(ce,me)}case"":case"e":case"g":case"p":case"r":{ce.precision==null&&!isNaN(ue=i.precisionRound(re,Math.max(Math.abs(le),Math.abs(_e))))&&(ce.precision=ue-(ce.type==="e"));break}case"f":case"%":{ce.precision==null&&!isNaN(ue=i.precisionFixed(re))&&(ce.precision=ue-(ce.type==="%")*2);break}}return i.format(ce)}a(N,"tickFormat");function m(le){var _e=le.domain;return le.ticks=function(ae){var ce=_e();return r.ticks(ce[0],ce[ce.length-1],ae??10)},le.tickFormat=function(ae,ce){var re=_e();return N(re[0],re[re.length-1],ae??10,ce)},le.nice=function(ae){ae==null&&(ae=10);var ce=_e(),re=0,ue=ce.length-1,me=ce[re],Ae=ce[ue],Oe;return Ae<me&&(Oe=me,me=Ae,Ae=Oe,Oe=re,re=ue,ue=Oe),Oe=r.tickIncrement(me,Ae,ae),Oe>0?(me=Math.floor(me/Oe)*Oe,Ae=Math.ceil(Ae/Oe)*Oe,Oe=r.tickIncrement(me,Ae,ae)):Oe<0&&(me=Math.ceil(me*Oe)/Oe,Ae=Math.floor(Ae*Oe)/Oe,Oe=r.tickIncrement(me,Ae,ae)),Oe>0?(ce[re]=Math.floor(me/Oe)*Oe,ce[ue]=Math.ceil(Ae/Oe)*Oe,_e(ce)):Oe<0&&(ce[re]=Math.ceil(me*Oe)/Oe,ce[ue]=Math.floor(Ae*Oe)/Oe,_e(ce)),le},le}a(m,"linearish");function v(){var le=x(W,W);return le.copy=function(){return k(le,v())},l.apply(le,arguments),m(le)}a(v,"linear");function A(le){var _e;function ae(ce){return isNaN(ce=+ce)?_e:ce}return a(ae,"scale"),ae.invert=ae,ae.domain=ae.range=function(ce){return arguments.length?(le=h.call(ce,Q),ae):le.slice()},ae.unknown=function(ce){return arguments.length?(_e=ce,ae):_e},ae.copy=function(){return A(le).unknown(_e)},le=arguments.length?h.call(le,Q):[0,1],m(ae)}a(A,"identity$1");function U(le,_e){le=le.slice();var ae=0,ce=le.length-1,re=le[ae],ue=le[ce],me;return ue<re&&(me=ae,ae=ce,ce=me,me=re,re=ue,ue=me),le[ae]=_e.floor(re),le[ce]=_e.ceil(ue),le}a(U,"nice");function G(le){return Math.log(le)}a(G,"transformLog");function K(le){return Math.exp(le)}a(K,"transformExp");function Z(le){return-Math.log(-le)}a(Z,"transformLogn");function O(le){return-Math.exp(-le)}a(O,"transformExpn");function $(le){return isFinite(le)?+("1e"+le):le<0?0:le}a($,"pow10");function L(le){return le===10?$:le===Math.E?Math.exp:function(_e){return Math.pow(le,_e)}}a(L,"powp");function ee(le){return le===Math.E?Math.log:le===10&&Math.log10||le===2&&Math.log2||(le=Math.log(le),function(_e){return Math.log(_e)/le})}a(ee,"logp");function ve(le){return function(_e){return-le(-_e)}}a(ve,"reflect");function ye(le){var _e=le(G,K),ae=_e.domain,ce=10,re,ue;function me(){return re=ee(ce),ue=L(ce),ae()[0]<0?(re=ve(re),ue=ve(ue),le(Z,O)):le(G,K),_e}return a(me,"rescale"),_e.base=function(Ae){return arguments.length?(ce=+Ae,me()):ce},_e.domain=function(Ae){return arguments.length?(ae(Ae),me()):ae()},_e.ticks=function(Ae){var Oe=ae(),Ge=Oe[0],ke=Oe[Oe.length-1],st;(st=ke<Ge)&&(yt=Ge,Ge=ke,ke=yt);var yt=re(Ge),pt=re(ke),wt,Gt,Pt,tr=Ae==null?10:+Ae,cr=[];if(!(ce%1)&&pt-yt<tr){if(yt=Math.round(yt)-1,pt=Math.round(pt)+1,Ge>0){for(;yt<pt;++yt)for(Gt=1,wt=ue(yt);Gt<ce;++Gt)if(Pt=wt*Gt,!(Pt<Ge)){if(Pt>ke)break;cr.push(Pt)}}else for(;yt<pt;++yt)for(Gt=ce-1,wt=ue(yt);Gt>=1;--Gt)if(Pt=wt*Gt,!(Pt<Ge)){if(Pt>ke)break;cr.push(Pt)}}else cr=r.ticks(yt,pt,Math.min(pt-yt,tr)).map(ue);return st?cr.reverse():cr},_e.tickFormat=function(Ae,Oe){if(Oe==null&&(Oe=ce===10?".0e":","),typeof Oe!="function"&&(Oe=i.format(Oe)),Ae===1/0)return Oe;Ae==null&&(Ae=10);var Ge=Math.max(1,ce*Ae/_e.ticks().length);return function(ke){var st=ke/ue(Math.round(re(ke)));return st*ce<ce-.5&&(st*=ce),st<=Ge?Oe(ke):""}},_e.nice=function(){return ae(U(ae(),{floor:function(Ae){return ue(Math.floor(re(Ae)))},ceil:function(Ae){return ue(Math.ceil(re(Ae)))}}))},_e}a(ye,"loggish");function se(){var le=ye(R()).domain([1,10]);return le.copy=function(){return k(le,se()).base(le.base())},l.apply(le,arguments),le}a(se,"log");function be(le){return function(_e){return Math.sign(_e)*Math.log1p(Math.abs(_e/le))}}a(be,"transformSymlog");function Y(le){return function(_e){return Math.sign(_e)*Math.expm1(Math.abs(_e))*le}}a(Y,"transformSymexp");function D(le){var _e=1,ae=le(be(_e),Y(_e));return ae.constant=function(ce){return arguments.length?le(be(_e=+ce),Y(_e)):_e},m(ae)}a(D,"symlogish");function J(){var le=D(R());return le.copy=function(){return k(le,J()).constant(le.constant())},l.apply(le,arguments)}a(J,"symlog");function q(le){return function(_e){return _e<0?-Math.pow(-_e,le):Math.pow(_e,le)}}a(q,"transformPow");function I(le){return le<0?-Math.sqrt(-le):Math.sqrt(le)}a(I,"transformSqrt");function H(le){return le<0?-le*le:le*le}a(H,"transformSquare");function te(le){var _e=le(W,W),ae=1;function ce(){return ae===1?le(W,W):ae===.5?le(I,H):le(q(ae),q(1/ae))}return a(ce,"rescale"),_e.exponent=function(re){return arguments.length?(ae=+re,ce()):ae},m(_e)}a(te,"powish");function ie(){var le=te(R());return le.copy=function(){return k(le,ie()).exponent(le.exponent())},l.apply(le,arguments),le}a(ie,"pow");function he(){return ie.apply(null,arguments).exponent(.5)}a(he,"sqrt");function De(){var le=[],_e=[],ae=[],ce;function re(){var me=0,Ae=Math.max(1,_e.length);for(ae=new Array(Ae-1);++me<Ae;)ae[me-1]=r.quantile(le,me/Ae);return ue}a(re,"rescale");function ue(me){return isNaN(me=+me)?ce:_e[r.bisect(ae,me)]}return a(ue,"scale"),ue.invertExtent=function(me){var Ae=_e.indexOf(me);return Ae<0?[NaN,NaN]:[Ae>0?ae[Ae-1]:le[0],Ae<ae.length?ae[Ae]:le[le.length-1]]},ue.domain=function(me){if(!arguments.length)return le.slice();le=[];for(var Ae=0,Oe=me.length,Ge;Ae<Oe;++Ae)Ge=me[Ae],Ge!=null&&!isNaN(Ge=+Ge)&&le.push(Ge);return le.sort(r.ascending),re()},ue.range=function(me){return arguments.length?(_e=p.call(me),re()):_e.slice()},ue.unknown=function(me){return arguments.length?(ce=me,ue):ce},ue.quantiles=function(){return ae.slice()},ue.copy=function(){return De().domain(le).range(_e).unknown(ce)},l.apply(ue,arguments)}a(De,"quantile");function $e(){var le=0,_e=1,ae=1,ce=[.5],re=[0,1],ue;function me(Oe){return Oe<=Oe?re[r.bisect(ce,Oe,0,ae)]:ue}a(me,"scale");function Ae(){var Oe=-1;for(ce=new Array(ae);++Oe<ae;)ce[Oe]=((Oe+1)*_e-(Oe-ae)*le)/(ae+1);return me}return a(Ae,"rescale"),me.domain=function(Oe){return arguments.length?(le=+Oe[0],_e=+Oe[1],Ae()):[le,_e]},me.range=function(Oe){return arguments.length?(ae=(re=p.call(Oe)).length-1,Ae()):re.slice()},me.invertExtent=function(Oe){var Ge=re.indexOf(Oe);return Ge<0?[NaN,NaN]:Ge<1?[le,ce[0]]:Ge>=ae?[ce[ae-1],_e]:[ce[Ge-1],ce[Ge]]},me.unknown=function(Oe){return arguments.length&&(ue=Oe),me},me.thresholds=function(){return ce.slice()},me.copy=function(){return $e().domain([le,_e]).range(re).unknown(ue)},l.apply(m(me),arguments)}a($e,"quantize");function ze(){var le=[.5],_e=[0,1],ae,ce=1;function re(ue){return ue<=ue?_e[r.bisect(le,ue,0,ce)]:ae}return a(re,"scale"),re.domain=function(ue){return arguments.length?(le=p.call(ue),ce=Math.min(le.length,_e.length-1),re):le.slice()},re.range=function(ue){return arguments.length?(_e=p.call(ue),ce=Math.min(le.length,_e.length-1),re):_e.slice()},re.invertExtent=function(ue){var me=_e.indexOf(ue);return[le[me-1],le[me]]},re.unknown=function(ue){return arguments.length?(ae=ue,re):ae},re.copy=function(){return ze().domain(le).range(_e).unknown(ae)},l.apply(re,arguments)}a(ze,"threshold");var Qe=1e3,je=Qe*60,We=je*60,Ce=We*24,Te=Ce*7,Je=Ce*30,rt=Ce*365;function ge(le){return new Date(le)}a(ge,"date");function xe(le){return le instanceof Date?+le:+new Date(+le)}a(xe,"number$1");function qe(le,_e,ae,ce,re,ue,me,Ae,Oe){var Ge=x(W,W),ke=Ge.invert,st=Ge.domain,yt=Oe(".%L"),pt=Oe(":%S"),wt=Oe("%I:%M"),Gt=Oe("%I %p"),Pt=Oe("%a %d"),tr=Oe("%b %d"),cr=Oe("%B"),pr=Oe("%Y"),Cr=[[me,1,Qe],[me,5,5*Qe],[me,15,15*Qe],[me,30,30*Qe],[ue,1,je],[ue,5,5*je],[ue,15,15*je],[ue,30,30*je],[re,1,We],[re,3,3*We],[re,6,6*We],[re,12,12*We],[ce,1,Ce],[ce,2,2*Ce],[ae,1,Te],[_e,1,Je],[_e,3,3*Je],[le,1,rt]];function Qr(ur){return(me(ur)<ur?yt:ue(ur)<ur?pt:re(ur)<ur?wt:ce(ur)<ur?Gt:_e(ur)<ur?ae(ur)<ur?Pt:tr:le(ur)<ur?cr:pr)(ur)}a(Qr,"tickFormat");function Tr(ur,fr,Mr,Br){if(ur==null&&(ur=10),typeof ur=="number"){var Ne=Math.abs(Mr-fr)/ur,Ze=r.bisector(function(Tt){return Tt[2]}).right(Cr,Ne);Ze===Cr.length?(Br=r.tickStep(fr/rt,Mr/rt,ur),ur=le):Ze?(Ze=Cr[Ne/Cr[Ze-1][2]<Cr[Ze][2]/Ne?Ze-1:Ze],Br=Ze[1],ur=Ze[0]):(Br=Math.max(r.tickStep(fr,Mr,ur),1),ur=Ae)}return Br==null?ur:ur.every(Br)}return a(Tr,"tickInterval"),Ge.invert=function(ur){return new Date(ke(ur))},Ge.domain=function(ur){return arguments.length?st(h.call(ur,xe)):st().map(ge)},Ge.ticks=function(ur,fr){var Mr=st(),Br=Mr[0],Ne=Mr[Mr.length-1],Ze=Ne<Br,Tt;return Ze&&(Tt=Br,Br=Ne,Ne=Tt),Tt=Tr(ur,Br,Ne,fr),Tt=Tt?Tt.range(Br,Ne+1):[],Ze?Tt.reverse():Tt},Ge.tickFormat=function(ur,fr){return fr==null?Qr:Oe(fr)},Ge.nice=function(ur,fr){var Mr=st();return(ur=Tr(ur,Mr[0],Mr[Mr.length-1],fr))?st(U(Mr,ur)):Ge},Ge.copy=function(){return k(Ge,qe(le,_e,ae,ce,re,ue,me,Ae,Oe))},Ge}a(qe,"calendar");function ot(){return l.apply(qe(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}a(ot,"time");function at(){return l.apply(qe(s.utcYear,s.utcMonth,s.utcWeek,s.utcDay,s.utcHour,s.utcMinute,s.utcSecond,s.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}a(at,"utcTime");function pe(){var le=0,_e=1,ae,ce,re,ue,me=W,Ae=!1,Oe;function Ge(ke){return isNaN(ke=+ke)?Oe:me(re===0?.5:(ke=(ue(ke)-ae)*re,Ae?Math.max(0,Math.min(1,ke)):ke))}return a(Ge,"scale"),Ge.domain=function(ke){return arguments.length?(ae=ue(le=+ke[0]),ce=ue(_e=+ke[1]),re=ae===ce?0:1/(ce-ae),Ge):[le,_e]},Ge.clamp=function(ke){return arguments.length?(Ae=!!ke,Ge):Ae},Ge.interpolator=function(ke){return arguments.length?(me=ke,Ge):me},Ge.unknown=function(ke){return arguments.length?(Oe=ke,Ge):Oe},function(ke){return ue=ke,ae=ke(le),ce=ke(_e),re=ae===ce?0:1/(ce-ae),Ge}}a(pe,"transformer$1");function Re(le,_e){return _e.domain(le.domain()).interpolator(le.interpolator()).clamp(le.clamp()).unknown(le.unknown())}a(Re,"copy$1");function He(){var le=m(pe()(W));return le.copy=function(){return Re(le,He())},u.apply(le,arguments)}a(He,"sequential");function tt(){var le=ye(pe()).domain([1,10]);return le.copy=function(){return Re(le,tt()).base(le.base())},u.apply(le,arguments)}a(tt,"sequentialLog");function Ve(){var le=D(pe());return le.copy=function(){return Re(le,Ve()).constant(le.constant())},u.apply(le,arguments)}a(Ve,"sequentialSymlog");function et(){var le=te(pe());return le.copy=function(){return Re(le,et()).exponent(le.exponent())},u.apply(le,arguments)}a(et,"sequentialPow");function gt(){return et.apply(null,arguments).exponent(.5)}a(gt,"sequentialSqrt");function lt(){var le=[],_e=W;function ae(ce){if(!isNaN(ce=+ce))return _e((r.bisect(le,ce)-1)/(le.length-1))}return a(ae,"scale"),ae.domain=function(ce){if(!arguments.length)return le.slice();le=[];for(var re=0,ue=ce.length,me;re<ue;++re)me=ce[re],me!=null&&!isNaN(me=+me)&&le.push(me);return le.sort(r.ascending),ae},ae.interpolator=function(ce){return arguments.length?(_e=ce,ae):_e},ae.copy=function(){return lt(_e).domain(le)},u.apply(ae,arguments)}a(lt,"sequentialQuantile");function zt(){var le=0,_e=.5,ae=1,ce,re,ue,me,Ae,Oe=W,Ge,ke=!1,st;function yt(pt){return isNaN(pt=+pt)?st:(pt=.5+((pt=+Ge(pt))-re)*(pt<re?me:Ae),Oe(ke?Math.max(0,Math.min(1,pt)):pt))}return a(yt,"scale"),yt.domain=function(pt){return arguments.length?(ce=Ge(le=+pt[0]),re=Ge(_e=+pt[1]),ue=Ge(ae=+pt[2]),me=ce===re?0:.5/(re-ce),Ae=re===ue?0:.5/(ue-re),yt):[le,_e,ae]},yt.clamp=function(pt){return arguments.length?(ke=!!pt,yt):ke},yt.interpolator=function(pt){return arguments.length?(Oe=pt,yt):Oe},yt.unknown=function(pt){return arguments.length?(st=pt,yt):st},function(pt){return Ge=pt,ce=pt(le),re=pt(_e),ue=pt(ae),me=ce===re?0:.5/(re-ce),Ae=re===ue?0:.5/(ue-re),yt}}a(zt,"transformer$2");function it(){var le=m(zt()(W));return le.copy=function(){return Re(le,it())},u.apply(le,arguments)}a(it,"diverging");function Wt(){var le=ye(zt()).domain([.1,1,10]);return le.copy=function(){return Re(le,Wt()).base(le.base())},u.apply(le,arguments)}a(Wt,"divergingLog");function bt(){var le=D(zt());return le.copy=function(){return Re(le,bt()).constant(le.constant())},u.apply(le,arguments)}a(bt,"divergingSymlog");function Se(){var le=te(zt());return le.copy=function(){return Re(le,Se()).exponent(le.exponent())},u.apply(le,arguments)}a(Se,"divergingPow");function Ie(){return Se.apply(null,arguments).exponent(.5)}a(Ie,"divergingSqrt"),e.scaleBand=E,e.scalePoint=z,e.scaleIdentity=A,e.scaleLinear=v,e.scaleLog=se,e.scaleSymlog=J,e.scaleOrdinal=y,e.scaleImplicit=g,e.scalePow=ie,e.scaleSqrt=he,e.scaleQuantile=De,e.scaleQuantize=$e,e.scaleThreshold=ze,e.scaleTime=ot,e.scaleUtc=at,e.scaleSequential=He,e.scaleSequentialLog=tt,e.scaleSequentialPow=et,e.scaleSequentialSqrt=gt,e.scaleSequentialSymlog=Ve,e.scaleSequentialQuantile=lt,e.scaleDiverging=it,e.scaleDivergingLog=Wt,e.scaleDivergingPow=Se,e.scaleDivergingSqrt=Ie,e.scaleDivergingSymlog=bt,e.tickFormat=N,Object.defineProperty(e,"__esModule",{value:!0})})});var MMe=j((XT,TMe)=>{d();(function(e,t){typeof XT=="object"&&typeof TMe<"u"?t(XT,ry(),I5()):typeof define=="function"&&define.amd?define(["exports","d3-interpolate","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3))})(XT,function(e,t,r){"use strict";function n(ce){for(var re=ce.length/6|0,ue=new Array(re),me=0;me<re;)ue[me]="#"+ce.slice(me*6,++me*6);return ue}a(n,"colors");var i=n("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),s=n("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=n("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l=n("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u=n("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),f=n("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),h=n("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),p=n("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),g=n("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),y=n("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function E(ce){return t.interpolateRgbBasis(ce[ce.length-1])}a(E,"ramp");var M=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n),z=E(M),P=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n),Q=E(P),V=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n),W=E(V),F=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n),B=E(F),S=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n),T=E(S),k=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n),R=E(k),x=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n),N=E(x),m=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n),v=E(m),A=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n),U=E(A),G=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n),K=E(G),Z=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n),O=E(Z),$=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n),L=E($),ee=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n),ve=E(ee),ye=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n),se=E(ye),be=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n),Y=E(be),D=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n),J=E(D),q=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n),I=E(q),H=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n),te=E(H),ie=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n),he=E(ie),De=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n),$e=E(De),ze=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n),Qe=E(ze),je=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n),We=E(je),Ce=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n),Te=E(Ce),Je=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n),rt=E(Je),ge=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n),xe=E(ge),qe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n),ot=E(qe),at=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n),pe=E(at);function Re(ce){return ce=Math.max(0,Math.min(1,ce)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-ce*(35.34-ce*(2381.73-ce*(6402.7-ce*(7024.72-ce*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+ce*(170.73+ce*(52.82-ce*(131.46-ce*(176.58-ce*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+ce*(442.36-ce*(2482.43-ce*(6167.24-ce*(6614.94-ce*2475.67)))))))+")"}a(Re,"cividis");var He=t.interpolateCubehelixLong(r.cubehelix(300,.5,0),r.cubehelix(-240,.5,1)),tt=t.interpolateCubehelixLong(r.cubehelix(-100,.75,.35),r.cubehelix(80,1.5,.8)),Ve=t.interpolateCubehelixLong(r.cubehelix(260,.75,.35),r.cubehelix(80,1.5,.8)),et=r.cubehelix();function gt(ce){(ce<0||ce>1)&&(ce-=Math.floor(ce));var re=Math.abs(ce-.5);return et.h=360*ce-100,et.s=1.5-1.5*re,et.l=.8-.9*re,et+""}a(gt,"rainbow");var lt=r.rgb(),zt=Math.PI/3,it=Math.PI*2/3;function Wt(ce){var re;return ce=(.5-ce)*Math.PI,lt.r=255*(re=Math.sin(ce))*re,lt.g=255*(re=Math.sin(ce+zt))*re,lt.b=255*(re=Math.sin(ce+it))*re,lt+""}a(Wt,"sinebow");function bt(ce){return ce=Math.max(0,Math.min(1,ce)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+ce*(1172.33-ce*(10793.56-ce*(33300.12-ce*(38394.49-ce*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+ce*(557.33+ce*(1225.33-ce*(3574.96-ce*(1073.77+ce*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+ce*(3211.1-ce*(15327.97-ce*(27814-ce*(22569.18-ce*6838.66)))))))+")"}a(bt,"turbo");function Se(ce){var re=ce.length;return function(ue){return ce[Math.max(0,Math.min(re-1,Math.floor(ue*re)))]}}a(Se,"ramp$1");var Ie=Se(n("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),le=Se(n("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_e=Se(n("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ae=Se(n("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.interpolateBlues=We,e.interpolateBrBG=z,e.interpolateBuGn=K,e.interpolateBuPu=O,e.interpolateCividis=Re,e.interpolateCool=Ve,e.interpolateCubehelixDefault=He,e.interpolateGnBu=L,e.interpolateGreens=Te,e.interpolateGreys=rt,e.interpolateInferno=_e,e.interpolateMagma=le,e.interpolateOrRd=ve,e.interpolateOranges=pe,e.interpolatePRGn=Q,e.interpolatePiYG=W,e.interpolatePlasma=ae,e.interpolatePuBu=Y,e.interpolatePuBuGn=se,e.interpolatePuOr=B,e.interpolatePuRd=J,e.interpolatePurples=xe,e.interpolateRainbow=gt,e.interpolateRdBu=T,e.interpolateRdGy=R,e.interpolateRdPu=I,e.interpolateRdYlBu=N,e.interpolateRdYlGn=v,e.interpolateReds=ot,e.interpolateSinebow=Wt,e.interpolateSpectral=U,e.interpolateTurbo=bt,e.interpolateViridis=Ie,e.interpolateWarm=tt,e.interpolateYlGn=he,e.interpolateYlGnBu=te,e.interpolateYlOrBr=$e,e.interpolateYlOrRd=Qe,e.schemeAccent=s,e.schemeBlues=je,e.schemeBrBG=M,e.schemeBuGn=G,e.schemeBuPu=Z,e.schemeCategory10=i,e.schemeDark2=o,e.schemeGnBu=$,e.schemeGreens=Ce,e.schemeGreys=Je,e.schemeOrRd=ee,e.schemeOranges=at,e.schemePRGn=P,e.schemePaired=l,e.schemePastel1=u,e.schemePastel2=f,e.schemePiYG=V,e.schemePuBu=be,e.schemePuBuGn=ye,e.schemePuOr=F,e.schemePuRd=D,e.schemePurples=ge,e.schemeRdBu=S,e.schemeRdGy=k,e.schemeRdPu=q,e.schemeRdYlBu=x,e.schemeRdYlGn=m,e.schemeReds=qe,e.schemeSet1=h,e.schemeSet2=p,e.schemeSet3=g,e.schemeSpectral=A,e.schemeTableau10=y,e.schemeYlGn=ie,e.schemeYlGnBu=H,e.schemeYlOrBr=De,e.schemeYlOrRd=ze,Object.defineProperty(e,"__esModule",{value:!0})})});var RMe=j((JT,BMe)=>{d();(function(e,t){typeof JT=="object"&&typeof BMe<"u"?t(JT,LT()):typeof define=="function"&&define.amd?define(["exports","d3-path"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(JT,function(e,t){"use strict";function r(oe){return a(function(){return oe},"constant")}a(r,"constant");var n=Math.abs,i=Math.atan2,s=Math.cos,o=Math.max,l=Math.min,u=Math.sin,f=Math.sqrt,h=1e-12,p=Math.PI,g=p/2,y=2*p;function E(oe){return oe>1?0:oe<-1?p:Math.acos(oe)}a(E,"acos");function M(oe){return oe>=1?g:oe<=-1?-g:Math.asin(oe)}a(M,"asin");function z(oe){return oe.innerRadius}a(z,"arcInnerRadius");function P(oe){return oe.outerRadius}a(P,"arcOuterRadius");function Q(oe){return oe.startAngle}a(Q,"arcStartAngle");function V(oe){return oe.endAngle}a(V,"arcEndAngle");function W(oe){return oe&&oe.padAngle}a(W,"arcPadAngle");function F(oe,Be,Le,Xe,ut,Ke,Et,nt){var Rt=Le-oe,jt=Xe-Be,Xt=Et-ut,lr=nt-Ke,Er=lr*Rt-Xt*jt;if(!(Er*Er<h))return Er=(Xt*(Be-Ke)-lr*(oe-ut))/Er,[oe+Er*Rt,Be+Er*jt]}a(F,"intersect");function B(oe,Be,Le,Xe,ut,Ke,Et){var nt=oe-Le,Rt=Be-Xe,jt=(Et?Ke:-Ke)/f(nt*nt+Rt*Rt),Xt=jt*Rt,lr=-jt*nt,Er=oe+Xt,Kr=Be+lr,Rr=Le+Xt,jr=Xe+lr,en=(Er+Rr)/2,Fn=(Kr+jr)/2,pn=Rr-Er,Dn=jr-Kr,gi=pn*pn+Dn*Dn,ca=ut-Ke,ci=Er*jr-Rr*Kr,Li=(Dn<0?-1:1)*f(o(0,ca*ca*gi-ci*ci)),za=(ci*Dn-pn*Li)/gi,Di=(-ci*pn-Dn*Li)/gi,la=(ci*Dn+pn*Li)/gi,Fi=(-ci*pn+Dn*Li)/gi,zr=za-en,rr=Di-Fn,mt=la-en,$t=Fi-Fn;return zr*zr+rr*rr>mt*mt+$t*$t&&(za=la,Di=Fi),{cx:za,cy:Di,x01:-Xt,y01:-lr,x11:za*(ut/ca-1),y11:Di*(ut/ca-1)}}a(B,"cornerTangents");function S(){var oe=z,Be=P,Le=r(0),Xe=null,ut=Q,Ke=V,Et=W,nt=null;function Rt(){var jt,Xt,lr=+oe.apply(this,arguments),Er=+Be.apply(this,arguments),Kr=ut.apply(this,arguments)-g,Rr=Ke.apply(this,arguments)-g,jr=n(Rr-Kr),en=Rr>Kr;if(nt||(nt=jt=t.path()),Er<lr&&(Xt=Er,Er=lr,lr=Xt),!(Er>h))nt.moveTo(0,0);else if(jr>y-h)nt.moveTo(Er*s(Kr),Er*u(Kr)),nt.arc(0,0,Er,Kr,Rr,!en),lr>h&&(nt.moveTo(lr*s(Rr),lr*u(Rr)),nt.arc(0,0,lr,Rr,Kr,en));else{var Fn=Kr,pn=Rr,Dn=Kr,gi=Rr,ca=jr,ci=jr,Li=Et.apply(this,arguments)/2,za=Li>h&&(Xe?+Xe.apply(this,arguments):f(lr*lr+Er*Er)),Di=l(n(Er-lr)/2,+Le.apply(this,arguments)),la=Di,Fi=Di,zr,rr;if(za>h){var mt=M(za/lr*u(Li)),$t=M(za/Er*u(Li));(ca-=mt*2)>h?(mt*=en?1:-1,Dn+=mt,gi-=mt):(ca=0,Dn=gi=(Kr+Rr)/2),(ci-=$t*2)>h?($t*=en?1:-1,Fn+=$t,pn-=$t):(ci=0,Fn=pn=(Kr+Rr)/2)}var or=Er*s(Fn),Xr=Er*u(Fn),li=lr*s(gi),ui=lr*u(gi);if(Di>h){var Mn=Er*s(pn),ka=Er*u(pn),Qn=lr*s(Dn),Fs=lr*u(Dn),Ca;if(jr<p&&(Ca=F(or,Xr,Qn,Fs,Mn,ka,li,ui))){var qo=or-Ca[0],_f=Xr-Ca[1],iu=Mn-Ca[0],is=ka-Ca[1],xf=1/u(E((qo*iu+_f*is)/(f(qo*qo+_f*_f)*f(iu*iu+is*is)))/2),Us=f(Ca[0]*Ca[0]+Ca[1]*Ca[1]);la=l(Di,(lr-Us)/(xf-1)),Fi=l(Di,(Er-Us)/(xf+1))}}ci>h?Fi>h?(zr=B(Qn,Fs,or,Xr,Er,Fi,en),rr=B(Mn,ka,li,ui,Er,Fi,en),nt.moveTo(zr.cx+zr.x01,zr.cy+zr.y01),Fi<Di?nt.arc(zr.cx,zr.cy,Fi,i(zr.y01,zr.x01),i(rr.y01,rr.x01),!en):(nt.arc(zr.cx,zr.cy,Fi,i(zr.y01,zr.x01),i(zr.y11,zr.x11),!en),nt.arc(0,0,Er,i(zr.cy+zr.y11,zr.cx+zr.x11),i(rr.cy+rr.y11,rr.cx+rr.x11),!en),nt.arc(rr.cx,rr.cy,Fi,i(rr.y11,rr.x11),i(rr.y01,rr.x01),!en))):(nt.moveTo(or,Xr),nt.arc(0,0,Er,Fn,pn,!en)):nt.moveTo(or,Xr),!(lr>h)||!(ca>h)?nt.lineTo(li,ui):la>h?(zr=B(li,ui,Mn,ka,lr,-la,en),rr=B(or,Xr,Qn,Fs,lr,-la,en),nt.lineTo(zr.cx+zr.x01,zr.cy+zr.y01),la<Di?nt.arc(zr.cx,zr.cy,la,i(zr.y01,zr.x01),i(rr.y01,rr.x01),!en):(nt.arc(zr.cx,zr.cy,la,i(zr.y01,zr.x01),i(zr.y11,zr.x11),!en),nt.arc(0,0,lr,i(zr.cy+zr.y11,zr.cx+zr.x11),i(rr.cy+rr.y11,rr.cx+rr.x11),en),nt.arc(rr.cx,rr.cy,la,i(rr.y11,rr.x11),i(rr.y01,rr.x01),!en))):nt.arc(0,0,lr,gi,Dn,en)}if(nt.closePath(),jt)return nt=null,jt+""||null}return a(Rt,"arc"),Rt.centroid=function(){var jt=(+oe.apply(this,arguments)+ +Be.apply(this,arguments))/2,Xt=(+ut.apply(this,arguments)+ +Ke.apply(this,arguments))/2-p/2;return[s(Xt)*jt,u(Xt)*jt]},Rt.innerRadius=function(jt){return arguments.length?(oe=typeof jt=="function"?jt:r(+jt),Rt):oe},Rt.outerRadius=function(jt){return arguments.length?(Be=typeof jt=="function"?jt:r(+jt),Rt):Be},Rt.cornerRadius=function(jt){return arguments.length?(Le=typeof jt=="function"?jt:r(+jt),Rt):Le},Rt.padRadius=function(jt){return arguments.length?(Xe=jt==null?null:typeof jt=="function"?jt:r(+jt),Rt):Xe},Rt.startAngle=function(jt){return arguments.length?(ut=typeof jt=="function"?jt:r(+jt),Rt):ut},Rt.endAngle=function(jt){return arguments.length?(Ke=typeof jt=="function"?jt:r(+jt),Rt):Ke},Rt.padAngle=function(jt){return arguments.length?(Et=typeof jt=="function"?jt:r(+jt),Rt):Et},Rt.context=function(jt){return arguments.length?(nt=jt??null,Rt):nt},Rt}a(S,"arc");function T(oe){this._context=oe}a(T,"Linear"),T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;default:this._context.lineTo(oe,Be);break}}};function k(oe){return new T(oe)}a(k,"curveLinear");function R(oe){return oe[0]}a(R,"x");function x(oe){return oe[1]}a(x,"y");function N(){var oe=R,Be=x,Le=r(!0),Xe=null,ut=k,Ke=null;function Et(nt){var Rt,jt=nt.length,Xt,lr=!1,Er;for(Xe==null&&(Ke=ut(Er=t.path())),Rt=0;Rt<=jt;++Rt)!(Rt<jt&&Le(Xt=nt[Rt],Rt,nt))===lr&&((lr=!lr)?Ke.lineStart():Ke.lineEnd()),lr&&Ke.point(+oe(Xt,Rt,nt),+Be(Xt,Rt,nt));if(Er)return Ke=null,Er+""||null}return a(Et,"line"),Et.x=function(nt){return arguments.length?(oe=typeof nt=="function"?nt:r(+nt),Et):oe},Et.y=function(nt){return arguments.length?(Be=typeof nt=="function"?nt:r(+nt),Et):Be},Et.defined=function(nt){return arguments.length?(Le=typeof nt=="function"?nt:r(!!nt),Et):Le},Et.curve=function(nt){return arguments.length?(ut=nt,Xe!=null&&(Ke=ut(Xe)),Et):ut},Et.context=function(nt){return arguments.length?(nt==null?Xe=Ke=null:Ke=ut(Xe=nt),Et):Xe},Et}a(N,"line");function m(){var oe=R,Be=null,Le=r(0),Xe=x,ut=r(!0),Ke=null,Et=k,nt=null;function Rt(Xt){var lr,Er,Kr,Rr=Xt.length,jr,en=!1,Fn,pn=new Array(Rr),Dn=new Array(Rr);for(Ke==null&&(nt=Et(Fn=t.path())),lr=0;lr<=Rr;++lr){if(!(lr<Rr&&ut(jr=Xt[lr],lr,Xt))===en)if(en=!en)Er=lr,nt.areaStart(),nt.lineStart();else{for(nt.lineEnd(),nt.lineStart(),Kr=lr-1;Kr>=Er;--Kr)nt.point(pn[Kr],Dn[Kr]);nt.lineEnd(),nt.areaEnd()}en&&(pn[lr]=+oe(jr,lr,Xt),Dn[lr]=+Le(jr,lr,Xt),nt.point(Be?+Be(jr,lr,Xt):pn[lr],Xe?+Xe(jr,lr,Xt):Dn[lr]))}if(Fn)return nt=null,Fn+""||null}a(Rt,"area");function jt(){return N().defined(ut).curve(Et).context(Ke)}return a(jt,"arealine"),Rt.x=function(Xt){return arguments.length?(oe=typeof Xt=="function"?Xt:r(+Xt),Be=null,Rt):oe},Rt.x0=function(Xt){return arguments.length?(oe=typeof Xt=="function"?Xt:r(+Xt),Rt):oe},Rt.x1=function(Xt){return arguments.length?(Be=Xt==null?null:typeof Xt=="function"?Xt:r(+Xt),Rt):Be},Rt.y=function(Xt){return arguments.length?(Le=typeof Xt=="function"?Xt:r(+Xt),Xe=null,Rt):Le},Rt.y0=function(Xt){return arguments.length?(Le=typeof Xt=="function"?Xt:r(+Xt),Rt):Le},Rt.y1=function(Xt){return arguments.length?(Xe=Xt==null?null:typeof Xt=="function"?Xt:r(+Xt),Rt):Xe},Rt.lineX0=Rt.lineY0=function(){return jt().x(oe).y(Le)},Rt.lineY1=function(){return jt().x(oe).y(Xe)},Rt.lineX1=function(){return jt().x(Be).y(Le)},Rt.defined=function(Xt){return arguments.length?(ut=typeof Xt=="function"?Xt:r(!!Xt),Rt):ut},Rt.curve=function(Xt){return arguments.length?(Et=Xt,Ke!=null&&(nt=Et(Ke)),Rt):Et},Rt.context=function(Xt){return arguments.length?(Xt==null?Ke=nt=null:nt=Et(Ke=Xt),Rt):Ke},Rt}a(m,"area");function v(oe,Be){return Be<oe?-1:Be>oe?1:Be>=oe?0:NaN}a(v,"descending");function A(oe){return oe}a(A,"identity");function U(){var oe=A,Be=v,Le=null,Xe=r(0),ut=r(y),Ke=r(0);function Et(nt){var Rt,jt=nt.length,Xt,lr,Er=0,Kr=new Array(jt),Rr=new Array(jt),jr=+Xe.apply(this,arguments),en=Math.min(y,Math.max(-y,ut.apply(this,arguments)-jr)),Fn,pn=Math.min(Math.abs(en)/jt,Ke.apply(this,arguments)),Dn=pn*(en<0?-1:1),gi;for(Rt=0;Rt<jt;++Rt)(gi=Rr[Kr[Rt]=Rt]=+oe(nt[Rt],Rt,nt))>0&&(Er+=gi);for(Be!=null?Kr.sort(function(ca,ci){return Be(Rr[ca],Rr[ci])}):Le!=null&&Kr.sort(function(ca,ci){return Le(nt[ca],nt[ci])}),Rt=0,lr=Er?(en-jt*Dn)/Er:0;Rt<jt;++Rt,jr=Fn)Xt=Kr[Rt],gi=Rr[Xt],Fn=jr+(gi>0?gi*lr:0)+Dn,Rr[Xt]={data:nt[Xt],index:Rt,value:gi,startAngle:jr,endAngle:Fn,padAngle:pn};return Rr}return a(Et,"pie"),Et.value=function(nt){return arguments.length?(oe=typeof nt=="function"?nt:r(+nt),Et):oe},Et.sortValues=function(nt){return arguments.length?(Be=nt,Le=null,Et):Be},Et.sort=function(nt){return arguments.length?(Le=nt,Be=null,Et):Le},Et.startAngle=function(nt){return arguments.length?(Xe=typeof nt=="function"?nt:r(+nt),Et):Xe},Et.endAngle=function(nt){return arguments.length?(ut=typeof nt=="function"?nt:r(+nt),Et):ut},Et.padAngle=function(nt){return arguments.length?(Ke=typeof nt=="function"?nt:r(+nt),Et):Ke},Et}a(U,"pie");var G=Z(k);function K(oe){this._curve=oe}a(K,"Radial"),K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(oe,Be){this._curve.point(Be*Math.sin(oe),Be*-Math.cos(oe))}};function Z(oe){function Be(Le){return new K(oe(Le))}return a(Be,"radial"),Be._curve=oe,Be}a(Z,"curveRadial");function O(oe){var Be=oe.curve;return oe.angle=oe.x,delete oe.x,oe.radius=oe.y,delete oe.y,oe.curve=function(Le){return arguments.length?Be(Z(Le)):Be()._curve},oe}a(O,"lineRadial");function $(){return O(N().curve(G))}a($,"lineRadial$1");function L(){var oe=m().curve(G),Be=oe.curve,Le=oe.lineX0,Xe=oe.lineX1,ut=oe.lineY0,Ke=oe.lineY1;return oe.angle=oe.x,delete oe.x,oe.startAngle=oe.x0,delete oe.x0,oe.endAngle=oe.x1,delete oe.x1,oe.radius=oe.y,delete oe.y,oe.innerRadius=oe.y0,delete oe.y0,oe.outerRadius=oe.y1,delete oe.y1,oe.lineStartAngle=function(){return O(Le())},delete oe.lineX0,oe.lineEndAngle=function(){return O(Xe())},delete oe.lineX1,oe.lineInnerRadius=function(){return O(ut())},delete oe.lineY0,oe.lineOuterRadius=function(){return O(Ke())},delete oe.lineY1,oe.curve=function(Et){return arguments.length?Be(Z(Et)):Be()._curve},oe}a(L,"areaRadial");function ee(oe,Be){return[(Be=+Be)*Math.cos(oe-=Math.PI/2),Be*Math.sin(oe)]}a(ee,"pointRadial");var ve=Array.prototype.slice;function ye(oe){return oe.source}a(ye,"linkSource");function se(oe){return oe.target}a(se,"linkTarget");function be(oe){var Be=ye,Le=se,Xe=R,ut=x,Ke=null;function Et(){var nt,Rt=ve.call(arguments),jt=Be.apply(this,Rt),Xt=Le.apply(this,Rt);if(Ke||(Ke=nt=t.path()),oe(Ke,+Xe.apply(this,(Rt[0]=jt,Rt)),+ut.apply(this,Rt),+Xe.apply(this,(Rt[0]=Xt,Rt)),+ut.apply(this,Rt)),nt)return Ke=null,nt+""||null}return a(Et,"link"),Et.source=function(nt){return arguments.length?(Be=nt,Et):Be},Et.target=function(nt){return arguments.length?(Le=nt,Et):Le},Et.x=function(nt){return arguments.length?(Xe=typeof nt=="function"?nt:r(+nt),Et):Xe},Et.y=function(nt){return arguments.length?(ut=typeof nt=="function"?nt:r(+nt),Et):ut},Et.context=function(nt){return arguments.length?(Ke=nt??null,Et):Ke},Et}a(be,"link");function Y(oe,Be,Le,Xe,ut){oe.moveTo(Be,Le),oe.bezierCurveTo(Be=(Be+Xe)/2,Le,Be,ut,Xe,ut)}a(Y,"curveHorizontal");function D(oe,Be,Le,Xe,ut){oe.moveTo(Be,Le),oe.bezierCurveTo(Be,Le=(Le+ut)/2,Xe,Le,Xe,ut)}a(D,"curveVertical");function J(oe,Be,Le,Xe,ut){var Ke=ee(Be,Le),Et=ee(Be,Le=(Le+ut)/2),nt=ee(Xe,Le),Rt=ee(Xe,ut);oe.moveTo(Ke[0],Ke[1]),oe.bezierCurveTo(Et[0],Et[1],nt[0],nt[1],Rt[0],Rt[1])}a(J,"curveRadial$1");function q(){return be(Y)}a(q,"linkHorizontal");function I(){return be(D)}a(I,"linkVertical");function H(){var oe=be(J);return oe.angle=oe.x,delete oe.x,oe.radius=oe.y,delete oe.y,oe}a(H,"linkRadial");var te={draw:function(oe,Be){var Le=Math.sqrt(Be/p);oe.moveTo(Le,0),oe.arc(0,0,Le,0,y)}},ie={draw:function(oe,Be){var Le=Math.sqrt(Be/5)/2;oe.moveTo(-3*Le,-Le),oe.lineTo(-Le,-Le),oe.lineTo(-Le,-3*Le),oe.lineTo(Le,-3*Le),oe.lineTo(Le,-Le),oe.lineTo(3*Le,-Le),oe.lineTo(3*Le,Le),oe.lineTo(Le,Le),oe.lineTo(Le,3*Le),oe.lineTo(-Le,3*Le),oe.lineTo(-Le,Le),oe.lineTo(-3*Le,Le),oe.closePath()}},he=Math.sqrt(1/3),De=he*2,$e={draw:function(oe,Be){var Le=Math.sqrt(Be/De),Xe=Le*he;oe.moveTo(0,-Le),oe.lineTo(Xe,0),oe.lineTo(0,Le),oe.lineTo(-Xe,0),oe.closePath()}},ze=.8908130915292852,Qe=Math.sin(p/10)/Math.sin(7*p/10),je=Math.sin(y/10)*Qe,We=-Math.cos(y/10)*Qe,Ce={draw:function(oe,Be){var Le=Math.sqrt(Be*ze),Xe=je*Le,ut=We*Le;oe.moveTo(0,-Le),oe.lineTo(Xe,ut);for(var Ke=1;Ke<5;++Ke){var Et=y*Ke/5,nt=Math.cos(Et),Rt=Math.sin(Et);oe.lineTo(Rt*Le,-nt*Le),oe.lineTo(nt*Xe-Rt*ut,Rt*Xe+nt*ut)}oe.closePath()}},Te={draw:function(oe,Be){var Le=Math.sqrt(Be),Xe=-Le/2;oe.rect(Xe,Xe,Le,Le)}},Je=Math.sqrt(3),rt={draw:function(oe,Be){var Le=-Math.sqrt(Be/(Je*3));oe.moveTo(0,Le*2),oe.lineTo(-Je*Le,-Le),oe.lineTo(Je*Le,-Le),oe.closePath()}},ge=-.5,xe=Math.sqrt(3)/2,qe=1/Math.sqrt(12),ot=(qe/2+1)*3,at={draw:function(oe,Be){var Le=Math.sqrt(Be/ot),Xe=Le/2,ut=Le*qe,Ke=Xe,Et=Le*qe+Le,nt=-Ke,Rt=Et;oe.moveTo(Xe,ut),oe.lineTo(Ke,Et),oe.lineTo(nt,Rt),oe.lineTo(ge*Xe-xe*ut,xe*Xe+ge*ut),oe.lineTo(ge*Ke-xe*Et,xe*Ke+ge*Et),oe.lineTo(ge*nt-xe*Rt,xe*nt+ge*Rt),oe.lineTo(ge*Xe+xe*ut,ge*ut-xe*Xe),oe.lineTo(ge*Ke+xe*Et,ge*Et-xe*Ke),oe.lineTo(ge*nt+xe*Rt,ge*Rt-xe*nt),oe.closePath()}},pe=[te,ie,$e,Te,Ce,rt,at];function Re(){var oe=r(te),Be=r(64),Le=null;function Xe(){var ut;if(Le||(Le=ut=t.path()),oe.apply(this,arguments).draw(Le,+Be.apply(this,arguments)),ut)return Le=null,ut+""||null}return a(Xe,"symbol"),Xe.type=function(ut){return arguments.length?(oe=typeof ut=="function"?ut:r(ut),Xe):oe},Xe.size=function(ut){return arguments.length?(Be=typeof ut=="function"?ut:r(+ut),Xe):Be},Xe.context=function(ut){return arguments.length?(Le=ut??null,Xe):Le},Xe}a(Re,"symbol");function He(){}a(He,"noop");function tt(oe,Be,Le){oe._context.bezierCurveTo((2*oe._x0+oe._x1)/3,(2*oe._y0+oe._y1)/3,(oe._x0+2*oe._x1)/3,(oe._y0+2*oe._y1)/3,(oe._x0+4*oe._x1+Be)/6,(oe._y0+4*oe._y1+Le)/6)}a(tt,"point");function Ve(oe){this._context=oe}a(Ve,"Basis"),Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function et(oe){return new Ve(oe)}a(et,"basis");function gt(oe){this._context=oe}a(gt,"BasisClosed"),gt.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._x2=oe,this._y2=Be;break;case 1:this._point=2,this._x3=oe,this._y3=Be;break;case 2:this._point=3,this._x4=oe,this._y4=Be,this._context.moveTo((this._x0+4*this._x1+oe)/6,(this._y0+4*this._y1+Be)/6);break;default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function lt(oe){return new gt(oe)}a(lt,"basisClosed");function zt(oe){this._context=oe}a(zt,"BasisOpen"),zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Le=(this._x0+4*this._x1+oe)/6,Xe=(this._y0+4*this._y1+Be)/6;this._line?this._context.lineTo(Le,Xe):this._context.moveTo(Le,Xe);break;case 3:this._point=4;default:tt(this,oe,Be);break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be}};function it(oe){return new zt(oe)}a(it,"basisOpen");function Wt(oe,Be){this._basis=new Ve(oe),this._beta=Be}a(Wt,"Bundle"),Wt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var oe=this._x,Be=this._y,Le=oe.length-1;if(Le>0)for(var Xe=oe[0],ut=Be[0],Ke=oe[Le]-Xe,Et=Be[Le]-ut,nt=-1,Rt;++nt<=Le;)Rt=nt/Le,this._basis.point(this._beta*oe[nt]+(1-this._beta)*(Xe+Rt*Ke),this._beta*Be[nt]+(1-this._beta)*(ut+Rt*Et));this._x=this._y=null,this._basis.lineEnd()},point:function(oe,Be){this._x.push(+oe),this._y.push(+Be)}};var bt=a(function oe(Be){function Le(Xe){return Be===1?new Ve(Xe):new Wt(Xe,Be)}return a(Le,"bundle"),Le.beta=function(Xe){return oe(+Xe)},Le},"custom")(.85);function Se(oe,Be,Le){oe._context.bezierCurveTo(oe._x1+oe._k*(oe._x2-oe._x0),oe._y1+oe._k*(oe._y2-oe._y0),oe._x2+oe._k*(oe._x1-Be),oe._y2+oe._k*(oe._y1-Le),oe._x2,oe._y2)}a(Se,"point$1");function Ie(oe,Be){this._context=oe,this._k=(1-Be)/6}a(Ie,"Cardinal"),Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Se(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2,this._x1=oe,this._y1=Be;break;case 2:this._point=3;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var le=a(function oe(Be){function Le(Xe){return new Ie(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function _e(oe,Be){this._context=oe,this._k=(1-Be)/6}a(_e,"CardinalClosed"),_e.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._x3=oe,this._y3=Be;break;case 1:this._point=2,this._context.moveTo(this._x4=oe,this._y4=Be);break;case 2:this._point=3,this._x5=oe,this._y5=Be;break;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var ae=a(function oe(Be){function Le(Xe){return new _e(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function ce(oe,Be){this._context=oe,this._k=(1-Be)/6}a(ce,"CardinalOpen"),ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Se(this,oe,Be);break}this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var re=a(function oe(Be){function Le(Xe){return new ce(Xe,Be)}return a(Le,"cardinal"),Le.tension=function(Xe){return oe(+Xe)},Le},"custom")(0);function ue(oe,Be,Le){var Xe=oe._x1,ut=oe._y1,Ke=oe._x2,Et=oe._y2;if(oe._l01_a>h){var nt=2*oe._l01_2a+3*oe._l01_a*oe._l12_a+oe._l12_2a,Rt=3*oe._l01_a*(oe._l01_a+oe._l12_a);Xe=(Xe*nt-oe._x0*oe._l12_2a+oe._x2*oe._l01_2a)/Rt,ut=(ut*nt-oe._y0*oe._l12_2a+oe._y2*oe._l01_2a)/Rt}if(oe._l23_a>h){var jt=2*oe._l23_2a+3*oe._l23_a*oe._l12_a+oe._l12_2a,Xt=3*oe._l23_a*(oe._l23_a+oe._l12_a);Ke=(Ke*jt+oe._x1*oe._l23_2a-Be*oe._l12_2a)/Xt,Et=(Et*jt+oe._y1*oe._l23_2a-Le*oe._l12_2a)/Xt}oe._context.bezierCurveTo(Xe,ut,Ke,Et,oe._x2,oe._y2)}a(ue,"point$2");function me(oe,Be){this._context=oe,this._alpha=Be}a(me,"CatmullRom"),me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3;default:ue(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var Ae=a(function oe(Be){function Le(Xe){return Be?new me(Xe,Be):new Ie(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function Oe(oe,Be){this._context=oe,this._alpha=Be}a(Oe,"CatmullRomClosed"),Oe.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=oe,this._y3=Be;break;case 1:this._point=2,this._context.moveTo(this._x4=oe,this._y4=Be);break;case 2:this._point=3,this._x5=oe,this._y5=Be;break;default:ue(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var Ge=a(function oe(Be){function Le(Xe){return Be?new Oe(Xe,Be):new _e(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function ke(oe,Be){this._context=oe,this._alpha=Be}a(ke,"CatmullRomOpen"),ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){if(oe=+oe,Be=+Be,this._point){var Le=this._x2-oe,Xe=this._y2-Be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Le*Le+Xe*Xe,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ue(this,oe,Be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=oe,this._y0=this._y1,this._y1=this._y2,this._y2=Be}};var st=a(function oe(Be){function Le(Xe){return Be?new ke(Xe,Be):new ce(Xe,0)}return a(Le,"catmullRom"),Le.alpha=function(Xe){return oe(+Xe)},Le},"custom")(.5);function yt(oe){this._context=oe}a(yt,"LinearClosed"),yt.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(oe,Be){oe=+oe,Be=+Be,this._point?this._context.lineTo(oe,Be):(this._point=1,this._context.moveTo(oe,Be))}};function pt(oe){return new yt(oe)}a(pt,"linearClosed");function wt(oe){return oe<0?-1:1}a(wt,"sign");function Gt(oe,Be,Le){var Xe=oe._x1-oe._x0,ut=Be-oe._x1,Ke=(oe._y1-oe._y0)/(Xe||ut<0&&-0),Et=(Le-oe._y1)/(ut||Xe<0&&-0),nt=(Ke*ut+Et*Xe)/(Xe+ut);return(wt(Ke)+wt(Et))*Math.min(Math.abs(Ke),Math.abs(Et),.5*Math.abs(nt))||0}a(Gt,"slope3");function Pt(oe,Be){var Le=oe._x1-oe._x0;return Le?(3*(oe._y1-oe._y0)/Le-Be)/2:Be}a(Pt,"slope2");function tr(oe,Be,Le){var Xe=oe._x0,ut=oe._y0,Ke=oe._x1,Et=oe._y1,nt=(Ke-Xe)/3;oe._context.bezierCurveTo(Xe+nt,ut+nt*Be,Ke-nt,Et-nt*Le,Ke,Et)}a(tr,"point$3");function cr(oe){this._context=oe}a(cr,"MonotoneX"),cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tr(this,this._t0,Pt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(oe,Be){var Le=NaN;if(oe=+oe,Be=+Be,!(oe===this._x1&&Be===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;break;case 2:this._point=3,tr(this,Pt(this,Le=Gt(this,oe,Be)),Le);break;default:tr(this,this._t0,Le=Gt(this,oe,Be));break}this._x0=this._x1,this._x1=oe,this._y0=this._y1,this._y1=Be,this._t0=Le}}};function pr(oe){this._context=new Cr(oe)}a(pr,"MonotoneY"),(pr.prototype=Object.create(cr.prototype)).point=function(oe,Be){cr.prototype.point.call(this,Be,oe)};function Cr(oe){this._context=oe}a(Cr,"ReflectContext"),Cr.prototype={moveTo:function(oe,Be){this._context.moveTo(Be,oe)},closePath:function(){this._context.closePath()},lineTo:function(oe,Be){this._context.lineTo(Be,oe)},bezierCurveTo:function(oe,Be,Le,Xe,ut,Ke){this._context.bezierCurveTo(Be,oe,Xe,Le,Ke,ut)}};function Qr(oe){return new cr(oe)}a(Qr,"monotoneX");function Tr(oe){return new pr(oe)}a(Tr,"monotoneY");function ur(oe){this._context=oe}a(ur,"Natural"),ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var oe=this._x,Be=this._y,Le=oe.length;if(Le)if(this._line?this._context.lineTo(oe[0],Be[0]):this._context.moveTo(oe[0],Be[0]),Le===2)this._context.lineTo(oe[1],Be[1]);else for(var Xe=fr(oe),ut=fr(Be),Ke=0,Et=1;Et<Le;++Ke,++Et)this._context.bezierCurveTo(Xe[0][Ke],ut[0][Ke],Xe[1][Ke],ut[1][Ke],oe[Et],Be[Et]);(this._line||this._line!==0&&Le===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(oe,Be){this._x.push(+oe),this._y.push(+Be)}};function fr(oe){var Be,Le=oe.length-1,Xe,ut=new Array(Le),Ke=new Array(Le),Et=new Array(Le);for(ut[0]=0,Ke[0]=2,Et[0]=oe[0]+2*oe[1],Be=1;Be<Le-1;++Be)ut[Be]=1,Ke[Be]=4,Et[Be]=4*oe[Be]+2*oe[Be+1];for(ut[Le-1]=2,Ke[Le-1]=7,Et[Le-1]=8*oe[Le-1]+oe[Le],Be=1;Be<Le;++Be)Xe=ut[Be]/Ke[Be-1],Ke[Be]-=Xe,Et[Be]-=Xe*Et[Be-1];for(ut[Le-1]=Et[Le-1]/Ke[Le-1],Be=Le-2;Be>=0;--Be)ut[Be]=(Et[Be]-ut[Be+1])/Ke[Be];for(Ke[Le-1]=(oe[Le]+ut[Le-1])/2,Be=0;Be<Le-1;++Be)Ke[Be]=2*oe[Be+1]-ut[Be+1];return[ut,Ke]}a(fr,"controlPoints");function Mr(oe){return new ur(oe)}a(Mr,"natural");function Br(oe,Be){this._context=oe,this._t=Be}a(Br,"Step"),Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(oe,Be){switch(oe=+oe,Be=+Be,this._point){case 0:this._point=1,this._line?this._context.lineTo(oe,Be):this._context.moveTo(oe,Be);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Be),this._context.lineTo(oe,Be);else{var Le=this._x*(1-this._t)+oe*this._t;this._context.lineTo(Le,this._y),this._context.lineTo(Le,Be)}break}}this._x=oe,this._y=Be}};function Ne(oe){return new Br(oe,.5)}a(Ne,"step");function Ze(oe){return new Br(oe,0)}a(Ze,"stepBefore");function Tt(oe){return new Br(oe,1)}a(Tt,"stepAfter");function Ft(oe,Be){if((Et=oe.length)>1)for(var Le=1,Xe,ut,Ke=oe[Be[0]],Et,nt=Ke.length;Le<Et;++Le)for(ut=Ke,Ke=oe[Be[Le]],Xe=0;Xe<nt;++Xe)Ke[Xe][1]+=Ke[Xe][0]=isNaN(ut[Xe][1])?ut[Xe][0]:ut[Xe][1]}a(Ft,"none");function At(oe){for(var Be=oe.length,Le=new Array(Be);--Be>=0;)Le[Be]=Be;return Le}a(At,"none$1");function Ot(oe,Be){return oe[Be]}a(Ot,"stackValue");function Vt(){var oe=r([]),Be=At,Le=Ft,Xe=Ot;function ut(Ke){var Et=oe.apply(this,arguments),nt,Rt=Ke.length,jt=Et.length,Xt=new Array(jt),lr;for(nt=0;nt<jt;++nt){for(var Er=Et[nt],Kr=Xt[nt]=new Array(Rt),Rr=0,jr;Rr<Rt;++Rr)Kr[Rr]=jr=[0,+Xe(Ke[Rr],Er,Rr,Ke)],jr.data=Ke[Rr];Kr.key=Er}for(nt=0,lr=Be(Xt);nt<jt;++nt)Xt[lr[nt]].index=nt;return Le(Xt,lr),Xt}return a(ut,"stack"),ut.keys=function(Ke){return arguments.length?(oe=typeof Ke=="function"?Ke:r(ve.call(Ke)),ut):oe},ut.value=function(Ke){return arguments.length?(Xe=typeof Ke=="function"?Ke:r(+Ke),ut):Xe},ut.order=function(Ke){return arguments.length?(Be=Ke==null?At:typeof Ke=="function"?Ke:r(ve.call(Ke)),ut):Be},ut.offset=function(Ke){return arguments.length?(Le=Ke??Ft,ut):Le},ut}a(Vt,"stack");function Ct(oe,Be){if((Xe=oe.length)>0){for(var Le,Xe,ut=0,Ke=oe[0].length,Et;ut<Ke;++ut){for(Et=Le=0;Le<Xe;++Le)Et+=oe[Le][ut][1]||0;if(Et)for(Le=0;Le<Xe;++Le)oe[Le][ut][1]/=Et}Ft(oe,Be)}}a(Ct,"expand");function er(oe,Be){if((Rt=oe.length)>0)for(var Le,Xe=0,ut,Ke,Et,nt,Rt,jt=oe[Be[0]].length;Xe<jt;++Xe)for(Et=nt=0,Le=0;Le<Rt;++Le)(Ke=(ut=oe[Be[Le]][Xe])[1]-ut[0])>0?(ut[0]=Et,ut[1]=Et+=Ke):Ke<0?(ut[1]=nt,ut[0]=nt+=Ke):(ut[0]=0,ut[1]=Ke)}a(er,"diverging");function Ue(oe,Be){if((ut=oe.length)>0){for(var Le=0,Xe=oe[Be[0]],ut,Ke=Xe.length;Le<Ke;++Le){for(var Et=0,nt=0;Et<ut;++Et)nt+=oe[Et][Le][1]||0;Xe[Le][1]+=Xe[Le][0]=-nt/2}Ft(oe,Be)}}a(Ue,"silhouette");function Ir(oe,Be){if(!(!((Et=oe.length)>0)||!((Ke=(ut=oe[Be[0]]).length)>0))){for(var Le=0,Xe=1,ut,Ke,Et;Xe<Ke;++Xe){for(var nt=0,Rt=0,jt=0;nt<Et;++nt){for(var Xt=oe[Be[nt]],lr=Xt[Xe][1]||0,Er=Xt[Xe-1][1]||0,Kr=(lr-Er)/2,Rr=0;Rr<nt;++Rr){var jr=oe[Be[Rr]],en=jr[Xe][1]||0,Fn=jr[Xe-1][1]||0;Kr+=en-Fn}Rt+=lr,jt+=Kr*lr}ut[Xe-1][1]+=ut[Xe-1][0]=Le,Rt&&(Le-=jt/Rt)}ut[Xe-1][1]+=ut[Xe-1][0]=Le,Ft(oe,Be)}}a(Ir,"wiggle");function ct(oe){var Be=oe.map(xn);return At(oe).sort(function(Le,Xe){return Be[Le]-Be[Xe]})}a(ct,"appearance");function xn(oe){for(var Be=-1,Le=0,Xe=oe.length,ut,Ke=-1/0;++Be<Xe;)(ut=+oe[Be][1])>Ke&&(Ke=ut,Le=Be);return Le}a(xn,"peak");function Tn(oe){var Be=oe.map(Pi);return At(oe).sort(function(Le,Xe){return Be[Le]-Be[Xe]})}a(Tn,"ascending");function Pi(oe){for(var Be=0,Le=-1,Xe=oe.length,ut;++Le<Xe;)(ut=+oe[Le][1])&&(Be+=ut);return Be}a(Pi,"sum");function Ya(oe){return Tn(oe).reverse()}a(Ya,"descending$1");function Ha(oe){var Be=oe.length,Le,Xe,ut=oe.map(Pi),Ke=ct(oe),Et=0,nt=0,Rt=[],jt=[];for(Le=0;Le<Be;++Le)Xe=Ke[Le],Et<nt?(Et+=ut[Xe],Rt.push(Xe)):(nt+=ut[Xe],jt.push(Xe));return jt.reverse().concat(Rt)}a(Ha,"insideOut");function un(oe){return At(oe).reverse()}a(un,"reverse"),e.arc=S,e.area=m,e.areaRadial=L,e.curveBasis=et,e.curveBasisClosed=lt,e.curveBasisOpen=it,e.curveBundle=bt,e.curveCardinal=le,e.curveCardinalClosed=ae,e.curveCardinalOpen=re,e.curveCatmullRom=Ae,e.curveCatmullRomClosed=Ge,e.curveCatmullRomOpen=st,e.curveLinear=k,e.curveLinearClosed=pt,e.curveMonotoneX=Qr,e.curveMonotoneY=Tr,e.curveNatural=Mr,e.curveStep=Ne,e.curveStepAfter=Tt,e.curveStepBefore=Ze,e.line=N,e.lineRadial=$,e.linkHorizontal=q,e.linkRadial=H,e.linkVertical=I,e.pie=U,e.pointRadial=ee,e.radialArea=L,e.radialLine=$,e.stack=Vt,e.stackOffsetDiverging=er,e.stackOffsetExpand=Ct,e.stackOffsetNone=Ft,e.stackOffsetSilhouette=Ue,e.stackOffsetWiggle=Ir,e.stackOrderAppearance=ct,e.stackOrderAscending=Tn,e.stackOrderDescending=Ya,e.stackOrderInsideOut=Ha,e.stackOrderNone=At,e.stackOrderReverse=un,e.symbol=Re,e.symbolCircle=te,e.symbolCross=ie,e.symbolDiamond=$e,e.symbolSquare=Te,e.symbolStar=Ce,e.symbolTriangle=rt,e.symbolWye=at,e.symbols=pe,Object.defineProperty(e,"__esModule",{value:!0})})});var DMe=j((ZT,LMe)=>{d();(function(e,t){typeof ZT=="object"&&typeof LMe<"u"?t(ZT):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(ZT,function(e){"use strict";function t(Y){return function(){return Y}}a(t,"constant");function r(Y){return Y[0]}a(r,"x");function n(Y){return Y[1]}a(n,"y");function i(){this._=null}a(i,"RedBlackTree");function s(Y){Y.U=Y.C=Y.L=Y.R=Y.P=Y.N=null}a(s,"RedBlackNode"),i.prototype={constructor:i,insert:function(Y,D){var J,q,I;if(Y){if(D.P=Y,D.N=Y.N,Y.N&&(Y.N.P=D),Y.N=D,Y.R){for(Y=Y.R;Y.L;)Y=Y.L;Y.L=D}else Y.R=D;J=Y}else this._?(Y=u(this._),D.P=null,D.N=Y,Y.P=Y.L=D,J=Y):(D.P=D.N=null,this._=D,J=null);for(D.L=D.R=null,D.U=J,D.C=!0,Y=D;J&&J.C;)q=J.U,J===q.L?(I=q.R,I&&I.C?(J.C=I.C=!1,q.C=!0,Y=q):(Y===J.R&&(o(this,J),Y=J,J=Y.U),J.C=!1,q.C=!0,l(this,q))):(I=q.L,I&&I.C?(J.C=I.C=!1,q.C=!0,Y=q):(Y===J.L&&(l(this,J),Y=J,J=Y.U),J.C=!1,q.C=!0,o(this,q))),J=Y.U;this._.C=!1},remove:function(Y){Y.N&&(Y.N.P=Y.P),Y.P&&(Y.P.N=Y.N),Y.N=Y.P=null;var D=Y.U,J,q=Y.L,I=Y.R,H,te;if(q?I?H=u(I):H=q:H=I,D?D.L===Y?D.L=H:D.R=H:this._=H,q&&I?(te=H.C,H.C=Y.C,H.L=q,q.U=H,H!==I?(D=H.U,H.U=Y.U,Y=H.R,D.L=Y,H.R=I,I.U=H):(H.U=D,D=H,Y=H.R)):(te=Y.C,Y=H),Y&&(Y.U=D),!te){if(Y&&Y.C){Y.C=!1;return}do{if(Y===this._)break;if(Y===D.L){if(J=D.R,J.C&&(J.C=!1,D.C=!0,o(this,D),J=D.R),J.L&&J.L.C||J.R&&J.R.C){(!J.R||!J.R.C)&&(J.L.C=!1,J.C=!0,l(this,J),J=D.R),J.C=D.C,D.C=J.R.C=!1,o(this,D),Y=this._;break}}else if(J=D.L,J.C&&(J.C=!1,D.C=!0,l(this,D),J=D.L),J.L&&J.L.C||J.R&&J.R.C){(!J.L||!J.L.C)&&(J.R.C=!1,J.C=!0,o(this,J),J=D.L),J.C=D.C,D.C=J.L.C=!1,l(this,D),Y=this._;break}J.C=!0,Y=D,D=D.U}while(!Y.C);Y&&(Y.C=!1)}}};function o(Y,D){var J=D,q=D.R,I=J.U;I?I.L===J?I.L=q:I.R=q:Y._=q,q.U=I,J.U=q,J.R=q.L,J.R&&(J.R.U=J),q.L=J}a(o,"RedBlackRotateLeft");function l(Y,D){var J=D,q=D.L,I=J.U;I?I.L===J?I.L=q:I.R=q:Y._=q,q.U=I,J.U=q,J.L=q.R,J.L&&(J.L.U=J),q.R=J}a(l,"RedBlackRotateRight");function u(Y){for(;Y.L;)Y=Y.L;return Y}a(u,"RedBlackFirst");function f(Y,D,J,q){var I=[null,null],H=ee.push(I)-1;return I.left=Y,I.right=D,J&&p(I,Y,D,J),q&&p(I,D,Y,q),$[Y.index].halfedges.push(H),$[D.index].halfedges.push(H),I}a(f,"createEdge");function h(Y,D,J){var q=[D,J];return q.left=Y,q}a(h,"createBorderEdge");function p(Y,D,J,q){!Y[0]&&!Y[1]?(Y[0]=q,Y.left=D,Y.right=J):Y.left===J?Y[1]=q:Y[0]=q}a(p,"setEdgeEnd");function g(Y,D,J,q,I){var H=Y[0],te=Y[1],ie=H[0],he=H[1],De=te[0],$e=te[1],ze=0,Qe=1,je=De-ie,We=$e-he,Ce;if(Ce=D-ie,!(!je&&Ce>0)){if(Ce/=je,je<0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}else if(je>0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}if(Ce=q-ie,!(!je&&Ce<0)){if(Ce/=je,je<0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}else if(je>0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}if(Ce=J-he,!(!We&&Ce>0)){if(Ce/=We,We<0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}else if(We>0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}if(Ce=I-he,!(!We&&Ce<0)){if(Ce/=We,We<0){if(Ce>Qe)return;Ce>ze&&(ze=Ce)}else if(We>0){if(Ce<ze)return;Ce<Qe&&(Qe=Ce)}return!(ze>0)&&!(Qe<1)||(ze>0&&(Y[0]=[ie+ze*je,he+ze*We]),Qe<1&&(Y[1]=[ie+Qe*je,he+Qe*We])),!0}}}}}a(g,"clipEdge");function y(Y,D,J,q,I){var H=Y[1];if(H)return!0;var te=Y[0],ie=Y.left,he=Y.right,De=ie[0],$e=ie[1],ze=he[0],Qe=he[1],je=(De+ze)/2,We=($e+Qe)/2,Ce,Te;if(Qe===$e){if(je<D||je>=q)return;if(De>ze){if(!te)te=[je,J];else if(te[1]>=I)return;H=[je,I]}else{if(!te)te=[je,I];else if(te[1]<J)return;H=[je,J]}}else if(Ce=(De-ze)/(Qe-$e),Te=We-Ce*je,Ce<-1||Ce>1)if(De>ze){if(!te)te=[(J-Te)/Ce,J];else if(te[1]>=I)return;H=[(I-Te)/Ce,I]}else{if(!te)te=[(I-Te)/Ce,I];else if(te[1]<J)return;H=[(J-Te)/Ce,J]}else if($e<Qe){if(!te)te=[D,Ce*D+Te];else if(te[0]>=q)return;H=[q,Ce*q+Te]}else{if(!te)te=[q,Ce*q+Te];else if(te[0]<D)return;H=[D,Ce*D+Te]}return Y[0]=te,Y[1]=H,!0}a(y,"connectEdge");function E(Y,D,J,q){for(var I=ee.length,H;I--;)(!y(H=ee[I],Y,D,J,q)||!g(H,Y,D,J,q)||!(Math.abs(H[0][0]-H[1][0])>K||Math.abs(H[0][1]-H[1][1])>K))&&delete ee[I]}a(E,"clipEdges");function M(Y){return $[Y.index]={site:Y,halfedges:[]}}a(M,"createCell");function z(Y,D){var J=Y.site,q=D.left,I=D.right;return J===I&&(I=q,q=J),I?Math.atan2(I[1]-q[1],I[0]-q[0]):(J===q?(q=D[1],I=D[0]):(q=D[0],I=D[1]),Math.atan2(q[0]-I[0],I[1]-q[1]))}a(z,"cellHalfedgeAngle");function P(Y,D){return D[+(D.left!==Y.site)]}a(P,"cellHalfedgeStart");function Q(Y,D){return D[+(D.left===Y.site)]}a(Q,"cellHalfedgeEnd");function V(){for(var Y=0,D=$.length,J,q,I,H;Y<D;++Y)if((J=$[Y])&&(H=(q=J.halfedges).length)){var te=new Array(H),ie=new Array(H);for(I=0;I<H;++I)te[I]=I,ie[I]=z(J,ee[q[I]]);for(te.sort(function(he,De){return ie[De]-ie[he]}),I=0;I<H;++I)ie[I]=q[te[I]];for(I=0;I<H;++I)q[I]=ie[I]}}a(V,"sortCellHalfedges");function W(Y,D,J,q){var I=$.length,H,te,ie,he,De,$e,ze,Qe,je,We,Ce,Te,Je=!0;for(H=0;H<I;++H)if(te=$[H]){for(ie=te.site,De=te.halfedges,he=De.length;he--;)ee[De[he]]||De.splice(he,1);for(he=0,$e=De.length;he<$e;)We=Q(te,ee[De[he]]),Ce=We[0],Te=We[1],ze=P(te,ee[De[++he%$e]]),Qe=ze[0],je=ze[1],(Math.abs(Ce-Qe)>K||Math.abs(Te-je)>K)&&(De.splice(he,0,ee.push(h(ie,We,Math.abs(Ce-Y)<K&&q-Te>K?[Y,Math.abs(Qe-Y)<K?je:q]:Math.abs(Te-q)<K&&J-Ce>K?[Math.abs(je-q)<K?Qe:J,q]:Math.abs(Ce-J)<K&&Te-D>K?[J,Math.abs(Qe-J)<K?je:D]:Math.abs(Te-D)<K&&Ce-Y>K?[Math.abs(je-D)<K?Qe:Y,D]:null))-1),++$e);$e&&(Je=!1)}if(Je){var rt,ge,xe,qe=1/0;for(H=0,Je=null;H<I;++H)(te=$[H])&&(ie=te.site,rt=ie[0]-Y,ge=ie[1]-D,xe=rt*rt+ge*ge,xe<qe&&(qe=xe,Je=te));if(Je){var ot=[Y,D],at=[Y,q],pe=[J,q],Re=[J,D];Je.halfedges.push(ee.push(h(ie=Je.site,ot,at))-1,ee.push(h(ie,at,pe))-1,ee.push(h(ie,pe,Re))-1,ee.push(h(ie,Re,ot))-1)}}for(H=0;H<I;++H)(te=$[H])&&(te.halfedges.length||delete $[H])}a(W,"clipCells");var F=[],B;function S(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}a(S,"Circle");function T(Y){var D=Y.P,J=Y.N;if(!(!D||!J)){var q=D.site,I=Y.site,H=J.site;if(q!==H){var te=I[0],ie=I[1],he=q[0]-te,De=q[1]-ie,$e=H[0]-te,ze=H[1]-ie,Qe=2*(he*ze-De*$e);if(!(Qe>=-Z)){var je=he*he+De*De,We=$e*$e+ze*ze,Ce=(ze*je-De*We)/Qe,Te=(he*We-$e*je)/Qe,Je=F.pop()||new S;Je.arc=Y,Je.site=I,Je.x=Ce+te,Je.y=(Je.cy=Te+ie)+Math.sqrt(Ce*Ce+Te*Te),Y.circle=Je;for(var rt=null,ge=L._;ge;)if(Je.y<ge.y||Je.y===ge.y&&Je.x<=ge.x)if(ge.L)ge=ge.L;else{rt=ge.P;break}else if(ge.R)ge=ge.R;else{rt=ge;break}L.insert(rt,Je),rt||(B=Je)}}}}a(T,"attachCircle");function k(Y){var D=Y.circle;D&&(D.P||(B=D.N),L.remove(D),F.push(D),s(D),Y.circle=null)}a(k,"detachCircle");var R=[];function x(){s(this),this.edge=this.site=this.circle=null}a(x,"Beach");function N(Y){var D=R.pop()||new x;return D.site=Y,D}a(N,"createBeach");function m(Y){k(Y),O.remove(Y),R.push(Y),s(Y)}a(m,"detachBeach");function v(Y){var D=Y.circle,J=D.x,q=D.cy,I=[J,q],H=Y.P,te=Y.N,ie=[Y];m(Y);for(var he=H;he.circle&&Math.abs(J-he.circle.x)<K&&Math.abs(q-he.circle.cy)<K;)H=he.P,ie.unshift(he),m(he),he=H;ie.unshift(he),k(he);for(var De=te;De.circle&&Math.abs(J-De.circle.x)<K&&Math.abs(q-De.circle.cy)<K;)te=De.N,ie.push(De),m(De),De=te;ie.push(De),k(De);var $e=ie.length,ze;for(ze=1;ze<$e;++ze)De=ie[ze],he=ie[ze-1],p(De.edge,he.site,De.site,I);he=ie[0],De=ie[$e-1],De.edge=f(he.site,De.site,null,I),T(he),T(De)}a(v,"removeBeach");function A(Y){for(var D=Y[0],J=Y[1],q,I,H,te,ie=O._;ie;)if(H=U(ie,J)-D,H>K)ie=ie.L;else if(te=D-G(ie,J),te>K){if(!ie.R){q=ie;break}ie=ie.R}else{H>-K?(q=ie.P,I=ie):te>-K?(q=ie,I=ie.N):q=I=ie;break}M(Y);var he=N(Y);if(O.insert(q,he),!(!q&&!I)){if(q===I){k(q),I=N(q.site),O.insert(he,I),he.edge=I.edge=f(q.site,he.site),T(q),T(I);return}if(!I){he.edge=f(q.site,he.site);return}k(q),k(I);var De=q.site,$e=De[0],ze=De[1],Qe=Y[0]-$e,je=Y[1]-ze,We=I.site,Ce=We[0]-$e,Te=We[1]-ze,Je=2*(Qe*Te-je*Ce),rt=Qe*Qe+je*je,ge=Ce*Ce+Te*Te,xe=[(Te*rt-je*ge)/Je+$e,(Qe*ge-Ce*rt)/Je+ze];p(I.edge,De,We,xe),he.edge=f(De,Y,null,xe),I.edge=f(Y,We,null,xe),T(q),T(I)}}a(A,"addBeach");function U(Y,D){var J=Y.site,q=J[0],I=J[1],H=I-D;if(!H)return q;var te=Y.P;if(!te)return-1/0;J=te.site;var ie=J[0],he=J[1],De=he-D;if(!De)return ie;var $e=ie-q,ze=1/H-1/De,Qe=$e/De;return ze?(-Qe+Math.sqrt(Qe*Qe-2*ze*($e*$e/(-2*De)-he+De/2+I-H/2)))/ze+q:(q+ie)/2}a(U,"leftBreakPoint");function G(Y,D){var J=Y.N;if(J)return U(J,D);var q=Y.site;return q[1]===D?q[0]:1/0}a(G,"rightBreakPoint");var K=1e-6,Z=1e-12,O,$,L,ee;function ve(Y,D,J){return(Y[0]-J[0])*(D[1]-Y[1])-(Y[0]-D[0])*(J[1]-Y[1])}a(ve,"triangleArea");function ye(Y,D){return D[1]-Y[1]||D[0]-Y[0]}a(ye,"lexicographic");function se(Y,D){var J=Y.sort(ye).pop(),q,I,H;for(ee=[],$=new Array(Y.length),O=new i,L=new i;;)if(H=B,J&&(!H||J[1]<H.y||J[1]===H.y&&J[0]<H.x))(J[0]!==q||J[1]!==I)&&(A(J),q=J[0],I=J[1]),J=Y.pop();else if(H)v(H.arc);else break;if(V(),D){var te=+D[0][0],ie=+D[0][1],he=+D[1][0],De=+D[1][1];E(te,ie,he,De),W(te,ie,he,De)}this.edges=ee,this.cells=$,O=L=ee=$=null}a(se,"Diagram"),se.prototype={constructor:se,polygons:function(){var Y=this.edges;return this.cells.map(function(D){var J=D.halfedges.map(function(q){return P(D,Y[q])});return J.data=D.site.data,J})},triangles:function(){var Y=[],D=this.edges;return this.cells.forEach(function(J,q){if(!!(ie=(H=J.halfedges).length))for(var I=J.site,H,te=-1,ie,he,De=D[H[ie-1]],$e=De.left===I?De.right:De.left;++te<ie;)he=$e,De=D[H[te]],$e=De.left===I?De.right:De.left,he&&$e&&q<he.index&&q<$e.index&&ve(I,he,$e)<0&&Y.push([I.data,he.data,$e.data])}),Y},links:function(){return this.edges.filter(function(Y){return Y.right}).map(function(Y){return{source:Y.left.data,target:Y.right.data}})},find:function(Y,D,J){for(var q=this,I,H=q._found||0,te=q.cells.length,ie;!(ie=q.cells[H]);)if(++H>=te)return null;var he=Y-ie.site[0],De=D-ie.site[1],$e=he*he+De*De;do ie=q.cells[I=H],H=null,ie.halfedges.forEach(function(ze){var Qe=q.edges[ze],je=Qe.left;if(!((je===ie.site||!je)&&!(je=Qe.right))){var We=Y-je[0],Ce=D-je[1],Te=We*We+Ce*Ce;Te<$e&&($e=Te,H=je.index)}});while(H!==null);return q._found=I,J==null||$e<=J*J?ie.site:null}};function be(){var Y=r,D=n,J=null;function q(I){return new se(I.map(function(H,te){var ie=[Math.round(Y(H,te,I)/K)*K,Math.round(D(H,te,I)/K)*K];return ie.index=te,ie.data=H,ie}),J)}return a(q,"voronoi"),q.polygons=function(I){return q(I).polygons()},q.links=function(I){return q(I).links()},q.triangles=function(I){return q(I).triangles()},q.x=function(I){return arguments.length?(Y=typeof I=="function"?I:t(+I),q):Y},q.y=function(I){return arguments.length?(D=typeof I=="function"?I:t(+I),q):D},q.extent=function(I){return arguments.length?(J=I==null?null:[[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]],q):J&&[[J[0][0],J[0][1]],[J[1][0],J[1][1]]]},q.size=function(I){return arguments.length?(J=I==null?null:[[0,0],[+I[0],+I[1]]],q):J&&[J[1][0]-J[0][0],J[1][1]-J[0][1]]},q}a(be,"voronoi"),e.voronoi=be,Object.defineProperty(e,"__esModule",{value:!0})})});var OMe=j((eM,NMe)=>{d();(function(e,t){typeof eM=="object"&&typeof NMe<"u"?t(eM,ty(),AT(),ry(),uv(),MT()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],t):(e=e||self,t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(eM,function(e,t,r,n,i,s){"use strict";function o(W){return function(){return W}}a(o,"constant");function l(W,F,B){this.target=W,this.type=F,this.transform=B}a(l,"ZoomEvent");function u(W,F,B){this.k=W,this.x=F,this.y=B}a(u,"Transform"),u.prototype={constructor:u,scale:function(W){return W===1?this:new u(this.k*W,this.x,this.y)},translate:function(W,F){return W===0&F===0?this:new u(this.k,this.x+this.k*W,this.y+this.k*F)},apply:function(W){return[W[0]*this.k+this.x,W[1]*this.k+this.y]},applyX:function(W){return W*this.k+this.x},applyY:function(W){return W*this.k+this.y},invert:function(W){return[(W[0]-this.x)/this.k,(W[1]-this.y)/this.k]},invertX:function(W){return(W-this.x)/this.k},invertY:function(W){return(W-this.y)/this.k},rescaleX:function(W){return W.copy().domain(W.range().map(this.invertX,this).map(W.invert,W))},rescaleY:function(W){return W.copy().domain(W.range().map(this.invertY,this).map(W.invert,W))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f=new u(1,0,0);h.prototype=u.prototype;function h(W){for(;!W.__zoom;)if(!(W=W.parentNode))return f;return W.__zoom}a(h,"transform");function p(){i.event.stopImmediatePropagation()}a(p,"nopropagation");function g(){i.event.preventDefault(),i.event.stopImmediatePropagation()}a(g,"noevent");function y(){return!i.event.ctrlKey&&!i.event.button}a(y,"defaultFilter");function E(){var W=this;return W instanceof SVGElement?(W=W.ownerSVGElement||W,W.hasAttribute("viewBox")?(W=W.viewBox.baseVal,[[W.x,W.y],[W.x+W.width,W.y+W.height]]):[[0,0],[W.width.baseVal.value,W.height.baseVal.value]]):[[0,0],[W.clientWidth,W.clientHeight]]}a(E,"defaultExtent");function M(){return this.__zoom||f}a(M,"defaultTransform");function z(){return-i.event.deltaY*(i.event.deltaMode===1?.05:i.event.deltaMode?1:.002)}a(z,"defaultWheelDelta");function P(){return navigator.maxTouchPoints||"ontouchstart"in this}a(P,"defaultTouchable");function Q(W,F,B){var S=W.invertX(F[0][0])-B[0][0],T=W.invertX(F[1][0])-B[1][0],k=W.invertY(F[0][1])-B[0][1],R=W.invertY(F[1][1])-B[1][1];return W.translate(T>S?(S+T)/2:Math.min(0,S)||Math.max(0,T),R>k?(k+R)/2:Math.min(0,k)||Math.max(0,R))}a(Q,"defaultConstrain");function V(){var W=y,F=E,B=Q,S=z,T=P,k=[0,1/0],R=[[-1/0,-1/0],[1/0,1/0]],x=250,N=n.interpolateZoom,m=t.dispatch("start","zoom","end"),v,A,U=500,G=150,K=0;function Z(I){I.property("__zoom",M).on("wheel.zoom",se).on("mousedown.zoom",be).on("dblclick.zoom",Y).filter(T).on("touchstart.zoom",D).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(Z,"zoom"),Z.transform=function(I,H,te){var ie=I.selection?I.selection():I;ie.property("__zoom",M),I!==ie?ee(I,H,te):ie.interrupt().each(function(){ve(this,arguments).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},Z.scaleBy=function(I,H,te){Z.scaleTo(I,function(){var ie=this.__zoom.k,he=typeof H=="function"?H.apply(this,arguments):H;return ie*he},te)},Z.scaleTo=function(I,H,te){Z.transform(I,function(){var ie=F.apply(this,arguments),he=this.__zoom,De=te==null?L(ie):typeof te=="function"?te.apply(this,arguments):te,$e=he.invert(De),ze=typeof H=="function"?H.apply(this,arguments):H;return B($(O(he,ze),De,$e),ie,R)},te)},Z.translateBy=function(I,H,te){Z.transform(I,function(){return B(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof te=="function"?te.apply(this,arguments):te),F.apply(this,arguments),R)})},Z.translateTo=function(I,H,te,ie){Z.transform(I,function(){var he=F.apply(this,arguments),De=this.__zoom,$e=ie==null?L(he):typeof ie=="function"?ie.apply(this,arguments):ie;return B(f.translate($e[0],$e[1]).scale(De.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof te=="function"?-te.apply(this,arguments):-te),he,R)},ie)};function O(I,H){return H=Math.max(k[0],Math.min(k[1],H)),H===I.k?I:new u(H,I.x,I.y)}a(O,"scale");function $(I,H,te){var ie=H[0]-te[0]*I.k,he=H[1]-te[1]*I.k;return ie===I.x&&he===I.y?I:new u(I.k,ie,he)}a($,"translate");function L(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}a(L,"centroid");function ee(I,H,te){I.on("start.zoom",function(){ve(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){ve(this,arguments).end()}).tween("zoom",function(){var ie=this,he=arguments,De=ve(ie,he),$e=F.apply(ie,he),ze=te==null?L($e):typeof te=="function"?te.apply(ie,he):te,Qe=Math.max($e[1][0]-$e[0][0],$e[1][1]-$e[0][1]),je=ie.__zoom,We=typeof H=="function"?H.apply(ie,he):H,Ce=N(je.invert(ze).concat(Qe/je.k),We.invert(ze).concat(Qe/We.k));return function(Te){if(Te===1)Te=We;else{var Je=Ce(Te),rt=Qe/Je[2];Te=new u(rt,ze[0]-Je[0]*rt,ze[1]-Je[1]*rt)}De.zoom(null,Te)}})}a(ee,"schedule");function ve(I,H,te){return!te&&I.__zooming||new ye(I,H)}a(ve,"gesture");function ye(I,H){this.that=I,this.args=H,this.active=0,this.extent=F.apply(I,H),this.taps=0}a(ye,"Gesture"),ye.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,H){return this.mouse&&I!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){i.customEvent(new l(Z,I,this.that.__zoom),m.apply,m,[I,this.that,this.args])}};function se(){if(!W.apply(this,arguments))return;var I=ve(this,arguments),H=this.__zoom,te=Math.max(k[0],Math.min(k[1],H.k*Math.pow(2,S.apply(this,arguments)))),ie=i.mouse(this);if(I.wheel)(I.mouse[0][0]!==ie[0]||I.mouse[0][1]!==ie[1])&&(I.mouse[1]=H.invert(I.mouse[0]=ie)),clearTimeout(I.wheel);else{if(H.k===te)return;I.mouse=[ie,H.invert(ie)],s.interrupt(this),I.start()}g(),I.wheel=setTimeout(he,G),I.zoom("mouse",B($(O(H,te),I.mouse[0],I.mouse[1]),I.extent,R));function he(){I.wheel=null,I.end()}a(he,"wheelidled")}a(se,"wheeled");function be(){if(A||!W.apply(this,arguments))return;var I=ve(this,arguments,!0),H=i.select(i.event.view).on("mousemove.zoom",De,!0).on("mouseup.zoom",$e,!0),te=i.mouse(this),ie=i.event.clientX,he=i.event.clientY;r.dragDisable(i.event.view),p(),I.mouse=[te,this.__zoom.invert(te)],s.interrupt(this),I.start();function De(){if(g(),!I.moved){var ze=i.event.clientX-ie,Qe=i.event.clientY-he;I.moved=ze*ze+Qe*Qe>K}I.zoom("mouse",B($(I.that.__zoom,I.mouse[0]=i.mouse(I.that),I.mouse[1]),I.extent,R))}a(De,"mousemoved");function $e(){H.on("mousemove.zoom mouseup.zoom",null),r.dragEnable(i.event.view,I.moved),g(),I.end()}a($e,"mouseupped")}a(be,"mousedowned");function Y(){if(!!W.apply(this,arguments)){var I=this.__zoom,H=i.mouse(this),te=I.invert(H),ie=I.k*(i.event.shiftKey?.5:2),he=B($(O(I,ie),H,te),F.apply(this,arguments),R);g(),x>0?i.select(this).transition().duration(x).call(ee,he,H):i.select(this).call(Z.transform,he)}}a(Y,"dblclicked");function D(){if(!!W.apply(this,arguments)){var I=i.event.touches,H=I.length,te=ve(this,arguments,i.event.changedTouches.length===H),ie,he,De,$e;for(p(),he=0;he<H;++he)De=I[he],$e=i.touch(this,I,De.identifier),$e=[$e,this.__zoom.invert($e),De.identifier],te.touch0?!te.touch1&&te.touch0[2]!==$e[2]&&(te.touch1=$e,te.taps=0):(te.touch0=$e,ie=!0,te.taps=1+!!v);v&&(v=clearTimeout(v)),ie&&(te.taps<2&&(v=setTimeout(function(){v=null},U)),s.interrupt(this),te.start())}}a(D,"touchstarted");function J(){if(!!this.__zooming){var I=ve(this,arguments),H=i.event.changedTouches,te=H.length,ie,he,De,$e;for(g(),v&&(v=clearTimeout(v)),I.taps=0,ie=0;ie<te;++ie)he=H[ie],De=i.touch(this,H,he.identifier),I.touch0&&I.touch0[2]===he.identifier?I.touch0[0]=De:I.touch1&&I.touch1[2]===he.identifier&&(I.touch1[0]=De);if(he=I.that.__zoom,I.touch1){var ze=I.touch0[0],Qe=I.touch0[1],je=I.touch1[0],We=I.touch1[1],Ce=(Ce=je[0]-ze[0])*Ce+(Ce=je[1]-ze[1])*Ce,Te=(Te=We[0]-Qe[0])*Te+(Te=We[1]-Qe[1])*Te;he=O(he,Math.sqrt(Ce/Te)),De=[(ze[0]+je[0])/2,(ze[1]+je[1])/2],$e=[(Qe[0]+We[0])/2,(Qe[1]+We[1])/2]}else if(I.touch0)De=I.touch0[0],$e=I.touch0[1];else return;I.zoom("touch",B($(he,De,$e),I.extent,R))}}a(J,"touchmoved");function q(){if(!!this.__zooming){var I=ve(this,arguments),H=i.event.changedTouches,te=H.length,ie,he;for(p(),A&&clearTimeout(A),A=setTimeout(function(){A=null},U),ie=0;ie<te;++ie)he=H[ie],I.touch0&&I.touch0[2]===he.identifier?delete I.touch0:I.touch1&&I.touch1[2]===he.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2){var De=i.select(this).on("dblclick.zoom");De&&De.apply(this,arguments)}}}return a(q,"touchended"),Z.wheelDelta=function(I){return arguments.length?(S=typeof I=="function"?I:o(+I),Z):S},Z.filter=function(I){return arguments.length?(W=typeof I=="function"?I:o(!!I),Z):W},Z.touchable=function(I){return arguments.length?(T=typeof I=="function"?I:o(!!I),Z):T},Z.extent=function(I){return arguments.length?(F=typeof I=="function"?I:o([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),Z):F},Z.scaleExtent=function(I){return arguments.length?(k[0]=+I[0],k[1]=+I[1],Z):[k[0],k[1]]},Z.translateExtent=function(I){return arguments.length?(R[0][0]=+I[0][0],R[1][0]=+I[1][0],R[0][1]=+I[0][1],R[1][1]=+I[1][1],Z):[[R[0][0],R[0][1]],[R[1][0],R[1][1]]]},Z.constrain=function(I){return arguments.length?(B=I,Z):B},Z.duration=function(I){return arguments.length?(x=+I,Z):x},Z.interpolate=function(I){return arguments.length?(N=I,Z):N},Z.on=function(){var I=m.on.apply(m,arguments);return I===m?Z:I},Z.clickDistance=function(I){return arguments.length?(K=(I=+I)*I,Z):Math.sqrt(K)},Z}a(V,"zoom"),e.zoom=V,e.zoomIdentity=f,e.zoomTransform=h,Object.defineProperty(e,"__esModule",{value:!0})})});var pBe=j(Ln=>{"use strict";d();Object.defineProperty(Ln,"__esModule",{value:!0});var qMe=lv(),PMe=jTe(),FMe=nMe(),UMe=sMe(),YMe=OT(),HMe=I5(),zMe=lMe(),QMe=ty(),WMe=AT(),VMe=BG(),jMe=MG(),GMe=hMe(),KMe=gMe(),$Me=LG(),XMe=bMe(),JMe=_Me(),ZMe=ry(),eBe=LT(),tBe=wMe(),rBe=RG(),nBe=EMe(),iBe=IMe(),aBe=MMe(),sBe=uv(),oBe=RMe(),cBe=GT(),lBe=DG(),uBe=CT(),fBe=MT(),hBe=DMe(),dBe=OMe(),kNt="5.16.0";Object.keys(qMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return qMe[e]}})});Object.keys(PMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return PMe[e]}})});Object.keys(FMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return FMe[e]}})});Object.keys(UMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return UMe[e]}})});Object.keys(YMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return YMe[e]}})});Object.keys(HMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return HMe[e]}})});Object.keys(zMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return zMe[e]}})});Object.keys(QMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return QMe[e]}})});Object.keys(WMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return WMe[e]}})});Object.keys(VMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return VMe[e]}})});Object.keys(jMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return jMe[e]}})});Object.keys(GMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return GMe[e]}})});Object.keys(KMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return KMe[e]}})});Object.keys($Me).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return $Me[e]}})});Object.keys(XMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return XMe[e]}})});Object.keys(JMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return JMe[e]}})});Object.keys(ZMe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return ZMe[e]}})});Object.keys(eBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return eBe[e]}})});Object.keys(tBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return tBe[e]}})});Object.keys(rBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return rBe[e]}})});Object.keys(nBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return nBe[e]}})});Object.keys(iBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return iBe[e]}})});Object.keys(aBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return aBe[e]}})});Object.keys(sBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return sBe[e]}})});Object.keys(oBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return oBe[e]}})});Object.keys(cBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return cBe[e]}})});Object.keys(lBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return lBe[e]}})});Object.keys(uBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return uBe[e]}})});Object.keys(fBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return fBe[e]}})});Object.keys(hBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return hBe[e]}})});Object.keys(dBe).forEach(function(e){e!=="default"&&Object.defineProperty(Ln,e,{enumerable:!0,get:function(){return dBe[e]}})});Ln.version=kNt});var ad=j((qhn,gBe)=>{d();var T5;if(!T5&&typeof Yi=="function")try{T5=pBe()}catch{}T5||(T5=window.d3);gBe.exports=T5});var pc=j((Uhn,mBe)=>{d();var yBe=ey();mBe.exports={isSubgraph:CNt,edgeToId:INt,applyStyle:MNt,applyClass:BNt,applyTransition:RNt};function CNt(e,t){return!!e.children(t).length}a(CNt,"isSubgraph");function INt(e){return NG(e.v)+":"+NG(e.w)+":"+NG(e.name)}a(INt,"edgeToId");var TNt=/:/g;function NG(e){return e?String(e).replace(TNt,"\\:"):""}a(NG,"escapeId");function MNt(e,t){t&&e.attr("style",t)}a(MNt,"applyStyle");function BNt(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}a(BNt,"applyClass");function RNt(e,t){var r=t.graph();if(yBe.isPlainObject(r)){var n=r.transition;if(yBe.isFunction(n))return n(e)}return e}a(RNt,"applyTransition")});var vBe=j((zhn,bBe)=>{d();var LNt=pc();bBe.exports=DNt;function DNt(e,t){for(var r=e.append("text"),n=NNt(t.label).split(`
`),i=0;i<n.length;i++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[i]);return LNt.applyStyle(r,t.labelStyle),r}a(DNt,"addTextLabel");function NNt(e){for(var t="",r=!1,n,i=0;i<e.length;++i)if(n=e[i],r){switch(n){case"n":t+=`
`;break;default:t+=n}r=!1}else n==="\\"?r=!0:t+=n;return t}a(NNt,"processEscapeSequences")});var xBe=j((Vhn,_Be)=>{d();var ONt=pc();_Be.exports=qNt;function qNt(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}ONt.applyStyle(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n.node().getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}a(qNt,"addHtmlLabel")});var ABe=j((Khn,wBe)=>{d();var PNt=pc();wBe.exports=FNt;function FNt(e,t){var r=e;return r.node().appendChild(t.label),PNt.applyStyle(r,t.labelStyle),r}a(FNt,"addSVGLabel")});var tM=j((Jhn,EBe)=>{d();var UNt=vBe(),YNt=xBe(),HNt=ABe();EBe.exports=zNt;function zNt(e,t,r){var n=t.label,i=e.append("g");t.labelType==="svg"?HNt(i,t):typeof n!="string"||t.labelType==="html"?YNt(i,t):UNt(i,t);var s=i.node().getBBox(),o;switch(r){case"top":o=-t.height/2;break;case"bottom":o=t.height/2-s.height;break;default:o=-s.height/2}return i.attr("transform","translate("+-s.width/2+","+o+")"),i}a(zNt,"addLabel")});var CBe=j((tdn,kBe)=>{"use strict";d();var OG=ey(),QNt=tM(),rM=pc(),SBe=ad();kBe.exports=WNt;function WNt(e,t,r){var n=t.nodes().filter(function(o){return!rM.isSubgraph(t,o)}),i=e.selectAll("g.node").data(n,function(o){return o}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=e.selectAll("g.node"),i.each(function(o){var l=t.node(o),u=SBe.select(this);rM.applyClass(u,l.class,(u.classed("update")?"update ":"")+"node"),u.select("g.label").remove();var f=u.append("g").attr("class","label"),h=QNt(f,l),p=r[l.shape],g=OG.pick(h.node().getBBox(),"width","height");l.elem=this,l.id&&u.attr("id",l.id),l.labelId&&f.attr("id",l.labelId),OG.has(l,"width")&&(g.width=l.width),OG.has(l,"height")&&(g.height=l.height),g.width+=l.paddingLeft+l.paddingRight,g.height+=l.paddingTop+l.paddingBottom,f.attr("transform","translate("+(l.paddingLeft-l.paddingRight)/2+","+(l.paddingTop-l.paddingBottom)/2+")");var y=SBe.select(this);y.select(".label-container").remove();var E=p(y,g,l).classed("label-container",!0);rM.applyStyle(E,l.style);var M=E.node().getBBox();l.width=M.width,l.height=M.height});var s;return i.exit?s=i.exit():s=i.selectAll(null),rM.applyTransition(s,t).style("opacity",0).remove(),i}a(WNt,"createNodes")});var TBe=j((idn,IBe)=>{d();var nM=pc(),qG=ad(),VNt=tM();IBe.exports=jNt;function jNt(e,t){var r=t.nodes().filter(function(s){return nM.isSubgraph(t,s)}),n=e.selectAll("g.cluster").data(r,function(s){return s});n.selectAll("*").remove(),n.enter().append("g").attr("class","cluster").attr("id",function(s){var o=t.node(s);return o.id}).style("opacity",0),n=e.selectAll("g.cluster"),nM.applyTransition(n,t).style("opacity",1),n.each(function(s){var o=t.node(s),l=qG.select(this);qG.select(this).append("rect");var u=l.append("g").attr("class","label");VNt(u,o,o.clusterLabelPos)}),n.selectAll("rect").each(function(s){var o=t.node(s),l=qG.select(this);nM.applyStyle(l,o.style)});var i;return n.exit?i=n.exit():i=n.selectAll(null),nM.applyTransition(i,t).style("opacity",0).remove(),n}a(jNt,"createClusters")});var LBe=j((odn,RBe)=>{"use strict";d();var MBe=ey(),GNt=tM(),BBe=pc(),KNt=ad();RBe.exports=$Nt;function $Nt(e,t){var r=e.selectAll("g.edgeLabel").data(t.edges(),function(i){return BBe.edgeToId(i)}).classed("update",!0);r.exit().remove(),r.enter().append("g").classed("edgeLabel",!0).style("opacity",0),r=e.selectAll("g.edgeLabel"),r.each(function(i){var s=KNt.select(this);s.select(".label").remove();var o=t.edge(i),l=GNt(s,t.edge(i),0,0).classed("label",!0),u=l.node().getBBox();o.labelId&&l.attr("id",o.labelId),MBe.has(o,"width")||(o.width=u.width),MBe.has(o,"height")||(o.height=u.height)});var n;return r.exit?n=r.exit():n=r.selectAll(null),BBe.applyTransition(n,t).style("opacity",0).remove(),r}a($Nt,"createEdgeLabels")});var PBe=j((udn,qBe)=>{"use strict";d();var NBe=ey(),DBe=kG(),fv=pc(),M5=ad();qBe.exports=XNt;function XNt(e,t,r){var n=e.selectAll("g.edgePath").data(t.edges(),function(o){return fv.edgeToId(o)}).classed("update",!0),i=tOt(n,t);rOt(n,t);var s=n.merge!==void 0?n.merge(i):n;return fv.applyTransition(s,t).style("opacity",1),s.each(function(o){var l=M5.select(this),u=t.edge(o);u.elem=this,u.id&&l.attr("id",u.id),fv.applyClass(l,u.class,(l.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(o){var l=t.edge(o);l.arrowheadId=NBe.uniqueId("arrowhead");var u=M5.select(this).attr("marker-end",function(){return"url("+JNt(location.href,l.arrowheadId)+")"}).style("fill","none");fv.applyTransition(u,t).attr("d",function(f){return ZNt(t,f)}),fv.applyStyle(u,l.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(o){var l=t.edge(o),u=r[l.arrowhead];u(M5.select(this),l.arrowheadId,l,"arrowhead")}),s}a(XNt,"createEdgePaths");function JNt(e,t){var r=e.split("#")[0];return r+"#"+t}a(JNt,"makeFragmentRef");function ZNt(e,t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s=r.points.slice(1,r.points.length-1);return s.unshift(DBe(n,s[0])),s.push(DBe(i,s[s.length-1])),OBe(r,s)}a(ZNt,"calcPoints");function OBe(e,t){var r=(M5.line||M5.svg.line)().x(function(n){return n.x}).y(function(n){return n.y});return(r.curve||r.interpolate)(e.curve),r(t)}a(OBe,"createLine");function eOt(e){var t=e.getBBox(),r=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:r.e,y:r.f}}a(eOt,"getCoords");function tOt(e,t){var r=e.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",function(n){var i=t.edge(n),s=t.node(n.v).elem,o=NBe.range(i.points.length).map(function(){return eOt(s)});return OBe(i,o)}),r.append("defs"),r}a(tOt,"enter");function rOt(e,t){var r=e.exit();fv.applyTransition(r,t).style("opacity",0).remove()}a(rOt,"exit")});var UBe=j((ddn,FBe)=>{"use strict";d();var nOt=pc(),iOt=ad();FBe.exports=aOt;function aOt(e,t){var r=e.filter(function(){return!iOt.select(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),nOt.applyTransition(e,t).style("opacity",1).attr("transform",n)}a(aOt,"positionNodes")});var HBe=j((ydn,YBe)=>{"use strict";d();var sOt=pc(),oOt=ad(),cOt=ey();YBe.exports=lOt;function lOt(e,t){var r=e.filter(function(){return!oOt.select(this).classed("update")});function n(i){var s=t.edge(i);return cOt.has(s,"x")?"translate("+s.x+","+s.y+")":""}a(n,"translate"),r.attr("transform",n),sOt.applyTransition(e,t).style("opacity",1).attr("transform",n)}a(lOt,"positionEdgeLabels")});var WBe=j((vdn,QBe)=>{"use strict";d();var zBe=pc(),uOt=ad();QBe.exports=fOt;function fOt(e,t){var r=e.filter(function(){return!uOt.select(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),zBe.applyTransition(e,t).style("opacity",1).attr("transform",n),zBe.applyTransition(r.selectAll("rect"),t).attr("width",function(i){return t.node(i).width}).attr("height",function(i){return t.node(i).height}).attr("x",function(i){var s=t.node(i);return-s.width/2}).attr("y",function(i){var s=t.node(i);return-s.height/2})}a(fOt,"positionClusters")});var jBe=j((wdn,VBe)=>{"use strict";d();var hOt=TG(),dOt=yT(),pOt=CG(),gOt=IG();VBe.exports={rect:yOt,ellipse:mOt,circle:bOt,diamond:vOt};function yOt(e,t,r){var n=e.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return r.intersect=function(i){return hOt(r,i)},n}a(yOt,"rect");function mOt(e,t,r){var n=t.width/2,i=t.height/2,s=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",n).attr("ry",i);return r.intersect=function(o){return dOt(r,n,i,o)},s}a(mOt,"ellipse");function bOt(e,t,r){var n=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",n);return r.intersect=function(s){return pOt(r,n,s)},i}a(bOt,"circle");function vOt(e,t,r){var n=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,s=[{x:0,y:-i},{x:-n,y:0},{x:0,y:i},{x:n,y:0}],o=e.insert("polygon",":first-child").attr("points",s.map(function(l){return l.x+","+l.y}).join(" "));return r.intersect=function(l){return gOt(r,s,l)},o}a(vOt,"diamond")});var $Be=j((Sdn,KBe)=>{d();var PG=pc();KBe.exports={default:GBe,normal:GBe,vee:_Ot,undirected:xOt};function GBe(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");PG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(GBe,"normal");function _Ot(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");PG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(_Ot,"vee");function xOt(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");PG.applyStyle(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}a(xOt,"undirected")});var JBe=j((Idn,XBe)=>{d();var Os=ey(),wOt=ad(),AOt=SG().layout;XBe.exports=EOt;function EOt(){var e=CBe(),t=TBe(),r=LBe(),n=PBe(),i=UBe(),s=HBe(),o=WBe(),l=jBe(),u=$Be(),f=a(function(h,p){COt(p);var g=B5(h,"output"),y=B5(g,"clusters"),E=B5(g,"edgePaths"),M=r(B5(g,"edgeLabels"),p),z=e(B5(g,"nodes"),p,l);AOt(p),i(z,p),s(M,p),n(E,p,u);var P=t(y,p);o(P,p),IOt(p)},"fn");return f.createNodes=function(h){return arguments.length?(e=h,f):e},f.createClusters=function(h){return arguments.length?(t=h,f):t},f.createEdgeLabels=function(h){return arguments.length?(r=h,f):r},f.createEdgePaths=function(h){return arguments.length?(n=h,f):n},f.shapes=function(h){return arguments.length?(l=h,f):l},f.arrows=function(h){return arguments.length?(u=h,f):u},f}a(EOt,"render");var SOt={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},kOt={arrowhead:"normal",curve:wOt.curveLinear};function COt(e){e.nodes().forEach(function(t){var r=e.node(t);!Os.has(r,"label")&&!e.children(t).length&&(r.label=t),Os.has(r,"paddingX")&&Os.defaults(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),Os.has(r,"paddingY")&&Os.defaults(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),Os.has(r,"padding")&&Os.defaults(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),Os.defaults(r,SOt),Os.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(n){r[n]=Number(r[n])}),Os.has(r,"width")&&(r._prevWidth=r.width),Os.has(r,"height")&&(r._prevHeight=r.height)}),e.edges().forEach(function(t){var r=e.edge(t);Os.has(r,"label")||(r.label=""),Os.defaults(r,kOt)})}a(COt,"preProcessGraph");function IOt(e){Os.each(e.nodes(),function(t){var r=e.node(t);Os.has(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,Os.has(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}a(IOt,"postProcessGraph");function B5(e,t){var r=e.select("g."+t);return r.empty()&&(r=e.append("g").attr("class",t)),r}a(B5,"createOrSelectGroup")});var eRe=j((Bdn,ZBe)=>{d();ZBe.exports="0.6.4"});var rRe=j((Ldn,tRe)=>{d();tRe.exports={graphlib:RTe(),dagre:SG(),intersect:zTe(),render:JBe(),util:pc(),version:eRe()}});d();var _n=Sn(yo(),1);d();var Yde=Sn(kx(),1);d();d();var Que=Sn(Zf(),1);var Ru=0,Cx=1;function Vi(e,t=-1){return b.Buffer.isBuffer(e)&&t>0&&(e=e.slice(0,Math.min(t,e.length))),e.toString("hex")}a(Vi,"btok");function Xs(e){return typeof e=="string"&&e.startsWith("draft:")}a(Xs,"isDraftID");function $o(e){return b.Buffer.isBuffer(e)&&e.length===Que.default.SIGNATURE_SIZE}a($o,"isRantID");function Ix(e,t){return Xs(e)&&e===t||$o(e)&&$o(t)&&e.equals(t)}a(Ix,"isEqualID");d();d();function Xue(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}a(Xue,"getDefaults");var Nm=Xue();function JZe(e){Nm=e}a(JZe,"changeDefaults");var ZZe=/[&<>"']/,eet=/[&<>"']/g,tet=/[<>"']|&(?!#?\w+;)/,ret=/[<>"']|&(?!#?\w+;)/g,net={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wue=a(e=>net[e],"getEscapeReplacement");function Xa(e,t){if(t){if(ZZe.test(e))return e.replace(eet,Wue)}else if(tet.test(e))return e.replace(ret,Wue);return e}a(Xa,"escape");var iet=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Jue(e){return e.replace(iet,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}a(Jue,"unescape");var aet=/(^|[^\[])\^/g;function pi(e,t){e=typeof e=="string"?e:e.source,t=t||"";let r={replace:(n,i)=>(i=i.source||i,i=i.replace(aet,"$1"),e=e.replace(n,i),r),getRegex:()=>new RegExp(e,t)};return r}a(pi,"edit");var set=/[^\w:]/g,oet=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Vue(e,t,r){if(e){let n;try{n=decodeURIComponent(Jue(r)).replace(set,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}t&&!oet.test(r)&&(r=het(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}a(Vue,"cleanUrl");var $E={},cet=/^[^:]+:\/*[^/]*$/,uet=/^([^:]+:)[\s\S]*$/,fet=/^([^:]+:\/*[^/]*)[\s\S]*$/;function het(e,t){$E[" "+e]||(cet.test(e)?$E[" "+e]=e+"/":$E[" "+e]=XE(e,"/",!0)),e=$E[" "+e];let r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(uet,"$1")+t:t.charAt(0)==="/"?r?t:e.replace(fet,"$1")+t:e+t}a(het,"resolveUrl");var JE={exec:a(function(){},"noopTest")};function El(e){let t=1,r,n;for(;t<arguments.length;t++){r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}a(El,"merge");function jue(e,t){let r=e.replace(/\|/g,(s,o,l)=>{let u=!1,f=o;for(;--f>=0&&l[f]==="\\";)u=!u;return u?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}a(jue,"splitCells");function XE(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n;){let s=e.charAt(n-i-1);if(s===t&&!r)i++;else if(s!==t&&r)i++;else break}return e.slice(0,n-i)}a(XE,"rtrim");function det(e,t){if(e.indexOf(t[1])===-1)return-1;let r=e.length,n=0,i=0;for(;i<r;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}a(det,"findClosingBracket");function Zue(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}a(Zue,"checkSanitizeDeprecation");function Gue(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}a(Gue,"repeatString");function Kue(e,t,r,n){let i=t.href,s=t.title?Xa(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;let l={type:"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:r,href:i,title:s,text:Xa(o)}}a(Kue,"outputLink");function pet(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let n=r[1];return t.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}a(pet,"indentCodeCompensation");var Lm=class{constructor(t){this.options=t||Nm}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:XE(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=pet(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim():r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){let i=XE(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=r[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n,i,s,o,l,u,f,h,p,g,y,E,M=r[1].trim(),z=M.length>1,P={type:"list",raw:"",ordered:z,start:z?+M.slice(0,-1):"",loose:!1,items:[]};M=z?`\\d{1,9}\\${M.slice(-1)}`:`\\${M}`,this.options.pedantic&&(M=z?M:"[*+-]");let Q=new RegExp(`^( {0,3}${M})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(E=!1,!(!(r=Q.exec(t))||this.rules.block.hr.test(t)));){if(n=r[0],t=t.substring(n.length),h=r[2].split(`
`,1)[0],p=t.split(`
`,1)[0],this.options.pedantic?(o=2,y=h.trimLeft()):(o=r[2].search(/[^ ]/),o=o>4?1:o,y=h.slice(o),o+=r[1].length),u=!1,!h&&/^ *$/.test(p)&&(n+=p+`
`,t=t.substring(p.length+1),E=!0),!E){let W=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),F=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),B=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(g=t.split(`
`,1)[0],h=g,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(B.test(h)||S.test(h)||W.test(h)||F.test(t)));){if(h.search(/[^ ]/)>=o||!h.trim())y+=`
`+h.slice(o);else if(!u)y+=`
`+h;else break;!u&&!h.trim()&&(u=!0),n+=g+`
`,t=t.substring(g.length+1)}}P.loose||(f?P.loose=!0:/\n *\n *$/.test(n)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(y),i&&(s=i[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),P.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:y}),P.raw+=n}P.items[P.items.length-1].raw=n.trimRight(),P.items[P.items.length-1].text=y.trimRight(),P.raw=P.raw.trimRight();let V=P.items.length;for(l=0;l<V;l++){this.lexer.state.top=!1,P.items[l].tokens=this.lexer.blockTokens(P.items[l].text,[]);let W=P.items[l].tokens.filter(B=>B.type==="space"),F=W.every(B=>{let S=B.raw.split(""),T=0;for(let k of S)if(k===`
`&&(T+=1),T>1)return!0;return!1});!P.loose&&W.length&&F&&(P.loose=!0,P.items[l].loose=!0)}return P}}html(t){let r=this.rules.block.html.exec(t);if(r){let n={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){let i=this.options.sanitizer?this.options.sanitizer(r[0]):Xa(r[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(t){let r=this.rules.block.def.exec(t);if(r)return r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),{type:"def",tag:r[1].toLowerCase().replace(/\s+/g," "),raw:r[0],href:r[2],title:r[3]}}table(t){let r=this.rules.block.table.exec(t);if(r){let n={type:"table",header:jue(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let i=n.align.length,s,o,l,u;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=jue(n.rows[s],n.header.length).map(f=>({text:f}));for(i=n.header.length,o=0;o<i;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(i=n.rows.length,o=0;o<i;o++)for(u=n.rows[o],l=0;l<u.length;l++)u[l].tokens=this.lexer.inline(u[l].text);return n}}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Xa(r[1])}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Xa(r[0]):r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=XE(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=det(r[2],"()");if(o>-1){let u=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Kue(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i||!i.href){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Kue(n,i,n[0],this.lexer)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrong.lDelim.exec(t);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){let o=i[0].length-1,l,u,f=o,h=0,p=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+o);(i=p.exec(r))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(u=l.length,i[3]||i[4]){f+=u;continue}else if((i[5]||i[6])&&o%3&&!((o+u)%3)){h+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+h);let g=t.slice(0,o+i.index+(i[0].length-l.length)+u);if(Math.min(o,u)%2){let E=g.slice(1,-1);return{type:"em",raw:g,text:E,tokens:this.lexer.inlineTokens(E)}}let y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," "),i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Xa(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t,r){let n=this.rules.inline.autolink.exec(t);if(n){let i,s;return n[2]==="@"?(i=Xa(this.options.mangle?r(n[1]):n[1]),s="mailto:"+i):(i=Xa(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t,r){let n;if(n=this.rules.inline.url.exec(t)){let i,s;if(n[2]==="@")i=Xa(this.options.mangle?r(n[0]):n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);i=Xa(n[0]),n[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t,r){let n=this.rules.inline.text.exec(t);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xa(n[0]):n[0]:i=Xa(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}};a(Lm,"Tokenizer");var Fr={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:JE,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Fr._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Fr._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Fr.def=pi(Fr.def).replace("label",Fr._label).replace("title",Fr._title).getRegex();Fr.bullet=/(?:[*+-]|\d{1,9}[.)])/;Fr.listItemStart=pi(/^( *)(bull) */).replace("bull",Fr.bullet).getRegex();Fr.list=pi(Fr.list).replace(/bull/g,Fr.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Fr.def.source+")").getRegex();Fr._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Fr._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Fr.html=pi(Fr.html,"i").replace("comment",Fr._comment).replace("tag",Fr._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Fr.paragraph=pi(Fr._paragraph).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.blockquote=pi(Fr.blockquote).replace("paragraph",Fr.paragraph).getRegex();Fr.normal=El({},Fr);Fr.gfm=El({},Fr.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Fr.gfm.table=pi(Fr.gfm.table).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.gfm.paragraph=pi(Fr._paragraph).replace("hr",Fr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Fr.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr._tag).getRegex();Fr.pedantic=El({},Fr.normal,{html:pi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Fr._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:JE,paragraph:pi(Fr.normal._paragraph).replace("hr",Fr.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fr.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var _r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:JE,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:JE,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};_r._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";_r.punctuation=pi(_r.punctuation).replace(/punctuation/g,_r._punctuation).getRegex();_r.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;_r.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;_r._comment=pi(Fr._comment).replace("(?:-->|$)","-->").getRegex();_r.emStrong.lDelim=pi(_r.emStrong.lDelim).replace(/punct/g,_r._punctuation).getRegex();_r.emStrong.rDelimAst=pi(_r.emStrong.rDelimAst,"g").replace(/punct/g,_r._punctuation).getRegex();_r.emStrong.rDelimUnd=pi(_r.emStrong.rDelimUnd,"g").replace(/punct/g,_r._punctuation).getRegex();_r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;_r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;_r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;_r.autolink=pi(_r.autolink).replace("scheme",_r._scheme).replace("email",_r._email).getRegex();_r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;_r.tag=pi(_r.tag).replace("comment",_r._comment).replace("attribute",_r._attribute).getRegex();_r._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;_r._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;_r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;_r.link=pi(_r.link).replace("label",_r._label).replace("href",_r._href).replace("title",_r._title).getRegex();_r.reflink=pi(_r.reflink).replace("label",_r._label).replace("ref",Fr._label).getRegex();_r.nolink=pi(_r.nolink).replace("ref",Fr._label).getRegex();_r.reflinkSearch=pi(_r.reflinkSearch,"g").replace("reflink",_r.reflink).replace("nolink",_r.nolink).getRegex();_r.normal=El({},_r);_r.pedantic=El({},_r.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:pi(/^!?\[(label)\]\((.*?)\)/).replace("label",_r._label).getRegex(),reflink:pi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_r._label).getRegex()});_r.gfm=El({},_r.normal,{escape:pi(_r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});_r.gfm.url=pi(_r.gfm.url,"i").replace("email",_r.gfm._extended_email).getRegex();_r.breaks=El({},_r.gfm,{br:pi(_r.br).replace("{2,}","*").getRegex(),text:pi(_r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function yet(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}a(yet,"smartypants");function $ue(e){let t="",r,n,i=e.length;for(r=0;r<i;r++)n=e.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),t+="&#"+n+";";return t}a($ue,"mangle");var Wc=class{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Nm,this.options.tokenizer=this.options.tokenizer||new Lm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:Fr.normal,inline:_r.normal};this.options.pedantic?(r.block=Fr.pedantic,r.inline=_r.pedantic):this.options.gfm&&(r.block=Fr.gfm,this.options.breaks?r.inline=_r.breaks:r.inline=_r.gfm),this.tokenizer.rules=r}static get rules(){return{block:Fr,inline:_r}}static lex(t,r){return new Wc(r).lex(t)}static lexInline(t,r){return new Wc(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,u,f)=>u+"    ".repeat(f.length));let n,i,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0,u=t.slice(1),f;this.options.extensions.startBlock.forEach(function(h){f=h.call({lexer:this},u),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=r[r.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),o=s.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(t){let l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,s,o=t,l,u,f;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+Gue("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+Gue("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,o,f)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t,$ue)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t,$ue))){t=t.substring(n.raw.length),r.push(n);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0,p=t.slice(1),g;this.options.extensions.startInline.forEach(function(y){g=y.call({lexer:this},p),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(s=t.substring(0,h+1))}if(n=this.tokenizer.inlineText(s,yet)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(f=n.raw.slice(-1)),u=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}};a(Wc,"Lexer");var Dm=class{constructor(t){this.options=t||Nm}code(t,r,n){let i=(r||"").match(/\S*/)[0];if(this.options.highlight){let s=this.options.highlight(t,i);s!=null&&s!==t&&(n=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Xa(i,!0)+'">'+(n?t:Xa(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:Xa(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,r,n,i){if(this.options.headerIds){let s=this.options.headerPrefix+i.slug(n);return`<h${r} id="${s}">${t}</h${r}>
`}return`<h${r}>${t}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,r,n){let i=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+t+"</"+i+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){let n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){if(t=Vue(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let i='<a href="'+Xa(t)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){if(t=Vue(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let i=`<img src="${t}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=this.options.xhtml?"/>":">",i}text(t){return t}};a(Dm,"Renderer");var Tx=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}};a(Tx,"TextRenderer");var Mx=class{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,r){let n=t,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[t];do i++,n=t+"-"+i;while(this.seen.hasOwnProperty(n))}return r||(this.seen[t]=i,this.seen[n]=0),n}slug(t,r={}){let n=this.serialize(t);return this.getNextSafeSlug(n,r.dryrun)}};a(Mx,"Slugger");var Xo=class{constructor(t){this.options=t||Nm,this.options.renderer=this.options.renderer||new Dm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Tx,this.slugger=new Mx}static parse(t,r){return new Xo(r).parse(t)}static parseInline(t,r){return new Xo(r).parseInline(t)}parse(t,r=!0){let n="",i,s,o,l,u,f,h,p,g,y,E,M,z,P,Q,V,W,F,B,S=t.length;for(i=0;i<S;i++){if(y=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(B=this.options.extensions.renderers[y.type].call({parser:this},y),B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type))){n+=B||"";continue}switch(y.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(y.tokens),y.depth,Jue(this.parseInline(y.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(y.text,y.lang,y.escaped);continue}case"table":{for(p="",h="",l=y.header.length,s=0;s<l;s++)h+=this.renderer.tablecell(this.parseInline(y.header[s].tokens),{header:!0,align:y.align[s]});for(p+=this.renderer.tablerow(h),g="",l=y.rows.length,s=0;s<l;s++){for(f=y.rows[s],h="",u=f.length,o=0;o<u;o++)h+=this.renderer.tablecell(this.parseInline(f[o].tokens),{header:!1,align:y.align[o]});g+=this.renderer.tablerow(h)}n+=this.renderer.table(p,g);continue}case"blockquote":{g=this.parse(y.tokens),n+=this.renderer.blockquote(g);continue}case"list":{for(E=y.ordered,M=y.start,z=y.loose,l=y.items.length,g="",s=0;s<l;s++)Q=y.items[s],V=Q.checked,W=Q.task,P="",Q.task&&(F=this.renderer.checkbox(V),z?Q.tokens.length>0&&Q.tokens[0].type==="paragraph"?(Q.tokens[0].text=F+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=F+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:F}):P+=F),P+=this.parse(Q.tokens,z),g+=this.renderer.listitem(P,W,V);n+=this.renderer.list(g,E,M);continue}case"html":{n+=this.renderer.html(y.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(y.tokens));continue}case"text":{for(g=y.tokens?this.parseInline(y.tokens):y.text;i+1<S&&t[i+1].type==="text";)y=t[++i],g+=`
`+(y.tokens?this.parseInline(y.tokens):y.text);n+=r?this.renderer.paragraph(g):g;continue}default:{let T='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(T);return}else throw new Error(T)}}}return n}parseInline(t,r){r=r||this.renderer;let n="",i,s,o,l=t.length;for(i=0;i<l;i++){if(s=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=o||"";continue}switch(s.type){case"escape":{n+=r.text(s.text);break}case"html":{n+=r.html(s.text);break}case"link":{n+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{n+=r.image(s.href,s.title,s.text);break}case"strong":{n+=r.strong(this.parseInline(s.tokens,r));break}case"em":{n+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{n+=r.codespan(s.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(s.tokens,r));break}case"text":{n+=r.text(s.text);break}default:{let u='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(u);return}else throw new Error(u)}}}return n}};a(Xo,"Parser");function Yr(e,t,r){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=El({},Yr.defaults,t||{}),Zue(t),r){let i=t.highlight,s;try{s=Wc.lex(e,t)}catch(u){return r(u)}let o=a(function(u){let f;if(!u)try{t.walkTokens&&Yr.walkTokens(s,t.walkTokens),f=Xo.parse(s,t)}catch(h){u=h}return t.highlight=i,u?r(u):r(null,f)},"done");if(!i||i.length<3||(delete t.highlight,!s.length))return o();let l=0;Yr.walkTokens(s,function(u){u.type==="code"&&(l++,setTimeout(()=>{i(u.text,u.lang,function(f,h){if(f)return o(f);h!=null&&h!==u.text&&(u.text=h,u.escaped=!0),l--,l===0&&o()})},0))}),l===0&&o();return}function n(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Xa(i.message+"",!0)+"</pre>";throw i}a(n,"onError");try{let i=Wc.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Yr.walkTokens(i,t.walkTokens)).then(()=>Xo.parse(i,t)).catch(n);Yr.walkTokens(i,t.walkTokens)}return Xo.parse(i,t)}catch(i){n(i)}}a(Yr,"marked");Yr.options=Yr.setOptions=function(e){return El(Yr.defaults,e),JZe(Yr.defaults),Yr};Yr.getDefaults=Xue;Yr.defaults=Nm;Yr.use=function(...e){let t=El({},...e),r=Yr.defaults.extensions||{renderers:{},childTokens:{}},n;e.forEach(i=>{if(i.extensions&&(n=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let o=r.renderers?r.renderers[s.name]:null;o?r.renderers[s.name]=function(...l){let u=s.renderer.apply(this,l);return u===!1&&(u=o.apply(this,l)),u}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),i.renderer){let s=Yr.defaults.renderer||new Dm;for(let o in i.renderer){let l=s[o];s[o]=(...u)=>{let f=i.renderer[o].apply(s,u);return f===!1&&(f=l.apply(s,u)),f}}t.renderer=s}if(i.tokenizer){let s=Yr.defaults.tokenizer||new Lm;for(let o in i.tokenizer){let l=s[o];s[o]=(...u)=>{let f=i.tokenizer[o].apply(s,u);return f===!1&&(f=l.apply(s,u)),f}}t.tokenizer=s}if(i.walkTokens){let s=Yr.defaults.walkTokens;t.walkTokens=function(o){let l=[];return l.push(i.walkTokens.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}n&&(t.extensions=r),Yr.setOptions(t)})};Yr.walkTokens=function(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(Yr,n)),n.type){case"table":{for(let i of n.header)r=r.concat(Yr.walkTokens(i.tokens,t));for(let i of n.rows)for(let s of i)r=r.concat(Yr.walkTokens(s.tokens,t));break}case"list":{r=r.concat(Yr.walkTokens(n.items,t));break}default:Yr.defaults.extensions&&Yr.defaults.extensions.childTokens&&Yr.defaults.extensions.childTokens[n.type]?Yr.defaults.extensions.childTokens[n.type].forEach(function(i){r=r.concat(Yr.walkTokens(n[i],t))}):n.tokens&&(r=r.concat(Yr.walkTokens(n.tokens,t)))}return r};Yr.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=El({},Yr.defaults,t||{}),Zue(t);try{let r=Wc.lexInline(e,t);return t.walkTokens&&Yr.walkTokens(r,t.walkTokens),Xo.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Xa(r.message+"",!0)+"</pre>";throw r}};Yr.Parser=Xo;Yr.parser=Xo.parse;Yr.Renderer=Dm;Yr.TextRenderer=Tx;Yr.Lexer=Wc;Yr.lexer=Wc.lex;Yr.Tokenizer=Lm;Yr.Slugger=Mx;Yr.parse=Yr;var tcr=Yr.options,rcr=Yr.setOptions,ncr=Yr.use,icr=Yr.walkTokens,acr=Yr.parseInline;var scr=Xo.parse,ocr=Wc.lex;var dq=Sn(_O(),1),Tde=Sn(Ade(),1),Mde=Sn(Sde(),1);Ax();var Bde=Sn(kx(),1);d();var hq=Sn(Rd(),1);function kde(e,t){let r=t.repeat(32).substr(0,32),n=t.repeat(16).substr(0,16),i=hq.default.createCipheriv("aes-256-ctr",r,n),s=i.update(e,"utf8","hex");return s+=i.final("hex"),s}a(kde,"encrypt");function Cde(e,t){let r=t.repeat(32).substr(0,32),n=t.repeat(16).substr(0,16),i=hq.default.createDecipheriv("aes-256-ctr",r,n),s=i.update(e,"hex","utf8");return s+=i.final("utf8"),s.includes("\uFFFD")?(console.log("\uFFFD\uFFFDwe g\uFFFDt some wi\uFFFDrd chars man\uFFFD\uFFFD"),!1):s}a(Cde,"decrypt");Yr.use({renderer:{code(e,t){return t!=="mermaid"?!1:`<mermaid-graph>${e}</mermaid-graph>`}}});var LS=["dark","light","decent","morpheus","ghostwriter"],{compress:Fit,decompress:Uit}=Tde.default,{compressToUint8Array:Yit,decompressFromUint8Array:Hit}=Mde.default,RS=/!([FLDd~|/.-]{0,4})([^!\n .}]{1,8})!/;function pq(e,t){if(b.Buffer.isBuffer(e))throw new Error("Expected a card object");return FE(gq(e,t,!0))}a(pq,"encode");function Fx(e,t,r){if(!b.Buffer.isBuffer(e))throw new Error("Expected binary Buffer");let n=_x(e);return _1(n,t,r)}a(Fx,"decode");function gq(e,t,r){if(!e)throw new Error("Expeceted Props");let{date:n,page:i,theme:s,type:o,encryption:l}=e;if(typeof e.text!="string"||!e.text.length)throw new Error("Expected text");let u=e.text.replace(/\r/,""),f=null;if(!r&&l===1)try{u&&(u=kde(u,t),f=!0)}catch(M){throw new Error(`something went wrong in the encrypt department 
`,M.message)}let h=[b.Buffer.from(u,"utf8"),Fit(b.Buffer.from(u,"utf8")),Yit(u)],p=[...h].sort((M,z)=>M.length>z.length)[0],g=h.indexOf(p),y=b.Buffer.from(p);return{b:o||0,t:y,z:g,x:l||0,y:f||!1,l:s||0,d:n||Date.now(),s:i||0,p:!!e.public}}a(gq,"pack");function _1(e,t,r){let n=[s=>s.toString("utf8"),Uit,Hit],i;switch(e.x){case 0:i=e.t;break;case 1:i=e.t;break;default:throw console.info("unknown",e,e.x),new Error("UnknownEncryption")}return i=n[e.z](i),{type:e.b,text:i,date:e.d,compression:e.z,encryption:e.x,encrypted:e.y,theme:e.l,page:e.s,public:e.p}}a(_1,"unpack");function yq(e,t){let r=Bde.Feed.from(e),n=_x(r.first.body);return _1(n,t)}a(yq,"unpackFeed");function Ux(e){if(typeof e!="string"&&!e.length)return;let t="",r=e.match(/^\s*(.+)\s*\n==+/m);return r||(r=e.match(/^#+(.+)$/m)),r&&(t=r[1],this&&(this.rawOffset=r.index+r[0].length)),t.replace(new RegExp(RS,"g"),"").trim()}a(Ux,"extractTitle");function DS(e){if(typeof e!="string"&&!e.length)return;let t=e.match(RS);if(t)return t[2].trim()}a(DS,"extractIcon");function NS(e,t=40){if(typeof e!="string"&&!e.length)return;let r={};return Ux.bind(r)(e),e.substr(r.rawOffset+1,Math.min(e.length,t)).replace(/[\n#`*_[\]]/g,"").trim()}a(NS,"extractExcerpt");function OS(e,...t){e=[...e];for(let r=t.length;r>0;r--)e.splice(r,0,t.pop());return e.join("").split(`
`).map(r=>r.trim()).join(`
`).trim()}a(OS,"bq");function Ide(e,t){if(typeof e!="string")throw new Error(`Expected text to be a string, got: ${typeof e}`);let r={".":"","~":"wave","-":"dash","/":"sway","|":"bounce",L:"acid",F:"flicker",D:"dance",d:"dig"};return e=e.replace(new RegExp(RS,"g"),n=>{let i=n.match(RS),s=i[1],o=i[2];return`<bmoji class="${s.split("").map(u=>r[u]).join(" ")}">${o}</bmoji>`}),e=e.replace(/\B(#{1,6})= ([^\n]+)/g,'$1 <div class="text-center">$2</div>'),t&&(e=e.replace(/\{\{DATE\}\}/gi,new Date(t.date))),e}a(Ide,"runMacros");function qS(e){return e=dq.default.sanitize(e),e=Ide(e),e=dq.default.sanitize(Yr(e),{ADD_TAGS:["bmoji","mermaid-graph"]}),Ide(e)}a(qS,"processText");var Rde=Sn(kx(),1);var{decodeBlock:mq}=Rde.SimpleKernel;function bq(e="rants",t){let r=null,n=a(()=>{if(r)return r;if(typeof t=="function"){if(r=t(),!r)throw new Error("RacingCondition? falsy localKey");return r}else throw new Error("resolveLocalKey expected to be function")},"localKey");return{name:e,initialValue:{},filter({block:i,parentBlock:s}){let o=mq(i.body),{type:l}=o;switch(l){case Ru:if(i.body.length>1024)return"RantTooBig";break;case Cx:{if(!(i.key.equals(s.key)||n()?.equals(i.key)))return"NotYourRant";if(mq(s.body).type!==Ru)return"ExpectedParentToBeRant"}break;default:return"UnknownBlock"}return!1},reducer({state:i,block:s,parentBlock:o,CHAIN:l,mark:u}){let f=mq(s.body),{type:h}=f;if(h===Cx){i[Vi(l)].entombed=!0;let g=s.key.equals(o.key)&&n()?.equals(s.key);return u(l,g?Date.now()+60*6e4:Date.now()),i}let p=_1(f,null,!0);return i[Vi(l)]={...p,id:l,author:s.key,rev:s.sig,size:s.body.length,entombed:!1,encryption:p.encryption},{...i}},sweep({state:i,CHAIN:s,mark:o,drop:l}){if(!i[Vi(s)].entombed)throw new Error("MentalError: BuriedAlive");return l(),delete i[Vi(s)],i}}}a(bq,"Notebook");d();var Lde=Sn(yo(),1);function vq(){let e={};return{config(t,r){if(typeof t!="string")throw new Error("Expected key to be string");if(!e[t]){let[n,i]=(0,Lde.write)(r),s=a(async o=>{i(o),await this.repo.writeReg(`cnf|${t}`,JSON.stringify(o))},"setter");this.repo.readReg(`cnf|${t}`).then(o=>{if(typeof o>"u"&&typeof r<"u")return i(r),s(r);i(JSON.parse(o))}),e[t]=[n,s]}return e[t]}}}a(vq,"ConfigModule");d();var PS=Sn(Zf(),1),On=Sn(yo(),1);function _q(e,t){e=e.sublevel("drafts",{keyEncoding:"utf8",valueEncoding:"buffer"});let[r,n]=(0,On.write)(),[i,s]=(0,On.write)(""),[o,l]=t("lastUsedTheme",0),[u,f]=(0,On.write)(Date.now()),[h,p]=t("lastUsedEncryption",0),[g,y]=(0,On.write)(),[E]=(0,On.write)(!1),M=(0,On.memo)((0,On.combine)({id:r,text:i,theme:o,encryption:h,date:u,encrypted:E})),[z,P]=(0,On.write)([]),Q=null;return{get $current(){return r},get $draft(){return M},get drafts(){return W},isEditing:F,$drafts(){return z},$rant(B){let S=(0,On.combine)(r,M,T=>this.store.on("rants",T));return(0,On.mute)(S,([T,k,R])=>Yx($o(T)?R[Vi(T)]:k,T,B))},$rants(){let B=(0,On.get)(r);return(0,On.mute)(S=>this.store.on("rants",S),S=>Object.values(S).filter(T=>!T.entombed).map(T=>Yx(T,B)).sort((T,k)=>k.date-T.date))},async setText(B,S=!1){if(!F())throw new Error("EditMode not active");return s(B),this.saveDraft(S)},async setTheme(B){if(!F())throw new Error("EditMode not active");l(B),await this.saveDraft()},async setEncryption(B){if(!F())throw new Error("EditMode not active");p(B),await this.saveDraft()},async setSecret(B){y(B)},async commit(B=!1){if(!F())throw new Error("EditMode not active");let S=new PS.default,T=(0,On.get)(r),k={...(0,On.get)(M),public:B,date:Date.now(),page:await this._inc("page")},R=gq(k,(0,On.get)(g),!1);await this.createBlock(S,Ru,R);let x=S.last.sig;return await this.checkout(x),await this.deleteRant(T),await W(),x},async pickle(B){if(!B&&F())throw new Error("Provide Id or set current to published rant");if(B||(B=(0,On.get)(r)),!$o(B))throw new Error("InvalidRantId");let T=(0,On.get)(m=>this.store.on("rants",m))[Vi(B)];if(!T)throw new Error("RantNotFound");let k=await this.repo.readBlock(T?.rev)||await this.repo.readBlock(B),R=PS.default.from(k).pickle(),x=T.title;return x?`${encodeURIComponent(x.replace(/ +/g,"_"))}-${R}`:R},async saveDraft(B=!1){if(!F())throw new Error("EditMode not active");if(B)return this._saveLater();if(Q&&(clearTimeout(Q),Q=null),!(0,On.get)(M).text?.length)return;f(Date.now());let S=(0,On.get)(M),T=(0,On.get)(g),k=pq(S,T);await e.put(S.id,k),await W()},_saveLater(){Q&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,this.saveDraft().then(()=>console.info("Draft Autosaved")).catch(S=>console.error("AutoSaveFailed:",S))},3e3)},async checkout(B,S=!1){if(!Xs(B)&&!$o(B)&&B!==null)throw new Error("Expected checkout(string|Buffer|null)");if(S&&!$o(B))throw new Error("ForkOnlyWorksOnRans");let T=(0,On.get)(r);if(!S&&Ix(B,T))return[T,T];if(Xs(T)&&await this.saveDraft(),B===null)B="draft:"+await this._inc("draft"),V();else if(Xs(B)){let k=await e.get(B);if(!k)throw new Error("DraftNotFound");let R=(0,On.get)(g);V(Fx(k,R))}else{let R=(0,On.get)(x=>this.store.on("rants",x))[Vi(B)];if(!R)throw new Error("UnknownRant");S&&(B="draft:"+await this._inc("draft"),V(R))}return n(B),[B,T]},async deleteRant(B){let S=(0,On.get)(r);if(Ix(B,S)&&await this.checkout(null),Xs(B))await e.del(B),await this.drafts();else if($o(B)){let T=await this.repo.resolveFeed(B);if(!T)throw new Error("RantNotFound");return await this.createBlock(T,Cx,{id:B})}else throw new Error("DeleteWhat?")},async import(B){let S=PS.default.from(B);await this.dispatch(S,!0);let T=S.first.sig;return n(T),T}};function V(B={}){s(B.text||""),l(B.theme||(0,On.get)(o)),p(B.encryption||(0,On.get)(h)),f(B.date||Date.now())}async function W(){let B=e.iterator(),S=[],T=(0,On.get)(r);for await(let[k,R]of B){let x=Fx(R);S.push(Yx({id:k,...x},T))}return S.sort((k,R)=>R.date-k.date),P(S),S}function F(){return Xs((0,On.get)(r))}}a(_q,"DraftsModule");function Yx(e,t=null,r){if(!e)throw new Error("NoRant");let n=Ix(t,e.id),i=!e.rev,s=e.size;i&&(s=e.text?pq(e).length:0);let o=i?"draft":"signed",u=r&&e.encrypted?Cde(e.text,r):e.text;return{...e,message:u,state:o,selected:n,size:s,title:Ux(e.text),excerpt:NS(e.text),icon:DS(e.text),decrypted:e.encrypted?!!u:!0}}a(Yx,"mapRant");d();var Ude=Sn(Fde(),1);function Hx(){return{async inspect(){let e=await(0,Ude.inspect)(this.repo,{blockLabel(t,{link:r}){let n=Vi(t.key,3),i=Fx(t.body),s=OS`
            [${Vi(t.sig,3)}]
            ${i.seq}:${n}
          `;return i.type!==Ru?OS`
            ${s}
            UnknownBlock
          `:OS`
          ${s}
          ${DS(i.text)}
          ${Ux(i.text)}
          ${NS(i.text,12)}
          ${i.theme} ${i.encryption} ${i.compression}
        `}});return console.info(e),e}}}a(Hx,"InspectModule");var Vm=class extends Yde.SimpleKernel{constructor(t){super(t),this.repo.allowDetached=!0,this.store.register(bq("rants",()=>this.pk)),Object.assign(this,vq()),Object.assign(this,_q(t,this.config.bind(this))),Object.assign(this,Hx())}async boot(){await super.boot(),await this.drafts()}async _inc(t){let r=await this.repo.readReg(`inc|${t}`),n=(r?JSON.parse(r):-1)+1;return await this.repo.writeReg(`inc|${t}`,JSON.stringify(n)),n}async onquery(t={}){let r=get(this.$rants()).filter(i=>!t.onlyPublic||i.public),n=[];for(let i of r){let s=await this.repo.resolveFeed(i.id);n.push(s)}}};a(Vm,"Kernel");d();d();var jm=class{constructor(t,r,n){this.isTonicTemplate=!0,this.unsafe=n,this.rawText=t,this.templateStrings=r}valueOf(){return this.rawText}toString(){return this.rawText}};a(jm,"TonicTemplate");var Nr=class extends window.HTMLElement{constructor(){super();let t=Nr._states[super.id];delete Nr._states[super.id],this._state=t||{},this.preventRenderOnReconnect=!1,this.props={},this.elements=[...this.children],this.elements.__children__=!0,this.nodes=[...this.childNodes],this.nodes.__children__=!0,this._events()}static _createId(){return`tonic${Nr._index++}`}static _splitName(t){return t.match(/[A-Z][a-z0-9]*/g).join("-")}static _normalizeAttrs(t,r={}){return[...t].forEach(n=>r[n.name]=n.value),r}_checkId(){let t=super.id;if(!t){let r=this.outerHTML.replace(this.innerHTML,"...");throw new Error(`Component: ${r} has no id`)}return t}get state(){return this._checkId(),this._state}set state(t){this._state=(this._checkId(),t)}_events(){let t=Object.getOwnPropertyNames(window.HTMLElement.prototype);for(let r of this._props)t.indexOf("on"+r)!==-1&&this.addEventListener(r,this)}_prop(t){let r=this._id,n=`__${r}__${Nr._createId()}__`;return Nr._data[r]=Nr._data[r]||{},Nr._data[r][n]=t,n}_placehold(t){let r=this._id,n=`placehold:${r}:${Nr._createId()}__`;return Nr._children[r]=Nr._children[r]||{},Nr._children[r][n]=t,n}static match(t,r){return t.matches||(t=t.parentElement),t.matches(r)?t:t.closest(r)}static getPropertyNames(t){let r=[];for(;t&&t!==Nr.prototype;)r.push(...Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return r}static add(t,r){if(!(r||t.name&&t.name.length>1))throw Error("Mangling. https://bit.ly/2TkJ6zP");if(r||(r=Nr._splitName(t.name).toLowerCase()),!Nr.ssr&&window.customElements.get(r))throw new Error(`Cannot Tonic.add(${t.name}, '${r}') twice`);if(!t.prototype||!t.prototype.isTonicComponent){let i={[t.name]:class extends Nr{}}[t.name];i.prototype.render=t,t=i}return t.prototype._props=Nr.getPropertyNames(t.prototype),Nr._reg[r]=t,Nr._tags=Object.keys(Nr._reg).join(),window.customElements.define(r,t),typeof t.stylesheet=="function"&&Nr.registerStyles(t.stylesheet),t}static registerStyles(t){if(Nr._stylesheetRegistry.includes(t))return;Nr._stylesheetRegistry.push(t);let r=document.createElement("style");Nr.nonce&&r.setAttribute("nonce",Nr.nonce),r.appendChild(document.createTextNode(t())),document.head&&document.head.appendChild(r)}static escape(t){return t.replace(Nr.ESC,r=>Nr.MAP[r])}static unsafeRawString(t,r){return new jm(t,r,!0)}dispatch(t,r=null){let n={bubbles:!0,detail:r};this.dispatchEvent(new window.CustomEvent(t,n))}html(t,...r){let n=a(o=>{if(o&&o.__children__)return this._placehold(o);if(o&&o.isTonicTemplate)return o.rawText;switch(Object.prototype.toString.call(o)){case"[object HTMLCollection]":case"[object NodeList]":return this._placehold([...o]);case"[object Array]":return o.every(l=>l.isTonicTemplate&&!l.unsafe)?new jm(o.join(`
`),null,!1):this._prop(o);case"[object Object]":case"[object Function]":return this._prop(o);case"[object NamedNodeMap]":return this._prop(Nr._normalizeAttrs(o));case"[object Number]":return`${o}__float`;case"[object String]":return Nr.escape(o);case"[object Boolean]":return`${o}__boolean`;case"[object Null]":return`${o}__null`;case"[object HTMLElement]":return this._placehold([o])}return typeof o=="object"&&o&&o.nodeType===1&&typeof o.cloneNode=="function"?this._placehold([o]):o},"refs"),i=[];for(let o=0;o<t.length-1;o++)i.push(t[o],n(r[o]));i.push(t[t.length-1]);let s=i.join("").replace(Nr.SPREAD,(o,l)=>{let u=Nr._data[l.split("__")[1]][l];return Object.entries(u).map(([f,h])=>{let p=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return h===!0?p:h?`${p}="${Nr.escape(String(h))}"`:""}).filter(Boolean).join(" ")});return new jm(s,t,!1)}scheduleReRender(t){return this.pendingReRender?this.pendingReRender:(this.pendingReRender=new Promise(r=>setTimeout(()=>{if(!this.isInDocument(this.shadowRoot||this))return;let n=this._set(this.shadowRoot||this,this.render);if(this.pendingReRender=null,n&&n.then)return n.then(()=>{this.updated&&this.updated(t),r()});this.updated&&this.updated(t),r()},0)),this.pendingReRender)}reRender(t=this.props){let r={...this.props};return this.props=typeof t=="function"?t(r):t,this.scheduleReRender(r)}handleEvent(t){this[t.type](t)}_drainIterator(t,r){return r.next().then(n=>{if(this._set(t,null,n.value),!n.done)return this._drainIterator(t,r)})}_set(t,r,n=""){this.willRender&&this.willRender();for(let i of t.querySelectorAll(Nr._tags)){if(!i.isTonicComponent)continue;let s=i.getAttribute("id");!s||!Nr._refIds.includes(s)||(Nr._states[s]=i.state)}if(r instanceof Nr.AsyncFunction)return r.call(this,this.html,this.props).then(i=>this._apply(t,i));if(r instanceof Nr.AsyncFunctionGenerator)return this._drainIterator(t,r.call(this));r===null?this._apply(t,n):r instanceof Function&&this._apply(t,r.call(this,this.html,this.props)||"")}_apply(t,r){if(r&&r.isTonicTemplate?r=r.rawText:typeof r=="string"&&(r=Nr.escape(r)),typeof r=="string"){if(this.stylesheet&&(r=`<style nonce=${Nr.nonce||""}>${this.stylesheet()}</style>${r}`),t.innerHTML=r,this.styles){let s=this.styles();for(let o of t.querySelectorAll("[styles]"))for(let l of o.getAttribute("styles").split(/\s+/))Object.assign(o.style,s[l.trim()])}let n=Nr._children[this._id]||{},i=a((s,o)=>{if(s.nodeType===3){let u=s.textContent.trim();n[u]&&o(s,n[u],u)}let l=s.childNodes;if(!!l)for(let u=0;u<l.length;u++)i(l[u],o)},"walk");i(t,(s,o,l)=>{for(let u of o)s.parentNode.insertBefore(u,s);delete Nr._children[this._id][l],s.parentNode.removeChild(s)})}else t.innerHTML="",t.appendChild(r.cloneNode(!0))}connectedCallback(){this.root=this.shadowRoot||this,super.id&&!Nr._refIds.includes(super.id)&&Nr._refIds.push(super.id);let t=a(r=>r.replace(/-(.)/g,(n,i)=>i.toUpperCase()),"cc");for(let{name:r,value:n}of this.attributes){let i=t(r),s=this.props[i]=n;if(/__\w+__\w+__/.test(s)){let{1:o}=s.split("__");this.props[i]=Nr._data[o][s]}else if(/\d+__float/.test(s))this.props[i]=parseFloat(s,10);else if(s==="null__null")this.props[i]=null;else if(/\w+__boolean/.test(s))this.props[i]=s.includes("true");else if(/placehold:\w+:\w+__/.test(s)){let{1:o}=s.split(":");this.props[i]=Nr._children[o][s][0]}}if(this.props=Object.assign(this.defaults?this.defaults():{},this.props),this._id=this._id||Nr._createId(),this.willConnect&&this.willConnect(),!!this.isInDocument(this.root)){if(!this.preventRenderOnReconnect){this._source?this.innerHTML=this._source:this._source=this.innerHTML;let r=this._set(this.root,this.render);if(r&&r.then)return r.then(()=>this.connected&&this.connected())}this.connected&&this.connected()}}isInDocument(t){let r=t.getRootNode();return r===document||r.toString()==="[object ShadowRoot]"}disconnectedCallback(){this.disconnected&&this.disconnected(),delete Nr._data[this._id],delete Nr._children[this._id]}};a(Nr,"Tonic");Nr.prototype.isTonicComponent=!0;Object.assign(Nr,{_tags:"",_refIds:[],_data:{},_states:{},_children:{},_reg:{},_stylesheetRegistry:[],_index:0,version:typeof Yi<"u"?Hde().version:null,SPREAD:/\.\.\.\s?(__\w+__\w+__)/g,ESC:/["&'<>`/]/g,AsyncFunctionGenerator:async function*(){}.constructor,AsyncFunction:async function(){}.constructor,MAP:{'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;","/":"&#x2F;"}});var mn=Nr;d();var Git=`{"keypad-dialog.css":"QGltcG9ydCAiYnVpbGQvYnVuZGxlLmNzcyI7CkBpbXBvcnQgImdsb2JhbC5jc3MiOwoKLmtleXBhZHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHBhZGRpbmc6IDFyZW07CiAgd2lkdGg6IGZpdC1jb250ZW50Owp9Ci5rZXlwYWQgLm51bS1idXR0b257CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiAwLjFyZW0gIWltcG9ydGFudDsKICBib3JkZXItcmFkaXVzOiAwOwp9Ci5rZXlwYWQgLmxvY2stYnV0dG9uewogIG1hcmdpbjogMC4xcmVtICFpbXBvcnRhbnQ7Cn0KLmtleXBhZCAucm93ewogIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwp9Ci5rZXlwYWQgLmJhY2tzcGFjZS1idXR0b257CiAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsKICBtYXJnaW46IGF1dG8gIWltcG9ydGFudDsKICBtYXJnaW4tYm90dG9tOiAxcmVtICFpbXBvcnRhbnQ7CiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCAhaW1wb3J0YW50OwogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAgIWltcG9ydGFudDsKfQojS2V5UGFkRGlzcGxheXsKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsKfQojS2V5UGFkRGlzcGxheVVubG9ja3sKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsKfQojS2V5UGFkRGlzcGxheVVubG9jazo6cGxhY2Vob2xkZXIgewogIGNvbG9yOiAjZjE0NjQ2OwogIG9wYWNpdHk6IDE7Cn0KLmtleXBhZC1hcnRpY2xlewogIG92ZXJmbG93OiBoaWRkZW47Cn0KLnVubG9jay1rZXlwYWQtdGl0bGV7CiAgZGlzcGxheTogZmxleDsKICB0cmFuc2l0aW9uOiAwLjJzOwp9Ci51bmxvY2sta2V5cGFkLXRpdGxlIHNwYW57CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogYXV0bzsKICBmb250LXNpemU6IDEuNXJlbTsKfQoKLmNsb3NlLXVubG9ja3sKICB0b3A6IC0xMDBweDsKfQouY2xvc2UtbG9ja3sKICB0b3A6IC02MHB4Owp9Ci5jbG9zZS1idG57CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiBmaXQtY29udGVudDsKICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMSwgMSwgMSwgMCk7CiAgYm9yZGVyOiBub25lOwogIGJveC1zaGFkb3c6IGluc2V0IC0zcHggLTNweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMS44cmVtOwogIGxlZnQ6IC0zMHB4Owp9Ci5jbG9zZS1idG46aG92ZXJ7CiAgYmFja2dyb3VuZC1jb2xvcjojZTc1ZTVlOwogIGJveC1zaGFkb3c6IDNweCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7Cn0KLmNsb3NlLWJ0bjpmb2N1c3sKICBib3gtc2hhZG93OiBub25lOwp9Cgo=","static-loader.css":"LnN0YXRpYy1sb2FkZXItY2xhc3N7CiAgcGFkZGluZzowLjVyZW07CiAgd2lkdGg6NTAlOwogIG1hcmdpbjphdXRvOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOjAuM3JlbTsKfQouc3RhdGljLWxvYWRlci1jbGFzczpob3ZlcnsKICBmaWx0ZXI6YnJpZ2h0bmVzcygxLjEpOwogIGN1cnNvcjpwb2ludGVyOwp9Ci5zdGF0aWMtbG9hZGVyLWNsYXNzOmFjdGl2ZXsKICBmaWx0ZXI6YnJpZ2h0bmVzcygwLjkpOwp9CmNoaWxkLWVsZW1lbnR7CiAgZGlzcGxheTpmbGV4OwogIHRleHQtYWxpZ246Y2VudGVyOwp9CnB7dGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbjowOyBwYWRkaW5nOjFyZW07fQ=="}
`;function zde(e){e=e+".css";let t=JSON.parse(Git),r=b.Buffer.from(t[e],"base64").toString();return console.info(`\u{1F489}injecting stylesheet "${e}"`),r}a(zde,"getStyleSheet");var Qx=Sn(yo(),1);d();function ii(e){let t=e;if(typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("ElementNotFound:"+t);return e}a(ii,"nEl");function x1(e,t,r){let n=ii(e),i=t(o=>{n.type==="checkbox"?n.checked=o:n.value=o}),s=a(()=>{typeof r=="function"&&(n.type==="checkbox"?r(n.checked):r(n.value))},"handler");return typeof r=="function"&&(n.addEventListener("keyup",s),n.addEventListener("change",s)),()=>{i(),typeof r=="function"&&(n.removeEventListener("keyup",s),n.removeEventListener("change",s))}}a(x1,"nValue");function xq(e,t,r){let n=ii(e);return r(i=>n.classList.toggle(t,i))}a(xq,"nClass");function Il(e,t){return e=ii(e),e.addEventListener("click",t),()=>e.removeEventListener("click",t)}a(Il,"nClick");function zx(e,t){return e=ii(e),t(r=>{e.innerText=r})}a(zx,"nText");function w1(e,t,r){return e=ii(e),r(n=>{e.dataset[t]=n})}a(w1,"nAttr");function Qde(e,t){return e=ii(e),t(r=>{e.disabled=!!r})}a(Qde,"nDisabled");function Wde(e,t){return e=ii(e),t(r=>{e.style.display=r?"none":null})}a(Wde,"nHide");var[Vde,Wx]=(0,Qx.write)(null);mn.add(a(class extends mn{constructor(){super(),this.state.styles=zde("keypad-dialog"),this.attachShadow({mode:"open"})}async click(t){let r,n;switch(this.props.post==="false"?(r=this.shadowRoot.getElementById("KeyPadDisplayUnlock"),n=this.shadowRoot.getElementById("KeyPadDisplayUnlock").value):(r=this.shadowRoot.getElementById("KeyPadDisplay"),n=this.shadowRoot.getElementById("KeyPadDisplay").value),t.composedPath()[0].accessKey){case"keyBtn":r.value=n+t.composedPath()[0].value;break;case"lockBtn":await Kit(n),ii("edit-keypad-dlg").open=!1,r.value="";break;case"BackspaceBtn":r.value=jde(n);break;case"closeBtn":ii("edit-keypad-dlg").open?ii("edit-keypad-dlg").open=!1:ii("edit-keypad-dlg2").open&&(ii("edit-keypad-dlg2").open=!1),r.value="",Wx("EVENT:CLOSE");break;case"keyBtnUnlock":r.value=n+t.composedPath()[0].value,r.placeholder!==""&&(r.placeholder="");break;case"UnlockBtn":Wx(n),r.value="";break;case"BackspaceBtnUnlock":r.value=jde(n);break}}render(){let t=this.props.post==="false",r={...t?{display:"KeyPadDisplayUnlock"}:{display:"KeyPadDisplay"},...t?{backspace:"BackspaceBtnUnlock"}:{backspace:"BackspaceBtn"},...t?{number:"keyBtnUnlock"}:{number:"keyBtn"},...t?{lock:"UnlockBtn"}:{lock:"lockBtn"},...t?{lockID:"unlock-button"}:{lockID:"lock-button"},...t?{lockText:"Unlock"}:{lockText:"Lock"},...t?{close:"close-unlock"}:{close:"close-lock"}},n=[];for(let s=1;s<10;s++)n.push(this.html(`<button value='${s}' accessKey='${r.number}' class='num-button'>${s}</button>`));let i=[];for(let s=0;s<3;s++){let o=s<1?0:s*3,l=s<1?3:s*3+3;i.push(this.html(`<div class='row'>${n.slice(o,l).join("")}</div>`))}return this.html`
      <div class='keypad'>
        <div class='row'>
          <input id='${r.display}' type='password' data-value='1' disabled/>
          <button accessKey="${r.backspace}" class='backspace-button'></button>
        </div>
        ${i}
        <div class='row'>
          <button accessKey='${r.lock}' class='lock-button' id='${r.lockID}'>${r.lockText}</button>
        </div>
        <button accessKey='closeBtn' class='close-btn ${r.close}'>Close</button>
      </div>
    `}stylesheet(){return this.state.styles}},"KeypadDialog"));function jde(e){return e=e.slice(0,-1),e}a(jde,"RemoveLastChar");async function Kit(e){Wx(e)}a(Kit,"pushSecret");async function Vx(e){if(e){ii("edit-keypad-dlg2").open=!0;let t=await(0,Qx.next)(Vde);return ii("edit-keypad-dlg2").open=!1,Wx(null),t}else{ii("edit-keypad-dlg").open=!0;let t=await(0,Qx.next)(Vde);return t==="EVENT:CLOSE"?!1:(ii("edit-keypad-dlg").open=!1,Wx(null),t)}}a(Vx,"promptPIN");d();var J0e=Sn(G0e(),1),Fu=Sn(yo(),1);d();var rP=Sn(kx(),1),$0e=Sn(yo(),1);var{decodeBlock:K0e}=rP.SimpleKernel,Kat="shit",f2=class extends rP.SimpleKernel{constructor(t,r=Date.now){super(t),this.repo.allowDetached=!0,this.store.register(Xat(void 0,void 0,r)),Object.assign(this,Hx())}$rants(){return(0,$0e.mute)(a(r=>this.store.on("rants",r),"$rs"),r=>Object.values(r).map(Yx))}async externalRants(t){}async onquery(t){let r=await super.onquery(t);return typeof this.propaganda=="function"&&await this.externalRants(),r}gc(t){return this.store.gc(t)}};a(f2,"PublicKernel");var $at=36e5;function Xat(e=50,t=$at,r=Date.now){return{name:"rants",initialValue:{},filter({block:n,parentBlock:i}){let s=K0e(n.body),{type:o}=s;switch(o){case Ru:{let l=_1(s);if(n.body.length>1024)return"RantTooBig";if(l.encryption!==0)return"RantEncrypted";if(l.public!==!0)return"RantNotPublic";if(l.date+t<r())return"RantExpired"}break;case Kat:break;default:return"UnknownBlock"}return!1},reducer({state:n,block:i,parentBlock:s,CHAIN:o,mark:l}){let u=K0e(i.body),{type:f}=u;switch(f){case Ru:{let h=_1(u);n[Vi(o)]={...h,id:o,author:i.key,rev:i.sig,size:i.body.length,expiresAt:h.date+t,overflowAt:0},l(Vi(o),n[Vi(o)].expiresAt);let p=Object.values(n).filter(g=>!g.overflowAt);if(p.length>e){let g=Jat(p)[p.length-1];g.overflowAt=r(),l(Vi(g.id))}}}return{...n}},sweep({state:n,CHAIN:i,mark:s,drop:o,payload:l}){let u=n[Vi(i)];return u?(!u.overflowAt&&u.expiresAt>r()?s(l,u.expiresAt):(o(),delete n[Vi(i)]),n):(console.warning("RantAlreadyGone"),n)}}}a(Xat,"TinyBoard");function Jat(e){return e.sort((t,r)=>r.expiresAt>t.expiresAt)}a(Jat,"sortByWeight");d();var y7=Sn(yo(),1);var[m7,Zat]=(0,y7.write)({}),X0e=(0,y7.mute)(m7,e=>e?.path||"pitch");function nP(){let{origin:e,hash:t}=window.location,r=new URL(e+"/"+t.replace(/^#\/?/,"")),n="pitch",i,s=r.pathname.match(/^\/([^/]+)(?:\/(.+))?/);s&&(n=s[1],i=s[2]),n=n.toLowerCase();let o={},l=!0;if(n!=="r"){let u=new URLSearchParams(r.search);for(let[f,h]of u.entries())o[f]=h,l=void 0}Zat({path:n,id:i,q:l&&o})}a(nP,"apply");function pa(e){e.startsWith("#")||(e="#"+e),e=e.replace(/^#\/+/,"#/"),window.history.pushState(null,null,e),nP()}a(pa,"navigate");window.addEventListener("popstate",nP);nP();var Z0e=new J0e.BrowserLevel("rant.lvl",{valueEncoding:"buffer",keyEncoding:"buffer"}),Wr=new Vm(Z0e),P1=new f2(Z0e.sublevel("PUB",{keyEncoding:"buffer",valueEncoding:"buffer"}));P1.externalRants=e=>Wr.onquery({...e,onlyPublic:!0});var[est,tst]=(0,Fu.write)(!1),Kc=tst,h2=(0,Fu.mute)((0,Fu.combine)(est,X0e),([e,t])=>["pitch","show","edit"].find(r=>r===t)?t==="pitch"?!1:e:!0);async function epe(){await Wr.checkout(null);let e=(0,Fu.get)(Wr.$rant());pa(`edit/${e.id}`),Kc(!0)}a(epe,"createNewDraft");async function b7(){await nst().catch(e=>(console.warn("navigator.share() failed, trying clipboard",e),rst().then(()=>window.alert("Copied URL to clipboard"))))}a(b7,"shareDefault");async function tpe(){let e=(0,Fu.get)(Wr.$current);if(Xs(e))return!1;let t=await Wr.pickle(e),r=new URL(window.location);return r.hash="r/"+t,r.toString()}a(tpe,"currentPickle");async function rst(){let e=await tpe();e&&await navigator.clipboard.writeText(e)}a(rst,"currentToClipboard");async function nst(){let e=await tpe();if(!e)return;let{title:t,excerpt:r}=(0,Fu.get)(Wr.$rant()),n={title:`1k | ${t||"Note"}`,text:r,url:e};return await navigator.share(n)}a(nst,"navigatorShare");d();var d2=null,hw=class extends mn{constructor(){super(),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),d2=t,this.reRender(r=>r)})}click(t){mn.match(t.target,"button.cancel")&&(d2=null,this.reRender(r=>r)),mn.match(t.target,"button.install")&&(d2.prompt(),d2.userChoice.then(r=>{r.outcome==="accepted"&&window.alert("Thank you, you are awesome! No joke."),d2=null,this.reRender(n=>n)}))}render(){if(!!d2)return this.html`
      <dialog open>
        <article>
          <header>Add to Homescreen</header>
          <p>
            This app was designed to be stuked to your homescreen.<br/>
            Install it to get better display realestate.</br>
            Quick When-In-Panic access.<br/>
            Create incentive to port kernel to background workers.<br/>
            No, no notifcations. They're scheduled for future releases when
            the kernel is ported and will fire when you pass an
            attractive individual in your area.
            </br>
          </p>

          <p>
            What are you waiting for?<br/>
            Press <strong>install</strong> now!
          </p>
          <footer class="row space-between">
            <button class="hgap cancel">Nope!</button>
            <button class="hgap install">Install</button>
          </footer>
        </article>
      </dialog>
    `}static stylesheet(){return`
      button.cancel { --primary: red; }
    `}};a(hw,"InstallButton");mn.add(hw);d();mn.add(a(class extends mn{click(t){let r=mn.match(t.target,"button[data-route]");if(!r)return;let n=r.dataset.route;pa(n)}render(){return this.html`
      <nav class="row">
        <button data-route="home" data-toltip="Drafts"><ico></ico></button>
        <button data-route="saved" data-toltip="Saved"><ico></ico></button>
        <button data-route="discover" data-toltip="Discover"><ico></ico></button>
        <button data-route="settings" data-toltip="Settings"><ico></ico></button>
      </nav>
    `}},"MainMenu"));d();var rpe=Sn(yo(),1);mn.add(a(class extends mn{async click(t){mn.match(t.target,"#btn-toggle")&&(this.props.state==="pitch"&&pa("home"),Kc(!(0,rpe.get)(h2))),mn.match(t.target,".btn-export")&&b7()}render(){let{state:t,rant:r}=this.props;if(!t)return;if(t==="pitch")return this.html`
        <ctrls class="row space-between xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
        </ctrls>
      `;let n=new Date(r.date).toLocaleString(),i=t==="draft"?this.html`
        <sup><code>DRAFT</code></sup>
        <small>saved: ${n}</small>
      `:this.html`
        <small>Author: ${r.author.slice(0,4).toString("hex")}</small>
        <small>Date: <span id="author-id">${n}</span></small>

      `;return this.html`
      <ctrls class="row space-between xcenter">
        <!-- left -->
        <div class="row xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
          <div class="col">${i}</div>
        </div>
        <!-- right -->
        ${t==="draft"?this.html`
            <!-- <b role="button">Publish</b> -->
          `:this.html`
          <!--<button class="btn-round"><ico></ico></button>-->
          <b role="button" class="outline secondary btn-export">share</b>
          `}
      </ctrls>
    `}},"RenderCtrls"));d();var cpe=Sn(yo(),1);d();var cP=Sn(npe(),1),ape=Sn(ipe(),1);cP.default.extend(ape.default);var v7=cP.default;d();var lP=Sn(yo(),1);d();function ope(e,t,r,n){if(document.getElementById(`${e.id}:alert-${r}`))return;let i=document.createElement("div");i.classList.add("alert-collapse");let s=document.createElement("div");s.classList.add(`alert-${t}`),s.id=`${e.id}:alert-${r}`;let o=document.createElement("p");o.innerText=r,s.appendChild(o),i.appendChild(s),e.appendChild(i),ist(i)}a(ope,"createAlert");function ist(e){spe(e),setTimeout(()=>spe(e),2e3),setTimeout(()=>e.remove(),2200)}a(ist,"clearAlert");function spe(e){e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}a(spe,"collapseAlert");var ast=yq("PIC0.K0.GFZu8O6IJ1_4DVdAZHQr32fJx8afn6MUbyyXz987iLAB0.3Dq-Z9Oa8L6SiTU6LWCssrPRyPN_RPXC40XzrwQf2dHdWTWGyUpwzvFoMYzZ3_DTtXlvgl1EI+1Z+pGPCJcFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOw3gAHoWIAoXTFA44jIENoZWF0U2hlZXQKCiMjIE1hY3JvcwoKfCBleHByZXNzaW9uIHwgbmFtZXwgc3RhdHVzfAp8LcQBxgbIBy0tOnwKfGAh8J+TtyAhYHwgQmlnIEVtb2ppIFBpY3R1cmVzfCBkb25lxCZ7a2V5fWB8IEF1dGhvciBQdWJsaWMta2V5fCB0b2RvxSN0OmVwb2NoXHxmb3JtYXTEL0NvdW50ZG93bssnZzp1NjIycmQ4bXdwfWAgfCBFbWJlZCBHZW9oYXNofCBwbGFubmVkIMQtfn54b3I6cHdcfHJlZGFjdGVkfn7EM0lucGxhY2UgZW5jcnlwdOYA88s65AEZQmFzaWNzCiMjIyBUeXBvZ3JhcGh5CnzqASZ8cmVzdWx05gEexQQKfGAqKmJvbGQqKsRmICAgyA_EG19pdGFsaWNzX2B8IMkMxBl+flN0cmlrZSBUaHJvdWdo5gCk0hZ8CnwgQmFja3RpY2tzLcViYGNvZGVg5gCyIyBIZWFkaW5ncwpgYGBtYXJr5AE6CskXIDHkANfIDTLMMiAzxA7KDzTFD8oQNcYQyhE2xGPGdUxpc3TlAScjIyBVbm9yZGVyZWTtAIItIHN3aW1txDh3ZWFyCi0gcGFzc3BvcnTEG3VuZ2xhc3Nl5QC2xVMjIyBP00cxLiBNb25rZXkKMskKMy4gQmFuYW5hxT3EOlRhYmxlcwrNOnwgYWxpZ24gcmlnaHQgyA5sZWbKDWNlbnRlcuQCNegC3sQBOnw6yw7NDeUC_uQB4yAgyVjFUsYBxRttaWRkbGXFD8ksxAEwIHwgQ2HIK8YsygHNLEFCIHwgQUxQSEEgQkVUQcgseMks6AD4TGlua3MgJmFtcDsgSW1hZ_ABBFvEISB0ZXh0XShodHRwczovL2hvc3QudGxkKQohW2FsdCBpxDjXJC_FHS5wbmcpxXRfVE9ETzogYmxvY2sgcmVtb3RlxkBzIGZyb20gdW50cnVzdGVkIGHlA_RzLl_mAjBCxDJxdW90Ze0AoD4gVGhlIHRyZWUgd2FzIHRhbGxlciB0aGFuIGFueXRo5AI+c2hlCj4gaGFkIGV2ZXIgc2VlbiBiZWZvcmUuCj4KPiAtVGhleSBzYWlkIGl0xShixCN0aGVyZSBhIHdoaWxlLuoCukNvZGXmAI9zCuQBTcQZxAggIGNvbnN0IHggPSA0MssTb2xlLmxvZyh4KcgwoXoBoXgAoWwAoWTLQngxnEIYkAChcwo"),sst=yq("PIC0.K0.xQLjkWClGDyYFYam0PBJa1I0UFpKa7AhS_TNdBO0wWMB0.MGnJgexXLCNKXt-r3TddbRsP6Vvy6LdeGcF8SK_f1ou7N2_fGnEEwjrdZLQ4TiG4smbEV7CS4m6DTlBkTJk0CQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEu3gAHoWIAoXTFAQwxACCECMDWYFCwFQBYEsDOJ0gIYgC4oB2AniAGYCuANlaQPoDCVA9hQCZkBOApt3SADlmebgAdsbAHSwAknhAB3ZpygYAxswC2oqtxG0QzMmSpFuAGhyE2ilDRBok2HiELDuGAG4pcARQBKGmwWIACq_gAyVjaivJwAtABM8bHcnA4KzprSsMCgESiaKHiwIAB8IADyhNwgANJ2zCAAQsQi8MjYeADkGAB+iQAMg4rKbBh4TUjcVKIgxKzkzGoUGMyEik7yWIWiynjYhHg5ADy4SDxkALwARMDcAPQ1CjcgnMy6twBGFHiThK81FRsGg0N8WGooDcyghOKRiicHtgyvAwIAeDcAwvtwIAAoXoCoXgAoWwAoWTLQngx2M+2QAChcwI");mn.add(a(class extends mn{async click(t){if(!t.target.matches("button.create"))return;console.log("Button clicked");let[r]=await Wr.checkout(null);Kc(!0),pa(`edit/${r}`)}preprocess(t=""){let r=this.props;return qS(t,r)}async render(){let{pickle:t,state:r,encrypted:n}=this.props?.n||{},i;n&&(i=await dw(null,0),i||(console.info("too many attempts"),pa("saved/"),ope(ii("saved-rants-alert"),"danger","Too many attempts",!0)),i==="EVENT:CLOSE"&&(pa("saved/"),i=!1));let s=(0,lP.get)(Wr.$rant(i));if(ii("markdown-area").value=s.message,t&&console.log("We have a pickle!",t),s.message===""&&r!=="draft")return this.html`<code>Empty Casette</code>`;if(this.props.id==="pitch-render")return ii("render-ctrls")?.reRender({state:"pitch"}),this.html`
        ${this.html([this.preprocess(sst.text)])}
      `;ii("render-ctrls")?.reRender({state:r,rant:this.props.n});let o=this.preprocess(s.message||ast.text);return this.html([o])}},"MessagePreview"));var dw=a(async(e,t)=>{if(e){if(e==="EVENT:CLOSE")return"EVENT:CLOSE";if((0,lP.get)(Wr.$rant(e)).message)return e;{if(t++,t>=3)return!1;let n=await Vx(!0);return await dw(n,t)}}else{let r=await Vx(!0);return await dw(r,t)}},"promptUntilCorrect");mn.add(a(class extends mn{async click(t){let r=mn.match(t.target,"rant");if(!r)return;let n;if(r.dataset.id==="new")return epe();if(n=Xs(r.dataset.id)?r.dataset.id:b.Buffer.from(r.dataset.id,"base64"),mn.match(t.target,".trash")){if(t.target.dataset.encrypted==="true"){await Wr.checkout(n);let s=await dw(null,0);s&&s!=="EVENT:CLOSE"&&(console.info("deleteRant",n),await Wr.deleteRant(n))}else console.info("deleteRant",n),await Wr.deleteRant(n);await Wr.checkout(null);return}await Wr.checkout(n);let i=(0,cpe.get)(Wr.$rant());if(i.state==="draft")pa(`edit/${i.id}`),Kc(!0);else if(i.state==="signed"){let s=await Wr.pickle(n);pa(`show/${s}`)}}render(){let{n:t}=this.props,r=this.dataset.create==="true",n="";return r&&(n=this.html`
        <rant data-id="new" class="row xcenter">
          <icon></icon>
          <h4>New Note</h4>
        </rant>
      `),!Array.isArray(t)&&!r?this.html`<p class="text-center"><code>No rants</code></p>`:this.html`
      ${n}
      ${(t||[]).map(i=>{let s=i.id;$o(i.id)&&(s=s.toString("base64"));let o=i.encrypted&&(!i.decrypted||i.decrypted===void 0)?"[Locked] \u{1F510}":`${i.excerpt}...`;return this.html`
          <rant class="row xcenter space-between"
            data-id="${s}"
            data-state="${i.state}">
            <div class="row xcenter">
              <icon>${i.icon}</icon>
              <div class="col xstart">
                <h6>${i.title}</h6>
                <small>${v7(i.date).fromNow()}</small>
                <div class="sampl">${o}</div>
              </div>
            </div>
            <b role="button" class="btn-round trash" data-encrypted=${i.encrypted.toString()}></b>
          </rant>
        `})}
    `}},"RantList"));d();var dpe=Sn(hpe(),1);var _7=class extends mn{render(){let t=this.props.n||"",r=this.props.level||"L",n=this.props.margin||15,i=this.props.size||4;if(!t)return this.html`<!--qr-code data empty-->`;b.Buffer.isBuffer(t)&&(t=t.toString("base64"));let s=new dpe.default(0,r);s.addData(t,"Byte"),s.make();let o=s.createSvgTag(i,n);return this.html`
      ${this.html([o])}
    `}};a(_7,"QrCode");mn.add(_7);d();var lb=Sn(yo(),1);var axe=Sn(ixe(),1);var gY="GLOBAL_RANT_WARNING",pC=class extends mn{constructor(){super(),this.modem=new axe.default,this.isSwarming=!1}connected(){let t=P1.$rants(),r=(0,lb.gate)((0,lb.combine)({rants:t,peers:(0,lb.mute)(P1.$connections(),n=>n.length)}));this.unsub=r(n=>{this.reRender(i=>({...i,...n}))})}disconnected(){this.unsub()}change(t){mn.match(t.target,"#toggle-swarm")&&this.toggleSwarm(t.target.checked)}async click(t){let r=mn.match(t.target,"rant[data-id]")}render(){let t=this.props.rants||[],r=this.props.peers||0;this.classList.add("pad");let n=a(()=>this.isSwarming&&!t.length?this.html`
          <h5 aria-busy="true">Searching for peers...</h5>
        `:t.map(i=>this.html`
          <rant-card rant=${i}></rant-card>
        `),"listRants");return this.html`
      <h3>Discover</h3>
      <p>This page is under construction, peer up at your own risk.</p>
      <label for="toggle-swarm">
        <input type="checkbox" role="switch"
          name="toggle-swarm" id="toggle-swarm"
          ${this.isSwarming?"checked":""}/>
        Swarm
      </label>

      <div>
        Peers: ${r+""}
      </div>
      ${n()}
    `}async toggleSwarm(t){t?(this.modem.join(gY,(...r)=>P1.spawnWire(...r)),console.log("second kernel booted, topic joined",gY),this.reRender(r=>r)):this.modem.leave(gY),this.isSwarming=t}static stylesheet(){return`
      discover-page { display: block; }
    `}};a(pC,"DiscoverPage");mn.add(pC);var gC=class extends mn{render(){let t=this.props.rant;if(!$o(t?.id))return this.html`<error>Invalid rant</error>`;let r=Vi(t.id),n=this.html([qS(t.text)]);return this.html`
      <article class="rant" data-id="${r}" data-theme="${LS[t.theme]}">
        <div class="contents">
          ${n}
        </div>
        <footer class="row space-between">
          <!-- picoshit rebirth -->
          <small>${v7(t.date).fromNow()}</small>
          <b role="button" class="btn-round">+4</b>
        </foot>
      </article>
    `}static stylesheet(){return`
      article.rant .contents {
        max-height: 400px;
        overflow: hidden;
      }
    `}};a(gC,"RantCard");mn.add(gC);d();d();var sl=Sn(sxe(),1),vf=Sn(oxe(),1);d();d();d();var pg=class extends Map{constructor(t,r=a1t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(cxe(this,t))}has(t){return super.has(cxe(this,t))}set(t,r){return super.set(n1t(this,t),r)}delete(t){return super.delete(i1t(this,t))}};a(pg,"InternMap");function cxe({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}a(cxe,"intern_get");function n1t({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}a(n1t,"intern_set");function i1t({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}a(i1t,"intern_delete");function a1t(e){return e!==null&&typeof e=="object"?e.valueOf():e}a(a1t,"keyof");d();function mC(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}a(mC,"max");d();function bC(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}a(bC,"min");d();d();d();function mY(e){return e}a(mY,"default");var _C=1,bY=2,vY=3,vC=4,lxe=1e-6;function s1t(e){return"translate("+e+",0)"}a(s1t,"translateX");function o1t(e){return"translate(0,"+e+")"}a(o1t,"translateY");function c1t(e){return t=>+e(t)}a(c1t,"number");function l1t(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}a(l1t,"center");function u1t(){return!this.__axis}a(u1t,"entering");function uxe(e,t){var r=[],n=null,i=null,s=6,o=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===_C||e===vC?-1:1,h=e===vC||e===bY?"x":"y",p=e===_C||e===vY?s1t:o1t;function g(y){var E=n??(t.ticks?t.ticks.apply(t,r):t.domain()),M=i??(t.tickFormat?t.tickFormat.apply(t,r):mY),z=Math.max(s,0)+l,P=t.range(),Q=+P[0]+u,V=+P[P.length-1]+u,W=(t.bandwidth?l1t:c1t)(t.copy(),u),F=y.selection?y.selection():y,B=F.selectAll(".domain").data([null]),S=F.selectAll(".tick").data(E,t).order(),T=S.exit(),k=S.enter().append("g").attr("class","tick"),R=S.select("line"),x=S.select("text");B=B.merge(B.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(h+"2",f*s)),x=x.merge(k.append("text").attr("fill","currentColor").attr(h,f*z).attr("dy",e===_C?"0em":e===vY?"0.71em":"0.32em")),y!==F&&(B=B.transition(y),S=S.transition(y),R=R.transition(y),x=x.transition(y),T=T.transition(y).attr("opacity",lxe).attr("transform",function(N){return isFinite(N=W(N))?p(N+u):this.getAttribute("transform")}),k.attr("opacity",lxe).attr("transform",function(N){var m=this.parentNode.__axis;return p((m&&isFinite(m=m(N))?m:W(N))+u)})),T.remove(),B.attr("d",e===vC||e===bY?o?"M"+f*o+","+Q+"H"+u+"V"+V+"H"+f*o:"M"+u+","+Q+"V"+V:o?"M"+Q+","+f*o+"V"+u+"H"+V+"V"+f*o:"M"+Q+","+u+"H"+V),S.attr("opacity",1).attr("transform",function(N){return p(W(N)+u)}),R.attr(h+"2",f*s),x.attr(h,f*z).text(M),F.filter(u1t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===bY?"start":e===vC?"end":"middle"),F.each(function(){this.__axis=W})}return a(g,"axis"),g.scale=function(y){return arguments.length?(t=y,g):t},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(r=y==null?[]:Array.from(y),g):r.slice()},g.tickValues=function(y){return arguments.length?(n=y==null?null:Array.from(y),g):n&&n.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(s=o=+y,g):s},g.tickSizeInner=function(y){return arguments.length?(s=+y,g):s},g.tickSizeOuter=function(y){return arguments.length?(o=+y,g):o},g.tickPadding=function(y){return arguments.length?(l=+y,g):l},g.offset=function(y){return arguments.length?(u=+y,g):u},g}a(uxe,"axis");function _Y(e){return uxe(_C,e)}a(_Y,"axisTop");function xY(e){return uxe(vY,e)}a(xY,"axisBottom");d();d();d();d();var f1t={value:()=>{}};function hxe(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new xC(r)}a(hxe,"dispatch");function xC(e){this._=e}a(xC,"Dispatch");function h1t(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(h1t,"parseTypenames");xC.prototype=hxe.prototype={constructor:xC,on:function(e,t){var r=this._,n=h1t(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=d1t(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=fxe(r[i],e.name,t);else if(t==null)for(i in r)r[i]=fxe(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new xC(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function d1t(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(d1t,"get");function fxe(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=f1t,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(fxe,"set");var wY=hxe;d();d();d();d();var wC="http://www.w3.org/1999/xhtml",AY={svg:"http://www.w3.org/2000/svg",xhtml:wC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $u(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),AY.hasOwnProperty(t)?{space:AY[t],local:e}:e}a($u,"default");function p1t(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===wC&&t.documentElement.namespaceURI===wC?t.createElement(e):t.createElementNS(r,e)}}a(p1t,"creatorInherit");function g1t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(g1t,"creatorFixed");function S3(e){var t=$u(e);return(t.local?g1t:p1t)(t)}a(S3,"default");d();d();d();function y1t(){}a(y1t,"none");function I0(e){return e==null?y1t:function(){return this.querySelector(e)}}a(I0,"default");function EY(e){typeof e!="function"&&(e=I0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=new Array(o),u,f,h=0;h<o;++h)(u=s[h])&&(f=e.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f);return new Da(n,this._parents)}a(EY,"default");d();d();function SY(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(SY,"array");d();function m1t(){return[]}a(m1t,"empty");function fb(e){return e==null?m1t:function(){return this.querySelectorAll(e)}}a(fb,"default");function b1t(e){return function(){return SY(e.apply(this,arguments))}}a(b1t,"arrayAll");function kY(e){typeof e=="function"?e=b1t(e):e=fb(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&(n.push(e.call(u,u.__data__,f,o)),i.push(u));return new Da(n,i)}a(kY,"default");d();d();function hb(e){return function(){return this.matches(e)}}a(hb,"default");function AC(e){return function(t){return t.matches(e)}}a(AC,"childMatcher");var v1t=Array.prototype.find;function _1t(e){return function(){return v1t.call(this.children,e)}}a(_1t,"childFind");function x1t(){return this.firstElementChild}a(x1t,"childFirst");function CY(e){return this.select(e==null?x1t:_1t(typeof e=="function"?e:AC(e)))}a(CY,"default");d();var w1t=Array.prototype.filter;function A1t(){return Array.from(this.children)}a(A1t,"children");function E1t(e){return function(){return w1t.call(this.children,e)}}a(E1t,"childrenFilter");function IY(e){return this.selectAll(e==null?A1t:E1t(typeof e=="function"?e:AC(e)))}a(IY,"default");d();function TY(e){typeof e!="function"&&(e=hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new Da(n,this._parents)}a(TY,"default");d();d();d();function k3(e){return new Array(e.length)}a(k3,"default");function MY(){return new Da(this._enter||this._groups.map(k3),this._parents)}a(MY,"default");function C3(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a(C3,"EnterNode");C3.prototype={constructor:C3,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function BY(e){return function(){return e}}a(BY,"default");function S1t(e,t,r,n,i,s){for(var o=0,l,u=t.length,f=s.length;o<f;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new C3(e,s[o]);for(;o<u;++o)(l=t[o])&&(i[o]=l)}a(S1t,"bindIndex");function k1t(e,t,r,n,i,s,o){var l,u,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(l=0;l<h;++l)(u=t[l])&&(g[l]=y=o.call(u,u.__data__,l,t)+"",f.has(y)?i[l]=u:f.set(y,u));for(l=0;l<p;++l)y=o.call(e,s[l],l,s)+"",(u=f.get(y))?(n[l]=u,u.__data__=s[l],f.delete(y)):r[l]=new C3(e,s[l]);for(l=0;l<h;++l)(u=t[l])&&f.get(g[l])===u&&(i[l]=u)}a(k1t,"bindKey");function C1t(e){return e.__data__}a(C1t,"datum");function RY(e,t){if(!arguments.length)return Array.from(this,C1t);var r=t?k1t:S1t,n=this._parents,i=this._groups;typeof e!="function"&&(e=BY(e));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=I1t(e.call(h,h&&h.__data__,f,n)),E=y.length,M=l[f]=new Array(E),z=o[f]=new Array(E),P=u[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new Da(o,n),o._enter=l,o._exit=u,o}a(RY,"default");function I1t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(I1t,"arraylike");d();function LY(){return new Da(this._exit||this._groups.map(k3),this._parents)}a(LY,"default");d();function DY(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(DY,"default");d();function NY(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var f=r[u],h=n[u],p=f.length,g=l[u]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;u<i;++u)l[u]=r[u];return new Da(l,this._parents)}a(NY,"default");d();function OY(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(OY,"default");d();function qY(e){e||(e=T1t);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=i[s]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(u[h]=f);u.sort(t)}return new Da(i,this._parents).order()}a(qY,"default");function T1t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(T1t,"ascending");d();function PY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(PY,"default");d();function FY(){return Array.from(this)}a(FY,"default");d();function UY(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(UY,"default");d();function YY(){let e=0;for(let t of this)++e;return e}a(YY,"default");d();function HY(){return!this.node()}a(HY,"default");d();function zY(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,l;s<o;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}a(zY,"default");d();function M1t(e){return function(){this.removeAttribute(e)}}a(M1t,"attrRemove");function B1t(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(B1t,"attrRemoveNS");function R1t(e,t){return function(){this.setAttribute(e,t)}}a(R1t,"attrConstant");function L1t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a(L1t,"attrConstantNS");function D1t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(D1t,"attrFunction");function N1t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(N1t,"attrFunctionNS");function QY(e,t){var r=$u(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?B1t:M1t:typeof t=="function"?r.local?N1t:D1t:r.local?L1t:R1t)(r,t))}a(QY,"default");d();d();function I3(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(I3,"default");function O1t(e){return function(){this.style.removeProperty(e)}}a(O1t,"styleRemove");function q1t(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(q1t,"styleConstant");function P1t(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(P1t,"styleFunction");function WY(e,t,r){return arguments.length>1?this.each((t==null?O1t:typeof t=="function"?P1t:q1t)(e,t,r??"")):T0(this.node(),e)}a(WY,"default");function T0(e,t){return e.style.getPropertyValue(t)||I3(e).getComputedStyle(e,null).getPropertyValue(t)}a(T0,"styleValue");d();function F1t(e){return function(){delete this[e]}}a(F1t,"propertyRemove");function U1t(e,t){return function(){this[e]=t}}a(U1t,"propertyConstant");function Y1t(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(Y1t,"propertyFunction");function VY(e,t){return arguments.length>1?this.each((t==null?F1t:typeof t=="function"?Y1t:U1t)(e,t)):this.node()[e]}a(VY,"default");d();function dxe(e){return e.trim().split(/^|\s+/)}a(dxe,"classArray");function jY(e){return e.classList||new pxe(e)}a(jY,"classList");function pxe(e){this._node=e,this._names=dxe(e.getAttribute("class")||"")}a(pxe,"ClassList");pxe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gxe(e,t){for(var r=jY(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(gxe,"classedAdd");function yxe(e,t){for(var r=jY(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(yxe,"classedRemove");function H1t(e){return function(){gxe(this,e)}}a(H1t,"classedTrue");function z1t(e){return function(){yxe(this,e)}}a(z1t,"classedFalse");function Q1t(e,t){return function(){(t.apply(this,arguments)?gxe:yxe)(this,e)}}a(Q1t,"classedFunction");function GY(e,t){var r=dxe(e+"");if(arguments.length<2){for(var n=jY(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Q1t:t?H1t:z1t)(r,t))}a(GY,"default");d();function W1t(){this.textContent=""}a(W1t,"textRemove");function V1t(e){return function(){this.textContent=e}}a(V1t,"textConstant");function j1t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(j1t,"textFunction");function KY(e){return arguments.length?this.each(e==null?W1t:(typeof e=="function"?j1t:V1t)(e)):this.node().textContent}a(KY,"default");d();function G1t(){this.innerHTML=""}a(G1t,"htmlRemove");function K1t(e){return function(){this.innerHTML=e}}a(K1t,"htmlConstant");function $1t(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a($1t,"htmlFunction");function $Y(e){return arguments.length?this.each(e==null?G1t:(typeof e=="function"?$1t:K1t)(e)):this.node().innerHTML}a($Y,"default");d();function X1t(){this.nextSibling&&this.parentNode.appendChild(this)}a(X1t,"raise");function XY(){return this.each(X1t)}a(XY,"default");d();function J1t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(J1t,"lower");function JY(){return this.each(J1t)}a(JY,"default");d();function ZY(e){var t=typeof e=="function"?e:S3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a(ZY,"default");d();function Z1t(){return null}a(Z1t,"constantNull");function eH(e,t){var r=typeof e=="function"?e:S3(e),n=t==null?Z1t:typeof t=="function"?t:I0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(eH,"default");d();function egt(){var e=this.parentNode;e&&e.removeChild(this)}a(egt,"remove");function tH(){return this.each(egt)}a(tH,"default");d();function tgt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(tgt,"selection_cloneShallow");function rgt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(rgt,"selection_cloneDeep");function rH(e){return this.select(e?rgt:tgt)}a(rH,"default");d();function nH(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(nH,"default");d();function ngt(e){return function(t){e.call(this,t,this.__data__)}}a(ngt,"contextListener");function igt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(igt,"parseTypenames");function agt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(agt,"onRemove");function sgt(e,t,r){return function(){var n=this.__on,i,s=ngt(t);if(n){for(var o=0,l=n.length;o<l;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(sgt,"onAdd");function iH(e,t,r){var n=igt(e+""),i,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,h;u<f;++u)for(i=0,h=l[u];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?sgt:agt,i=0;i<s;++i)this.each(l(n[i],t,r));return this}a(iH,"default");d();function mxe(e,t,r){var n=I3(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(mxe,"dispatchEvent");function ogt(e,t){return function(){return mxe(this,e,t)}}a(ogt,"dispatchConstant");function cgt(e,t){return function(){return mxe(this,e,t.apply(this,arguments))}}a(cgt,"dispatchFunction");function aH(e,t){return this.each((typeof t=="function"?cgt:ogt)(e,t))}a(aH,"default");d();function*sH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(sH,"default");var lgt=[null];function Da(e,t){this._groups=e,this._parents=t}a(Da,"Selection");function bxe(){return new Da([[document.documentElement]],lgt)}a(bxe,"selection");function ugt(){return this}a(ugt,"selection_selection");Da.prototype=bxe.prototype={constructor:Da,select:EY,selectAll:kY,selectChild:CY,selectChildren:IY,filter:TY,data:RY,enter:MY,exit:LY,join:DY,merge:NY,selection:ugt,order:OY,sort:qY,call:PY,nodes:FY,node:UY,size:YY,empty:HY,each:zY,attr:QY,style:WY,property:VY,classed:GY,text:KY,html:$Y,raise:XY,lower:JY,append:ZY,insert:eH,remove:tH,clone:rH,datum:nH,on:iH,dispatch:aH,[Symbol.iterator]:sH};var qh=bxe;d();d();d();d();function T3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(T3,"default");function oH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(oH,"extend");function R3(){}a(R3,"Color");var M3=.7,kC=1/M3,db="\\s*([+-]?\\d+)\\s*",B3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fgt=/^#([0-9a-f]{3,8})$/,hgt=new RegExp(`^rgb\\(${db},${db},${db}\\)$`),dgt=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),pgt=new RegExp(`^rgba\\(${db},${db},${db},${B3}\\)$`),ggt=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${B3}\\)$`),ygt=new RegExp(`^hsl\\(${B3},${Xu},${Xu}\\)$`),mgt=new RegExp(`^hsla\\(${B3},${Xu},${Xu},${B3}\\)$`),vxe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T3(R3,M0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_xe,formatHex:_xe,formatHex8:bgt,formatHsl:vgt,formatRgb:xxe,toString:xxe});function _xe(){return this.rgb().formatHex()}a(_xe,"color_formatHex");function bgt(){return this.rgb().formatHex8()}a(bgt,"color_formatHex8");function vgt(){return Cxe(this).formatHsl()}a(vgt,"color_formatHsl");function xxe(){return this.rgb().formatRgb()}a(xxe,"color_formatRgb");function M0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fgt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wxe(t):r===3?new Co(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?EC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?EC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hgt.exec(e))?new Co(t[1],t[2],t[3],1):(t=dgt.exec(e))?new Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pgt.exec(e))?EC(t[1],t[2],t[3],t[4]):(t=ggt.exec(e))?EC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ygt.exec(e))?Sxe(t[1],t[2]/100,t[3]/100,1):(t=mgt.exec(e))?Sxe(t[1],t[2]/100,t[3]/100,t[4]):vxe.hasOwnProperty(e)?wxe(vxe[e]):e==="transparent"?new Co(NaN,NaN,NaN,0):null}a(M0,"color");function wxe(e){return new Co(e>>16&255,e>>8&255,e&255,1)}a(wxe,"rgbn");function EC(e,t,r,n){return n<=0&&(e=t=r=NaN),new Co(e,t,r,n)}a(EC,"rgba");function _gt(e){return e instanceof R3||(e=M0(e)),e?(e=e.rgb(),new Co(e.r,e.g,e.b,e.opacity)):new Co}a(_gt,"rgbConvert");function pb(e,t,r,n){return arguments.length===1?_gt(e):new Co(e,t,r,n??1)}a(pb,"rgb");function Co(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(Co,"Rgb");T3(Co,pb,oH(R3,{brighter(e){return e=e==null?kC:Math.pow(kC,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?M3:Math.pow(M3,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Co(yg(this.r),yg(this.g),yg(this.b),CC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Axe,formatHex:Axe,formatHex8:xgt,formatRgb:Exe,toString:Exe}));function Axe(){return`#${gg(this.r)}${gg(this.g)}${gg(this.b)}`}a(Axe,"rgb_formatHex");function xgt(){return`#${gg(this.r)}${gg(this.g)}${gg(this.b)}${gg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(xgt,"rgb_formatHex8");function Exe(){let e=CC(this.opacity);return`${e===1?"rgb(":"rgba("}${yg(this.r)}, ${yg(this.g)}, ${yg(this.b)}${e===1?")":`, ${e})`}`}a(Exe,"rgb_formatRgb");function CC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(CC,"clampa");function yg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(yg,"clampi");function gg(e){return e=yg(e),(e<16?"0":"")+e.toString(16)}a(gg,"hex");function Sxe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pl(e,t,r,n)}a(Sxe,"hsla");function Cxe(e){if(e instanceof Pl)return new Pl(e.h,e.s,e.l,e.opacity);if(e instanceof R3||(e=M0(e)),!e)return new Pl;if(e instanceof Pl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,u=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Pl(o,l,u,e.opacity)}a(Cxe,"hslConvert");function Ixe(e,t,r,n){return arguments.length===1?Cxe(e):new Pl(e,t,r,n??1)}a(Ixe,"hsl");function Pl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Pl,"Hsl");T3(Pl,Ixe,oH(R3,{brighter(e){return e=e==null?kC:Math.pow(kC,e),new Pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?M3:Math.pow(M3,e),new Pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Co(cH(e>=240?e-240:e+120,i,n),cH(e,i,n),cH(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pl(kxe(this.h),SC(this.s),SC(this.l),CC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=CC(this.opacity);return`${e===1?"hsl(":"hsla("}${kxe(this.h)}, ${SC(this.s)*100}%, ${SC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kxe(e){return e=(e||0)%360,e<0?e+360:e}a(kxe,"clamph");function SC(e){return Math.max(0,Math.min(1,e||0))}a(SC,"clampt");function cH(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(cH,"hsl2rgb");d();d();function lH(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(lH,"basis");function uH(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,l=n<t-1?e[n+2]:2*s-i;return lH((r-n/t)*t,o,i,s,l)}}a(uH,"default");d();function fH(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return lH((r-n/t)*t,i,s,o,l)}}a(fH,"default");d();d();var hH=a(e=>()=>e,"default");function wgt(e,t){return function(r){return e+r*t}}a(wgt,"linear");function Agt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Agt,"exponential");function Txe(e){return(e=+e)==1?IC:function(t,r){return r-t?Agt(t,r,e):hH(isNaN(t)?r:t)}}a(Txe,"gamma");function IC(e,t){var r=t-e;return r?wgt(e,r):hH(isNaN(e)?t:e)}a(IC,"nogamma");var TC=a(function e(t){var r=Txe(t);function n(i,s){var o=r((i=pb(i)).r,(s=pb(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),f=IC(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function Mxe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=pb(t[o]),n[o]=l.r||0,i[o]=l.g||0,s[o]=l.b||0;return n=e(n),i=e(i),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=s(u),l+""}}}a(Mxe,"rgbSpline");var Egt=Mxe(uH),Sgt=Mxe(fH);d();function cc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(cc,"default");d();var pH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dH=new RegExp(pH.source,"g");function kgt(e){return function(){return e}}a(kgt,"zero");function Cgt(e){return function(t){return e(t)+""}}a(Cgt,"one");function MC(e,t){var r=pH.lastIndex=dH.lastIndex=0,n,i,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=pH.exec(e))&&(i=dH.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:cc(n,i)})),r=dH.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Cgt(u[0].x):kgt(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}a(MC,"default");d();d();d();var Bxe=180/Math.PI,BC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RC(e,t,r,n,i,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Bxe,skewX:Math.atan(u)*Bxe,scaleX:o,scaleY:l}}a(RC,"default");var LC;function Rxe(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?BC:RC(t.a,t.b,t.c,t.d,t.e,t.f)}a(Rxe,"parseCss");function Lxe(e){return e==null?BC:(LC||(LC=document.createElementNS("http://www.w3.org/2000/svg","g")),LC.setAttribute("transform",e),(e=LC.transform.baseVal.consolidate())?(e=e.matrix,RC(e.a,e.b,e.c,e.d,e.e,e.f)):BC)}a(Lxe,"parseSvg");function Dxe(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:cc(f,p)},{i:M-2,x:cc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:cc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function l(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:cc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(l,"skewX");function u(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:cc(f,p)},{i:M-2,x:cc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(u,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),l(f.skewX,h.skewX,p,g),u(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(Dxe,"interpolateTransform");var gH=Dxe(Rxe,"px, ","px)","deg)"),yH=Dxe(Lxe,", ",")",")");d();d();d();d();d();d();d();var gb=0,D3=0,L3=0,Oxe=1e3,DC,N3,NC=0,mg=0,OC=0,O3=typeof performance=="object"&&performance.now?performance:Date,qxe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function P3(){return mg||(qxe(Igt),mg=O3.now()+OC)}a(P3,"now");function Igt(){mg=0}a(Igt,"clearNow");function q3(){this._call=this._time=this._next=null}a(q3,"Timer");q3.prototype=qC.prototype={constructor:q3,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?P3():+r)+(t==null?0:+t),!this._next&&N3!==this&&(N3?N3._next=this:DC=this,N3=this),this._call=e,this._time=r,mH()},stop:function(){this._call&&(this._call=null,this._time=1/0,mH())}};function qC(e,t,r){var n=new q3;return n.restart(e,t,r),n}a(qC,"timer");function Pxe(){P3(),++gb;for(var e=DC,t;e;)(t=mg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gb}a(Pxe,"timerFlush");function Nxe(){mg=(NC=O3.now())+OC,gb=D3=0;try{Pxe()}finally{gb=0,Mgt(),mg=0}}a(Nxe,"wake");function Tgt(){var e=O3.now(),t=e-NC;t>Oxe&&(OC-=t,NC=e)}a(Tgt,"poke");function Mgt(){for(var e,t=DC,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:DC=r);N3=e,mH(n)}a(Mgt,"nap");function mH(e){if(!gb){D3&&(D3=clearTimeout(D3));var t=e-mg;t>24?(e<1/0&&(D3=setTimeout(Nxe,e-O3.now()-OC)),L3&&(L3=clearInterval(L3))):(L3||(NC=O3.now(),L3=setInterval(Tgt,Oxe)),gb=1,qxe(Nxe))}}a(mH,"sleep");d();function F3(e,t,r){var n=new q3;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(F3,"default");var Bgt=wY("start","end","cancel","interrupt"),Rgt=[],Yxe=0,Fxe=1,FC=2,PC=3,Uxe=4,UC=5,U3=6;function Ph(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Lgt(e,r,{name:t,index:n,group:i,on:Bgt,tween:Rgt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Yxe})}a(Ph,"default");function Y3(e,t){var r=Na(e,t);if(r.state>Yxe)throw new Error("too late; already scheduled");return r}a(Y3,"init");function hs(e,t){var r=Na(e,t);if(r.state>PC)throw new Error("too late; already running");return r}a(hs,"set");function Na(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Na,"get");function Lgt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=qC(s,0,r.time);function s(f){r.state=Fxe,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==Fxe)return u();for(h in n)if(y=n[h],y.name===r.name){if(y.state===PC)return F3(o);y.state===Uxe?(y.state=U3,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=U3,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(F3(function(){r.state===PC&&(r.state=Uxe,r.timer.restart(l,r.delay,r.time),l(f))}),r.state=FC,r.on.call("start",e,e.__data__,r.index,r.group),r.state===FC){for(r.state=PC,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function l(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=UC,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===UC&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}a(l,"tick");function u(){r.state=U3,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(u,"stop")}a(Lgt,"create");function YC(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>FC&&n.state<UC,n.state=U3,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a(YC,"default");function bH(e){return this.each(function(){YC(this,e)})}a(bH,"default");d();d();d();d();function Dgt(e,t){var r,n;return function(){var i=hs(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(Dgt,"tweenRemove");function Ngt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=hs(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var l={name:t,value:r},u=0,f=i.length;u<f;++u)if(i[u].name===t){i[u]=l;break}u===f&&i.push(l)}s.tween=i}}a(Ngt,"tweenFunction");function vH(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Na(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?Dgt:Ngt)(r,e,t))}a(vH,"default");function yb(e,t,r){var n=e._id;return e.each(function(){var i=hs(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Na(i,n).value[t]}}a(yb,"tweenValue");d();function H3(e,t){var r;return(typeof t=="number"?cc:t instanceof M0?TC:(r=M0(t))?(t=r,TC):MC)(e,t)}a(H3,"default");function Ogt(e){return function(){this.removeAttribute(e)}}a(Ogt,"attrRemove");function qgt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(qgt,"attrRemoveNS");function Pgt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(Pgt,"attrConstant");function Fgt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(Fgt,"attrConstantNS");function Ugt(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(Ugt,"attrFunction");function Ygt(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(Ygt,"attrFunctionNS");function _H(e,t){var r=$u(e),n=r==="transform"?yH:H3;return this.attrTween(e,typeof t=="function"?(r.local?Ygt:Ugt)(r,n,yb(this,"attr."+e,t)):t==null?(r.local?qgt:Ogt)(r):(r.local?Fgt:Pgt)(r,n,t))}a(_H,"default");d();function Hgt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(Hgt,"attrInterpolate");function zgt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(zgt,"attrInterpolateNS");function Qgt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&zgt(e,s)),r}return a(i,"tween"),i._value=t,i}a(Qgt,"attrTweenNS");function Wgt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Hgt(e,s)),r}return a(i,"tween"),i._value=t,i}a(Wgt,"attrTween");function xH(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=$u(e);return this.tween(r,(n.local?Qgt:Wgt)(n,t))}a(xH,"default");d();function Vgt(e,t){return function(){Y3(this,e).delay=+t.apply(this,arguments)}}a(Vgt,"delayFunction");function jgt(e,t){return t=+t,function(){Y3(this,e).delay=t}}a(jgt,"delayConstant");function wH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vgt:jgt)(t,e)):Na(this.node(),t).delay}a(wH,"default");d();function Ggt(e,t){return function(){hs(this,e).duration=+t.apply(this,arguments)}}a(Ggt,"durationFunction");function Kgt(e,t){return t=+t,function(){hs(this,e).duration=t}}a(Kgt,"durationConstant");function AH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ggt:Kgt)(t,e)):Na(this.node(),t).duration}a(AH,"default");d();function $gt(e,t){if(typeof t!="function")throw new Error;return function(){hs(this,e).ease=t}}a($gt,"easeConstant");function EH(e){var t=this._id;return arguments.length?this.each($gt(t,e)):Na(this.node(),t).ease}a(EH,"default");d();function Xgt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;hs(this,e).ease=r}}a(Xgt,"easeVarying");function SH(e){if(typeof e!="function")throw new Error;return this.each(Xgt(this._id,e))}a(SH,"default");d();function kH(e){typeof e!="function"&&(e=hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new to(n,this._parents,this._name,this._id)}a(kH,"default");d();function CH(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),l=0;l<s;++l)for(var u=t[l],f=r[l],h=u.length,p=o[l]=new Array(h),g,y=0;y<h;++y)(g=u[y]||f[y])&&(p[y]=g);for(;l<n;++l)o[l]=t[l];return new to(o,this._parents,this._name,this._id)}a(CH,"default");d();function Jgt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(Jgt,"start");function Zgt(e,t,r){var n,i,s=Jgt(t)?Y3:hs;return function(){var o=s(this,e),l=o.on;l!==n&&(i=(n=l).copy()).on(t,r),o.on=i}}a(Zgt,"onFunction");function IH(e,t){var r=this._id;return arguments.length<2?Na(this.node(),r).on.on(e):this.each(Zgt(r,e,t))}a(IH,"default");d();function eyt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(eyt,"removeFunction");function TH(){return this.on("end.remove",eyt(this._id))}a(TH,"default");d();function MH(e){var t=this._name,r=this._id;typeof e!="function"&&(e=I0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,f=s[o]=new Array(u),h,p,g=0;g<u;++g)(h=l[g])&&(p=e.call(h,h.__data__,g,l))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Ph(f[g],t,r,g,f,Na(h,r)));return new to(s,this._parents,t,r)}a(MH,"default");d();function BH(e){var t=this._name,r=this._id;typeof e!="function"&&(e=fb(e));for(var n=this._groups,i=n.length,s=[],o=[],l=0;l<i;++l)for(var u=n[l],f=u.length,h,p=0;p<f;++p)if(h=u[p]){for(var g=e.call(h,h.__data__,p,u),y,E=Na(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Ph(y,t,r,M,g,E);s.push(g),o.push(h)}return new to(s,o,t,r)}a(BH,"default");d();var tyt=qh.prototype.constructor;function RH(){return new tyt(this._groups,this._parents)}a(RH,"default");d();function ryt(e,t){var r,n,i;return function(){var s=T0(this,e),o=(this.style.removeProperty(e),T0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(ryt,"styleNull");function Hxe(e){return function(){this.style.removeProperty(e)}}a(Hxe,"styleRemove");function nyt(e,t,r){var n,i=r+"",s;return function(){var o=T0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(nyt,"styleConstant");function iyt(e,t,r){var n,i,s;return function(){var o=T0(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),T0(this,e))),o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l))}}a(iyt,"styleFunction");function ayt(e,t){var r,n,i,s="style."+t,o="end."+s,l;return function(){var u=hs(this,e),f=u.on,h=u.value[s]==null?l||(l=Hxe(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),u.on=n}}a(ayt,"styleMaybeRemove");function LH(e,t,r){var n=(e+="")=="transform"?gH:H3;return t==null?this.styleTween(e,ryt(e,n)).on("end.style."+e,Hxe(e)):typeof t=="function"?this.styleTween(e,iyt(e,n,yb(this,"style."+e,t))).each(ayt(this._id,e)):this.styleTween(e,nyt(e,n,t),r).on("end.style."+e,null)}a(LH,"default");d();function syt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(syt,"styleInterpolate");function oyt(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&syt(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(oyt,"styleTween");function DH(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,oyt(e,t,r??""))}a(DH,"default");d();function cyt(e){return function(){this.textContent=e}}a(cyt,"textConstant");function lyt(e){return function(){var t=e(this);this.textContent=t??""}}a(lyt,"textFunction");function NH(e){return this.tween("text",typeof e=="function"?lyt(yb(this,"text",e)):cyt(e==null?"":e+""))}a(NH,"default");d();function uyt(e){return function(t){this.textContent=e.call(this,t)}}a(uyt,"textInterpolate");function fyt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&uyt(i)),t}return a(n,"tween"),n._value=e,n}a(fyt,"textTween");function OH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fyt(e))}a(OH,"default");d();function qH(){for(var e=this._name,t=this._id,r=HC(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)if(u=o[f]){var h=Na(u,t);Ph(u,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new to(n,this._parents,e,r)}a(qH,"default");d();function PH(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};r.each(function(){var f=hs(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),f.on=t}),i===0&&s()})}a(PH,"default");var hyt=0;function to(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(to,"Transition");function zxe(e){return qh().transition(e)}a(zxe,"transition");function HC(){return++hyt}a(HC,"newId");var Fh=qh.prototype;to.prototype=zxe.prototype={constructor:to,select:MH,selectAll:BH,selectChild:Fh.selectChild,selectChildren:Fh.selectChildren,filter:kH,merge:CH,selection:RH,transition:qH,call:Fh.call,nodes:Fh.nodes,node:Fh.node,size:Fh.size,empty:Fh.empty,each:Fh.each,on:IH,attr:_H,attrTween:xH,style:LH,styleTween:DH,text:NH,textTween:OH,remove:TH,tween:vH,delay:wH,duration:AH,ease:EH,easeVarying:SH,end:PH,[Symbol.iterator]:Fh[Symbol.iterator]};d();d();function zC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(zC,"cubicInOut");var dyt={time:null,delay:0,duration:250,ease:zC};function pyt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(pyt,"inherit");function FH(e){var t,r;e instanceof to?(t=e._id,e=e._name):(t=HC(),(r=dyt).time=P3(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&Ph(u,e,t,f,o,r||pyt(u,t));return new to(n,this._parents,e,t)}a(FH,"default");qh.prototype.interrupt=bH;qh.prototype.transition=FH;d();d();d();var{abs:a8r,max:s8r,min:o8r}=Math;function Qxe(e){return[+e[0],+e[1]]}a(Qxe,"number1");function gyt(e){return[Qxe(e[0]),Qxe(e[1])]}a(gyt,"number2");var c8r={name:"x",handles:["w","e"].map(UH),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},l8r={name:"y",handles:["n","s"].map(UH),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},u8r={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(UH),input:function(e){return e==null?null:gyt(e)},output:function(e){return e}};function UH(e){return{type:e}}a(UH,"type");d();d();d();function B0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(B0,"default");function mb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(mb,"extend");function R0(){}a(R0,"Color");var z3=.7,VC=1/z3,bb="\\s*([+-]?\\d+)\\s*",Q3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yyt=/^#([0-9a-f]{3,8})$/,myt=new RegExp(`^rgb\\(${bb},${bb},${bb}\\)$`),byt=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),vyt=new RegExp(`^rgba\\(${bb},${bb},${bb},${Q3}\\)$`),_yt=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${Q3}\\)$`),xyt=new RegExp(`^hsl\\(${Q3},${Ju},${Ju}\\)$`),wyt=new RegExp(`^hsla\\(${Q3},${Ju},${Ju},${Q3}\\)$`),Wxe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B0(R0,L0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vxe,formatHex:Vxe,formatHex8:Ayt,formatHsl:Eyt,formatRgb:jxe,toString:jxe});function Vxe(){return this.rgb().formatHex()}a(Vxe,"color_formatHex");function Ayt(){return this.rgb().formatHex8()}a(Ayt,"color_formatHex8");function Eyt(){return Zxe(this).formatHsl()}a(Eyt,"color_formatHsl");function jxe(){return this.rgb().formatRgb()}a(jxe,"color_formatRgb");function L0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yyt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Gxe(t):r===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?QC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?QC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=myt.exec(e))?new ds(t[1],t[2],t[3],1):(t=byt.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vyt.exec(e))?QC(t[1],t[2],t[3],t[4]):(t=_yt.exec(e))?QC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xyt.exec(e))?Xxe(t[1],t[2]/100,t[3]/100,1):(t=wyt.exec(e))?Xxe(t[1],t[2]/100,t[3]/100,t[4]):Wxe.hasOwnProperty(e)?Gxe(Wxe[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}a(L0,"color");function Gxe(e){return new ds(e>>16&255,e>>8&255,e&255,1)}a(Gxe,"rgbn");function QC(e,t,r,n){return n<=0&&(e=t=r=NaN),new ds(e,t,r,n)}a(QC,"rgba");function HH(e){return e instanceof R0||(e=L0(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}a(HH,"rgbConvert");function vb(e,t,r,n){return arguments.length===1?HH(e):new ds(e,t,r,n??1)}a(vb,"rgb");function ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(ds,"Rgb");B0(ds,vb,mb(R0,{brighter(e){return e=e==null?VC:Math.pow(VC,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?z3:Math.pow(z3,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(vg(this.r),vg(this.g),vg(this.b),jC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kxe,formatHex:Kxe,formatHex8:Syt,formatRgb:$xe,toString:$xe}));function Kxe(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}`}a(Kxe,"rgb_formatHex");function Syt(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}${bg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Syt,"rgb_formatHex8");function $xe(){let e=jC(this.opacity);return`${e===1?"rgb(":"rgba("}${vg(this.r)}, ${vg(this.g)}, ${vg(this.b)}${e===1?")":`, ${e})`}`}a($xe,"rgb_formatRgb");function jC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(jC,"clampa");function vg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(vg,"clampi");function bg(e){return e=vg(e),(e<16?"0":"")+e.toString(16)}a(bg,"hex");function Xxe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fl(e,t,r,n)}a(Xxe,"hsla");function Zxe(e){if(e instanceof Fl)return new Fl(e.h,e.s,e.l,e.opacity);if(e instanceof R0||(e=L0(e)),!e)return new Fl;if(e instanceof Fl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,u=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Fl(o,l,u,e.opacity)}a(Zxe,"hslConvert");function ewe(e,t,r,n){return arguments.length===1?Zxe(e):new Fl(e,t,r,n??1)}a(ewe,"hsl");function Fl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Fl,"Hsl");B0(Fl,ewe,mb(R0,{brighter(e){return e=e==null?VC:Math.pow(VC,e),new Fl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?z3:Math.pow(z3,e),new Fl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ds(YH(e>=240?e-240:e+120,i,n),YH(e,i,n),YH(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Fl(Jxe(this.h),WC(this.s),WC(this.l),jC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=jC(this.opacity);return`${e===1?"hsl(":"hsla("}${Jxe(this.h)}, ${WC(this.s)*100}%, ${WC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jxe(e){return e=(e||0)%360,e<0?e+360:e}a(Jxe,"clamph");function WC(e){return Math.max(0,Math.min(1,e||0))}a(WC,"clampt");function YH(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(YH,"hsl2rgb");d();d();var twe=Math.PI/180,rwe=180/Math.PI;var GC=18,nwe=.96422,iwe=1,awe=.82521,swe=4/29,_b=6/29,owe=3*_b*_b,kyt=_b*_b*_b;function cwe(e){if(e instanceof Zu)return new Zu(e.l,e.a,e.b,e.opacity);if(e instanceof Uh)return lwe(e);e instanceof ds||(e=HH(e));var t=VH(e.r),r=VH(e.g),n=VH(e.b),i=zH((.2225045*t+.7168786*r+.0606169*n)/iwe),s,o;return t===r&&r===n?s=o=i:(s=zH((.4360747*t+.3850649*r+.1430804*n)/nwe),o=zH((.0139322*t+.0971045*r+.7141733*n)/awe)),new Zu(116*i-16,500*(s-i),200*(i-o),e.opacity)}a(cwe,"labConvert");function jH(e,t,r,n){return arguments.length===1?cwe(e):new Zu(e,t,r,n??1)}a(jH,"lab");function Zu(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}a(Zu,"Lab");B0(Zu,jH,mb(R0,{brighter(e){return new Zu(this.l+GC*(e??1),this.a,this.b,this.opacity)},darker(e){return new Zu(this.l-GC*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=nwe*QH(t),e=iwe*QH(e),r=awe*QH(r),new ds(WH(3.1338561*t-1.6168667*e-.4906146*r),WH(-.9787684*t+1.9161415*e+.033454*r),WH(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function zH(e){return e>kyt?Math.pow(e,1/3):e/owe+swe}a(zH,"xyz2lab");function QH(e){return e>_b?e*e*e:owe*(e-swe)}a(QH,"lab2xyz");function WH(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}a(WH,"lrgb2rgb");function VH(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}a(VH,"rgb2lrgb");function Cyt(e){if(e instanceof Uh)return new Uh(e.h,e.c,e.l,e.opacity);if(e instanceof Zu||(e=cwe(e)),e.a===0&&e.b===0)return new Uh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*rwe;return new Uh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}a(Cyt,"hclConvert");function W3(e,t,r,n){return arguments.length===1?Cyt(e):new Uh(e,t,r,n??1)}a(W3,"hcl");function Uh(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}a(Uh,"Hcl");function lwe(e){if(isNaN(e.h))return new Zu(e.l,0,0,e.opacity);var t=e.h*twe;return new Zu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}a(lwe,"hcl2lab");B0(Uh,W3,mb(R0,{brighter(e){return new Uh(this.h,this.c,this.l+GC*(e??1),this.opacity)},darker(e){return new Uh(this.h,this.c,this.l-GC*(e??1),this.opacity)},rgb(){return lwe(this).rgb()}}));d();d();var Iyt={value:()=>{}};function fwe(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new KC(r)}a(fwe,"dispatch");function KC(e){this._=e}a(KC,"Dispatch");function Tyt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(Tyt,"parseTypenames");KC.prototype=fwe.prototype={constructor:KC,on:function(e,t){var r=this._,n=Tyt(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=Myt(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=uwe(r[i],e.name,t);else if(t==null)for(i in r)r[i]=uwe(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new KC(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function Myt(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(Myt,"get");function uwe(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Iyt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(uwe,"set");var GH=fwe;d();d();d();d();var $C="http://www.w3.org/1999/xhtml",KH={svg:"http://www.w3.org/2000/svg",xhtml:$C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ef(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),KH.hasOwnProperty(t)?{space:KH[t],local:e}:e}a(ef,"default");function Byt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===$C&&t.documentElement.namespaceURI===$C?t.createElement(e):t.createElementNS(r,e)}}a(Byt,"creatorInherit");function Ryt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(Ryt,"creatorFixed");function V3(e){var t=ef(e);return(t.local?Ryt:Byt)(t)}a(V3,"default");d();d();d();d();function Lyt(){}a(Lyt,"none");function D0(e){return e==null?Lyt:function(){return this.querySelector(e)}}a(D0,"default");function $H(e){typeof e!="function"&&(e=D0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=new Array(o),u,f,h=0;h<o;++h)(u=s[h])&&(f=e.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f);return new Ii(n,this._parents)}a($H,"default");d();d();function j3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(j3,"array");d();function Dyt(){return[]}a(Dyt,"empty");function xb(e){return e==null?Dyt:function(){return this.querySelectorAll(e)}}a(xb,"default");function Nyt(e){return function(){return j3(e.apply(this,arguments))}}a(Nyt,"arrayAll");function XH(e){typeof e=="function"?e=Nyt(e):e=xb(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&(n.push(e.call(u,u.__data__,f,o)),i.push(u));return new Ii(n,i)}a(XH,"default");d();d();function wb(e){return function(){return this.matches(e)}}a(wb,"default");function XC(e){return function(t){return t.matches(e)}}a(XC,"childMatcher");var Oyt=Array.prototype.find;function qyt(e){return function(){return Oyt.call(this.children,e)}}a(qyt,"childFind");function Pyt(){return this.firstElementChild}a(Pyt,"childFirst");function JH(e){return this.select(e==null?Pyt:qyt(typeof e=="function"?e:XC(e)))}a(JH,"default");d();var Fyt=Array.prototype.filter;function Uyt(){return Array.from(this.children)}a(Uyt,"children");function Yyt(e){return function(){return Fyt.call(this.children,e)}}a(Yyt,"childrenFilter");function ZH(e){return this.selectAll(e==null?Uyt:Yyt(typeof e=="function"?e:XC(e)))}a(ZH,"default");d();function ez(e){typeof e!="function"&&(e=wb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new Ii(n,this._parents)}a(ez,"default");d();d();d();function G3(e){return new Array(e.length)}a(G3,"default");function tz(){return new Ii(this._enter||this._groups.map(G3),this._parents)}a(tz,"default");function K3(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a(K3,"EnterNode");K3.prototype={constructor:K3,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function rz(e){return function(){return e}}a(rz,"default");function Hyt(e,t,r,n,i,s){for(var o=0,l,u=t.length,f=s.length;o<f;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new K3(e,s[o]);for(;o<u;++o)(l=t[o])&&(i[o]=l)}a(Hyt,"bindIndex");function zyt(e,t,r,n,i,s,o){var l,u,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(l=0;l<h;++l)(u=t[l])&&(g[l]=y=o.call(u,u.__data__,l,t)+"",f.has(y)?i[l]=u:f.set(y,u));for(l=0;l<p;++l)y=o.call(e,s[l],l,s)+"",(u=f.get(y))?(n[l]=u,u.__data__=s[l],f.delete(y)):r[l]=new K3(e,s[l]);for(l=0;l<h;++l)(u=t[l])&&f.get(g[l])===u&&(i[l]=u)}a(zyt,"bindKey");function Qyt(e){return e.__data__}a(Qyt,"datum");function nz(e,t){if(!arguments.length)return Array.from(this,Qyt);var r=t?zyt:Hyt,n=this._parents,i=this._groups;typeof e!="function"&&(e=rz(e));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=Wyt(e.call(h,h&&h.__data__,f,n)),E=y.length,M=l[f]=new Array(E),z=o[f]=new Array(E),P=u[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new Ii(o,n),o._enter=l,o._exit=u,o}a(nz,"default");function Wyt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(Wyt,"arraylike");d();function iz(){return new Ii(this._exit||this._groups.map(G3),this._parents)}a(iz,"default");d();function az(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(az,"default");d();function sz(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var f=r[u],h=n[u],p=f.length,g=l[u]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;u<i;++u)l[u]=r[u];return new Ii(l,this._parents)}a(sz,"default");d();function oz(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(oz,"default");d();function cz(e){e||(e=Vyt);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=i[s]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(u[h]=f);u.sort(t)}return new Ii(i,this._parents).order()}a(cz,"default");function Vyt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(Vyt,"ascending");d();function lz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(lz,"default");d();function uz(){return Array.from(this)}a(uz,"default");d();function fz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(fz,"default");d();function hz(){let e=0;for(let t of this)++e;return e}a(hz,"default");d();function dz(){return!this.node()}a(dz,"default");d();function pz(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,l;s<o;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}a(pz,"default");d();function jyt(e){return function(){this.removeAttribute(e)}}a(jyt,"attrRemove");function Gyt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(Gyt,"attrRemoveNS");function Kyt(e,t){return function(){this.setAttribute(e,t)}}a(Kyt,"attrConstant");function $yt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a($yt,"attrConstantNS");function Xyt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(Xyt,"attrFunction");function Jyt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(Jyt,"attrFunctionNS");function gz(e,t){var r=ef(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Gyt:jyt:typeof t=="function"?r.local?Jyt:Xyt:r.local?$yt:Kyt)(r,t))}a(gz,"default");d();d();function $3(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a($3,"default");function Zyt(e){return function(){this.style.removeProperty(e)}}a(Zyt,"styleRemove");function emt(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(emt,"styleConstant");function tmt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(tmt,"styleFunction");function yz(e,t,r){return arguments.length>1?this.each((t==null?Zyt:typeof t=="function"?tmt:emt)(e,t,r??"")):N0(this.node(),e)}a(yz,"default");function N0(e,t){return e.style.getPropertyValue(t)||$3(e).getComputedStyle(e,null).getPropertyValue(t)}a(N0,"styleValue");d();function rmt(e){return function(){delete this[e]}}a(rmt,"propertyRemove");function nmt(e,t){return function(){this[e]=t}}a(nmt,"propertyConstant");function imt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(imt,"propertyFunction");function mz(e,t){return arguments.length>1?this.each((t==null?rmt:typeof t=="function"?imt:nmt)(e,t)):this.node()[e]}a(mz,"default");d();function hwe(e){return e.trim().split(/^|\s+/)}a(hwe,"classArray");function bz(e){return e.classList||new dwe(e)}a(bz,"classList");function dwe(e){this._node=e,this._names=hwe(e.getAttribute("class")||"")}a(dwe,"ClassList");dwe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pwe(e,t){for(var r=bz(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(pwe,"classedAdd");function gwe(e,t){for(var r=bz(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(gwe,"classedRemove");function amt(e){return function(){pwe(this,e)}}a(amt,"classedTrue");function smt(e){return function(){gwe(this,e)}}a(smt,"classedFalse");function omt(e,t){return function(){(t.apply(this,arguments)?pwe:gwe)(this,e)}}a(omt,"classedFunction");function vz(e,t){var r=hwe(e+"");if(arguments.length<2){for(var n=bz(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?omt:t?amt:smt)(r,t))}a(vz,"default");d();function cmt(){this.textContent=""}a(cmt,"textRemove");function lmt(e){return function(){this.textContent=e}}a(lmt,"textConstant");function umt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(umt,"textFunction");function _z(e){return arguments.length?this.each(e==null?cmt:(typeof e=="function"?umt:lmt)(e)):this.node().textContent}a(_z,"default");d();function fmt(){this.innerHTML=""}a(fmt,"htmlRemove");function hmt(e){return function(){this.innerHTML=e}}a(hmt,"htmlConstant");function dmt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a(dmt,"htmlFunction");function xz(e){return arguments.length?this.each(e==null?fmt:(typeof e=="function"?dmt:hmt)(e)):this.node().innerHTML}a(xz,"default");d();function pmt(){this.nextSibling&&this.parentNode.appendChild(this)}a(pmt,"raise");function wz(){return this.each(pmt)}a(wz,"default");d();function gmt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(gmt,"lower");function Az(){return this.each(gmt)}a(Az,"default");d();function Ez(e){var t=typeof e=="function"?e:V3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a(Ez,"default");d();function ymt(){return null}a(ymt,"constantNull");function Sz(e,t){var r=typeof e=="function"?e:V3(e),n=t==null?ymt:typeof t=="function"?t:D0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(Sz,"default");d();function mmt(){var e=this.parentNode;e&&e.removeChild(this)}a(mmt,"remove");function kz(){return this.each(mmt)}a(kz,"default");d();function bmt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(bmt,"selection_cloneShallow");function vmt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(vmt,"selection_cloneDeep");function Cz(e){return this.select(e?vmt:bmt)}a(Cz,"default");d();function Iz(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(Iz,"default");d();function _mt(e){return function(t){e.call(this,t,this.__data__)}}a(_mt,"contextListener");function xmt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(xmt,"parseTypenames");function wmt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(wmt,"onRemove");function Amt(e,t,r){return function(){var n=this.__on,i,s=_mt(t);if(n){for(var o=0,l=n.length;o<l;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(Amt,"onAdd");function Tz(e,t,r){var n=xmt(e+""),i,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,h;u<f;++u)for(i=0,h=l[u];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?Amt:wmt,i=0;i<s;++i)this.each(l(n[i],t,r));return this}a(Tz,"default");d();function ywe(e,t,r){var n=$3(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(ywe,"dispatchEvent");function Emt(e,t){return function(){return ywe(this,e,t)}}a(Emt,"dispatchConstant");function Smt(e,t){return function(){return ywe(this,e,t.apply(this,arguments))}}a(Smt,"dispatchFunction");function Mz(e,t){return this.each((typeof t=="function"?Smt:Emt)(e,t))}a(Mz,"default");d();function*Bz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(Bz,"default");var X3=[null];function Ii(e,t){this._groups=e,this._parents=t}a(Ii,"Selection");function mwe(){return new Ii([[document.documentElement]],X3)}a(mwe,"selection");function kmt(){return this}a(kmt,"selection_selection");Ii.prototype=mwe.prototype={constructor:Ii,select:$H,selectAll:XH,selectChild:JH,selectChildren:ZH,filter:ez,data:nz,enter:tz,exit:iz,join:az,merge:sz,selection:kmt,order:oz,sort:cz,call:lz,nodes:uz,node:fz,size:hz,empty:dz,each:pz,attr:gz,style:yz,property:mz,classed:vz,text:_z,html:xz,raise:wz,lower:Az,append:Ez,insert:Sz,remove:kz,clone:Cz,datum:Iz,on:Tz,dispatch:Mz,[Symbol.iterator]:Bz};var Yh=mwe;function Zt(e){return typeof e=="string"?new Ii([[document.querySelector(e)]],[document.documentElement]):new Ii([[e]],X3)}a(Zt,"default");d();function Ab(e){return typeof e=="string"?new Ii([document.querySelectorAll(e)],[document.documentElement]):new Ii([j3(e)],X3)}a(Ab,"default");d();d();function JC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(JC,"cubicInOut");d();d();d();function Rz(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(Rz,"basis");function Lz(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,l=n<t-1?e[n+2]:2*s-i;return Rz((r-n/t)*t,o,i,s,l)}}a(Lz,"default");d();function Dz(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return Rz((r-n/t)*t,i,s,o,l)}}a(Dz,"default");d();d();var ZC=a(e=>()=>e,"default");function bwe(e,t){return function(r){return e+r*t}}a(bwe,"linear");function Cmt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Cmt,"exponential");function vwe(e,t){var r=t-e;return r?bwe(e,r>180||r<-180?r-360*Math.round(r/360):r):ZC(isNaN(e)?t:e)}a(vwe,"hue");function _we(e){return(e=+e)==1?Hh:function(t,r){return r-t?Cmt(t,r,e):ZC(isNaN(t)?r:t)}}a(_we,"gamma");function Hh(e,t){var r=t-e;return r?bwe(e,r):ZC(isNaN(e)?t:e)}a(Hh,"nogamma");var e9=a(function e(t){var r=_we(t);function n(i,s){var o=r((i=vb(i)).r,(s=vb(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),f=Hh(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function xwe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=vb(t[o]),n[o]=l.r||0,i[o]=l.g||0,s[o]=l.b||0;return n=e(n),i=e(i),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=s(u),l+""}}}a(xwe,"rgbSpline");var Imt=xwe(Lz),Tmt=xwe(Dz);d();function lc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(lc,"default");d();var Oz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nz=new RegExp(Oz.source,"g");function Mmt(e){return function(){return e}}a(Mmt,"zero");function Bmt(e){return function(t){return e(t)+""}}a(Bmt,"one");function t9(e,t){var r=Oz.lastIndex=Nz.lastIndex=0,n,i,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Oz.exec(e))&&(i=Nz.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:lc(n,i)})),r=Nz.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Bmt(u[0].x):Mmt(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}a(t9,"default");d();d();d();var wwe=180/Math.PI,r9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function n9(e,t,r,n,i,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*wwe,skewX:Math.atan(u)*wwe,scaleX:o,scaleY:l}}a(n9,"default");var i9;function Awe(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?r9:n9(t.a,t.b,t.c,t.d,t.e,t.f)}a(Awe,"parseCss");function Ewe(e){return e==null?r9:(i9||(i9=document.createElementNS("http://www.w3.org/2000/svg","g")),i9.setAttribute("transform",e),(e=i9.transform.baseVal.consolidate())?(e=e.matrix,n9(e.a,e.b,e.c,e.d,e.e,e.f)):r9)}a(Ewe,"parseSvg");function Swe(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:lc(f,p)},{i:M-2,x:lc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:lc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function l(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:lc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(l,"skewX");function u(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:lc(f,p)},{i:M-2,x:lc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(u,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),l(f.skewX,h.skewX,p,g),u(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(Swe,"interpolateTransform");var qz=Swe(Awe,"px, ","px)","deg)"),Pz=Swe(Ewe,", ",")",")");d();function kwe(e){return function(t,r){var n=e((t=W3(t)).h,(r=W3(r)).h),i=Hh(t.c,r.c),s=Hh(t.l,r.l),o=Hh(t.opacity,r.opacity);return function(l){return t.h=n(l),t.c=i(l),t.l=s(l),t.opacity=o(l),t+""}}}a(kwe,"hcl");var Fz=kwe(vwe),Rmt=kwe(Hh);d();d();d();d();function _g(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}a(_g,"ascending");d();d();function Uz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}a(Uz,"descending");function xg(e){let t,r,n;e.length!==2?(t=_g,r=a((l,u)=>_g(e(l),u),"compare2"),n=a((l,u)=>e(l)-u,"delta")):(t=e===_g||e===Uz?e:Lmt,r=e,n=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{let p=f+h>>>1;r(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}a(i,"left");function s(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{let p=f+h>>>1;r(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}a(s,"right");function o(l,u,f=0,h=l.length){let p=i(l,u,f,h-1);return p>f&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return a(o,"center"),{left:i,center:o,right:s}}a(xg,"bisector");function Lmt(){return 0}a(Lmt,"zero");d();function Yz(e){return e===null?NaN:+e}a(Yz,"number");var Cwe=xg(_g),Iwe=Cwe.right,Dmt=Cwe.left,Nmt=xg(Yz).center,Hz=Iwe;d();var zz=Math.sqrt(50),Qz=Math.sqrt(10),Wz=Math.sqrt(2);function a9(e,t,r){var n,i=-1,s,o,l;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(l=s9(e,t,r))===0||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),f=Math.round(t/l);for(u*l<e&&++u,f*l>t&&--f,o=new Array(s=f-u+1);++i<s;)o[i]=(u+i)*l}else{l=-l;let u=Math.round(e*l),f=Math.round(t*l);for(u/l<e&&++u,f/l>t&&--f,o=new Array(s=f-u+1);++i<s;)o[i]=(u+i)/l}return n&&o.reverse(),o}a(a9,"ticks");function s9(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,i);return i>=0?(s>=zz?10:s>=Qz?5:s>=Wz?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=zz?10:s>=Qz?5:s>=Wz?2:1)}a(s9,"tickIncrement");function Eb(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/i;return s>=zz?i*=10:s>=Qz?i*=5:s>=Wz&&(i*=2),t<e?-i:i}a(Eb,"tickStep");d();function Sb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}a(Sb,"initRange");d();var Vz=Symbol("implicit");function J3(){var e=new pg,t=[],r=[],n=Vz;function i(s){let o=e.get(s);if(o===void 0){if(n!==Vz)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a(i,"scale"),i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new pg;for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return J3(t,r).unknown(n)},Sb.apply(i,arguments),i}a(J3,"ordinal");d();d();d();d();d();d();d();function Z3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(Z3,"default");function jz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(jz,"extend");function r4(){}a(r4,"Color");var e4=.7,l9=1/e4,kb="\\s*([+-]?\\d+)\\s*",t4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Omt=/^#([0-9a-f]{3,8})$/,qmt=new RegExp(`^rgb\\(${kb},${kb},${kb}\\)$`),Pmt=new RegExp(`^rgb\\(${tf},${tf},${tf}\\)$`),Fmt=new RegExp(`^rgba\\(${kb},${kb},${kb},${t4}\\)$`),Umt=new RegExp(`^rgba\\(${tf},${tf},${tf},${t4}\\)$`),Ymt=new RegExp(`^hsl\\(${t4},${tf},${tf}\\)$`),Hmt=new RegExp(`^hsla\\(${t4},${tf},${tf},${t4}\\)$`),Twe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z3(r4,O0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mwe,formatHex:Mwe,formatHex8:zmt,formatHsl:Qmt,formatRgb:Bwe,toString:Bwe});function Mwe(){return this.rgb().formatHex()}a(Mwe,"color_formatHex");function zmt(){return this.rgb().formatHex8()}a(zmt,"color_formatHex8");function Qmt(){return qwe(this).formatHsl()}a(Qmt,"color_formatHsl");function Bwe(){return this.rgb().formatRgb()}a(Bwe,"color_formatRgb");function O0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Omt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Rwe(t):r===3?new Io(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?o9(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?o9(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qmt.exec(e))?new Io(t[1],t[2],t[3],1):(t=Pmt.exec(e))?new Io(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fmt.exec(e))?o9(t[1],t[2],t[3],t[4]):(t=Umt.exec(e))?o9(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ymt.exec(e))?Nwe(t[1],t[2]/100,t[3]/100,1):(t=Hmt.exec(e))?Nwe(t[1],t[2]/100,t[3]/100,t[4]):Twe.hasOwnProperty(e)?Rwe(Twe[e]):e==="transparent"?new Io(NaN,NaN,NaN,0):null}a(O0,"color");function Rwe(e){return new Io(e>>16&255,e>>8&255,e&255,1)}a(Rwe,"rgbn");function o9(e,t,r,n){return n<=0&&(e=t=r=NaN),new Io(e,t,r,n)}a(o9,"rgba");function Wmt(e){return e instanceof r4||(e=O0(e)),e?(e=e.rgb(),new Io(e.r,e.g,e.b,e.opacity)):new Io}a(Wmt,"rgbConvert");function Cb(e,t,r,n){return arguments.length===1?Wmt(e):new Io(e,t,r,n??1)}a(Cb,"rgb");function Io(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(Io,"Rgb");Z3(Io,Cb,jz(r4,{brighter(e){return e=e==null?l9:Math.pow(l9,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?e4:Math.pow(e4,e),new Io(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Io(Ag(this.r),Ag(this.g),Ag(this.b),u9(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lwe,formatHex:Lwe,formatHex8:Vmt,formatRgb:Dwe,toString:Dwe}));function Lwe(){return`#${wg(this.r)}${wg(this.g)}${wg(this.b)}`}a(Lwe,"rgb_formatHex");function Vmt(){return`#${wg(this.r)}${wg(this.g)}${wg(this.b)}${wg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Vmt,"rgb_formatHex8");function Dwe(){let e=u9(this.opacity);return`${e===1?"rgb(":"rgba("}${Ag(this.r)}, ${Ag(this.g)}, ${Ag(this.b)}${e===1?")":`, ${e})`}`}a(Dwe,"rgb_formatRgb");function u9(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(u9,"clampa");function Ag(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(Ag,"clampi");function wg(e){return e=Ag(e),(e<16?"0":"")+e.toString(16)}a(wg,"hex");function Nwe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ul(e,t,r,n)}a(Nwe,"hsla");function qwe(e){if(e instanceof Ul)return new Ul(e.h,e.s,e.l,e.opacity);if(e instanceof r4||(e=O0(e)),!e)return new Ul;if(e instanceof Ul)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,u=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Ul(o,l,u,e.opacity)}a(qwe,"hslConvert");function Pwe(e,t,r,n){return arguments.length===1?qwe(e):new Ul(e,t,r,n??1)}a(Pwe,"hsl");function Ul(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Ul,"Hsl");Z3(Ul,Pwe,jz(r4,{brighter(e){return e=e==null?l9:Math.pow(l9,e),new Ul(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?e4:Math.pow(e4,e),new Ul(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Io(Gz(e>=240?e-240:e+120,i,n),Gz(e,i,n),Gz(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ul(Owe(this.h),c9(this.s),c9(this.l),u9(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=u9(this.opacity);return`${e===1?"hsl(":"hsla("}${Owe(this.h)}, ${c9(this.s)*100}%, ${c9(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Owe(e){return e=(e||0)%360,e<0?e+360:e}a(Owe,"clamph");function c9(e){return Math.max(0,Math.min(1,e||0))}a(c9,"clampt");function Gz(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(Gz,"hsl2rgb");d();d();function Kz(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(Kz,"basis");function $z(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,l=n<t-1?e[n+2]:2*s-i;return Kz((r-n/t)*t,o,i,s,l)}}a($z,"default");d();function Xz(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return Kz((r-n/t)*t,i,s,o,l)}}a(Xz,"default");d();d();var n4=a(e=>()=>e,"default");function jmt(e,t){return function(r){return e+r*t}}a(jmt,"linear");function Gmt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a(Gmt,"exponential");function Fwe(e){return(e=+e)==1?f9:function(t,r){return r-t?Gmt(t,r,e):n4(isNaN(t)?r:t)}}a(Fwe,"gamma");function f9(e,t){var r=t-e;return r?jmt(e,r):n4(isNaN(e)?t:e)}a(f9,"nogamma");var Jz=a(function e(t){var r=Fwe(t);function n(i,s){var o=r((i=Cb(i)).r,(s=Cb(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),f=f9(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function Uwe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=Cb(t[o]),n[o]=l.r||0,i[o]=l.g||0,s[o]=l.b||0;return n=e(n),i=e(i),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=s(u),l+""}}}a(Uwe,"rgbSpline");var lIr=Uwe($z),uIr=Uwe(Xz);d();d();function Zz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}a(Zz,"default");function Ywe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}a(Ywe,"isNumberArray");function Hwe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=q0(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}a(Hwe,"genericArray");d();function eQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}a(eQ,"default");d();function zh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(zh,"default");d();function tQ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=q0(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}a(tQ,"default");d();var nQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rQ=new RegExp(nQ.source,"g");function Kmt(e){return function(){return e}}a(Kmt,"zero");function $mt(e){return function(t){return e(t)+""}}a($mt,"one");function iQ(e,t){var r=nQ.lastIndex=rQ.lastIndex=0,n,i,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=nQ.exec(e))&&(i=rQ.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:zh(n,i)})),r=rQ.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?$mt(u[0].x):Kmt(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}a(iQ,"default");function q0(e,t){var r=typeof t,n;return t==null||r==="boolean"?n4(t):(r==="number"?zh:r==="string"?(n=O0(t))?(t=n,Jz):iQ:t instanceof O0?Jz:t instanceof Date?eQ:Ywe(t)?Zz:Array.isArray(t)?Hwe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tQ:zh)(e,t)}a(q0,"default");d();function h9(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}a(h9,"default");d();function aQ(e){return function(){return e}}a(aQ,"constants");d();function sQ(e){return+e}a(sQ,"number");var zwe=[0,1];function Ib(e){return e}a(Ib,"identity");function oQ(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aQ(isNaN(t)?NaN:.5)}a(oQ,"normalize");function Xmt(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}a(Xmt,"clamper");function Jmt(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=oQ(i,n),s=r(o,s)):(n=oQ(n,i),s=r(s,o)),function(l){return s(n(l))}}a(Jmt,"bimap");function Zmt(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=oQ(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Hz(e,l,1,n)-1;return s[u](i[u](l))}}a(Zmt,"polymap");function d9(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}a(d9,"copy");function e2t(){var e=zwe,t=zwe,r=q0,n,i,s,o=Ib,l,u,f;function h(){var g=Math.min(e.length,t.length);return o!==Ib&&(o=Xmt(e[0],e[g-1])),l=g>2?Zmt:Jmt,u=f=null,p}a(h,"rescale");function p(g){return g==null||isNaN(g=+g)?s:(u||(u=l(e.map(n),t,r)))(n(o(g)))}return a(p,"scale"),p.invert=function(g){return o(i((f||(f=l(t,e.map(n),zh)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,sQ),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=h9,h()},p.clamp=function(g){return arguments.length?(o=g?!0:Ib,h()):o!==Ib},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,y){return n=g,i=y,h()}}a(e2t,"transformer");function i4(){return e2t()(Ib,Ib)}a(i4,"continuous");d();d();d();d();d();d();function cQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}a(cQ,"default");function Eg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}a(Eg,"formatDecimalParts");function Yl(e){return e=Eg(Math.abs(e)),e?e[1]:NaN}a(Yl,"default");d();function lQ(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}a(lQ,"default");d();function uQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}a(uQ,"default");d();var t2t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function P0(e){if(!(t=t2t.exec(e)))throw new Error("invalid format: "+e);var t;return new p9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}a(P0,"formatSpecifier");P0.prototype=p9.prototype;function p9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}a(p9,"FormatSpecifier");p9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};d();function fQ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}a(fQ,"default");d();d();var hQ;function dQ(e,t){var r=Eg(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(hQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Eg(e,Math.max(0,t+s-1))[0]}a(dQ,"default");d();function g9(e,t){var r=Eg(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}a(g9,"default");var pQ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g9(e*100,t),r:g9,s:dQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};d();function y9(e){return e}a(y9,"default");var Qwe=Array.prototype.map,Wwe=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function gQ(e){var t=e.grouping===void 0||e.thousands===void 0?y9:lQ(Qwe.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?y9:uQ(Qwe.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=P0(p);var g=p.fill,y=p.align,E=p.sign,M=p.symbol,z=p.zero,P=p.width,Q=p.comma,V=p.precision,W=p.trim,F=p.type;F==="n"?(Q=!0,F="g"):pQ[F]||(V===void 0&&(V=12),W=!0,F="g"),(z||g==="0"&&y==="=")&&(z=!0,g="0",y="=");var B=M==="$"?r:M==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",S=M==="$"?n:/[%p]/.test(F)?o:"",T=pQ[F],k=/[defgprs%]/.test(F);V=V===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function R(x){var N=B,m=S,v,A,U;if(F==="c")m=T(x)+m,x="";else{x=+x;var G=x<0||1/x<0;if(x=isNaN(x)?u:T(Math.abs(x),V),W&&(x=fQ(x)),G&&+x==0&&E!=="+"&&(G=!1),N=(G?E==="("?E:l:E==="-"||E==="("?"":E)+N,m=(F==="s"?Wwe[8+hQ/3]:"")+m+(G&&E==="("?")":""),k){for(v=-1,A=x.length;++v<A;)if(U=x.charCodeAt(v),48>U||U>57){m=(U===46?i+x.slice(v+1):x.slice(v))+m,x=x.slice(0,v);break}}}Q&&!z&&(x=t(x,1/0));var K=N.length+x.length+m.length,Z=K<P?new Array(P-K+1).join(g):"";switch(Q&&z&&(x=t(Z+x,Z.length?P-m.length:1/0),Z=""),y){case"<":x=N+x+m+Z;break;case"=":x=N+Z+x+m;break;case"^":x=Z.slice(0,K=Z.length>>1)+N+x+m+Z.slice(K);break;default:x=Z+N+x+m;break}return s(x)}return a(R,"format"),R.toString=function(){return p+""},R}a(f,"newFormat");function h(p,g){var y=f((p=P0(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Yl(g)/3)))*3,M=Math.pow(10,-E),z=Wwe[8+E/3];return function(P){return y(M*P)+z}}return a(h,"formatPrefix"),{format:f,formatPrefix:h}}a(gQ,"default");var m9,b9,v9;yQ({thousands:",",grouping:[3],currency:["$",""]});function yQ(e){return m9=gQ(e),b9=m9.format,v9=m9.formatPrefix,m9}a(yQ,"defaultLocale");d();function _9(e){return Math.max(0,-Yl(Math.abs(e)))}a(_9,"default");d();function x9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yl(t)/3)))*3-Yl(Math.abs(e)))}a(x9,"default");d();function w9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yl(t)-Yl(e))+1}a(w9,"default");function mQ(e,t,r,n){var i=Eb(e,t,r),s;switch(n=P0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=x9(i,o))&&(n.precision=s),v9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=w9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_9(i))&&(n.precision=s-(n.type==="%")*2);break}}return b9(n)}a(mQ,"tickFormat");function r2t(e){var t=e.domain;return e.ticks=function(r){var n=t();return a9(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return mQ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=s,s=f);h-- >0;){if(f=s9(o,l,r),f===u)return n[i]=o,n[s]=l,t(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}a(r2t,"linearish");function a4(){var e=i4();return e.copy=function(){return d9(e,a4())},Sb.apply(e,arguments),r2t(e)}a(a4,"linear");d();function bQ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}a(bQ,"nice");d();d();d();var vQ=new Date,_Q=new Date;function Pn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a(i,"interval"),i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,l){var u=[],f;if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;do u.push(f=new Date(+s)),t(s,l),e(s);while(f<s&&s<o);return u},i.filter=function(s){return Pn(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););})},r&&(i.count=function(s,o){return vQ.setTime(+s),_Q.setTime(+o),e(vQ),e(_Q),Math.floor(r(vQ,_Q))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(o){return n(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}a(Pn,"newInterval");d();var A9=Pn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});A9.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):A9};var Vwe=A9,GMr=A9.range;d();var jwe=Pn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Qh=jwe,Gwe=jwe.range;d();var Kwe=Pn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),s4=Kwe,n2t=Kwe.range;d();var $we=Pn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),o4=$we,i2t=$we.range;d();var Xwe=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),F0=Xwe,a2t=Xwe.range;d();function Cg(e){return Pn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}a(Cg,"weekday");var Wh=Cg(0),Tb=Cg(1),Zwe=Cg(2),e3e=Cg(3),U0=Cg(4),t3e=Cg(5),r3e=Cg(6),n3e=Wh.range,s2t=Tb.range,o2t=Zwe.range,c2t=e3e.range,l2t=U0.range,u2t=t3e.range,f2t=r3e.range;d();var i3e=Pn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),c4=i3e,h2t=i3e.range;d();var wQ=Pn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});wQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var Hl=wQ,d2t=wQ.range;d();var a3e=Pn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),s3e=a3e,_Br=a3e.range;d();var o3e=Pn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),c3e=o3e,EBr=o3e.range;d();var l3e=Pn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),Mb=l3e,p2t=l3e.range;d();function Ig(e){return Pn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}a(Ig,"utcWeekday");var Tg=Ig(0),Bb=Ig(1),u3e=Ig(2),f3e=Ig(3),Y0=Ig(4),h3e=Ig(5),d3e=Ig(6),p3e=Tg.range,g2t=Bb.range,y2t=u3e.range,m2t=f3e.range,b2t=Y0.range,v2t=h3e.range,_2t=d3e.range;d();var g3e=Pn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),y3e=g3e,NBr=g3e.range;d();var AQ=Pn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});AQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var Vh=AQ,x2t=AQ.range;d();function b3e(e,t,r,n,i,s){let o=[[Qh,1,1e3],[Qh,5,5*1e3],[Qh,15,15*1e3],[Qh,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function l(f,h,p){let g=h<f;g&&([f,h]=[h,f]);let y=p&&typeof p.range=="function"?p:u(f,h,p),E=y?y.range(f,+h+1):[];return g?E.reverse():E}a(l,"ticks");function u(f,h,p){let g=Math.abs(h-f)/p,y=xg(([,,z])=>z).right(o,g);if(y===o.length)return e.every(Eb(f/31536e6,h/31536e6,p));if(y===0)return Vwe.every(Math.max(Eb(f,h,p),1));let[E,M]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return E.every(M)}return a(u,"tickInterval"),[l,u]}a(b3e,"ticker");var[A2t,E2t]=b3e(Vh,y3e,Tg,Mb,c3e,s3e),[EQ,SQ]=b3e(Hl,c4,Wh,F0,o4,s4);d();d();d();function kQ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}a(kQ,"localDate");function CQ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}a(CQ,"utcDate");function l4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}a(l4,"newDate");function IQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=u4(i),h=f4(i),p=u4(s),g=f4(s),y=u4(o),E=f4(o),M=u4(l),z=f4(l),P=u4(u),Q=f4(u),V={a:G,A:K,b:Z,B:O,c:null,d:E3e,e:E3e,f:j2t,g:nbt,G:abt,H:Q2t,I:W2t,j:V2t,L:T3e,m:G2t,M:K2t,p:$,q:L,Q:C3e,s:I3e,S:$2t,u:X2t,U:J2t,V:Z2t,w:ebt,W:tbt,x:null,X:null,y:rbt,Y:ibt,Z:sbt,"%":k3e},W={a:ee,A:ve,b:ye,B:se,c:null,d:S3e,e:S3e,f:ubt,g:_bt,G:wbt,H:obt,I:cbt,j:lbt,L:B3e,m:fbt,M:hbt,p:be,q:Y,Q:C3e,s:I3e,S:dbt,u:pbt,U:gbt,V:ybt,w:mbt,W:bbt,x:null,X:null,y:vbt,Y:xbt,Z:Abt,"%":k3e},F={a:R,A:x,b:N,B:m,c:v,d:w3e,e:w3e,f:U2t,g:x3e,G:_3e,H:A3e,I:A3e,j:O2t,L:F2t,m:N2t,M:q2t,p:k,q:D2t,Q:H2t,s:z2t,S:P2t,u:T2t,U:M2t,V:B2t,w:I2t,W:R2t,x:A,X:U,y:x3e,Y:_3e,Z:L2t,"%":Y2t};V.x=B(r,V),V.X=B(n,V),V.c=B(t,V),W.x=B(r,W),W.X=B(n,W),W.c=B(t,W);function B(D,J){return function(q){var I=[],H=-1,te=0,ie=D.length,he,De,$e;for(q instanceof Date||(q=new Date(+q));++H<ie;)D.charCodeAt(H)===37&&(I.push(D.slice(te,H)),(De=v3e[he=D.charAt(++H)])!=null?he=D.charAt(++H):De=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,De)),I.push(he),te=H+1);return I.push(D.slice(te,H)),I.join("")}}a(B,"newFormat");function S(D,J){return function(q){var I=l4(1900,void 0,1),H=T(I,D,q+="",0),te,ie;if(H!=q.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(J&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(te=CQ(l4(I.y,0,1)),ie=te.getUTCDay(),te=ie>4||ie===0?Bb.ceil(te):Bb(te),te=Mb.offset(te,(I.V-1)*7),I.y=te.getUTCFullYear(),I.m=te.getUTCMonth(),I.d=te.getUTCDate()+(I.w+6)%7):(te=kQ(l4(I.y,0,1)),ie=te.getDay(),te=ie>4||ie===0?Tb.ceil(te):Tb(te),te=F0.offset(te,(I.V-1)*7),I.y=te.getFullYear(),I.m=te.getMonth(),I.d=te.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),ie="Z"in I?CQ(l4(I.y,0,1)).getUTCDay():kQ(l4(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(ie+5)%7:I.w+I.U*7-(ie+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,CQ(I)):kQ(I)}}a(S,"newParse");function T(D,J,q,I){for(var H=0,te=J.length,ie=q.length,he,De;H<te;){if(I>=ie)return-1;if(he=J.charCodeAt(H++),he===37){if(he=J.charAt(H++),De=F[he in v3e?J.charAt(H++):he],!De||(I=De(D,q,I))<0)return-1}else if(he!=q.charCodeAt(I++))return-1}return I}a(T,"parseSpecifier");function k(D,J,q){var I=f.exec(J.slice(q));return I?(D.p=h.get(I[0].toLowerCase()),q+I[0].length):-1}a(k,"parsePeriod");function R(D,J,q){var I=y.exec(J.slice(q));return I?(D.w=E.get(I[0].toLowerCase()),q+I[0].length):-1}a(R,"parseShortWeekday");function x(D,J,q){var I=p.exec(J.slice(q));return I?(D.w=g.get(I[0].toLowerCase()),q+I[0].length):-1}a(x,"parseWeekday");function N(D,J,q){var I=P.exec(J.slice(q));return I?(D.m=Q.get(I[0].toLowerCase()),q+I[0].length):-1}a(N,"parseShortMonth");function m(D,J,q){var I=M.exec(J.slice(q));return I?(D.m=z.get(I[0].toLowerCase()),q+I[0].length):-1}a(m,"parseMonth");function v(D,J,q){return T(D,t,J,q)}a(v,"parseLocaleDateTime");function A(D,J,q){return T(D,r,J,q)}a(A,"parseLocaleDate");function U(D,J,q){return T(D,n,J,q)}a(U,"parseLocaleTime");function G(D){return o[D.getDay()]}a(G,"formatShortWeekday");function K(D){return s[D.getDay()]}a(K,"formatWeekday");function Z(D){return u[D.getMonth()]}a(Z,"formatShortMonth");function O(D){return l[D.getMonth()]}a(O,"formatMonth");function $(D){return i[+(D.getHours()>=12)]}a($,"formatPeriod");function L(D){return 1+~~(D.getMonth()/3)}a(L,"formatQuarter");function ee(D){return o[D.getUTCDay()]}a(ee,"formatUTCShortWeekday");function ve(D){return s[D.getUTCDay()]}a(ve,"formatUTCWeekday");function ye(D){return u[D.getUTCMonth()]}a(ye,"formatUTCShortMonth");function se(D){return l[D.getUTCMonth()]}a(se,"formatUTCMonth");function be(D){return i[+(D.getUTCHours()>=12)]}a(be,"formatUTCPeriod");function Y(D){return 1+~~(D.getUTCMonth()/3)}return a(Y,"formatUTCQuarter"),{format:function(D){var J=B(D+="",V);return J.toString=function(){return D},J},parse:function(D){var J=S(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=B(D+="",W);return J.toString=function(){return D},J},utcParse:function(D){var J=S(D+="",!0);return J.toString=function(){return D},J}}}a(IQ,"formatLocale");var v3e={"-":"",_:" ",0:"0"},Za=/^\s*\d+/,S2t=/^%/,k2t=/[\\^$*+?|[\]().{}]/g;function Yn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}a(Yn,"pad");function C2t(e){return e.replace(k2t,"\\$&")}a(C2t,"requote");function u4(e){return new RegExp("^(?:"+e.map(C2t).join("|")+")","i")}a(u4,"formatRe");function f4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}a(f4,"formatLookup");function I2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}a(I2t,"parseWeekdayNumberSunday");function T2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}a(T2t,"parseWeekdayNumberMonday");function M2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}a(M2t,"parseWeekNumberSunday");function B2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}a(B2t,"parseWeekNumberISO");function R2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}a(R2t,"parseWeekNumberMonday");function _3e(e,t,r){var n=Za.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}a(_3e,"parseFullYear");function x3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}a(x3e,"parseYear");function L2t(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}a(L2t,"parseZone");function D2t(e,t,r){var n=Za.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}a(D2t,"parseQuarter");function N2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}a(N2t,"parseMonthNumber");function w3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}a(w3e,"parseDayOfMonth");function O2t(e,t,r){var n=Za.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}a(O2t,"parseDayOfYear");function A3e(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}a(A3e,"parseHour24");function q2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}a(q2t,"parseMinutes");function P2t(e,t,r){var n=Za.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}a(P2t,"parseSeconds");function F2t(e,t,r){var n=Za.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}a(F2t,"parseMilliseconds");function U2t(e,t,r){var n=Za.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}a(U2t,"parseMicroseconds");function Y2t(e,t,r){var n=S2t.exec(t.slice(r,r+1));return n?r+n[0].length:-1}a(Y2t,"parseLiteralPercent");function H2t(e,t,r){var n=Za.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}a(H2t,"parseUnixTimestamp");function z2t(e,t,r){var n=Za.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}a(z2t,"parseUnixTimestampSeconds");function E3e(e,t){return Yn(e.getDate(),t,2)}a(E3e,"formatDayOfMonth");function Q2t(e,t){return Yn(e.getHours(),t,2)}a(Q2t,"formatHour24");function W2t(e,t){return Yn(e.getHours()%12||12,t,2)}a(W2t,"formatHour12");function V2t(e,t){return Yn(1+F0.count(Hl(e),e),t,3)}a(V2t,"formatDayOfYear");function T3e(e,t){return Yn(e.getMilliseconds(),t,3)}a(T3e,"formatMilliseconds");function j2t(e,t){return T3e(e,t)+"000"}a(j2t,"formatMicroseconds");function G2t(e,t){return Yn(e.getMonth()+1,t,2)}a(G2t,"formatMonthNumber");function K2t(e,t){return Yn(e.getMinutes(),t,2)}a(K2t,"formatMinutes");function $2t(e,t){return Yn(e.getSeconds(),t,2)}a($2t,"formatSeconds");function X2t(e){var t=e.getDay();return t===0?7:t}a(X2t,"formatWeekdayNumberMonday");function J2t(e,t){return Yn(Wh.count(Hl(e)-1,e),t,2)}a(J2t,"formatWeekNumberSunday");function M3e(e){var t=e.getDay();return t>=4||t===0?U0(e):U0.ceil(e)}a(M3e,"dISO");function Z2t(e,t){return e=M3e(e),Yn(U0.count(Hl(e),e)+(Hl(e).getDay()===4),t,2)}a(Z2t,"formatWeekNumberISO");function ebt(e){return e.getDay()}a(ebt,"formatWeekdayNumberSunday");function tbt(e,t){return Yn(Tb.count(Hl(e)-1,e),t,2)}a(tbt,"formatWeekNumberMonday");function rbt(e,t){return Yn(e.getFullYear()%100,t,2)}a(rbt,"formatYear");function nbt(e,t){return e=M3e(e),Yn(e.getFullYear()%100,t,2)}a(nbt,"formatYearISO");function ibt(e,t){return Yn(e.getFullYear()%1e4,t,4)}a(ibt,"formatFullYear");function abt(e,t){var r=e.getDay();return e=r>=4||r===0?U0(e):U0.ceil(e),Yn(e.getFullYear()%1e4,t,4)}a(abt,"formatFullYearISO");function sbt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yn(t/60|0,"0",2)+Yn(t%60,"0",2)}a(sbt,"formatZone");function S3e(e,t){return Yn(e.getUTCDate(),t,2)}a(S3e,"formatUTCDayOfMonth");function obt(e,t){return Yn(e.getUTCHours(),t,2)}a(obt,"formatUTCHour24");function cbt(e,t){return Yn(e.getUTCHours()%12||12,t,2)}a(cbt,"formatUTCHour12");function lbt(e,t){return Yn(1+Mb.count(Vh(e),e),t,3)}a(lbt,"formatUTCDayOfYear");function B3e(e,t){return Yn(e.getUTCMilliseconds(),t,3)}a(B3e,"formatUTCMilliseconds");function ubt(e,t){return B3e(e,t)+"000"}a(ubt,"formatUTCMicroseconds");function fbt(e,t){return Yn(e.getUTCMonth()+1,t,2)}a(fbt,"formatUTCMonthNumber");function hbt(e,t){return Yn(e.getUTCMinutes(),t,2)}a(hbt,"formatUTCMinutes");function dbt(e,t){return Yn(e.getUTCSeconds(),t,2)}a(dbt,"formatUTCSeconds");function pbt(e){var t=e.getUTCDay();return t===0?7:t}a(pbt,"formatUTCWeekdayNumberMonday");function gbt(e,t){return Yn(Tg.count(Vh(e)-1,e),t,2)}a(gbt,"formatUTCWeekNumberSunday");function R3e(e){var t=e.getUTCDay();return t>=4||t===0?Y0(e):Y0.ceil(e)}a(R3e,"UTCdISO");function ybt(e,t){return e=R3e(e),Yn(Y0.count(Vh(e),e)+(Vh(e).getUTCDay()===4),t,2)}a(ybt,"formatUTCWeekNumberISO");function mbt(e){return e.getUTCDay()}a(mbt,"formatUTCWeekdayNumberSunday");function bbt(e,t){return Yn(Bb.count(Vh(e)-1,e),t,2)}a(bbt,"formatUTCWeekNumberMonday");function vbt(e,t){return Yn(e.getUTCFullYear()%100,t,2)}a(vbt,"formatUTCYear");function _bt(e,t){return e=R3e(e),Yn(e.getUTCFullYear()%100,t,2)}a(_bt,"formatUTCYearISO");function xbt(e,t){return Yn(e.getUTCFullYear()%1e4,t,4)}a(xbt,"formatUTCFullYear");function wbt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Y0(e):Y0.ceil(e),Yn(e.getUTCFullYear()%1e4,t,4)}a(wbt,"formatUTCFullYearISO");function Abt(){return"+0000"}a(Abt,"formatUTCZone");function k3e(){return"%"}a(k3e,"formatLiteralPercent");function C3e(e){return+e}a(C3e,"formatUnixTimestamp");function I3e(e){return Math.floor(+e/1e3)}a(I3e,"formatUnixTimestampSeconds");var Rb,E9,L3e,D3e,N3e;TQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TQ(e){return Rb=IQ(e),E9=Rb.format,L3e=Rb.parse,D3e=Rb.utcFormat,N3e=Rb.utcParse,Rb}a(TQ,"defaultLocale");function Ebt(e){return new Date(e)}a(Ebt,"date");function Sbt(e){return e instanceof Date?+e:+new Date(+e)}a(Sbt,"number");function O3e(e,t,r,n,i,s,o,l,u,f){var h=i4(),p=h.invert,g=h.domain,y=f(".%L"),E=f(":%S"),M=f("%I:%M"),z=f("%I %p"),P=f("%a %d"),Q=f("%b %d"),V=f("%B"),W=f("%Y");function F(B){return(u(B)<B?y:l(B)<B?E:o(B)<B?M:s(B)<B?z:n(B)<B?i(B)<B?P:Q:r(B)<B?V:W)(B)}return a(F,"tickFormat"),h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?g(Array.from(B,Sbt)):g().map(Ebt)},h.ticks=function(B){var S=g();return e(S[0],S[S.length-1],B??10)},h.tickFormat=function(B,S){return S==null?F:f(S)},h.nice=function(B){var S=g();return(!B||typeof B.range!="function")&&(B=t(S[0],S[S.length-1],B??10)),B?g(bQ(S,B)):h},h.copy=function(){return d9(h,O3e(e,t,r,n,i,s,o,l,u,f))},h}a(O3e,"calendar");function S9(){return Sb.apply(O3e(EQ,SQ,Hl,c4,Wh,F0,o4,s4,Qh,E9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}a(S9,"time");d();d();d();d();var MQ=Math.PI,BQ=2*MQ,Mg=1e-6,kbt=BQ-Mg;function RQ(){this._x0=this._y0=this._x1=this._y1=null,this._=""}a(RQ,"Path");function q3e(){return new RQ}a(q3e,"path");RQ.prototype=q3e.prototype={constructor:RQ,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var s=this._x1,o=this._y1,l=r-e,u=n-t,f=s-e,h=o-t,p=f*f+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Mg)if(!(Math.abs(h*l-u*f)>Mg)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-s,y=n-o,E=l*l+u*u,M=g*g+y*y,z=Math.sqrt(E),P=Math.sqrt(p),Q=i*Math.tan((MQ-Math.acos((E+p-M)/(2*z*P)))/2),V=Q/P,W=Q/z;Math.abs(V-1)>Mg&&(this._+="L"+(e+V*f)+","+(t+V*h)),this._+="A"+i+","+i+",0,0,"+ +(h*g>f*y)+","+(this._x1=e+W*l)+","+(this._y1=t+W*u)}},arc:function(e,t,r,n,i,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),l=r*Math.sin(n),u=e+o,f=t+l,h=1^s,p=s?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+f:(Math.abs(this._x1-u)>Mg||Math.abs(this._y1-f)>Mg)&&(this._+="L"+u+","+f),r&&(p<0&&(p=p%BQ+BQ),p>kbt?this._+="A"+r+","+r+",0,1,"+h+","+(e-o)+","+(t-l)+"A"+r+","+r+",0,1,"+h+","+(this._x1=u)+","+(this._y1=f):p>Mg&&(this._+="A"+r+","+r+",0,"+ +(p>=MQ)+","+h+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var h4=q3e;d();function Ti(e){return a(function(){return e},"constant")}a(Ti,"default");d();var LQ=Math.abs,ps=Math.atan2,H0=Math.cos,P3e=Math.max,k9=Math.min,zl=Math.sin,Bg=Math.sqrt,ro=1e-12,Lb=Math.PI,d4=Lb/2,Db=2*Lb;function F3e(e){return e>1?0:e<-1?Lb:Math.acos(e)}a(F3e,"acos");function DQ(e){return e>=1?d4:e<=-1?-d4:Math.asin(e)}a(DQ,"asin");function Cbt(e){return e.innerRadius}a(Cbt,"arcInnerRadius");function Ibt(e){return e.outerRadius}a(Ibt,"arcOuterRadius");function Tbt(e){return e.startAngle}a(Tbt,"arcStartAngle");function Mbt(e){return e.endAngle}a(Mbt,"arcEndAngle");function Bbt(e){return e&&e.padAngle}a(Bbt,"arcPadAngle");function Rbt(e,t,r,n,i,s,o,l){var u=r-e,f=n-t,h=o-i,p=l-s,g=p*u-h*f;if(!(g*g<ro))return g=(h*(t-s)-p*(e-i))/g,[e+g*u,t+g*f]}a(Rbt,"intersect");function C9(e,t,r,n,i,s,o){var l=e-r,u=t-n,f=(o?s:-s)/Bg(l*l+u*u),h=f*u,p=-f*l,g=e+h,y=t+p,E=r+h,M=n+p,z=(g+E)/2,P=(y+M)/2,Q=E-g,V=M-y,W=Q*Q+V*V,F=i-s,B=g*M-E*y,S=(V<0?-1:1)*Bg(P3e(0,F*F*W-B*B)),T=(B*V-Q*S)/W,k=(-B*Q-V*S)/W,R=(B*V+Q*S)/W,x=(-B*Q+V*S)/W,N=T-z,m=k-P,v=R-z,A=x-P;return N*N+m*m>v*v+A*A&&(T=R,k=x),{cx:T,cy:k,x01:-h,y01:-p,x11:T*(i/F-1),y11:k*(i/F-1)}}a(C9,"cornerTangents");function Nb(){var e=Cbt,t=Ibt,r=Ti(0),n=null,i=Tbt,s=Mbt,o=Bbt,l=null;function u(){var f,h,p=+e.apply(this,arguments),g=+t.apply(this,arguments),y=i.apply(this,arguments)-d4,E=s.apply(this,arguments)-d4,M=LQ(E-y),z=E>y;if(l||(l=f=h4()),g<p&&(h=g,g=p,p=h),!(g>ro))l.moveTo(0,0);else if(M>Db-ro)l.moveTo(g*H0(y),g*zl(y)),l.arc(0,0,g,y,E,!z),p>ro&&(l.moveTo(p*H0(E),p*zl(E)),l.arc(0,0,p,E,y,z));else{var P=y,Q=E,V=y,W=E,F=M,B=M,S=o.apply(this,arguments)/2,T=S>ro&&(n?+n.apply(this,arguments):Bg(p*p+g*g)),k=k9(LQ(g-p)/2,+r.apply(this,arguments)),R=k,x=k,N,m;if(T>ro){var v=DQ(T/p*zl(S)),A=DQ(T/g*zl(S));(F-=v*2)>ro?(v*=z?1:-1,V+=v,W-=v):(F=0,V=W=(y+E)/2),(B-=A*2)>ro?(A*=z?1:-1,P+=A,Q-=A):(B=0,P=Q=(y+E)/2)}var U=g*H0(P),G=g*zl(P),K=p*H0(W),Z=p*zl(W);if(k>ro){var O=g*H0(Q),$=g*zl(Q),L=p*H0(V),ee=p*zl(V),ve;if(M<Lb&&(ve=Rbt(U,G,L,ee,O,$,K,Z))){var ye=U-ve[0],se=G-ve[1],be=O-ve[0],Y=$-ve[1],D=1/zl(F3e((ye*be+se*Y)/(Bg(ye*ye+se*se)*Bg(be*be+Y*Y)))/2),J=Bg(ve[0]*ve[0]+ve[1]*ve[1]);R=k9(k,(p-J)/(D-1)),x=k9(k,(g-J)/(D+1))}}B>ro?x>ro?(N=C9(L,ee,U,G,g,x,z),m=C9(O,$,K,Z,g,x,z),l.moveTo(N.cx+N.x01,N.cy+N.y01),x<k?l.arc(N.cx,N.cy,x,ps(N.y01,N.x01),ps(m.y01,m.x01),!z):(l.arc(N.cx,N.cy,x,ps(N.y01,N.x01),ps(N.y11,N.x11),!z),l.arc(0,0,g,ps(N.cy+N.y11,N.cx+N.x11),ps(m.cy+m.y11,m.cx+m.x11),!z),l.arc(m.cx,m.cy,x,ps(m.y11,m.x11),ps(m.y01,m.x01),!z))):(l.moveTo(U,G),l.arc(0,0,g,P,Q,!z)):l.moveTo(U,G),!(p>ro)||!(F>ro)?l.lineTo(K,Z):R>ro?(N=C9(K,Z,O,$,p,-R,z),m=C9(U,G,L,ee,p,-R,z),l.lineTo(N.cx+N.x01,N.cy+N.y01),R<k?l.arc(N.cx,N.cy,R,ps(N.y01,N.x01),ps(m.y01,m.x01),!z):(l.arc(N.cx,N.cy,R,ps(N.y01,N.x01),ps(N.y11,N.x11),!z),l.arc(0,0,p,ps(N.cy+N.y11,N.cx+N.x11),ps(m.cy+m.y11,m.cx+m.x11),z),l.arc(m.cx,m.cy,R,ps(m.y11,m.x11),ps(m.y01,m.x01),!z))):l.arc(0,0,p,W,V,z)}if(l.closePath(),f)return l=null,f+""||null}return a(u,"arc"),u.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Lb/2;return[H0(h)*f,zl(h)*f]},u.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Ti(+f),u):e},u.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Ti(+f),u):t},u.cornerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:Ti(+f),u):r},u.padRadius=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ti(+f),u):n},u.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Ti(+f),u):i},u.endAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Ti(+f),u):s},u.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Ti(+f),u):o},u.context=function(f){return arguments.length?(l=f??null,u):l},u}a(Nb,"default");d();var sLr=Array.prototype.slice;function p4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(p4,"default");d();function U3e(e){this._context=e}a(U3e,"Linear");U3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function no(e){return new U3e(e)}a(no,"default");d();d();function Y3e(e){return e[0]}a(Y3e,"x");function H3e(e){return e[1]}a(H3e,"y");function z0(e,t){var r=Ti(!0),n=null,i=no,s=null;e=typeof e=="function"?e:e===void 0?Y3e:Ti(e),t=typeof t=="function"?t:t===void 0?H3e:Ti(t);function o(l){var u,f=(l=p4(l)).length,h,p=!1,g;for(n==null&&(s=i(g=h4())),u=0;u<=f;++u)!(u<f&&r(h=l[u],u,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(h,u,l),+t(h,u,l));if(g)return s=null,g+""||null}return a(o,"line"),o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ti(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ti(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ti(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}a(z0,"default");d();d();function NQ(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}a(NQ,"default");d();function OQ(e){return e}a(OQ,"default");function I9(){var e=OQ,t=NQ,r=null,n=Ti(0),i=Ti(Db),s=Ti(0);function o(l){var u,f=(l=p4(l)).length,h,p,g=0,y=new Array(f),E=new Array(f),M=+n.apply(this,arguments),z=Math.min(Db,Math.max(-Db,i.apply(this,arguments)-M)),P,Q=Math.min(Math.abs(z)/f,s.apply(this,arguments)),V=Q*(z<0?-1:1),W;for(u=0;u<f;++u)(W=E[y[u]=u]=+e(l[u],u,l))>0&&(g+=W);for(t!=null?y.sort(function(F,B){return t(E[F],E[B])}):r!=null&&y.sort(function(F,B){return r(l[F],l[B])}),u=0,p=g?(z-f*V)/g:0;u<f;++u,M=P)h=y[u],W=E[h],P=M+(W>0?W*p:0)+V,E[h]={data:l[h],index:u,value:W,startAngle:M,endAngle:P,padAngle:Q};return E}return a(o,"pie"),o.value=function(l){return arguments.length?(e=typeof l=="function"?l:Ti(+l),o):e},o.sortValues=function(l){return arguments.length?(t=l,r=null,o):t},o.sort=function(l){return arguments.length?(r=l,t=null,o):r},o.startAngle=function(l){return arguments.length?(n=typeof l=="function"?l:Ti(+l),o):n},o.endAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Ti(+l),o):i},o.padAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Ti(+l),o):s},o}a(I9,"default");d();d();function Rg(){}a(Rg,"default");d();function Ob(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}a(Ob,"point");function z3e(e){this._context=e}a(z3e,"Basis");z3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jh(e){return new z3e(e)}a(jh,"default");function Q3e(e){this._context=e}a(Q3e,"BasisClosed");Q3e.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T9(e){return new Q3e(e)}a(T9,"default");d();function W3e(e){this._context=e}a(W3e,"BasisOpen");W3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M9(e){return new W3e(e)}a(M9,"default");d();function V3e(e){this._context=e}a(V3e,"LinearClosed");V3e.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B9(e){return new V3e(e)}a(B9,"default");d();function j3e(e){return e<0?-1:1}a(j3e,"sign");function G3e(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(j3e(s)+j3e(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}a(G3e,"slope3");function K3e(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}a(K3e,"slope2");function qQ(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}a(qQ,"point");function R9(e){this._context=e}a(R9,"MonotoneX");R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qQ(this,this._t0,K3e(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qQ(this,K3e(this,r=G3e(this,e,t)),r);break;default:qQ(this,this._t0,r=G3e(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $3e(e){this._context=new X3e(e)}a($3e,"MonotoneY");($3e.prototype=Object.create(R9.prototype)).point=function(e,t){R9.prototype.point.call(this,t,e)};function X3e(e){this._context=e}a(X3e,"ReflectContext");X3e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function PQ(e){return new R9(e)}a(PQ,"monotoneX");function FQ(e){return new $3e(e)}a(FQ,"monotoneY");d();function Z3e(e){this._context=e}a(Z3e,"Natural");Z3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=J3e(e),i=J3e(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J3e(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}a(J3e,"controlPoints");function L9(e){return new Z3e(e)}a(L9,"default");d();function D9(e,t){this._context=e,this._t=t}a(D9,"Step");D9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function N9(e){return new D9(e,.5)}a(N9,"default");function UQ(e){return new D9(e,0)}a(UQ,"stepBefore");function YQ(e){return new D9(e,1)}a(YQ,"stepAfter");d();d();var HQ=new Date,zQ=new Date;function Ns(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a(i,"interval"),i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,l){var u=[],f;if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;do u.push(f=new Date(+s)),t(s,l),e(s);while(f<s&&s<o);return u},i.filter=function(s){return Ns(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););})},r&&(i.count=function(s,o){return HQ.setTime(+s),zQ.setTime(+o),e(HQ),e(zQ),Math.floor(r(HQ,zQ))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(o){return n(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}a(Ns,"newInterval");d();var e4e=Ns(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),O9=e4e,Nbt=e4e.range;d();function Lg(e){return Ns(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}a(Lg,"weekday");var g4=Lg(0),qb=Lg(1),t4e=Lg(2),r4e=Lg(3),Q0=Lg(4),n4e=Lg(5),i4e=Lg(6),a4e=g4.range,qbt=qb.range,Pbt=t4e.range,Fbt=r4e.range,Ubt=Q0.range,Ybt=n4e.range,Hbt=i4e.range;d();var QQ=Ns(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});QQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var Dg=QQ,zbt=QQ.range;d();var s4e=Ns(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),q9=s4e,Qbt=s4e.range;d();function Ng(e){return Ns(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}a(Ng,"utcWeekday");var y4=Ng(0),Pb=Ng(1),o4e=Ng(2),c4e=Ng(3),W0=Ng(4),l4e=Ng(5),u4e=Ng(6),f4e=y4.range,Wbt=Pb.range,Vbt=o4e.range,jbt=c4e.range,Gbt=W0.range,Kbt=l4e.range,$bt=u4e.range;d();var WQ=Ns(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});WQ.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var Og=WQ,Xbt=WQ.range;d();d();d();function VQ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}a(VQ,"localDate");function jQ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}a(jQ,"utcDate");function m4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}a(m4,"newDate");function GQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=b4(i),h=v4(i),p=b4(s),g=v4(s),y=b4(o),E=v4(o),M=b4(l),z=v4(l),P=b4(u),Q=v4(u),V={a:G,A:K,b:Z,B:O,c:null,d:m4e,e:m4e,f:_vt,g:Mvt,G:Rvt,H:mvt,I:bvt,j:vvt,L:w4e,m:xvt,M:wvt,p:$,q:L,Q:_4e,s:x4e,S:Avt,u:Evt,U:Svt,V:kvt,w:Cvt,W:Ivt,x:null,X:null,y:Tvt,Y:Bvt,Z:Lvt,"%":v4e},W={a:ee,A:ve,b:ye,B:se,c:null,d:b4e,e:b4e,f:qvt,g:jvt,G:Kvt,H:Dvt,I:Nvt,j:Ovt,L:E4e,m:Pvt,M:Fvt,p:be,q:Y,Q:_4e,s:x4e,S:Uvt,u:Yvt,U:Hvt,V:zvt,w:Qvt,W:Wvt,x:null,X:null,y:Vvt,Y:Gvt,Z:$vt,"%":v4e},F={a:R,A:x,b:N,B:m,c:v,d:g4e,e:g4e,f:dvt,g:p4e,G:d4e,H:y4e,I:y4e,j:lvt,L:hvt,m:cvt,M:uvt,p:k,q:ovt,Q:gvt,s:yvt,S:fvt,u:rvt,U:nvt,V:ivt,w:tvt,W:avt,x:A,X:U,y:p4e,Y:d4e,Z:svt,"%":pvt};V.x=B(r,V),V.X=B(n,V),V.c=B(t,V),W.x=B(r,W),W.X=B(n,W),W.c=B(t,W);function B(D,J){return function(q){var I=[],H=-1,te=0,ie=D.length,he,De,$e;for(q instanceof Date||(q=new Date(+q));++H<ie;)D.charCodeAt(H)===37&&(I.push(D.slice(te,H)),(De=h4e[he=D.charAt(++H)])!=null?he=D.charAt(++H):De=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,De)),I.push(he),te=H+1);return I.push(D.slice(te,H)),I.join("")}}a(B,"newFormat");function S(D,J){return function(q){var I=m4(1900,void 0,1),H=T(I,D,q+="",0),te,ie;if(H!=q.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(J&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(te=jQ(m4(I.y,0,1)),ie=te.getUTCDay(),te=ie>4||ie===0?Pb.ceil(te):Pb(te),te=q9.offset(te,(I.V-1)*7),I.y=te.getUTCFullYear(),I.m=te.getUTCMonth(),I.d=te.getUTCDate()+(I.w+6)%7):(te=VQ(m4(I.y,0,1)),ie=te.getDay(),te=ie>4||ie===0?qb.ceil(te):qb(te),te=O9.offset(te,(I.V-1)*7),I.y=te.getFullYear(),I.m=te.getMonth(),I.d=te.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),ie="Z"in I?jQ(m4(I.y,0,1)).getUTCDay():VQ(m4(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(ie+5)%7:I.w+I.U*7-(ie+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,jQ(I)):VQ(I)}}a(S,"newParse");function T(D,J,q,I){for(var H=0,te=J.length,ie=q.length,he,De;H<te;){if(I>=ie)return-1;if(he=J.charCodeAt(H++),he===37){if(he=J.charAt(H++),De=F[he in h4e?J.charAt(H++):he],!De||(I=De(D,q,I))<0)return-1}else if(he!=q.charCodeAt(I++))return-1}return I}a(T,"parseSpecifier");function k(D,J,q){var I=f.exec(J.slice(q));return I?(D.p=h.get(I[0].toLowerCase()),q+I[0].length):-1}a(k,"parsePeriod");function R(D,J,q){var I=y.exec(J.slice(q));return I?(D.w=E.get(I[0].toLowerCase()),q+I[0].length):-1}a(R,"parseShortWeekday");function x(D,J,q){var I=p.exec(J.slice(q));return I?(D.w=g.get(I[0].toLowerCase()),q+I[0].length):-1}a(x,"parseWeekday");function N(D,J,q){var I=P.exec(J.slice(q));return I?(D.m=Q.get(I[0].toLowerCase()),q+I[0].length):-1}a(N,"parseShortMonth");function m(D,J,q){var I=M.exec(J.slice(q));return I?(D.m=z.get(I[0].toLowerCase()),q+I[0].length):-1}a(m,"parseMonth");function v(D,J,q){return T(D,t,J,q)}a(v,"parseLocaleDateTime");function A(D,J,q){return T(D,r,J,q)}a(A,"parseLocaleDate");function U(D,J,q){return T(D,n,J,q)}a(U,"parseLocaleTime");function G(D){return o[D.getDay()]}a(G,"formatShortWeekday");function K(D){return s[D.getDay()]}a(K,"formatWeekday");function Z(D){return u[D.getMonth()]}a(Z,"formatShortMonth");function O(D){return l[D.getMonth()]}a(O,"formatMonth");function $(D){return i[+(D.getHours()>=12)]}a($,"formatPeriod");function L(D){return 1+~~(D.getMonth()/3)}a(L,"formatQuarter");function ee(D){return o[D.getUTCDay()]}a(ee,"formatUTCShortWeekday");function ve(D){return s[D.getUTCDay()]}a(ve,"formatUTCWeekday");function ye(D){return u[D.getUTCMonth()]}a(ye,"formatUTCShortMonth");function se(D){return l[D.getUTCMonth()]}a(se,"formatUTCMonth");function be(D){return i[+(D.getUTCHours()>=12)]}a(be,"formatUTCPeriod");function Y(D){return 1+~~(D.getUTCMonth()/3)}return a(Y,"formatUTCQuarter"),{format:function(D){var J=B(D+="",V);return J.toString=function(){return D},J},parse:function(D){var J=S(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=B(D+="",W);return J.toString=function(){return D},J},utcParse:function(D){var J=S(D+="",!0);return J.toString=function(){return D},J}}}a(GQ,"formatLocale");var h4e={"-":"",_:" ",0:"0"},es=/^\s*\d+/,Jbt=/^%/,Zbt=/[\\^$*+?|[\]().{}]/g;function Hn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}a(Hn,"pad");function evt(e){return e.replace(Zbt,"\\$&")}a(evt,"requote");function b4(e){return new RegExp("^(?:"+e.map(evt).join("|")+")","i")}a(b4,"formatRe");function v4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}a(v4,"formatLookup");function tvt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}a(tvt,"parseWeekdayNumberSunday");function rvt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}a(rvt,"parseWeekdayNumberMonday");function nvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}a(nvt,"parseWeekNumberSunday");function ivt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}a(ivt,"parseWeekNumberISO");function avt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}a(avt,"parseWeekNumberMonday");function d4e(e,t,r){var n=es.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}a(d4e,"parseFullYear");function p4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}a(p4e,"parseYear");function svt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}a(svt,"parseZone");function ovt(e,t,r){var n=es.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}a(ovt,"parseQuarter");function cvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}a(cvt,"parseMonthNumber");function g4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}a(g4e,"parseDayOfMonth");function lvt(e,t,r){var n=es.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}a(lvt,"parseDayOfYear");function y4e(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}a(y4e,"parseHour24");function uvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}a(uvt,"parseMinutes");function fvt(e,t,r){var n=es.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}a(fvt,"parseSeconds");function hvt(e,t,r){var n=es.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}a(hvt,"parseMilliseconds");function dvt(e,t,r){var n=es.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}a(dvt,"parseMicroseconds");function pvt(e,t,r){var n=Jbt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}a(pvt,"parseLiteralPercent");function gvt(e,t,r){var n=es.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}a(gvt,"parseUnixTimestamp");function yvt(e,t,r){var n=es.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}a(yvt,"parseUnixTimestampSeconds");function m4e(e,t){return Hn(e.getDate(),t,2)}a(m4e,"formatDayOfMonth");function mvt(e,t){return Hn(e.getHours(),t,2)}a(mvt,"formatHour24");function bvt(e,t){return Hn(e.getHours()%12||12,t,2)}a(bvt,"formatHour12");function vvt(e,t){return Hn(1+O9.count(Dg(e),e),t,3)}a(vvt,"formatDayOfYear");function w4e(e,t){return Hn(e.getMilliseconds(),t,3)}a(w4e,"formatMilliseconds");function _vt(e,t){return w4e(e,t)+"000"}a(_vt,"formatMicroseconds");function xvt(e,t){return Hn(e.getMonth()+1,t,2)}a(xvt,"formatMonthNumber");function wvt(e,t){return Hn(e.getMinutes(),t,2)}a(wvt,"formatMinutes");function Avt(e,t){return Hn(e.getSeconds(),t,2)}a(Avt,"formatSeconds");function Evt(e){var t=e.getDay();return t===0?7:t}a(Evt,"formatWeekdayNumberMonday");function Svt(e,t){return Hn(g4.count(Dg(e)-1,e),t,2)}a(Svt,"formatWeekNumberSunday");function A4e(e){var t=e.getDay();return t>=4||t===0?Q0(e):Q0.ceil(e)}a(A4e,"dISO");function kvt(e,t){return e=A4e(e),Hn(Q0.count(Dg(e),e)+(Dg(e).getDay()===4),t,2)}a(kvt,"formatWeekNumberISO");function Cvt(e){return e.getDay()}a(Cvt,"formatWeekdayNumberSunday");function Ivt(e,t){return Hn(qb.count(Dg(e)-1,e),t,2)}a(Ivt,"formatWeekNumberMonday");function Tvt(e,t){return Hn(e.getFullYear()%100,t,2)}a(Tvt,"formatYear");function Mvt(e,t){return e=A4e(e),Hn(e.getFullYear()%100,t,2)}a(Mvt,"formatYearISO");function Bvt(e,t){return Hn(e.getFullYear()%1e4,t,4)}a(Bvt,"formatFullYear");function Rvt(e,t){var r=e.getDay();return e=r>=4||r===0?Q0(e):Q0.ceil(e),Hn(e.getFullYear()%1e4,t,4)}a(Rvt,"formatFullYearISO");function Lvt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Hn(t/60|0,"0",2)+Hn(t%60,"0",2)}a(Lvt,"formatZone");function b4e(e,t){return Hn(e.getUTCDate(),t,2)}a(b4e,"formatUTCDayOfMonth");function Dvt(e,t){return Hn(e.getUTCHours(),t,2)}a(Dvt,"formatUTCHour24");function Nvt(e,t){return Hn(e.getUTCHours()%12||12,t,2)}a(Nvt,"formatUTCHour12");function Ovt(e,t){return Hn(1+q9.count(Og(e),e),t,3)}a(Ovt,"formatUTCDayOfYear");function E4e(e,t){return Hn(e.getUTCMilliseconds(),t,3)}a(E4e,"formatUTCMilliseconds");function qvt(e,t){return E4e(e,t)+"000"}a(qvt,"formatUTCMicroseconds");function Pvt(e,t){return Hn(e.getUTCMonth()+1,t,2)}a(Pvt,"formatUTCMonthNumber");function Fvt(e,t){return Hn(e.getUTCMinutes(),t,2)}a(Fvt,"formatUTCMinutes");function Uvt(e,t){return Hn(e.getUTCSeconds(),t,2)}a(Uvt,"formatUTCSeconds");function Yvt(e){var t=e.getUTCDay();return t===0?7:t}a(Yvt,"formatUTCWeekdayNumberMonday");function Hvt(e,t){return Hn(y4.count(Og(e)-1,e),t,2)}a(Hvt,"formatUTCWeekNumberSunday");function S4e(e){var t=e.getUTCDay();return t>=4||t===0?W0(e):W0.ceil(e)}a(S4e,"UTCdISO");function zvt(e,t){return e=S4e(e),Hn(W0.count(Og(e),e)+(Og(e).getUTCDay()===4),t,2)}a(zvt,"formatUTCWeekNumberISO");function Qvt(e){return e.getUTCDay()}a(Qvt,"formatUTCWeekdayNumberSunday");function Wvt(e,t){return Hn(Pb.count(Og(e)-1,e),t,2)}a(Wvt,"formatUTCWeekNumberMonday");function Vvt(e,t){return Hn(e.getUTCFullYear()%100,t,2)}a(Vvt,"formatUTCYear");function jvt(e,t){return e=S4e(e),Hn(e.getUTCFullYear()%100,t,2)}a(jvt,"formatUTCYearISO");function Gvt(e,t){return Hn(e.getUTCFullYear()%1e4,t,4)}a(Gvt,"formatUTCFullYear");function Kvt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?W0(e):W0.ceil(e),Hn(e.getUTCFullYear()%1e4,t,4)}a(Kvt,"formatUTCFullYearISO");function $vt(){return"+0000"}a($vt,"formatUTCZone");function v4e(){return"%"}a(v4e,"formatLiteralPercent");function _4e(e){return+e}a(_4e,"formatUnixTimestamp");function x4e(e){return Math.floor(+e/1e3)}a(x4e,"formatUnixTimestampSeconds");var Fb,_4,k4e,C4e,I4e;KQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KQ(e){return Fb=GQ(e),_4=Fb.format,k4e=Fb.parse,C4e=Fb.utcFormat,I4e=Fb.utcParse,Fb}a(KQ,"defaultLocale");d();d();var Ub=0,w4=0,x4=0,M4e=1e3,P9,A4,F9=0,qg=0,U9=0,E4=typeof performance=="object"&&performance.now?performance:Date,B4e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function k4(){return qg||(B4e(Xvt),qg=E4.now()+U9)}a(k4,"now");function Xvt(){qg=0}a(Xvt,"clearNow");function S4(){this._call=this._time=this._next=null}a(S4,"Timer");S4.prototype=Y9.prototype={constructor:S4,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?k4():+r)+(t==null?0:+t),!this._next&&A4!==this&&(A4?A4._next=this:P9=this,A4=this),this._call=e,this._time=r,$Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,$Q())}};function Y9(e,t,r){var n=new S4;return n.restart(e,t,r),n}a(Y9,"timer");function R4e(){k4(),++Ub;for(var e=P9,t;e;)(t=qg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ub}a(R4e,"timerFlush");function T4e(){qg=(F9=E4.now())+U9,Ub=w4=0;try{R4e()}finally{Ub=0,Zvt(),qg=0}}a(T4e,"wake");function Jvt(){var e=E4.now(),t=e-F9;t>M4e&&(U9-=t,F9=e)}a(Jvt,"poke");function Zvt(){for(var e,t=P9,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:P9=r);A4=e,$Q(n)}a(Zvt,"nap");function $Q(e){if(!Ub){w4&&(w4=clearTimeout(w4));var t=e-qg;t>24?(e<1/0&&(w4=setTimeout(T4e,e-E4.now()-U9)),x4&&(x4=clearInterval(x4))):(x4||(F9=E4.now(),x4=setInterval(Jvt,M4e)),Ub=1,B4e(T4e))}}a($Q,"sleep");d();function C4(e,t,r){var n=new S4;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(C4,"default");d();d();d();d();d();var e_t=GH("start","end","cancel","interrupt"),t_t=[],N4e=0,L4e=1,z9=2,H9=3,D4e=4,Q9=5,I4=6;function Gh(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;r_t(e,r,{name:t,index:n,group:i,on:e_t,tween:t_t,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:N4e})}a(Gh,"default");function T4(e,t){var r=Oa(e,t);if(r.state>N4e)throw new Error("too late; already scheduled");return r}a(T4,"init");function gs(e,t){var r=Oa(e,t);if(r.state>H9)throw new Error("too late; already running");return r}a(gs,"set");function Oa(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Oa,"get");function r_t(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Y9(s,0,r.time);function s(f){r.state=L4e,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==L4e)return u();for(h in n)if(y=n[h],y.name===r.name){if(y.state===H9)return C4(o);y.state===D4e?(y.state=I4,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=I4,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(C4(function(){r.state===H9&&(r.state=D4e,r.timer.restart(l,r.delay,r.time),l(f))}),r.state=z9,r.on.call("start",e,e.__data__,r.index,r.group),r.state===z9){for(r.state=H9,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function l(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=Q9,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===Q9&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}a(l,"tick");function u(){r.state=I4,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(u,"stop")}a(r_t,"create");function XQ(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>z9&&n.state<Q9,n.state=I4,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a(XQ,"default");function JQ(e){return this.each(function(){XQ(this,e)})}a(JQ,"default");d();d();d();d();function n_t(e,t){var r,n;return function(){var i=gs(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(n_t,"tweenRemove");function i_t(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=gs(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var l={name:t,value:r},u=0,f=i.length;u<f;++u)if(i[u].name===t){i[u]=l;break}u===f&&i.push(l)}s.tween=i}}a(i_t,"tweenFunction");function ZQ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Oa(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?n_t:i_t)(r,e,t))}a(ZQ,"default");function Yb(e,t,r){var n=e._id;return e.each(function(){var i=gs(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Oa(i,n).value[t]}}a(Yb,"tweenValue");d();function M4(e,t){var r;return(typeof t=="number"?lc:t instanceof L0?e9:(r=L0(t))?(t=r,e9):t9)(e,t)}a(M4,"default");function a_t(e){return function(){this.removeAttribute(e)}}a(a_t,"attrRemove");function s_t(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(s_t,"attrRemoveNS");function o_t(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(o_t,"attrConstant");function c_t(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(c_t,"attrConstantNS");function l_t(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(l_t,"attrFunction");function u_t(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(u_t,"attrFunctionNS");function eW(e,t){var r=ef(e),n=r==="transform"?Pz:M4;return this.attrTween(e,typeof t=="function"?(r.local?u_t:l_t)(r,n,Yb(this,"attr."+e,t)):t==null?(r.local?s_t:a_t)(r):(r.local?c_t:o_t)(r,n,t))}a(eW,"default");d();function f_t(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(f_t,"attrInterpolate");function h_t(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(h_t,"attrInterpolateNS");function d_t(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&h_t(e,s)),r}return a(i,"tween"),i._value=t,i}a(d_t,"attrTweenNS");function p_t(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&f_t(e,s)),r}return a(i,"tween"),i._value=t,i}a(p_t,"attrTween");function tW(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ef(e);return this.tween(r,(n.local?d_t:p_t)(n,t))}a(tW,"default");d();function g_t(e,t){return function(){T4(this,e).delay=+t.apply(this,arguments)}}a(g_t,"delayFunction");function y_t(e,t){return t=+t,function(){T4(this,e).delay=t}}a(y_t,"delayConstant");function rW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?g_t:y_t)(t,e)):Oa(this.node(),t).delay}a(rW,"default");d();function m_t(e,t){return function(){gs(this,e).duration=+t.apply(this,arguments)}}a(m_t,"durationFunction");function b_t(e,t){return t=+t,function(){gs(this,e).duration=t}}a(b_t,"durationConstant");function nW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m_t:b_t)(t,e)):Oa(this.node(),t).duration}a(nW,"default");d();function v_t(e,t){if(typeof t!="function")throw new Error;return function(){gs(this,e).ease=t}}a(v_t,"easeConstant");function iW(e){var t=this._id;return arguments.length?this.each(v_t(t,e)):Oa(this.node(),t).ease}a(iW,"default");d();function __t(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;gs(this,e).ease=r}}a(__t,"easeVarying");function aW(e){if(typeof e!="function")throw new Error;return this.each(__t(this._id,e))}a(aW,"default");d();function sW(e){typeof e!="function"&&(e=wb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new io(n,this._parents,this._name,this._id)}a(sW,"default");d();function oW(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),l=0;l<s;++l)for(var u=t[l],f=r[l],h=u.length,p=o[l]=new Array(h),g,y=0;y<h;++y)(g=u[y]||f[y])&&(p[y]=g);for(;l<n;++l)o[l]=t[l];return new io(o,this._parents,this._name,this._id)}a(oW,"default");d();function x_t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(x_t,"start");function w_t(e,t,r){var n,i,s=x_t(t)?T4:gs;return function(){var o=s(this,e),l=o.on;l!==n&&(i=(n=l).copy()).on(t,r),o.on=i}}a(w_t,"onFunction");function cW(e,t){var r=this._id;return arguments.length<2?Oa(this.node(),r).on.on(e):this.each(w_t(r,e,t))}a(cW,"default");d();function A_t(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(A_t,"removeFunction");function lW(){return this.on("end.remove",A_t(this._id))}a(lW,"default");d();function uW(e){var t=this._name,r=this._id;typeof e!="function"&&(e=D0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,f=s[o]=new Array(u),h,p,g=0;g<u;++g)(h=l[g])&&(p=e.call(h,h.__data__,g,l))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Gh(f[g],t,r,g,f,Oa(h,r)));return new io(s,this._parents,t,r)}a(uW,"default");d();function fW(e){var t=this._name,r=this._id;typeof e!="function"&&(e=xb(e));for(var n=this._groups,i=n.length,s=[],o=[],l=0;l<i;++l)for(var u=n[l],f=u.length,h,p=0;p<f;++p)if(h=u[p]){for(var g=e.call(h,h.__data__,p,u),y,E=Oa(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Gh(y,t,r,M,g,E);s.push(g),o.push(h)}return new io(s,o,t,r)}a(fW,"default");d();var E_t=Yh.prototype.constructor;function hW(){return new E_t(this._groups,this._parents)}a(hW,"default");d();function S_t(e,t){var r,n,i;return function(){var s=N0(this,e),o=(this.style.removeProperty(e),N0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(S_t,"styleNull");function O4e(e){return function(){this.style.removeProperty(e)}}a(O4e,"styleRemove");function k_t(e,t,r){var n,i=r+"",s;return function(){var o=N0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(k_t,"styleConstant");function C_t(e,t,r){var n,i,s;return function(){var o=N0(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),N0(this,e))),o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l))}}a(C_t,"styleFunction");function I_t(e,t){var r,n,i,s="style."+t,o="end."+s,l;return function(){var u=gs(this,e),f=u.on,h=u.value[s]==null?l||(l=O4e(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),u.on=n}}a(I_t,"styleMaybeRemove");function dW(e,t,r){var n=(e+="")=="transform"?qz:M4;return t==null?this.styleTween(e,S_t(e,n)).on("end.style."+e,O4e(e)):typeof t=="function"?this.styleTween(e,C_t(e,n,Yb(this,"style."+e,t))).each(I_t(this._id,e)):this.styleTween(e,k_t(e,n,t),r).on("end.style."+e,null)}a(dW,"default");d();function T_t(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(T_t,"styleInterpolate");function M_t(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&T_t(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(M_t,"styleTween");function pW(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,M_t(e,t,r??""))}a(pW,"default");d();function B_t(e){return function(){this.textContent=e}}a(B_t,"textConstant");function R_t(e){return function(){var t=e(this);this.textContent=t??""}}a(R_t,"textFunction");function gW(e){return this.tween("text",typeof e=="function"?R_t(Yb(this,"text",e)):B_t(e==null?"":e+""))}a(gW,"default");d();function L_t(e){return function(t){this.textContent=e.call(this,t)}}a(L_t,"textInterpolate");function D_t(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&L_t(i)),t}return a(n,"tween"),n._value=e,n}a(D_t,"textTween");function yW(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,D_t(e))}a(yW,"default");d();function mW(){for(var e=this._name,t=this._id,r=W9(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)if(u=o[f]){var h=Oa(u,t);Gh(u,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new io(n,this._parents,e,r)}a(mW,"default");d();function bW(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};r.each(function(){var f=gs(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),f.on=t}),i===0&&s()})}a(bW,"default");var N_t=0;function io(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(io,"Transition");function q4e(e){return Yh().transition(e)}a(q4e,"transition");function W9(){return++N_t}a(W9,"newId");var Kh=Yh.prototype;io.prototype=q4e.prototype={constructor:io,select:uW,selectAll:fW,selectChild:Kh.selectChild,selectChildren:Kh.selectChildren,filter:sW,merge:oW,selection:hW,transition:mW,call:Kh.call,nodes:Kh.nodes,node:Kh.node,size:Kh.size,empty:Kh.empty,each:Kh.each,on:cW,attr:eW,attrTween:tW,style:dW,styleTween:pW,text:gW,textTween:yW,remove:lW,tween:ZQ,delay:rW,duration:nW,ease:iW,easeVarying:aW,end:bW,[Symbol.iterator]:Kh[Symbol.iterator]};var O_t={time:null,delay:0,duration:250,ease:JC};function q_t(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(q_t,"inherit");function vW(e){var t,r;e instanceof io?(t=e._id,e=e._name):(t=W9(),(r=O_t).time=k4(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&Gh(u,e,t,f,o,r||q_t(u,t));return new io(n,this._parents,e,t)}a(vW,"default");Yh.prototype.interrupt=JQ;Yh.prototype.transition=vW;d();d();d();d();var P_t={value:()=>{}};function F4e(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new V9(r)}a(F4e,"dispatch");function V9(e){this._=e}a(V9,"Dispatch");function F_t(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}a(F_t,"parseTypenames");V9.prototype=F4e.prototype={constructor:V9,on:function(e,t){var r=this._,n=F_t(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=U_t(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=P4e(r[i],e.name,t);else if(t==null)for(i in r)r[i]=P4e(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new V9(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function U_t(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}a(U_t,"get");function P4e(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=P_t,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}a(P4e,"set");var _W=F4e;d();d();d();d();var j9="http://www.w3.org/1999/xhtml",xW={svg:"http://www.w3.org/2000/svg",xhtml:j9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nf(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),xW.hasOwnProperty(t)?{space:xW[t],local:e}:e}a(nf,"default");function Y_t(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===j9&&t.documentElement.namespaceURI===j9?t.createElement(e):t.createElementNS(r,e)}}a(Y_t,"creatorInherit");function H_t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(H_t,"creatorFixed");function B4(e){var t=nf(e);return(t.local?H_t:Y_t)(t)}a(B4,"default");d();d();d();function z_t(){}a(z_t,"none");function V0(e){return e==null?z_t:function(){return this.querySelector(e)}}a(V0,"default");function wW(e){typeof e!="function"&&(e=V0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=new Array(o),u,f,h=0;h<o;++h)(u=s[h])&&(f=e.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f);return new qa(n,this._parents)}a(wW,"default");d();d();function AW(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}a(AW,"array");d();function Q_t(){return[]}a(Q_t,"empty");function Hb(e){return e==null?Q_t:function(){return this.querySelectorAll(e)}}a(Hb,"default");function W_t(e){return function(){return AW(e.apply(this,arguments))}}a(W_t,"arrayAll");function EW(e){typeof e=="function"?e=W_t(e):e=Hb(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&(n.push(e.call(u,u.__data__,f,o)),i.push(u));return new qa(n,i)}a(EW,"default");d();d();function zb(e){return function(){return this.matches(e)}}a(zb,"default");function G9(e){return function(t){return t.matches(e)}}a(G9,"childMatcher");var V_t=Array.prototype.find;function j_t(e){return function(){return V_t.call(this.children,e)}}a(j_t,"childFind");function G_t(){return this.firstElementChild}a(G_t,"childFirst");function SW(e){return this.select(e==null?G_t:j_t(typeof e=="function"?e:G9(e)))}a(SW,"default");d();var K_t=Array.prototype.filter;function $_t(){return Array.from(this.children)}a($_t,"children");function X_t(e){return function(){return K_t.call(this.children,e)}}a(X_t,"childrenFilter");function kW(e){return this.selectAll(e==null?$_t:X_t(typeof e=="function"?e:G9(e)))}a(kW,"default");d();function CW(e){typeof e!="function"&&(e=zb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new qa(n,this._parents)}a(CW,"default");d();d();d();function R4(e){return new Array(e.length)}a(R4,"default");function IW(){return new qa(this._enter||this._groups.map(R4),this._parents)}a(IW,"default");function L4(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a(L4,"EnterNode");L4.prototype={constructor:L4,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};d();function TW(e){return function(){return e}}a(TW,"default");function J_t(e,t,r,n,i,s){for(var o=0,l,u=t.length,f=s.length;o<f;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new L4(e,s[o]);for(;o<u;++o)(l=t[o])&&(i[o]=l)}a(J_t,"bindIndex");function Z_t(e,t,r,n,i,s,o){var l,u,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(l=0;l<h;++l)(u=t[l])&&(g[l]=y=o.call(u,u.__data__,l,t)+"",f.has(y)?i[l]=u:f.set(y,u));for(l=0;l<p;++l)y=o.call(e,s[l],l,s)+"",(u=f.get(y))?(n[l]=u,u.__data__=s[l],f.delete(y)):r[l]=new L4(e,s[l]);for(l=0;l<h;++l)(u=t[l])&&f.get(g[l])===u&&(i[l]=u)}a(Z_t,"bindKey");function ext(e){return e.__data__}a(ext,"datum");function MW(e,t){if(!arguments.length)return Array.from(this,ext);var r=t?Z_t:J_t,n=this._parents,i=this._groups;typeof e!="function"&&(e=TW(e));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),f=0;f<s;++f){var h=n[f],p=i[f],g=p.length,y=txt(e.call(h,h&&h.__data__,f,n)),E=y.length,M=l[f]=new Array(E),z=o[f]=new Array(E),P=u[f]=new Array(g);r(h,p,M,z,P,y,t);for(var Q=0,V=0,W,F;Q<E;++Q)if(W=M[Q]){for(Q>=V&&(V=Q+1);!(F=z[V])&&++V<E;);W._next=F||null}}return o=new qa(o,n),o._enter=l,o._exit=u,o}a(MW,"default");function txt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(txt,"arraylike");d();function BW(){return new qa(this._exit||this._groups.map(R4),this._parents)}a(BW,"default");d();function RW(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}a(RW,"default");d();function LW(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var f=r[u],h=n[u],p=f.length,g=l[u]=new Array(p),y,E=0;E<p;++E)(y=f[E]||h[E])&&(g[E]=y);for(;u<i;++u)l[u]=r[u];return new qa(l,this._parents)}a(LW,"default");d();function DW(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}a(DW,"default");d();function NW(e){e||(e=rxt);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=i[s]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(u[h]=f);u.sort(t)}return new qa(i,this._parents).order()}a(NW,"default");function rxt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a(rxt,"ascending");d();function OW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(OW,"default");d();function qW(){return Array.from(this)}a(qW,"default");d();function PW(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}a(PW,"default");d();function FW(){let e=0;for(let t of this)++e;return e}a(FW,"default");d();function UW(){return!this.node()}a(UW,"default");d();function YW(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,l;s<o;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}a(YW,"default");d();function nxt(e){return function(){this.removeAttribute(e)}}a(nxt,"attrRemove");function ixt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(ixt,"attrRemoveNS");function axt(e,t){return function(){this.setAttribute(e,t)}}a(axt,"attrConstant");function sxt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}a(sxt,"attrConstantNS");function oxt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}a(oxt,"attrFunction");function cxt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}a(cxt,"attrFunctionNS");function HW(e,t){var r=nf(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ixt:nxt:typeof t=="function"?r.local?cxt:oxt:r.local?sxt:axt)(r,t))}a(HW,"default");d();d();function D4(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(D4,"default");function lxt(e){return function(){this.style.removeProperty(e)}}a(lxt,"styleRemove");function uxt(e,t,r){return function(){this.style.setProperty(e,t,r)}}a(uxt,"styleConstant");function fxt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}a(fxt,"styleFunction");function zW(e,t,r){return arguments.length>1?this.each((t==null?lxt:typeof t=="function"?fxt:uxt)(e,t,r??"")):j0(this.node(),e)}a(zW,"default");function j0(e,t){return e.style.getPropertyValue(t)||D4(e).getComputedStyle(e,null).getPropertyValue(t)}a(j0,"styleValue");d();function hxt(e){return function(){delete this[e]}}a(hxt,"propertyRemove");function dxt(e,t){return function(){this[e]=t}}a(dxt,"propertyConstant");function pxt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}a(pxt,"propertyFunction");function QW(e,t){return arguments.length>1?this.each((t==null?hxt:typeof t=="function"?pxt:dxt)(e,t)):this.node()[e]}a(QW,"default");d();function U4e(e){return e.trim().split(/^|\s+/)}a(U4e,"classArray");function WW(e){return e.classList||new Y4e(e)}a(WW,"classList");function Y4e(e){this._node=e,this._names=U4e(e.getAttribute("class")||"")}a(Y4e,"ClassList");Y4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H4e(e,t){for(var r=WW(e),n=-1,i=t.length;++n<i;)r.add(t[n])}a(H4e,"classedAdd");function z4e(e,t){for(var r=WW(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}a(z4e,"classedRemove");function gxt(e){return function(){H4e(this,e)}}a(gxt,"classedTrue");function yxt(e){return function(){z4e(this,e)}}a(yxt,"classedFalse");function mxt(e,t){return function(){(t.apply(this,arguments)?H4e:z4e)(this,e)}}a(mxt,"classedFunction");function VW(e,t){var r=U4e(e+"");if(arguments.length<2){for(var n=WW(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?mxt:t?gxt:yxt)(r,t))}a(VW,"default");d();function bxt(){this.textContent=""}a(bxt,"textRemove");function vxt(e){return function(){this.textContent=e}}a(vxt,"textConstant");function _xt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}a(_xt,"textFunction");function jW(e){return arguments.length?this.each(e==null?bxt:(typeof e=="function"?_xt:vxt)(e)):this.node().textContent}a(jW,"default");d();function xxt(){this.innerHTML=""}a(xxt,"htmlRemove");function wxt(e){return function(){this.innerHTML=e}}a(wxt,"htmlConstant");function Axt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}a(Axt,"htmlFunction");function GW(e){return arguments.length?this.each(e==null?xxt:(typeof e=="function"?Axt:wxt)(e)):this.node().innerHTML}a(GW,"default");d();function Ext(){this.nextSibling&&this.parentNode.appendChild(this)}a(Ext,"raise");function KW(){return this.each(Ext)}a(KW,"default");d();function Sxt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(Sxt,"lower");function $W(){return this.each(Sxt)}a($W,"default");d();function XW(e){var t=typeof e=="function"?e:B4(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}a(XW,"default");d();function kxt(){return null}a(kxt,"constantNull");function JW(e,t){var r=typeof e=="function"?e:B4(e),n=t==null?kxt:typeof t=="function"?t:V0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}a(JW,"default");d();function Cxt(){var e=this.parentNode;e&&e.removeChild(this)}a(Cxt,"remove");function ZW(){return this.each(Cxt)}a(ZW,"default");d();function Ixt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(Ixt,"selection_cloneShallow");function Txt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}a(Txt,"selection_cloneDeep");function eV(e){return this.select(e?Txt:Ixt)}a(eV,"default");d();function tV(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(tV,"default");d();function Mxt(e){return function(t){e.call(this,t,this.__data__)}}a(Mxt,"contextListener");function Bxt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}a(Bxt,"parseTypenames");function Rxt(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}a(Rxt,"onRemove");function Lxt(e,t,r){return function(){var n=this.__on,i,s=Mxt(t);if(n){for(var o=0,l=n.length;o<l;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}a(Lxt,"onAdd");function rV(e,t,r){var n=Bxt(e+""),i,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,h;u<f;++u)for(i=0,h=l[u];i<s;++i)if((o=n[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?Lxt:Rxt,i=0;i<s;++i)this.each(l(n[i],t,r));return this}a(rV,"default");d();function Q4e(e,t,r){var n=D4(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}a(Q4e,"dispatchEvent");function Dxt(e,t){return function(){return Q4e(this,e,t)}}a(Dxt,"dispatchConstant");function Nxt(e,t){return function(){return Q4e(this,e,t.apply(this,arguments))}}a(Nxt,"dispatchFunction");function nV(e,t){return this.each((typeof t=="function"?Nxt:Dxt)(e,t))}a(nV,"default");d();function*iV(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}a(iV,"default");var Oxt=[null];function qa(e,t){this._groups=e,this._parents=t}a(qa,"Selection");function W4e(){return new qa([[document.documentElement]],Oxt)}a(W4e,"selection");function qxt(){return this}a(qxt,"selection_selection");qa.prototype=W4e.prototype={constructor:qa,select:wW,selectAll:EW,selectChild:SW,selectChildren:kW,filter:CW,data:MW,enter:IW,exit:BW,join:RW,merge:LW,selection:qxt,order:DW,sort:NW,call:OW,nodes:qW,node:PW,size:FW,empty:UW,each:YW,attr:HW,style:zW,property:QW,classed:VW,text:jW,html:GW,raise:KW,lower:$W,append:XW,insert:JW,remove:ZW,clone:eV,datum:tV,on:rV,dispatch:nV,[Symbol.iterator]:iV};var $h=W4e;d();d();d();d();function N4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}a(N4,"default");function aV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}a(aV,"extend");function P4(){}a(P4,"Color");var O4=.7,X9=1/O4,Qb="\\s*([+-]?\\d+)\\s*",q4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pxt=/^#([0-9a-f]{3,8})$/,Fxt=new RegExp(`^rgb\\(${Qb},${Qb},${Qb}\\)$`),Uxt=new RegExp(`^rgb\\(${af},${af},${af}\\)$`),Yxt=new RegExp(`^rgba\\(${Qb},${Qb},${Qb},${q4}\\)$`),Hxt=new RegExp(`^rgba\\(${af},${af},${af},${q4}\\)$`),zxt=new RegExp(`^hsl\\(${q4},${af},${af}\\)$`),Qxt=new RegExp(`^hsla\\(${q4},${af},${af},${q4}\\)$`),V4e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N4(P4,G0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j4e,formatHex:j4e,formatHex8:Wxt,formatHsl:Vxt,formatRgb:G4e,toString:G4e});function j4e(){return this.rgb().formatHex()}a(j4e,"color_formatHex");function Wxt(){return this.rgb().formatHex8()}a(Wxt,"color_formatHex8");function Vxt(){return e5e(this).formatHsl()}a(Vxt,"color_formatHsl");function G4e(){return this.rgb().formatRgb()}a(G4e,"color_formatRgb");function G0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pxt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?K4e(t):r===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?K9(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?K9(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fxt.exec(e))?new To(t[1],t[2],t[3],1):(t=Uxt.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yxt.exec(e))?K9(t[1],t[2],t[3],t[4]):(t=Hxt.exec(e))?K9(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zxt.exec(e))?J4e(t[1],t[2]/100,t[3]/100,1):(t=Qxt.exec(e))?J4e(t[1],t[2]/100,t[3]/100,t[4]):V4e.hasOwnProperty(e)?K4e(V4e[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}a(G0,"color");function K4e(e){return new To(e>>16&255,e>>8&255,e&255,1)}a(K4e,"rgbn");function K9(e,t,r,n){return n<=0&&(e=t=r=NaN),new To(e,t,r,n)}a(K9,"rgba");function jxt(e){return e instanceof P4||(e=G0(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}a(jxt,"rgbConvert");function Wb(e,t,r,n){return arguments.length===1?jxt(e):new To(e,t,r,n??1)}a(Wb,"rgb");function To(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a(To,"Rgb");N4(To,Wb,aV(P4,{brighter(e){return e=e==null?X9:Math.pow(X9,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?O4:Math.pow(O4,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Fg(this.r),Fg(this.g),Fg(this.b),J9(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$4e,formatHex:$4e,formatHex8:Gxt,formatRgb:X4e,toString:X4e}));function $4e(){return`#${Pg(this.r)}${Pg(this.g)}${Pg(this.b)}`}a($4e,"rgb_formatHex");function Gxt(){return`#${Pg(this.r)}${Pg(this.g)}${Pg(this.b)}${Pg((isNaN(this.opacity)?1:this.opacity)*255)}`}a(Gxt,"rgb_formatHex8");function X4e(){let e=J9(this.opacity);return`${e===1?"rgb(":"rgba("}${Fg(this.r)}, ${Fg(this.g)}, ${Fg(this.b)}${e===1?")":`, ${e})`}`}a(X4e,"rgb_formatRgb");function J9(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}a(J9,"clampa");function Fg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}a(Fg,"clampi");function Pg(e){return e=Fg(e),(e<16?"0":"")+e.toString(16)}a(Pg,"hex");function J4e(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ql(e,t,r,n)}a(J4e,"hsla");function e5e(e){if(e instanceof Ql)return new Ql(e.h,e.s,e.l,e.opacity);if(e instanceof P4||(e=G0(e)),!e)return new Ql;if(e instanceof Ql)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,u=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Ql(o,l,u,e.opacity)}a(e5e,"hslConvert");function t5e(e,t,r,n){return arguments.length===1?e5e(e):new Ql(e,t,r,n??1)}a(t5e,"hsl");function Ql(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a(Ql,"Hsl");N4(Ql,t5e,aV(P4,{brighter(e){return e=e==null?X9:Math.pow(X9,e),new Ql(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?O4:Math.pow(O4,e),new Ql(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new To(sV(e>=240?e-240:e+120,i,n),sV(e,i,n),sV(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ql(Z4e(this.h),$9(this.s),$9(this.l),J9(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=J9(this.opacity);return`${e===1?"hsl(":"hsla("}${Z4e(this.h)}, ${$9(this.s)*100}%, ${$9(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z4e(e){return e=(e||0)%360,e<0?e+360:e}a(Z4e,"clamph");function $9(e){return Math.max(0,Math.min(1,e||0))}a($9,"clampt");function sV(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}a(sV,"hsl2rgb");d();d();function oV(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}a(oV,"basis");function cV(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,l=n<t-1?e[n+2]:2*s-i;return oV((r-n/t)*t,o,i,s,l)}}a(cV,"default");d();function lV(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return oV((r-n/t)*t,i,s,o,l)}}a(lV,"default");d();d();var uV=a(e=>()=>e,"default");function Kxt(e,t){return function(r){return e+r*t}}a(Kxt,"linear");function $xt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}a($xt,"exponential");function r5e(e){return(e=+e)==1?Z9:function(t,r){return r-t?$xt(t,r,e):uV(isNaN(t)?r:t)}}a(r5e,"gamma");function Z9(e,t){var r=t-e;return r?Kxt(e,r):uV(isNaN(e)?t:e)}a(Z9,"nogamma");var eI=a(function e(t){var r=r5e(t);function n(i,s){var o=r((i=Wb(i)).r,(s=Wb(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),f=Z9(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function n5e(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=Wb(t[o]),n[o]=l.r||0,i[o]=l.g||0,s[o]=l.b||0;return n=e(n),i=e(i),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=s(u),l+""}}}a(n5e,"rgbSpline");var Xxt=n5e(cV),Jxt=n5e(lV);d();function uc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}a(uc,"default");d();var hV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fV=new RegExp(hV.source,"g");function Zxt(e){return function(){return e}}a(Zxt,"zero");function ewt(e){return function(t){return e(t)+""}}a(ewt,"one");function tI(e,t){var r=hV.lastIndex=fV.lastIndex=0,n,i,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=hV.exec(e))&&(i=fV.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:uc(n,i)})),r=fV.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?ewt(u[0].x):Zxt(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}a(tI,"default");d();d();d();var i5e=180/Math.PI,rI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nI(e,t,r,n,i,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*i5e,skewX:Math.atan(u)*i5e,scaleX:o,scaleY:l}}a(nI,"default");var iI;function a5e(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rI:nI(t.a,t.b,t.c,t.d,t.e,t.f)}a(a5e,"parseCss");function s5e(e){return e==null?rI:(iI||(iI=document.createElementNS("http://www.w3.org/2000/svg","g")),iI.setAttribute("transform",e),(e=iI.transform.baseVal.consolidate())?(e=e.matrix,nI(e.a,e.b,e.c,e.d,e.e,e.f)):rI)}a(s5e,"parseSvg");function o5e(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}a(i,"pop");function s(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push("translate(",null,t,null,r);E.push({i:M-4,x:uc(f,p)},{i:M-2,x:uc(h,g)})}else(p||g)&&y.push("translate("+p+t+g+r)}a(s,"translate");function o(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,n)-2,x:uc(f,h)})):h&&p.push(i(p)+"rotate("+h+n)}a(o,"rotate");function l(f,h,p,g){f!==h?g.push({i:p.push(i(p)+"skewX(",null,n)-2,x:uc(f,h)}):h&&p.push(i(p)+"skewX("+h+n)}a(l,"skewX");function u(f,h,p,g,y,E){if(f!==p||h!==g){var M=y.push(i(y)+"scale(",null,",",null,")");E.push({i:M-4,x:uc(f,p)},{i:M-2,x:uc(h,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return a(u,"scale"),function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),o(f.rotate,h.rotate,p,g),l(f.skewX,h.skewX,p,g),u(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var E=-1,M=g.length,z;++E<M;)p[(z=g[E]).i]=z.x(y);return p.join("")}}}a(o5e,"interpolateTransform");var dV=o5e(a5e,"px, ","px)","deg)"),pV=o5e(s5e,", ",")",")");d();d();d();d();d();d();d();var Vb=0,U4=0,F4=0,l5e=1e3,aI,Y4,sI=0,Ug=0,oI=0,H4=typeof performance=="object"&&performance.now?performance:Date,u5e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Q4(){return Ug||(u5e(twt),Ug=H4.now()+oI)}a(Q4,"now");function twt(){Ug=0}a(twt,"clearNow");function z4(){this._call=this._time=this._next=null}a(z4,"Timer");z4.prototype=cI.prototype={constructor:z4,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Q4():+r)+(t==null?0:+t),!this._next&&Y4!==this&&(Y4?Y4._next=this:aI=this,Y4=this),this._call=e,this._time=r,gV()},stop:function(){this._call&&(this._call=null,this._time=1/0,gV())}};function cI(e,t,r){var n=new z4;return n.restart(e,t,r),n}a(cI,"timer");function f5e(){Q4(),++Vb;for(var e=aI,t;e;)(t=Ug-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vb}a(f5e,"timerFlush");function c5e(){Ug=(sI=H4.now())+oI,Vb=U4=0;try{f5e()}finally{Vb=0,nwt(),Ug=0}}a(c5e,"wake");function rwt(){var e=H4.now(),t=e-sI;t>l5e&&(oI-=t,sI=e)}a(rwt,"poke");function nwt(){for(var e,t=aI,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:aI=r);Y4=e,gV(n)}a(nwt,"nap");function gV(e){if(!Vb){U4&&(U4=clearTimeout(U4));var t=e-Ug;t>24?(e<1/0&&(U4=setTimeout(c5e,e-H4.now()-oI)),F4&&(F4=clearInterval(F4))):(F4||(sI=H4.now(),F4=setInterval(rwt,l5e)),Vb=1,u5e(c5e))}}a(gV,"sleep");d();function W4(e,t,r){var n=new z4;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}a(W4,"default");var iwt=_W("start","end","cancel","interrupt"),awt=[],p5e=0,h5e=1,uI=2,lI=3,d5e=4,fI=5,V4=6;function Xh(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;swt(e,r,{name:t,index:n,group:i,on:iwt,tween:awt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:p5e})}a(Xh,"default");function j4(e,t){var r=Pa(e,t);if(r.state>p5e)throw new Error("too late; already scheduled");return r}a(j4,"init");function ys(e,t){var r=Pa(e,t);if(r.state>lI)throw new Error("too late; already running");return r}a(ys,"set");function Pa(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}a(Pa,"get");function swt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=cI(s,0,r.time);function s(f){r.state=h5e,r.timer.restart(o,r.delay,r.time),r.delay<=f&&o(f-r.delay)}a(s,"schedule");function o(f){var h,p,g,y;if(r.state!==h5e)return u();for(h in n)if(y=n[h],y.name===r.name){if(y.state===lI)return W4(o);y.state===d5e?(y.state=V4,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete n[h]):+h<t&&(y.state=V4,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete n[h])}if(W4(function(){r.state===lI&&(r.state=d5e,r.timer.restart(l,r.delay,r.time),l(f))}),r.state=uI,r.on.call("start",e,e.__data__,r.index,r.group),r.state===uI){for(r.state=lI,i=new Array(g=r.tween.length),h=0,p=-1;h<g;++h)(y=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=y);i.length=p+1}}a(o,"start");function l(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=fI,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);r.state===fI&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}a(l,"tick");function u(){r.state=V4,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}a(u,"stop")}a(swt,"create");function hI(e,t){var r=e.__transition,n,i,s=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>uI&&n.state<fI,n.state=V4,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}a(hI,"default");function yV(e){return this.each(function(){hI(this,e)})}a(yV,"default");d();d();d();d();function owt(e,t){var r,n;return function(){var i=ys(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}a(owt,"tweenRemove");function cwt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=ys(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var l={name:t,value:r},u=0,f=i.length;u<f;++u)if(i[u].name===t){i[u]=l;break}u===f&&i.push(l)}s.tween=i}}a(cwt,"tweenFunction");function mV(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Pa(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?owt:cwt)(r,e,t))}a(mV,"default");function jb(e,t,r){var n=e._id;return e.each(function(){var i=ys(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Pa(i,n).value[t]}}a(jb,"tweenValue");d();function G4(e,t){var r;return(typeof t=="number"?uc:t instanceof G0?eI:(r=G0(t))?(t=r,eI):tI)(e,t)}a(G4,"default");function lwt(e){return function(){this.removeAttribute(e)}}a(lwt,"attrRemove");function uwt(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(uwt,"attrRemoveNS");function fwt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}a(fwt,"attrConstant");function hwt(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}a(hwt,"attrConstantNS");function dwt(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(dwt,"attrFunction");function pwt(e,t,r){var n,i,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l)))}}a(pwt,"attrFunctionNS");function bV(e,t){var r=nf(e),n=r==="transform"?pV:G4;return this.attrTween(e,typeof t=="function"?(r.local?pwt:dwt)(r,n,jb(this,"attr."+e,t)):t==null?(r.local?uwt:lwt)(r):(r.local?hwt:fwt)(r,n,t))}a(bV,"default");d();function gwt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}a(gwt,"attrInterpolate");function ywt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}a(ywt,"attrInterpolateNS");function mwt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&ywt(e,s)),r}return a(i,"tween"),i._value=t,i}a(mwt,"attrTweenNS");function bwt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&gwt(e,s)),r}return a(i,"tween"),i._value=t,i}a(bwt,"attrTween");function vV(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=nf(e);return this.tween(r,(n.local?mwt:bwt)(n,t))}a(vV,"default");d();function vwt(e,t){return function(){j4(this,e).delay=+t.apply(this,arguments)}}a(vwt,"delayFunction");function _wt(e,t){return t=+t,function(){j4(this,e).delay=t}}a(_wt,"delayConstant");function _V(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vwt:_wt)(t,e)):Pa(this.node(),t).delay}a(_V,"default");d();function xwt(e,t){return function(){ys(this,e).duration=+t.apply(this,arguments)}}a(xwt,"durationFunction");function wwt(e,t){return t=+t,function(){ys(this,e).duration=t}}a(wwt,"durationConstant");function xV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xwt:wwt)(t,e)):Pa(this.node(),t).duration}a(xV,"default");d();function Awt(e,t){if(typeof t!="function")throw new Error;return function(){ys(this,e).ease=t}}a(Awt,"easeConstant");function wV(e){var t=this._id;return arguments.length?this.each(Awt(t,e)):Pa(this.node(),t).ease}a(wV,"default");d();function Ewt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ys(this,e).ease=r}}a(Ewt,"easeVarying");function AV(e){if(typeof e!="function")throw new Error;return this.each(Ewt(this._id,e))}a(AV,"default");d();function EV(e){typeof e!="function"&&(e=zb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,l=n[i]=[],u,f=0;f<o;++f)(u=s[f])&&e.call(u,u.__data__,f,s)&&l.push(u);return new ao(n,this._parents,this._name,this._id)}a(EV,"default");d();function SV(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),l=0;l<s;++l)for(var u=t[l],f=r[l],h=u.length,p=o[l]=new Array(h),g,y=0;y<h;++y)(g=u[y]||f[y])&&(p[y]=g);for(;l<n;++l)o[l]=t[l];return new ao(o,this._parents,this._name,this._id)}a(SV,"default");d();function Swt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}a(Swt,"start");function kwt(e,t,r){var n,i,s=Swt(t)?j4:ys;return function(){var o=s(this,e),l=o.on;l!==n&&(i=(n=l).copy()).on(t,r),o.on=i}}a(kwt,"onFunction");function kV(e,t){var r=this._id;return arguments.length<2?Pa(this.node(),r).on.on(e):this.each(kwt(r,e,t))}a(kV,"default");d();function Cwt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}a(Cwt,"removeFunction");function CV(){return this.on("end.remove",Cwt(this._id))}a(CV,"default");d();function IV(e){var t=this._name,r=this._id;typeof e!="function"&&(e=V0(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,f=s[o]=new Array(u),h,p,g=0;g<u;++g)(h=l[g])&&(p=e.call(h,h.__data__,g,l))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,Xh(f[g],t,r,g,f,Pa(h,r)));return new ao(s,this._parents,t,r)}a(IV,"default");d();function TV(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Hb(e));for(var n=this._groups,i=n.length,s=[],o=[],l=0;l<i;++l)for(var u=n[l],f=u.length,h,p=0;p<f;++p)if(h=u[p]){for(var g=e.call(h,h.__data__,p,u),y,E=Pa(h,r),M=0,z=g.length;M<z;++M)(y=g[M])&&Xh(y,t,r,M,g,E);s.push(g),o.push(h)}return new ao(s,o,t,r)}a(TV,"default");d();var Iwt=$h.prototype.constructor;function MV(){return new Iwt(this._groups,this._parents)}a(MV,"default");d();function Twt(e,t){var r,n,i;return function(){var s=j0(this,e),o=(this.style.removeProperty(e),j0(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}a(Twt,"styleNull");function g5e(e){return function(){this.style.removeProperty(e)}}a(g5e,"styleRemove");function Mwt(e,t,r){var n,i=r+"",s;return function(){var o=j0(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}a(Mwt,"styleConstant");function Bwt(e,t,r){var n,i,s;return function(){var o=j0(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),j0(this,e))),o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,l))}}a(Bwt,"styleFunction");function Rwt(e,t){var r,n,i,s="style."+t,o="end."+s,l;return function(){var u=ys(this,e),f=u.on,h=u.value[s]==null?l||(l=g5e(t)):void 0;(f!==r||i!==h)&&(n=(r=f).copy()).on(o,i=h),u.on=n}}a(Rwt,"styleMaybeRemove");function BV(e,t,r){var n=(e+="")=="transform"?dV:G4;return t==null?this.styleTween(e,Twt(e,n)).on("end.style."+e,g5e(e)):typeof t=="function"?this.styleTween(e,Bwt(e,n,jb(this,"style."+e,t))).each(Rwt(this._id,e)):this.styleTween(e,Mwt(e,n,t),r).on("end.style."+e,null)}a(BV,"default");d();function Lwt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}a(Lwt,"styleInterpolate");function Dwt(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Lwt(e,o,r)),n}return a(s,"tween"),s._value=t,s}a(Dwt,"styleTween");function RV(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Dwt(e,t,r??""))}a(RV,"default");d();function Nwt(e){return function(){this.textContent=e}}a(Nwt,"textConstant");function Owt(e){return function(){var t=e(this);this.textContent=t??""}}a(Owt,"textFunction");function LV(e){return this.tween("text",typeof e=="function"?Owt(jb(this,"text",e)):Nwt(e==null?"":e+""))}a(LV,"default");d();function qwt(e){return function(t){this.textContent=e.call(this,t)}}a(qwt,"textInterpolate");function Pwt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&qwt(i)),t}return a(n,"tween"),n._value=e,n}a(Pwt,"textTween");function DV(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pwt(e))}a(DV,"default");d();function NV(){for(var e=this._name,t=this._id,r=dI(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)if(u=o[f]){var h=Pa(u,t);Xh(u,e,r,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ao(n,this._parents,e,r)}a(NV,"default");d();function OV(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};r.each(function(){var f=ys(this,n),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),f.on=t}),i===0&&s()})}a(OV,"default");var Fwt=0;function ao(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}a(ao,"Transition");function y5e(e){return $h().transition(e)}a(y5e,"transition");function dI(){return++Fwt}a(dI,"newId");var Jh=$h.prototype;ao.prototype=y5e.prototype={constructor:ao,select:IV,selectAll:TV,selectChild:Jh.selectChild,selectChildren:Jh.selectChildren,filter:EV,merge:SV,selection:MV,transition:NV,call:Jh.call,nodes:Jh.nodes,node:Jh.node,size:Jh.size,empty:Jh.empty,each:Jh.each,on:kV,attr:bV,attrTween:vV,style:BV,styleTween:RV,text:LV,textTween:DV,remove:CV,tween:mV,delay:_V,duration:xV,ease:wV,easeVarying:AV,end:OV,[Symbol.iterator]:Jh[Symbol.iterator]};d();d();function pI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(pI,"cubicInOut");var Uwt={time:null,delay:0,duration:250,ease:pI};function Ywt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}a(Ywt,"inherit");function qV(e){var t,r;e instanceof ao?(t=e._id,e=e._name):(t=dI(),(r=Uwt).time=Q4(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&Xh(u,e,t,f,o,r||Ywt(u,t));return new ao(n,this._parents,e,t)}a(qV,"default");$h.prototype.interrupt=yV;$h.prototype.transition=qV;d();d();d();function K0(e,t,r){this.k=e,this.x=t,this.y=r}a(K0,"Transform");K0.prototype={constructor:K0,scale:function(e){return e===1?this:new K0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new K0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var PV=new K0(1,0,0);FV.prototype=K0.prototype;function FV(e){for(;!e.__zoom;)if(!(e=e.parentNode))return PV;return e.__zoom}a(FV,"transform");d();var vv=Sn(_O(),1);d();d();d();d();var gI={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return gI.hue2rgb(s,i,e+.3333333333333333)*255;case"g":return gI.hue2rgb(s,i,e)*255;case"b":return gI.hue2rgb(s,i,e-.3333333333333333)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(n==="l")return o*100;if(i===s)return 0;let l=i-s,u=o>.5?l/(2-i-s):l/(i+s);if(n==="s")return u*100;switch(i){case e:return((t-r)/l+(t<r?6:0))*60;case t:return((r-e)/l+2)*60;case r:return((e-t)/l+4)*60;default:return-1}}},m5e=gI;d();var Hwt={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},b5e=Hwt;d();var zwt={dec2hex:e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},v5e=zwt;var Qwt={channel:m5e,lang:b5e,unit:v5e},Hr=Qwt;d();d();d();d();var Zh={};for(let e=0;e<=255;e++)Zh[e]=Hr.unit.dec2hex(e);var Fa={ALL:0,RGB:1,HSL:2};var yI=class{constructor(){this.type=Fa.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Fa.ALL}is(t){return this.type===t}};a(yI,"Type");var _5e=yI;var mI=class{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new _5e}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Fa.ALL,this}_ensureHSL(){let t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Hr.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Hr.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Hr.channel.rgb2hsl(t,"l"))}_ensureRGB(){let t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Hr.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Hr.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Hr.channel.hsl2rgb(t,"b"))}get r(){let t=this.data,r=t.r;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),Hr.channel.hsl2rgb(t,"r"))}get g(){let t=this.data,r=t.g;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),Hr.channel.hsl2rgb(t,"g"))}get b(){let t=this.data,r=t.b;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),Hr.channel.hsl2rgb(t,"b"))}get h(){let t=this.data,r=t.h;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),Hr.channel.rgb2hsl(t,"h"))}get s(){let t=this.data,r=t.s;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),Hr.channel.rgb2hsl(t,"s"))}get l(){let t=this.data,r=t.l;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),Hr.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Fa.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Fa.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Fa.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Fa.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Fa.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Fa.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}};a(mI,"Channels");var x5e=mI;var Wwt=new x5e({r:0,g:0,b:0,a:0},"transparent"),$0=Wwt;d();d();var w5e={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(w5e.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,o=i>4,l=o?1:17,u=o?8:4,f=s?0:-1,h=o?255:15;return $0.set({r:(n>>u*(f+3)&h)*l,g:(n>>u*(f+2)&h)*l,b:(n>>u*(f+1)&h)*l,a:s?(n&h)*l/255:1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${Zh[Math.round(t)]}${Zh[Math.round(r)]}${Zh[Math.round(n)]}${Zh[Math.round(i*255)]}`:`#${Zh[Math.round(t)]}${Zh[Math.round(r)]}${Zh[Math.round(n)]}`}},Yg=w5e;d();var bI={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{let t=e.match(bI.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return Hr.channel.clamp.h(parseFloat(r)*.9);case"rad":return Hr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Hr.channel.clamp.h(parseFloat(r)*360)}}return Hr.channel.clamp.h(parseFloat(e))},parse:e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(bI.re);if(!r)return;let[,n,i,s,o,l]=r;return $0.set({h:bI._hue2deg(n),s:Hr.channel.clamp.s(parseFloat(i)),l:Hr.channel.clamp.l(parseFloat(s)),a:o?Hr.channel.clamp.a(l?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Hr.lang.round(t)}, ${Hr.lang.round(r)}%, ${Hr.lang.round(n)}%, ${i})`:`hsl(${Hr.lang.round(t)}, ${Hr.lang.round(r)}%, ${Hr.lang.round(n)}%)`}},K4=bI;d();var vI={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();let t=vI.colors[e];if(!!t)return Yg.parse(t)},stringify:e=>{let t=Yg.stringify(e);for(let r in vI.colors)if(vI.colors[r]===t)return r}},UV=vI;d();var A5e={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(A5e.re);if(!r)return;let[,n,i,s,o,l,u,f,h]=r;return $0.set({r:Hr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Hr.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Hr.channel.clamp.b(u?parseFloat(l)*2.55:parseFloat(l)),a:f?Hr.channel.clamp.a(h?parseFloat(f)/100:parseFloat(f)):1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Hr.lang.round(t)}, ${Hr.lang.round(r)}, ${Hr.lang.round(n)}, ${Hr.lang.round(i)})`:`rgb(${Hr.lang.round(t)}, ${Hr.lang.round(r)}, ${Hr.lang.round(n)})`}},$4=A5e;var Vwt={format:{keyword:UV,hex:Yg,rgb:$4,rgba:$4,hsl:K4,hsla:K4},parse:e=>{if(typeof e!="string")return e;let t=Yg.parse(e)||$4.parse(e)||K4.parse(e)||UV.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Fa.HSL)||e.data.r===void 0?K4.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?$4.stringify(e):Yg.stringify(e)},so=Vwt;d();var jwt=a((e,t)=>{let r=so.parse(e);for(let n in t)r[n]=Hr.channel.clamp[n](t[n]);return so.stringify(r)},"change"),_I=jwt;var Gwt=a((e,t,r=0,n=1)=>{if(typeof e!="number")return _I(e,{a:t});let i=$0.set({r:Hr.channel.clamp.r(e),g:Hr.channel.clamp.g(t),b:Hr.channel.clamp.b(r),a:Hr.channel.clamp.a(n)});return so.stringify(i)},"rgba"),X0=Gwt;d();var Kwt=a((e,t,r)=>{let n=so.parse(e),i=n[t],s=Hr.channel.clamp[t](i+r);return i!==s&&(n[t]=s),so.stringify(n)},"adjustChannel"),xI=Kwt;d();var $wt=a((e,t)=>xI(e,"l",t),"lighten"),qr=$wt;d();var Xwt=a((e,t)=>xI(e,"l",-t),"darken"),Vr=Xwt;d();var Jwt=a((e,t)=>{let r=so.parse(e),n={};for(let i in t)!t[i]||(n[i]=r[i]+t[i]);return _I(e,n)},"adjust"),qt=Jwt;d();d();var Zwt=a((e,t,r=50)=>{let{r:n,g:i,b:s,a:o}=so.parse(e),{r:l,g:u,b:f,a:h}=so.parse(t),p=r/100,g=p*2-1,y=o-h,M=((g*y===-1?g:(g+y)/(1+g*y))+1)/2,z=1-M,P=n*M+l*z,Q=i*M+u*z,V=s*M+f*z,W=o*p+h*(1-p);return X0(P,Q,V,W)},"mix"),E5e=Zwt;var e3t=a((e,t=100)=>{let r=so.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,E5e(r,e,t)},"invert"),gr=e3t;d();var wI="comm",AI="rule",EI="decl";var S5e="@import";var k5e="@keyframes";d();var C5e=Math.abs,X4=String.fromCharCode;function SI(e){return e.trim()}a(SI,"trim");function kI(e,t,r){return e.replace(t,r)}a(kI,"replace");function I5e(e,t){return e.indexOf(t)}a(I5e,"indexof");function Hg(e,t){return e.charCodeAt(t)|0}a(Hg,"charat");function zg(e,t,r){return e.slice(t,r)}a(zg,"substr");function Wl(e){return e.length}a(Wl,"strlen");function CI(e){return e.length}a(CI,"sizeof");function Gb(e,t){return t.push(e),e}a(Gb,"append");d();d();var II=1,Kb=1,T5e=0,Zc=0,xa=0,$b="";function TI(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:II,column:Kb,length:o,return:""}}a(TI,"node");function M5e(){return xa}a(M5e,"char");function B5e(){return xa=Zc>0?Hg($b,--Zc):0,Kb--,xa===10&&(Kb=1,II--),xa}a(B5e,"prev");function el(){return xa=Zc<T5e?Hg($b,Zc++):0,Kb++,xa===10&&(Kb=1,II++),xa}a(el,"next");function J0(){return Hg($b,Zc)}a(J0,"peek");function J4(){return Zc}a(J4,"caret");function MI(e,t){return zg($b,e,t)}a(MI,"slice");function YV(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}a(YV,"token");function R5e(e){return II=Kb=1,T5e=Wl($b=e),Zc=0,[]}a(R5e,"alloc");function L5e(e){return $b="",e}a(L5e,"dealloc");function BI(e){return SI(MI(Zc-1,HV(e===91?e+2:e===40?e+1:e)))}a(BI,"delimit");function D5e(e){for(;(xa=J0())&&xa<33;)el();return YV(e)>2||YV(xa)>3?"":" "}a(D5e,"whitespace");function N5e(e,t){for(;--t&&el()&&!(xa<48||xa>102||xa>57&&xa<65||xa>70&&xa<97););return MI(e,J4()+(t<6&&J0()==32&&el()==32))}a(N5e,"escaping");function HV(e){for(;el();)switch(xa){case e:return Zc;case 34:case 39:e!==34&&e!==39&&HV(xa);break;case 40:e===41&&HV(e);break;case 92:el();break}return Zc}a(HV,"delimiter");function O5e(e,t){for(;el()&&e+xa!==47+10;)if(e+xa===42+42&&J0()===47)break;return"/*"+MI(t,Zc-1)+"*"+X4(e===47?e:el())}a(O5e,"commenter");function q5e(e){for(;!YV(J0());)el();return MI(e,Zc)}a(q5e,"identifier");function zV(e){return L5e(RI("",null,null,null,[""],e=R5e(e),0,[0],e))}a(zV,"compile");function RI(e,t,r,n,i,s,o,l,u){for(var f=0,h=0,p=o,g=0,y=0,E=0,M=1,z=1,P=1,Q=0,V="",W=i,F=s,B=n,S=V;z;)switch(E=Q,Q=el()){case 40:if(E!=108&&Hg(S,p-1)==58){I5e(S+=kI(BI(Q),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:S+=BI(Q);break;case 9:case 10:case 13:case 32:S+=D5e(E);break;case 92:S+=N5e(J4()-1,7);continue;case 47:switch(J0()){case 42:case 47:Gb(t3t(O5e(el(),J4()),t,r),u);break;default:S+="/"}break;case 123*M:l[f++]=Wl(S)*P;case 125*M:case 59:case 0:switch(Q){case 0:case 125:z=0;case 59+h:y>0&&Wl(S)-p&&Gb(y>32?F5e(S+";",n,r,p-1):F5e(kI(S," ","")+";",n,r,p-2),u);break;case 59:S+=";";default:if(Gb(B=P5e(S,t,r,f,h,i,l,V,W=[],F=[],p),s),Q===123)if(h===0)RI(S,t,B,B,W,s,p,l,F);else switch(g===99&&Hg(S,3)===110?100:g){case 100:case 109:case 115:RI(e,B,B,n&&Gb(P5e(e,B,B,0,0,i,l,V,i,W=[],p),F),i,F,p,l,n?W:F);break;default:RI(S,B,B,B,[""],F,0,l,F)}}f=h=y=0,M=P=1,V=S="",p=o;break;case 58:p=1+Wl(S),y=E;default:if(M<1){if(Q==123)--M;else if(Q==125&&M++==0&&B5e()==125)continue}switch(S+=X4(Q),Q*M){case 38:P=h>0?1:(S+="\f",-1);break;case 44:l[f++]=(Wl(S)-1)*P,P=1;break;case 64:J0()===45&&(S+=BI(el())),g=J0(),h=p=Wl(V=S+=q5e(J4())),Q++;break;case 45:E===45&&Wl(S)==2&&(M=0)}}return s}a(RI,"parse");function P5e(e,t,r,n,i,s,o,l,u,f,h){for(var p=i-1,g=i===0?s:[""],y=CI(g),E=0,M=0,z=0;E<n;++E)for(var P=0,Q=zg(e,p+1,p=C5e(M=o[E])),V=e;P<y;++P)(V=SI(M>0?g[P]+" "+Q:kI(Q,/&\f/g,g[P])))&&(u[z++]=V);return TI(e,t,r,i===0?AI:l,u,f,h)}a(P5e,"ruleset");function t3t(e,t,r){return TI(e,t,r,wI,X4(M5e()),zg(e,2,-2),0)}a(t3t,"comment");function F5e(e,t,r,n){return TI(e,t,r,EI,zg(e,0,n),zg(e,n+1,-1),n)}a(F5e,"declaration");d();function Z4(e,t){for(var r="",n=CI(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}a(Z4,"serialize");function QV(e,t,r,n){switch(e.type){case S5e:case EI:return e.return=e.return||e.value;case wI:return"";case k5e:return e.return=e.value+"{"+Z4(e.children,n)+"}";case AI:e.value=e.props.join(",")}return Wl(r=Z4(e.children,n))?e.return=e.value+"{"+r+"}":""}a(QV,"stringify");var Tv=Sn(xG(),1),Ea=Sn(iT(),1);d();d();var dT,gNt=new Uint8Array(16);function wG(){if(!dT&&(dT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dT(gNt)}a(wG,"rng");d();var ms=[];for(let e=0;e<256;++e)ms.push((e+256).toString(16).slice(1));function MTe(e,t=0){return(ms[e[t+0]]+ms[e[t+1]]+ms[e[t+2]]+ms[e[t+3]]+"-"+ms[e[t+4]]+ms[e[t+5]]+"-"+ms[e[t+6]]+ms[e[t+7]]+"-"+ms[e[t+8]]+ms[e[t+9]]+"-"+ms[e[t+10]]+ms[e[t+11]]+ms[e[t+12]]+ms[e[t+13]]+ms[e[t+14]]+ms[e[t+15]]).toLowerCase()}a(MTe,"unsafeStringify");d();d();var yNt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AG={randomUUID:yNt};function mNt(e,t,r){if(AG.randomUUID&&!t&&!e)return AG.randomUUID();e=e||{};let n=e.random||(e.rng||wG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return MTe(n)}a(mNt,"v4");var EG=mNt;var Do=Sn(rRe(),1);var TOt=Object.defineProperty,MOt=a((e,t,r)=>t in e?TOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),R5=a((e,t,r)=>(MOt(e,typeof t!="symbol"?t+"":t,r),r),"__publicField"),sd={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Pe={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},$$=a(function(e="fatal"){let t=sd.fatal;typeof e=="string"?(e=e.toLowerCase(),e in sd&&(t=sd[e])):typeof e=="number"&&(t=e),Pe.trace=()=>{},Pe.debug=()=>{},Pe.info=()=>{},Pe.warn=()=>{},Pe.error=()=>{},Pe.fatal=()=>{},t<=sd.fatal&&(Pe.fatal=console.error?console.error.bind(console,il("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",il("FATAL"))),t<=sd.error&&(Pe.error=console.error?console.error.bind(console,il("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",il("ERROR"))),t<=sd.warn&&(Pe.warn=console.warn?console.warn.bind(console,il("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",il("WARN"))),t<=sd.info&&(Pe.info=console.info?console.info.bind(console,il("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",il("INFO"))),t<=sd.debug&&(Pe.debug=console.debug?console.debug.bind(console,il("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",il("DEBUG"))),t<=sd.trace&&(Pe.trace=console.debug?console.debug.bind(console,il("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",il("TRACE")))},"setLogLevel$1"),il=a(e=>`%c${(0,sl.default)().format("ss.SSS")} : ${e} : `,"format"),BOt=a(e=>e?xDe(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),_De=a(e=>vv.default.sanitize(e),"removeScript"),nRe=a((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){let n=t.securityLevel;n==="antiscript"||n==="strict"?e=_De(e):n!=="loose"&&(e=xDe(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=NOt(e))}return e},"sanitizeMore"),Xl=a((e,t)=>e&&(t.dompurifyConfig?e=vv.default.sanitize(nRe(e,t),t.dompurifyConfig).toString():e=vv.default.sanitize(nRe(e,t)),e),"sanitizeText$5"),ROt=a((e,t)=>typeof e=="string"?Xl(e,t):e.flat().map(r=>Xl(r,t)),"sanitizeTextOrArray"),JM=/<br\s*\/?>/gi,LOt=a(e=>JM.test(e),"hasBreaks"),DOt=a(e=>e.split(JM),"splitBreaks"),NOt=a(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),xDe=a(e=>e.replace(JM,"#br#"),"breakToPlaceholder"),OOt=a(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),ns=a(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),lp=a(function(e){let t=e;return e.indexOf("~")!==-1?(t=t.replace(/~([^~].*)/,"<$1"),t=t.replace(/~([^~]*)$/,">$1"),lp(t)):t},"parseGenericTypes"),Gr={getRows:BOt,sanitizeText:Xl,sanitizeTextOrArray:ROt,hasBreaks:LOt,splitBreaks:DOt,lineBreakRegex:JM,removeScript:_De,getUrl:OOt,evaluate:ns},lo=a((e,t)=>t?qt(e,{s:-40,l:10}):qt(e,{s:-40,l:-10}),"mkBorder"),ZM="#ffffff",eB="#f2f2f2",dM=class{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||qt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||qt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||lo(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||lo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||lo(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||lo(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||gr(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||gr(this.tertiaryColor),this.lineColor=this.lineColor||gr(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Vr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||gr(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||qr(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||qt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||qt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||qt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||qt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||qt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||qt(this.primaryColor,{l:-10}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||qt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||qt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eB}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(dM,"Theme$4");var qOt=a(e=>{let t=new dM;return t.calculate(e),t},"getThemeVariables$4"),pM=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=qr(this.primaryColor,16),this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.background),this.secondaryBorderColor=lo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=lo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=qr(gr("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=X0(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Vr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=X0(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=X0(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=qr(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=qr(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=qr(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Vr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qr(this.secondaryColor,20),this.git1=qr(this.pie2||this.secondaryColor,20),this.git2=qr(this.pie3||this.tertiaryColor,20),this.git3=qr(this.pie4||qt(this.primaryColor,{h:-30}),20),this.git4=qr(this.pie5||qt(this.primaryColor,{h:-60}),20),this.git5=qr(this.pie6||qt(this.primaryColor,{h:-90}),10),this.git6=qr(this.pie7||qt(this.primaryColor,{h:60}),10),this.git7=qr(this.pie8||qt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||qr(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qr(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(pM,"Theme$3");var POt=a(e=>{let t=new pM;return t.calculate(e),t},"getThemeVariables$3"),gM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=qt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=lo(this.primaryColor,this.darkMode),this.secondaryBorderColor=lo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=lo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=X0(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Vr(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Vr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||qt(this["cScale"+t],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||gr(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||gr(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=qr(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||qt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||qt(this.primaryColor,{l:-10}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||qt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||qt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||Vr(gr(this.git0),25),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gr(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gr(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eB}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(gM,"Theme$2");var FOt=a(e=>{let t=new gM;return t.calculate(e),t},"getThemeVariables$2"),yM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=qr("#cde498",10),this.primaryBorderColor=lo(this.primaryColor,this.darkMode),this.secondaryBorderColor=lo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=lo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.primaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||qt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||qt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||qt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||qt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||qt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||qt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||qt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||qt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||qt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Vr(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Vr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Vr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||qt(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Vr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||qt(this.primaryColor,{l:-30}),this.pie5=this.pie5||qt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||qt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||qt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||qt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||qt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||qt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||qt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||qt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||qt(this.primaryColor,{h:-30}),this.git4=this.git4||qt(this.primaryColor,{h:-60}),this.git5=this.git5||qt(this.primaryColor,{h:-90}),this.git6=this.git6||qt(this.primaryColor,{h:60}),this.git7=this.git7||qt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qr(this.git0,25),this.git1=qr(this.git1,25),this.git2=qr(this.git2,25),this.git3=qr(this.git3,25),this.git4=qr(this.git4,25),this.git5=qr(this.git5,25),this.git6=qr(this.git6,25),this.git7=qr(this.git7,25)):(this.git0=Vr(this.git0,25),this.git1=Vr(this.git1,25),this.git2=Vr(this.git2,25),this.git3=Vr(this.git3,25),this.git4=Vr(this.git4,25),this.git5=Vr(this.git5,25),this.git6=Vr(this.git6,25),this.git7=Vr(this.git7,25)),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eB}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(yM,"Theme$1");var UOt=a(e=>{let t=new yM;return t.calculate(e),t},"getThemeVariables$1"),mM=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=qr(this.contrast,55),this.background="#ffffff",this.tertiaryColor=qt(this.primaryColor,{h:-160}),this.primaryBorderColor=lo(this.primaryColor,this.darkMode),this.secondaryBorderColor=lo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=lo(this.tertiaryColor,this.darkMode),this.primaryTextColor=gr(this.primaryColor),this.secondaryTextColor=gr(this.secondaryColor),this.tertiaryTextColor=gr(this.tertiaryColor),this.lineColor=gr(this.background),this.textColor=gr(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=qr(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||gr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||qr(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Vr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=qr(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=qr(this.contrast,30),this.sectionBkgColor2=qr(this.contrast,30),this.taskBorderColor=Vr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=qr(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Vr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=qt(this.primaryColor,{h:64}),this.fillType3=qt(this.secondaryColor,{h:64}),this.fillType4=qt(this.primaryColor,{h:-64}),this.fillType5=qt(this.secondaryColor,{h:-64}),this.fillType6=qt(this.primaryColor,{h:128}),this.fillType7=qt(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Vr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||qt(this.primaryColor,{h:-30}),this.git4=this.pie5||qt(this.primaryColor,{h:-60}),this.git5=this.pie6||qt(this.primaryColor,{h:-90}),this.git6=this.pie7||qt(this.primaryColor,{h:60}),this.git7=this.pie8||qt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||gr(this.git0),this.gitInv1=this.gitInv1||gr(this.git1),this.gitInv2=this.gitInv2||gr(this.git2),this.gitInv3=this.gitInv3||gr(this.git3),this.gitInv4=this.gitInv4||gr(this.git4),this.gitInv5=this.gitInv5||gr(this.git5),this.gitInv6=this.gitInv6||gr(this.git6),this.gitInv7=this.gitInv7||gr(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZM,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eB}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};a(mM,"Theme");var YOt=a(e=>{let t=new mM;return t.calculate(e),t},"getThemeVariables"),yd={base:{getThemeVariables:qOt},dark:{getThemeVariables:POt},default:{getThemeVariables:FOt},forest:{getThemeVariables:UOt},neutral:{getThemeVariables:YOt}},up={theme:"default",themeVariables:yd.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],lazyLoadedDiagrams:[],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};up.class&&(up.class.arrowMarkerAbsolute=up.arrowMarkerAbsolute);up.gitGraph&&(up.gitGraph.arrowMarkerAbsolute=up.arrowMarkerAbsolute);var wDe=a((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...wDe(e[n],"")]:[...r,t+n],[]),"keyify"),HOt=wDe(up,""),zOt=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,QOt=/\s*%%.*\n/gm,CM={},X$=a(function(e,t){e=e.replace(zOt,"").replace(QOt,`
`);for(let[r,{detector:n}]of Object.entries(CM))if(n(e,t))return r;throw new Error(`No diagram type detected for text: ${e}`)},"detectType"),ADe=a((e,t,r)=>{if(CM[e])throw new Error(`Detector with key ${e} already exists`);CM[e]={detector:t,loader:r},Pe.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),WOt=a(e=>CM[e].loader,"getDiagramLoader"),Sa=a(function(e,t,r){let{depth:n,clobber:i}=Object.assign({depth:2,clobber:!1},r);return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>Sa(e,s,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.indexOf(s)===-1&&e.push(s)}),e):typeof e>"u"||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(typeof t<"u"&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=Sa(e[s],t[s],{depth:n-1,clobber:i})):(i||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),iM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof w<"u"?w:typeof self<"u"?self:{},VOt=typeof iM=="object"&&iM&&iM.Object===Object&&iM,EDe=VOt,jOt=EDe,GOt=typeof self=="object"&&self&&self.Object===Object&&self,KOt=jOt||GOt||Function("return this")(),tB=KOt,FG,iRe;function rB(){if(iRe)return FG;iRe=1;var e=tB,t=e.Symbol;return FG=t,FG}a(rB,"require_Symbol");var UG,aRe;function $Ot(){if(aRe)return UG;aRe=1;var e=rB(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=r.call(o,i),u=o[i];try{o[i]=void 0;var f=!0}catch{}var h=n.call(o);return f&&(l?o[i]=u:delete o[i]),h}return a(s,"getRawTag"),UG=s,UG}a($Ot,"require_getRawTag");var YG,sRe;function XOt(){if(sRe)return YG;sRe=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return a(r,"objectToString"),YG=r,YG}a(XOt,"require_objectToString");var HG,oRe;function o6(){if(oRe)return HG;oRe=1;var e=rB(),t=$Ot(),r=XOt(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return a(o,"baseGetTag"),HG=o,HG}a(o6,"require_baseGetTag");var zG,cRe;function Mv(){if(cRe)return zG;cRe=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return a(e,"isObject2"),zG=e,zG}a(Mv,"requireIsObject");var QG,lRe;function J$(){if(lRe)return QG;lRe=1;var e=o6(),t=Mv(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==i||u==r||u==s}return a(o,"isFunction2"),QG=o,QG}a(J$,"requireIsFunction");var JOt=tB,ZOt=JOt["__core-js_shared__"],eqt=ZOt,WG=eqt,uRe=function(){var e=/[^.]+$/.exec(WG&&WG.keys&&WG.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tqt(e){return!!uRe&&uRe in e}a(tqt,"isMasked$1");var rqt=tqt,nqt=Function.prototype,iqt=nqt.toString;function aqt(e){if(e!=null){try{return iqt.call(e)}catch{}try{return e+""}catch{}}return""}a(aqt,"toSource$1");var sqt=aqt,oqt=J$(),cqt=rqt,lqt=Mv(),uqt=sqt,fqt=/[\\^$.*+?()[\]{}|]/g,hqt=/^\[object .+?Constructor\]$/,dqt=Function.prototype,pqt=Object.prototype,gqt=dqt.toString,yqt=pqt.hasOwnProperty,mqt=RegExp("^"+gqt.call(yqt).replace(fqt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bqt(e){if(!lqt(e)||cqt(e))return!1;var t=oqt(e)?mqt:hqt;return t.test(uqt(e))}a(bqt,"baseIsNative$1");var vqt=bqt;function _qt(e,t){return e?.[t]}a(_qt,"getValue$1");var xqt=_qt,wqt=vqt,Aqt=xqt;function Eqt(e,t){var r=Aqt(e,t);return wqt(r)?r:void 0}a(Eqt,"getNative$2");var Z$=Eqt,Sqt=Z$,kqt=Sqt(Object,"create"),nB=kqt,fRe=nB;function Cqt(){this.__data__=fRe?fRe(null):{},this.size=0}a(Cqt,"hashClear$1");var Iqt=Cqt;function Tqt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}a(Tqt,"hashDelete$1");var Mqt=Tqt,Bqt=nB,Rqt="__lodash_hash_undefined__",Lqt=Object.prototype,Dqt=Lqt.hasOwnProperty;function Nqt(e){var t=this.__data__;if(Bqt){var r=t[e];return r===Rqt?void 0:r}return Dqt.call(t,e)?t[e]:void 0}a(Nqt,"hashGet$1");var Oqt=Nqt,qqt=nB,Pqt=Object.prototype,Fqt=Pqt.hasOwnProperty;function Uqt(e){var t=this.__data__;return qqt?t[e]!==void 0:Fqt.call(t,e)}a(Uqt,"hashHas$1");var Yqt=Uqt,Hqt=nB,zqt="__lodash_hash_undefined__";function Qqt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Hqt&&t===void 0?zqt:t,this}a(Qqt,"hashSet$1");var Wqt=Qqt,Vqt=Iqt,jqt=Mqt,Gqt=Oqt,Kqt=Yqt,$qt=Wqt;function Bv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Bv,"Hash$1");Bv.prototype.clear=Vqt;Bv.prototype.delete=jqt;Bv.prototype.get=Gqt;Bv.prototype.has=Kqt;Bv.prototype.set=$qt;var Xqt=Bv;function Jqt(){this.__data__=[],this.size=0}a(Jqt,"listCacheClear$1");var Zqt=Jqt,VG,hRe;function iB(){if(hRe)return VG;hRe=1;function e(t,r){return t===r||t!==t&&r!==r}return a(e,"eq2"),VG=e,VG}a(iB,"requireEq");var ePt=iB();function tPt(e,t){for(var r=e.length;r--;)if(ePt(e[r][0],t))return r;return-1}a(tPt,"assocIndexOf$4");var aB=tPt,rPt=aB,nPt=Array.prototype,iPt=nPt.splice;function aPt(e){var t=this.__data__,r=rPt(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():iPt.call(t,r,1),--this.size,!0}a(aPt,"listCacheDelete$1");var sPt=aPt,oPt=aB;function cPt(e){var t=this.__data__,r=oPt(t,e);return r<0?void 0:t[r][1]}a(cPt,"listCacheGet$1");var lPt=cPt,uPt=aB;function fPt(e){return uPt(this.__data__,e)>-1}a(fPt,"listCacheHas$1");var hPt=fPt,dPt=aB;function pPt(e,t){var r=this.__data__,n=dPt(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}a(pPt,"listCacheSet$1");var gPt=pPt,yPt=Zqt,mPt=sPt,bPt=lPt,vPt=hPt,_Pt=gPt;function Rv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Rv,"ListCache$1");Rv.prototype.clear=yPt;Rv.prototype.delete=mPt;Rv.prototype.get=bPt;Rv.prototype.has=vPt;Rv.prototype.set=_Pt;var xPt=Rv,wPt=Z$,APt=tB,EPt=wPt(APt,"Map"),SPt=EPt,dRe=Xqt,kPt=xPt,CPt=SPt;function IPt(){this.size=0,this.__data__={hash:new dRe,map:new(CPt||kPt),string:new dRe}}a(IPt,"mapCacheClear$1");var TPt=IPt;function MPt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}a(MPt,"isKeyable$1");var BPt=MPt,RPt=BPt;function LPt(e,t){var r=e.__data__;return RPt(t)?r[typeof t=="string"?"string":"hash"]:r.map}a(LPt,"getMapData$4");var sB=LPt,DPt=sB;function NPt(e){var t=DPt(this,e).delete(e);return this.size-=t?1:0,t}a(NPt,"mapCacheDelete$1");var OPt=NPt,qPt=sB;function PPt(e){return qPt(this,e).get(e)}a(PPt,"mapCacheGet$1");var FPt=PPt,UPt=sB;function YPt(e){return UPt(this,e).has(e)}a(YPt,"mapCacheHas$1");var HPt=YPt,zPt=sB;function QPt(e,t){var r=zPt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}a(QPt,"mapCacheSet$1");var WPt=QPt,VPt=TPt,jPt=OPt,GPt=FPt,KPt=HPt,$Pt=WPt;function Lv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a(Lv,"MapCache$1");Lv.prototype.clear=VPt;Lv.prototype.delete=jPt;Lv.prototype.get=GPt;Lv.prototype.has=KPt;Lv.prototype.set=$Pt;var XPt=Lv,SDe=XPt,JPt="Expected a function";function eX(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(JPt);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o},"memoized");return r.cache=new(eX.Cache||SDe),r}a(eX,"memoize");eX.Cache=SDe;var oB=eX,ZPt={curveBasis:jh,curveBasisClosed:T9,curveBasisOpen:M9,curveLinear:no,curveLinearClosed:B9,curveMonotoneX:PQ,curveMonotoneY:FQ,curveNatural:L9,curveStep:N9,curveStepAfter:YQ,curveStepBefore:UQ},jG=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,eFt=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,tFt=a(function(e,t){let r=kDe(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let i=r.map(s=>s.args);sy(i),n=Sa(n,[...i])}else n=r.args;if(n){let i=X$(e,t);["config"].forEach(s=>{typeof n[s]<"u"&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s])})}return n},"detectInit"),kDe=a(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${eFt.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),Pe.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=jG.exec(e))!==null;)if(n.index===jG.lastIndex&&jG.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){let s=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:o})}return i.length===0&&i.push({type:e,args:null}),i.length===1?i[0]:i}catch(r){return Pe.error(`ERROR: ${r.message} - Unable to parse directive
      ${t!==null?" type:"+t:""} based on the text:${e}`),{type:null,args:null}}},"detectDirective"),rFt=a(function(e,t){for(let r=0;r<t.length;r++)if(t[r].match(e))return r;return-1},"isSubstringInArray"),gf=a((e,t)=>{if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return ZPt[r]||t},"interpolateToCurve"),nFt=a((e,t)=>{let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,vf.sanitizeUrl)(r):r},"formatUrl"),iFt=a((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s)return;s[i](...t)},"runFunc"),G5=a((e,t)=>e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0,"distance"),aFt=a(e=>{let t,r=0;e.forEach(s=>{r+=G5(s,t),t=s});let n=r/2,i;return t=void 0,e.forEach(s=>{if(t&&!i){let o=G5(s,t);if(o<n)n-=o;else{let l=n/o;l<=0&&(i=t),l>=1&&(i={x:s.x,y:s.y}),l>0&&l<1&&(i={x:(1-l)*t.x+l*s.x,y:(1-l)*t.y+l*s.y})}}t=s}),i},"traverseEdge"),sFt=a(e=>e.length===1?e[0]:aFt(e),"calcLabelPosition"),oFt=a((e,t,r)=>{let n;Pe.info("our points",t),t[0]!==r&&(t=t.reverse()),t.forEach(h=>{totalDistance+=G5(h,n),n=h});let s=25,o;n=void 0,t.forEach(h=>{if(n&&!o){let p=G5(h,n);if(p<s)s-=p;else{let g=s/p;g<=0&&(o=n),g>=1&&(o={x:h.x,y:h.y}),g>0&&g<1&&(o={x:(1-g)*n.x+g*h.x,y:(1-g)*n.y+g*h.y})}}n=h});let l=e?10:5,u=Math.atan2(t[0].y-o.y,t[0].x-o.x),f={x:0,y:0};return f.x=Math.sin(u)*l+(t[0].x+o.x)/2,f.y=-Math.cos(u)*l+(t[0].y+o.y)/2,f},"calcCardinalityPosition"),cFt=a((e,t,r)=>{let n=JSON.parse(JSON.stringify(r)),i;Pe.info("our points",n),t!=="start_left"&&t!=="start_right"&&(n=n.reverse()),n.forEach(p=>{i=p});let o=25+e,l;i=void 0,n.forEach(p=>{if(i&&!l){let g=G5(p,i);if(g<o)o-=g;else{let y=o/g;y<=0&&(l=i),y>=1&&(l={x:p.x,y:p.y}),y>0&&y<1&&(l={x:(1-y)*i.x+y*p.x,y:(1-y)*i.y+y*p.y})}}i=p});let u=10+e*.5,f=Math.atan2(n[0].y-l.y,n[0].x-l.x),h={x:0,y:0};return h.x=Math.sin(f)*u+(n[0].x+l.x)/2,h.y=-Math.cos(f)*u+(n[0].y+l.y)/2,t==="start_left"&&(h.x=Math.sin(f+Math.PI)*u+(n[0].x+l.x)/2,h.y=-Math.cos(f+Math.PI)*u+(n[0].y+l.y)/2),t==="end_right"&&(h.x=Math.sin(f-Math.PI)*u+(n[0].x+l.x)/2-5,h.y=-Math.cos(f-Math.PI)*u+(n[0].y+l.y)/2-5),t==="end_left"&&(h.x=Math.sin(f)*u+(n[0].x+l.x)/2-5,h.y=-Math.cos(f)*u+(n[0].y+l.y)/2-5),h},"calcTerminalLabelPosition"),pp=a(e=>{let t="",r="";for(let n=0;n<e.length;n++)typeof e[n]<"u"&&(e[n].startsWith("color:")||e[n].startsWith("text-align:")?r=r+e[n]+";":t=t+e[n]+";");return{style:t,labelStyle:r}},"getStylesFromArray"),pRe=0,CDe=a(()=>(pRe++,"id-"+Math.random().toString(36).substr(2,12)+"-"+pRe),"generateId$1");function lFt(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}a(lFt,"makeid");var IDe=a(e=>lFt(e.length),"random"),uFt=a(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},"getTextObj$3"),fFt=a(function(e,t){let r=t.text.replace(Gr.lineBreakRegex," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",t.fontSize),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),typeof t.class<"u"&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.attr("fill",t.fill),i.text(r),n},"drawSimpleText"),TDe=oB((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Gr.lineBreakRegex.test(e)))return e;let n=e.split(" "),i=[],s="";return n.forEach((o,l)=>{let u=yf(`${o} `,r),f=yf(s,r);if(u>t){let{hyphenatedStrings:g,remainingWord:y}=hFt(o,t,"-",r);i.push(s,...g),s=y}else f+u>=t?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");l+1===n.length&&i.push(s)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),hFt=oB((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=e.split(""),s=[],o="";return i.forEach((l,u)=>{let f=`${o}${l}`;if(yf(f,n)>=t){let p=u+1,g=i.length===p,y=`${f}${r}`;s.push(g?f:y),o=""}else o=f}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`),E$=a(function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),tX(e,t).height},"calculateTextHeight"),yf=a(function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),tX(e,t).width},"calculateTextWidth"),tX=oB(function(e,t){t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);let{fontSize:r,fontFamily:n,fontWeight:i}=t;if(!e)return{width:0,height:0};let s=["sans-serif",n],o=e.split(Gr.lineBreakRegex),l=[],u=Zt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};let f=u.append("svg");for(let p of s){let g=0,y={width:0,height:0,lineHeight:0};for(let E of o){let M=uFt();M.text=E;let z=fFt(f,M).style("font-size",r).style("font-weight",i).style("font-family",p),P=(z._groups||z)[0][0].getBBox();y.width=Math.round(Math.max(y.width,P.width)),g=Math.round(P.height),y.height+=g,y.lineHeight=Math.round(Math.max(y.lineHeight,g))}l.push(y)}f.remove();let h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),dFt=a(class{constructor(t,r){this.deterministic=t,this.seed=r,this.count=r?r.length:0}next(){return this.deterministic?this.count++:Date.now()}},"iterator"),aM,pFt=a(function(e){return aM=aM||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),aM.innerHTML=e,unescape(aM.textContent)},"entityDecode"),sy=a(e=>{if(Pe.debug("directiveSanitizer called with",e),typeof e=="object"&&(e.length?e.forEach(t=>sy(t)):Object.keys(e).forEach(t=>{Pe.debug("Checking key",t),t.indexOf("__")===0&&(Pe.debug("sanitize deleting __ option",t),delete e[t]),t.indexOf("proto")>=0&&(Pe.debug("sanitize deleting proto option",t),delete e[t]),t.indexOf("constr")>=0&&(Pe.debug("sanitize deleting constr option",t),delete e[t]),t.indexOf("themeCSS")>=0&&(Pe.debug("sanitizing themeCss option"),e[t]=bM(e[t])),t.indexOf("fontFamily")>=0&&(Pe.debug("sanitizing fontFamily option"),e[t]=bM(e[t])),t.indexOf("altFontFamily")>=0&&(Pe.debug("sanitizing altFontFamily option"),e[t]=bM(e[t])),HOt.indexOf(t)<0?(Pe.debug("sanitize deleting option",t),delete e[t]):typeof e[t]=="object"&&(Pe.debug("sanitize deleting object",t),sy(e[t]))})),e.themeVariables){let t=Object.keys(e.themeVariables);for(let r=0;r<t.length;r++){let n=t[r],i=e.themeVariables[n];i&&i.match&&!i.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(e.themeVariables[n]="")}}Pe.debug("After sanitization",e)},"directiveSanitizer"),bM=a(e=>{let t=0,r=0;for(let n=0;n<e.length;n++){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";e[n]==="{"?t++:e[n]==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss");function rX(e){return"str"in e}a(rX,"isDetailedError");function gFt(e){return e instanceof Error?e.message:String(e)}a(gFt,"getErrorMessage");var on={assignWithDepth:Sa,wrapLabel:TDe,calculateTextHeight:E$,calculateTextWidth:yf,calculateTextDimensions:tX,detectInit:tFt,detectDirective:kDe,isSubstringInArray:rFt,interpolateToCurve:gf,calcLabelPosition:sFt,calcCardinalityPosition:oFt,calcTerminalLabelPosition:cFt,formatUrl:nFt,getStylesFromArray:pp,generateId:CDe,random:IDe,runFunc:iFt,entityDecode:pFt,initIdGenerator:dFt,directiveSanitizer:sy,sanitizeCss:bM},yFt="mermaid",mFt="9.2.0",bFt="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",vFt="./dist/mermaid.core.mjs",_Ft="./dist/mermaid.core.mjs",xFt="./dist/mermaid.d.ts",wFt="module",AFt={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},EFt=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],SFt={clean:"rimraf dist","build:code":"node .esbuild/esbuild.cjs","build:types":"tsc -p ./tsconfig.json --emitDeclarationOnly","build:watch":"yarn build:code --watch","build:esbuild":'concurrently "yarn build:code" "yarn build:types"',build:"yarn clean; yarn build:esbuild",dev:"node .esbuild/serve.cjs","docs:build":"ts-node-esm src/docs.mts","docs:verify":"yarn docs:build --verify","todo-postbuild":"documentation build src/mermaidAPI.ts src/config.ts src/defaultConfig.ts --shallow -f md --markdown-toc false > src/docs/Setup.md && prettier --write src/docs/Setup.md",release:"yarn build",lint:"eslint --cache --ignore-path .gitignore . && yarn lint:jison && prettier --check .","lint:fix":"eslint --fix --ignore-path .gitignore . && prettier --write .","lint:jison":"ts-node-esm src/jison/lint.mts",cypress:"cypress run","cypress:open":"cypress open",e2e:"start-server-and-test dev http://localhost:9000/ cypress","todo-prepare":'concurrently "husky install" "yarn build"',"pre-commit":"lint-staged"},kFt={type:"git",url:"https://github.com/mermaid-js/mermaid"},CFt="Knut Sveidqvist",IFt="MIT",TFt={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},MFt={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0",dagre:"^0.8.5","dagre-d3":"^0.6.4",dompurify:"2.4.0","fast-clone":"^1.5.13",graphlib:"^2.1.8",khroma:"^2.0.0",lodash:"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},BFt={"@applitools/eyes-cypress":"^3.25.7","@commitlint/cli":"^17.1.2","@commitlint/config-conventional":"^17.0.0","@types/d3":"^7.4.0","@types/dompurify":"^2.3.4","@types/eslint":"^8.4.6","@types/express":"^4.17.13","@types/jsdom":"^20.0.0","@types/lodash":"^4.14.185","@types/prettier":"^2.7.0","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.37.0","@typescript-eslint/parser":"^5.37.0",concurrently:"^7.4.0",coveralls:"^3.1.1",cypress:"^10.0.0","cypress-image-snapshot":"^4.0.1",documentation:"13.2.0",esbuild:"^0.15.8",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^7.1.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^3.0.0",express:"^4.18.1",globby:"^13.1.2",husky:"^8.0.0","identity-obj-proxy":"^3.0.0",jison:"^0.4.18","js-base64":"3.7.2",jsdom:"^20.0.0","lint-staged":"^13.0.0",moment:"^2.23.0","path-browserify":"^1.0.1",prettier:"^2.7.1","prettier-plugin-jsdoc":"^0.4.2",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.12.6","ts-node":"^10.9.1",typescript:"^4.8.3","unist-util-flatmap":"^1.0.0"},RFt={d3:"^7.0.0"},LFt=["dist"],DFt=["**/*.css","**/*.scss"],IM={name:yFt,version:mFt,description:bFt,main:vFt,module:_Ft,types:xFt,type:wFt,exports:AFt,keywords:EFt,scripts:SFt,repository:kFt,author:CFt,license:IFt,standard:TFt,dependencies:MFt,devDependencies:BFt,resolutions:RFt,files:LFt,sideEffects:DFt},_v=Object.freeze(up),Mo=Sa({},_v),MDe,xv=[],cB=Sa({},_v),lB=a((e,t)=>{let r=Sa({},e),n={};for(let i=0;i<t.length;i++){let s=t[i];LDe(s),n=Sa(n,s)}if(r=Sa(r,n),n.theme&&n.theme in yd){let i=Sa({},MDe),s=Sa(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in yd&&(r.themeVariables=yd[r.theme].getThemeVariables(s))}return cB=r,r},"updateCurrentConfig"),NFt=a(e=>(Mo=Sa({},_v),Mo=Sa(Mo,e),e.theme&&yd[e.theme]&&(Mo.themeVariables=yd[e.theme].getThemeVariables(e.themeVariables)),cB=lB(Mo,xv),Mo),"setSiteConfig"),OFt=a(e=>{MDe=Sa({},e)},"saveConfigFromInitialize"),qFt=a(e=>(Mo=Sa(Mo,e),lB(Mo,xv),Mo),"updateSiteConfig"),BDe=a(()=>Sa({},Mo),"getSiteConfig"),RDe=a(e=>(Sa(cB,e),ft()),"setConfig"),ft=a(()=>Sa({},cB),"getConfig$1"),LDe=a(e=>{var t;["secure",...(t=Mo.secure)!=null?t:[]].forEach(r=>{typeof e[r]<"u"&&(Pe.debug(`Denied attempt to modify a secure key ${r}`,e[r]),delete e[r])}),Object.keys(e).forEach(r=>{r.indexOf("__")===0&&delete e[r]}),Object.keys(e).forEach(r=>{typeof e[r]=="string"&&(e[r].indexOf("<")>-1||e[r].indexOf(">")>-1||e[r].indexOf("url(data:")>-1)&&delete e[r],typeof e[r]=="object"&&LDe(e[r])})},"sanitize"),nX=a(e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),xv.push(e),lB(Mo,xv)},"addDirective"),K5=a((e=Mo)=>{xv=[],lB(e,xv)},"reset"),PFt=a(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),FFt=a(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):n.set("width",t),n},"calculateSvgSizeAttrs"),Zl=a(function(e,t,r,n){let i=FFt(t,r,n);PFt(e,i)},"configureSvgSize"),uB=a(function(e,t,r,n){let i=t.node().getBBox(),s=i.width,o=i.height;Pe.info(`SVG bounds: ${s}x${o}`,i);let l=0,u=0;Pe.info(`Graph bounds: ${l}x${u}`,e),l=s+r*2,u=o+r*2,Pe.info(`Calculated bounds: ${l}x${u}`),Zl(t,u,l,n);let f=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",f)},"setupGraphViewbox$1"),F5=a(e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`,"getStyles$d"),DDe=a(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }
`,"getStyles$c"),NDe=a(()=>"","getStyles$b"),TM=a(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`,"getStyles$a"),ODe=a(e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,"getStyles$9"),qDe=a(()=>"","getStyles$8"),PDe=a(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles$7"),FDe=a(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles$6"),UDe=a(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles$5"),MM=a(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}
`,"getStyles$4"),YDe=a(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles$3"),HDe=a(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles$2"),vM={flowchart:TM,"flowchart-v2":TM,sequence:UDe,gantt:ODe,classDiagram:F5,"classDiagram-v2":F5,class:F5,stateDiagram:MM,state:MM,info:qDe,pie:PDe,er:DDe,error:NDe,journey:YDe,requirement:FDe,c4:HDe},zDe=a((e,t,r)=>{let n="";return e in vM&&vM[e]?n=vM[e](r):Pe.warn(`No theme found for ${e}`),` {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: ${r.errorBkgColor};
  }
  .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  .marker.cross {
    stroke: ${r.lineColor};
  }

  svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},"getStyles$1"),UFt=a((e,t)=>{vM[e]=t},"addStylesForDiagram"),O5=Pe,YFt=$$,wv=ft,HFt=a(e=>Xl(e,wv()),"sanitizeText$4"),QDe=uB,gv={},ts=a((e,t,r,n)=>{O5.debug(`Registering diagram ${e}`),gv[e]&&O5.warn(`Diagram ${e} already registered.`),gv[e]=t,r&&ADe(e,r),UFt(e,t.styles),typeof n<"u"&&n(O5,YFt,wv,HFt,QDe),O5.debug(`Registered diagram ${e}. ${Object.keys(gv).join(", ")} diagrams registered.`)},"registerDiagram"),WDe=a(e=>{if(O5.debug(`Getting diagram ${e}. ${Object.keys(gv).join(", ")} diagrams registered.`),e in gv)return gv[e];throw new U5(e)},"getDiagram"),U5=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}};a(U5,"DiagramNotFoundError");var S$=function(){var e=a(function(F,B,S,T){for(S=S||{},T=F.length;T--;S[F[T]]=B);return S},"o"),t=[1,4],r=[1,7],n=[1,5],i=[1,9],s=[1,6],o=[2,6],l=[1,16],u=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],f=[8,14,20,22,24,25,27,29,32,37,40],h=[8,13,14,20,22,24,25,27,29,32,37,40],p=[1,26],g=[6,8,14,50,54],y=[8,14,54],E=[1,65],M=[1,66],z=[1,67],P=[8,14,33,35,42,54],Q={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:a(function(B,S,T,k,R,x,N){var m=x.length-1;switch(R){case 3:return x[m];case 4:return x[m-1];case 5:return k.setDirection(x[m-3]),x[m-1];case 7:k.setOptions(x[m-1]),this.$=x[m];break;case 8:x[m-1]+=x[m],this.$=x[m-1];break;case 10:this.$=[];break;case 11:x[m-1].push(x[m]),this.$=x[m-1];break;case 12:this.$=x[m-1];break;case 17:this.$=x[m].trim(),k.setAccTitle(this.$);break;case 18:case 19:this.$=x[m].trim(),k.setAccDescription(this.$);break;case 20:k.addSection(x[m].substr(8)),this.$=x[m].substr(8);break;case 22:k.checkout(x[m]);break;case 23:k.branch(x[m]);break;case 24:k.branch(x[m-2],x[m]);break;case 25:k.cherryPick(x[m],"",void 0);break;case 26:k.cherryPick(x[m-2],"",x[m]);break;case 27:case 29:k.cherryPick(x[m-2],"","");break;case 28:k.cherryPick(x[m],"",x[m-2]);break;case 30:k.merge(x[m],"","","");break;case 31:k.merge(x[m-2],x[m],"","");break;case 32:k.merge(x[m-2],"",x[m],"");break;case 33:k.merge(x[m-2],"","",x[m]);break;case 34:k.merge(x[m-4],x[m],"",x[m-2]);break;case 35:k.merge(x[m-4],"",x[m],x[m-2]);break;case 36:k.merge(x[m-4],"",x[m-2],x[m]);break;case 37:k.merge(x[m-4],x[m-2],x[m],"");break;case 38:k.merge(x[m-4],x[m-2],"",x[m]);break;case 39:k.merge(x[m-4],x[m],x[m-2],"");break;case 40:k.merge(x[m-6],x[m-4],x[m-2],x[m]);break;case 41:k.merge(x[m-6],x[m],x[m-4],x[m-2]);break;case 42:k.merge(x[m-6],x[m-4],x[m],x[m-2]);break;case 43:k.merge(x[m-6],x[m-2],x[m-4],x[m]);break;case 44:k.merge(x[m-6],x[m],x[m-2],x[m-4]);break;case 45:k.merge(x[m-6],x[m-2],x[m],x[m-4]);break;case 46:k.commit(x[m]);break;case 47:k.commit("","",k.commitType.NORMAL,x[m]);break;case 48:k.commit("","",x[m],"");break;case 49:k.commit("","",x[m],x[m-2]);break;case 50:k.commit("","",x[m-2],x[m]);break;case 51:k.commit("",x[m],k.commitType.NORMAL,"");break;case 52:k.commit("",x[m-2],k.commitType.NORMAL,x[m]);break;case 53:k.commit("",x[m],k.commitType.NORMAL,x[m-2]);break;case 54:k.commit("",x[m-2],x[m],"");break;case 55:k.commit("",x[m],x[m-2],"");break;case 56:k.commit("",x[m-4],x[m-2],x[m]);break;case 57:k.commit("",x[m-4],x[m],x[m-2]);break;case 58:k.commit("",x[m-2],x[m-4],x[m]);break;case 59:k.commit("",x[m],x[m-4],x[m-2]);break;case 60:k.commit("",x[m],x[m-2],x[m-4]);break;case 61:k.commit("",x[m-2],x[m],x[m-4]);break;case 62:k.commit(x[m],"",k.commitType.NORMAL,"");break;case 63:k.commit(x[m],"",k.commitType.NORMAL,x[m-2]);break;case 64:k.commit(x[m-2],"",k.commitType.NORMAL,x[m]);break;case 65:k.commit(x[m-2],"",x[m],"");break;case 66:k.commit(x[m],"",x[m-2],"");break;case 67:k.commit(x[m],x[m-2],k.commitType.NORMAL,"");break;case 68:k.commit(x[m-2],x[m],k.commitType.NORMAL,"");break;case 69:k.commit(x[m-4],"",x[m-2],x[m]);break;case 70:k.commit(x[m-4],"",x[m],x[m-2]);break;case 71:k.commit(x[m-2],"",x[m-4],x[m]);break;case 72:k.commit(x[m],"",x[m-4],x[m-2]);break;case 73:k.commit(x[m],"",x[m-2],x[m-4]);break;case 74:k.commit(x[m-2],"",x[m],x[m-4]);break;case 75:k.commit(x[m-4],x[m],x[m-2],"");break;case 76:k.commit(x[m-4],x[m-2],x[m],"");break;case 77:k.commit(x[m-2],x[m],x[m-4],"");break;case 78:k.commit(x[m],x[m-2],x[m-4],"");break;case 79:k.commit(x[m],x[m-4],x[m-2],"");break;case 80:k.commit(x[m-2],x[m-4],x[m],"");break;case 81:k.commit(x[m-4],x[m],k.commitType.NORMAL,x[m-2]);break;case 82:k.commit(x[m-4],x[m-2],k.commitType.NORMAL,x[m]);break;case 83:k.commit(x[m-2],x[m],k.commitType.NORMAL,x[m-4]);break;case 84:k.commit(x[m],x[m-2],k.commitType.NORMAL,x[m-4]);break;case 85:k.commit(x[m],x[m-4],k.commitType.NORMAL,x[m-2]);break;case 86:k.commit(x[m-2],x[m-4],k.commitType.NORMAL,x[m]);break;case 87:k.commit(x[m-6],x[m-4],x[m-2],x[m]);break;case 88:k.commit(x[m-6],x[m-4],x[m],x[m-2]);break;case 89:k.commit(x[m-6],x[m-2],x[m-4],x[m]);break;case 90:k.commit(x[m-6],x[m],x[m-4],x[m-2]);break;case 91:k.commit(x[m-6],x[m-2],x[m],x[m-4]);break;case 92:k.commit(x[m-6],x[m],x[m-2],x[m-4]);break;case 93:k.commit(x[m-4],x[m-6],x[m-2],x[m]);break;case 94:k.commit(x[m-4],x[m-6],x[m],x[m-2]);break;case 95:k.commit(x[m-2],x[m-6],x[m-4],x[m]);break;case 96:k.commit(x[m],x[m-6],x[m-4],x[m-2]);break;case 97:k.commit(x[m-2],x[m-6],x[m],x[m-4]);break;case 98:k.commit(x[m],x[m-6],x[m-2],x[m-4]);break;case 99:k.commit(x[m],x[m-4],x[m-2],x[m-6]);break;case 100:k.commit(x[m-2],x[m-4],x[m],x[m-6]);break;case 101:k.commit(x[m],x[m-2],x[m-4],x[m-6]);break;case 102:k.commit(x[m-2],x[m],x[m-4],x[m-6]);break;case 103:k.commit(x[m-4],x[m-2],x[m],x[m-6]);break;case 104:k.commit(x[m-4],x[m],x[m-2],x[m-6]);break;case 105:k.commit(x[m-2],x[m-4],x[m-6],x[m]);break;case 106:k.commit(x[m],x[m-4],x[m-6],x[m-2]);break;case 107:k.commit(x[m-2],x[m],x[m-6],x[m-4]);break;case 108:k.commit(x[m],x[m-2],x[m-6],x[m-4]);break;case 109:k.commit(x[m-4],x[m-2],x[m-6],x[m]);break;case 110:k.commit(x[m-4],x[m],x[m-6],x[m-2]);break;case 111:this.$="";break;case 112:this.$=x[m];break;case 113:this.$=k.commitType.NORMAL;break;case 114:this.$=k.commitType.REVERSE;break;case 115:this.$=k.commitType.HIGHLIGHT;break;case 118:k.parseDirective("%%{","open_directive");break;case 119:k.parseDirective(x[m],"type_directive");break;case 120:x[m]=x[m].trim().replace(/'/g,'"'),k.parseDirective(x[m],"arg_directive");break;case 121:k.parseDirective("}%%","close_directive","gitGraph");break}},"anonymous"),table:[{3:1,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{1:[3]},{3:10,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{3:11,4:2,5:3,6:t,8:r,14:n,46:8,50:i,54:s},{7:12,8:o,9:[1,13],10:[1,14],11:15,14:l},e(u,[2,122]),e(u,[2,123]),e(u,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:o,11:15,14:l},{9:[1,21]},e(f,[2,10],{12:22,13:[1,23]}),e(h,[2,9]),{9:[1,25],48:24,53:p},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:o,11:15,14:l},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(h,[2,8]),e(g,[2,116]),{49:45,52:[1,46]},e(g,[2,121]),{1:[2,4]},{8:[1,47]},e(f,[2,11]),{4:48,8:r,14:n,54:s},e(f,[2,13]),e(y,[2,14]),e(y,[2,15]),e(y,[2,16]),{21:[1,49]},{23:[1,50]},e(y,[2,19]),e(y,[2,20]),e(y,[2,21]),{28:[1,51]},e(y,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:p},{53:[2,120]},{1:[2,5]},e(f,[2,12]),e(y,[2,17]),e(y,[2,18]),e(y,[2,22]),e(y,[2,46]),{34:[1,63]},{39:64,43:E,44:M,45:z},{34:[1,68]},{34:[1,69]},e(y,[2,112]),e(y,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},e(y,[2,23],{30:[1,76]}),e(g,[2,117]),e(y,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),e(y,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),e(P,[2,113]),e(P,[2,114]),e(P,[2,115]),e(y,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),e(y,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:E,44:M,45:z},{34:[1,91]},e(y,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:E,44:M,45:z},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:E,44:M,45:z},{34:[1,104]},{34:[1,105]},{39:106,43:E,44:M,45:z},{34:[1,107]},e(y,[2,31],{35:[1,109],38:[1,108]}),e(y,[2,32],{33:[1,111],35:[1,110]}),e(y,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},e(y,[2,24]),e(y,[2,49],{33:[1,118],42:[1,119]}),e(y,[2,53],{38:[1,120],42:[1,121]}),e(y,[2,63],{33:[1,123],38:[1,122]}),e(y,[2,50],{33:[1,124],42:[1,125]}),e(y,[2,55],{35:[1,126],42:[1,127]}),e(y,[2,66],{33:[1,129],35:[1,128]}),e(y,[2,52],{38:[1,130],42:[1,131]}),e(y,[2,54],{35:[1,132],42:[1,133]}),e(y,[2,67],{35:[1,135],38:[1,134]}),e(y,[2,64],{33:[1,137],38:[1,136]}),e(y,[2,65],{33:[1,139],35:[1,138]}),e(y,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:E,44:M,45:z},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:E,44:M,45:z},e(y,[2,26]),e(y,[2,27]),e(y,[2,28]),e(y,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:E,44:M,45:z},{34:[1,151]},{39:152,43:E,44:M,45:z},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:E,44:M,45:z},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:E,44:M,45:z},{34:[1,165]},{39:166,43:E,44:M,45:z},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:E,44:M,45:z},{34:[1,171]},e(y,[2,37],{35:[1,172]}),e(y,[2,38],{38:[1,173]}),e(y,[2,36],{33:[1,174]}),e(y,[2,39],{35:[1,175]}),e(y,[2,34],{38:[1,176]}),e(y,[2,35],{33:[1,177]}),e(y,[2,60],{42:[1,178]}),e(y,[2,73],{33:[1,179]}),e(y,[2,61],{42:[1,180]}),e(y,[2,84],{38:[1,181]}),e(y,[2,74],{33:[1,182]}),e(y,[2,83],{38:[1,183]}),e(y,[2,59],{42:[1,184]}),e(y,[2,72],{33:[1,185]}),e(y,[2,58],{42:[1,186]}),e(y,[2,78],{35:[1,187]}),e(y,[2,71],{33:[1,188]}),e(y,[2,77],{35:[1,189]}),e(y,[2,57],{42:[1,190]}),e(y,[2,85],{38:[1,191]}),e(y,[2,56],{42:[1,192]}),e(y,[2,79],{35:[1,193]}),e(y,[2,80],{35:[1,194]}),e(y,[2,86],{38:[1,195]}),e(y,[2,70],{33:[1,196]}),e(y,[2,81],{38:[1,197]}),e(y,[2,69],{33:[1,198]}),e(y,[2,75],{35:[1,199]}),e(y,[2,76],{35:[1,200]}),e(y,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:E,44:M,45:z},{34:[1,204]},{34:[1,205]},{39:206,43:E,44:M,45:z},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:E,44:M,45:z},{34:[1,212]},{39:213,43:E,44:M,45:z},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:E,44:M,45:z},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:E,44:M,45:z},{34:[1,226]},{39:227,43:E,44:M,45:z},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:E,44:M,45:z},e(y,[2,40]),e(y,[2,42]),e(y,[2,41]),e(y,[2,43]),e(y,[2,45]),e(y,[2,44]),e(y,[2,101]),e(y,[2,102]),e(y,[2,99]),e(y,[2,100]),e(y,[2,104]),e(y,[2,103]),e(y,[2,108]),e(y,[2,107]),e(y,[2,106]),e(y,[2,105]),e(y,[2,110]),e(y,[2,109]),e(y,[2,98]),e(y,[2,97]),e(y,[2,96]),e(y,[2,95]),e(y,[2,93]),e(y,[2,94]),e(y,[2,92]),e(y,[2,91]),e(y,[2,90]),e(y,[2,89]),e(y,[2,87]),e(y,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:a(function(B,S){if(S.recoverable)this.trace(B);else{var T=new Error(B);throw T.hash=S,T}},"parseError"),parse:a(function(B){var S=this,T=[0],k=[],R=[null],x=[],N=this.table,m="",v=0,A=0,U=2,G=1,K=x.slice.call(arguments,1),Z=Object.create(this.lexer),O={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(O.yy[$]=this.yy[$]);Z.setInput(B,O.yy),O.yy.lexer=Z,O.yy.parser=this,typeof Z.yylloc>"u"&&(Z.yylloc={});var L=Z.yylloc;x.push(L);var ee=Z.options&&Z.options.ranges;typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ve(){var ie;return ie=k.pop()||Z.lex()||G,typeof ie!="number"&&(ie instanceof Array&&(k=ie,ie=k.pop()),ie=S.symbols_[ie]||ie),ie}a(ve,"lex");for(var ye,se,be,Y,D={},J,q,I,H;;){if(se=T[T.length-1],this.defaultActions[se]?be=this.defaultActions[se]:((ye===null||typeof ye>"u")&&(ye=ve()),be=N[se]&&N[se][ye]),typeof be>"u"||!be.length||!be[0]){var te="";H=[];for(J in N[se])this.terminals_[J]&&J>U&&H.push("'"+this.terminals_[J]+"'");Z.showPosition?te="Parse error on line "+(v+1)+`:
`+Z.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[ye]||ye)+"'":te="Parse error on line "+(v+1)+": Unexpected "+(ye==G?"end of input":"'"+(this.terminals_[ye]||ye)+"'"),this.parseError(te,{text:Z.match,token:this.terminals_[ye]||ye,line:Z.yylineno,loc:L,expected:H})}if(be[0]instanceof Array&&be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+ye);switch(be[0]){case 1:T.push(ye),R.push(Z.yytext),x.push(Z.yylloc),T.push(be[1]),ye=null,A=Z.yyleng,m=Z.yytext,v=Z.yylineno,L=Z.yylloc;break;case 2:if(q=this.productions_[be[1]][1],D.$=R[R.length-q],D._$={first_line:x[x.length-(q||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(q||1)].first_column,last_column:x[x.length-1].last_column},ee&&(D._$.range=[x[x.length-(q||1)].range[0],x[x.length-1].range[1]]),Y=this.performAction.apply(D,[m,A,v,O.yy,be[1],R,x].concat(K)),typeof Y<"u")return Y;q&&(T=T.slice(0,-1*q*2),R=R.slice(0,-1*q),x=x.slice(0,-1*q)),T.push(this.productions_[be[1]][0]),R.push(D.$),x.push(D._$),I=N[T[T.length-2]][T[T.length-1]],T.push(I);break;case 3:return!0}}return!0},"parse2")},V=function(){var F={EOF:1,parseError:a(function(S,T){if(this.yy.parser)this.yy.parser.parseError(S,T);else throw new Error(S)},"parseError"),setInput:function(B,S){return this.yy=S||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var S=B.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},unput:function(B){var S=B.length,T=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),T.length-1&&(this.yylineno-=T.length-1);var R=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:T?(T.length===k.length?this.yylloc.first_column:0)+k[k.length-T.length].length-T[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[R[0],R[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(B){this.unput(this.match.slice(B))},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput(),S=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+S+"^"},test_match:function(B,S){var T,k,R;if(this.options.backtrack_lexer&&(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(R.yylloc.range=this.yylloc.range.slice(0))),k=B[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],T=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),T)return T;if(this._backtrack){for(var x in R)this[x]=R[x];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,S,T,k;this._more||(this.yytext="",this.match="");for(var R=this._currentRules(),x=0;x<R.length;x++)if(T=this._input.match(this.rules[R[x]]),T&&(!S||T[0].length>S[0].length)){if(S=T,k=x,this.options.backtrack_lexer){if(B=this.test_match(T,R[x]),B!==!1)return B;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(B=this.test_match(S,R[k]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var S=this.next();return S||this.lex()},"lex"),begin:a(function(S){this.conditionStack.push(S)},"begin"),popState:a(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:a(function(S){this.begin(S)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(S,T,k,R){switch(k){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return F}();Q.lexer=V;function W(){this.yy={}}return a(W,"Parser"),W.prototype=Q,Q.Parser=W,new W}();S$.parser=S$;var zFt=a(e=>e.match(/^\s*gitGraph/)!==null,"gitGraphDetector"),iX="",fB="",aX="",sX=a(e=>Xl(e,ft()),"sanitizeText$3"),eu=a(function(){iX="",aX="",fB=""},"clear$g"),ol=a(function(e){iX=sX(e).replace(/^\s+/g,"")},"setAccTitle"),tu=a(function(){return iX||fB},"getAccTitle"),ru=a(function(e){aX=sX(e).replace(/\n\s+/g,`
`)},"setAccDescription"),nu=a(function(){return aX},"getAccDescription"),hB=a(function(e){fB=sX(e)},"setDiagramTitle"),dB=a(function(){return fB},"getDiagramTitle"),BM=ft().gitGraph.mainBranchName,QFt=ft().gitGraph.mainBranchOrder,Ua={},uo=null,$5={};$5[BM]={name:BM,order:QFt};var Aa={};Aa[BM]=uo;var rs=BM,VDe="LR",oy=0;function oX(){return IDe({length:7})}a(oX,"getId");var WFt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$b");function VFt(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let s=t(i);return r[s]||(r[s]=!0,n.push(i)),n},[])}a(VFt,"uniqBy");var jFt=a(function(e){VDe=e},"setDirection$3"),jDe={},GFt=a(function(e){Pe.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{jDe=JSON.parse(e)}catch(t){Pe.error("error while parsing gitGraph options",t.message)}},"setOptions"),KFt=a(function(){return jDe},"getOptions"),$Ft=a(function(e,t,r,n){Pe.debug("Entering commit:",e,t,r,n),t=Gr.sanitizeText(t,ft()),e=Gr.sanitizeText(e,ft()),n=Gr.sanitizeText(n,ft());let i={id:t||oy+"-"+oX(),message:e,seq:oy++,type:r||X5.NORMAL,tag:n||"",parents:uo==null?[]:[uo.id],branch:rs};uo=i,Ua[i.id]=i,Aa[rs]=i.id,Pe.debug("in pushCommit "+i.id)},"commit"),XFt=a(function(e,t){if(e=Gr.sanitizeText(e,ft()),typeof Aa[e]>"u")Aa[e]=uo!=null?uo.id:null,$5[e]={name:e,order:t?parseInt(t,10):null},GDe(e),Pe.debug("in createBranch");else{let r=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw r.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},r}},"branch"),JFt=a(function(e,t,r,n){e=Gr.sanitizeText(e,ft()),t=Gr.sanitizeText(t,ft());let i=Ua[Aa[rs]],s=Ua[Aa[e]];if(rs===e){let l=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw l.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},l}else if(typeof i>"u"||!i){let l=new Error('Incorrect usage of "merge". Current branch ('+rs+")has no commits");throw l.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},l}else if(typeof Aa[e]>"u"){let l=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw l.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},l}else if(typeof s>"u"||!s){let l=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw l.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},l}else if(i===s){let l=new Error('Incorrect usage of "merge". Both branches have same head');throw l.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},l}else if(t&&typeof Ua[t]<"u"){let l=new Error('Incorrect usage of "merge". Commit with id:'+t+" already exists, use different custom Id");throw l.hash={text:"merge "+e+t+r+n,token:"merge "+e+t+r+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+t+"_UNIQUE "+r+" "+n]},l}let o={id:t||oy+"-"+oX(),message:"merged branch "+e+" into "+rs,seq:oy++,parents:[uo==null?null:uo.id,Aa[e]],branch:rs,type:X5.MERGE,customType:r,customId:!!t,tag:n||""};uo=o,Ua[o.id]=o,Aa[rs]=o.id,Pe.debug(Aa),Pe.debug("in mergeBranch")},"merge"),ZFt=a(function(e,t,r){if(Pe.debug("Entering cherryPick:",e,t,r),e=Gr.sanitizeText(e,ft()),t=Gr.sanitizeText(t,ft()),r=Gr.sanitizeText(r,ft()),!e||typeof Ua[e]>"u"){let s=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw s.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}let n=Ua[e],i=n.branch;if(n.type===X5.MERGE){let s=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw s.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}if(!t||typeof Ua[t]>"u"){if(i===rs){let l=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw l.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},l}let s=Ua[Aa[rs]];if(typeof s>"u"||!s){let l=new Error('Incorrect usage of "cherry-pick". Current branch ('+rs+")has no commits");throw l.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},l}let o={id:oy+"-"+oX(),message:"cherry-picked "+n+" into "+rs,seq:oy++,parents:[uo==null?null:uo.id,n.id],branch:rs,type:X5.CHERRY_PICK,tag:r??"cherry-pick:"+n.id};uo=o,Ua[o.id]=o,Aa[rs]=o.id,Pe.debug(Aa),Pe.debug("in cherryPick")}},"cherryPick"),GDe=a(function(e){if(e=Gr.sanitizeText(e,ft()),typeof Aa[e]>"u"){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}else{rs=e;let t=Aa[rs];uo=Ua[t]}},"checkout");function gRe(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}a(gRe,"upsert");function KDe(e){let t=e.reduce((i,s)=>i.seq>s.seq?i:s,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in Aa)Aa[i]===t.id&&n.push(i);if(Pe.debug(n.join(" ")),t.parents&&t.parents.length==2){let i=Ua[t.parents[0]];gRe(e,t,i),e.push(Ua[t.parents[1]])}else{if(t.parents.length==0)return;{let i=Ua[t.parents];gRe(e,t,i)}}e=VFt(e,i=>i.id),KDe(e)}a(KDe,"prettyPrintCommitHistory");var eUt=a(function(){Pe.debug(Ua);let e=$De()[0];KDe([e])},"prettyPrint"),tUt=a(function(){Ua={},uo=null;let e=ft().gitGraph.mainBranchName,t=ft().gitGraph.mainBranchOrder;Aa={},Aa[e]=null,$5={},$5[e]={name:e,order:t},rs=e,oy=0,eu()},"clear$f"),rUt=a(function(){return Object.values($5).map((t,r)=>t.order!==null?t:{...t,order:parseFloat(`0.${r}`,10)}).sort((t,r)=>t.order-r.order).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),nUt=a(function(){return Aa},"getBranches"),iUt=a(function(){return Ua},"getCommits"),$De=a(function(){let e=Object.keys(Ua).map(function(t){return Ua[t]});return e.forEach(function(t){Pe.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),aUt=a(function(){return rs},"getCurrentBranch"),sUt=a(function(){return VDe},"getDirection$3"),oUt=a(function(){return uo},"getHead"),X5={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},cUt={parseDirective:WFt,getConfig:()=>ft().gitGraph,setDirection:jFt,setOptions:GFt,getOptions:KFt,commit:$Ft,branch:XFt,merge:JFt,cherryPick:ZFt,checkout:GDe,prettyPrint:eUt,clear:tUt,getBranchesAsObjArray:rUt,getBranches:nUt,getCommits:iUt,getCommitsArray:$De,getCurrentBranch:aUt,getDirection:sUt,getHead:oUt,setAccTitle:ol,getAccTitle:tu,getAccDescription:nu,setAccDescription:ru,commitType:X5};function Oo(e,t,r){if(typeof t.insert>"u")return;let n=e.getAccTitle(),i=e.getAccDescription();t.attr("role","img").attr("aria-labelledby","chart-title-"+r+" chart-desc-"+r),t.insert("desc",":first-child").attr("id","chart-desc-"+r).text(i),t.insert("title",":first-child").attr("id","chart-title-"+r).text(n)}a(Oo,"addSVGAccessibilityFields");var q5={},gc={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},iy=8,Bo={},RM={},Y5=[],LM=0,lUt=a(()=>{Bo={},RM={},q5={},LM=0,Y5=[]},"clear$e"),uUt=a(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text"),r=[];typeof e=="string"?r=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?r=e:r=[];for(let n=0;n<r.length;n++){let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r[n].trim(),t.appendChild(i)}return t},"drawText$3"),yRe=a((e,t,r)=>{let n=wv().gitGraph,i=e.append("g").attr("class","commit-bullets"),s=e.append("g").attr("class","commit-labels"),o=0;Object.keys(t).sort((f,h)=>t[f].seq-t[h].seq).forEach(f=>{let h=t[f],p=Bo[h.branch].pos,g=o+10;if(r){let y,E=typeof h.customType<"u"&&h.customType!==""?h.customType:h.type;switch(E){case gc.NORMAL:y="commit-normal";break;case gc.REVERSE:y="commit-reverse";break;case gc.HIGHLIGHT:y="commit-highlight";break;case gc.MERGE:y="commit-merge";break;case gc.CHERRY_PICK:y="commit-cherry-pick";break;default:y="commit-normal"}if(E===gc.HIGHLIGHT){let M=i.append("rect");M.attr("x",g-10),M.attr("y",p-10),M.attr("height",20),M.attr("width",20),M.attr("class",`commit ${h.id} commit-highlight${Bo[h.branch].index%iy} ${y}-outer`),i.append("rect").attr("x",g-6).attr("y",p-6).attr("height",12).attr("width",12).attr("class",`commit ${h.id} commit${Bo[h.branch].index%iy} ${y}-inner`)}else if(E===gc.CHERRY_PICK)i.append("circle").attr("cx",g).attr("cy",p).attr("r",10).attr("class",`commit ${h.id} ${y}`),i.append("circle").attr("cx",g-3).attr("cy",p+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${y}`),i.append("circle").attr("cx",g+3).attr("cy",p+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${y}`),i.append("line").attr("x1",g+3).attr("y1",p+1).attr("x2",g).attr("y2",p-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${y}`),i.append("line").attr("x1",g-3).attr("y1",p+1).attr("x2",g).attr("y2",p-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${y}`);else{let M=i.append("circle");if(M.attr("cx",g),M.attr("cy",p),M.attr("r",h.type===gc.MERGE?9:10),M.attr("class",`commit ${h.id} commit${Bo[h.branch].index%iy}`),E===gc.MERGE){let z=i.append("circle");z.attr("cx",g),z.attr("cy",p),z.attr("r",6),z.attr("class",`commit ${y} ${h.id} commit${Bo[h.branch].index%iy}`)}E===gc.REVERSE&&i.append("path").attr("d",`M ${g-5},${p-5}L${g+5},${p+5}M${g-5},${p+5}L${g+5},${p-5}`).attr("class",`commit ${y} ${h.id} commit${Bo[h.branch].index%iy}`)}}if(RM[h.id]={x:o+10,y:p},r){if(h.type!==gc.CHERRY_PICK&&(h.customId&&h.type===gc.MERGE||h.type!==gc.MERGE)&&n.showCommitLabel){let M=s.append("g"),z=M.insert("rect").attr("class","commit-label-bkg"),P=M.append("text").attr("x",o).attr("y",p+25).attr("class","commit-label").text(h.id),Q=P.node().getBBox();if(z.attr("x",o+10-Q.width/2-2).attr("y",p+13.5).attr("width",Q.width+2*2).attr("height",Q.height+2*2),P.attr("x",o+10-Q.width/2),n.rotateCommitLabel){let V=-7.5-(Q.width+10)/25*9.5,W=10+Q.width/25*8.5;M.attr("transform","translate("+V+", "+W+") rotate("+-45+", "+o+", "+p+")")}}if(h.tag){let M=s.insert("polygon"),z=s.append("circle"),P=s.append("text").attr("y",p-16).attr("class","tag-label").text(h.tag),Q=P.node().getBBox();P.attr("x",o+10-Q.width/2);let V=Q.height/2,W=p-19.2;M.attr("class","tag-label-bkg").attr("points",`
          ${o-Q.width/2-4/2},${W+2}
          ${o-Q.width/2-4/2},${W-2}
          ${o+10-Q.width/2-4},${W-V-2}
          ${o+10+Q.width/2+4},${W-V-2}
          ${o+10+Q.width/2+4},${W+V+2}
          ${o+10-Q.width/2-4},${W+V+2}`),z.attr("cx",o-Q.width/2+4/2).attr("cy",W).attr("r",1.5).attr("class","tag-hole")}}o+=50,o>LM&&(LM=o)})},"drawCommits"),fUt=a((e,t,r)=>Object.keys(r).filter(s=>r[s].branch===t.branch&&r[s].seq>e.seq&&r[s].seq<t.seq).length>0,"hasOverlappingCommits"),k$=a((e,t,r)=>{let n=r||0,i=e+Math.abs(e-t)/2;if(n>5)return i;let s=!0;for(let l=0;l<Y5.length;l++)Math.abs(Y5[l]-i)<10&&(s=!1);if(s)return Y5.push(i),i;let o=Math.abs(e-t);return k$(e,t-o/5,n+1)},"findLane"),hUt=a((e,t,r,n)=>{let i=RM[t.id],s=RM[r.id],o=fUt(t,r,n),l="",u="",f=0,h=0,p=Bo[r.branch].index,g;if(o){l="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",f=10,h=10,p=Bo[r.branch].index;let y=i.y<s.y?k$(i.y,s.y):k$(s.y,i.y);i.y<s.y?g=`M ${i.x} ${i.y} L ${i.x} ${y-f} ${l} ${i.x+h} ${y} L ${s.x-f} ${y} ${u} ${s.x} ${y+h} L ${s.x} ${s.y}`:g=`M ${i.x} ${i.y} L ${i.x} ${y+f} ${u} ${i.x+h} ${y} L ${s.x-f} ${y} ${l} ${s.x} ${y-h} L ${s.x} ${s.y}`}else i.y<s.y&&(l="A 20 20, 0, 0, 0,",f=20,h=20,p=Bo[r.branch].index,g=`M ${i.x} ${i.y} L ${i.x} ${s.y-f} ${l} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(l="A 20 20, 0, 0, 0,",f=20,h=20,p=Bo[t.branch].index,g=`M ${i.x} ${i.y} L ${s.x-f} ${i.y} ${l} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.y===s.y&&(p=Bo[t.branch].index,g=`M ${i.x} ${i.y} L ${i.x} ${s.y-f} ${l} ${i.x+h} ${s.y} L ${s.x} ${s.y}`);e.append("path").attr("d",g).attr("class","arrow arrow"+p%iy)},"drawArrow"),dUt=a((e,t)=>{let r=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(n=>{let i=t[n];i.parents&&i.parents.length>0&&i.parents.forEach(s=>{hUt(r,t[s],i,t)})})},"drawArrows"),pUt=a((e,t)=>{let r=wv().gitGraph,n=e.append("g");t.forEach((i,s)=>{let o=s%iy,l=Bo[i.name].pos,u=n.append("line");u.attr("x1",0),u.attr("y1",l),u.attr("x2",LM),u.attr("y2",l),u.attr("class","branch branch"+o),Y5.push(l);let f=i.name,h=uUt(f),p=n.insert("rect"),y=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);y.node().appendChild(h);let E=h.getBBox();p.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-E.width-4-(r.rotateCommitLabel===!0?30:0)).attr("y",-E.height/2+8).attr("width",E.width+18).attr("height",E.height+4),y.attr("transform","translate("+(-E.width-14-(r.rotateCommitLabel===!0?30:0))+", "+(l-E.height/2-1)+")"),p.attr("transform","translate("+-19+", "+(l-E.height/2)+")")})},"drawBranches"),gUt=a(function(e,t,r,n){lUt();let i=wv(),s=wv().gitGraph;Pe.debug("in gitgraph renderer",e+`
`,"id:",t,r),q5=n.db.getCommits();let o=n.db.getBranchesAsObjArray(),l=0;o.forEach((f,h)=>{Bo[f.name]={pos:l,index:h},l+=50+(s.rotateCommitLabel?40:0)});let u=Zt(`[id="${t}"]`);Oo(n.db,u,t),yRe(u,q5,!1),s.showBranches&&pUt(u,o),dUt(u,q5),yRe(u,q5,!0),QDe(void 0,u,s.diagramPadding,i.useMaxWidth)},"draw$f"),yUt={draw:gUt},mUt=a(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`,"getStyles"),J5=function(){var e=a(function(tt,Ve,et,gt){for(et=et||{},gt=tt.length;gt--;et[tt[gt]]=Ve);return et},"o"),t=[1,6],r=[1,7],n=[1,8],i=[1,9],s=[1,16],o=[1,11],l=[1,12],u=[1,13],f=[1,14],h=[1,15],p=[1,27],g=[1,33],y=[1,34],E=[1,35],M=[1,36],z=[1,37],P=[1,72],Q=[1,73],V=[1,74],W=[1,75],F=[1,76],B=[1,77],S=[1,78],T=[1,38],k=[1,39],R=[1,40],x=[1,41],N=[1,42],m=[1,43],v=[1,44],A=[1,45],U=[1,46],G=[1,47],K=[1,48],Z=[1,49],O=[1,50],$=[1,51],L=[1,52],ee=[1,53],ve=[1,54],ye=[1,55],se=[1,56],be=[1,57],Y=[1,59],D=[1,60],J=[1,61],q=[1,62],I=[1,63],H=[1,64],te=[1,65],ie=[1,66],he=[1,67],De=[1,68],$e=[1,69],ze=[24,52],Qe=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],je=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],We=[1,94],Ce=[1,95],Te=[1,96],Je=[1,97],rt=[15,24,52],ge=[7,8,9,10,18,22,25,26,27,28],xe=[15,24,43,52],qe=[15,24,43,52,86,87,89,90],ot=[15,43],at=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],pe={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:a(function(Ve,et,gt,lt,zt,it,Wt){var bt=it.length-1;switch(zt){case 4:lt.setDirection("TB");break;case 5:lt.setDirection("BT");break;case 6:lt.setDirection("RL");break;case 7:lt.setDirection("LR");break;case 11:lt.parseDirective("%%{","open_directive");break;case 12:break;case 13:it[bt]=it[bt].trim().replace(/'/g,'"'),lt.parseDirective(it[bt],"arg_directive");break;case 14:lt.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:lt.setC4Type(it[bt-3]);break;case 26:lt.setTitle(it[bt].substring(6)),this.$=it[bt].substring(6);break;case 27:lt.setAccDescription(it[bt].substring(15)),this.$=it[bt].substring(15);break;case 28:this.$=it[bt].trim(),lt.setTitle(this.$);break;case 29:case 30:this.$=it[bt].trim(),lt.setAccDescription(this.$);break;case 35:case 36:it[bt].splice(2,0,"ENTERPRISE"),lt.addPersonOrSystemBoundary(...it[bt]),this.$=it[bt];break;case 37:lt.addPersonOrSystemBoundary(...it[bt]),this.$=it[bt];break;case 38:it[bt].splice(2,0,"CONTAINER"),lt.addContainerBoundary(...it[bt]),this.$=it[bt];break;case 39:lt.addDeploymentNode("node",...it[bt]),this.$=it[bt];break;case 40:lt.addDeploymentNode("nodeL",...it[bt]),this.$=it[bt];break;case 41:lt.addDeploymentNode("nodeR",...it[bt]),this.$=it[bt];break;case 42:lt.popBoundaryParseStack();break;case 46:lt.addPersonOrSystem("person",...it[bt]),this.$=it[bt];break;case 47:lt.addPersonOrSystem("external_person",...it[bt]),this.$=it[bt];break;case 48:lt.addPersonOrSystem("system",...it[bt]),this.$=it[bt];break;case 49:lt.addPersonOrSystem("system_db",...it[bt]),this.$=it[bt];break;case 50:lt.addPersonOrSystem("system_queue",...it[bt]),this.$=it[bt];break;case 51:lt.addPersonOrSystem("external_system",...it[bt]),this.$=it[bt];break;case 52:lt.addPersonOrSystem("external_system_db",...it[bt]),this.$=it[bt];break;case 53:lt.addPersonOrSystem("external_system_queue",...it[bt]),this.$=it[bt];break;case 54:lt.addContainer("container",...it[bt]),this.$=it[bt];break;case 55:lt.addContainer("container_db",...it[bt]),this.$=it[bt];break;case 56:lt.addContainer("container_queue",...it[bt]),this.$=it[bt];break;case 57:lt.addContainer("external_container",...it[bt]),this.$=it[bt];break;case 58:lt.addContainer("external_container_db",...it[bt]),this.$=it[bt];break;case 59:lt.addContainer("external_container_queue",...it[bt]),this.$=it[bt];break;case 60:lt.addComponent("component",...it[bt]),this.$=it[bt];break;case 61:lt.addComponent("component_db",...it[bt]),this.$=it[bt];break;case 62:lt.addComponent("component_queue",...it[bt]),this.$=it[bt];break;case 63:lt.addComponent("external_component",...it[bt]),this.$=it[bt];break;case 64:lt.addComponent("external_component_db",...it[bt]),this.$=it[bt];break;case 65:lt.addComponent("external_component_queue",...it[bt]),this.$=it[bt];break;case 67:lt.addRel("rel",...it[bt]),this.$=it[bt];break;case 68:lt.addRel("birel",...it[bt]),this.$=it[bt];break;case 69:lt.addRel("rel_u",...it[bt]),this.$=it[bt];break;case 70:lt.addRel("rel_d",...it[bt]),this.$=it[bt];break;case 71:lt.addRel("rel_l",...it[bt]),this.$=it[bt];break;case 72:lt.addRel("rel_r",...it[bt]),this.$=it[bt];break;case 73:lt.addRel("rel_b",...it[bt]),this.$=it[bt];break;case 74:it[bt].splice(0,1),lt.addRel("rel",...it[bt]),this.$=it[bt];break;case 75:lt.updateElStyle("update_el_style",...it[bt]),this.$=it[bt];break;case 76:lt.updateRelStyle("update_rel_style",...it[bt]),this.$=it[bt];break;case 77:lt.updateLayoutConfig("update_layout_config",...it[bt]),this.$=it[bt];break;case 78:this.$=[it[bt]];break;case 79:it[bt].unshift(it[bt-1]),this.$=it[bt];break;case 80:case 82:this.$=it[bt].trim();break;case 81:let Se={};Se[it[bt-1].trim()]=it[bt].trim(),this.$=Se;break;case 83:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:t,8:r,9:n,10:i,11:5,12:10,18:s,22:o,25:l,26:u,27:f,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:t,8:r,9:n,10:i,11:5,12:10,18:s,22:o,25:l,26:u,27:f,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:p},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:79,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:80,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:81,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{23:82,29:29,30:30,31:31,32:g,33:y,34:E,36:M,38:z,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(ze,[2,20],{53:32,39:58,40:70,42:71,30:87,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e}),e(ze,[2,21]),e(Qe,[2,23],{15:[1,88]}),e(ze,[2,43],{15:[1,89]}),e(je,[2,26]),e(je,[2,27]),{35:[1,90]},{37:[1,91]},e(je,[2,30]),{45:92,85:93,86:We,87:Ce,89:Te,90:Je},{45:98,85:93,86:We,87:Ce,89:Te,90:Je},{45:99,85:93,86:We,87:Ce,89:Te,90:Je},{45:100,85:93,86:We,87:Ce,89:Te,90:Je},{45:101,85:93,86:We,87:Ce,89:Te,90:Je},{45:102,85:93,86:We,87:Ce,89:Te,90:Je},{45:103,85:93,86:We,87:Ce,89:Te,90:Je},{45:104,85:93,86:We,87:Ce,89:Te,90:Je},{45:105,85:93,86:We,87:Ce,89:Te,90:Je},{45:106,85:93,86:We,87:Ce,89:Te,90:Je},{45:107,85:93,86:We,87:Ce,89:Te,90:Je},{45:108,85:93,86:We,87:Ce,89:Te,90:Je},{45:109,85:93,86:We,87:Ce,89:Te,90:Je},{45:110,85:93,86:We,87:Ce,89:Te,90:Je},{45:111,85:93,86:We,87:Ce,89:Te,90:Je},{45:112,85:93,86:We,87:Ce,89:Te,90:Je},{45:113,85:93,86:We,87:Ce,89:Te,90:Je},{45:114,85:93,86:We,87:Ce,89:Te,90:Je},{45:115,85:93,86:We,87:Ce,89:Te,90:Je},{45:116,85:93,86:We,87:Ce,89:Te,90:Je},e(rt,[2,66]),{45:117,85:93,86:We,87:Ce,89:Te,90:Je},{45:118,85:93,86:We,87:Ce,89:Te,90:Je},{45:119,85:93,86:We,87:Ce,89:Te,90:Je},{45:120,85:93,86:We,87:Ce,89:Te,90:Je},{45:121,85:93,86:We,87:Ce,89:Te,90:Je},{45:122,85:93,86:We,87:Ce,89:Te,90:Je},{45:123,85:93,86:We,87:Ce,89:Te,90:Je},{45:124,85:93,86:We,87:Ce,89:Te,90:Je},{45:125,85:93,86:We,87:Ce,89:Te,90:Je},{45:126,85:93,86:We,87:Ce,89:Te,90:Je},{45:127,85:93,86:We,87:Ce,89:Te,90:Je},{30:128,39:58,40:70,42:71,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,53:32,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e},{15:[1,130],43:[1,129]},{45:131,85:93,86:We,87:Ce,89:Te,90:Je},{45:132,85:93,86:We,87:Ce,89:Te,90:Je},{45:133,85:93,86:We,87:Ce,89:Te,90:Je},{45:134,85:93,86:We,87:Ce,89:Te,90:Je},{45:135,85:93,86:We,87:Ce,89:Te,90:Je},{45:136,85:93,86:We,87:Ce,89:Te,90:Je},{45:137,85:93,86:We,87:Ce,89:Te,90:Je},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(ge,[2,9]),{14:142,21:p},{21:[2,13]},{1:[2,15]},e(ze,[2,22]),e(Qe,[2,24],{31:31,29:143,32:g,33:y,34:E,36:M,38:z}),e(ze,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:g,33:y,34:E,36:M,38:z,44:P,46:Q,47:V,48:W,49:F,50:B,51:S,54:T,55:k,56:R,57:x,58:N,59:m,60:v,61:A,62:U,63:G,64:K,65:Z,66:O,67:$,68:L,69:ee,70:ve,71:ye,72:se,73:be,74:Y,75:D,76:J,77:q,78:I,79:H,80:te,81:ie,82:he,83:De,84:$e}),e(je,[2,28]),e(je,[2,29]),e(rt,[2,46]),e(xe,[2,78],{85:93,45:145,86:We,87:Ce,89:Te,90:Je}),e(qe,[2,80]),{88:[1,146]},e(qe,[2,82]),e(qe,[2,83]),e(rt,[2,47]),e(rt,[2,48]),e(rt,[2,49]),e(rt,[2,50]),e(rt,[2,51]),e(rt,[2,52]),e(rt,[2,53]),e(rt,[2,54]),e(rt,[2,55]),e(rt,[2,56]),e(rt,[2,57]),e(rt,[2,58]),e(rt,[2,59]),e(rt,[2,60]),e(rt,[2,61]),e(rt,[2,62]),e(rt,[2,63]),e(rt,[2,64]),e(rt,[2,65]),e(rt,[2,67]),e(rt,[2,68]),e(rt,[2,69]),e(rt,[2,70]),e(rt,[2,71]),e(rt,[2,72]),e(rt,[2,73]),e(rt,[2,74]),e(rt,[2,75]),e(rt,[2,76]),e(rt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(ot,[2,35]),e(ot,[2,36]),e(ot,[2,37]),e(ot,[2,38]),e(ot,[2,39]),e(ot,[2,40]),e(ot,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(Qe,[2,25]),e(ze,[2,45]),e(xe,[2,79]),e(qe,[2,81]),e(rt,[2,31]),e(rt,[2,42]),e(at,[2,32]),e(at,[2,33],{15:[1,152]}),e(ge,[2,10]),e(at,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:a(function(Ve,et){if(et.recoverable)this.trace(Ve);else{var gt=new Error(Ve);throw gt.hash=et,gt}},"parseError"),parse:a(function(Ve){var et=this,gt=[0],lt=[],zt=[null],it=[],Wt=this.table,bt="",Se=0,Ie=0,le=2,_e=1,ae=it.slice.call(arguments,1),ce=Object.create(this.lexer),re={yy:{}};for(var ue in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ue)&&(re.yy[ue]=this.yy[ue]);ce.setInput(Ve,re.yy),re.yy.lexer=ce,re.yy.parser=this,typeof ce.yylloc>"u"&&(ce.yylloc={});var me=ce.yylloc;it.push(me);var Ae=ce.options&&ce.options.ranges;typeof re.yy.parseError=="function"?this.parseError=re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Oe(){var pr;return pr=lt.pop()||ce.lex()||_e,typeof pr!="number"&&(pr instanceof Array&&(lt=pr,pr=lt.pop()),pr=et.symbols_[pr]||pr),pr}a(Oe,"lex");for(var Ge,ke,st,yt,pt={},wt,Gt,Pt,tr;;){if(ke=gt[gt.length-1],this.defaultActions[ke]?st=this.defaultActions[ke]:((Ge===null||typeof Ge>"u")&&(Ge=Oe()),st=Wt[ke]&&Wt[ke][Ge]),typeof st>"u"||!st.length||!st[0]){var cr="";tr=[];for(wt in Wt[ke])this.terminals_[wt]&&wt>le&&tr.push("'"+this.terminals_[wt]+"'");ce.showPosition?cr="Parse error on line "+(Se+1)+`:
`+ce.showPosition()+`
Expecting `+tr.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":cr="Parse error on line "+(Se+1)+": Unexpected "+(Ge==_e?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(cr,{text:ce.match,token:this.terminals_[Ge]||Ge,line:ce.yylineno,loc:me,expected:tr})}if(st[0]instanceof Array&&st.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ke+", token: "+Ge);switch(st[0]){case 1:gt.push(Ge),zt.push(ce.yytext),it.push(ce.yylloc),gt.push(st[1]),Ge=null,Ie=ce.yyleng,bt=ce.yytext,Se=ce.yylineno,me=ce.yylloc;break;case 2:if(Gt=this.productions_[st[1]][1],pt.$=zt[zt.length-Gt],pt._$={first_line:it[it.length-(Gt||1)].first_line,last_line:it[it.length-1].last_line,first_column:it[it.length-(Gt||1)].first_column,last_column:it[it.length-1].last_column},Ae&&(pt._$.range=[it[it.length-(Gt||1)].range[0],it[it.length-1].range[1]]),yt=this.performAction.apply(pt,[bt,Ie,Se,re.yy,st[1],zt,it].concat(ae)),typeof yt<"u")return yt;Gt&&(gt=gt.slice(0,-1*Gt*2),zt=zt.slice(0,-1*Gt),it=it.slice(0,-1*Gt)),gt.push(this.productions_[st[1]][0]),zt.push(pt.$),it.push(pt._$),Pt=Wt[gt[gt.length-2]][gt[gt.length-1]],gt.push(Pt);break;case 3:return!0}}return!0},"parse2")},Re=function(){var tt={EOF:1,parseError:a(function(et,gt){if(this.yy.parser)this.yy.parser.parseError(et,gt);else throw new Error(et)},"parseError"),setInput:function(Ve,et){return this.yy=et||this.yy||{},this._input=Ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ve=this._input[0];this.yytext+=Ve,this.yyleng++,this.offset++,this.match+=Ve,this.matched+=Ve;var et=Ve.match(/(?:\r\n?|\n).*/g);return et?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ve},unput:function(Ve){var et=Ve.length,gt=Ve.split(/(?:\r\n?|\n)/g);this._input=Ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-et),this.offset-=et;var lt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gt.length-1&&(this.yylineno-=gt.length-1);var zt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gt?(gt.length===lt.length?this.yylloc.first_column:0)+lt[lt.length-gt.length].length-gt[0].length:this.yylloc.first_column-et},this.options.ranges&&(this.yylloc.range=[zt[0],zt[0]+this.yyleng-et]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ve){this.unput(this.match.slice(Ve))},pastInput:function(){var Ve=this.matched.substr(0,this.matched.length-this.match.length);return(Ve.length>20?"...":"")+Ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ve=this.match;return Ve.length<20&&(Ve+=this._input.substr(0,20-Ve.length)),(Ve.substr(0,20)+(Ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ve=this.pastInput(),et=new Array(Ve.length+1).join("-");return Ve+this.upcomingInput()+`
`+et+"^"},test_match:function(Ve,et){var gt,lt,zt;if(this.options.backtrack_lexer&&(zt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(zt.yylloc.range=this.yylloc.range.slice(0))),lt=Ve[0].match(/(?:\r\n?|\n).*/g),lt&&(this.yylineno+=lt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lt?lt[lt.length-1].length-lt[lt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ve[0].length},this.yytext+=Ve[0],this.match+=Ve[0],this.matches=Ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ve[0].length),this.matched+=Ve[0],gt=this.performAction.call(this,this.yy,this,et,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gt)return gt;if(this._backtrack){for(var it in zt)this[it]=zt[it];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ve,et,gt,lt;this._more||(this.yytext="",this.match="");for(var zt=this._currentRules(),it=0;it<zt.length;it++)if(gt=this._input.match(this.rules[zt[it]]),gt&&(!et||gt[0].length>et[0].length)){if(et=gt,lt=it,this.options.backtrack_lexer){if(Ve=this.test_match(gt,zt[it]),Ve!==!1)return Ve;if(this._backtrack){et=!1;continue}else return!1}else if(!this.options.flex)break}return et?(Ve=this.test_match(et,zt[lt]),Ve!==!1?Ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var et=this.next();return et||this.lex()},"lex"),begin:a(function(et){this.conditionStack.push(et)},"begin"),popState:a(function(){var et=this.conditionStack.length-1;return et>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(et){return et=this.conditionStack.length-1-Math.abs(et||0),et>=0?this.conditionStack[et]:"INITIAL"},"topState"),pushState:a(function(et){this.begin(et)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(et,gt,lt,zt){switch(lt){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return tt}();pe.lexer=Re;function He(){this.yy={}}return a(He,"Parser"),He.prototype=pe,pe.Parser=He,new He}();J5.parser=J5;var bUt=a(e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null,"c4Detector"),Jl=[],fp=[""],fo="global",$l="",mf=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Z5=[],cX="",lX=!1,DM=4,NM=2,XDe,vUt=a(function(){return XDe},"getC4Type"),_Ut=a(function(e){XDe=Xl(e,ft())},"setC4Type"),xUt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$a"),wUt=a(function(e,t,r,n,i,s,o,l,u){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let f={},h=Z5.find(p=>p.from===t&&p.to===r);if(h?f=h:Z5.push(f),f.type=e,f.from=t,f.to=r,f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[p,g]=Object.entries(i)[0];f[p]={text:g}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[p,g]=Object.entries(s)[0];f[p]={text:g}}else f.descr={text:s};if(typeof o=="object"){let[p,g]=Object.entries(o)[0];f[p]=g}else f.sprite=o;if(typeof l=="object"){let[p,g]=Object.entries(l)[0];f[p]=g}else f.tags=l;if(typeof u=="object"){let[p,g]=Object.entries(u)[0];f[p]=g}else f.link=u;f.wrap=gp()},"addRel"),AUt=a(function(e,t,r,n,i,s,o){if(t===null||r===null)return;let l={},u=Jl.find(f=>f.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Jl.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.descr={text:""};else if(typeof n=="object"){let[f,h]=Object.entries(n)[0];l[f]={text:h}}else l.descr={text:n};if(typeof i=="object"){let[f,h]=Object.entries(i)[0];l[f]=h}else l.sprite=i;if(typeof s=="object"){let[f,h]=Object.entries(s)[0];l[f]=h}else l.tags=s;if(typeof o=="object"){let[f,h]=Object.entries(o)[0];l[f]=h}else l.link=o;l.typeC4Shape={text:e},l.parentBoundary=fo,l.wrap=gp()},"addPersonOrSystem"),EUt=a(function(e,t,r,n,i,s,o,l){if(t===null||r===null)return;let u={},f=Jl.find(h=>h.alias===t);if(f&&t===f.alias?u=f:(u.alias=t,Jl.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];u[h]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];u[h]={text:p}}else u.descr={text:i};if(typeof s=="object"){let[h,p]=Object.entries(s)[0];u[h]=p}else u.sprite=s;if(typeof o=="object"){let[h,p]=Object.entries(o)[0];u[h]=p}else u.tags=o;if(typeof l=="object"){let[h,p]=Object.entries(l)[0];u[h]=p}else u.link=l;u.wrap=gp(),u.typeC4Shape={text:e},u.parentBoundary=fo},"addContainer"),SUt=a(function(e,t,r,n,i,s,o,l){if(t===null||r===null)return;let u={},f=Jl.find(h=>h.alias===t);if(f&&t===f.alias?u=f:(u.alias=t,Jl.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];u[h]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];u[h]={text:p}}else u.descr={text:i};if(typeof s=="object"){let[h,p]=Object.entries(s)[0];u[h]=p}else u.sprite=s;if(typeof o=="object"){let[h,p]=Object.entries(o)[0];u[h]=p}else u.tags=o;if(typeof l=="object"){let[h,p]=Object.entries(l)[0];u[h]=p}else u.link=l;u.wrap=gp(),u.typeC4Shape={text:e},u.parentBoundary=fo},"addComponent"),kUt=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=mf.find(l=>l.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,mf.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"system"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];s[l]={text:u}}else s.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];s[l]=u}else s.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];s[l]=u}else s.link=i;s.parentBoundary=fo,s.wrap=gp(),$l=fo,fo=e,fp.push($l)},"addPersonOrSystemBoundary"),CUt=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=mf.find(l=>l.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,mf.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"container"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];s[l]={text:u}}else s.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];s[l]=u}else s.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];s[l]=u}else s.link=i;s.parentBoundary=fo,s.wrap=gp(),$l=fo,fo=e,fp.push($l)},"addContainerBoundary"),IUt=a(function(e,t,r,n,i,s,o,l){if(t===null||r===null)return;let u={},f=mf.find(h=>h.alias===t);if(f&&t===f.alias?u=f:(u.alias=t,mf.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.type={text:"node"};else if(typeof n=="object"){let[h,p]=Object.entries(n)[0];u[h]={text:p}}else u.type={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[h,p]=Object.entries(i)[0];u[h]={text:p}}else u.descr={text:i};if(typeof o=="object"){let[h,p]=Object.entries(o)[0];u[h]=p}else u.tags=o;if(typeof l=="object"){let[h,p]=Object.entries(l)[0];u[h]=p}else u.link=l;u.nodeType=e,u.parentBoundary=fo,u.wrap=gp(),$l=fo,fo=t,fp.push($l)},"addDeploymentNode"),TUt=a(function(){fo=$l,fp.pop(),$l=fp.pop(),fp.push($l)},"popBoundaryParseStack"),MUt=a(function(e,t,r,n,i,s,o,l,u,f,h){let p=Jl.find(g=>g.alias===t);if(!(p===void 0&&(p=mf.find(g=>g.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[g,y]=Object.entries(r)[0];p[g]=y}else p.bgColor=r;if(n!=null)if(typeof n=="object"){let[g,y]=Object.entries(n)[0];p[g]=y}else p.fontColor=n;if(i!=null)if(typeof i=="object"){let[g,y]=Object.entries(i)[0];p[g]=y}else p.borderColor=i;if(s!=null)if(typeof s=="object"){let[g,y]=Object.entries(s)[0];p[g]=y}else p.shadowing=s;if(o!=null)if(typeof o=="object"){let[g,y]=Object.entries(o)[0];p[g]=y}else p.shape=o;if(l!=null)if(typeof l=="object"){let[g,y]=Object.entries(l)[0];p[g]=y}else p.sprite=l;if(u!=null)if(typeof u=="object"){let[g,y]=Object.entries(u)[0];p[g]=y}else p.techn=u;if(f!=null)if(typeof f=="object"){let[g,y]=Object.entries(f)[0];p[g]=y}else p.legendText=f;if(h!=null)if(typeof h=="object"){let[g,y]=Object.entries(h)[0];p[g]=y}else p.legendSprite=h}},"updateElStyle"),BUt=a(function(e,t,r,n,i,s,o){let l=Z5.find(u=>u.from===t&&u.to===r);if(l!==void 0){if(n!=null)if(typeof n=="object"){let[u,f]=Object.entries(n)[0];l[u]=f}else l.textColor=n;if(i!=null)if(typeof i=="object"){let[u,f]=Object.entries(i)[0];l[u]=f}else l.lineColor=i;if(s!=null)if(typeof s=="object"){let[u,f]=Object.entries(s)[0];l[u]=parseInt(f)}else l.offsetX=parseInt(s);if(o!=null)if(typeof o=="object"){let[u,f]=Object.entries(o)[0];l[u]=parseInt(f)}else l.offsetY=parseInt(o)}},"updateRelStyle"),RUt=a(function(e,t,r){let n=DM,i=NM;if(typeof t=="object"){let s=Object.values(t)[0];n=parseInt(s)}else n=parseInt(t);if(typeof r=="object"){let s=Object.values(r)[0];i=parseInt(s)}else i=parseInt(r);n>=1&&(DM=n),i>=1&&(NM=i)},"updateLayoutConfig"),LUt=a(function(){return DM},"getC4ShapeInRow"),DUt=a(function(){return NM},"getC4BoundaryInRow"),NUt=a(function(){return fo},"getCurrentBoundaryParse"),OUt=a(function(){return $l},"getParentBoundaryParse"),JDe=a(function(e){return e==null?Jl:Jl.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),qUt=a(function(e){return Jl.find(t=>t.alias===e)},"getC4Shape"),PUt=a(function(e){return Object.keys(JDe(e))},"getC4ShapeKeys"),FUt=a(function(e){return e==null?mf:mf.filter(t=>t.parentBoundary===e)},"getBoundarys"),UUt=a(function(){return Z5},"getRels"),YUt=a(function(){return cX},"getTitle"),HUt=a(function(e){lX=e},"setWrap$1"),gp=a(function(){return lX},"autoWrap$1"),zUt=a(function(){Jl=[],mf=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],$l="",fo="global",fp=[""],Z5=[],fp=[""],cX="",lX=!1,DM=4,NM=2},"clear$d"),QUt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},WUt={FILLED:0,OPEN:1},VUt={LEFTOF:0,RIGHTOF:1,OVER:2},jUt=a(function(e){cX=Xl(e,ft())},"setTitle"),ZDe={addPersonOrSystem:AUt,addPersonOrSystemBoundary:kUt,addContainer:EUt,addContainerBoundary:CUt,addComponent:SUt,addDeploymentNode:IUt,popBoundaryParseStack:TUt,addRel:wUt,updateElStyle:MUt,updateRelStyle:BUt,updateLayoutConfig:RUt,autoWrap:gp,setWrap:HUt,getC4ShapeArray:JDe,getC4Shape:qUt,getC4ShapeKeys:PUt,getBoundarys:FUt,getCurrentBoundaryParse:NUt,getParentBoundaryParse:OUt,getRels:UUt,getTitle:YUt,getC4Type:vUt,getC4ShapeInRow:LUt,getC4BoundaryInRow:DUt,setAccTitle:ol,getAccTitle:tu,getAccDescription:nu,setAccDescription:ru,parseDirective:xUt,getConfig:()=>ft().c4,clear:zUt,LINETYPE:QUt,ARROWTYPE:WUt,PLACEMENT:VUt,setTitle:jUt,setC4Type:_Ut},uX=a(function(e,t){let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.attrs!=="undefined"&&t.attrs!==null)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class!=="undefined"&&r.attr("class",t.class),r},"drawRect$2"),eNe=a(function(e,t,r,n,i,s){let o=e.append("image");o.attr("width",t),o.attr("height",r),o.attr("x",n),o.attr("y",i);let l=s.startsWith("data:image/png;base64")?s:(0,vf.sanitizeUrl)(s);o.attr("xlink:href",l)},"drawImage$1"),GUt=a(function(e,t,r,n){let i=e.append("use");i.attr("x",t),i.attr("y",r);var s=(0,vf.sanitizeUrl)(n);i.attr("xlink:href","#"+s)},"drawEmbeddedImage$1"),tNe=a(function(e,t){let r=0,n=0,i=t.text.split(Gr.lineBreakRegex),s=[],o=0,l=a(()=>t.y,"yfunc");if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":l=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":l=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":l=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="text-after-edge",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="text-before-edge",t.alignmentBaseline="middle";break}for(let u=0;u<i.length;u++){let f=i[u];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(o=u*t.fontSize);let h=e.append("text");if(h.attr("x",t.x),h.attr("y",l()),typeof t.anchor<"u"&&h.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&h.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&h.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&h.style("font-weight",t.fontWeight),typeof t.fill<"u"&&h.attr("fill",t.fill),typeof t.class<"u"&&h.attr("class",t.class),typeof t.dy<"u"?h.attr("dy",t.dy):o!==0&&h.attr("dy",o),t.tspan){let p=h.append("tspan");p.attr("x",t.x),typeof t.fill<"u"&&p.attr("fill",t.fill),p.text(f)}else h.text(f);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(h._groups||h)[0][0].getBBox().height,r=n),s.push(h)}return s},"drawText$2"),KUt=a(function(e,t){function r(i,s,o,l,u){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+l-u)+" "+(i+o-u*1.2)+","+(s+l)+" "+i+","+(s+l)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,tNe(e,t),n},"drawLabel$2"),$Ut=a((e,t,r)=>{let n=e.append("g"),i=0;for(let s of t){let o=s.textColor?s.textColor:"#444444",l=s.lineColor?s.lineColor:"#444444",u=s.offsetX?parseInt(s.offsetX):0,f=s.offsetY?parseInt(s.offsetY):0,h="";if(i===0){let g=n.append("line");g.attr("x1",s.startPoint.x),g.attr("y1",s.startPoint.y),g.attr("x2",s.endPoint.x),g.attr("y2",s.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",l),g.style("fill","none"),s.type!=="rel_b"&&g.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&g.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let g=n.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",l).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&g.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&g.attr("marker-start","url("+h+"#arrowend)")}let p=r.messageFont();pd(r)(s.label.text,n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+u,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+f,s.label.width,s.label.height,{fill:o},p),s.techn&&s.techn.text!==""&&(p=r.messageFont(),pd(r)("["+s.techn.text+"]",n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+u,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+r.messageFontSize+5+f,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:o,"font-style":"italic"},p))}},"drawRels$1"),XUt=a(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",s=t.borderColor?t.borderColor:"#444444",o=t.fontColor?t.fontColor:"black",l={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(l={"stroke-width":1});let u={x:t.x,y:t.y,fill:i,stroke:s,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:l};uX(n,u);let f=r.boundaryFont();f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=o,pd(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},f),t.type&&t.type.text!==""&&(f=r.boundaryFont(),f.fontColor=o,pd(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},f)),t.descr&&t.descr.text!==""&&(f=r.boundaryFont(),f.fontSize=f.fontSize-2,f.fontColor=o,pd(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},f))},"drawBoundary$1"),JUt=a(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],s=t.fontColor?t.fontColor:"#FFFFFF",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let l=e.append("g");l.attr("class","person-man");let u=rNe();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=n,u.width=t.width,u.height=t.height,u.style="stroke:"+i+";stroke-width:0.5;",u.rx=2.5,u.ry=2.5,uX(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let f=cYt(r,t.typeC4Shape.text);switch(l.append("text").attr("fill",s).attr("font-family",f.fontFamily).attr("font-size",f.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":eNe(l,48,48,t.x+t.width/2-24,t.y+t.image.Y,o);break}let h=r[t.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,pd(r)(t.label.text,l,t.x,t.y+t.label.Y,t.width,t.height,{fill:s},h),h=r[t.typeC4Shape.text+"Font"](),h.fontColor=s,t.thchn&&t.thchn.text!==""?pd(r)(t.thchn.text,l,t.x,t.y+t.thchn.Y,t.width,t.height,{fill:s,"font-style":"italic"},h):t.type&&t.type.text!==""&&pd(r)(t.type.text,l,t.x,t.y+t.type.Y,t.width,t.height,{fill:s,"font-style":"italic"},h),t.descr&&t.descr.text!==""&&(h=r.personFont(),h.fontColor=s,pd(r)(t.descr.text,l,t.x,t.y+t.descr.Y,t.width,t.height,{fill:s},h)),t.height},"drawC4Shape"),ZUt=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon$1"),eYt=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon$1"),tYt=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon$1"),rYt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead$1"),nYt=a(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),iYt=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead$1"),aYt=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),sYt=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead$1"),oYt=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj$2"),rNe=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect$2"),cYt=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),pd=function(){function e(i,s,o,l,u,f,h){let p=s.append("text").attr("x",o+u/2).attr("y",l+f/2+5).style("text-anchor","middle").text(i);n(p,h)}a(e,"byText");function t(i,s,o,l,u,f,h,p){let{fontSize:g,fontFamily:y,fontWeight:E}=p,M=i.split(Gr.lineBreakRegex);for(let z=0;z<M.length;z++){let P=z*g-g*(M.length-1)/2,Q=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",E).style("font-family",y);Q.append("tspan").attr("dy",P).text(M[z]).attr("alignment-baseline","mathematical"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,l,u,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,l,u,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),hf={drawRect:uX,drawText:tNe,drawLabel:KUt,drawBoundary:XUt,drawC4Shape:JUt,drawRels:$Ut,drawImage:eNe,drawEmbeddedImage:GUt,insertArrowHead:rYt,insertArrowEnd:nYt,insertArrowFilledHead:iYt,insertDynamicNumber:aYt,insertArrowCrossHead:sYt,insertDatabaseIcon:ZUt,insertComputerIcon:eYt,insertClockIcon:tYt,getTextObj:oYt,getNoteRect:rNe,sanitizeUrl:vf.sanitizeUrl},OM=0,qM=0,nNe=4,C$=2;J5.yy=ZDe;var Sr={},H5=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,I$(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){typeof t[r]>"u"?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,i=this.nextData.starty+t.margin*2,s=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>nNe)&&(r=this.nextData.startx+t.margin+Sr.nextLinePaddingX,i=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},I$(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}};a(H5,"Bounds");var I$=a(function(e){Sa(Sr,e),e.fontFamily&&(Sr.personFontFamily=Sr.systemFontFamily=Sr.messageFontFamily=e.fontFamily),e.fontSize&&(Sr.personFontSize=Sr.systemFontSize=Sr.messageFontSize=e.fontSize),e.fontWeight&&(Sr.personFontWeight=Sr.systemFontWeight=Sr.messageFontWeight=e.fontWeight)},"setConf$a"),L5=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),_M=a(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),lYt=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont$1");function Gl(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=TDe(t[e].text,i,n),t[e].textLines=t[e].text.split(Gr.lineBreakRegex).length,t[e].width=i,t[e].height=E$(t[e].text,n);else{let s=t[e].text.split(Gr.lineBreakRegex);t[e].textLines=s.length;let o=0;t[e].height=0,t[e].width=0;for(let l=0;l<s.length;l++)t[e].width=Math.max(yf(s[l],n),t[e].width),o=E$(s[l],n),t[e].height=t[e].height+o}}a(Gl,"calcC4ShapeTextWH");var iNe=a(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Sr.c4ShapeMargin-35;let n=t.wrap&&Sr.wrap,i=_M(Sr);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=yf(t.label.text,i);Gl("label",t,n,i,s),hf.drawBoundary(e,t,Sr)},"drawBoundary"),aNe=a(function(e,t,r,n){let i=0;for(let s=0;s<n.length;s++){i=0;let o=r[n[s]],l=L5(Sr,o.typeC4Shape.text);switch(l.fontSize=l.fontSize-2,o.typeC4Shape.width=yf("<<"+o.typeC4Shape.text+">>",l),o.typeC4Shape.height=l.fontSize+2,o.typeC4Shape.Y=Sr.c4ShapePadding,i=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height);let u=o.wrap&&Sr.wrap,f=Sr.width-Sr.c4ShapePadding*2,h=L5(Sr,o.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Gl("label",o,u,h,f),o.label.Y=i+8,i=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let y=L5(Sr,o.typeC4Shape.text);Gl("type",o,u,y,f),o.type.Y=i+5,i=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let y=L5(Sr,o.techn.text);Gl("techn",o,u,y,f),o.techn.Y=i+5,i=o.techn.Y+o.techn.height}let p=i,g=o.label.width;if(o.descr&&o.descr.text!==""){let y=L5(Sr,o.typeC4Shape.text);Gl("descr",o,u,y,f),o.descr.Y=i+20,i=o.descr.Y+o.descr.height,g=Math.max(o.label.width,o.descr.width),p=i-o.descr.textLines*5}g=g+Sr.c4ShapePadding,o.width=Math.max(o.width||Sr.width,g,Sr.width),o.height=Math.max(o.height||Sr.height,p,Sr.height),o.margin=o.margin||Sr.c4ShapeMargin,e.insert(o),hf.drawC4Shape(t,o,Sr)}e.bumpLastMargin(Sr.c4ShapeMargin)},"drawC4ShapeArray"),co=class{constructor(t,r){this.x=t,this.y=r}};a(co,"Point");var mRe=a(function(e,t){let r=e.x,n=e.y,i=t.x,s=t.y,o=r+e.width/2,l=n+e.height/2,u=Math.abs(r-i),f=Math.abs(n-s),h=f/u,p=e.height/e.width,g=null;return n==s&&r<i?g=new co(r+e.width,l):n==s&&r>i?g=new co(r,l):r==i&&n<s?g=new co(o,n+e.height):r==i&&n>s&&(g=new co(o,n)),r>i&&n<s?p>=h?g=new co(r,l+h*e.width/2):g=new co(o-u/f*e.height/2,n+e.height):r<i&&n<s?p>=h?g=new co(r+e.width,l+h*e.width/2):g=new co(o+u/f*e.height/2,n+e.height):r<i&&n>s?p>=h?g=new co(r+e.width,l-h*e.width/2):g=new co(o+e.height/2*u/f,n):r>i&&n>s&&(p>=h?g=new co(r,l-e.width/2*h):g=new co(o-e.height/2*u/f,n)),g},"getIntersectPoint"),uYt=a(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=mRe(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=mRe(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),fYt=a(function(e,t,r,n){let i=0;for(let s of t){i=i+1;let o=s.wrap&&Sr.wrap,l=lYt(Sr);n.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let f=yf(s.label.text,l);Gl("label",s,o,l,f),s.techn&&s.techn.text!==""&&(f=yf(s.techn.text,l),Gl("techn",s,o,l,f)),s.descr&&s.descr.text!==""&&(f=yf(s.descr.text,l),Gl("descr",s,o,l,f));let h=r(s.from),p=r(s.to),g=uYt(h,p);s.startPoint=g.startPoint,s.endPoint=g.endPoint}hf.drawRels(e,t,Sr)},"drawRels");function sNe(e,t,r,n,i){let s=new H5(i);s.data.widthLimit=r.data.widthLimit/Math.min(C$,n.length);for(let o=0;o<n.length;o++){let l=n[o],u=0;l.image={width:0,height:0,Y:0},l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=u,u=l.image.Y+l.image.height);let f=l.wrap&&Sr.wrap,h=_M(Sr);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Gl("label",l,f,h,s.data.widthLimit),l.label.Y=u+8,u=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let E=_M(Sr);Gl("type",l,f,E,s.data.widthLimit),l.type.Y=u+5,u=l.type.Y+l.type.height}if(l.descr&&l.descr.text!==""){let E=_M(Sr);E.fontSize=E.fontSize-2,Gl("descr",l,f,E,s.data.widthLimit),l.descr.Y=u+20,u=l.descr.Y+l.descr.height}if(o==0||o%C$===0){let E=r.data.startx+Sr.diagramMarginX,M=r.data.stopy+Sr.diagramMarginY+u;s.setData(E,E,M,M)}else{let E=s.data.stopx!==s.data.startx?s.data.stopx+Sr.diagramMarginX:s.data.startx,M=s.data.starty;s.setData(E,E,M,M)}s.name=l.alias;let p=i.db.getC4ShapeArray(l.alias),g=i.db.getC4ShapeKeys(l.alias);g.length>0&&aNe(s,e,p,g),t=l.alias;let y=i.db.getBoundarys(t);y.length>0&&sNe(e,t,s,y,i),l.alias!=="global"&&iNe(e,l,s),r.data.stopy=Math.max(s.data.stopy+Sr.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(s.data.stopx+Sr.c4ShapeMargin,r.data.stopx),OM=Math.max(OM,r.data.stopx),qM=Math.max(qM,r.data.stopy)}}a(sNe,"drawInsideBoundary");var hYt=a(function(e,t,r,n){Sr=ft().c4;let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let o=i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body"),l=n.db;n.db.setWrap(Sr.wrap),nNe=l.getC4ShapeInRow(),C$=l.getC4BoundaryInRow(),Pe.debug(`C:${JSON.stringify(Sr,null,2)}`);let u=i==="sandbox"?o.select(`[id="${t}"]`):Zt(`[id="${t}"]`);hf.insertComputerIcon(u),hf.insertDatabaseIcon(u),hf.insertClockIcon(u);let f=new H5(n);f.setData(Sr.diagramMarginX,Sr.diagramMarginX,Sr.diagramMarginY,Sr.diagramMarginY),f.data.widthLimit=screen.availWidth,OM=Sr.diagramMarginX,qM=Sr.diagramMarginY;let h=n.db.getTitle(),p=n.db.getBoundarys("");sNe(u,"",f,p,n),hf.insertArrowHead(u),hf.insertArrowEnd(u),hf.insertArrowCrossHead(u),hf.insertArrowFilledHead(u),fYt(u,n.db.getRels(),n.db.getC4Shape,n),f.data.stopx=OM,f.data.stopy=qM;let g=f.data,E=g.stopy-g.starty+2*Sr.diagramMarginY,z=g.stopx-g.startx+2*Sr.diagramMarginX;h&&u.append("text").text(h).attr("x",(g.stopx-g.startx)/2-4*Sr.diagramMarginX).attr("y",g.starty+Sr.diagramMarginY),Zl(u,E,z,Sr.useMaxWidth);let P=h?60:0;u.attr("viewBox",g.startx-Sr.diagramMarginX+" -"+(Sr.diagramMarginY+P)+" "+z+" "+(E+P)),Oo(J5.yy,u,t),Pe.debug("models:",g)},"draw$e"),bRe={drawPersonOrSystemArray:aNe,drawBoundary:iNe,setConf:I$,draw:hYt},PM=function(){var e=a(function(Y,D,J,q){for(J=J||{},q=Y.length;q--;J[Y[q]]=D);return J},"o"),t=[1,3],r=[1,7],n=[1,8],i=[1,9],s=[1,10],o=[1,13],l=[1,12],u=[1,16,25],f=[1,20],h=[1,31],p=[1,32],g=[1,33],y=[1,35],E=[1,38],M=[1,36],z=[1,37],P=[1,39],Q=[1,40],V=[1,41],W=[1,42],F=[1,45],B=[1,46],S=[1,47],T=[1,48],k=[16,25],R=[1,62],x=[1,63],N=[1,64],m=[1,65],v=[1,66],A=[1,67],U=[1,68],G=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],K=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],Z=[5,8,9,10,11,16,19,23,25],O=[53,84,85,86,87],$=[53,61,62,84,85,86,87],L=[53,56,57,58,59,60,84,85,86,87],ee=[16,25,32],ve=[1,100],ye={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:a(function(D,J,q,I,H,te,ie){var he=te.length-1;switch(H){case 5:I.setDirection("TB");break;case 6:I.setDirection("BT");break;case 7:I.setDirection("RL");break;case 8:I.setDirection("LR");break;case 12:I.parseDirective("%%{","open_directive");break;case 13:I.parseDirective(te[he],"type_directive");break;case 14:te[he]=te[he].trim().replace(/'/g,'"'),I.parseDirective(te[he],"arg_directive");break;case 15:I.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=te[he];break;case 22:this.$=te[he-1]+te[he];break;case 23:case 24:this.$=te[he-1]+"~"+te[he];break;case 25:I.addRelation(te[he]);break;case 26:te[he-1].title=I.cleanupLabel(te[he]),I.addRelation(te[he-1]);break;case 34:this.$=te[he].trim(),I.setAccTitle(this.$);break;case 35:case 36:this.$=te[he].trim(),I.setAccDescription(this.$);break;case 37:I.addClass(te[he]);break;case 38:I.addClass(te[he-2]),I.setCssClass(te[he-2],te[he]);break;case 39:I.addClass(te[he-3]),I.addMembers(te[he-3],te[he-1]);break;case 40:I.addClass(te[he-5]),I.setCssClass(te[he-5],te[he-3]),I.addMembers(te[he-5],te[he-1]);break;case 41:I.addAnnotation(te[he],te[he-2]);break;case 42:this.$=[te[he]];break;case 43:te[he].push(te[he-1]),this.$=te[he];break;case 44:break;case 45:I.addMember(te[he-1],I.cleanupLabel(te[he]));break;case 46:break;case 47:break;case 48:this.$={id1:te[he-2],id2:te[he],relation:te[he-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:te[he-3],id2:te[he],relation:te[he-1],relationTitle1:te[he-2],relationTitle2:"none"};break;case 50:this.$={id1:te[he-3],id2:te[he],relation:te[he-2],relationTitle1:"none",relationTitle2:te[he-1]};break;case 51:this.$={id1:te[he-4],id2:te[he],relation:te[he-2],relationTitle1:te[he-3],relationTitle2:te[he-1]};break;case 52:this.$={type1:te[he-2],type2:te[he],lineType:te[he-1]};break;case 53:this.$={type1:"none",type2:te[he],lineType:te[he-1]};break;case 54:this.$={type1:te[he-1],type2:"none",lineType:te[he]};break;case 55:this.$={type1:"none",type2:"none",lineType:te[he]};break;case 56:this.$=I.relationType.AGGREGATION;break;case 57:this.$=I.relationType.EXTENSION;break;case 58:this.$=I.relationType.COMPOSITION;break;case 59:this.$=I.relationType.DEPENDENCY;break;case 60:this.$=I.relationType.LOLLIPOP;break;case 61:this.$=I.lineType.LINE;break;case 62:this.$=I.lineType.DOTTED_LINE;break;case 63:case 69:this.$=te[he-2],I.setClickEvent(te[he-1],te[he]);break;case 64:case 70:this.$=te[he-3],I.setClickEvent(te[he-2],te[he-1]),I.setTooltip(te[he-2],te[he]);break;case 65:case 73:this.$=te[he-2],I.setLink(te[he-1],te[he]);break;case 66:this.$=te[he-3],I.setLink(te[he-2],te[he-1],te[he]);break;case 67:case 75:this.$=te[he-3],I.setLink(te[he-2],te[he-1]),I.setTooltip(te[he-2],te[he]);break;case 68:case 76:this.$=te[he-4],I.setLink(te[he-3],te[he-2],te[he]),I.setTooltip(te[he-3],te[he-1]);break;case 71:this.$=te[he-3],I.setClickEvent(te[he-2],te[he-1],te[he]);break;case 72:this.$=te[he-4],I.setClickEvent(te[he-3],te[he-2],te[he-1]),I.setTooltip(te[he-3],te[he]);break;case 74:this.$=te[he-3],I.setLink(te[he-2],te[he-1],te[he]);break;case 77:I.setCssClass(te[he-1],te[he]);break}},"anonymous"),table:[{3:1,4:2,5:t,6:4,7:5,8:r,9:n,10:i,11:s,12:6,13:11,19:o,23:l},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:t,6:4,7:5,8:r,9:n,10:i,11:s,12:6,13:11,19:o,23:l},{1:[2,9]},e(u,[2,5]),e(u,[2,6]),e(u,[2,7]),e(u,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:f},e([17,22],[2,13]),{6:30,7:29,8:r,9:n,10:i,11:s,13:11,19:o,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:p,42:g,43:y,48:E,50:M,51:z,63:P,64:Q,66:V,70:W,84:F,85:B,86:S,87:T},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},e(k,[2,25],{32:[1,54]}),e(k,[2,27]),e(k,[2,28]),e(k,[2,29]),e(k,[2,30]),e(k,[2,31]),e(k,[2,32]),e(k,[2,33]),{39:[1,55]},{41:[1,56]},e(k,[2,36]),e(k,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:R,57:x,58:N,59:m,60:v,61:A,62:U}),{27:69,28:43,29:44,84:F,85:B,86:S,87:T},e(k,[2,46]),e(k,[2,47]),{28:70,84:F,85:B,86:S},{27:71,28:43,29:44,84:F,85:B,86:S,87:T},{27:72,28:43,29:44,84:F,85:B,86:S,87:T},{27:73,28:43,29:44,84:F,85:B,86:S,87:T},{53:[1,74]},e(G,[2,20],{28:43,29:44,27:75,30:[1,76],84:F,85:B,86:S,87:T}),e(G,[2,21],{30:[1,77]}),e(K,[2,91]),e(K,[2,92]),e(K,[2,93]),e([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),e(Z,[2,10]),{15:78,22:f},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:r,9:n,10:i,11:s,13:11,19:o,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:p,42:g,43:y,48:E,50:M,51:z,63:P,64:Q,66:V,70:W,84:F,85:B,86:S,87:T},e(k,[2,26]),e(k,[2,34]),e(k,[2,35]),{27:80,28:43,29:44,53:[1,81],84:F,85:B,86:S,87:T},{52:82,54:60,55:61,56:R,57:x,58:N,59:m,60:v,61:A,62:U},e(k,[2,45]),{55:83,61:A,62:U},e(O,[2,55],{54:84,56:R,57:x,58:N,59:m,60:v}),e($,[2,56]),e($,[2,57]),e($,[2,58]),e($,[2,59]),e($,[2,60]),e(L,[2,61]),e(L,[2,62]),e(k,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:F,85:B,86:S},e(G,[2,22]),e(G,[2,23]),e(G,[2,24]),{16:[1,93]},{25:[2,19]},e(ee,[2,48]),{27:94,28:43,29:44,84:F,85:B,86:S,87:T},{27:95,28:43,29:44,53:[1,96],84:F,85:B,86:S,87:T},e(O,[2,54],{54:97,56:R,57:x,58:N,59:m,60:v}),e(O,[2,53]),{28:98,84:F,85:B,86:S},{46:99,50:ve},{27:101,28:43,29:44,84:F,85:B,86:S,87:T},e(k,[2,63],{53:[1,102]}),e(k,[2,65],{53:[1,104],65:[1,103]}),e(k,[2,69],{53:[1,105],68:[1,106]}),e(k,[2,73],{53:[1,108],65:[1,107]}),e(k,[2,77]),e(Z,[2,11]),e(ee,[2,50]),e(ee,[2,49]),{27:109,28:43,29:44,84:F,85:B,86:S,87:T},e(O,[2,52]),e(k,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:ve},e(k,[2,41]),e(k,[2,64]),e(k,[2,66]),e(k,[2,67],{65:[1,113]}),e(k,[2,70]),e(k,[2,71],{53:[1,114]}),e(k,[2,74]),e(k,[2,75],{65:[1,115]}),e(ee,[2,51]),{46:116,50:ve},e(k,[2,39]),{47:[2,43]},e(k,[2,68]),e(k,[2,72]),e(k,[2,76]),{47:[1,117]},e(k,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:a(function(D,J){if(J.recoverable)this.trace(D);else{var q=new Error(D);throw q.hash=J,q}},"parseError"),parse:a(function(D){var J=this,q=[0],I=[],H=[null],te=[],ie=this.table,he="",De=0,$e=0,ze=2,Qe=1,je=te.slice.call(arguments,1),We=Object.create(this.lexer),Ce={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(Ce.yy[Te]=this.yy[Te]);We.setInput(D,Ce.yy),Ce.yy.lexer=We,Ce.yy.parser=this,typeof We.yylloc>"u"&&(We.yylloc={});var Je=We.yylloc;te.push(Je);var rt=We.options&&We.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var gt;return gt=I.pop()||We.lex()||Qe,typeof gt!="number"&&(gt instanceof Array&&(I=gt,gt=I.pop()),gt=J.symbols_[gt]||gt),gt}a(ge,"lex");for(var xe,qe,ot,at,pe={},Re,He,tt,Ve;;){if(qe=q[q.length-1],this.defaultActions[qe]?ot=this.defaultActions[qe]:((xe===null||typeof xe>"u")&&(xe=ge()),ot=ie[qe]&&ie[qe][xe]),typeof ot>"u"||!ot.length||!ot[0]){var et="";Ve=[];for(Re in ie[qe])this.terminals_[Re]&&Re>ze&&Ve.push("'"+this.terminals_[Re]+"'");We.showPosition?et="Parse error on line "+(De+1)+`:
`+We.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":et="Parse error on line "+(De+1)+": Unexpected "+(xe==Qe?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(et,{text:We.match,token:this.terminals_[xe]||xe,line:We.yylineno,loc:Je,expected:Ve})}if(ot[0]instanceof Array&&ot.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qe+", token: "+xe);switch(ot[0]){case 1:q.push(xe),H.push(We.yytext),te.push(We.yylloc),q.push(ot[1]),xe=null,$e=We.yyleng,he=We.yytext,De=We.yylineno,Je=We.yylloc;break;case 2:if(He=this.productions_[ot[1]][1],pe.$=H[H.length-He],pe._$={first_line:te[te.length-(He||1)].first_line,last_line:te[te.length-1].last_line,first_column:te[te.length-(He||1)].first_column,last_column:te[te.length-1].last_column},rt&&(pe._$.range=[te[te.length-(He||1)].range[0],te[te.length-1].range[1]]),at=this.performAction.apply(pe,[he,$e,De,Ce.yy,ot[1],H,te].concat(je)),typeof at<"u")return at;He&&(q=q.slice(0,-1*He*2),H=H.slice(0,-1*He),te=te.slice(0,-1*He)),q.push(this.productions_[ot[1]][0]),H.push(pe.$),te.push(pe._$),tt=ie[q[q.length-2]][q[q.length-1]],q.push(tt);break;case 3:return!0}}return!0},"parse2")},se=function(){var Y={EOF:1,parseError:a(function(J,q){if(this.yy.parser)this.yy.parser.parseError(J,q);else throw new Error(J)},"parseError"),setInput:function(D,J){return this.yy=J||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var J=D.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},unput:function(D){var J=D.length,q=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===I.length?this.yylloc.first_column:0)+I[I.length-q.length].length-q[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(D){this.unput(this.match.slice(D))},pastInput:function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var D=this.pastInput(),J=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+J+"^"},test_match:function(D,J){var q,I,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),I=D[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],q=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var te in H)this[te]=H[te];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,J,q,I;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),te=0;te<H.length;te++)if(q=this._input.match(this.rules[H[te]]),q&&(!J||q[0].length>J[0].length)){if(J=q,I=te,this.options.backtrack_lexer){if(D=this.test_match(q,H[te]),D!==!1)return D;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(D=this.test_match(J,H[I]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var J=this.next();return J||this.lex()},"lex"),begin:a(function(J){this.conditionStack.push(J)},"begin"),popState:a(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:a(function(J){this.begin(J)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(J,q,I,H){switch(I){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 27:break;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 37:this.popState();break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 40:this.popState();break;case 41:return"STR";case 42:this.begin("bqstring");break;case 43:this.popState();break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 46:this.popState();break;case 47:return 69;case 48:this.begin("callback_name");break;case 49:this.popState();break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 52:this.popState();break;case 53:return 68;case 54:return 65;case 55:return 65;case 56:return 65;case 57:return 65;case 58:return 57;case 59:return 57;case 60:return 59;case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:return"EQUALS";case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};return Y}();ye.lexer=se;function be(){this.yy={}}return a(be,"Parser"),be.prototype=ye,ye.Parser=be,new be}();PM.parser=PM;var dYt=a((e,t)=>{var r;return((r=t?.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*classDiagram/)!==null},"classDetector"),pYt=a((e,t)=>{var r;return e.match(/^\s*classDiagram/)!==null&&((r=t?.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:e.match(/^\s*classDiagram-v2/)!==null},"classDetectorV2"),fX="classid-",hX=[],sa={},vRe=0,e6=[],z5=a(e=>Gr.sanitizeText(e,ft()),"sanitizeText$2"),gYt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$9"),t6=a(function(e){let t="",r=e;if(e.indexOf("~")>0){let n=e.split("~");r=n[0],t=Gr.sanitizeText(n[1],ft())}return{className:r,type:t}},"splitClassNameAndType"),T$=a(function(e){let t=t6(e);typeof sa[t.className]<"u"||(sa[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:fX+t.className+"-"+vRe},vRe++)},"addClass$1"),oNe=a(function(e){let t=Object.keys(sa);for(let r=0;r<t.length;r++)if(sa[t[r]].id===e)return sa[t[r]].domId},"lookUpDomId$1"),yYt=a(function(){hX=[],sa={},e6=[],e6.push(lNe),eu()},"clear$c"),mYt=a(function(e){return sa[e]},"getClass"),bYt=a(function(){return sa},"getClasses$5"),vYt=a(function(){return hX},"getRelations$1"),_Yt=a(function(e){Pe.debug("Adding relation: "+JSON.stringify(e)),T$(e.id1),T$(e.id2),e.id1=t6(e.id1).className,e.id2=t6(e.id2).className,e.relationTitle1=Gr.sanitizeText(e.relationTitle1.trim(),ft()),e.relationTitle2=Gr.sanitizeText(e.relationTitle2.trim(),ft()),hX.push(e)},"addRelation$1"),xYt=a(function(e,t){let r=t6(e).className;sa[r].annotations.push(t)},"addAnnotation"),cNe=a(function(e,t){let r=t6(e).className,n=sa[r];if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(z5(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(z5(i)):i&&n.members.push(z5(i))}},"addMember"),wYt=a(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>cNe(e,r)))},"addMembers"),AYt=a(function(e){return e.substring(0,1)===":"?Gr.sanitizeText(e.substr(1).trim(),ft()):z5(e.trim())},"cleanupLabel$1"),dX=a(function(e,t){e.split(",").forEach(function(r){let n=r;r[0].match(/\d/)&&(n=fX+n),typeof sa[n]<"u"&&sa[n].cssClasses.push(t)})},"setCssClass"),EYt=a(function(e,t){let r=ft();e.split(",").forEach(function(n){typeof t<"u"&&(sa[n].tooltip=Gr.sanitizeText(t,r))})},"setTooltip$1"),SYt=a(function(e){return sa[e].tooltip},"getTooltip$1"),kYt=a(function(e,t,r){let n=ft();e.split(",").forEach(function(i){let s=i;i[0].match(/\d/)&&(s=fX+s),typeof sa[s]<"u"&&(sa[s].link=on.formatUrl(t,n),n.securityLevel==="sandbox"?sa[s].linkTarget="_top":typeof r=="string"?sa[s].linkTarget=z5(r):sa[s].linkTarget="_blank")}),dX(e,"clickable")},"setLink$2"),CYt=a(function(e,t,r){e.split(",").forEach(function(n){IYt(n,t,r),sa[n].haveCallback=!0}),dX(e,"clickable")},"setClickEvent$2"),IYt=a(function(e,t,r){let n=ft(),i=e,s=oNe(i);if(n.securityLevel==="loose"&&!(typeof t>"u")&&typeof sa[i]<"u"){let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<o.length;l++){let u=o[l].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),o[l]=u}}o.length===0&&o.push(s),e6.push(function(){let l=document.querySelector(`[id="${s}"]`);l!==null&&l.addEventListener("click",function(){on.runFunc(t,...o)},!1)})}},"setClickFunc"),TYt=a(function(e){e6.forEach(function(t){t(e)})},"bindFunctions$2"),MYt={LINE:0,DOTTED_LINE:1},BYt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},lNe=a(function(e){let t=Zt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Zt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Zt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=Zt(this);if(i.attr("title")===null)return;let o=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Zt(this).classed("hover",!1)})},"setupToolTips$1");e6.push(lNe);var uNe="TB",RYt=a(()=>uNe,"getDirection$2"),LYt=a(e=>{uNe=e},"setDirection$2"),dv={parseDirective:gYt,setAccTitle:ol,getAccTitle:tu,getAccDescription:nu,setAccDescription:ru,getConfig:()=>ft().class,addClass:T$,bindFunctions:TYt,clear:yYt,getClass:mYt,getClasses:bYt,addAnnotation:xYt,getRelations:vYt,addRelation:_Yt,getDirection:RYt,setDirection:LYt,addMember:cNe,addMembers:wYt,cleanupLabel:AYt,lineType:MYt,relationType:BYt,setClickEvent:CYt,setCssClass:dX,setLink:kYt,getTooltip:SYt,setTooltip:EYt,lookUpDomId:oNe},_Re=0,DYt=a(function(e,t,r,n,i){let s=a(function(Q){switch(Q){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency";case i.db.LOLLIPOP:return"lollipop"}},"getRelationType");t.points=t.points.filter(Q=>!Number.isNaN(Q.y));let o=t.points,l=z0().x(function(Q){return Q.x}).y(function(Q){return Q.y}).curve(jh),u=e.append("path").attr("d",l(o)).attr("id","edge"+_Re).attr("class","relation"),f="";n.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),r.relation.lineType==1&&u.attr("class","relation dashed-line"),r.relation.type1!=="none"&&u.attr("marker-start","url("+f+"#"+s(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&u.attr("marker-end","url("+f+"#"+s(r.relation.type2)+"End)");let h,p,g=t.points.length,y=on.calcLabelPosition(t.points);h=y.x,p=y.y;let E,M,z,P;if(g%2!==0&&g>1){let Q=on.calcCardinalityPosition(r.relation.type1!=="none",t.points,t.points[0]),V=on.calcCardinalityPosition(r.relation.type2!=="none",t.points,t.points[g-1]);Pe.debug("cardinality_1_point "+JSON.stringify(Q)),Pe.debug("cardinality_2_point "+JSON.stringify(V)),E=Q.x,M=Q.y,z=V.x,P=V.y}if(typeof r.title<"u"){let Q=e.append("g").attr("class","classLabel"),V=Q.append("text").attr("class","label").attr("x",h).attr("y",p).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=V;let W=V.node().getBBox();Q.insert("rect",":first-child").attr("class","box").attr("x",W.x-n.padding/2).attr("y",W.y-n.padding/2).attr("width",W.width+n.padding).attr("height",W.height+n.padding)}Pe.info("Rendering relation "+JSON.stringify(r)),typeof r.relationTitle1<"u"&&r.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",E).attr("y",M).attr("fill","black").attr("font-size","6").text(r.relationTitle1),typeof r.relationTitle2<"u"&&r.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",z).attr("y",P).attr("fill","black").attr("font-size","6").text(r.relationTitle2),_Re++},"drawEdge$1"),NYt=a(function(e,t,r,n){Pe.debug("Rendering class ",t,r);let i=t.id,s={id:i,label:t.id,width:0,height:0},o=e.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup"),l;t.link?l=o.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):l=o.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let u=!0;t.annotations.forEach(function(F){let B=l.append("tspan").text("\xAB"+F+"\xBB");u||B.attr("dy",r.textHeight),u=!1});let f=t.id;t.type!==void 0&&t.type!==""&&(f+="<"+t.type+">");let h=l.append("tspan").text(f).attr("class","title");u||h.attr("dy",r.textHeight);let p=l.node().getBBox().height,g=o.append("line").attr("x1",0).attr("y1",r.padding+p+r.dividerMargin/2).attr("y2",r.padding+p+r.dividerMargin/2),y=o.append("text").attr("x",r.padding).attr("y",p+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");u=!0,t.members.forEach(function(F){xRe(y,F,u,r),u=!1});let E=y.node().getBBox(),M=o.append("line").attr("x1",0).attr("y1",r.padding+p+r.dividerMargin+E.height).attr("y2",r.padding+p+r.dividerMargin+E.height),z=o.append("text").attr("x",r.padding).attr("y",p+2*r.dividerMargin+E.height+r.textHeight).attr("fill","white").attr("class","classText");u=!0,t.methods.forEach(function(F){xRe(z,F,u,r),u=!1});let P=o.node().getBBox();var Q=" ";t.cssClasses.length>0&&(Q=Q+t.cssClasses.join(" "));let W=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",P.width+2*r.padding).attr("height",P.height+r.padding+.5*r.dividerMargin).attr("class",Q).node().getBBox().width;return l.node().childNodes.forEach(function(F){F.setAttribute("x",(W-F.getBBox().width)/2)}),t.tooltip&&l.insert("title").text(t.tooltip),g.attr("x2",W),M.attr("x2",W),s.width=W,s.height=P.height+r.padding+.5*r.dividerMargin,s},"drawClass"),FM=a(function(e){let t=/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/,r=/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/,n=e.match(t),i=e.match(r);return n&&!i?OYt(n):i?qYt(i):PYt(e)},"parseMember"),OYt=a(function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",i=e[2]?e[2].trim():"",s=e[3]?lp(e[3].trim()):"",o=e[4]?e[4].trim():"",l=e[5]?e[5].trim():"";r=n+i+s+" "+o,t=pX(l)}catch{r=e}return{displayText:r,cssStyle:t}},"buildFieldDisplay"),qYt=a(function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",i=e[2]?e[2].trim():"",s=e[3]?lp(e[3].trim()):"",o=e[4]?e[4].trim():"",l=e[5]?" : "+lp(e[5]).trim():"";r=n+i+"("+s+")"+l,t=pX(o)}catch{r=e}return{displayText:r,cssStyle:t}},"buildMethodDisplay"),PYt=a(function(e){let t="",r="",n="",i=e.indexOf("("),s=e.indexOf(")");if(i>1&&s>i&&s<=e.length){let o="",l="",u=e.substring(0,1);u.match(/\w/)?l=e.substring(0,i).trim():(u.match(/\+|-|~|#/)&&(o=u),l=e.substring(1,i).trim());let f=e.substring(i+1,s);e.substring(s+1,1),r=pX(e.substring(s+1,s+2)),t=o+l+"("+lp(f.trim())+")",s<e.length&&(n=e.substring(s+2).trim(),n!==""&&(n=" : "+lp(n),t+=n))}else t=lp(e);return{displayText:t,cssStyle:r}},"buildLegacyDisplay"),xRe=a(function(e,t,r,n){let i=FM(t),s=e.append("tspan").attr("x",n.padding).text(i.displayText);i.cssStyle!==""&&s.attr("style",i.cssStyle),r||s.attr("dy",n.textHeight)},"addTspan"),pX=a(function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},"parseClassifier"),wRe={drawClass:NYt,drawEdge:DYt,parseMember:FM},M$={},sM=20,oM=a(function(e){let t=Object.entries(M$).find(r=>r[1].label===e);if(t)return t[0]},"getGraphId"),FYt=a(function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers$3"),UYt=a(function(e,t,r,n){let i=ft().class;M$={},Pe.info("Rendering diagram "+e);let s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let l=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),u=l.select(`[id='${t}']`);FYt(u);let f=new Ea.default.Graph({multigraph:!0});f.setGraph({isMultiGraph:!0}),f.setDefaultEdgeLabel(function(){return{}});let h=n.db.getClasses(),p=Object.keys(h);for(let P=0;P<p.length;P++){let Q=h[p[P]],V=wRe.drawClass(u,Q,i,n);M$[V.id]=V,f.setNode(V.id,V),Pe.info("Org height: "+V.height)}n.db.getRelations().forEach(function(P){Pe.info("tjoho"+oM(P.id1)+oM(P.id2)+JSON.stringify(P)),f.setEdge(oM(P.id1),oM(P.id2),{relation:P},P.title||"DEFAULT")}),Tv.default.layout(f),f.nodes().forEach(function(P){typeof P<"u"&&typeof f.node(P)<"u"&&(Pe.debug("Node "+P+": "+JSON.stringify(f.node(P))),l.select("#"+n.db.lookUpDomId(P)).attr("transform","translate("+(f.node(P).x-f.node(P).width/2)+","+(f.node(P).y-f.node(P).height/2)+" )"))}),f.edges().forEach(function(P){typeof P<"u"&&typeof f.edge(P)<"u"&&(Pe.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(f.edge(P))),wRe.drawEdge(u,f.edge(P),f.edge(P).relation,i,n))});let y=u.node().getBBox(),E=y.width+sM*2,M=y.height+sM*2;Zl(u,M,E,i.useMaxWidth);let z=`${y.x-sM} ${y.y-sM} ${E} ${M}`;Pe.debug(`viewBox ${z}`),u.attr("viewBox",z),Oo(n.db,u,t)},"draw$d"),YYt={draw:UYt},HYt=a((e,t,r,n)=>{t.forEach(i=>{JYt[i](e,r,n)})},"insertMarkers$2"),zYt=a((e,t,r)=>{Pe.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),QYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),WYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),VYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),jYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},"lollipop"),GYt=a((e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),KYt=a((e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle$1"),$Yt=a((e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),XYt=a((e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),JYt={extension:zYt,composition:QYt,aggregation:WYt,dependency:VYt,lollipop:jYt,point:GYt,circle:KYt,cross:$Yt,barb:XYt};function ZYt(e,t){t&&e.attr("style",t)}a(ZYt,"applyStyle$1");function eHt(e){let t=Zt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),ZYt(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}a(eHt,"addHtmlLabel$1");var Ro=a((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),ns(ft().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Pe.info("vertexText"+i);let s={isNode:n,label:IB(i).replace(/fa[lrsb]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return eHt(s)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(let l=0;l<o.length;l++){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=o[l].trim(),s.appendChild(u)}return s}},"createLabel"),Ps=a((e,t,r,n)=>{let i;r?i=r:i="node default";let s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=s.insert("g").attr("class","label").attr("style",t.labelStyle),l;typeof t.labelText>"u"?l="":l=typeof t.labelText=="string"?t.labelText:t.labelText[0];let u=o.node().appendChild(Ro(Xl(IB(l),ft()),t.labelStyle,!1,n)),f=u.getBBox();if(ns(ft().flowchart.htmlLabels)){let p=u.children[0],g=Zt(u);f=p.getBoundingClientRect(),g.attr("width",f.width),g.attr("height",f.height)}let h=t.padding/2;return o.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),{shapeSvg:s,bbox:f,halfPadding:h,label:o}},"labelHelper"),oa=a((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");function md(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}a(md,"insertPolygonShape$1");var vn={},Kl={},fNe={},tHt=a(()=>{Kl={},fNe={},vn={}},"clear$b"),UM=a((e,t)=>(Pe.trace("In isDecendant",t," ",e," = ",Kl[t].indexOf(e)>=0),Kl[t].indexOf(e)>=0),"isDecendant"),rHt=a((e,t)=>(Pe.info("Decendants of ",t," is ",Kl[t]),Pe.info("Edge is ",e),e.v===t||e.w===t?!1:Kl[t]?!!(Kl[t].indexOf(e.v)>=0||UM(e.v,t)||UM(e.w,t)||Kl[t].indexOf(e.w)>=0):(Pe.debug("Tilt, ",t,",not in decendants"),!1)),"edgeInCluster"),hNe=a((e,t,r,n)=>{Pe.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),Pe.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(s=>{if(t.children(s).length>0)hNe(s,t,r,n);else{let o=t.node(s);Pe.info("cp ",s," to ",n," with parent ",e),r.setNode(s,o),n!==t.parent(s)&&(Pe.warn("Setting parent",s,t.parent(s)),r.setParent(s,t.parent(s))),e!==n&&s!==e?(Pe.debug("Setting parent",s,e),r.setParent(s,e)):(Pe.info("In copy ",e,"root",n,"data",t.node(e),n),Pe.debug("Not Setting parent for node=",s,"cluster!==rootId",e!==n,"node!==clusterId",s!==e));let l=t.edges(s);Pe.debug("Copying Edges",l),l.forEach(u=>{Pe.info("Edge",u);let f=t.edge(u.v,u.w,u.name);Pe.info("Edge data",f,n);try{rHt(u,n)?(Pe.info("Copying as ",u.v,u.w,f,u.name),r.setEdge(u.v,u.w,f,u.name),Pe.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):Pe.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",n," clusterId:",e)}catch(h){Pe.error(h)}})}Pe.debug("Removing node",s),t.removeNode(s)})},"copy"),dNe=a((e,t)=>{let r=t.children(e),n=[].concat(r);for(let i=0;i<r.length;i++)fNe[r[i]]=e,n=n.concat(dNe(r[i],t));return n},"extractDecendants"),r6=a((e,t)=>{Pe.trace("Searching",e);let r=t.children(e);if(Pe.trace("Searching children of id ",e,r),r.length<1)return Pe.trace("This is a valid node",e),e;for(let n=0;n<r.length;n++){let i=r6(r[n],t);if(i)return Pe.trace("Found replacement for",e," => ",i),i}},"findNonClusterChild"),cM=a(e=>!vn[e]||!vn[e].externalConnections?e:vn[e]?vn[e].id:e,"getAnchorId"),nHt=a((e,t)=>{if(!e||t>10){Pe.debug("Opting out, no graph ");return}else Pe.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(Pe.warn("Cluster identified",r," Replacement id in edges: ",r6(r,e)),Kl[r]=dNe(r,e),vn[r]={id:r6(r,e),clusterData:e.node(r)})}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(Pe.debug("Cluster identified",r,Kl),i.forEach(s=>{if(s.v!==r&&s.w!==r){let o=UM(s.v,r),l=UM(s.w,r);o^l&&(Pe.warn("Edge: ",s," leaves cluster ",r),Pe.warn("Decendants of XXX ",r,": ",Kl[r]),vn[r].externalConnections=!0)}})):Pe.debug("Not a cluster ",r,Kl)}),e.edges().forEach(function(r){let n=e.edge(r);Pe.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),Pe.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,s=r.w;if(Pe.warn("Fix XXX",vn,"ids:",r.v,r.w,"Translateing: ",vn[r.v]," --- ",vn[r.w]),vn[r.v]&&vn[r.w]&&vn[r.v]===vn[r.w]){Pe.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),Pe.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=cM(r.v),s=cM(r.w),e.removeEdge(r.v,r.w,r.name);let o=r.w+"---"+r.v;e.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});let l=JSON.parse(JSON.stringify(n)),u=JSON.parse(JSON.stringify(n));l.label="",l.arrowTypeEnd="none",u.label="",l.fromCluster=r.v,u.toCluster=r.v,e.setEdge(i,o,l,r.name+"-cyclic-special"),e.setEdge(o,s,u,r.name+"-cyclic-special")}else(vn[r.v]||vn[r.w])&&(Pe.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=cM(r.v),s=cM(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v&&(n.fromCluster=r.v),s!==r.w&&(n.toCluster=r.w),Pe.warn("Fix Replacing with XXX",i,s,r.name),e.setEdge(i,s,n,r.name))}),Pe.warn("Adjusted Graph",Ea.default.json.write(e)),pNe(e,0),Pe.trace(vn)},"adjustClustersAndEdges"),pNe=a((e,t)=>{if(Pe.warn("extractor - ",t,Ea.default.json.write(e),e.children("D")),t>10){Pe.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i=0;i<r.length;i++){let s=r[i],o=e.children(s);n=n||o.length>0}if(!n){Pe.debug("Done, no node has children",e.nodes());return}Pe.debug("Nodes = ",r,t);for(let i=0;i<r.length;i++){let s=r[i];if(Pe.debug("Extracting node",s,vn,vn[s]&&!vn[s].externalConnections,!e.parent(s),e.node(s),e.children("D")," Depth ",t),!vn[s])Pe.debug("Not a cluster",s,t);else if(!vn[s].externalConnections&&e.children(s)&&e.children(s).length>0){Pe.warn("Cluster without external connections, without a parent and with children",s,t);let l=e.graph().rankdir==="TB"?"LR":"TB";vn[s]&&vn[s].clusterData&&vn[s].clusterData.dir&&(l=vn[s].clusterData.dir,Pe.warn("Fixing dir",vn[s].clusterData.dir,l));let u=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Pe.warn("Old graph before copy",Ea.default.json.write(e)),hNe(s,e,u,s),e.setNode(s,{clusterNode:!0,id:s,clusterData:vn[s].clusterData,labelText:vn[s].labelText,graph:u}),Pe.warn("New graph after copy node: (",s,")",Ea.default.json.write(u)),Pe.debug("Old graph after copy",Ea.default.json.write(e))}else Pe.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!vn[s].externalConnections," no parent: ",!e.parent(s)," children ",e.children(s)&&e.children(s).length>0,e.children("D"),t),Pe.debug(vn)}r=e.nodes(),Pe.warn("New list of nodes",r);for(let i=0;i<r.length;i++){let s=r[i],o=e.node(s);Pe.warn(" Now next level",s,o),o.clusterNode&&pNe(o.graph,t+1)}},"extractor"),gNe=a((e,t)=>{if(t.length===0)return[];let r=Object.assign(t);return t.forEach(n=>{let i=e.children(n),s=gNe(e,i);r=r.concat(s)}),r},"sorter"),iHt=a(e=>gNe(e,e.children()),"sortNodesByHierarchy");function aHt(e,t){return e.intersect(t)}a(aHt,"intersectNode");function yNe(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,l=s-n.y,u=Math.sqrt(t*t*l*l+r*r*o*o),f=Math.abs(t*r*o/u);n.x<i&&(f=-f);var h=Math.abs(t*r*l/u);return n.y<s&&(h=-h),{x:i+f,y:s+h}}a(yNe,"intersectEllipse");function sHt(e,t,r){return yNe(e,t,t,r)}a(sHt,"intersectCircle");function oHt(e,t,r,n){var i,s,o,l,u,f,h,p,g,y,E,M,z,P,Q;if(i=t.y-e.y,o=e.x-t.x,u=t.x*e.y-e.x*t.y,g=i*r.x+o*r.y+u,y=i*n.x+o*n.y+u,!(g!==0&&y!==0&&ARe(g,y))&&(s=n.y-r.y,l=r.x-n.x,f=n.x*r.y-r.x*n.y,h=s*e.x+l*e.y+f,p=s*t.x+l*t.y+f,!(h!==0&&p!==0&&ARe(h,p))&&(E=i*l-s*o,E!==0)))return M=Math.abs(E/2),z=o*f-l*u,P=z<0?(z-M)/E:(z+M)/E,z=s*u-i*f,Q=z<0?(z-M)/E:(z+M)/E,{x:P,y:Q}}a(oHt,"intersectLine");function ARe(e,t){return e*t>0}a(ARe,"sameSign");function cHt(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(E){o=Math.min(o,E.x),l=Math.min(l,E.y)}):(o=Math.min(o,t.x),l=Math.min(l,t.y));for(var u=n-e.width/2-o,f=i-e.height/2-l,h=0;h<t.length;h++){var p=t[h],g=t[h<t.length-1?h+1:0],y=oHt(e,r,{x:u+p.x,y:f+p.y},{x:u+g.x,y:f+g.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(E,M){var z=E.x-r.x,P=E.y-r.y,Q=Math.sqrt(z*z+P*P),V=M.x-r.x,W=M.y-r.y,F=Math.sqrt(V*V+W*W);return Q<F?-1:Q===F?0:1}),s[0]):e}a(cHt,"intersectPolygon");var c6=a((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,l=e.height/2,u,f;return Math.abs(s)*o>Math.abs(i)*l?(s<0&&(l=-l),u=s===0?0:l*i/s,f=l):(i<0&&(o=-o),u=o,f=i===0?0:o*s/i),{x:r+u,y:n+f}},"intersectRect"),Ji={node:aHt,circle:sHt,ellipse:yNe,polygon:cHt,rect:c6},lHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,"node "+t.classes,!0);Pe.info("Classes = ",t.classes);let s=r.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),oa(t,s),t.intersect=function(o){return Ji.rect(t,o)},r},"note"),uHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=i+s,l=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];Pe.info("Question main (Circle)");let u=md(r,o,o,l);return u.attr("style",t.style),oa(t,u),t.intersect=function(f){return Pe.warn("Intersect called"),Ji.polygon(t,l,f)},r},"question$1"),fHt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(o){return Ji.circle(t,14,o)},r},"choice"),hHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=4,s=n.height+t.padding,o=s/i,l=n.width+2*o+t.padding,u=[{x:o,y:0},{x:l-o,y:0},{x:l,y:-s/2},{x:l-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],f=md(r,l,s,u);return f.attr("style",t.style),oa(t,f),t.intersect=function(h){return Ji.polygon(t,u,h)},r},"hexagon$1"),dHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return md(r,i,s,o).attr("style",t.style),t.width=i+s,t.height=s,t.intersect=function(u){return Ji.polygon(t,o,u)},r},"rect_left_inv_arrow$1"),pHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"lean_right$1"),gHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"lean_left$1"),yHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"trapezoid$1"),mHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"inv_trapezoid$1"),bHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"rect_right_inv_arrow$1"),vHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=i/2,o=s/(2.5+i/50),l=n.height+o+t.padding,u="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-l,f=r.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-i/2+","+-(l/2+o)+")");return oa(t,f),t.intersect=function(h){let p=Ji.rect(t,h),g=p.x-t.x;if(s!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-o)){let y=o*o*(1-g*g/(s*s));y!=0&&(y=Math.sqrt(y)),y=o-y,h.y-t.y>0&&(y=-y),p.y+=y}return p},r},"cylinder$1"),_Ht=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,"node "+t.classes,!0);Pe.trace("Classes = ",t.classes);let s=r.insert("rect",":first-child"),o=n.width+t.padding,l=n.height+t.padding;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",o).attr("height",l),t.props){let u=new Set(Object.keys(t.props));t.props.borders&&(mNe(s,t.props.borders,o,l),u.delete("borders")),u.forEach(f=>{Pe.warn(`Unknown node property ${f}`)})}return oa(t,s),t.intersect=function(u){return Ji.rect(t,u)},r},"rect$1"),xHt=a((e,t)=>{let{shapeSvg:r}=Ps(e,t,"label",!0);Pe.trace("Classes = ",t.classes);let n=r.insert("rect",":first-child"),i=0,s=0;if(n.attr("width",i).attr("height",s),r.attr("class","label edgeLabel"),t.props){let o=new Set(Object.keys(t.props));t.props.borders&&(mNe(n,t.props.borders,i,s),o.delete("borders")),o.forEach(l=>{Pe.warn(`Unknown node property ${l}`)})}return oa(t,n),t.intersect=function(o){return Ji.rect(t,o)},r},"labelRect");function mNe(e,t,r,n){let i=[],s=a(l=>{i.push(l),i.push(0)},"addBorder"),o=a(l=>{i.push(0),i.push(l)},"skipBorder");t.includes("t")?(Pe.debug("add top border"),s(r)):o(r),t.includes("r")?(Pe.debug("add right border"),s(n)):o(n),t.includes("b")?(Pe.debug("add bottom border"),s(r)):o(r),t.includes("l")?(Pe.debug("add left border"),s(n)):o(n),e.attr("stroke-dasharray",i.join(" "))}a(mNe,"applyNodePropertyBorders");var wHt=a((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),s=n.insert("line"),o=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText,u="";typeof l=="object"?u=l[0]:u=l,Pe.info("Label text abc79",u,l,typeof l=="object");let f=o.node().appendChild(Ro(u,t.labelStyle,!0,!0)),h={width:0,height:0};if(ns(ft().flowchart.htmlLabels)){let M=f.children[0],z=Zt(f);h=M.getBoundingClientRect(),z.attr("width",h.width),z.attr("height",h.height)}Pe.info("Text 2",l);let p=l.slice(1,l.length),g=f.getBBox(),y=o.node().appendChild(Ro(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(ns(ft().flowchart.htmlLabels)){let M=y.children[0],z=Zt(y);h=M.getBoundingClientRect(),z.attr("width",h.width),z.attr("height",h.height)}let E=t.padding/2;return Zt(y).attr("transform","translate( "+(h.width>g.width?0:(g.width-h.width)/2)+", "+(g.height+E+5)+")"),Zt(f).attr("transform","translate( "+(h.width<g.width?0:-(g.width-h.width)/2)+", "+0+")"),h=o.node().getBBox(),o.attr("transform","translate("+-h.width/2+", "+(-h.height/2-E+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-E).attr("y",-h.height/2-E).attr("width",h.width+t.padding).attr("height",h.height+t.padding),s.attr("class","divider").attr("x1",-h.width/2-E).attr("x2",h.width/2+E).attr("y1",-h.height/2-E+g.height+E).attr("y2",-h.height/2-E+g.height+E),oa(t,i),t.intersect=function(M){return Ji.rect(t,M)},n},"rectWithTitle"),AHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.height+t.padding,s=n.width+i/4+t.padding,o=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return oa(t,o),t.intersect=function(l){return Ji.rect(t,l)},r},"stadium$1"),EHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,void 0,!0),s=r.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),Pe.info("Circle main"),oa(t,s),t.intersect=function(o){return Pe.info("Circle intersect",t,n.width/2+i,o),Ji.circle(t,n.width/2+i,o)},r},"circle"),SHt=a((e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=Ps(e,t,void 0,!0),s=5,o=r.insert("g",":first-child"),l=o.insert("circle"),u=o.insert("circle");return l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),Pe.info("DoubleCircle main"),oa(t,l),t.intersect=function(f){return Pe.info("DoubleCircle intersect",t,n.width/2+i+s,f),Ji.circle(t,n.width/2+i+s,f)},r},"doublecircle"),kHt=a((e,t)=>{let{shapeSvg:r,bbox:n}=Ps(e,t,void 0,!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=md(r,i,s,o);return l.attr("style",t.style),oa(t,l),t.intersect=function(u){return Ji.polygon(t,o,u)},r},"subroutine$1"),CHt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),oa(t,n),t.intersect=function(i){return Ji.circle(t,7,i)},r},"start"),ERe=a((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,s=10;r==="LR"&&(i=10,s=70);let o=n.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return oa(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return Ji.rect(t,l)},n},"forkJoin"),IHt=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),oa(t,i),t.intersect=function(s){return Ji.circle(t,7,s)},r},"end"),THt=a((e,t)=>{let r=t.padding/2,n=4,i=8,s;t.classes?s="node "+t.classes:s="node default";let o=e.insert("g").attr("class",s).attr("id",t.domId||t.id),l=o.insert("rect",":first-child"),u=o.insert("line"),f=o.insert("line"),h=0,p=n,g=o.insert("g").attr("class","label"),y=0,E=t.classData.annotations&&t.classData.annotations[0],M=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",z=g.node().appendChild(Ro(M,t.labelStyle,!0,!0)),P=z.getBBox();if(ns(ft().flowchart.htmlLabels)){let T=z.children[0],k=Zt(z);P=T.getBoundingClientRect(),k.attr("width",P.width),k.attr("height",P.height)}t.classData.annotations[0]&&(p+=P.height+n,h+=P.width);let Q=t.classData.id;t.classData.type!==void 0&&t.classData.type!==""&&(ft().flowchart.htmlLabels?Q+="&lt;"+t.classData.type+"&gt;":Q+="<"+t.classData.type+">");let V=g.node().appendChild(Ro(Q,t.labelStyle,!0,!0));Zt(V).attr("class","classTitle");let W=V.getBBox();if(ns(ft().flowchart.htmlLabels)){let T=V.children[0],k=Zt(V);W=T.getBoundingClientRect(),k.attr("width",W.width),k.attr("height",W.height)}p+=W.height+n,W.width>h&&(h=W.width);let F=[];t.classData.members.forEach(T=>{let k=FM(T),R=k.displayText;ft().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let x=g.node().appendChild(Ro(R,k.cssStyle?k.cssStyle:t.labelStyle,!0,!0)),N=x.getBBox();if(ns(ft().flowchart.htmlLabels)){let m=x.children[0],v=Zt(x);N=m.getBoundingClientRect(),v.attr("width",N.width),v.attr("height",N.height)}N.width>h&&(h=N.width),p+=N.height+n,F.push(x)}),p+=i;let B=[];if(t.classData.methods.forEach(T=>{let k=FM(T),R=k.displayText;ft().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let x=g.node().appendChild(Ro(R,k.cssStyle?k.cssStyle:t.labelStyle,!0,!0)),N=x.getBBox();if(ns(ft().flowchart.htmlLabels)){let m=x.children[0],v=Zt(x);N=m.getBoundingClientRect(),v.attr("width",N.width),v.attr("height",N.height)}N.width>h&&(h=N.width),p+=N.height+n,B.push(x)}),p+=i,E){let T=(h-P.width)/2;Zt(z).attr("transform","translate( "+(-1*h/2+T)+", "+-1*p/2+")"),y=P.height+n}let S=(h-W.width)/2;return Zt(V).attr("transform","translate( "+(-1*h/2+S)+", "+(-1*p/2+y)+")"),y+=W.height+n,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-p/2-r+i+y).attr("y2",-p/2-r+i+y),y+=i,F.forEach(T=>{Zt(T).attr("transform","translate( "+-h/2+", "+(-1*p/2+y+i/2)+")"),y+=W.height+n}),y+=i,f.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-p/2-r+i+y).attr("y2",-p/2-r+i+y),y+=i,B.forEach(T=>{Zt(T).attr("transform","translate( "+-h/2+", "+(-1*p/2+y)+")"),y+=W.height+n}),l.attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(p/2)-r).attr("width",h+t.padding).attr("height",p+t.padding),oa(t,l),t.intersect=function(T){return Ji.rect(t,T)},o},"class_box"),SRe={question:uHt,rect:_Ht,labelRect:xHt,rectWithTitle:wHt,choice:fHt,circle:EHt,doublecircle:SHt,stadium:AHt,hexagon:hHt,rect_left_inv_arrow:dHt,lean_right:pHt,lean_left:gHt,trapezoid:yHt,inv_trapezoid:mHt,rect_right_inv_arrow:bHt,cylinder:vHt,start:CHt,end:IHt,note:lHt,subroutine:kHt,fork:ERe,join:ERe,class_box:THt},yv={},MHt=a((e,t,r)=>{let n,i;if(t.link){let s;ft().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s),i=SRe[t.shape](n,t,r)}else i=SRe[t.shape](e,t,r),n=i;t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),yv[t.id]=n,t.haveCallback&&yv[t.id].attr("class",yv[t.id].attr("class")+" clickable")},"insertNode"),BHt=a((e,t)=>{yv[t.id]=e},"setNodeElem"),RHt=a(()=>{yv={}},"clear$a"),kRe=a(e=>{let t=yv[e.id];Pe.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),LHt=a((e,t)=>{Pe.trace("Creating subgraph rect for ",t.id,t);let r=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),n=r.insert("rect",":first-child"),i=r.insert("g").attr("class","cluster-label"),s=i.node().appendChild(Ro(t.labelText,t.labelStyle,void 0,!0)),o=s.getBBox();if(ns(ft().flowchart.htmlLabels)){let p=s.children[0],g=Zt(s);o=p.getBoundingClientRect(),g.attr("width",o.width),g.attr("height",o.height)}let l=0*t.padding,u=l/2,f=t.width<=o.width+l?o.width+l:t.width;t.width<=o.width+l?t.diff=(o.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,Pe.trace("Data ",t,JSON.stringify(t)),n.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-f/2).attr("y",t.y-t.height/2-u).attr("width",f).attr("height",t.height+l),i.attr("transform","translate("+(t.x-o.width/2)+", "+(t.y-t.height/2+t.padding/3)+")");let h=n.node().getBBox();return t.width=h.width,t.height=h.height,t.intersect=function(p){return c6(t,p)},r},"rect"),DHt=a((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(l){return c6(t,l)},r},"noteGroup"),NHt=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=r.insert("g").attr("class","cluster-label"),s=r.append("rect"),o=i.node().appendChild(Ro(t.labelText,t.labelStyle,void 0,!0)),l=o.getBBox();if(ns(ft().flowchart.htmlLabels)){let g=o.children[0],y=Zt(o);l=g.getBoundingClientRect(),y.attr("width",l.width),y.attr("height",l.height)}l=o.getBBox();let u=0*t.padding,f=u/2,h=t.width<=l.width+t.padding?l.width+t.padding:t.width;t.width<=l.width+t.padding?t.diff=(l.width+t.padding*0-t.width)/2:t.diff=-t.padding/2,n.attr("class","outer").attr("x",t.x-h/2-f).attr("y",t.y-t.height/2-f).attr("width",h+u).attr("height",t.height+u),s.attr("class","inner").attr("x",t.x-h/2-f).attr("y",t.y-t.height/2-f+l.height-1).attr("width",h+u).attr("height",t.height+u-l.height-3),i.attr("transform","translate("+(t.x-l.width/2)+", "+(t.y-t.height/2-t.padding/3+(ns(ft().flowchart.htmlLabels)?5:3))+")");let p=n.node().getBBox();return t.height=p.height,t.intersect=function(g){return c6(t,g)},r},"roundedWithTitle"),OHt=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("class","divider").attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.diff=-t.padding/2,t.intersect=function(l){return c6(t,l)},r},"divider"),qHt={rect:LHt,roundedWithTitle:NHt,noteGroup:DHt,divider:OHt},bNe={},PHt=a((e,t)=>{Pe.trace("Inserting cluster");let r=t.shape||"rect";bNe[t.id]=qHt[r](e,t)},"insertCluster"),FHt=a(()=>{bNe={}},"clear$9"),YM={},bs={},UHt=a(()=>{YM={},bs={}},"clear$8"),YHt=a((e,t)=>{let r=Ro(t.label,t.labelStyle),n=e.insert("g").attr("class","edgeLabel"),i=n.insert("g").attr("class","label");i.node().appendChild(r);let s=r.getBBox();if(ns(ft().flowchart.htmlLabels)){let l=r.children[0],u=Zt(r);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),YM[t.id]=n,t.width=s.width,t.height=s.height;let o;if(t.startLabelLeft){let l=Ro(t.startLabelLeft,t.labelStyle),u=e.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");o=f.node().appendChild(l);let h=l.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bs[t.id]||(bs[t.id]={}),bs[t.id].startLeft=u,lM(o,t.startLabelLeft)}if(t.startLabelRight){let l=Ro(t.startLabelRight,t.labelStyle),u=e.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");o=u.node().appendChild(l),f.node().appendChild(l);let h=l.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bs[t.id]||(bs[t.id]={}),bs[t.id].startRight=u,lM(o,t.startLabelRight)}if(t.endLabelLeft){let l=Ro(t.endLabelLeft,t.labelStyle),u=e.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");o=f.node().appendChild(l);let h=l.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),u.node().appendChild(l),bs[t.id]||(bs[t.id]={}),bs[t.id].endLeft=u,lM(o,t.endLabelLeft)}if(t.endLabelRight){let l=Ro(t.endLabelRight,t.labelStyle),u=e.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");o=f.node().appendChild(l);let h=l.getBBox();f.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),u.node().appendChild(l),bs[t.id]||(bs[t.id]={}),bs[t.id].endRight=u,lM(o,t.endLabelRight)}},"insertEdgeLabel");function lM(e,t){ft().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}a(lM,"setTerminalWidth");var HHt=a((e,t)=>{Pe.info("Moving label abc78 ",e.id,e.label,YM[e.id]);let r=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){let n=YM[e.id],i=e.x,s=e.y;if(r){let o=on.calcLabelPosition(r);Pe.info("Moving label from (",i,",",s,") to (",o.x,",",o.y,") abc78")}n.attr("transform","translate("+i+", "+s+")")}if(e.startLabelLeft){let n=bs[e.id].startLeft,i=e.x,s=e.y;if(r){let o=on.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.startLabelRight){let n=bs[e.id].startRight,i=e.x,s=e.y;if(r){let o=on.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.endLabelLeft){let n=bs[e.id].endLeft,i=e.x,s=e.y;if(r){let o=on.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}if(e.endLabelRight){let n=bs[e.id].endRight,i=e.x,s=e.y;if(r){let o=on.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);i=o.x,s=o.y}n.attr("transform","translate("+i+", "+s+")")}},"positionEdgeLabel"),zHt=a((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),o=e.width/2,l=e.height/2;return i>=o||s>=l},"outsideNode"),QHt=a((e,t,r)=>{Pe.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,s=Math.abs(n-r.x),o=e.width/2,l=r.x<t.x?o-s:o+s,u=e.height/2,f=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;l=h*p/f;let g={x:r.x<t.x?r.x+l:r.x-h+l,y:r.y<t.y?r.y+f-p:r.y-f+p};return l===0&&(g.x=t.x,g.y=t.y),h===0&&(g.x=t.x),f===0&&(g.y=t.y),Pe.warn(`abc89 topp/bott calc, Q ${f}, q ${p}, R ${h}, r ${l}`,g),g}else{r.x<t.x?l=t.x-o-n:l=n-o-t.x;let p=f*l/h,g=r.x<t.x?r.x+h-l:r.x-h+l,y=r.y<t.y?r.y+p:r.y-p;return Pe.warn(`sides calc abc89, Q ${f}, q ${p}, R ${h}, r ${l}`,{_x:g,_y:y}),l===0&&(g=t.x,y=t.y),h===0&&(g=t.x),f===0&&(y=t.y),{x:g,y}}},"intersection"),CRe=a((e,t)=>{Pe.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(Pe.info("abc88 checking point",s,t),!zHt(t,s)&&!i){let o=QHt(t,n,s);Pe.warn("abc88 inside",s,n,o),Pe.warn("abc88 intersection",o);let l=!1;r.forEach(u=>{l=l||u.x===o.x&&u.y===o.y}),r.find(u=>u.x===o.x&&u.y===o.y)?Pe.warn("abc88 no intersect",o,r):r.push(o),i=!0}else Pe.warn("abc88 outside",s,n),n=s,i||r.push(s)}),Pe.warn("abc88 returning points",r),r},"cutPathAtIntersect"),WHt=a(function(e,t,r,n,i,s){let o=r.points,l=!1,u=s.node(t.v);var f=s.node(t.w);Pe.info("abc88 InsertEdge: ",r),f.intersect&&u.intersect&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),Pe.info("Last point",o[o.length-1],f,f.intersect(o[o.length-1])),o.push(f.intersect(o[o.length-1]))),r.toCluster&&(Pe.info("to cluster abc88",n[r.toCluster]),o=CRe(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(Pe.info("from cluster abc88",n[r.fromCluster]),o=CRe(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);let h=o.filter(P=>!Number.isNaN(P.y)),p;i==="graph"||i==="flowchart"?p=r.curve||jh:p=jh;let g=z0().x(function(P){return P.x}).y(function(P){return P.y}).curve(p),y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break}let E=e.append("path").attr("d",g(h)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style),M="";switch((ft().flowchart.arrowMarkerAbsolute||ft().state.arrowMarkerAbsolute)&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),Pe.info("arrowTypeStart",r.arrowTypeStart),Pe.info("arrowTypeEnd",r.arrowTypeEnd),r.arrowTypeStart){case"arrow_cross":E.attr("marker-start","url("+M+"#"+i+"-crossStart)");break;case"arrow_point":E.attr("marker-start","url("+M+"#"+i+"-pointStart)");break;case"arrow_barb":E.attr("marker-start","url("+M+"#"+i+"-barbStart)");break;case"arrow_circle":E.attr("marker-start","url("+M+"#"+i+"-circleStart)");break;case"aggregation":E.attr("marker-start","url("+M+"#"+i+"-aggregationStart)");break;case"extension":E.attr("marker-start","url("+M+"#"+i+"-extensionStart)");break;case"composition":E.attr("marker-start","url("+M+"#"+i+"-compositionStart)");break;case"dependency":E.attr("marker-start","url("+M+"#"+i+"-dependencyStart)");break;case"lollipop":E.attr("marker-start","url("+M+"#"+i+"-lollipopStart)");break}switch(r.arrowTypeEnd){case"arrow_cross":E.attr("marker-end","url("+M+"#"+i+"-crossEnd)");break;case"arrow_point":E.attr("marker-end","url("+M+"#"+i+"-pointEnd)");break;case"arrow_barb":E.attr("marker-end","url("+M+"#"+i+"-barbEnd)");break;case"arrow_circle":E.attr("marker-end","url("+M+"#"+i+"-circleEnd)");break;case"aggregation":E.attr("marker-end","url("+M+"#"+i+"-aggregationEnd)");break;case"extension":E.attr("marker-end","url("+M+"#"+i+"-extensionEnd)");break;case"composition":E.attr("marker-end","url("+M+"#"+i+"-compositionEnd)");break;case"dependency":E.attr("marker-end","url("+M+"#"+i+"-dependencyEnd)");break;case"lollipop":E.attr("marker-end","url("+M+"#"+i+"-lollipopEnd)");break}let z={};return l&&(z.updatedPath=o),z.originalPath=r.points,z},"insertEdge"),vNe=a((e,t,r,n)=>{Pe.info("Graph in recursive render: XXX",Ea.default.json.write(t),n);let i=t.graph().rankdir;Pe.trace("Dir in recursive render - dir:",i);let s=e.insert("g").attr("class","root");t.nodes()?Pe.info("Recursive render XXX",t.nodes()):Pe.info("No nodes found for",t),t.edges().length>0&&Pe.trace("Recursive edges",t.edge(t.edges()[0]));let o=s.insert("g").attr("class","clusters"),l=s.insert("g").attr("class","edgePaths"),u=s.insert("g").attr("class","edgeLabels"),f=s.insert("g").attr("class","nodes");t.nodes().forEach(function(p){let g=t.node(p);if(typeof n<"u"){let y=JSON.parse(JSON.stringify(n.clusterData));Pe.info("Setting data for cluster XXX (",p,") ",y,n),t.setNode(n.id,y),t.parent(p)||(Pe.trace("Setting parent",p,n.id),t.setParent(p,n.id,y))}if(Pe.info("(Insert) Node XXX"+p+": "+JSON.stringify(t.node(p))),g&&g.clusterNode){Pe.info("Cluster identified",p,g.width,t.node(p));let y=vNe(f,g.graph,r,t.node(p)),E=y.elem;oa(g,E),g.diff=y.diff||0,Pe.info("Node bounds (abc123)",p,g,g.width,g.x,g.y),BHt(E,g),Pe.warn("Recursive render complete ",E,g)}else t.children(p).length>0?(Pe.info("Cluster - the non recursive path XXX",p,g.id,g,t),Pe.info(r6(g.id,t)),vn[g.id]={id:r6(g.id,t),node:g}):(Pe.info("Node - the non recursive path",p,g.id,g),MHt(f,t.node(p),i))}),t.edges().forEach(function(p){let g=t.edge(p.v,p.w,p.name);Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(p)),Pe.info("Edge "+p.v+" -> "+p.w+": ",p," ",JSON.stringify(t.edge(p))),Pe.info("Fix",vn,"ids:",p.v,p.w,"Translateing: ",vn[p.v],vn[p.w]),YHt(u,g)}),t.edges().forEach(function(p){Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(p))}),Pe.info("#############################################"),Pe.info("###                Layout                 ###"),Pe.info("#############################################"),Pe.info(t),Tv.default.layout(t),Pe.info("Graph after layout:",Ea.default.json.write(t));let h=0;return iHt(t).forEach(function(p){let g=t.node(p);Pe.info("Position "+p+": "+JSON.stringify(t.node(p))),Pe.info("Position "+p+": ("+g.x,","+g.y,") width: ",g.width," height: ",g.height),g&&g.clusterNode?kRe(g):t.children(p).length>0?(PHt(o,g),vn[g.id].node=g):kRe(g)}),t.edges().forEach(function(p){let g=t.edge(p);Pe.info("Edge "+p.v+" -> "+p.w+": "+JSON.stringify(g),g);let y=WHt(l,p,g,vn,r,t);HHt(g,y)}),t.nodes().forEach(function(p){let g=t.node(p);Pe.info(p,g.type,g.diff),g.type==="group"&&(h=g.diff)}),{elem:s,diff:h}},"recursiveRender"),gX=a((e,t,r,n,i)=>{HYt(e,r,n,i),RHt(),UHt(),FHt(),tHt(),Pe.warn("Graph at first:",Ea.default.json.write(t)),nHt(t),Pe.warn("Graph after:",Ea.default.json.write(t)),vNe(e,t,n)},"render$1"),VHt=a(e=>Gr.sanitizeText(e,ft()),"sanitizeText$1"),jHt=a(function(e,t,r,n){let i=Object.keys(e);Pe.info("keys:",i),Pe.info(e),i.forEach(function(s){let o=e[s],l="";o.cssClasses.length>0&&(l=l+" "+o.cssClasses.join(" "));let u={labelStyle:""},f=o.text!==void 0?o.text:o.id,h=0,p="";switch(o.type){case"class":p="class_box";break;default:p="class_box"}t.setNode(o.id,{labelStyle:u.labelStyle,shape:p,labelText:VHt(f),classData:o,rx:h,ry:h,class:l,style:u.style,id:o.id,domId:o.domId,tooltip:n.db.getTooltip(o.id)||"",haveCallback:o.haveCallback,link:o.link,width:o.type==="group"?500:void 0,type:o.type,padding:ft().flowchart.padding}),Pe.info("setNode",{labelStyle:u.labelStyle,shape:p,labelText:f,rx:h,ry:h,class:l,style:u.style,id:o.id,width:o.type==="group"?500:void 0,type:o.type,padding:ft().flowchart.padding})})},"addClasses"),GHt=a(function(e,t){let r=ft().flowchart,n=0;e.forEach(function(i){n++;let s={};s.classes="relation",s.pattern=i.relation.lineType==1?"dashed":"solid",s.id="id"+n,i.type==="arrow_open"?s.arrowhead="none":s.arrowhead="normal",Pe.info(s,i),s.startLabelRight=i.relationTitle1==="none"?"":i.relationTitle1,s.endLabelLeft=i.relationTitle2==="none"?"":i.relationTitle2,s.arrowTypeStart=IRe(i.relation.type1),s.arrowTypeEnd=IRe(i.relation.type2);let o="",l="";if(typeof i.style<"u"){let u=pp(i.style);o=u.style,l=u.labelStyle}else o="fill:none";s.style=o,s.labelStyle=l,typeof i.interpolate<"u"?s.curve=gf(i.interpolate,no):typeof e.defaultInterpolate<"u"?s.curve=gf(e.defaultInterpolate,no):s.curve=gf(r.curve,no),i.text=i.title,typeof i.text>"u"?typeof i.style<"u"&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",ft().flowchart.htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+i.text+"</span>"):(s.labelType="text",s.label=i.text.replace(Gr.lineBreakRegex,`
`),typeof i.style>"u"&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),t.setEdge(i.id1,i.id2,s,n)})},"addRelations"),KHt=a(function(e){Object.keys(e).forEach(function(r){e[r]})},"setConf$9"),$Ht=a(function(e,t,r,n){Pe.info("Drawing class - ",t);let i=ft().flowchart,s=ft().securityLevel;Pe.info("config:",i);let o=i.nodeSpacing||50,l=i.rankSpacing||50,u=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:o,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),f=n.db.getClasses(),h=n.db.getRelations();Pe.info(h),jHt(f,u,t,n),GHt(h,u);let p;s==="sandbox"&&(p=Zt("#i"+t));let g=s==="sandbox"?Zt(p.nodes()[0].contentDocument.body):Zt("body"),y=g.select(`[id="${t}"]`),E=g.select("#"+t+" g");if(gX(E,u,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),uB(u,y,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){let M=s==="sandbox"?p.nodes()[0].contentDocument:document,z=M.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let P=0;P<z.length;P++){let Q=z[P],V=Q.getBBox(),W=M.createElementNS("http://www.w3.org/2000/svg","rect");W.setAttribute("rx",0),W.setAttribute("ry",0),W.setAttribute("width",V.width),W.setAttribute("height",V.height),Q.insertBefore(W,Q.firstChild)}}Oo(n.db,y,t)},"draw$c");function IRe(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}a(IRe,"getArrowMarker");var XHt={setConf:KHt,draw:$Ht},B$=function(){var e=a(function(k,R,x,N){for(x=x||{},N=k.length;N--;x[k[N]]=R);return x},"o"),t=[1,2],r=[1,5],n=[6,9,11,23,25,27,29,30,31,49],i=[1,17],s=[1,18],o=[1,19],l=[1,20],u=[1,21],f=[1,22],h=[1,25],p=[1,30],g=[1,31],y=[1,32],E=[1,33],M=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],z=[1,45],P=[30,31,46,47],Q=[4,6,9,11,23,25,27,29,30,31,49],V=[42,43,44,45],W=[22,37],F=[1,64],B={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:a(function(R,x,N,m,v,A,U){var G=A.length-1;switch(v){case 1:break;case 3:this.$=[];break;case 4:A[G-1].push(A[G]),this.$=A[G-1];break;case 5:case 6:this.$=A[G];break;case 7:case 8:this.$=[];break;case 12:m.addEntity(A[G-4]),m.addEntity(A[G-2]),m.addRelationship(A[G-4],A[G],A[G-2],A[G-3]);break;case 13:m.addEntity(A[G-3]),m.addAttributes(A[G-3],A[G-1]);break;case 14:m.addEntity(A[G-2]);break;case 15:m.addEntity(A[G]);break;case 16:case 17:this.$=A[G].trim(),m.setAccTitle(this.$);break;case 18:case 19:this.$=A[G].trim(),m.setAccDescription(this.$);break;case 20:case 41:this.$=A[G];break;case 21:case 39:case 40:this.$=A[G].replace(/"/g,"");break;case 22:this.$=[A[G]];break;case 23:A[G].push(A[G-1]),this.$=A[G];break;case 24:this.$={attributeType:A[G-1],attributeName:A[G]};break;case 25:this.$={attributeType:A[G-2],attributeName:A[G-1],attributeKeyType:A[G]};break;case 26:this.$={attributeType:A[G-2],attributeName:A[G-1],attributeComment:A[G]};break;case 27:this.$={attributeType:A[G-3],attributeName:A[G-2],attributeKeyType:A[G-1],attributeComment:A[G]};break;case 28:case 29:case 30:this.$=A[G];break;case 31:this.$=A[G].replace(/"/g,"");break;case 32:this.$={cardA:A[G],relType:A[G-1],cardB:A[G-2]};break;case 33:this.$=m.Cardinality.ZERO_OR_ONE;break;case 34:this.$=m.Cardinality.ZERO_OR_MORE;break;case 35:this.$=m.Cardinality.ONE_OR_MORE;break;case 36:this.$=m.Cardinality.ONLY_ONE;break;case 37:this.$=m.Identification.NON_IDENTIFYING;break;case 38:this.$=m.Identification.IDENTIFYING;break;case 42:m.parseDirective("%%{","open_directive");break;case 43:m.parseDirective(A[G],"type_directive");break;case 44:A[G]=A[G].trim().replace(/'/g,'"'),m.parseDirective(A[G],"arg_directive");break;case 45:m.parseDirective("}%%","close_directive","er");break}},"anonymous"),table:[{3:1,4:t,7:3,12:4,49:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,49:r},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:s,27:o,29:l,30:u,31:f,49:r},{1:[2,2]},{14:23,15:[1,24],52:h},e([15,52],[2,43]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:s,27:o,29:l,30:u,31:f,49:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),e(n,[2,15],{18:27,40:29,20:[1,28],42:p,43:g,44:y,45:E}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(n,[2,19]),e(M,[2,20]),e(M,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},e(n,[2,5]),{17:40,30:u,31:f},{21:41,22:[1,42],32:43,33:44,37:z},{41:46,46:[1,47],47:[1,48]},e(P,[2,33]),e(P,[2,34]),e(P,[2,35]),e(P,[2,36]),e(n,[2,16]),e(n,[2,17]),e(n,[2,18]),e(Q,[2,9]),{14:49,52:h},{52:[2,44]},{15:[1,50]},{22:[1,51]},e(n,[2,14]),{21:52,22:[2,22],32:43,33:44,37:z},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:p,43:g,44:y,45:E},e(V,[2,37]),e(V,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},e(n,[2,13]),{22:[2,23]},e(W,[2,24],{35:61,36:62,38:[1,63],39:F}),e([22,37,38,39],[2,29]),e([30,31],[2,32]),e(Q,[2,10]),e(n,[2,12]),e(n,[2,39]),e(n,[2,40]),e(n,[2,41]),e(W,[2,25],{36:65,39:F}),e(W,[2,26]),e([22,37,39],[2,30]),e(W,[2,31]),e(W,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:a(function(R,x){if(x.recoverable)this.trace(R);else{var N=new Error(R);throw N.hash=x,N}},"parseError"),parse:a(function(R){var x=this,N=[0],m=[],v=[null],A=[],U=this.table,G="",K=0,Z=0,O=2,$=1,L=A.slice.call(arguments,1),ee=Object.create(this.lexer),ve={yy:{}};for(var ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ye)&&(ve.yy[ye]=this.yy[ye]);ee.setInput(R,ve.yy),ve.yy.lexer=ee,ve.yy.parser=this,typeof ee.yylloc>"u"&&(ee.yylloc={});var se=ee.yylloc;A.push(se);var be=ee.options&&ee.options.ranges;typeof ve.yy.parseError=="function"?this.parseError=ve.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(){var ze;return ze=m.pop()||ee.lex()||$,typeof ze!="number"&&(ze instanceof Array&&(m=ze,ze=m.pop()),ze=x.symbols_[ze]||ze),ze}a(Y,"lex");for(var D,J,q,I,H={},te,ie,he,De;;){if(J=N[N.length-1],this.defaultActions[J]?q=this.defaultActions[J]:((D===null||typeof D>"u")&&(D=Y()),q=U[J]&&U[J][D]),typeof q>"u"||!q.length||!q[0]){var $e="";De=[];for(te in U[J])this.terminals_[te]&&te>O&&De.push("'"+this.terminals_[te]+"'");ee.showPosition?$e="Parse error on line "+(K+1)+`:
`+ee.showPosition()+`
Expecting `+De.join(", ")+", got '"+(this.terminals_[D]||D)+"'":$e="Parse error on line "+(K+1)+": Unexpected "+(D==$?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError($e,{text:ee.match,token:this.terminals_[D]||D,line:ee.yylineno,loc:se,expected:De})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+D);switch(q[0]){case 1:N.push(D),v.push(ee.yytext),A.push(ee.yylloc),N.push(q[1]),D=null,Z=ee.yyleng,G=ee.yytext,K=ee.yylineno,se=ee.yylloc;break;case 2:if(ie=this.productions_[q[1]][1],H.$=v[v.length-ie],H._$={first_line:A[A.length-(ie||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(ie||1)].first_column,last_column:A[A.length-1].last_column},be&&(H._$.range=[A[A.length-(ie||1)].range[0],A[A.length-1].range[1]]),I=this.performAction.apply(H,[G,Z,K,ve.yy,q[1],v,A].concat(L)),typeof I<"u")return I;ie&&(N=N.slice(0,-1*ie*2),v=v.slice(0,-1*ie),A=A.slice(0,-1*ie)),N.push(this.productions_[q[1]][0]),v.push(H.$),A.push(H._$),he=U[N[N.length-2]][N[N.length-1]],N.push(he);break;case 3:return!0}}return!0},"parse2")},S=function(){var k={EOF:1,parseError:a(function(x,N){if(this.yy.parser)this.yy.parser.parseError(x,N);else throw new Error(x)},"parseError"),setInput:function(R,x){return this.yy=x||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var x=R.match(/(?:\r\n?|\n).*/g);return x?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var x=R.length,N=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===m.length?this.yylloc.first_column:0)+m[m.length-N.length].length-N[0].length:this.yylloc.first_column-x},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-x]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),x=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+x+"^"},test_match:function(R,x){var N,m,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),m=R[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],N=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var A in v)this[A]=v[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,x,N,m;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),A=0;A<v.length;A++)if(N=this._input.match(this.rules[v[A]]),N&&(!x||N[0].length>x[0].length)){if(x=N,m=A,this.options.backtrack_lexer){if(R=this.test_match(N,v[A]),R!==!1)return R;if(this._backtrack){x=!1;continue}else return!1}else if(!this.options.flex)break}return x?(R=this.test_match(x,v[m]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var x=this.next();return x||this.lex()},"lex"),begin:a(function(x){this.conditionStack.push(x)},"begin"),popState:a(function(){var x=this.conditionStack.length-1;return x>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(x){return x=this.conditionStack.length-1-Math.abs(x||0),x>=0?this.conditionStack[x]:"INITIAL"},"topState"),pushState:a(function(x){this.begin(x)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(x,N,m,v){switch(m){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return N.yytext[0];case 29:return 42;case 30:return 43;case 31:return 44;case 32:return 45;case 33:return 42;case 34:return 43;case 35:return 44;case 36:return 46;case 37:return 47;case 38:return 46;case 39:return 46;case 40:return 30;case 41:return N.yytext[0];case 42:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};return k}();B.lexer=S;function T(){this.yy={}}return a(T,"Parser"),T.prototype=B,B.Parser=T,new T}();B$.parser=B$;var JHt=a(e=>e.match(/^\s*erDiagram/)!==null,"erDetector"),Q5={},yX=[],ZHt={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},ezt={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},tzt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$8"),_Ne=a(function(e){return typeof Q5[e]>"u"&&(Q5[e]={attributes:[]},Pe.info("Added new entity :",e)),Q5[e]},"addEntity"),rzt=a(()=>Q5,"getEntities"),nzt=a(function(e,t){let r=_Ne(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),Pe.debug("Added attribute ",t[n].attributeName)},"addAttributes"),izt=a(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};yX.push(i),Pe.debug("Added new relationship :",i)},"addRelationship$1"),azt=a(()=>yX,"getRelationships$1"),szt=a(function(){Q5={},yX=[],eu()},"clear$7"),ozt={Cardinality:ZHt,Identification:ezt,parseDirective:tzt,getConfig:()=>ft().er,addEntity:_Ne,addAttributes:nzt,getEntities:rzt,addRelationship:izt,getRelationships:azt,clear:szt,setAccTitle:ol,getAccTitle:tu,setAccDescription:ru,getAccDescription:nu},ud={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},czt=a(function(e,t){let r;e.append("defs").append("marker").attr("id",ud.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",ud.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",ud.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",ud.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",ud.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",ud.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",ud.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",ud.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers$1"),fd={ERMarkers:ud,insertMarkers:czt},lzt=/[^A-Za-z0-9]([\W])*/g,oi={},n6=new Map,uzt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)oi[t[r]]=e[t[r]]},"setConf$8"),fzt=a((e,t,r)=>{let n=oi.entityPadding/3,i=oi.entityPadding/3,s=oi.fontSize*.85,o=t.node().getBBox(),l=[],u=!1,f=!1,h=0,p=0,g=0,y=0,E=o.height+n*2,M=1;r.forEach(V=>{V.attributeKeyType!==void 0&&(u=!0),V.attributeComment!==void 0&&(f=!0)}),r.forEach(V=>{let W=`${t.node().id}-attr-${M}`,F=0,B=lp(V.attributeType),S=e.append("text").attr("class","er entityLabel").attr("id",`${W}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(B),T=e.append("text").attr("class","er entityLabel").attr("id",`${W}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeName),k={};k.tn=S,k.nn=T;let R=S.node().getBBox(),x=T.node().getBBox();if(h=Math.max(h,R.width),p=Math.max(p,x.width),F=Math.max(R.height,x.height),u){let N=e.append("text").attr("class","er entityLabel").attr("id",`${W}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeKeyType||"");k.kn=N;let m=N.node().getBBox();g=Math.max(g,m.width),F=Math.max(F,m.height)}if(f){let N=e.append("text").attr("class","er entityLabel").attr("id",`${W}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+ft().fontFamily+"; font-size: "+s+"px").text(V.attributeComment||"");k.cn=N;let m=N.node().getBBox();y=Math.max(y,m.width),F=Math.max(F,m.height)}k.height=F,l.push(k),E+=F+n*2,M+=1});let z=4;u&&(z+=2),f&&(z+=2);let P=h+p+g+y,Q={width:Math.max(oi.minEntityWidth,Math.max(o.width+oi.entityPadding*2,P+i*z)),height:r.length>0?E:Math.max(oi.minEntityHeight,o.height+oi.entityPadding*2)};if(r.length>0){let V=Math.max(0,(Q.width-P-i*z)/(z/2));t.attr("transform","translate("+Q.width/2+","+(n+o.height/2)+")");let W=o.height+n*2,F="attributeBoxOdd";l.forEach(B=>{let S=W+n+B.height/2;B.tn.attr("transform","translate("+i+","+S+")");let T=e.insert("rect","#"+B.tn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",0).attr("y",W).attr("width",h+i*2+V).attr("height",B.height+n*2),k=parseFloat(T.attr("x"))+parseFloat(T.attr("width"));B.nn.attr("transform","translate("+(k+i)+","+S+")");let R=e.insert("rect","#"+B.nn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",k).attr("y",W).attr("width",p+i*2+V).attr("height",B.height+n*2),x=parseFloat(R.attr("x"))+parseFloat(R.attr("width"));if(u){B.kn.attr("transform","translate("+(x+i)+","+S+")");let N=e.insert("rect","#"+B.kn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",x).attr("y",W).attr("width",g+i*2+V).attr("height",B.height+n*2);x=parseFloat(N.attr("x"))+parseFloat(N.attr("width"))}f&&(B.cn.attr("transform","translate("+(x+i)+","+S+")"),e.insert("rect","#"+B.cn.node().id).attr("class",`er ${F}`).attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",x).attr("y",W).attr("width",y+i*2+V).attr("height",B.height+n*2)),W+=B.height+n*2,F=F==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Q.height=Math.max(oi.minEntityHeight,E),t.attr("transform","translate("+Q.width/2+","+Q.height/2+")");return Q},"drawAttributes"),hzt=a(function(e,t,r){let n=Object.keys(t),i;return n.forEach(function(s){let o=mzt(s,"entity");n6.set(s,o);let l=e.append("g").attr("id",o);i=i===void 0?o:i;let u="text-"+o,f=l.append("text").attr("class","er entityLabel").attr("id",u).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+ft().fontFamily+"; font-size: "+oi.fontSize+"px").text(s),{width:h,height:p}=fzt(l,f,t[s].attributes),y=l.insert("rect","#"+u).attr("class","er entityBox").attr("fill",oi.fill).attr("fill-opacity","100%").attr("stroke",oi.stroke).attr("x",0).attr("y",0).attr("width",h).attr("height",p).node().getBBox();r.setNode(o,{width:y.width,height:y.height,shape:"rect",id:o})}),i},"drawEntities"),dzt=a(function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities$1"),xNe=a(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),pzt=a(function(e,t){return e.forEach(function(r){t.setEdge(n6.get(r.entityA),n6.get(r.entityB),{relationship:r},xNe(r))}),e},"addRelationships$1"),TRe=0,gzt=a(function(e,t,r,n,i){TRe++;let s=r.edge(n6.get(t.entityA),n6.get(t.entityB),xNe(t)),o=z0().x(function(E){return E.x}).y(function(E){return E.y}).curve(jh),l=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",o(s.points)).attr("stroke",oi.stroke).attr("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&l.attr("stroke-dasharray","8,8");let u="";switch(oi.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-end","url("+u+"#"+fd.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-end","url("+u+"#"+fd.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-end","url("+u+"#"+fd.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-end","url("+u+"#"+fd.ERMarkers.ONLY_ONE_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-start","url("+u+"#"+fd.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-start","url("+u+"#"+fd.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-start","url("+u+"#"+fd.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-start","url("+u+"#"+fd.ERMarkers.ONLY_ONE_START+")");break}let f=l.node().getTotalLength(),h=l.node().getPointAtLength(f*.5),p="rel"+TRe,y=e.append("text").attr("class","er relationshipLabel").attr("id",p).attr("x",h.x).attr("y",h.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+ft().fontFamily+"; font-size: "+oi.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+p).attr("class","er relationshipLabelBox").attr("x",h.x-y.width/2).attr("y",h.y-y.height/2).attr("width",y.width).attr("height",y.height).attr("fill","white").attr("fill-opacity","85%")},"drawRelationshipFromLayout$1"),yzt=a(function(e,t,r,n){oi=ft().er,Pe.info("Drawing ER diagram");let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let l=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select(`[id='${t}']`);fd.insertMarkers(l,oi);let u;u=new Ea.default.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:oi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let f=hzt(l,n.db.getEntities(),u),h=pzt(n.db.getRelationships(),u);Tv.default.layout(u),dzt(l,u),h.forEach(function(M){gzt(l,M,u,f,n)});let p=oi.diagramPadding,g=l.node().getBBox(),y=g.width+p*2,E=g.height+p*2;Zl(l,E,y,oi.useMaxWidth),l.attr("viewBox",`${g.x-p} ${g.y-p} ${y} ${E}`),Oo(n.db,l,t)},"draw$b");function mzt(e="",t=""){let r=e.replace(lzt,"");return`${MRe(t)}${MRe(r)}${EG()}`}a(mzt,"generateId");function MRe(e=""){return e.length>0?`${e}-`:""}a(MRe,"strWithHyphen");var bzt={setConf:uzt,draw:yzt},HM=function(){var e=a(function(Ft,At,Ot,Vt){for(Ot=Ot||{},Vt=Ft.length;Vt--;Ot[Ft[Vt]]=At);return Ot},"o"),t=[1,9],r=[1,7],n=[1,6],i=[1,8],s=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],o=[2,10],l=[1,20],u=[1,21],f=[1,22],h=[1,23],p=[1,30],g=[1,32],y=[1,33],E=[1,34],M=[1,62],z=[1,48],P=[1,52],Q=[1,36],V=[1,37],W=[1,38],F=[1,39],B=[1,40],S=[1,56],T=[1,63],k=[1,51],R=[1,53],x=[1,55],N=[1,59],m=[1,60],v=[1,41],A=[1,42],U=[1,43],G=[1,44],K=[1,61],Z=[1,50],O=[1,54],$=[1,57],L=[1,58],ee=[1,49],ve=[1,66],ye=[1,71],se=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],be=[1,75],Y=[1,74],D=[1,76],J=[20,21,23,81,82],q=[1,99],I=[1,104],H=[1,107],te=[1,108],ie=[1,101],he=[1,106],De=[1,109],$e=[1,102],ze=[1,114],Qe=[1,113],je=[1,103],We=[1,105],Ce=[1,110],Te=[1,111],Je=[1,112],rt=[1,115],ge=[20,21,22,23,81,82],xe=[20,21,22,23,53,81,82],qe=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],ot=[20,21,23],at=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],pe=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Re=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],He=[1,149],tt=[1,157],Ve=[1,158],et=[1,159],gt=[1,160],lt=[1,144],zt=[1,145],it=[1,141],Wt=[1,152],bt=[1,153],Se=[1,154],Ie=[1,155],le=[1,156],_e=[1,161],ae=[1,162],ce=[1,147],re=[1,150],ue=[1,146],me=[1,143],Ae=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Oe=[1,165],Ge=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ke=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],st=[12,21,22,24],yt=[22,106],pt=[1,250],wt=[1,245],Gt=[1,246],Pt=[1,254],tr=[1,251],cr=[1,248],pr=[1,247],Cr=[1,249],Qr=[1,252],Tr=[1,253],ur=[1,255],fr=[1,273],Mr=[20,21,23,106],Br=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Ne={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:a(function(At,Ot,Vt,Ct,er,Ue,Ir){var ct=Ue.length-1;switch(er){case 5:Ct.parseDirective("%%{","open_directive");break;case 6:Ct.parseDirective(Ue[ct],"type_directive");break;case 7:Ue[ct]=Ue[ct].trim().replace(/'/g,'"'),Ct.parseDirective(Ue[ct],"arg_directive");break;case 8:Ct.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Ue[ct])||Ue[ct].length>0)&&Ue[ct-1].push(Ue[ct]),this.$=Ue[ct-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Ue[ct];break;case 19:Ct.setDirection("TB"),this.$="TB";break;case 20:Ct.setDirection(Ue[ct-1]),this.$=Ue[ct-1];break;case 35:this.$=Ue[ct-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Ct.addSubGraph(Ue[ct-6],Ue[ct-1],Ue[ct-4]);break;case 42:this.$=Ct.addSubGraph(Ue[ct-3],Ue[ct-1],Ue[ct-3]);break;case 43:this.$=Ct.addSubGraph(void 0,Ue[ct-1],void 0);break;case 45:this.$=Ue[ct].trim(),Ct.setAccTitle(this.$);break;case 46:case 47:this.$=Ue[ct].trim(),Ct.setAccDescription(this.$);break;case 51:Ct.addLink(Ue[ct-2].stmt,Ue[ct],Ue[ct-1]),this.$={stmt:Ue[ct],nodes:Ue[ct].concat(Ue[ct-2].nodes)};break;case 52:Ct.addLink(Ue[ct-3].stmt,Ue[ct-1],Ue[ct-2]),this.$={stmt:Ue[ct-1],nodes:Ue[ct-1].concat(Ue[ct-3].nodes)};break;case 53:this.$={stmt:Ue[ct-1],nodes:Ue[ct-1]};break;case 54:this.$={stmt:Ue[ct],nodes:Ue[ct]};break;case 55:this.$=[Ue[ct]];break;case 56:this.$=Ue[ct-4].concat(Ue[ct]);break;case 57:this.$=[Ue[ct-2]],Ct.setClass(Ue[ct-2],Ue[ct]);break;case 58:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"square");break;case 59:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"doublecircle");break;case 60:this.$=Ue[ct-5],Ct.addVertex(Ue[ct-5],Ue[ct-2],"circle");break;case 61:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"ellipse");break;case 62:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"stadium");break;case 63:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"subroutine");break;case 64:this.$=Ue[ct-7],Ct.addVertex(Ue[ct-7],Ue[ct-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ue[ct-5],Ue[ct-3]]]));break;case 65:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"cylinder");break;case 66:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"round");break;case 67:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"diamond");break;case 68:this.$=Ue[ct-5],Ct.addVertex(Ue[ct-5],Ue[ct-2],"hexagon");break;case 69:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"odd");break;case 70:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"trapezoid");break;case 71:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"inv_trapezoid");break;case 72:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"lean_right");break;case 73:this.$=Ue[ct-3],Ct.addVertex(Ue[ct-3],Ue[ct-1],"lean_left");break;case 74:this.$=Ue[ct],Ct.addVertex(Ue[ct]);break;case 75:Ue[ct-1].text=Ue[ct],this.$=Ue[ct-1];break;case 76:case 77:Ue[ct-2].text=Ue[ct-1],this.$=Ue[ct-2];break;case 78:this.$=Ue[ct];break;case 79:var xn=Ct.destructLink(Ue[ct],Ue[ct-2]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length,text:Ue[ct-1]};break;case 80:var xn=Ct.destructLink(Ue[ct]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length};break;case 81:this.$=Ue[ct-1];break;case 83:case 97:case 153:this.$=Ue[ct-1]+""+Ue[ct];break;case 98:case 99:this.$=Ue[ct-4],Ct.addClass(Ue[ct-2],Ue[ct]);break;case 100:this.$=Ue[ct-4],Ct.setClass(Ue[ct-2],Ue[ct]);break;case 101:case 109:this.$=Ue[ct-1],Ct.setClickEvent(Ue[ct-1],Ue[ct]);break;case 102:case 110:this.$=Ue[ct-3],Ct.setClickEvent(Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-3],Ue[ct]);break;case 103:this.$=Ue[ct-2],Ct.setClickEvent(Ue[ct-2],Ue[ct-1],Ue[ct]);break;case 104:this.$=Ue[ct-4],Ct.setClickEvent(Ue[ct-4],Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-4],Ue[ct]);break;case 105:case 111:this.$=Ue[ct-1],Ct.setLink(Ue[ct-1],Ue[ct]);break;case 106:case 112:this.$=Ue[ct-3],Ct.setLink(Ue[ct-3],Ue[ct-2]),Ct.setTooltip(Ue[ct-3],Ue[ct]);break;case 107:case 113:this.$=Ue[ct-3],Ct.setLink(Ue[ct-3],Ue[ct-2],Ue[ct]);break;case 108:case 114:this.$=Ue[ct-5],Ct.setLink(Ue[ct-5],Ue[ct-4],Ue[ct]),Ct.setTooltip(Ue[ct-5],Ue[ct-2]);break;case 115:this.$=Ue[ct-4],Ct.addVertex(Ue[ct-2],void 0,void 0,Ue[ct]);break;case 116:case 118:this.$=Ue[ct-4],Ct.updateLink(Ue[ct-2],Ue[ct]);break;case 117:this.$=Ue[ct-4],Ct.updateLink([Ue[ct-2]],Ue[ct]);break;case 119:this.$=Ue[ct-8],Ct.updateLinkInterpolate([Ue[ct-6]],Ue[ct-2]),Ct.updateLink([Ue[ct-6]],Ue[ct]);break;case 120:this.$=Ue[ct-8],Ct.updateLinkInterpolate(Ue[ct-6],Ue[ct-2]),Ct.updateLink(Ue[ct-6],Ue[ct]);break;case 121:this.$=Ue[ct-6],Ct.updateLinkInterpolate([Ue[ct-4]],Ue[ct]);break;case 122:this.$=Ue[ct-6],Ct.updateLinkInterpolate(Ue[ct-4],Ue[ct]);break;case 123:case 125:this.$=[Ue[ct]];break;case 124:case 126:Ue[ct-2].push(Ue[ct]),this.$=Ue[ct-2];break;case 128:this.$=Ue[ct-1]+Ue[ct];break;case 150:this.$=Ue[ct];break;case 151:this.$=Ue[ct-1]+""+Ue[ct];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:i},e(s,o,{17:11}),{7:12,13:[1,13]},{16:14,21:r,22:n,24:i},{16:15,21:r,22:n,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:l,21:u,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{8:64,10:[1,65],15:ve},e([10,15],[2,6]),e(s,[2,17]),e(s,[2,18]),e(s,[2,19]),{20:[1,68],21:[1,69],22:ye,27:67,30:70},e(se,[2,11]),e(se,[2,12]),e(se,[2,13]),e(se,[2,14]),e(se,[2,15]),e(se,[2,16]),{9:72,20:be,21:Y,23:D,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:be,21:Y,23:D},{9:81,20:be,21:Y,23:D},{9:82,20:be,21:Y,23:D},{9:83,20:be,21:Y,23:D},{9:84,20:be,21:Y,23:D},{9:86,20:be,21:Y,22:[1,85],23:D},e(se,[2,44]),{45:[1,87]},{47:[1,88]},e(se,[2,47]),e(J,[2,54],{30:89,22:ye}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:q,52:I,66:H,67:te,84:[1,97],91:ie,97:96,98:[1,94],100:[1,95],105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(se,[2,158]),e(se,[2,159]),e(se,[2,160]),e(se,[2,161]),e(ge,[2,55],{53:[1,116]}),e(xe,[2,74],{116:129,40:[1,117],52:M,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:z,67:P,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:S,95:T,105:k,106:R,109:x,111:N,112:m,122:K,123:Z,124:O,125:$,126:L,127:ee}),e(qe,[2,150]),e(qe,[2,175]),e(qe,[2,176]),e(qe,[2,177]),e(qe,[2,178]),e(qe,[2,179]),e(qe,[2,180]),e(qe,[2,181]),e(qe,[2,182]),e(qe,[2,183]),e(qe,[2,184]),e(qe,[2,185]),e(qe,[2,186]),e(qe,[2,187]),e(qe,[2,188]),e(qe,[2,189]),e(qe,[2,190]),{9:130,20:be,21:Y,23:D},{11:131,14:[1,132]},e(ot,[2,8]),e(s,[2,20]),e(s,[2,26]),e(s,[2,27]),{21:[1,133]},e(at,[2,34],{30:134,22:ye}),e(se,[2,35]),{50:135,51:45,52:M,54:46,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},e(pe,[2,48]),e(pe,[2,49]),e(pe,[2,50]),e(Re,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:He,24:tt,26:Ve,38:et,39:139,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(se,[2,36]),e(se,[2,37]),e(se,[2,38]),e(se,[2,39]),e(se,[2,40]),{22:He,24:tt,26:Ve,38:et,39:163,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Ae,o,{17:164}),e(se,[2,45]),e(se,[2,46]),e(J,[2,53],{52:Oe}),{26:q,52:I,66:H,67:te,91:ie,97:166,102:[1,167],105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{95:[1,168],103:169,105:[1,170]},{26:q,52:I,66:H,67:te,91:ie,95:[1,171],97:172,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{26:q,52:I,66:H,67:te,91:ie,97:173,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,101],{22:[1,174],99:[1,175]}),e(ot,[2,105],{22:[1,176]}),e(ot,[2,109],{115:100,117:178,22:[1,177],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,111],{22:[1,179]}),e(Ge,[2,152]),e(Ge,[2,154]),e(Ge,[2,155]),e(Ge,[2,156]),e(Ge,[2,157]),e(ke,[2,162]),e(ke,[2,163]),e(ke,[2,164]),e(ke,[2,165]),e(ke,[2,166]),e(ke,[2,167]),e(ke,[2,168]),e(ke,[2,169]),e(ke,[2,170]),e(ke,[2,171]),e(ke,[2,172]),e(ke,[2,173]),e(ke,[2,174]),{52:M,54:180,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:He,24:tt,26:Ve,38:et,39:181,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:182,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:184,42:gt,52:I,57:[1,183],66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:185,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:186,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:187,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{66:[1,188]},{22:He,24:tt,26:Ve,38:et,39:189,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:190,42:gt,52:I,66:H,67:te,71:[1,191],73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:192,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:193,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:194,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(qe,[2,151]),e(st,[2,3]),{8:195,15:ve},{15:[2,7]},e(s,[2,28]),e(at,[2,33]),e(J,[2,51],{30:196,22:ye}),e(Re,[2,75],{22:[1,197]}),{22:[1,198]},{22:He,24:tt,26:Ve,38:et,39:199,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:lt,81:zt,82:[1,200],83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ke,[2,82]),e(ke,[2,84]),e(ke,[2,140]),e(ke,[2,141]),e(ke,[2,142]),e(ke,[2,143]),e(ke,[2,144]),e(ke,[2,145]),e(ke,[2,146]),e(ke,[2,147]),e(ke,[2,148]),e(ke,[2,149]),e(ke,[2,85]),e(ke,[2,86]),e(ke,[2,87]),e(ke,[2,88]),e(ke,[2,89]),e(ke,[2,90]),e(ke,[2,91]),e(ke,[2,92]),e(ke,[2,93]),e(ke,[2,94]),e(ke,[2,95]),{9:203,20:be,21:Y,22:He,23:D,24:tt,26:Ve,38:et,40:[1,202],42:gt,52:I,66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:l,21:u,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,204],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:ye,30:205},{22:[1,206],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(yt,[2,123]),{22:[1,211]},{22:[1,212],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:[1,213],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:178,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{84:[1,214]},e(ot,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(Ge,[2,153]),{84:[1,219],101:[1,220]},e(ge,[2,57],{116:129,52:M,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,122:K,123:Z,124:O,125:$,126:L,127:ee}),{22:He,24:tt,26:Ve,38:et,41:[1,221],42:gt,52:I,66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,56:[1,222],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:223,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,58:[1,224],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,60:[1,225],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,62:[1,226],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,64:[1,227],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{67:[1,228]},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,70:[1,229],73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,72:[1,230],73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,39:231,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,41:[1,232],42:gt,52:I,66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:lt,75:[1,233],77:[1,234],81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,73:lt,75:[1,236],77:[1,235],81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{9:237,20:be,21:Y,23:D},e(J,[2,52],{52:Oe}),e(Re,[2,77]),e(Re,[2,76]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,68:[1,238],73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Re,[2,79]),e(ke,[2,83]),{22:He,24:tt,26:Ve,38:et,39:239,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(Ae,o,{17:240}),e(se,[2,43]),{51:241,52:M,54:46,66:z,67:P,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:pt,66:wt,67:Gt,86:Pt,96:242,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{22:pt,66:wt,67:Gt,86:Pt,96:256,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{22:pt,66:wt,67:Gt,86:Pt,96:257,102:tr,104:[1,258],105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{22:pt,66:wt,67:Gt,86:Pt,96:259,102:tr,104:[1,260],105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{105:[1,261]},{22:pt,66:wt,67:Gt,86:Pt,96:262,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{22:pt,66:wt,67:Gt,86:Pt,96:263,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{26:q,52:I,66:H,67:te,91:ie,97:264,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,102]),{84:[1,265]},e(ot,[2,106],{22:[1,266]}),e(ot,[2,107]),e(ot,[2,110]),e(ot,[2,112],{22:[1,267]}),e(ot,[2,113]),e(xe,[2,58]),e(xe,[2,59]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,58:[1,268],66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,66]),e(xe,[2,61]),e(xe,[2,62]),e(xe,[2,63]),{66:[1,269]},e(xe,[2,65]),e(xe,[2,67]),{22:He,24:tt,26:Ve,38:et,42:gt,52:I,66:H,67:te,72:[1,270],73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,69]),e(xe,[2,70]),e(xe,[2,72]),e(xe,[2,71]),e(xe,[2,73]),e(st,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:He,24:tt,26:Ve,38:et,41:[1,271],42:gt,52:I,66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:l,21:u,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,272],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},e(ge,[2,56]),e(ot,[2,115],{106:fr}),e(Mr,[2,125],{108:274,22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,109:pr,110:Cr,111:Qr,112:Tr,113:ur}),e(Br,[2,127]),e(Br,[2,129]),e(Br,[2,130]),e(Br,[2,131]),e(Br,[2,132]),e(Br,[2,133]),e(Br,[2,134]),e(Br,[2,135]),e(Br,[2,136]),e(Br,[2,137]),e(Br,[2,138]),e(Br,[2,139]),e(ot,[2,116],{106:fr}),e(ot,[2,117],{106:fr}),{22:[1,275]},e(ot,[2,118],{106:fr}),{22:[1,276]},e(yt,[2,124]),e(ot,[2,98],{106:fr}),e(ot,[2,99],{106:fr}),e(ot,[2,100],{115:100,117:178,26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:be,21:Y,23:D},e(se,[2,42]),{22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,107:283,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},e(Br,[2,128]),{26:q,52:I,66:H,67:te,91:ie,97:284,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{26:q,52:I,66:H,67:te,91:ie,97:285,105:he,106:De,109:$e,111:ze,112:Qe,115:100,117:98,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(ot,[2,108]),e(ot,[2,114]),e(xe,[2,60]),{22:He,24:tt,26:Ve,38:et,39:286,42:gt,52:I,66:H,67:te,73:lt,81:zt,83:140,84:it,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},e(xe,[2,68]),e(Ae,o,{17:287}),e(Mr,[2,126],{108:274,22:pt,66:wt,67:Gt,86:Pt,102:tr,105:cr,109:pr,110:Cr,111:Qr,112:Tr,113:ur}),e(ot,[2,121],{115:100,117:178,22:[1,288],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),e(ot,[2,122],{115:100,117:178,22:[1,289],26:q,52:I,66:H,67:te,91:ie,105:he,106:De,109:$e,111:ze,112:Qe,122:je,123:We,124:Ce,125:Te,126:Je,127:rt}),{22:He,24:tt,26:Ve,38:et,41:[1,290],42:gt,52:I,66:H,67:te,73:lt,81:zt,83:201,85:151,86:Wt,87:bt,88:Se,89:Ie,90:le,91:_e,92:ae,94:142,95:ce,105:he,106:De,109:re,111:ze,112:Qe,113:ue,114:me,115:148,122:je,123:We,124:Ce,125:Te,126:Je,127:rt},{18:18,19:19,20:l,21:u,22:f,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:p,42:[1,291],43:31,44:g,46:y,48:E,50:35,51:45,52:M,54:46,66:z,67:P,86:Q,87:V,88:W,89:F,90:B,91:S,95:T,105:k,106:R,109:x,111:N,112:m,116:47,118:v,119:A,120:U,121:G,122:K,123:Z,124:O,125:$,126:L,127:ee},{22:pt,66:wt,67:Gt,86:Pt,96:292,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},{22:pt,66:wt,67:Gt,86:Pt,96:293,102:tr,105:cr,107:243,108:244,109:pr,110:Cr,111:Qr,112:Tr,113:ur},e(xe,[2,64]),e(se,[2,41]),e(ot,[2,119],{106:fr}),e(ot,[2,120],{106:fr})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:a(function(At,Ot){if(Ot.recoverable)this.trace(At);else{var Vt=new Error(At);throw Vt.hash=Ot,Vt}},"parseError"),parse:a(function(At){var Ot=this,Vt=[0],Ct=[],er=[null],Ue=[],Ir=this.table,ct="",xn=0,Tn=0,Pi=2,Ya=1,Ha=Ue.slice.call(arguments,1),un=Object.create(this.lexer),oe={yy:{}};for(var Be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Be)&&(oe.yy[Be]=this.yy[Be]);un.setInput(At,oe.yy),oe.yy.lexer=un,oe.yy.parser=this,typeof un.yylloc>"u"&&(un.yylloc={});var Le=un.yylloc;Ue.push(Le);var Xe=un.options&&un.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ut(){var jr;return jr=Ct.pop()||un.lex()||Ya,typeof jr!="number"&&(jr instanceof Array&&(Ct=jr,jr=Ct.pop()),jr=Ot.symbols_[jr]||jr),jr}a(ut,"lex");for(var Ke,Et,nt,Rt,jt={},Xt,lr,Er,Kr;;){if(Et=Vt[Vt.length-1],this.defaultActions[Et]?nt=this.defaultActions[Et]:((Ke===null||typeof Ke>"u")&&(Ke=ut()),nt=Ir[Et]&&Ir[Et][Ke]),typeof nt>"u"||!nt.length||!nt[0]){var Rr="";Kr=[];for(Xt in Ir[Et])this.terminals_[Xt]&&Xt>Pi&&Kr.push("'"+this.terminals_[Xt]+"'");un.showPosition?Rr="Parse error on line "+(xn+1)+`:
`+un.showPosition()+`
Expecting `+Kr.join(", ")+", got '"+(this.terminals_[Ke]||Ke)+"'":Rr="Parse error on line "+(xn+1)+": Unexpected "+(Ke==Ya?"end of input":"'"+(this.terminals_[Ke]||Ke)+"'"),this.parseError(Rr,{text:un.match,token:this.terminals_[Ke]||Ke,line:un.yylineno,loc:Le,expected:Kr})}if(nt[0]instanceof Array&&nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Et+", token: "+Ke);switch(nt[0]){case 1:Vt.push(Ke),er.push(un.yytext),Ue.push(un.yylloc),Vt.push(nt[1]),Ke=null,Tn=un.yyleng,ct=un.yytext,xn=un.yylineno,Le=un.yylloc;break;case 2:if(lr=this.productions_[nt[1]][1],jt.$=er[er.length-lr],jt._$={first_line:Ue[Ue.length-(lr||1)].first_line,last_line:Ue[Ue.length-1].last_line,first_column:Ue[Ue.length-(lr||1)].first_column,last_column:Ue[Ue.length-1].last_column},Xe&&(jt._$.range=[Ue[Ue.length-(lr||1)].range[0],Ue[Ue.length-1].range[1]]),Rt=this.performAction.apply(jt,[ct,Tn,xn,oe.yy,nt[1],er,Ue].concat(Ha)),typeof Rt<"u")return Rt;lr&&(Vt=Vt.slice(0,-1*lr*2),er=er.slice(0,-1*lr),Ue=Ue.slice(0,-1*lr)),Vt.push(this.productions_[nt[1]][0]),er.push(jt.$),Ue.push(jt._$),Er=Ir[Vt[Vt.length-2]][Vt[Vt.length-1]],Vt.push(Er);break;case 3:return!0}}return!0},"parse2")},Ze=function(){var Ft={EOF:1,parseError:a(function(Ot,Vt){if(this.yy.parser)this.yy.parser.parseError(Ot,Vt);else throw new Error(Ot)},"parseError"),setInput:function(At,Ot){return this.yy=Ot||this.yy||{},this._input=At,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var At=this._input[0];this.yytext+=At,this.yyleng++,this.offset++,this.match+=At,this.matched+=At;var Ot=At.match(/(?:\r\n?|\n).*/g);return Ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),At},unput:function(At){var Ot=At.length,Vt=At.split(/(?:\r\n?|\n)/g);this._input=At+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ot),this.offset-=Ot;var Ct=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Vt.length-1&&(this.yylineno-=Vt.length-1);var er=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Vt?(Vt.length===Ct.length?this.yylloc.first_column:0)+Ct[Ct.length-Vt.length].length-Vt[0].length:this.yylloc.first_column-Ot},this.options.ranges&&(this.yylloc.range=[er[0],er[0]+this.yyleng-Ot]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(At){this.unput(this.match.slice(At))},pastInput:function(){var At=this.matched.substr(0,this.matched.length-this.match.length);return(At.length>20?"...":"")+At.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var At=this.match;return At.length<20&&(At+=this._input.substr(0,20-At.length)),(At.substr(0,20)+(At.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var At=this.pastInput(),Ot=new Array(At.length+1).join("-");return At+this.upcomingInput()+`
`+Ot+"^"},test_match:function(At,Ot){var Vt,Ct,er;if(this.options.backtrack_lexer&&(er={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(er.yylloc.range=this.yylloc.range.slice(0))),Ct=At[0].match(/(?:\r\n?|\n).*/g),Ct&&(this.yylineno+=Ct.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ct?Ct[Ct.length-1].length-Ct[Ct.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+At[0].length},this.yytext+=At[0],this.match+=At[0],this.matches=At,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(At[0].length),this.matched+=At[0],Vt=this.performAction.call(this,this.yy,this,Ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Vt)return Vt;if(this._backtrack){for(var Ue in er)this[Ue]=er[Ue];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var At,Ot,Vt,Ct;this._more||(this.yytext="",this.match="");for(var er=this._currentRules(),Ue=0;Ue<er.length;Ue++)if(Vt=this._input.match(this.rules[er[Ue]]),Vt&&(!Ot||Vt[0].length>Ot[0].length)){if(Ot=Vt,Ct=Ue,this.options.backtrack_lexer){if(At=this.test_match(Vt,er[Ue]),At!==!1)return At;if(this._backtrack){Ot=!1;continue}else return!1}else if(!this.options.flex)break}return Ot?(At=this.test_match(Ot,er[Ct]),At!==!1?At:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Ot=this.next();return Ot||this.lex()},"lex"),begin:a(function(Ot){this.conditionStack.push(Ot)},"begin"),popState:a(function(){var Ot=this.conditionStack.length-1;return Ot>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Ot){return Ot=this.conditionStack.length-1-Math.abs(Ot||0),Ot>=0?this.conditionStack[Ot]:"INITIAL"},"topState"),pushState:a(function(Ot){this.begin(Ot)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(Ot,Vt,Ct,er){switch(Ct){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 36:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},"anonymous"),rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Ft}();Ne.lexer=Ze;function Tt(){this.yy={}}return a(Tt,"Parser"),Tt.prototype=Ne,Ne.Parser=Tt,new Tt}();HM.parser=HM;var vzt=a((e,t)=>{var r;return((r=t?.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*graph/)!==null},"flowDetector"),_zt=a((e,t)=>{var r;return((r=t?.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"&&e.match(/^\s*graph/)!==null?!0:e.match(/^\s*flowchart/)!==null},"flowDetectorV2"),xzt="flowchart-",BRe=0,mX=ft(),$i={},cy=[],pv=[],bf=[],zM={},bX={},xM=0,R$=!0,ff,pB,gB=[],yB=a(e=>Gr.sanitizeText(e,mX),"sanitizeText"),wzt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$7"),mB=a(function(e){let t=Object.keys($i);for(let r=0;r<t.length;r++)if($i[t[r]].id===e)return $i[t[r]].domId;return e},"lookUpDomId"),Azt=a(function(e,t,r,n,i,s,o={}){let l,u=e;typeof u>"u"||u.trim().length!==0&&(typeof $i[u]>"u"&&($i[u]={id:u,domId:xzt+u+"-"+BRe,styles:[],classes:[]}),BRe++,typeof t<"u"?(mX=ft(),l=yB(t.trim()),l[0]==='"'&&l[l.length-1]==='"'&&(l=l.substring(1,l.length-1)),$i[u].text=l):typeof $i[u].text>"u"&&($i[u].text=e),typeof r<"u"&&($i[u].type=r),typeof n<"u"&&n!==null&&n.forEach(function(f){$i[u].styles.push(f)}),typeof i<"u"&&i!==null&&i.forEach(function(f){$i[u].classes.push(f)}),typeof s<"u"&&($i[u].dir=s),$i[u].props=o)},"addVertex"),Ezt=a(function(e,t,r,n){let o={start:e,end:t,type:void 0,text:""};n=r.text,typeof n<"u"&&(o.text=yB(n.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),typeof r<"u"&&(o.type=r.type,o.stroke=r.stroke,o.length=r.length),cy.push(o)},"addSingleLink"),Szt=a(function(e,t,r,n){let i,s;for(i=0;i<e.length;i++)for(s=0;s<t.length;s++)Ezt(e[i],t[s],r,n)},"addLink"),kzt=a(function(e,t){e.forEach(function(r){r==="default"?cy.defaultInterpolate=t:cy[r].interpolate=t})},"updateLinkInterpolate"),Czt=a(function(e,t){e.forEach(function(r){r==="default"?cy.defaultStyle=t:(on.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),cy[r].style=t)})},"updateLink"),Izt=a(function(e,t){typeof pv[e]>"u"&&(pv[e]={id:e,styles:[],textStyles:[]}),typeof t<"u"&&t!==null&&t.forEach(function(r){if(r.match("color")){let i=r.replace("fill","bgFill").replace("color","fill");pv[e].textStyles.push(i)}pv[e].styles.push(r)})},"addClass"),Tzt=a(function(e){ff=e,ff.match(/.*</)&&(ff="RL"),ff.match(/.*\^/)&&(ff="BT"),ff.match(/.*>/)&&(ff="LR"),ff.match(/.*v/)&&(ff="TB")},"setDirection$1"),vX=a(function(e,t){e.split(",").forEach(function(r){let n=r;typeof $i[n]<"u"&&$i[n].classes.push(t),typeof zM[n]<"u"&&zM[n].classes.push(t)})},"setClass$1"),Mzt=a(function(e,t){e.split(",").forEach(function(r){typeof t<"u"&&(bX[pB==="gen-1"?mB(r):r]=yB(t))})},"setTooltip"),Bzt=a(function(e,t,r){let n=mB(e);if(ft().securityLevel!=="loose"||typeof t>"u")return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(e),typeof $i[e]<"u"&&($i[e].haveCallback=!0,gB.push(function(){let s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){on.runFunc(t,...i)},!1)}))},"setClickFun$1"),Rzt=a(function(e,t,r){e.split(",").forEach(function(n){typeof $i[n]<"u"&&($i[n].link=on.formatUrl(t,mX),$i[n].linkTarget=r)}),vX(e,"clickable")},"setLink$1"),Lzt=a(function(e){return bX[e]},"getTooltip"),Dzt=a(function(e,t,r){e.split(",").forEach(function(n){Bzt(n,t,r)}),vX(e,"clickable")},"setClickEvent$1"),Nzt=a(function(e){gB.forEach(function(t){t(e)})},"bindFunctions$1"),Ozt=a(function(){return ff.trim()},"getDirection$1"),qzt=a(function(){return $i},"getVertices"),Pzt=a(function(){return cy},"getEdges"),Fzt=a(function(){return pv},"getClasses$4"),wNe=a(function(e){let t=Zt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Zt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Zt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=Zt(this);if(i.attr("title")===null)return;let o=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Zt(this).classed("hover",!1)})},"setupToolTips");gB.push(wNe);var Uzt=a(function(e="gen-1"){$i={},pv={},cy=[],gB=[wNe],bf=[],zM={},xM=0,bX=[],R$=!0,pB=e,eu()},"clear$6"),Yzt=a(e=>{pB=e||"gen-1"},"setGen"),Hzt=a(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),zzt=a(function(e,t,r){let n=e.trim(),i=r.trim();n===i&&i.match(/\s/)&&(n=void 0);function s(h){let p={boolean:{},number:{},string:{}},g=[],y;return{nodeList:h.filter(function(M){let z=typeof M;return M.stmt&&M.stmt==="dir"?(y=M.value,!1):M.trim()===""?!1:z in p?p[z].hasOwnProperty(M)?!1:p[z][M]=!0:g.indexOf(M)>=0?!1:g.push(M)}),dir:y}}a(s,"uniq");let o=[],{nodeList:l,dir:u}=s(o.concat.apply(o,t));if(o=l,pB==="gen-1")for(let h=0;h<o.length;h++)o[h]=mB(o[h]);n=n||"subGraph"+xM,i=i||"",i=yB(i),xM=xM+1;let f={id:n,nodes:o,title:i.trim(),classes:[],dir:u};return Pe.info("Adding",f.id,f.nodes,f.dir),f.nodes=kNe(f,bf).nodes,bf.push(f),zM[n]=f,n},"addSubGraph"),Qzt=a(function(e){for(let t=0;t<bf.length;t++)if(bf[t].id===e)return t;return-1},"getPosForId"),P5=-1,ANe=[],ENe=a(function(e,t){let r=bf[t].nodes;if(P5=P5+1,P5>2e3)return;if(ANe[P5]=t,bf[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let s=Qzt(r[n]);if(s>=0){let o=ENe(e,s);if(o.result)return{result:!0,count:i+o.count};i=i+o.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),Wzt=a(function(e){return ANe[e]},"getDepthFirstPos"),Vzt=a(function(){P5=-1,bf.length>0&&ENe("none",bf.length-1)},"indexNodes"),jzt=a(function(){return bf},"getSubGraphs"),Gzt=a(()=>R$?(R$=!1,!0):!1,"firstGraph"),Kzt=a(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.indexOf("=")!==-1&&(n="thick"),t.indexOf(".")!==-1&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),$zt=a((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),Xzt=a(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t[0]==="x"&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t[0]==="<"&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t[0]==="o"&&(n="double_"+n,r=r.slice(1));break}let i="normal",s=r.length-1;r[0]==="="&&(i="thick"),r[0]==="~"&&(i="invisible");let o=$zt(".",r);return o&&(i="dotted",s=o),{type:n,stroke:i,length:s}},"destructEndLink"),Jzt=a((e,t)=>{let r=Xzt(e),n;if(t){if(n=Kzt(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),SNe=a((e,t)=>{let r=!1;return e.forEach(n=>{n.nodes.indexOf(t)>=0&&(r=!0)}),r},"exists"),kNe=a((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{SNe(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),hd={parseDirective:wzt,defaultConfig:()=>_v.flowchart,setAccTitle:ol,getAccTitle:tu,getAccDescription:nu,setAccDescription:ru,addVertex:Azt,lookUpDomId:mB,addLink:Szt,updateLinkInterpolate:kzt,updateLink:Czt,addClass:Izt,setDirection:Tzt,setClass:vX,setTooltip:Mzt,getTooltip:Lzt,setClickEvent:Dzt,setLink:Rzt,bindFunctions:Nzt,getDirection:Ozt,getVertices:qzt,getEdges:Pzt,getClasses:Fzt,clear:Uzt,setGen:Yzt,defaultStyle:Hzt,addSubGraph:zzt,getDepthFirstPos:Wzt,indexNodes:Vzt,getSubGraphs:jzt,destructLink:Jzt,lex:{firstGraph:Gzt},exists:SNe,makeUniq:kNe};function Zzt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}a(Zzt,"commonjsRequire");var GG,RRe;function _X(){if(RRe)return GG;RRe=1;function e(t){return t}return a(e,"identity"),GG=e,GG}a(_X,"requireIdentity");var KG,LRe;function eQt(){if(LRe)return KG;LRe=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return a(e,"apply2"),KG=e,KG}a(eQt,"require_apply");var $G,DRe;function CNe(){if(DRe)return $G;DRe=1;var e=eQt(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,u=t(o.length-i,0),f=Array(u);++l<u;)f[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=s(f),e(n,this,h)}}return a(r,"overRest"),$G=r,$G}a(CNe,"require_overRest");var XG,NRe;function tQt(){if(NRe)return XG;NRe=1;function e(t){return function(){return t}}return a(e,"constant"),XG=e,XG}a(tQt,"requireConstant");var JG,ORe;function INe(){if(ORe)return JG;ORe=1;var e=Z$,t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return JG=t,JG}a(INe,"require_defineProperty");var ZG,qRe;function rQt(){if(qRe)return ZG;qRe=1;var e=tQt(),t=INe(),r=_X(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return ZG=n,ZG}a(rQt,"require_baseSetToString");var eK,PRe;function nQt(){if(PRe)return eK;PRe=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return a(n,"shortOut"),eK=n,eK}a(nQt,"require_shortOut");var tK,FRe;function TNe(){if(FRe)return tK;FRe=1;var e=rQt(),t=nQt(),r=t(e);return tK=r,tK}a(TNe,"require_setToString");var rK,URe;function iQt(){if(URe)return rK;URe=1;var e=_X(),t=CNe(),r=TNe();function n(i,s){return r(t(i,s,e),i+"")}return a(n,"baseRest"),rK=n,rK}a(iQt,"require_baseRest");var nK,YRe;function xX(){if(YRe)return nK;YRe=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return a(t,"isLength"),nK=t,nK}a(xX,"requireIsLength");var iK,HRe;function bB(){if(HRe)return iK;HRe=1;var e=J$(),t=xX();function r(n){return n!=null&&t(n.length)&&!e(n)}return a(r,"isArrayLike"),iK=r,iK}a(bB,"requireIsArrayLike");var aK,zRe;function vB(){if(zRe)return aK;zRe=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return a(r,"isIndex"),aK=r,aK}a(vB,"require_isIndex");var sK,QRe;function MNe(){if(QRe)return sK;QRe=1;var e=iB(),t=bB(),r=vB(),n=Mv();function i(s,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],s):!1}return a(i,"isIterateeCall"),sK=i,sK}a(MNe,"require_isIterateeCall");var oK,WRe;function aQt(){if(WRe)return oK;WRe=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return a(e,"baseTimes"),oK=e,oK}a(aQt,"require_baseTimes");var cK,VRe;function l6(){if(VRe)return cK;VRe=1;function e(t){return t!=null&&typeof t=="object"}return a(e,"isObjectLike"),cK=e,cK}a(l6,"requireIsObjectLike");var lK,jRe;function sQt(){if(jRe)return lK;jRe=1;var e=o6(),t=l6(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return a(n,"baseIsArguments"),lK=n,lK}a(sQt,"require_baseIsArguments");var uK,GRe;function wX(){if(GRe)return uK;GRe=1;var e=sQt(),t=l6(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return uK=s,uK}a(wX,"requireIsArguments");var fK,KRe;function ly(){if(KRe)return fK;KRe=1;var e=Array.isArray;return fK=e,fK}a(ly,"requireIsArray");var uM={exports:{}},hK,$Re;function oQt(){if($Re)return hK;$Re=1;function e(){return!1}return a(e,"stubFalse"),hK=e,hK}a(oQt,"requireStubFalse");var XRe;function cQt(){return XRe||(XRe=1,function(e,t){var r=tB,n=oQt(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;e.exports=f}(uM,uM.exports)),uM.exports}a(cQt,"requireIsBuffer");var dK,JRe;function lQt(){if(JRe)return dK;JRe=1;var e=o6(),t=xX(),r=l6(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",y="[object Set]",E="[object String]",M="[object WeakMap]",z="[object ArrayBuffer]",P="[object DataView]",Q="[object Float32Array]",V="[object Float64Array]",W="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",x={};x[Q]=x[V]=x[W]=x[F]=x[B]=x[S]=x[T]=x[k]=x[R]=!0,x[n]=x[i]=x[z]=x[s]=x[P]=x[o]=x[l]=x[u]=x[f]=x[h]=x[p]=x[g]=x[y]=x[E]=x[M]=!1;function N(m){return r(m)&&t(m.length)&&!!x[e(m)]}return a(N,"baseIsTypedArray"),dK=N,dK}a(lQt,"require_baseIsTypedArray");var pK,ZRe;function uQt(){if(ZRe)return pK;ZRe=1;function e(t){return function(r){return t(r)}}return a(e,"baseUnary"),pK=e,pK}a(uQt,"require_baseUnary");var fM={exports:{}},eLe;function fQt(){return eLe||(eLe=1,function(e,t){var r=EDe,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(fM,fM.exports)),fM.exports}a(fQt,"require_nodeUtil");var gK,tLe;function hQt(){if(tLe)return gK;tLe=1;var e=lQt(),t=uQt(),r=fQt(),n=r&&r.isTypedArray,i=n?t(n):e;return gK=i,gK}a(hQt,"requireIsTypedArray");var yK,rLe;function BNe(){if(rLe)return yK;rLe=1;var e=aQt(),t=wX(),r=ly(),n=cQt(),i=vB(),s=hQt(),o=Object.prototype,l=o.hasOwnProperty;function u(f,h){var p=r(f),g=!p&&t(f),y=!p&&!g&&n(f),E=!p&&!g&&!y&&s(f),M=p||g||y||E,z=M?e(f.length,String):[],P=z.length;for(var Q in f)(h||l.call(f,Q))&&!(M&&(Q=="length"||y&&(Q=="offset"||Q=="parent")||E&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||i(Q,P)))&&z.push(Q);return z}return a(u,"arrayLikeKeys"),yK=u,yK}a(BNe,"require_arrayLikeKeys");var mK,nLe;function RNe(){if(nLe)return mK;nLe=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return a(t,"isPrototype"),mK=t,mK}a(RNe,"require_isPrototype");var bK,iLe;function dQt(){if(iLe)return bK;iLe=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return a(e,"nativeKeysIn"),bK=e,bK}a(dQt,"require_nativeKeysIn");var vK,aLe;function pQt(){if(aLe)return vK;aLe=1;var e=Mv(),t=RNe(),r=dQt(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var l=t(o),u=[];for(var f in o)f=="constructor"&&(l||!i.call(o,f))||u.push(f);return u}return a(s,"baseKeysIn"),vK=s,vK}a(pQt,"require_baseKeysIn");var _K,sLe;function gQt(){if(sLe)return _K;sLe=1;var e=BNe(),t=pQt(),r=bB();function n(i){return r(i)?e(i,!0):t(i)}return a(n,"keysIn"),_K=n,_K}a(gQt,"requireKeysIn");var xK,oLe;function yQt(){if(oLe)return xK;oLe=1;var e=iQt(),t=iB(),r=MNe(),n=gQt(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(l,u){l=Object(l);var f=-1,h=u.length,p=h>2?u[2]:void 0;for(p&&r(u[0],u[1],p)&&(h=1);++f<h;)for(var g=u[f],y=n(g),E=-1,M=y.length;++E<M;){var z=y[E],P=l[z];(P===void 0||t(P,i[z])&&!s.call(l,z))&&(l[z]=g[z])}return l});return xK=o,xK}a(yQt,"requireDefaults");var wK={exports:{}},AK,cLe;function mQt(){if(cLe)return AK;cLe=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return a(e,"arrayEach"),AK=e,AK}a(mQt,"require_arrayEach");var EK,lLe;function bQt(){if(lLe)return EK;lLe=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),u=l.length;u--;){var f=l[t?u:++s];if(n(o[f],f,o)===!1)break}return r}}return a(e,"createBaseFor"),EK=e,EK}a(bQt,"require_createBaseFor");var SK,uLe;function vQt(){if(uLe)return SK;uLe=1;var e=bQt(),t=e();return SK=t,SK}a(vQt,"require_baseFor");var kK,fLe;function LNe(){if(fLe)return kK;fLe=1;function e(t,r){return function(n){return t(r(n))}}return a(e,"overArg"),kK=e,kK}a(LNe,"require_overArg");var CK,hLe;function _Qt(){if(hLe)return CK;hLe=1;var e=LNe(),t=e(Object.keys,Object);return CK=t,CK}a(_Qt,"require_nativeKeys");var IK,dLe;function xQt(){if(dLe)return IK;dLe=1;var e=RNe(),t=_Qt(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return a(i,"baseKeys"),IK=i,IK}a(xQt,"require_baseKeys");var TK,pLe;function wQt(){if(pLe)return TK;pLe=1;var e=BNe(),t=xQt(),r=bB();function n(i){return r(i)?e(i):t(i)}return a(n,"keys"),TK=n,TK}a(wQt,"requireKeys");var MK,gLe;function AQt(){if(gLe)return MK;gLe=1;var e=vQt(),t=wQt();function r(n,i){return n&&e(n,i,t)}return a(r,"baseForOwn"),MK=r,MK}a(AQt,"require_baseForOwn");var BK,yLe;function EQt(){if(yLe)return BK;yLe=1;var e=bB();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,l=n?o:-1,u=Object(i);(n?l--:++l<o)&&s(u[l],l,u)!==!1;);return i}}return a(t,"createBaseEach"),BK=t,BK}a(EQt,"require_createBaseEach");var RK,mLe;function SQt(){if(mLe)return RK;mLe=1;var e=AQt(),t=EQt(),r=t(e);return RK=r,RK}a(SQt,"require_baseEach");var LK,bLe;function kQt(){if(bLe)return LK;bLe=1;var e=_X();function t(r){return typeof r=="function"?r:e}return a(t,"castFunction"),LK=t,LK}a(kQt,"require_castFunction");var DK,vLe;function CQt(){if(vLe)return DK;vLe=1;var e=mQt(),t=SQt(),r=kQt(),n=ly();function i(s,o){var l=n(s)?e:t;return l(s,r(o))}return a(i,"forEach"),DK=i,DK}a(CQt,"requireForEach");var _Le;function IQt(){return _Le||(_Le=1,function(e){e.exports=CQt()}(wK)),wK.exports}a(IQt,"requireEach");var NK,xLe;function TQt(){if(xLe)return NK;xLe=1;var e=LNe(),t=e(Object.getPrototypeOf,Object);return NK=t,NK}a(TQt,"require_getPrototype");var OK,wLe;function MQt(){if(wLe)return OK;wLe=1;var e=o6(),t=TQt(),r=l6(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,u=o.call(Object);function f(h){if(!r(h)||e(h)!=n)return!1;var p=t(h);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return a(f,"isPlainObject"),OK=f,OK}a(MQt,"requireIsPlainObject");var qK,ALe;function _B(){if(ALe)return qK;ALe=1;var e=o6(),t=l6(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return a(n,"isSymbol"),qK=n,qK}a(_B,"requireIsSymbol");var PK,ELe;function BQt(){if(ELe)return PK;ELe=1;var e=ly(),t=_B(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return a(i,"isKey"),PK=i,PK}a(BQt,"require_isKey");var FK,SLe;function RQt(){if(SLe)return FK;SLe=1;var e=oB,t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return a(r,"memoizeCapped"),FK=r,FK}a(RQt,"require_memoizeCapped");var UK,kLe;function LQt(){if(kLe)return UK;kLe=1;var e=RQt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,u,f){s.push(u?f.replace(r,"$1"):l||o)}),s});return UK=n,UK}a(LQt,"require_stringToPath");var YK,CLe;function DQt(){if(CLe)return YK;CLe=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return a(e,"arrayMap"),YK=e,YK}a(DQt,"require_arrayMap");var HK,ILe;function NQt(){if(ILe)return HK;ILe=1;var e=rB(),t=DQt(),r=ly(),n=_B(),i=1/0,s=e?e.prototype:void 0,o=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var f=u+"";return f=="0"&&1/u==-i?"-0":f}return a(l,"baseToString"),HK=l,HK}a(NQt,"require_baseToString");var zK,TLe;function DNe(){if(TLe)return zK;TLe=1;var e=NQt();function t(r){return r==null?"":e(r)}return a(t,"toString"),zK=t,zK}a(DNe,"requireToString");var QK,MLe;function xB(){if(MLe)return QK;MLe=1;var e=ly(),t=BQt(),r=LQt(),n=DNe();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return a(i,"castPath"),QK=i,QK}a(xB,"require_castPath");var WK,BLe;function AX(){if(BLe)return WK;BLe=1;var e=_B(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-t?"-0":i}return a(r,"toKey"),WK=r,WK}a(AX,"require_toKey");var VK,RLe;function OQt(){if(RLe)return VK;RLe=1;var e=xB(),t=AX();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return a(r,"baseGet"),VK=r,VK}a(OQt,"require_baseGet");var jK,LLe;function qQt(){if(LLe)return jK;LLe=1;var e=INe();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return a(t,"baseAssignValue"),jK=t,jK}a(qQt,"require_baseAssignValue");var GK,DLe;function PQt(){if(DLe)return GK;DLe=1;var e=qQt(),t=iB(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l){var u=s[o];(!(n.call(s,o)&&t(u,l))||l===void 0&&!(o in s))&&e(s,o,l)}return a(i,"assignValue"),GK=i,GK}a(PQt,"require_assignValue");var KK,NLe;function FQt(){if(NLe)return KK;NLe=1;var e=PQt(),t=xB(),r=vB(),n=Mv(),i=AX();function s(o,l,u,f){if(!n(o))return o;l=t(l,o);for(var h=-1,p=l.length,g=p-1,y=o;y!=null&&++h<p;){var E=i(l[h]),M=u;if(E==="__proto__"||E==="constructor"||E==="prototype")return o;if(h!=g){var z=y[E];M=f?f(z,E,y):void 0,M===void 0&&(M=n(z)?z:r(l[h+1])?[]:{})}e(y,E,M),y=y[E]}return o}return a(s,"baseSet"),KK=s,KK}a(FQt,"require_baseSet");var $K,OLe;function UQt(){if(OLe)return $K;OLe=1;var e=OQt(),t=FQt(),r=xB();function n(i,s,o){for(var l=-1,u=s.length,f={};++l<u;){var h=s[l],p=e(i,h);o(p,h)&&t(f,r(h,i),p)}return f}return a(n,"basePickBy"),$K=n,$K}a(UQt,"require_basePickBy");var XK,qLe;function YQt(){if(qLe)return XK;qLe=1;function e(t,r){return t!=null&&r in Object(t)}return a(e,"baseHasIn"),XK=e,XK}a(YQt,"require_baseHasIn");var JK,PLe;function NNe(){if(PLe)return JK;PLe=1;var e=xB(),t=wX(),r=ly(),n=vB(),i=xX(),s=AX();function o(l,u,f){u=e(u,l);for(var h=-1,p=u.length,g=!1;++h<p;){var y=s(u[h]);if(!(g=l!=null&&f(l,y)))break;l=l[y]}return g||++h!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||t(l)))}return a(o,"hasPath"),JK=o,JK}a(NNe,"require_hasPath");var ZK,FLe;function HQt(){if(FLe)return ZK;FLe=1;var e=YQt(),t=NNe();function r(n,i){return n!=null&&t(n,i,e)}return a(r,"hasIn"),ZK=r,ZK}a(HQt,"requireHasIn");var e$,ULe;function zQt(){if(ULe)return e$;ULe=1;var e=UQt(),t=HQt();function r(n,i){return e(n,i,function(s,o){return t(n,o)})}return a(r,"basePick"),e$=r,e$}a(zQt,"require_basePick");var t$,YLe;function QQt(){if(YLe)return t$;YLe=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return a(e,"arrayPush"),t$=e,t$}a(QQt,"require_arrayPush");var r$,HLe;function WQt(){if(HLe)return r$;HLe=1;var e=rB(),t=wX(),r=ly(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return a(i,"isFlattenable"),r$=i,r$}a(WQt,"require_isFlattenable");var n$,zLe;function VQt(){if(zLe)return n$;zLe=1;var e=QQt(),t=WQt();function r(n,i,s,o,l){var u=-1,f=n.length;for(s||(s=t),l||(l=[]);++u<f;){var h=n[u];i>0&&s(h)?i>1?r(h,i-1,s,o,l):e(l,h):o||(l[l.length]=h)}return l}return a(r,"baseFlatten"),n$=r,n$}a(VQt,"require_baseFlatten");var i$,QLe;function jQt(){if(QLe)return i$;QLe=1;var e=VQt();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return a(t,"flatten"),i$=t,i$}a(jQt,"requireFlatten");var a$,WLe;function GQt(){if(WLe)return a$;WLe=1;var e=jQt(),t=CNe(),r=TNe();function n(i){return r(t(i,void 0,e),i+"")}return a(n,"flatRest"),a$=n,a$}a(GQt,"require_flatRest");var s$,VLe;function KQt(){if(VLe)return s$;VLe=1;var e=zQt(),t=GQt(),r=t(function(n,i){return n==null?{}:e(n,i)});return s$=r,s$}a(KQt,"requirePick");var o$,jLe;function $Qt(){if(jLe)return o$;jLe=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return a(r,"baseHas"),o$=r,o$}a($Qt,"require_baseHas");var c$,GLe;function XQt(){if(GLe)return c$;GLe=1;var e=$Qt(),t=NNe();function r(n,i){return n!=null&&t(n,i,e)}return a(r,"has"),c$=r,c$}a(XQt,"requireHas");var l$,KLe;function JQt(){if(KLe)return l$;KLe=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var l=-1,u=t(e((i-n)/(s||1)),0),f=Array(u);u--;)f[o?u:++l]=n,n+=s;return f}return a(r,"baseRange"),l$=r,l$}a(JQt,"require_baseRange");var u$,$Le;function ZQt(){if($Le)return u$;$Le=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return a(t,"trimmedEndIndex"),u$=t,u$}a(ZQt,"require_trimmedEndIndex");var f$,XLe;function eWt(){if(XLe)return f$;XLe=1;var e=ZQt(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return a(r,"baseTrim"),f$=r,f$}a(eWt,"require_baseTrim");var h$,JLe;function tWt(){if(JLe)return h$;JLe=1;var e=eWt(),t=Mv(),r=_B(),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=s.test(f);return p||o.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return a(u,"toNumber"),h$=u,h$}a(tWt,"requireToNumber");var d$,ZLe;function rWt(){if(ZLe)return d$;ZLe=1;var e=tWt(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return a(n,"toFinite"),d$=n,d$}a(rWt,"requireToFinite");var p$,eDe;function nWt(){if(eDe)return p$;eDe=1;var e=JQt(),t=MNe(),r=rWt();function n(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,i)}}return a(n,"createRange"),p$=n,p$}a(nWt,"require_createRange");var g$,tDe;function iWt(){if(tDe)return g$;tDe=1;var e=nWt(),t=e();return g$=t,g$}a(iWt,"requireRange");var y$,rDe;function aWt(){if(rDe)return y$;rDe=1;var e=DNe(),t=0;function r(n){var i=++t;return e(n)+i}return a(r,"uniqueId"),y$=r,y$}a(aWt,"requireUniqueId");var QM;if(typeof Zzt=="function")try{QM={defaults:yQt(),each:IQt(),isFunction:J$(),isPlainObject:MQt(),pick:KQt(),has:XQt(),range:iWt(),uniqueId:aWt()}}catch{}QM||(QM=window._);var sWt=QM,nDe=sWt,oWt={isSubgraph:cWt,edgeToId:lWt,applyStyle:fWt,applyClass:hWt,applyTransition:dWt};function cWt(e,t){return!!e.children(t).length}a(cWt,"isSubgraph");function lWt(e){return m$(e.v)+":"+m$(e.w)+":"+m$(e.name)}a(lWt,"edgeToId");var uWt=/:/g;function m$(e){return e?String(e).replace(uWt,"\\:"):""}a(m$,"escapeId");function fWt(e,t){t&&e.attr("style",t)}a(fWt,"applyStyle");function hWt(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}a(hWt,"applyClass");function dWt(e,t){var r=t.graph();if(nDe.isPlainObject(r)){var n=r.transition;if(nDe.isFunction(n))return n(e)}return e}a(dWt,"applyTransition");var pWt=oWt,ONe=gWt;function gWt(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}pWt.applyStyle(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n.node().getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}a(gWt,"addHtmlLabel");function qNe(e,t,r){let n=t.width,i=t.height,s=(n+i)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],l=bd(e,s,s,o);return r.intersect=function(u){return Do.default.intersect.polygon(r,o,u)},l}a(qNe,"question");function PNe(e,t,r){let i=t.height,s=i/4,o=t.width+2*s,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-i/2},{x:o-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],u=bd(e,o,i,l);return r.intersect=function(f){return Do.default.intersect.polygon(r,l,f)},u}a(PNe,"hexagon");function FNe(e,t,r){let n=t.width,i=t.height,s=[{x:-i/2,y:0},{x:n,y:0},{x:n,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(FNe,"rect_left_inv_arrow");function UNe(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:i/6,y:-i}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(UNe,"lean_right");function YNe(e,t,r){let n=t.width,i=t.height,s=[{x:2*i/6,y:0},{x:n+i/6,y:0},{x:n-2*i/6,y:-i},{x:-i/6,y:-i}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(YNe,"lean_left");function HNe(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n+2*i/6,y:0},{x:n-i/6,y:-i},{x:i/6,y:-i}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(HNe,"trapezoid");function zNe(e,t,r){let n=t.width,i=t.height,s=[{x:i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(zNe,"inv_trapezoid");function QNe(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n+i/2,y:0},{x:n,y:-i/2},{x:n+i/2,y:-i},{x:0,y:-i}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(QNe,"rect_right_inv_arrow");function WNe(e,t,r){let n=t.height,i=t.width+n/4,s=e.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return r.intersect=function(o){return Do.default.intersect.rect(r,o)},s}a(WNe,"stadium");function VNe(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=bd(e,n,i,s);return r.intersect=function(l){return Do.default.intersect.polygon(r,s,l)},o}a(VNe,"subroutine");function jNe(e,t,r){let n=t.width,i=n/2,s=i/(2.5+n/50),o=t.height+s,l="M 0,"+s+" a "+i+","+s+" 0,0,0 "+n+" 0 a "+i+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+i+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,u=e.attr("label-offset-y",s).insert("path",":first-child").attr("d",l).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return r.intersect=function(f){let h=Do.default.intersect.rect(r,f),p=h.x-r.x;if(i!=0&&(Math.abs(p)<r.width/2||Math.abs(p)==r.width/2&&Math.abs(h.y-r.y)>r.height/2-s)){let g=s*s*(1-p*p/(i*i));g!=0&&(g=Math.sqrt(g)),g=s-g,f.y-r.y>0&&(g=-g),h.y+=g}return h},u}a(jNe,"cylinder");function yWt(e){e.shapes().question=qNe,e.shapes().hexagon=PNe,e.shapes().stadium=WNe,e.shapes().subroutine=VNe,e.shapes().cylinder=jNe,e.shapes().rect_left_inv_arrow=FNe,e.shapes().lean_right=UNe,e.shapes().lean_left=YNe,e.shapes().trapezoid=HNe,e.shapes().inv_trapezoid=zNe,e.shapes().rect_right_inv_arrow=QNe}a(yWt,"addToRender");function mWt(e){e({question:qNe}),e({hexagon:PNe}),e({stadium:WNe}),e({subroutine:VNe}),e({cylinder:jNe}),e({rect_left_inv_arrow:FNe}),e({lean_right:UNe}),e({lean_left:YNe}),e({trapezoid:HNe}),e({inv_trapezoid:zNe}),e({rect_right_inv_arrow:QNe})}a(mWt,"addToRenderV2");function bd(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-t/2+","+r/2+")")}a(bd,"insertPolygonShape");var bWt={addToRender:yWt,addToRenderV2:mWt},GNe={},vWt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)GNe[t[r]]=e[t[r]]},"setConf$7"),KNe=a(function(e,t,r,n,i,s){let o=n?n.select(`[id="${r}"]`):Zt(`[id="${r}"]`),l=i||document;Object.keys(e).forEach(function(f){let h=e[f],p="default";h.classes.length>0&&(p=h.classes.join(" "));let g=pp(h.styles),y=h.text!==void 0?h.text:h.id,E;if(ns(ft().flowchart.htmlLabels)){let P={label:y.replace(/fa[lrsb]?:fa-[\w-]+/g,Q=>`<i class='${Q.replace(":"," ")}'></i>`)};E=ONe(o,P).node(),E.parentNode.removeChild(E)}else{let P=l.createElementNS("http://www.w3.org/2000/svg","text");P.setAttribute("style",g.labelStyle.replace("color:","fill:"));let Q=y.split(Gr.lineBreakRegex);for(let V=0;V<Q.length;V++){let W=l.createElementNS("http://www.w3.org/2000/svg","tspan");W.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),W.setAttribute("dy","1em"),W.setAttribute("x","1"),W.textContent=Q[V],P.appendChild(W)}E=P}let M=0,z="";switch(h.type){case"round":M=5,z="rect";break;case"square":z="rect";break;case"diamond":z="question";break;case"hexagon":z="hexagon";break;case"odd":z="rect_left_inv_arrow";break;case"lean_right":z="lean_right";break;case"lean_left":z="lean_left";break;case"trapezoid":z="trapezoid";break;case"inv_trapezoid":z="inv_trapezoid";break;case"odd_right":z="rect_left_inv_arrow";break;case"circle":z="circle";break;case"ellipse":z="ellipse";break;case"stadium":z="stadium";break;case"subroutine":z="subroutine";break;case"cylinder":z="cylinder";break;case"group":z="rect";break;default:z="rect"}Pe.warn("Adding node",h.id,h.domId),t.setNode(s.db.lookUpDomId(h.id),{labelType:"svg",labelStyle:g.labelStyle,shape:z,label:E,rx:M,ry:M,class:p,style:g.style,id:s.db.lookUpDomId(h.id)})})},"addVertices$1"),$Ne=a(function(e,t,r){let n=0,i,s;if(typeof e.defaultStyle<"u"){let o=pp(e.defaultStyle);i=o.style,s=o.labelStyle}e.forEach(function(o){n++;var l="L-"+o.start+"-"+o.end,u="LS-"+o.start,f="LE-"+o.end;let h={};o.type==="arrow_open"?h.arrowhead="none":h.arrowhead="normal";let p="",g="";if(typeof o.style<"u"){let y=pp(o.style);p=y.style,g=y.labelStyle}else switch(o.stroke){case"normal":p="fill:none",typeof i<"u"&&(p=i),typeof s<"u"&&(g=s);break;case"dotted":p="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":p=" stroke-width: 3.5px;fill:none";break}h.style=p,h.labelStyle=g,typeof o.interpolate<"u"?h.curve=gf(o.interpolate,no):typeof e.defaultInterpolate<"u"?h.curve=gf(e.defaultInterpolate,no):h.curve=gf(GNe.curve,no),typeof o.text>"u"?typeof o.style<"u"&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",ns(ft().flowchart.htmlLabels)?(h.labelType="html",h.label=`<span id="L-${l}" class="edgeLabel L-${u}' L-${f}" style="${h.labelStyle}">${o.text.replace(/fa[lrsb]?:fa-[\w-]+/g,y=>`<i class='${y.replace(":"," ")}'></i>`)}</span>`):(h.labelType="text",h.label=o.text.replace(Gr.lineBreakRegex,`
`),typeof o.style>"u"&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=l,h.class=u+" "+f,h.minlen=o.length||1,t.setEdge(r.db.lookUpDomId(o.start),r.db.lookUpDomId(o.end),h,n)})},"addEdges$1"),_Wt=a(function(e,t){Pe.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},"getClasses$3"),xWt=a(function(e,t,r,n){Pe.info("Drawing flowchart"),n.db.clear();let{securityLevel:i,flowchart:s}=ft(),o;i==="sandbox"&&(o=Zt("#i"+t));let l=i==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),u=i==="sandbox"?o.nodes()[0].contentDocument:document;try{n.parser.parse(e)}catch{Pe.debug("Parsing failed")}let f=n.db.getDirection();typeof f>"u"&&(f="TD");let h=s.nodeSpacing||50,p=s.rankSpacing||50,g=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:f,nodesep:h,ranksep:p,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),y,E=n.db.getSubGraphs();for(let S=E.length-1;S>=0;S--)y=E[S],n.db.addVertex(y.id,y.title,"group",void 0,y.classes);let M=n.db.getVertices();Pe.warn("Get vertices",M);let z=n.db.getEdges(),P=0;for(P=E.length-1;P>=0;P--){y=E[P],Ab("cluster").append("text");for(let S=0;S<y.nodes.length;S++)Pe.warn("Setting subgraph",y.nodes[S],n.db.lookUpDomId(y.nodes[S]),n.db.lookUpDomId(y.id)),g.setParent(n.db.lookUpDomId(y.nodes[S]),n.db.lookUpDomId(y.id))}KNe(M,g,t,l,u,n),$Ne(z,g,n);let Q=Do.default.render,V=new Q;bWt.addToRender(V),V.arrows().none=a(function(T,k,R,x){let m=T.append("marker").attr("id",k).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Do.default.util.applyStyle(m,R[x+"Style"])},"normal"),V.arrows().normal=a(function(T,k){T.append("marker").attr("id",k).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"normal");let W=l.select(`[id="${t}"]`);Oo(n.db,W,t);let F=l.select("#"+t+" g");for(V(F,g),F.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+P),P=0;P<E.length;P++)if(y=E[P],y.title!=="undefined"){let S=u.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(y.id)+'"] rect'),T=u.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(y.id)+'"]'),k=S[0].x.baseVal.value,R=S[0].y.baseVal.value,x=S[0].width.baseVal.value,m=Zt(T[0]).select(".label");m.attr("transform",`translate(${k+x/2}, ${R+14})`),m.attr("id",t+"Text");for(let v=0;v<y.classes.length;v++)T[0].classList.add(y.classes[v])}if(!s.htmlLabels){let S=u.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let T=0;T<S.length;T++){let k=S[T],R=k.getBBox(),x=u.createElementNS("http://www.w3.org/2000/svg","rect");x.setAttribute("rx",0),x.setAttribute("ry",0),x.setAttribute("width",R.width),x.setAttribute("height",R.height),k.insertBefore(x,k.firstChild)}}uB(g,W,s.diagramPadding,s.useMaxWidth),Object.keys(M).forEach(function(S){let T=M[S];if(T.link){let k=l.select("#"+t+' [id="'+n.db.lookUpDomId(S)+'"]');if(k){let R=u.createElementNS("http://www.w3.org/2000/svg","a");R.setAttributeNS("http://www.w3.org/2000/svg","class",T.classes.join(" ")),R.setAttributeNS("http://www.w3.org/2000/svg","href",T.link),R.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?R.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):T.linkTarget&&R.setAttributeNS("http://www.w3.org/2000/svg","target",T.linkTarget);let x=k.insert(function(){return R},":first-child"),N=k.select(".label-container");N&&x.append(function(){return N.node()});let m=k.select(".label");m&&x.append(function(){return m.node()})}}})},"draw$a"),EX={setConf:vWt,addVertices:KNe,addEdges:$Ne,getClasses:_Wt,draw:xWt},XNe={},wWt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)XNe[t[r]]=e[t[r]]},"setConf$6"),JNe=a(function(e,t,r,n,i,s){let o=n.select(`[id="${r}"]`);Object.keys(e).forEach(function(u){let f=e[u],h="default";f.classes.length>0&&(h=f.classes.join(" "));let p=pp(f.styles),g=f.text!==void 0?f.text:f.id,y;if(ns(ft().flowchart.htmlLabels)){let z={label:g.replace(/fa[lrsb]?:fa-[\w-]+/g,P=>`<i class='${P.replace(":"," ")}'></i>`)};y=ONe(o,z).node(),y.parentNode.removeChild(y)}else{let z=i.createElementNS("http://www.w3.org/2000/svg","text");z.setAttribute("style",p.labelStyle.replace("color:","fill:"));let P=g.split(Gr.lineBreakRegex);for(let Q=0;Q<P.length;Q++){let V=i.createElementNS("http://www.w3.org/2000/svg","tspan");V.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),V.setAttribute("dy","1em"),V.setAttribute("x","1"),V.textContent=P[Q],z.appendChild(V)}y=z}let E=0,M="";switch(f.type){case"round":E=5,M="rect";break;case"square":M="rect";break;case"diamond":M="question";break;case"hexagon":M="hexagon";break;case"odd":M="rect_left_inv_arrow";break;case"lean_right":M="lean_right";break;case"lean_left":M="lean_left";break;case"trapezoid":M="trapezoid";break;case"inv_trapezoid":M="inv_trapezoid";break;case"odd_right":M="rect_left_inv_arrow";break;case"circle":M="circle";break;case"ellipse":M="ellipse";break;case"stadium":M="stadium";break;case"subroutine":M="subroutine";break;case"cylinder":M="cylinder";break;case"group":M="rect";break;case"doublecircle":M="doublecircle";break;default:M="rect"}t.setNode(f.id,{labelStyle:p.labelStyle,shape:M,labelText:g,rx:E,ry:E,class:h,style:p.style,id:f.id,link:f.link,linkTarget:f.linkTarget,tooltip:s.db.getTooltip(f.id)||"",domId:s.db.lookUpDomId(f.id),haveCallback:f.haveCallback,width:f.type==="group"?500:void 0,dir:f.dir,type:f.type,props:f.props,padding:ft().flowchart.padding}),Pe.info("setNode",{labelStyle:p.labelStyle,shape:M,labelText:g,rx:E,ry:E,class:h,style:p.style,id:f.id,domId:s.db.lookUpDomId(f.id),width:f.type==="group"?500:void 0,type:f.type,dir:f.dir,props:f.props,padding:ft().flowchart.padding})})},"addVertices"),ZNe=a(function(e,t,r){Pe.info("abc78 edges = ",e);let n=0,i={},s,o;if(typeof e.defaultStyle<"u"){let l=pp(e.defaultStyle);s=l.style,o=l.labelStyle}e.forEach(function(l){n++;var u="L-"+l.start+"-"+l.end;typeof i[u]>"u"?(i[u]=0,Pe.info("abc78 new entry",u,i[u])):(i[u]++,Pe.info("abc78 new entry",u,i[u]));let f=u+"-"+i[u];Pe.info("abc78 new link id to be used is",u,f,i[u]);var h="LS-"+l.start,p="LE-"+l.end;let g={style:"",labelStyle:""};switch(g.minlen=l.length||1,l.type==="arrow_open"?g.arrowhead="none":g.arrowhead="normal",g.arrowTypeStart="arrow_open",g.arrowTypeEnd="arrow_open",l.type){case"double_arrow_cross":g.arrowTypeStart="arrow_cross";case"arrow_cross":g.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":g.arrowTypeStart="arrow_point";case"arrow_point":g.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":g.arrowTypeStart="arrow_circle";case"arrow_circle":g.arrowTypeEnd="arrow_circle";break}let y="",E="";switch(l.stroke){case"normal":y="fill:none;",typeof s<"u"&&(y=s),typeof o<"u"&&(E=o),g.thickness="normal",g.pattern="solid";break;case"dotted":g.thickness="normal",g.pattern="dotted",g.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":g.thickness="thick",g.pattern="solid",g.style="stroke-width: 3.5px;fill:none;";break;case"invisible":g.thickness="invisible",g.pattern="solid",g.style="stroke-width: 0;fill:none;";break}if(typeof l.style<"u"){let M=pp(l.style);y=M.style,E=M.labelStyle}g.style=g.style+=y,g.labelStyle=g.labelStyle+=E,typeof l.interpolate<"u"?g.curve=gf(l.interpolate,no):typeof e.defaultInterpolate<"u"?g.curve=gf(e.defaultInterpolate,no):g.curve=gf(XNe.curve,no),typeof l.text>"u"?typeof l.style<"u"&&(g.arrowheadStyle="fill: #333"):(g.arrowheadStyle="fill: #333",g.labelpos="c"),g.labelType="text",g.label=l.text.replace(Gr.lineBreakRegex,`
`),typeof l.style>"u"&&(g.style=g.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),g.labelStyle=g.labelStyle.replace("color:","fill:"),g.id=f,g.classes="flowchart-link "+h+" "+p,t.setEdge(l.start,l.end,g,n)})},"addEdges"),AWt=a(function(e,t){Pe.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},"getClasses$2"),EWt=a(function(e,t,r,n){Pe.info("Drawing flowchart"),n.db.clear(),hd.setGen("gen-2"),n.parser.parse(e);let i=n.db.getDirection();typeof i>"u"&&(i="TD");let{securityLevel:s,flowchart:o}=ft(),l=o.nodeSpacing||50,u=o.rankSpacing||50,f;s==="sandbox"&&(f=Zt("#i"+t));let h=s==="sandbox"?Zt(f.nodes()[0].contentDocument.body):Zt("body"),p=s==="sandbox"?f.nodes()[0].contentDocument:document,g=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:l,ranksep:u,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}}),y,E=n.db.getSubGraphs();Pe.info("Subgraphs - ",E);for(let F=E.length-1;F>=0;F--)y=E[F],Pe.info("Subgraph - ",y),n.db.addVertex(y.id,y.title,"group",void 0,y.classes,y.dir);let M=n.db.getVertices(),z=n.db.getEdges();Pe.info(z);let P=0;for(P=E.length-1;P>=0;P--){y=E[P],Ab("cluster").append("text");for(let F=0;F<y.nodes.length;F++)Pe.info("Setting up subgraphs",y.nodes[F],y.id),g.setParent(y.nodes[F],y.id)}JNe(M,g,t,h,p,n),ZNe(z,g);let Q=h.select(`[id="${t}"]`);Oo(n.db,Q,t);let V=h.select("#"+t+" g");if(gX(V,g,["point","circle","cross"],"flowchart",t),uB(g,Q,o.diagramPadding,o.useMaxWidth),n.db.indexNodes("subGraph"+P),!o.htmlLabels){let F=p.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let B=0;B<F.length;B++){let S=F[B],T=S.getBBox(),k=p.createElementNS("http://www.w3.org/2000/svg","rect");k.setAttribute("rx",0),k.setAttribute("ry",0),k.setAttribute("width",T.width),k.setAttribute("height",T.height),S.insertBefore(k,S.firstChild)}}Object.keys(M).forEach(function(F){let B=M[F];if(B.link){let S=Zt("#"+t+' [id="'+F+'"]');if(S){let T=p.createElementNS("http://www.w3.org/2000/svg","a");T.setAttributeNS("http://www.w3.org/2000/svg","class",B.classes.join(" ")),T.setAttributeNS("http://www.w3.org/2000/svg","href",B.link),T.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?T.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):B.linkTarget&&T.setAttributeNS("http://www.w3.org/2000/svg","target",B.linkTarget);let k=S.insert(function(){return T},":first-child"),R=S.select(".label-container");R&&k.append(function(){return R.node()});let x=S.select(".label");x&&k.append(function(){return x.node()})}}})},"draw$9"),b$={setConf:wWt,addVertices:JNe,addEdges:ZNe,getClasses:AWt,draw:EWt},L$=function(){var e=a(function(S,T,k,R){for(k=k||{},R=S.length;R--;k[S[R]]=T);return k},"o"),t=[1,3],r=[1,5],n=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],s=[1,16],o=[1,17],l=[1,18],u=[1,19],f=[1,20],h=[1,21],p=[1,22],g=[1,23],y=[1,24],E=[1,25],M=[1,26],z=[1,28],P=[1,30],Q=[1,33],V=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],W={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:a(function(T,k,R,x,N,m,v){var A=m.length-1;switch(N){case 2:return m[A-1];case 3:this.$=[];break;case 4:m[A-1].push(m[A]),this.$=m[A-1];break;case 5:case 6:this.$=m[A];break;case 7:case 8:this.$=[];break;case 9:x.setDateFormat(m[A].substr(11)),this.$=m[A].substr(11);break;case 10:x.enableInclusiveEndDates(),this.$=m[A].substr(18);break;case 11:x.TopAxis(),this.$=m[A].substr(8);break;case 12:x.setAxisFormat(m[A].substr(11)),this.$=m[A].substr(11);break;case 13:x.setExcludes(m[A].substr(9)),this.$=m[A].substr(9);break;case 14:x.setIncludes(m[A].substr(9)),this.$=m[A].substr(9);break;case 15:x.setTodayMarker(m[A].substr(12)),this.$=m[A].substr(12);break;case 16:x.setDiagramTitle(m[A].substr(6)),this.$=m[A].substr(6);break;case 17:this.$=m[A].trim(),x.setAccTitle(this.$);break;case 18:case 19:this.$=m[A].trim(),x.setAccDescription(this.$);break;case 20:x.addSection(m[A].substr(8)),this.$=m[A].substr(8);break;case 22:x.addTask(m[A-1],m[A]),this.$="task";break;case 26:this.$=m[A-1],x.setClickEvent(m[A-1],m[A],null);break;case 27:this.$=m[A-2],x.setClickEvent(m[A-2],m[A-1],m[A]);break;case 28:this.$=m[A-2],x.setClickEvent(m[A-2],m[A-1],null),x.setLink(m[A-2],m[A]);break;case 29:this.$=m[A-3],x.setClickEvent(m[A-3],m[A-2],m[A-1]),x.setLink(m[A-3],m[A]);break;case 30:this.$=m[A-2],x.setClickEvent(m[A-2],m[A],null),x.setLink(m[A-2],m[A-1]);break;case 31:this.$=m[A-3],x.setClickEvent(m[A-3],m[A-1],m[A]),x.setLink(m[A-3],m[A-2]);break;case 32:this.$=m[A-1],x.setLink(m[A-1],m[A]);break;case 33:case 39:this.$=m[A-1]+" "+m[A];break;case 34:case 35:case 37:this.$=m[A-2]+" "+m[A-1]+" "+m[A];break;case 36:case 38:this.$=m[A-3]+" "+m[A-2]+" "+m[A-1]+" "+m[A];break;case 40:x.parseDirective("%%{","open_directive");break;case 41:x.parseDirective(m[A],"type_directive");break;case 42:m[A]=m[A].trim().replace(/'/g,'"'),x.parseDirective(m[A],"arg_directive");break;case 43:x.parseDirective("}%%","close_directive","gantt");break}},"anonymous"),table:[{3:1,4:2,5:t,29:4,39:r},{1:[3]},{3:6,4:2,5:t,29:4,39:r},e(n,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:s,14:o,15:l,16:u,17:f,18:h,19:p,20:g,22:y,24:E,25:M,26:27,27:z,29:4,34:P,39:r},{31:31,32:[1,32],42:Q},e([32,42],[2,41]),e(n,[2,8],{1:[2,2]}),e(n,[2,4]),{4:29,10:34,12:i,13:s,14:o,15:l,16:u,17:f,18:h,19:p,20:g,22:y,24:E,25:M,26:27,27:z,29:4,34:P,39:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,9]),e(n,[2,10]),e(n,[2,11]),e(n,[2,12]),e(n,[2,13]),e(n,[2,14]),e(n,[2,15]),e(n,[2,16]),{21:[1,35]},{23:[1,36]},e(n,[2,19]),e(n,[2,20]),e(n,[2,21]),{28:[1,37]},e(n,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},e(n,[2,5]),e(n,[2,17]),e(n,[2,18]),e(n,[2,22]),e(n,[2,26],{36:[1,43],37:[1,44]}),e(n,[2,32],{35:[1,45]}),e(V,[2,24]),{31:46,42:Q},{42:[2,42]},e(n,[2,27],{37:[1,47]}),e(n,[2,28]),e(n,[2,30],{36:[1,48]}),{11:[1,49]},e(n,[2,29]),e(n,[2,31]),e(V,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:a(function(T,k){if(k.recoverable)this.trace(T);else{var R=new Error(T);throw R.hash=k,R}},"parseError"),parse:a(function(T){var k=this,R=[0],x=[],N=[null],m=[],v=this.table,A="",U=0,G=0,K=2,Z=1,O=m.slice.call(arguments,1),$=Object.create(this.lexer),L={yy:{}};for(var ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ee)&&(L.yy[ee]=this.yy[ee]);$.setInput(T,L.yy),L.yy.lexer=$,L.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var ve=$.yylloc;m.push(ve);var ye=$.options&&$.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function se(){var De;return De=x.pop()||$.lex()||Z,typeof De!="number"&&(De instanceof Array&&(x=De,De=x.pop()),De=k.symbols_[De]||De),De}a(se,"lex");for(var be,Y,D,J,q={},I,H,te,ie;;){if(Y=R[R.length-1],this.defaultActions[Y]?D=this.defaultActions[Y]:((be===null||typeof be>"u")&&(be=se()),D=v[Y]&&v[Y][be]),typeof D>"u"||!D.length||!D[0]){var he="";ie=[];for(I in v[Y])this.terminals_[I]&&I>K&&ie.push("'"+this.terminals_[I]+"'");$.showPosition?he="Parse error on line "+(U+1)+`:
`+$.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[be]||be)+"'":he="Parse error on line "+(U+1)+": Unexpected "+(be==Z?"end of input":"'"+(this.terminals_[be]||be)+"'"),this.parseError(he,{text:$.match,token:this.terminals_[be]||be,line:$.yylineno,loc:ve,expected:ie})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+be);switch(D[0]){case 1:R.push(be),N.push($.yytext),m.push($.yylloc),R.push(D[1]),be=null,G=$.yyleng,A=$.yytext,U=$.yylineno,ve=$.yylloc;break;case 2:if(H=this.productions_[D[1]][1],q.$=N[N.length-H],q._$={first_line:m[m.length-(H||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(H||1)].first_column,last_column:m[m.length-1].last_column},ye&&(q._$.range=[m[m.length-(H||1)].range[0],m[m.length-1].range[1]]),J=this.performAction.apply(q,[A,G,U,L.yy,D[1],N,m].concat(O)),typeof J<"u")return J;H&&(R=R.slice(0,-1*H*2),N=N.slice(0,-1*H),m=m.slice(0,-1*H)),R.push(this.productions_[D[1]][0]),N.push(q.$),m.push(q._$),te=v[R[R.length-2]][R[R.length-1]],R.push(te);break;case 3:return!0}}return!0},"parse2")},F=function(){var S={EOF:1,parseError:a(function(k,R){if(this.yy.parser)this.yy.parser.parseError(k,R);else throw new Error(k)},"parseError"),setInput:function(T,k){return this.yy=k||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var k=T.match(/(?:\r\n?|\n).*/g);return k?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},unput:function(T){var k=T.length,R=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===x.length?this.yylloc.first_column:0)+x[x.length-R.length].length-R[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(T){this.unput(this.match.slice(T))},pastInput:function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var T=this.pastInput(),k=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+k+"^"},test_match:function(T,k){var R,x,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),x=T[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],R=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var m in N)this[m]=N[m];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,k,R,x;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),m=0;m<N.length;m++)if(R=this._input.match(this.rules[N[m]]),R&&(!k||R[0].length>k[0].length)){if(k=R,x=m,this.options.backtrack_lexer){if(T=this.test_match(R,N[m]),T!==!1)return T;if(this._backtrack){k=!1;continue}else return!1}else if(!this.options.flex)break}return k?(T=this.test_match(k,N[x]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var k=this.next();return k||this.lex()},"lex"),begin:a(function(k){this.conditionStack.push(k)},"begin"),popState:a(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:a(function(k){this.begin(k)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(k,R,x,N){switch(x){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 37;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 26:this.popState();break;case 27:return 36;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};return S}();W.lexer=F;function B(){this.yy={}}return a(B,"Parser"),B.prototype=W,W.Parser=B,new B}();L$.parser=L$;var SWt=a(e=>e.match(/^\s*gantt/)!==null,"ganttDetector"),pf="",SX="",kX="",u6=[],f6=[],CX={},IX=[],WM=[],Av="",eOe=["active","done","crit","milestone"],VM=[],h6=!1,TX=!1,D$=0,kWt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$6"),CWt=a(function(){IX=[],WM=[],Av="",VM=[],wM=0,O$=void 0,AM=void 0,wa=[],pf="",SX="",kX="",u6=[],f6=[],h6=!1,TX=!1,D$=0,CX={},eu()},"clear$5"),IWt=a(function(e){SX=e},"setAxisFormat"),TWt=a(function(){return SX},"getAxisFormat"),MWt=a(function(e){kX=e},"setTodayMarker"),BWt=a(function(){return kX},"getTodayMarker"),RWt=a(function(e){pf=e},"setDateFormat"),LWt=a(function(){h6=!0},"enableInclusiveEndDates"),DWt=a(function(){return h6},"endDatesAreInclusive"),NWt=a(function(){TX=!0},"enableTopAxis"),OWt=a(function(){return TX},"topAxisEnabled"),qWt=a(function(){return pf},"getDateFormat"),PWt=a(function(e){u6=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),FWt=a(function(){return u6},"getIncludes"),UWt=a(function(e){f6=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),YWt=a(function(){return f6},"getExcludes"),HWt=a(function(){return CX},"getLinks"),zWt=a(function(e){Av=e,IX.push(e)},"addSection$2"),QWt=a(function(){return IX},"getSections$2"),WWt=a(function(){let e=iDe(),t=10,r=0;for(;!e&&r<t;)e=iDe(),r++;return WM=wa,WM},"getTasks$1"),tOe=a(function(e,t,r,n){return n.indexOf(e.format(t.trim()))>=0?!1:e.isoWeekday()>=6&&r.indexOf("weekends")>=0||r.indexOf(e.format("dddd").toLowerCase())>=0?!0:r.indexOf(e.format(t.trim()))>=0},"isInvalidDate"),rOe=a(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i=(0,sl.default)(e.startTime,t,!0);i.add(1,"d");let s=(0,sl.default)(e.endTime,t,!0),o=VWt(i,s,t,r,n);e.endTime=s.toDate(),e.renderEndTime=o},"checkTaskDates"),VWt=a(function(e,t,r,n,i){let s=!1,o=null;for(;e<=t;)s||(o=t.toDate()),s=tOe(e,r,n,i),s&&t.add(1,"d"),e.add(1,"d");return o},"fixTaskDates"),N$=a(function(e,t,r){r=r.trim();let i=/^after\s+([\d\w- ]+)/.exec(r.trim());if(i!==null){let o=null;if(i[1].split(" ").forEach(function(l){let u=Dv(l);typeof u<"u"&&(o?u.endTime>o.endTime&&(o=u):o=u)}),o)return o.endTime;{let l=new Date;return l.setHours(0,0,0,0),l}}let s=(0,sl.default)(r,t.trim(),!0);if(s.isValid())return s.toDate();{Pe.debug("Invalid date:"+r),Pe.debug("With date format:"+t.trim());let o=new Date(r);if(typeof o>"u"||isNaN(o.getTime()))throw new Error("Invalid date:"+r);return o}},"getStartDate"),nOe=a(function(e){let t=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(e.trim());return t!==null?sl.default.duration(Number.parseFloat(t[1]),t[2]):sl.default.duration.invalid()},"parseDuration"),iOe=a(function(e,t,r,n){n=n||!1,r=r.trim();let i=(0,sl.default)(r,t.trim(),!0);if(i.isValid())return n&&i.add(1,"d"),i.toDate();let s=(0,sl.default)(e),o=nOe(r);return o.isValid()&&s.add(o),s.toDate()},"getEndDate"),wM=0,mv=a(function(e){return typeof e>"u"?(wM=wM+1,"task"+wM):e},"parseId"),jWt=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};cOe(n,i,eOe);for(let o=0;o<n.length;o++)n[o]=n[o].trim();let s="";switch(n.length){case 1:i.id=mv(),i.startTime=e.endTime,s=n[0];break;case 2:i.id=mv(),i.startTime=N$(void 0,pf,n[0]),s=n[1];break;case 3:i.id=mv(n[0]),i.startTime=N$(void 0,pf,n[1]),s=n[2];break}return s&&(i.endTime=iOe(i.startTime,pf,s,h6),i.manualEndTime=(0,sl.default)(s,"YYYY-MM-DD",!0).isValid(),rOe(i,pf,f6,u6)),i},"compileData"),GWt=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};cOe(n,i,eOe);for(let s=0;s<n.length;s++)n[s]=n[s].trim();switch(n.length){case 1:i.id=mv(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=mv(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=mv(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),O$,AM,wa=[],aOe={},KWt=a(function(e,t){let r={section:Av,type:Av,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=GWt(AM,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=AM,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=D$,D$++;let i=wa.push(r);AM=r.id,aOe[r.id]=i-1},"addTask$1"),Dv=a(function(e){let t=aOe[e];return wa[t]},"findTaskById"),$Wt=a(function(e,t){let r={section:Av,type:Av,description:e,task:e,classes:[]},n=jWt(O$,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,O$=r,WM.push(r)},"addTaskOrg$1"),iDe=a(function(){let e=a(function(r){let n=wa[r],i="";switch(wa[r].raw.startTime.type){case"prevTaskEnd":{let s=Dv(n.prevTaskId);n.startTime=s.endTime;break}case"getStartDate":i=N$(void 0,pf,wa[r].raw.startTime.startData),i&&(wa[r].startTime=i);break}return wa[r].startTime&&(wa[r].endTime=iOe(wa[r].startTime,pf,wa[r].raw.endTime.data,h6),wa[r].endTime&&(wa[r].processed=!0,wa[r].manualEndTime=(0,sl.default)(wa[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),rOe(wa[r],pf,f6,u6))),wa[r].processed},"compileTask"),t=!0;for(let r=0;r<wa.length;r++)e(r),t=t&&wa[r].processed;return t},"compileTasks$1"),XWt=a(function(e,t){let r=t;ft().securityLevel!=="loose"&&(r=(0,vf.sanitizeUrl)(t)),e.split(",").forEach(function(n){typeof Dv(n)<"u"&&(oOe(n,()=>{window.open(r,"_self")}),CX[n]=r)}),sOe(e,"clickable")},"setLink"),sOe=a(function(e,t){e.split(",").forEach(function(r){let n=Dv(r);typeof n<"u"&&n.classes.push(t)})},"setClass"),JWt=a(function(e,t,r){if(ft().securityLevel!=="loose"||typeof t>"u")return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<n.length;s++){let o=n[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),n[s]=o}}n.length===0&&n.push(e),typeof Dv(e)<"u"&&oOe(e,()=>{on.runFunc(t,...n)})},"setClickFun"),oOe=a(function(e,t){VM.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})}),VM.push(function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),ZWt=a(function(e,t,r){e.split(",").forEach(function(n){JWt(n,t,r)}),sOe(e,"clickable")},"setClickEvent"),eVt=a(function(e){VM.forEach(function(t){t(e)})},"bindFunctions"),MX={parseDirective:kWt,getConfig:()=>ft().gantt,clear:CWt,setDateFormat:RWt,getDateFormat:qWt,enableInclusiveEndDates:LWt,endDatesAreInclusive:DWt,enableTopAxis:NWt,topAxisEnabled:OWt,setAxisFormat:IWt,getAxisFormat:TWt,setTodayMarker:MWt,getTodayMarker:BWt,setAccTitle:ol,getAccTitle:tu,setDiagramTitle:hB,getDiagramTitle:dB,setAccDescription:ru,getAccDescription:nu,addSection:zWt,getSections:QWt,getTasks:WWt,addTask:KWt,findTaskById:Dv,addTaskOrg:$Wt,setIncludes:PWt,getIncludes:FWt,setExcludes:UWt,getExcludes:YWt,setClickEvent:ZWt,setLink:XWt,getLinks:HWt,bindFunctions:eVt,parseDuration:nOe,isInvalidDate:tOe};function cOe(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let s="^\\s*"+i+"\\s*$",o=new RegExp(s);e[0].match(o)&&(t[i]=!0,e.shift(1),n=!0)})}a(cOe,"getTaskTags");var tVt=a(function(){Pe.debug("Something is calling, setConf, remove the call")},"setConf$5"),od,rVt=a(function(e,t,r,n){let i=ft().gantt,s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let l=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),u=s==="sandbox"?o.nodes()[0].contentDocument:document,f=u.getElementById(t);od=f.parentElement.offsetWidth,typeof od>"u"&&(od=1200),typeof i.useWidth<"u"&&(od=i.useWidth);let h=n.db.getTasks(),p=h.length*(i.barHeight+i.barGap)+2*i.topPadding;f.setAttribute("viewBox","0 0 "+od+" "+p);let g=l.select(`[id="${t}"]`),y=S9().domain([bC(h,function(R){return R.startTime}),mC(h,function(R){return R.endTime})]).rangeRound([0,od-i.leftPadding-i.rightPadding]),E=[];for(let R=0;R<h.length;R++)E.push(h[R].type);let M=E;E=S(E);function z(R,x){let N=R.startTime,m=x.startTime,v=0;return N>m?v=1:N<m&&(v=-1),v}a(z,"taskCompare"),h.sort(z),P(h,od,p),Zl(g,p,od,i.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",od/2).attr("y",i.titleTopMargin).attr("class","titleText"),Oo(n.db,g,t);function P(R,x,N){let m=i.barHeight,v=m+i.barGap,A=i.topPadding,U=i.leftPadding,G=a4().domain([0,E.length]).range(["#00B9FA","#F95002"]).interpolate(Fz);V(v,A,U,x,N,R,n.db.getExcludes(),n.db.getIncludes()),W(U,A,x,N),Q(R,v,A,U,m,G,x),F(v,A),B(U,A,x,N)}a(P,"makeGant");function Q(R,x,N,m,v,A,U){g.append("g").selectAll("rect").data(R).enter().append("rect").attr("x",0).attr("y",function(O,$){return $=O.order,$*x+N-2}).attr("width",function(){return U-i.rightPadding/2}).attr("height",x).attr("class",function(O){for(let $=0;$<E.length;$++)if(O.type===E[$])return"section section"+$%i.numberSectionStyles;return"section section0"});let G=g.append("g").selectAll("rect").data(R).enter(),K=n.db.getLinks();if(G.append("rect").attr("id",function(O){return O.id}).attr("rx",3).attr("ry",3).attr("x",function(O){return O.milestone?y(O.startTime)+m+.5*(y(O.endTime)-y(O.startTime))-.5*v:y(O.startTime)+m}).attr("y",function(O,$){return $=O.order,$*x+N}).attr("width",function(O){return O.milestone?v:y(O.renderEndTime||O.endTime)-y(O.startTime)}).attr("height",v).attr("transform-origin",function(O,$){return $=O.order,(y(O.startTime)+m+.5*(y(O.endTime)-y(O.startTime))).toString()+"px "+($*x+N+.5*v).toString()+"px"}).attr("class",function(O){let $="task",L="";O.classes.length>0&&(L=O.classes.join(" "));let ee=0;for(let ye=0;ye<E.length;ye++)O.type===E[ye]&&(ee=ye%i.numberSectionStyles);let ve="";return O.active?O.crit?ve+=" activeCrit":ve=" active":O.done?O.crit?ve=" doneCrit":ve=" done":O.crit&&(ve+=" crit"),ve.length===0&&(ve=" task"),O.milestone&&(ve=" milestone "+ve),ve+=ee,ve+=" "+L,$+ve}),G.append("text").attr("id",function(O){return O.id+"-text"}).text(function(O){return O.task}).attr("font-size",i.fontSize).attr("x",function(O){let $=y(O.startTime),L=y(O.renderEndTime||O.endTime);O.milestone&&($+=.5*(y(O.endTime)-y(O.startTime))-.5*v),O.milestone&&(L=$+v);let ee=this.getBBox().width;return ee>L-$?L+ee+1.5*i.leftPadding>U?$+m-5:L+m+5:(L-$)/2+$+m}).attr("y",function(O,$){return $=O.order,$*x+i.barHeight/2+(i.fontSize/2-2)+N}).attr("text-height",v).attr("class",function(O){let $=y(O.startTime),L=y(O.endTime);O.milestone&&(L=$+v);let ee=this.getBBox().width,ve="";O.classes.length>0&&(ve=O.classes.join(" "));let ye=0;for(let be=0;be<E.length;be++)O.type===E[be]&&(ye=be%i.numberSectionStyles);let se="";return O.active&&(O.crit?se="activeCritText"+ye:se="activeText"+ye),O.done?O.crit?se=se+" doneCritText"+ye:se=se+" doneText"+ye:O.crit&&(se=se+" critText"+ye),O.milestone&&(se+=" milestoneText"),ee>L-$?L+ee+1.5*i.leftPadding>U?ve+" taskTextOutsideLeft taskTextOutside"+ye+" "+se:ve+" taskTextOutsideRight taskTextOutside"+ye+" "+se+" width-"+ee:ve+" taskText taskText"+ye+" "+se+" width-"+ee}),ft().securityLevel==="sandbox"){let O;O=Zt("#i"+t);let $=O.nodes()[0].contentDocument;G.filter(function(L){return typeof K[L.id]<"u"}).each(function(L){var ee=$.querySelector("#"+L.id),ve=$.querySelector("#"+L.id+"-text");let ye=ee.parentNode;var se=$.createElement("a");se.setAttribute("xlink:href",K[L.id]),se.setAttribute("target","_top"),ye.appendChild(se),se.appendChild(ee),se.appendChild(ve)})}}a(Q,"drawRects");function V(R,x,N,m,v,A,U,G){let K=A.reduce((ye,{startTime:se})=>ye?Math.min(ye,se):se,0),Z=A.reduce((ye,{endTime:se})=>ye?Math.max(ye,se):se,0),O=n.db.getDateFormat();if(!K||!Z)return;let $=[],L=null,ee=(0,sl.default)(K);for(;ee.valueOf()<=Z;)n.db.isInvalidDate(ee,O,U,G)?L?L.end=ee.clone():L={start:ee.clone(),end:ee.clone()}:L&&($.push(L),L=null),ee.add(1,"d");g.append("g").selectAll("rect").data($).enter().append("rect").attr("id",function(ye){return"exclude-"+ye.start.format("YYYY-MM-DD")}).attr("x",function(ye){return y(ye.start)+N}).attr("y",i.gridLineStartPadding).attr("width",function(ye){let se=ye.end.clone().add(1,"day");return y(se)-y(ye.start)}).attr("height",v-x-i.gridLineStartPadding).attr("transform-origin",function(ye,se){return(y(ye.start)+N+.5*(y(ye.end)-y(ye.start))).toString()+"px "+(se*R+.5*v).toString()+"px"}).attr("class","exclude-range")}a(V,"drawExcludeDays");function W(R,x,N,m){let v=xY(y).tickSize(-m+x+i.gridLineStartPadding).tickFormat(_4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(g.append("g").attr("class","grid").attr("transform","translate("+R+", "+(m-50)+")").call(v).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let A=_Y(y).tickSize(-m+x+i.gridLineStartPadding).tickFormat(_4(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));g.append("g").attr("class","grid").attr("transform","translate("+R+", "+x+")").call(A).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}a(W,"makeGrid");function F(R,x){let N=[],m=0;for(let v=0;v<E.length;v++)N[v]=[E[v],k(E[v],M)];g.append("g").selectAll("text").data(N).enter().append(function(v){let A=v[0].split(Gr.lineBreakRegex),U=-(A.length-1)/2,G=u.createElementNS("http://www.w3.org/2000/svg","text");G.setAttribute("dy",U+"em");for(let K=0;K<A.length;K++){let Z=u.createElementNS("http://www.w3.org/2000/svg","tspan");Z.setAttribute("alignment-baseline","central"),Z.setAttribute("x","10"),K>0&&Z.setAttribute("dy","1em"),Z.textContent=A[K],G.appendChild(Z)}return G}).attr("x",10).attr("y",function(v,A){if(A>0)for(let U=0;U<A;U++)return m+=N[A-1][1],v[1]*R/2+m*R+x;else return v[1]*R/2+x}).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",function(v){for(let A=0;A<E.length;A++)if(v[0]===E[A])return"sectionTitle sectionTitle"+A%i.numberSectionStyles;return"sectionTitle"})}a(F,"vertLabels");function B(R,x,N,m){let v=n.db.getTodayMarker();if(v==="off")return;let A=g.append("g").attr("class","today"),U=new Date,G=A.append("line");G.attr("x1",y(U)+R).attr("x2",y(U)+R).attr("y1",i.titleTopMargin).attr("y2",m-i.titleTopMargin).attr("class","today"),v!==""&&G.attr("style",v.replace(/,/g,";"))}a(B,"drawToday");function S(R){let x={},N=[];for(let m=0,v=R.length;m<v;++m)Object.prototype.hasOwnProperty.call(x,R[m])||(x[R[m]]=!0,N.push(R[m]));return N}a(S,"checkUnique");function T(R){let x=R.length,N={};for(;x;)N[R[--x]]=(N[R[x]]||0)+1;return N}a(T,"getCounts");function k(R,x){return T(x)[R]||0}a(k,"getCount")},"draw$8"),nVt={setConf:tVt,draw:rVt},q$=function(){var e=a(function(s,o,l,u){for(l=l||{},u=s.length;u--;l[s[u]]=o);return l},"o"),t=[6,9,10],r={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:a(function(o,l,u,f,h,p,g){switch(p.length-1,h){case 1:return f;case 4:break;case 6:f.setInfo(!0);break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:a(function(o,l){if(l.recoverable)this.trace(o);else{var u=new Error(o);throw u.hash=l,u}},"parseError"),parse:a(function(o){var l=this,u=[0],f=[],h=[null],p=[],g=this.table,y="",E=0,M=0,z=2,P=1,Q=p.slice.call(arguments,1),V=Object.create(this.lexer),W={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&(W.yy[F]=this.yy[F]);V.setInput(o,W.yy),W.yy.lexer=V,W.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var B=V.yylloc;p.push(B);var S=V.options&&V.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function T(){var Z;return Z=f.pop()||V.lex()||P,typeof Z!="number"&&(Z instanceof Array&&(f=Z,Z=f.pop()),Z=l.symbols_[Z]||Z),Z}a(T,"lex");for(var k,R,x,N,m={},v,A,U,G;;){if(R=u[u.length-1],this.defaultActions[R]?x=this.defaultActions[R]:((k===null||typeof k>"u")&&(k=T()),x=g[R]&&g[R][k]),typeof x>"u"||!x.length||!x[0]){var K="";G=[];for(v in g[R])this.terminals_[v]&&v>z&&G.push("'"+this.terminals_[v]+"'");V.showPosition?K="Parse error on line "+(E+1)+`:
`+V.showPosition()+`
Expecting `+G.join(", ")+", got '"+(this.terminals_[k]||k)+"'":K="Parse error on line "+(E+1)+": Unexpected "+(k==P?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(K,{text:V.match,token:this.terminals_[k]||k,line:V.yylineno,loc:B,expected:G})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+R+", token: "+k);switch(x[0]){case 1:u.push(k),h.push(V.yytext),p.push(V.yylloc),u.push(x[1]),k=null,M=V.yyleng,y=V.yytext,E=V.yylineno,B=V.yylloc;break;case 2:if(A=this.productions_[x[1]][1],m.$=h[h.length-A],m._$={first_line:p[p.length-(A||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(A||1)].first_column,last_column:p[p.length-1].last_column},S&&(m._$.range=[p[p.length-(A||1)].range[0],p[p.length-1].range[1]]),N=this.performAction.apply(m,[y,M,E,W.yy,x[1],h,p].concat(Q)),typeof N<"u")return N;A&&(u=u.slice(0,-1*A*2),h=h.slice(0,-1*A),p=p.slice(0,-1*A)),u.push(this.productions_[x[1]][0]),h.push(m.$),p.push(m._$),U=g[u[u.length-2]][u[u.length-1]],u.push(U);break;case 3:return!0}}return!0},"parse2")},n=function(){var s={EOF:1,parseError:a(function(l,u){if(this.yy.parser)this.yy.parser.parseError(l,u);else throw new Error(l)},"parseError"),setInput:function(o,l){return this.yy=l||this.yy||{},this._input=o,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.offset++,this.match+=o,this.matched+=o;var l=o.match(/(?:\r\n?|\n).*/g);return l?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),o},unput:function(o){var l=o.length,u=o.split(/(?:\r\n?|\n)/g);this._input=o+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-l),this.offset-=l;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1&&(this.yylineno-=u.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===f.length?this.yylloc.first_column:0)+f[f.length-u.length].length-u[0].length:this.yylloc.first_column-l},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-l]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(o){this.unput(this.match.slice(o))},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),l=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+l+"^"},test_match:function(o,l){var u,f,h;if(this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0))),f=o[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],u=this.performAction.call(this,this.yy,this,l,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),u)return u;if(this._backtrack){for(var p in h)this[p]=h[p];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,l,u,f;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),p=0;p<h.length;p++)if(u=this._input.match(this.rules[h[p]]),u&&(!l||u[0].length>l[0].length)){if(l=u,f=p,this.options.backtrack_lexer){if(o=this.test_match(u,h[p]),o!==!1)return o;if(this._backtrack){l=!1;continue}else return!1}else if(!this.options.flex)break}return l?(o=this.test_match(l,h[f]),o!==!1?o:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var l=this.next();return l||this.lex()},"lex"),begin:a(function(l){this.conditionStack.push(l)},"begin"),popState:a(function(){var l=this.conditionStack.length-1;return l>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(l){return l=this.conditionStack.length-1-Math.abs(l||0),l>=0?this.conditionStack[l]:"INITIAL"},"topState"),pushState:a(function(l){this.begin(l)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(l,u,f,h){switch(f){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},"anonymous"),rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return s}();r.lexer=n;function i(){this.yy={}}return a(i,"Parser"),i.prototype=r,r.Parser=i,new i}();q$.parser=q$;var lOe="",uOe=!1,iVt=a(e=>{Pe.debug("Setting message to: "+e),lOe=e},"setMessage"),aVt=a(()=>lOe,"getMessage"),sVt=a(e=>{uOe=e},"setInfo"),oVt=a(()=>uOe,"getInfo"),cVt={setMessage:iVt,getMessage:aVt,setInfo:sVt,getInfo:oVt,clear:eu},lVt=a((e,t,r,n)=>{try{Pe.debug(`Rendering info diagram
`+e);let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let l=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select("#"+t);l.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+r),l.attr("height",100),l.attr("width",400)}catch(i){Pe.error("Error while rendering info diagram"),Pe.error(i.message)}},"draw$7"),uVt={draw:lVt},fVt=a(e=>e.match(/^\s*info/)!==null,"infoDetector"),P$=function(){var e=a(function(B,S,T,k){for(T=T||{},k=B.length;k--;T[B[k]]=S);return T},"o"),t=[1,4],r=[1,5],n=[1,6],i=[1,7],s=[1,9],o=[1,11,13,15,17,19,20,26,27,28,29],l=[2,5],u=[1,6,11,13,15,17,19,20,26,27,28,29],f=[26,27,28],h=[2,8],p=[1,18],g=[1,19],y=[1,20],E=[1,21],M=[1,22],z=[1,23],P=[1,28],Q=[6,26,27,28,29],V={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:a(function(S,T,k,R,x,N,m){var v=N.length-1;switch(x){case 4:R.setShowData(!0);break;case 7:this.$=N[v-1];break;case 9:R.addSection(N[v-1],R.cleanupValue(N[v]));break;case 10:this.$=N[v].trim(),R.setDiagramTitle(this.$);break;case 11:this.$=N[v].trim(),R.setAccTitle(this.$);break;case 12:case 13:this.$=N[v].trim(),R.setAccDescription(this.$);break;case 14:R.addSection(N[v].substr(8)),this.$=N[v].substr(8);break;case 21:R.parseDirective("%%{","open_directive");break;case 22:R.parseDirective(N[v],"type_directive");break;case 23:N[v]=N[v].trim().replace(/'/g,'"'),R.parseDirective(N[v],"arg_directive");break;case 24:R.parseDirective("}%%","close_directive","pie");break}},"anonymous"),table:[{3:1,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},{1:[3]},{3:10,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},{3:11,4:2,5:3,6:t,21:8,26:r,27:n,28:i,29:s},e(o,l,{7:12,8:[1,13]}),e(u,[2,18]),e(u,[2,19]),e(u,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(f,h,{21:8,9:16,10:17,5:24,1:[2,3],11:p,13:g,15:y,17:E,19:M,20:z,29:s}),e(o,l,{7:25}),{23:26,24:[1,27],32:P},e([24,32],[2,22]),e(o,[2,6]),{4:29,26:r,27:n,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(f,[2,13]),e(f,[2,14]),e(f,[2,15]),e(f,h,{21:8,9:16,10:17,5:24,1:[2,4],11:p,13:g,15:y,17:E,19:M,20:z,29:s}),e(Q,[2,16]),{25:34,31:[1,35]},e(Q,[2,24]),e(o,[2,7]),e(f,[2,9]),e(f,[2,10]),e(f,[2,11]),e(f,[2,12]),{23:36,32:P},{32:[2,23]},e(Q,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:a(function(S,T){if(T.recoverable)this.trace(S);else{var k=new Error(S);throw k.hash=T,k}},"parseError"),parse:a(function(S){var T=this,k=[0],R=[],x=[null],N=[],m=this.table,v="",A=0,U=0,G=2,K=1,Z=N.slice.call(arguments,1),O=Object.create(this.lexer),$={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&($.yy[L]=this.yy[L]);O.setInput(S,$.yy),$.yy.lexer=O,$.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var ee=O.yylloc;N.push(ee);var ve=O.options&&O.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ye(){var he;return he=R.pop()||O.lex()||K,typeof he!="number"&&(he instanceof Array&&(R=he,he=R.pop()),he=T.symbols_[he]||he),he}a(ye,"lex");for(var se,be,Y,D,J={},q,I,H,te;;){if(be=k[k.length-1],this.defaultActions[be]?Y=this.defaultActions[be]:((se===null||typeof se>"u")&&(se=ye()),Y=m[be]&&m[be][se]),typeof Y>"u"||!Y.length||!Y[0]){var ie="";te=[];for(q in m[be])this.terminals_[q]&&q>G&&te.push("'"+this.terminals_[q]+"'");O.showPosition?ie="Parse error on line "+(A+1)+`:
`+O.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[se]||se)+"'":ie="Parse error on line "+(A+1)+": Unexpected "+(se==K?"end of input":"'"+(this.terminals_[se]||se)+"'"),this.parseError(ie,{text:O.match,token:this.terminals_[se]||se,line:O.yylineno,loc:ee,expected:te})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+se);switch(Y[0]){case 1:k.push(se),x.push(O.yytext),N.push(O.yylloc),k.push(Y[1]),se=null,U=O.yyleng,v=O.yytext,A=O.yylineno,ee=O.yylloc;break;case 2:if(I=this.productions_[Y[1]][1],J.$=x[x.length-I],J._$={first_line:N[N.length-(I||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(I||1)].first_column,last_column:N[N.length-1].last_column},ve&&(J._$.range=[N[N.length-(I||1)].range[0],N[N.length-1].range[1]]),D=this.performAction.apply(J,[v,U,A,$.yy,Y[1],x,N].concat(Z)),typeof D<"u")return D;I&&(k=k.slice(0,-1*I*2),x=x.slice(0,-1*I),N=N.slice(0,-1*I)),k.push(this.productions_[Y[1]][0]),x.push(J.$),N.push(J._$),H=m[k[k.length-2]][k[k.length-1]],k.push(H);break;case 3:return!0}}return!0},"parse2")},W=function(){var B={EOF:1,parseError:a(function(T,k){if(this.yy.parser)this.yy.parser.parseError(T,k);else throw new Error(T)},"parseError"),setInput:function(S,T){return this.yy=T||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var T=S.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},unput:function(S){var T=S.length,k=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===R.length?this.yylloc.first_column:0)+R[R.length-k.length].length-k[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(S){this.unput(this.match.slice(S))},pastInput:function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var S=this.pastInput(),T=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+T+"^"},test_match:function(S,T){var k,R,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),R=S[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],k=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var N in x)this[N]=x[N];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,T,k,R;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),N=0;N<x.length;N++)if(k=this._input.match(this.rules[x[N]]),k&&(!T||k[0].length>T[0].length)){if(T=k,R=N,this.options.backtrack_lexer){if(S=this.test_match(k,x[N]),S!==!1)return S;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(S=this.test_match(T,x[R]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var T=this.next();return T||this.lex()},"lex"),begin:a(function(T){this.conditionStack.push(T)},"begin"),popState:a(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:a(function(T){this.begin(T)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(T,k,R,x){switch(R){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return B}();V.lexer=W;function F(){this.yy={}}return a(F,"Parser"),F.prototype=V,V.Parser=F,new F}();P$.parser=P$;var hVt=a(e=>e.match(/^\s*pie/)!==null,"pieDetector"),jM={},BX=!1,dVt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$5"),pVt=a(function(e,t){e=Gr.sanitizeText(e,ft()),typeof jM[e]>"u"&&(jM[e]=t,Pe.debug("Added new section :",e))},"addSection$1"),gVt=a(()=>jM,"getSections$1"),yVt=a(function(e){BX=e},"setShowData"),mVt=a(function(){return BX},"getShowData"),bVt=a(function(e){return e.substring(0,1)===":"&&(e=e.substring(1).trim()),Number(e.trim())},"cleanupValue"),vVt=a(function(){jM={},BX=!1,eu()},"clear$4"),_Vt={parseDirective:dVt,getConfig:()=>ft().pie,addSection:pVt,getSections:gVt,cleanupValue:bVt,clear:vVt,setAccTitle:ol,getAccTitle:tu,setDiagramTitle:hB,getDiagramTitle:dB,setShowData:yVt,getShowData:mVt,getAccDescription:nu,setAccDescription:ru},cd=ft(),ld,D5=450,xVt=a((e,t,r,n)=>{try{cd=ft(),Pe.debug(`Rendering info diagram
`+e);let P=ft().securityLevel,Q;P==="sandbox"&&(Q=Zt("#i"+t));let V=P==="sandbox"?Zt(Q.nodes()[0].contentDocument.body):Zt("body"),W=P==="sandbox"?Q.nodes()[0].contentDocument:document;n.db.clear(),n.parser.parse(e),Pe.debug("Parsed info diagram");let F=W.getElementById(t);ld=F.parentElement.offsetWidth,typeof ld>"u"&&(ld=1200),typeof cd.useWidth<"u"&&(ld=cd.useWidth),typeof cd.pie.useWidth<"u"&&(ld=cd.pie.useWidth);let B=V.select("#"+t);Zl(B,D5,ld,cd.pie.useMaxWidth),Oo(n.db,B,t),F.setAttribute("viewBox","0 0 "+ld+" "+D5);var i=40,s=18,o=4,l=Math.min(ld,D5)/2-i,u=B.append("g").attr("transform","translate("+ld/2+","+D5/2+")"),f=n.db.getSections(),h=0;Object.keys(f).forEach(function(T){h+=f[T]});let S=cd.themeVariables;var p=[S.pie1,S.pie2,S.pie3,S.pie4,S.pie5,S.pie6,S.pie7,S.pie8,S.pie9,S.pie10,S.pie11,S.pie12],g=J3().range(p),y=I9().value(function(T){return T[1]}),E=y(Object.entries(f)),M=Nb().innerRadius(0).outerRadius(l);u.selectAll("mySlices").data(E).enter().append("path").attr("d",M).attr("fill",function(T){return g(T.data[0])}).attr("class","pieCircle"),u.selectAll("mySlices").data(E).enter().append("text").text(function(T){return(T.data[1]/h*100).toFixed(0)+"%"}).attr("transform",function(T){return"translate("+M.centroid(T)+")"}).style("text-anchor","middle").attr("class","slice"),u.append("text").text(n.db.getDiagramTitle()).attr("x",0).attr("y",-(D5-50)/2).attr("class","pieTitleText");var z=u.selectAll(".legend").data(g.domain()).enter().append("g").attr("class","legend").attr("transform",function(T,k){var R=s+o,x=R*g.domain().length/2,N=12*s,m=k*R-x;return"translate("+N+","+m+")"});z.append("rect").attr("width",s).attr("height",s).style("fill",g).style("stroke",g),z.data(E).append("text").attr("x",s+o).attr("y",s-o).text(function(T){return n.db.getShowData()||cd.showData||cd.pie.showData?T.data[0]+" ["+T.data[1]+"]":T.data[0]})}catch(P){Pe.error("Error while rendering info diagram"),Pe.error(P)}},"draw$6"),wVt={draw:xVt},F$=function(){var e=a(function(be,Y,D,J){for(D=D||{},J=be.length;J--;D[be[J]]=Y);return D},"o"),t=[1,3],r=[1,5],n=[1,6],i=[1,7],s=[1,8],o=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],l=[1,22],u=[2,13],f=[1,26],h=[1,27],p=[1,28],g=[1,29],y=[1,30],E=[1,31],M=[1,24],z=[1,32],P=[1,33],Q=[1,36],V=[71,72],W=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],F=[1,56],B=[1,57],S=[1,58],T=[1,59],k=[1,60],R=[1,61],x=[1,62],N=[62,63],m=[1,74],v=[1,70],A=[1,71],U=[1,72],G=[1,73],K=[1,75],Z=[1,79],O=[1,80],$=[1,77],L=[1,78],ee=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],ve={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:a(function(Y,D,J,q,I,H,te){var ie=H.length-1;switch(I){case 6:this.$=H[ie].trim(),q.setAccTitle(this.$);break;case 7:case 8:this.$=H[ie].trim(),q.setAccDescription(this.$);break;case 9:q.parseDirective("%%{","open_directive");break;case 10:q.parseDirective(H[ie],"type_directive");break;case 11:H[ie]=H[ie].trim().replace(/'/g,'"'),q.parseDirective(H[ie],"arg_directive");break;case 12:q.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:q.addRequirement(H[ie-3],H[ie-4]);break;case 20:q.setNewReqId(H[ie-2]);break;case 21:q.setNewReqText(H[ie-2]);break;case 22:q.setNewReqRisk(H[ie-2]);break;case 23:q.setNewReqVerifyMethod(H[ie-2]);break;case 26:this.$=q.RequirementType.REQUIREMENT;break;case 27:this.$=q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=q.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=q.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=q.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=q.RiskLevel.LOW_RISK;break;case 33:this.$=q.RiskLevel.MED_RISK;break;case 34:this.$=q.RiskLevel.HIGH_RISK;break;case 35:this.$=q.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=q.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=q.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=q.VerifyType.VERIFY_TEST;break;case 39:q.addElement(H[ie-3]);break;case 40:q.setNewElementType(H[ie-2]);break;case 41:q.setNewElementDocRef(H[ie-2]);break;case 44:q.addRelationship(H[ie-2],H[ie],H[ie-4]);break;case 45:q.addRelationship(H[ie-2],H[ie-4],H[ie]);break;case 46:this.$=q.Relationships.CONTAINS;break;case 47:this.$=q.Relationships.COPIES;break;case 48:this.$=q.Relationships.DERIVES;break;case 49:this.$=q.Relationships.SATISFIES;break;case 50:this.$=q.Relationships.VERIFIES;break;case 51:this.$=q.Relationships.REFINES;break;case 52:this.$=q.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:4,14:r,16:n,18:i,19:s},{1:[3]},{3:10,4:2,5:[1,9],6:t,9:4,14:r,16:n,18:i,19:s},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(o,[2,8]),{20:[2,9]},{3:16,4:2,6:t,9:4,14:r,16:n,18:i,19:s},{1:[2,2]},{4:21,5:l,7:17,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{11:34,12:[1,35],22:Q},e([12,22],[2,10]),e(o,[2,6]),e(o,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:l,7:38,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:l,7:39,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:l,7:40,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:l,7:41,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{4:21,5:l,7:42,8:u,9:4,14:r,16:n,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:f,41:h,42:p,43:g,44:y,45:E,53:M,71:z,72:P},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(V,[2,26]),e(V,[2,27]),e(V,[2,28]),e(V,[2,29]),e(V,[2,30]),e(V,[2,31]),e(W,[2,55]),e(W,[2,56]),e(o,[2,4]),{13:51,21:[1,52]},e(o,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:F,65:B,66:S,67:T,68:k,69:R,70:x},{61:63,64:F,65:B,66:S,67:T,68:k,69:R,70:x},{11:64,22:Q},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(N,[2,46]),e(N,[2,47]),e(N,[2,48]),e(N,[2,49]),e(N,[2,50]),e(N,[2,51]),e(N,[2,52]),{63:[1,68]},e(o,[2,5]),{5:m,29:69,30:v,33:A,35:U,37:G,39:K},{5:Z,39:O,55:76,56:$,58:L},{32:81,71:z,72:P},{32:82,71:z,72:P},e(ee,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:m,29:87,30:v,33:A,35:U,37:G,39:K},e(ee,[2,25]),e(ee,[2,39]),{31:[1,88]},{31:[1,89]},{5:Z,39:O,55:90,56:$,58:L},e(ee,[2,43]),e(ee,[2,44]),e(ee,[2,45]),{32:91,71:z,72:P},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(ee,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(ee,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:m,29:116,30:v,33:A,35:U,37:G,39:K},{5:m,29:117,30:v,33:A,35:U,37:G,39:K},{5:m,29:118,30:v,33:A,35:U,37:G,39:K},{5:m,29:119,30:v,33:A,35:U,37:G,39:K},{5:Z,39:O,55:120,56:$,58:L},{5:Z,39:O,55:121,56:$,58:L},e(ee,[2,20]),e(ee,[2,21]),e(ee,[2,22]),e(ee,[2,23]),e(ee,[2,40]),e(ee,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:a(function(Y,D){if(D.recoverable)this.trace(Y);else{var J=new Error(Y);throw J.hash=D,J}},"parseError"),parse:a(function(Y){var D=this,J=[0],q=[],I=[null],H=[],te=this.table,ie="",he=0,De=0,$e=2,ze=1,Qe=H.slice.call(arguments,1),je=Object.create(this.lexer),We={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(We.yy[Ce]=this.yy[Ce]);je.setInput(Y,We.yy),We.yy.lexer=je,We.yy.parser=this,typeof je.yylloc>"u"&&(je.yylloc={});var Te=je.yylloc;H.push(Te);var Je=je.options&&je.options.ranges;typeof We.yy.parseError=="function"?this.parseError=We.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(){var et;return et=q.pop()||je.lex()||ze,typeof et!="number"&&(et instanceof Array&&(q=et,et=q.pop()),et=D.symbols_[et]||et),et}a(rt,"lex");for(var ge,xe,qe,ot,at={},pe,Re,He,tt;;){if(xe=J[J.length-1],this.defaultActions[xe]?qe=this.defaultActions[xe]:((ge===null||typeof ge>"u")&&(ge=rt()),qe=te[xe]&&te[xe][ge]),typeof qe>"u"||!qe.length||!qe[0]){var Ve="";tt=[];for(pe in te[xe])this.terminals_[pe]&&pe>$e&&tt.push("'"+this.terminals_[pe]+"'");je.showPosition?Ve="Parse error on line "+(he+1)+`:
`+je.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[ge]||ge)+"'":Ve="Parse error on line "+(he+1)+": Unexpected "+(ge==ze?"end of input":"'"+(this.terminals_[ge]||ge)+"'"),this.parseError(Ve,{text:je.match,token:this.terminals_[ge]||ge,line:je.yylineno,loc:Te,expected:tt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+ge);switch(qe[0]){case 1:J.push(ge),I.push(je.yytext),H.push(je.yylloc),J.push(qe[1]),ge=null,De=je.yyleng,ie=je.yytext,he=je.yylineno,Te=je.yylloc;break;case 2:if(Re=this.productions_[qe[1]][1],at.$=I[I.length-Re],at._$={first_line:H[H.length-(Re||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Re||1)].first_column,last_column:H[H.length-1].last_column},Je&&(at._$.range=[H[H.length-(Re||1)].range[0],H[H.length-1].range[1]]),ot=this.performAction.apply(at,[ie,De,he,We.yy,qe[1],I,H].concat(Qe)),typeof ot<"u")return ot;Re&&(J=J.slice(0,-1*Re*2),I=I.slice(0,-1*Re),H=H.slice(0,-1*Re)),J.push(this.productions_[qe[1]][0]),I.push(at.$),H.push(at._$),He=te[J[J.length-2]][J[J.length-1]],J.push(He);break;case 3:return!0}}return!0},"parse2")},ye=function(){var be={EOF:1,parseError:a(function(D,J){if(this.yy.parser)this.yy.parser.parseError(D,J);else throw new Error(D)},"parseError"),setInput:function(Y,D){return this.yy=D||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var D=Y.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},unput:function(Y){var D=Y.length,J=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===q.length?this.yylloc.first_column:0)+q[q.length-J.length].length-J[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Y){this.unput(this.match.slice(Y))},pastInput:function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Y=this.pastInput(),D=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+D+"^"},test_match:function(Y,D){var J,q,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),q=Y[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],J=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var H in I)this[H]=I[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,D,J,q;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),H=0;H<I.length;H++)if(J=this._input.match(this.rules[I[H]]),J&&(!D||J[0].length>D[0].length)){if(D=J,q=H,this.options.backtrack_lexer){if(Y=this.test_match(J,I[H]),Y!==!1)return Y;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(Y=this.test_match(D,I[q]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var D=this.next();return D||this.lex()},"lex"),begin:a(function(D){this.conditionStack.push(D)},"begin"),popState:a(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:a(function(D){this.begin(D)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(D,J,q,I){switch(q){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return J.yytext=J.yytext.trim(),71}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return be}();ve.lexer=ye;function se(){this.yy={}}return a(se,"Parser"),se.prototype=ve,ve.Parser=se,new se}();F$.parser=F$;var AVt=a(e=>e.match(/^\s*requirement(Diagram)?/)!==null,"requirementDetector"),RX=[],Lo={},W5={},hp={},V5={},EVt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},SVt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},kVt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},CVt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},IVt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$4"),TVt=a((e,t)=>(typeof W5[e]>"u"&&(W5[e]={name:e,type:t,id:Lo.id,text:Lo.text,risk:Lo.risk,verifyMethod:Lo.verifyMethod}),Lo={},W5[e]),"addRequirement"),MVt=a(()=>W5,"getRequirements"),BVt=a(e=>{typeof Lo<"u"&&(Lo.id=e)},"setNewReqId"),RVt=a(e=>{typeof Lo<"u"&&(Lo.text=e)},"setNewReqText"),LVt=a(e=>{typeof Lo<"u"&&(Lo.risk=e)},"setNewReqRisk"),DVt=a(e=>{typeof Lo<"u"&&(Lo.verifyMethod=e)},"setNewReqVerifyMethod"),NVt=a(e=>(typeof V5[e]>"u"&&(V5[e]={name:e,type:hp.type,docRef:hp.docRef},Pe.info("Added new requirement: ",e)),hp={},V5[e]),"addElement"),OVt=a(()=>V5,"getElements"),qVt=a(e=>{typeof hp<"u"&&(hp.type=e)},"setNewElementType"),PVt=a(e=>{typeof hp<"u"&&(hp.docRef=e)},"setNewElementDocRef"),FVt=a((e,t,r)=>{RX.push({type:e,src:t,dst:r})},"addRelationship"),UVt=a(()=>RX,"getRelationships"),YVt=a(()=>{RX=[],Lo={},W5={},hp={},V5={},eu()},"clear$3"),HVt={RequirementType:EVt,RiskLevel:SVt,VerifyType:kVt,Relationships:CVt,parseDirective:IVt,getConfig:()=>ft().req,addRequirement:TVt,getRequirements:MVt,setNewReqId:BVt,setNewReqText:RVt,setNewReqRisk:LVt,setNewReqVerifyMethod:DVt,setAccTitle:ol,getAccTitle:tu,setAccDescription:ru,getAccDescription:nu,addElement:NVt,getElements:OVt,setNewElementType:qVt,setNewElementDocRef:PVt,addRelationship:FVt,getRelationships:UVt,clear:YVt},U$={CONTAINS:"contains",ARROW:"arrow"},zVt=a((e,t)=>{let r=e.append("defs").append("marker").attr("id",U$.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",U$.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),fOe={ReqMarkers:U$,insertLineEndings:zVt},Xi={},aDe=0,hOe=a((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Xi.rect_min_width+"px").attr("height",Xi.rect_min_height+"px"),"newRectNode"),dOe=a((e,t,r)=>{let n=Xi.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",Xi.rect_padding).attr("dominant-baseline","hanging"),s=0;r.forEach(f=>{s==0?i.append("tspan").attr("text-anchor","middle").attr("x",Xi.rect_min_width/2).attr("dy",0).text(f):i.append("tspan").attr("text-anchor","middle").attr("x",Xi.rect_min_width/2).attr("dy",Xi.line_height*.75).text(f),s++});let o=1.5*Xi.rect_padding,l=s*Xi.line_height*.75,u=o+l;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Xi.rect_min_width).attr("y1",u).attr("y2",u),{titleNode:i,y:u}},"newTitleNode"),pOe=a((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",Xi.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),s=0,o=30,l=[];return r.forEach(u=>{let f=u.length;for(;f>o&&s<3;){let h=u.substring(0,o);u=u.substring(o,u.length),f=u.length,l[l.length]=h,s++}if(s==3){let h=l[l.length-1];l[l.length-1]=h.substring(0,h.length-4)+"..."}else l[l.length]=u;s=0}),l.forEach(u=>{i.append("tspan").attr("x",Xi.rect_padding).attr("dy",Xi.line_height).text(u)}),i},"newBodyNode"),QVt=a((e,t,r,n)=>{let i=t.node().getTotalLength(),s=t.node().getPointAtLength(i*.5),o="rel"+aDe;aDe++;let u=e.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",s.x-u.width/2).attr("y",s.y-u.height/2).attr("width",u.width).attr("height",u.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),WVt=a(function(e,t,r,n,i){let s=r.edge(Ev(t.src),Ev(t.dst)),o=z0().x(function(u){return u.x}).y(function(u){return u.y}),l=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",o(s.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?l.attr("marker-start","url("+Gr.getUrl(Xi.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(l.attr("stroke-dasharray","10,7"),l.attr("marker-end","url("+Gr.getUrl(Xi.arrowMarkerAbsolute)+"#"+fOe.ReqMarkers.ARROW+"_line_ending)")),QVt(e,l,Xi,`<<${t.type}>>`)},"drawRelationshipFromLayout"),VVt=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n];n=Ev(n),Pe.info("Added new requirement: ",n);let s=r.append("g").attr("id",n),o="req-"+n,l=hOe(s,o),u=dOe(s,n+"_title",[`<<${i.type}>>`,`${i.name}`]);pOe(s,n+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],u.y);let f=l.node().getBBox();t.setNode(n,{width:f.width,height:f.height,shape:"rect",id:n})})},"drawReqs"),jVt=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n],s=Ev(n),o=r.append("g").attr("id",s),l="element-"+s,u=hOe(o,l),f=dOe(o,l+"_title",["<<Element>>",`${n}`]);pOe(o,l+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],f.y);let h=u.node().getBBox();t.setNode(s,{width:h.width,height:h.height,shape:"rect",id:s})})},"drawElements"),GVt=a((e,t)=>(e.forEach(function(r){let n=Ev(r.src),i=Ev(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),KVt=a(function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),Ev=a(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),$Vt=a((e,t,r,n)=>{Xi=ft().requirement,n.db.clear(),n.parser.parse(e);let i=Xi.securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let l=(i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body")).select(`[id='${t}']`);fOe.insertLineEndings(l,Xi);let u=new Ea.default.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Xi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),f=n.db.getRequirements(),h=n.db.getElements(),p=n.db.getRelationships();VVt(f,u,l),jVt(h,u,l),GVt(p,u),Tv.default.layout(u),KVt(l,u),p.forEach(function(z){WVt(l,z,u,t,n)});let g=Xi.rect_padding,y=l.node().getBBox(),E=y.width+g*2,M=y.height+g*2;Zl(l,M,E,Xi.useMaxWidth),l.attr("viewBox",`${y.x-g} ${y.y-g} ${E} ${M}`),Oo(n.db,l,t)},"draw$5"),XVt={draw:$Vt},Y$=function(){var e=a(function(be,Y,D,J){for(D=D||{},J=be.length;J--;D[be[J]]=Y);return D},"o"),t=[1,2],r=[1,3],n=[1,5],i=[1,7],s=[2,5],o=[1,15],l=[1,17],u=[1,18],f=[1,19],h=[1,21],p=[1,22],g=[1,23],y=[1,29],E=[1,30],M=[1,31],z=[1,32],P=[1,33],Q=[1,34],V=[1,35],W=[1,36],F=[1,37],B=[1,38],S=[1,39],T=[1,40],k=[1,43],R=[1,44],x=[1,45],N=[1,46],m=[1,47],v=[1,48],A=[1,51],U=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],G=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],K=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],Z=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],O=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],$=[67,68,69],L=[1,121],ee=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],ve={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:a(function(Y,D,J,q,I,H,te){var ie=H.length-1;switch(I){case 4:return q.apply(H[ie]),H[ie];case 5:this.$=[];break;case 6:H[ie-1].push(H[ie]),this.$=H[ie-1];break;case 7:case 8:this.$=H[ie];break;case 9:this.$=[];break;case 12:H[ie-3].type="addParticipant",H[ie-3].description=q.parseMessage(H[ie-1]),this.$=H[ie-3];break;case 13:H[ie-1].type="addParticipant",this.$=H[ie-1];break;case 14:H[ie-3].type="addActor",H[ie-3].description=q.parseMessage(H[ie-1]),this.$=H[ie-3];break;case 15:H[ie-1].type="addActor",this.$=H[ie-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(H[ie-2]),sequenceIndexStep:Number(H[ie-1]),sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(H[ie-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:H[ie-1]};break;case 22:this.$={type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:H[ie-1]};break;case 28:q.setDiagramTitle(H[ie].substring(6)),this.$=H[ie].substring(6);break;case 29:q.setDiagramTitle(H[ie].substring(7)),this.$=H[ie].substring(7);break;case 30:this.$=H[ie].trim(),q.setAccTitle(this.$);break;case 31:case 32:this.$=H[ie].trim(),q.setAccDescription(this.$);break;case 33:H[ie-1].unshift({type:"loopStart",loopText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.LOOP_START}),H[ie-1].push({type:"loopEnd",loopText:H[ie-2],signalType:q.LINETYPE.LOOP_END}),this.$=H[ie-1];break;case 34:H[ie-1].unshift({type:"rectStart",color:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.RECT_START}),H[ie-1].push({type:"rectEnd",color:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.RECT_END}),this.$=H[ie-1];break;case 35:H[ie-1].unshift({type:"optStart",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.OPT_START}),H[ie-1].push({type:"optEnd",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.OPT_END}),this.$=H[ie-1];break;case 36:H[ie-1].unshift({type:"altStart",altText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.ALT_START}),H[ie-1].push({type:"altEnd",signalType:q.LINETYPE.ALT_END}),this.$=H[ie-1];break;case 37:H[ie-1].unshift({type:"parStart",parText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.PAR_START}),H[ie-1].push({type:"parEnd",signalType:q.LINETYPE.PAR_END}),this.$=H[ie-1];break;case 38:H[ie-1].unshift({type:"criticalStart",criticalText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.CRITICAL_START}),H[ie-1].push({type:"criticalEnd",signalType:q.LINETYPE.CRITICAL_END}),this.$=H[ie-1];break;case 39:H[ie-1].unshift({type:"breakStart",breakText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.BREAK_START}),H[ie-1].push({type:"breakEnd",optText:q.parseMessage(H[ie-2]),signalType:q.LINETYPE.BREAK_END}),this.$=H[ie-1];break;case 42:this.$=H[ie-3].concat([{type:"option",optionText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.CRITICAL_OPTION},H[ie]]);break;case 44:this.$=H[ie-3].concat([{type:"and",parText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.PAR_AND},H[ie]]);break;case 46:this.$=H[ie-3].concat([{type:"else",altText:q.parseMessage(H[ie-1]),signalType:q.LINETYPE.ALT_ELSE},H[ie]]);break;case 47:this.$=[H[ie-1],{type:"addNote",placement:H[ie-2],actor:H[ie-1].actor,text:H[ie]}];break;case 48:H[ie-2]=[].concat(H[ie-1],H[ie-1]).slice(0,2),H[ie-2][0]=H[ie-2][0].actor,H[ie-2][1]=H[ie-2][1].actor,this.$=[H[ie-1],{type:"addNote",placement:q.PLACEMENT.OVER,actor:H[ie-2].slice(0,2),text:H[ie]}];break;case 49:this.$=[H[ie-1],{type:"addLinks",actor:H[ie-1].actor,text:H[ie]}];break;case 50:this.$=[H[ie-1],{type:"addALink",actor:H[ie-1].actor,text:H[ie]}];break;case 51:this.$=[H[ie-1],{type:"addProperties",actor:H[ie-1].actor,text:H[ie]}];break;case 52:this.$=[H[ie-1],{type:"addDetails",actor:H[ie-1].actor,text:H[ie]}];break;case 55:this.$=[H[ie-2],H[ie]];break;case 56:this.$=H[ie];break;case 57:this.$=q.PLACEMENT.LEFTOF;break;case 58:this.$=q.PLACEMENT.RIGHTOF;break;case 59:this.$=[H[ie-4],H[ie-1],{type:"addMessage",from:H[ie-4].actor,to:H[ie-1].actor,signalType:H[ie-3],msg:H[ie]},{type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:H[ie-1]}];break;case 60:this.$=[H[ie-4],H[ie-1],{type:"addMessage",from:H[ie-4].actor,to:H[ie-1].actor,signalType:H[ie-3],msg:H[ie]},{type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:H[ie-4]}];break;case 61:this.$=[H[ie-3],H[ie-1],{type:"addMessage",from:H[ie-3].actor,to:H[ie-1].actor,signalType:H[ie-2],msg:H[ie]}];break;case 62:this.$={type:"addParticipant",actor:H[ie]};break;case 63:this.$=q.LINETYPE.SOLID_OPEN;break;case 64:this.$=q.LINETYPE.DOTTED_OPEN;break;case 65:this.$=q.LINETYPE.SOLID;break;case 66:this.$=q.LINETYPE.DOTTED;break;case 67:this.$=q.LINETYPE.SOLID_CROSS;break;case 68:this.$=q.LINETYPE.DOTTED_CROSS;break;case 69:this.$=q.LINETYPE.SOLID_POINT;break;case 70:this.$=q.LINETYPE.DOTTED_POINT;break;case 71:this.$=q.parseMessage(H[ie].trim().substring(1));break;case 72:q.parseDirective("%%{","open_directive");break;case 73:q.parseDirective(H[ie],"type_directive");break;case 74:H[ie]=H[ie].trim().replace(/'/g,'"'),q.parseDirective(H[ie],"arg_directive");break;case 75:q.parseDirective("}%%","close_directive","sequence");break}},"anonymous"),table:[{3:1,4:t,5:r,6:4,7:n,11:6,79:i},{1:[3]},{3:8,4:t,5:r,6:4,7:n,11:6,79:i},{3:9,4:t,5:r,6:4,7:n,11:6,79:i},{3:10,4:t,5:r,6:4,7:n,11:6,79:i},e([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],s,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{13:49,14:[1,50],82:A},e([14,82],[2,73]),e(U,[2,6]),{6:41,10:52,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},e(U,[2,8]),e(U,[2,9]),{17:53,69:v},{17:54,69:v},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:v},{17:60,69:v},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},e(U,[2,28]),e(U,[2,29]),{35:[1,66]},{37:[1,67]},e(U,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},e(U,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:v},{17:89,69:v},{17:90,69:v},{17:91,69:v},e([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},e(U,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},e(U,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},e(U,[2,20]),{5:[1,102]},{5:[1,103]},e(U,[2,23]),e(U,[2,24]),e(U,[2,25]),e(U,[2,26]),e(U,[2,27]),e(U,[2,30]),e(U,[2,31]),e(G,s,{8:104}),e(G,s,{8:105}),e(G,s,{8:106}),e(K,s,{44:107,8:108}),e(Z,s,{46:109,8:110}),e(O,s,{48:111,8:112}),e(G,s,{8:113}),{17:116,67:[1,114],68:[1,115],69:v},e($,[2,63]),e($,[2,64]),e($,[2,65]),e($,[2,66]),e($,[2,67]),e($,[2,68]),e($,[2,69]),e($,[2,70]),{17:117,69:v},{17:119,57:118,69:v},{69:[2,57]},{69:[2,58]},{55:120,78:L},{55:122,78:L},{55:123,78:L},{55:124,78:L},e(ee,[2,10]),{13:125,82:A},{82:[2,74]},{19:[1,126]},e(U,[2,13]),{19:[1,127]},e(U,[2,15]),{5:[1,128]},e(U,[2,18]),e(U,[2,19]),e(U,[2,21]),e(U,[2,22]),{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,129],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,130],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,131],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,132]},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,45],41:V,42:W,43:F,45:B,47:S,49:T,52:[1,133],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,134]},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,43],41:V,42:W,43:F,45:B,47:S,49:T,51:[1,135],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{40:[1,136]},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[2,41],41:V,42:W,43:F,45:B,47:S,49:T,50:[1,137],53:k,58:R,59:x,60:N,61:m,69:v,79:i},{4:o,5:l,6:41,9:14,10:16,11:6,16:u,17:42,20:f,21:20,22:h,25:p,26:g,27:24,28:25,29:26,30:27,31:28,32:y,33:E,34:M,36:z,38:P,39:Q,40:[1,138],41:V,42:W,43:F,45:B,47:S,49:T,53:k,58:R,59:x,60:N,61:m,69:v,79:i},{17:139,69:v},{17:140,69:v},{55:141,78:L},{55:142,78:L},{55:143,78:L},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},e(U,[2,17]),e(U,[2,33]),e(U,[2,34]),e(U,[2,35]),e(U,[2,36]),{19:[1,148]},e(U,[2,37]),{19:[1,149]},e(U,[2,38]),{19:[1,150]},e(U,[2,39]),{55:151,78:L},{55:152,78:L},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:v},e(ee,[2,11]),e(U,[2,12]),e(U,[2,14]),e(K,s,{8:108,44:154}),e(Z,s,{8:110,46:155}),e(O,s,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:a(function(Y,D){if(D.recoverable)this.trace(Y);else{var J=new Error(Y);throw J.hash=D,J}},"parseError"),parse:a(function(Y){var D=this,J=[0],q=[],I=[null],H=[],te=this.table,ie="",he=0,De=0,$e=2,ze=1,Qe=H.slice.call(arguments,1),je=Object.create(this.lexer),We={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(We.yy[Ce]=this.yy[Ce]);je.setInput(Y,We.yy),We.yy.lexer=je,We.yy.parser=this,typeof je.yylloc>"u"&&(je.yylloc={});var Te=je.yylloc;H.push(Te);var Je=je.options&&je.options.ranges;typeof We.yy.parseError=="function"?this.parseError=We.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(){var et;return et=q.pop()||je.lex()||ze,typeof et!="number"&&(et instanceof Array&&(q=et,et=q.pop()),et=D.symbols_[et]||et),et}a(rt,"lex");for(var ge,xe,qe,ot,at={},pe,Re,He,tt;;){if(xe=J[J.length-1],this.defaultActions[xe]?qe=this.defaultActions[xe]:((ge===null||typeof ge>"u")&&(ge=rt()),qe=te[xe]&&te[xe][ge]),typeof qe>"u"||!qe.length||!qe[0]){var Ve="";tt=[];for(pe in te[xe])this.terminals_[pe]&&pe>$e&&tt.push("'"+this.terminals_[pe]+"'");je.showPosition?Ve="Parse error on line "+(he+1)+`:
`+je.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[ge]||ge)+"'":Ve="Parse error on line "+(he+1)+": Unexpected "+(ge==ze?"end of input":"'"+(this.terminals_[ge]||ge)+"'"),this.parseError(Ve,{text:je.match,token:this.terminals_[ge]||ge,line:je.yylineno,loc:Te,expected:tt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+ge);switch(qe[0]){case 1:J.push(ge),I.push(je.yytext),H.push(je.yylloc),J.push(qe[1]),ge=null,De=je.yyleng,ie=je.yytext,he=je.yylineno,Te=je.yylloc;break;case 2:if(Re=this.productions_[qe[1]][1],at.$=I[I.length-Re],at._$={first_line:H[H.length-(Re||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Re||1)].first_column,last_column:H[H.length-1].last_column},Je&&(at._$.range=[H[H.length-(Re||1)].range[0],H[H.length-1].range[1]]),ot=this.performAction.apply(at,[ie,De,he,We.yy,qe[1],I,H].concat(Qe)),typeof ot<"u")return ot;Re&&(J=J.slice(0,-1*Re*2),I=I.slice(0,-1*Re),H=H.slice(0,-1*Re)),J.push(this.productions_[qe[1]][0]),I.push(at.$),H.push(at._$),He=te[J[J.length-2]][J[J.length-1]],J.push(He);break;case 3:return!0}}return!0},"parse2")},ye=function(){var be={EOF:1,parseError:a(function(D,J){if(this.yy.parser)this.yy.parser.parseError(D,J);else throw new Error(D)},"parseError"),setInput:function(Y,D){return this.yy=D||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var D=Y.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},unput:function(Y){var D=Y.length,J=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===q.length?this.yylloc.first_column:0)+q[q.length-J.length].length-J[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Y){this.unput(this.match.slice(Y))},pastInput:function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Y=this.pastInput(),D=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+D+"^"},test_match:function(Y,D){var J,q,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),q=Y[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],J=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var H in I)this[H]=I[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,D,J,q;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),H=0;H<I.length;H++)if(J=this._input.match(this.rules[I[H]]),J&&(!D||J[0].length>D[0].length)){if(D=J,q=H,this.options.backtrack_lexer){if(Y=this.test_match(J,I[H]),Y!==!1)return Y;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(Y=this.test_match(D,I[q]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var D=this.next();return D||this.lex()},"lex"),begin:a(function(D){this.conditionStack.push(D)},"begin"),popState:a(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:a(function(D){this.begin(D)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(D,J,q,I){switch(q){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return J.yytext=J.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return J.yytext=J.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return be}();ve.lexer=ye;function se(){this.yy={}}return a(se,"Parser"),se.prototype=ve,ve.Parser=se,new se}();Y$.parser=Y$;var JVt=a(e=>e.match(/^\s*sequenceDiagram/)!==null,"sequenceDetector"),N5,cp={},jl=[],wB=!1,H$,ZVt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$3"),z$=a(function(e,t,r,n){let i=cp[e];i&&t===i.name&&r==null||((r==null||r.text==null)&&(r={text:t,wrap:null,type:n}),(n==null||r.text==null)&&(r={text:t,wrap:null,type:n}),cp[e]={name:t,description:r.text,wrap:r.wrap===void 0&&Sv()||!!r.wrap,prevActor:N5,links:{},properties:{},actorCnt:null,rectData:null,type:n||"participant"},N5&&cp[N5]&&(cp[N5].nextActor=e),N5=e)},"addActor"),ejt=a(e=>{let t,r=0;for(t=0;t<jl.length;t++)jl[t].type===i6.ACTIVE_START&&jl[t].from.actor===e&&r++,jl[t].type===i6.ACTIVE_END&&jl[t].from.actor===e&&r--;return r},"activationCount"),tjt=a(function(e,t,r,n){jl.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&Sv()||!!r.wrap,answer:n})},"addMessage"),aa=a(function(e,t,r={text:void 0,wrap:void 0},n){if(n===i6.ACTIVE_END&&ejt(e.actor)<1){let s=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return jl.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&Sv()||!!r.wrap,type:n}),!0},"addSignal"),rjt=a(function(){return jl},"getMessages"),njt=a(function(){return cp},"getActors$1"),d6=a(function(e){return cp[e]},"getActor"),ijt=a(function(){return Object.keys(cp)},"getActorKeys"),ajt=a(function(){wB=!0},"enableSequenceNumbers"),sjt=a(function(){wB=!1},"disableSequenceNumbers"),ojt=a(()=>wB,"showSequenceNumbers"),cjt=a(function(e){H$=e},"setWrap"),Sv=a(()=>typeof H$<"u"?H$:ft().sequence.wrap,"autoWrap"),ljt=a(function(){cp={},jl=[],wB=!1,eu()},"clear$2"),ujt=a(function(e){let t=e.trim(),r={text:t.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:t.match(/^[:]?wrap:/)!==null?!0:t.match(/^[:]?nowrap:/)!==null?!1:void 0};return Pe.debug("parseMessage:",r),r},"parseMessage"),i6={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},fjt={FILLED:0,OPEN:1},hjt={LEFTOF:0,RIGHTOF:1,OVER:2},gOe=a(function(e,t,r){r.text,r.wrap===void 0&&Sv()||r.wrap;let n=[].concat(e,e);jl.push({from:n[0],to:n[1],message:r.text,wrap:r.wrap===void 0&&Sv()||!!r.wrap,type:i6.NOTE,placement:t})},"addNote"),yOe=a(function(e,t){let r=d6(e);try{let n=Xl(t.text,ft());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);LX(r,i)}catch(n){Pe.error("error while parsing actor link text",n)}},"addLinks"),djt=a(function(e,t){let r=d6(e);try{let o={},l=Xl(t.text,ft());var n=l.indexOf("@");l=l.replace(/&amp;/g,"&"),l=l.replace(/&equals;/g,"=");var i=l.slice(0,n-1).trim(),s=l.slice(n+1).trim();o[i]=s,LX(r,o)}catch(o){Pe.error("error while parsing actor link text",o)}},"addALink");function LX(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}a(LX,"insertLinks");var mOe=a(function(e,t){let r=d6(e);try{let n=Xl(t.text,ft()),i=JSON.parse(n);bOe(r,i)}catch(n){Pe.error("error while parsing actor properties text",n)}},"addProperties");function bOe(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}a(bOe,"insertProperties");var vOe=a(function(e,t){let r=d6(e),n=document.getElementById(t.text);try{let i=n.innerHTML,s=JSON.parse(i);s.properties&&bOe(r,s.properties),s.links&&LX(r,s.links)}catch(i){Pe.error("error while parsing actor details text",i)}},"addDetails"),pjt=a(function(e,t){if(typeof e<"u"&&typeof e.properties<"u")return e.properties[t]},"getActorProperty"),_Oe=a(function(e){if(e instanceof Array)e.forEach(function(t){_Oe(t)});else switch(e.type){case"sequenceIndex":jl.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":z$(e.actor,e.actor,e.description,"participant");break;case"addActor":z$(e.actor,e.actor,e.description,"actor");break;case"activeStart":aa(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":aa(e.actor,void 0,void 0,e.signalType);break;case"addNote":gOe(e.actor,e.placement,e.text);break;case"addLinks":yOe(e.actor,e.text);break;case"addALink":djt(e.actor,e.text);break;case"addProperties":mOe(e.actor,e.text);break;case"addDetails":vOe(e.actor,e.text);break;case"addMessage":aa(e.from,e.to,e.msg,e.signalType);break;case"loopStart":aa(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":aa(void 0,void 0,void 0,e.signalType);break;case"rectStart":aa(void 0,void 0,e.color,e.signalType);break;case"rectEnd":aa(void 0,void 0,void 0,e.signalType);break;case"optStart":aa(void 0,void 0,e.optText,e.signalType);break;case"optEnd":aa(void 0,void 0,void 0,e.signalType);break;case"altStart":aa(void 0,void 0,e.altText,e.signalType);break;case"else":aa(void 0,void 0,e.altText,e.signalType);break;case"altEnd":aa(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":ol(e.text);break;case"parStart":aa(void 0,void 0,e.parText,e.signalType);break;case"and":aa(void 0,void 0,e.parText,e.signalType);break;case"parEnd":aa(void 0,void 0,void 0,e.signalType);break;case"criticalStart":aa(void 0,void 0,e.criticalText,e.signalType);break;case"option":aa(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":aa(void 0,void 0,void 0,e.signalType);break;case"breakStart":aa(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":aa(void 0,void 0,void 0,e.signalType);break}},"apply"),sDe={addActor:z$,addMessage:tjt,addSignal:aa,addLinks:yOe,addDetails:vOe,addProperties:mOe,autoWrap:Sv,setWrap:cjt,enableSequenceNumbers:ajt,disableSequenceNumbers:sjt,showSequenceNumbers:ojt,getMessages:rjt,getActors:njt,getActor:d6,getActorKeys:ijt,getActorProperty:pjt,getAccTitle:tu,getDiagramTitle:dB,setDiagramTitle:hB,parseDirective:ZVt,getConfig:()=>ft().sequence,clear:ljt,parseMessage:ujt,LINETYPE:i6,ARROWTYPE:fjt,PLACEMENT:hjt,addNote:gOe,setAccTitle:ol,apply:_Oe,setAccDescription:ru,getAccDescription:nu},Q$=[],gjt=a(e=>{Q$.push(e)},"addFunction"),xOe=a(()=>{Q$.forEach(e=>{e()}),Q$=[]},"attachFunctions"),AB=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},"drawRect$1"),wOe=a((e,t)=>{gjt(()=>{let r=document.querySelectorAll(e);r.length!==0&&(r[0].addEventListener("mouseover",function(){vjt("actor"+t+"_popup")}),r[0].addEventListener("mouseout",function(){_jt("actor"+t+"_popup")}))})},"addPopupInteraction"),yjt=a(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let s=t.links,o=t.actorCnt,l=t.rectData;var u="none";i&&(u="block !important");let f=e.append("g");f.attr("id","actor"+o+"_popup"),f.attr("class","actorPopupMenu"),f.attr("display",u),wOe("#actor"+o+"_popup",o);var h="";typeof l.class<"u"&&(h=" "+l.class);let p=l.width>r?l.width:r,g=f.append("rect");if(g.attr("class","actorPopupMenuPanel"+h),g.attr("x",l.x),g.attr("y",l.height),g.attr("fill",l.fill),g.attr("stroke",l.stroke),g.attr("width",p),g.attr("height",l.height),g.attr("rx",l.rx),g.attr("ry",l.ry),s!=null){var y=20;for(let z in s){var E=f.append("a"),M=(0,vf.sanitizeUrl)(s[z]);E.attr("xlink:href",M),E.attr("target","_blank"),Njt(n)(z,E,l.x+10,l.height+y,p,20,{class:"actor"},n),y+=30}}return g.attr("height",y),{height:l.height+y,width:p}},"drawPopup"),AOe=a(function(e,t,r,n){let i=e.append("image");i.attr("x",t),i.attr("y",r);var s=(0,vf.sanitizeUrl)(n);i.attr("xlink:href",s)},"drawImage"),EOe=a(function(e,t,r,n){let i=e.append("use");i.attr("x",t),i.attr("y",r);var s=(0,vf.sanitizeUrl)(n);i.attr("xlink:href","#"+s)},"drawEmbeddedImage"),mjt=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},"popupMenu"),bjt=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},"popdownMenu"),vjt=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},"popupMenuUpFunc"),_jt=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},"popupMenuDownFunc"),kv=a(function(e,t){let r=0,n=0,i=t.text.split(Gr.lineBreakRegex),s=[],o=0,l=a(()=>t.y,"yfunc");if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":l=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":l=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":l=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let u=0;u<i.length;u++){let f=i[u];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(o=u*t.fontSize);let h=e.append("text");if(h.attr("x",t.x),h.attr("y",l()),typeof t.anchor<"u"&&h.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&h.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&h.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&h.style("font-weight",t.fontWeight),typeof t.fill<"u"&&h.attr("fill",t.fill),typeof t.class<"u"&&h.attr("class",t.class),typeof t.dy<"u"?h.attr("dy",t.dy):o!==0&&h.attr("dy",o),t.tspan){let p=h.append("tspan");p.attr("x",t.x),typeof t.fill<"u"&&p.attr("fill",t.fill),p.text(f)}else h.text(f);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(h._groups||h)[0][0].getBBox().height,r=n),s.push(h)}return s},"drawText$1"),SOe=a(function(e,t){function r(i,s,o,l,u){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+l-u)+" "+(i+o-u*1.2)+","+(s+l)+" "+i+","+(s+l)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,kv(e,t),n},"drawLabel$1"),df=-1,kOe=a((e,t)=>{!e.selectAll||e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)},"fixLifeLineHeights"),xjt=a(function(e,t,r){let n=t.x+t.width/2,i=e.append("g");var s=i;t.y===0&&(df++,s.append("line").attr("id","actor"+df).attr("x1",n).attr("y1",5).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),s=i.append("g"),t.actorCnt=df,t.links!=null&&(s.attr("id","root-"+df),wOe("#root-"+df,df)));let o=EB();var l="actor";t.properties!=null&&t.properties.class?l=t.properties.class:o.fill="#eaeaea",o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height,o.class=l,o.rx=3,o.ry=3;let u=AB(s,o);if(t.rectData=o,t.properties!=null&&t.properties.icon){let h=t.properties.icon.trim();h.charAt(0)==="@"?EOe(s,o.x+o.width-20,o.y+10,h.substr(1)):AOe(s,o.x+o.width-20,o.y+10,h)}COe(r)(t.description,s,o.x,o.y,o.width,o.height,{class:"actor"},r);let f=t.height;if(u.node){let h=u.node().getBBox();t.height=h.height,f=h.height}return f},"drawActorTypeParticipant"),wjt=a(function(e,t,r){let n=t.x+t.width/2;t.y===0&&(df++,e.append("line").attr("id","actor"+df).attr("x1",n).attr("y1",80).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));let i=e.append("g");i.attr("class","actor-man");let s=EB();s.x=t.x,s.y=t.y,s.fill="#eaeaea",s.width=t.width,s.height=t.height,s.class="actor",s.rx=3,s.ry=3,i.append("line").attr("id","actor-man-torso"+df).attr("x1",n).attr("y1",t.y+25).attr("x2",n).attr("y2",t.y+45),i.append("line").attr("id","actor-man-arms"+df).attr("x1",n-18).attr("y1",t.y+33).attr("x2",n+18).attr("y2",t.y+33),i.append("line").attr("x1",n-18).attr("y1",t.y+60).attr("x2",n).attr("y2",t.y+45),i.append("line").attr("x1",n).attr("y1",t.y+45).attr("x2",n+16).attr("y2",t.y+60);let o=i.append("circle");o.attr("cx",t.x+t.width/2),o.attr("cy",t.y+10),o.attr("r",15),o.attr("width",t.width),o.attr("height",t.height);let l=i.node().getBBox();return t.height=l.height,COe(r)(t.description,i,s.x,s.y+35,s.width,s.height,{class:"actor"},r),t.height},"drawActorTypeActor"),Ajt=a(function(e,t,r){switch(t.type){case"actor":return wjt(e,t,r);case"participant":return xjt(e,t,r)}},"drawActor"),Ejt=a(function(e){return e.append("g")},"anchorElement"),Sjt=a(function(e,t,r,n,i){let s=EB(),o=t.anchored;s.x=t.startx,s.y=t.starty,s.class="activation"+i%3,s.width=t.stopx-t.startx,s.height=r-t.starty,AB(o,s)},"drawActivation"),kjt=a(function(e,t,r,n){let{boxMargin:i,boxTextMargin:s,labelBoxHeight:o,labelBoxWidth:l,messageFontFamily:u,messageFontSize:f,messageFontWeight:h}=n,p=e.append("g"),g=a(function(M,z,P,Q){return p.append("line").attr("x1",M).attr("y1",z).attr("x2",P).attr("y2",Q).attr("class","loopLine")},"drawLoopLine");g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),typeof t.sections<"u"&&t.sections.forEach(function(M){g(t.startx,M.y,t.stopx,M.y).style("stroke-dasharray","3, 3")});let y=W$();y.text=r,y.x=t.startx,y.y=t.starty,y.fontFamily=u,y.fontSize=f,y.fontWeight=h,y.anchor="middle",y.valign="middle",y.tspan=!1,y.width=l||50,y.height=o||20,y.textMargin=s,y.class="labelText",SOe(p,y),y=W$(),y.text=t.title,y.x=t.startx+l/2+(t.stopx-t.startx)/2,y.y=t.starty+i+s,y.anchor="middle",y.valign="middle",y.textMargin=s,y.class="loopText",y.fontFamily=u,y.fontSize=f,y.fontWeight=h,y.wrap=!0;let E=kv(p,y);return typeof t.sectionTitles<"u"&&t.sectionTitles.forEach(function(M,z){if(M.message){y.text=M.message,y.x=t.startx+(t.stopx-t.startx)/2,y.y=t.sections[z].y+i+s,y.class="loopText",y.anchor="middle",y.valign="middle",y.tspan=!1,y.fontFamily=u,y.fontSize=f,y.fontWeight=h,y.wrap=t.wrap,E=kv(p,y);let P=Math.round(E.map(Q=>(Q._groups||Q)[0][0].getBBox().height).reduce((Q,V)=>Q+V));t.sections[z].height+=P-(i+s)}}),t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),Cjt=a(function(e,t){AB(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect$1"),Ijt=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Tjt=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Mjt=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Bjt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Rjt=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Ljt=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),Djt=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),W$=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj$1"),EB=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect$1"),COe=function(){function e(i,s,o,l,u,f,h){let p=s.append("text").attr("x",o+u/2).attr("y",l+f/2+5).style("text-anchor","middle").text(i);n(p,h)}a(e,"byText");function t(i,s,o,l,u,f,h,p){let{actorFontSize:g,actorFontFamily:y,actorFontWeight:E}=p,M=g&&g.replace?g.replace("px",""):g,z=i.split(Gr.lineBreakRegex);for(let P=0;P<z.length;P++){let Q=P*M-M*(z.length-1)/2,V=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",g).style("font-weight",E).style("font-family",y);V.append("tspan").attr("x",o+u/2).attr("dy",Q).text(z[P]),V.attr("y",l+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(V,h)}}a(t,"byTspan");function r(i,s,o,l,u,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,l,u,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Njt=function(){function e(i,s,o,l,u,f,h){let p=s.append("text").attr("x",o).attr("y",l).style("text-anchor","start").text(i);n(p,h)}a(e,"byText");function t(i,s,o,l,u,f,h,p){let{actorFontSize:g,actorFontFamily:y,actorFontWeight:E}=p,M=i.split(Gr.lineBreakRegex);for(let z=0;z<M.length;z++){let P=z*g-g*(M.length-1)/2,Q=s.append("text").attr("x",o).attr("y",l).style("text-anchor","start").style("font-size",g).style("font-weight",E).style("font-family",y);Q.append("tspan").attr("x",o).attr("dy",P).text(M[z]),Q.attr("y",l+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,l,u,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,l,u,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Ki={drawRect:AB,drawText:kv,drawLabel:SOe,drawActor:Ajt,drawPopup:yjt,drawImage:AOe,drawEmbeddedImage:EOe,anchorElement:Ejt,drawActivation:Sjt,drawLoop:kjt,drawBackgroundRect:Cjt,insertArrowHead:Bjt,insertArrowFilledHead:Rjt,insertSequenceNumber:Ljt,insertArrowCrossHead:Djt,insertDatabaseIcon:Ijt,insertComputerIcon:Tjt,insertClockIcon:Mjt,getTextObj:W$,getNoteRect:EB,popupMenu:mjt,popdownMenu:bjt,fixLifeLineHeights:kOe,sanitizeUrl:vf.sanitizeUrl},kt={},sr={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,TOe(ft())},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=this,s=0;function o(l){return a(function(f){s++;let h=i.sequenceItems.length-s+1;i.updateVal(f,"starty",t-h*kt.boxMargin,Math.min),i.updateVal(f,"stopy",n+h*kt.boxMargin,Math.max),i.updateVal(sr.data,"startx",e-h*kt.boxMargin,Math.min),i.updateVal(sr.data,"stopx",r+h*kt.boxMargin,Math.max),l!=="activation"&&(i.updateVal(f,"startx",e-h*kt.boxMargin,Math.min),i.updateVal(f,"stopx",r+h*kt.boxMargin,Math.max),i.updateVal(sr.data,"starty",t-h*kt.boxMargin,Math.min),i.updateVal(sr.data,"stopy",n+h*kt.boxMargin,Math.max))},"updateItemBounds")}a(o,"updateFn"),this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(e,t,r,n){let i=Math.min(e,r),s=Math.max(e,r),o=Math.min(t,n),l=Math.max(t,n);this.updateVal(sr.data,"startx",i,Math.min),this.updateVal(sr.data,"starty",o,Math.min),this.updateVal(sr.data,"stopx",s,Math.max),this.updateVal(sr.data,"stopy",l,Math.max),this.updateBounds(i,o,s,l)},newActivation:function(e,t,r){let n=r[e.from.actor],i=SB(e.from.actor).length||0,s=n.x+n.width/2+(i-1)*kt.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+kt.activationWidth,stopy:void 0,actor:e.from.actor,anchored:Ki.anchorElement(t)})},endActivation:function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:sr.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Ojt=a(function(e,t){sr.bumpVerticalPos(kt.boxMargin),t.height=kt.boxMargin,t.starty=sr.getVerticalPos();let r=Ki.getNoteRect();r.x=t.startx,r.y=t.starty,r.width=t.width||kt.width,r.class="note";let n=e.append("g"),i=Ki.drawRect(n,r),s=Ki.getTextObj();s.x=t.startx,s.y=t.starty,s.width=r.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=kt.noteFontFamily,s.fontSize=kt.noteFontSize,s.fontWeight=kt.noteFontWeight,s.anchor=kt.noteAlign,s.textMargin=kt.noteMargin,s.valign="center";let o=kv(n,s),l=Math.round(o.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,f)=>u+f));i.attr("height",l+2*kt.noteMargin),t.height+=l+2*kt.noteMargin,sr.bumpVerticalPos(l+2*kt.noteMargin),t.stopy=t.starty+l+2*kt.noteMargin,t.stopx=t.startx+r.width,sr.insert(t.startx,t.starty,t.stopx,t.stopy),sr.models.addNote(t)},"drawNote$1"),Cv=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),hv=a(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),V$=a(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),qjt=a(function(e,t){sr.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,s=Gr.splitBreaks(i).length,o=on.calculateTextDimensions(i,Cv(kt)),l=o.height/s;t.height+=l,sr.bumpVerticalPos(l);let u,f=o.height-10,h=o.width;if(r===n){u=sr.getVerticalPos()+f,kt.rightAngles||(f+=kt.boxMargin,u=sr.getVerticalPos()+f),f+=30;let p=Math.max(h/2,kt.width/2);sr.insert(r-p,sr.getVerticalPos()-10+f,n+p,sr.getVerticalPos()+30+f)}else f+=kt.boxMargin,u=sr.getVerticalPos()+f,sr.insert(r,u-10,n,u);return sr.bumpVerticalPos(f),t.height+=f,t.stopy=t.starty+t.height,sr.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u},"boundMessage"),Pjt=a(function(e,t,r,n){let{startx:i,stopx:s,starty:o,message:l,type:u,sequenceIndex:f,sequenceVisible:h}=t,p=on.calculateTextDimensions(l,Cv(kt)),g=Ki.getTextObj();g.x=i,g.y=o+10,g.width=s-i,g.class="messageText",g.dy="1em",g.text=l,g.fontFamily=kt.messageFontFamily,g.fontSize=kt.messageFontSize,g.fontWeight=kt.messageFontWeight,g.anchor=kt.messageAlign,g.valign="center",g.textMargin=kt.wrapPadding,g.tspan=!1,kv(e,g);let y=p.width,E;i===s?kt.rightAngles?E=e.append("path").attr("d",`M  ${i},${r} H ${i+Math.max(kt.width/2,y/2)} V ${r+25} H ${i}`):E=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(E=e.append("line"),E.attr("x1",i),E.attr("y1",r),E.attr("x2",s),E.attr("y2",r)),u===n.db.LINETYPE.DOTTED||u===n.db.LINETYPE.DOTTED_CROSS||u===n.db.LINETYPE.DOTTED_POINT||u===n.db.LINETYPE.DOTTED_OPEN?(E.style("stroke-dasharray","3, 3"),E.attr("class","messageLine1")):E.attr("class","messageLine0");let M="";kt.arrowMarkerAbsolute&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),E.attr("stroke-width",2),E.attr("stroke","none"),E.style("fill","none"),(u===n.db.LINETYPE.SOLID||u===n.db.LINETYPE.DOTTED)&&E.attr("marker-end","url("+M+"#arrowhead)"),(u===n.db.LINETYPE.SOLID_POINT||u===n.db.LINETYPE.DOTTED_POINT)&&E.attr("marker-end","url("+M+"#filled-head)"),(u===n.db.LINETYPE.SOLID_CROSS||u===n.db.LINETYPE.DOTTED_CROSS)&&E.attr("marker-end","url("+M+"#crosshead)"),(h||kt.showSequenceNumbers)&&(E.attr("marker-start","url("+M+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(f))},"drawMessage"),j$=a(function(e,t,r,n,i,s){if(i.hideUnusedParticipants===!0){let f=new Set;s.forEach(h=>{f.add(h.from),f.add(h.to)}),r=r.filter(h=>f.has(h))}let o=0,l=0,u=0;for(let f=0;f<r.length;f++){let h=t[r[f]];h.width=h.width||kt.width,h.height=Math.max(h.height||kt.height,kt.height),h.margin=h.margin||kt.actorMargin,h.x=o+l,h.y=n;let p=Ki.drawActor(e,h,kt);u=Math.max(u,p),sr.insert(h.x,n,h.x+h.width,h.height),o+=h.width,l+=h.margin,sr.models.addActor(h)}sr.bumpVerticalPos(u)},"drawActors"),IOe=a(function(e,t,r,n){let i=0,s=0;for(let o=0;o<r.length;o++){let l=t[r[o]],u=Yjt(l),f=Ki.drawPopup(e,l,u,kt,kt.forceMenus,n);f.height>i&&(i=f.height),f.width+l.x>s&&(s=f.width+l.x)}return{maxHeight:i,maxWidth:s}},"drawActorsPopup"),TOe=a(function(e){Sa(kt,e),e.fontFamily&&(kt.actorFontFamily=kt.noteFontFamily=kt.messageFontFamily=e.fontFamily),e.fontSize&&(kt.actorFontSize=kt.noteFontSize=kt.messageFontSize=e.fontSize),e.fontWeight&&(kt.actorFontWeight=kt.noteFontWeight=kt.messageFontWeight=e.fontWeight)},"setConf$4"),SB=a(function(e){return sr.activations.filter(function(t){return t.actor===e})},"actorActivations"),oDe=a(function(e,t){let r=t[e],n=SB(e),i=n.reduce(function(o,l){return Math.min(o,l.startx)},r.x+r.width/2),s=n.reduce(function(o,l){return Math.max(o,l.stopx)},r.x+r.width/2);return[i,s]},"activationBounds");function uf(e,t,r,n,i){sr.bumpVerticalPos(r);let s=n;if(t.id&&t.message&&e[t.id]){let o=e[t.id].width,l=Cv(kt);t.message=on.wrapLabel(`[${t.message}]`,o-2*kt.wrapPadding,l),t.width=o,t.wrap=!0;let u=on.calculateTextDimensions(t.message,l),f=Math.max(u.height,kt.labelBoxHeight);s=n+f,Pe.debug(`${f} - ${t.message}`)}i(t),sr.bumpVerticalPos(s)}a(uf,"adjustLoopHeightForWrap");var Fjt=a(function(e,t,r,n){let{securityLevel:i,sequence:s}=ft();kt=s;let o;i==="sandbox"&&(o=Zt("#i"+t));let l=i==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body"),u=i==="sandbox"?o.nodes()[0].contentDocument:document;sr.init(),Pe.debug(n.db);let f=i==="sandbox"?l.select(`[id="${t}"]`):Zt(`[id="${t}"]`),h=n.db.getActors(),p=n.db.getActorKeys(),g=n.db.getMessages(),y=n.db.getDiagramTitle(),E=Ujt(h,g,n);kt.height=Hjt(h,E),Ki.insertComputerIcon(f),Ki.insertDatabaseIcon(f),Ki.insertClockIcon(f),j$(f,h,p,0,kt,g);let M=Wjt(g,h,E,n);Ki.insertArrowHead(f),Ki.insertArrowCrossHead(f),Ki.insertArrowFilledHead(f),Ki.insertSequenceNumber(f);function z(N,m){let v=sr.endActivation(N);v.starty+18>m&&(v.starty=m-6,m+=12),Ki.drawActivation(f,v,m,kt,SB(N.from.actor).length),sr.insert(v.startx,m-10,v.stopx,m)}a(z,"activeEnd");let P=1,Q=1,V=[];g.forEach(function(N){let m,v,A;switch(N.type){case n.db.LINETYPE.NOTE:v=N.noteModel,Ojt(f,v);break;case n.db.LINETYPE.ACTIVE_START:sr.newActivation(N,f,h);break;case n.db.LINETYPE.ACTIVE_END:z(N,sr.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.LOOP_END:m=sr.endLoop(),Ki.drawLoop(f,m,"loop",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.RECT_START:uf(M,N,kt.boxMargin,kt.boxMargin,U=>sr.newLoop(void 0,U.message));break;case n.db.LINETYPE.RECT_END:m=sr.endLoop(),Ki.drawBackgroundRect(f,m),sr.models.addLoop(m),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos());break;case n.db.LINETYPE.OPT_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.OPT_END:m=sr.endLoop(),Ki.drawLoop(f,m,"opt",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.ALT_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.ALT_ELSE:uf(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.ALT_END:m=sr.endLoop(),Ki.drawLoop(f,m,"alt",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.PAR_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.PAR_AND:uf(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.PAR_END:m=sr.endLoop(),Ki.drawLoop(f,m,"par",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.AUTONUMBER:P=N.message.start||P,Q=N.message.step||Q,N.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.CRITICAL_OPTION:uf(M,N,kt.boxMargin+kt.boxTextMargin,kt.boxMargin,U=>sr.addSectionToLoop(U));break;case n.db.LINETYPE.CRITICAL_END:m=sr.endLoop(),Ki.drawLoop(f,m,"critical",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;case n.db.LINETYPE.BREAK_START:uf(M,N,kt.boxMargin,kt.boxMargin+kt.boxTextMargin,U=>sr.newLoop(U));break;case n.db.LINETYPE.BREAK_END:m=sr.endLoop(),Ki.drawLoop(f,m,"break",kt),sr.bumpVerticalPos(m.stopy-sr.getVerticalPos()),sr.models.addLoop(m);break;default:try{A=N.msgModel,A.starty=sr.getVerticalPos(),A.sequenceIndex=P,A.sequenceVisible=n.db.showSequenceNumbers();let U=qjt(f,A);V.push({messageModel:A,lineStarty:U}),sr.models.addMessage(A)}catch(U){Pe.error("error while drawing message",U)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(N.type)&&(P=P+Q)}),V.forEach(N=>Pjt(f,N.messageModel,N.lineStarty,n)),kt.mirrorActors&&(sr.bumpVerticalPos(kt.boxMargin*2),j$(f,h,p,sr.getVerticalPos(),kt,g),sr.bumpVerticalPos(kt.boxMargin),kOe(f,sr.getVerticalPos()));let W=IOe(f,h,p,u),{bounds:F}=sr.getBounds();Pe.debug("For line height fix Querying: #"+t+" .actor-line"),Ab("#"+t+" .actor-line").attr("y2",F.stopy);let S=F.stopy-F.starty;S<W.maxHeight&&(S=W.maxHeight);let T=S+2*kt.diagramMarginY;kt.mirrorActors&&(T=T-kt.boxMargin+kt.bottomMarginAdj);let k=F.stopx-F.startx;k<W.maxWidth&&(k=W.maxWidth);let R=k+2*kt.diagramMarginX;y&&f.append("text").text(y).attr("x",(F.stopx-F.startx)/2-2*kt.diagramMarginX).attr("y",-25),Zl(f,T,R,kt.useMaxWidth);let x=y?40:0;f.attr("viewBox",F.startx-kt.diagramMarginX+" -"+(kt.diagramMarginY+x)+" "+R+" "+(T+x)),Oo(n.db,f,t),Pe.debug("models:",sr.models)},"draw$4"),Ujt=a(function(e,t,r){let n={};return t.forEach(function(i){if(e[i.to]&&e[i.from]){let s=e[i.to];if(i.placement===r.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;let o=i.placement!==void 0,l=!o,u=o?hv(kt):Cv(kt),f=i.wrap?on.wrapLabel(i.message,kt.width-2*kt.wrapPadding,u):i.message,p=on.calculateTextDimensions(f,u).width+2*kt.wrapPadding;l&&i.from===s.nextActor?n[i.to]=Math.max(n[i.to]||0,p):l&&i.from===s.prevActor?n[i.from]=Math.max(n[i.from]||0,p):l&&i.from===i.to?(n[i.from]=Math.max(n[i.from]||0,p/2),n[i.to]=Math.max(n[i.to]||0,p/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Math.max(n[i.from]||0,p):i.placement===r.db.PLACEMENT.LEFTOF?n[s.prevActor]=Math.max(n[s.prevActor]||0,p):i.placement===r.db.PLACEMENT.OVER&&(s.prevActor&&(n[s.prevActor]=Math.max(n[s.prevActor]||0,p/2)),s.nextActor&&(n[i.from]=Math.max(n[i.from]||0,p/2)))}}),Pe.debug("maxMessageWidthPerActor:",n),n},"getMaxMessageWidthPerActor"),Yjt=a(function(e){let t=0,r=V$(kt);for(let n in e.links){let s=on.calculateTextDimensions(n,r).width+2*kt.wrapPadding+2*kt.boxMargin;t<s&&(t=s)}return t},"getRequiredPopupWidth"),Hjt=a(function(e,t){let r=0;Object.keys(e).forEach(n=>{let i=e[n];i.wrap&&(i.description=on.wrapLabel(i.description,kt.width-2*kt.wrapPadding,V$(kt)));let s=on.calculateTextDimensions(i.description,V$(kt));i.width=i.wrap?kt.width:Math.max(kt.width,s.width+2*kt.wrapPadding),i.height=i.wrap?Math.max(s.height,kt.height):kt.height,r=Math.max(r,i.height)});for(let n in t){let i=e[n];if(!i)continue;let s=e[i.nextActor];if(!s)continue;let l=t[n]+kt.actorMargin-i.width/2-s.width/2;i.margin=Math.max(l,kt.actorMargin)}return Math.max(r,kt.height)},"calculateActorMargins"),zjt=a(function(e,t,r){let n=t[e.from].x,i=t[e.to].x,s=e.wrap&&e.message,o=on.calculateTextDimensions(s?on.wrapLabel(e.message,kt.width,hv(kt)):e.message,hv(kt)),l={width:s?kt.width:Math.max(kt.width,o.width+2*kt.noteMargin),height:0,startx:t[e.from].x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(l.width=s?Math.max(kt.width,o.width):Math.max(t[e.from].width/2+t[e.to].width/2,o.width+2*kt.noteMargin),l.startx=n+(t[e.from].width+kt.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(l.width=Math.max(s?kt.width:t[e.from].width/2+t[e.to].width/2,o.width+2*kt.noteMargin),l.startx=n-l.width+(t[e.from].width-kt.actorMargin)/2):e.to===e.from?(o=on.calculateTextDimensions(s?on.wrapLabel(e.message,Math.max(kt.width,t[e.from].width),hv(kt)):e.message,hv(kt)),l.width=s?Math.max(kt.width,t[e.from].width):Math.max(t[e.from].width,kt.width,o.width+2*kt.noteMargin),l.startx=n+(t[e.from].width-l.width)/2):(l.width=Math.abs(n+t[e.from].width/2-(i+t[e.to].width/2))+kt.actorMargin,l.startx=n<i?n+t[e.from].width/2-kt.actorMargin/2:i+t[e.to].width/2-kt.actorMargin/2),s&&(l.message=on.wrapLabel(e.message,l.width-2*kt.wrapPadding,hv(kt))),Pe.debug(`NM:[${l.startx},${l.stopx},${l.starty},${l.stopy}:${l.width},${l.height}=${e.message}]`),l},"buildNoteModel"),Qjt=a(function(e,t,r){let n=!1;if([r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(n=!0),!n)return{};let i=oDe(e.from,t),s=oDe(e.to,t),o=i[0]<=s[0]?1:0,l=i[0]<s[0]?0:1,u=i.concat(s),f=Math.abs(s[l]-i[o]);e.wrap&&e.message&&(e.message=on.wrapLabel(e.message,Math.max(f+2*kt.wrapPadding,kt.width),Cv(kt)));let h=on.calculateTextDimensions(e.message,Cv(kt));return{width:Math.max(e.wrap?0:h.width+2*kt.wrapPadding,f+2*kt.wrapPadding,kt.width),height:0,startx:i[o],stopx:s[l],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,u),toBounds:Math.max.apply(null,u)}},"buildMessageModel"),Wjt=a(function(e,t,r,n){let i={},s=[],o,l,u;return e.forEach(function(f){switch(f.id=on.random({length:10}),f.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:s.push({id:f.id,msg:f.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:f.message&&(o=s.pop(),i[o.id]=o,i[f.id]=o,s.push(o));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:o=s.pop(),i[o.id]=o;break;case n.db.LINETYPE.ACTIVE_START:{let p=t[f.from?f.from.actor:f.to.actor],g=SB(f.from?f.from.actor:f.to.actor).length,y=p.x+p.width/2+(g-1)*kt.activationWidth/2,E={startx:y,stopx:y+kt.activationWidth,actor:f.from.actor,enabled:!0};sr.activations.push(E)}break;case n.db.LINETYPE.ACTIVE_END:{let p=sr.activations.map(g=>g.actor).lastIndexOf(f.from.actor);delete sr.activations.splice(p,1)[0]}break}f.placement!==void 0?(l=zjt(f,t,n),f.noteModel=l,s.forEach(p=>{o=p,o.from=Math.min(o.from,l.startx),o.to=Math.max(o.to,l.startx+l.width),o.width=Math.max(o.width,Math.abs(o.from-o.to))-kt.labelBoxWidth})):(u=Qjt(f,t,n),f.msgModel=u,u.startx&&u.stopx&&s.length>0&&s.forEach(p=>{if(o=p,u.startx===u.stopx){let g=t[f.from],y=t[f.to];o.from=Math.min(g.x-u.width/2,g.x-g.width/2,o.from),o.to=Math.max(y.x+u.width/2,y.x+g.width/2,o.to),o.width=Math.max(o.width,Math.abs(o.to-o.from))-kt.labelBoxWidth}else o.from=Math.min(u.startx,o.from),o.to=Math.max(u.stopx,o.to),o.width=Math.max(o.width,u.width)-kt.labelBoxWidth}))}),sr.activations=[],Pe.debug("Loop type widths:",i),i},"calculateLoopBounds"),cDe={bounds:sr,drawActors:j$,drawActorsPopup:IOe,setConf:TOe,draw:Fjt},GM=function(){var e=a(function(K,Z,O,$){for(O=O||{},$=K.length;$--;O[K[$]]=Z);return O},"o"),t=[1,2],r=[1,3],n=[1,5],i=[1,7],s=[2,5],o=[1,15],l=[1,17],u=[1,19],f=[1,20],h=[1,21],p=[1,22],g=[1,33],y=[1,23],E=[1,24],M=[1,25],z=[1,26],P=[1,27],Q=[1,30],V=[1,31],W=[1,32],F=[1,35],B=[1,36],S=[1,37],T=[1,38],k=[1,34],R=[1,41],x=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],N=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],m=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],v=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],A={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:a(function(Z,O,$,L,ee,ve,ye){var se=ve.length-1;switch(ee){case 4:return L.setRootDoc(ve[se]),ve[se];case 5:this.$=[];break;case 6:ve[se]!="nl"&&(ve[se-1].push(ve[se]),this.$=ve[se-1]);break;case 7:case 8:this.$=ve[se];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:ve[se],type:"default",description:""};break;case 11:this.$={stmt:"state",id:ve[se-1],type:"default",description:L.trimColon(ve[se])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:ve[se-2],type:"default",description:""},state2:{stmt:"state",id:ve[se],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:ve[se-3],type:"default",description:""},state2:{stmt:"state",id:ve[se-1],type:"default",description:""},description:ve[se].substr(1).trim()};break;case 17:this.$={stmt:"state",id:ve[se-3],type:"default",description:"",doc:ve[se-1]};break;case 18:var be=ve[se],Y=ve[se-2].trim();if(ve[se].match(":")){var D=ve[se].split(":");be=D[0],Y=[Y,D[1]]}this.$={stmt:"state",id:be,type:"default",description:Y};break;case 19:this.$={stmt:"state",id:ve[se-3],type:"default",description:ve[se-5],doc:ve[se-1]};break;case 20:this.$={stmt:"state",id:ve[se],type:"fork"};break;case 21:this.$={stmt:"state",id:ve[se],type:"join"};break;case 22:this.$={stmt:"state",id:ve[se],type:"choice"};break;case 23:this.$={stmt:"state",id:L.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:ve[se-1].trim(),note:{position:ve[se-2].trim(),text:ve[se].trim()}};break;case 28:this.$=ve[se].trim(),L.setAccTitle(this.$);break;case 29:case 30:this.$=ve[se].trim(),L.setAccDescription(this.$);break;case 33:L.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:L.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:L.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:L.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 39:case 40:this.$=ve[se];break;case 43:L.parseDirective("%%{","open_directive");break;case 44:L.parseDirective(ve[se],"type_directive");break;case 45:ve[se]=ve[se].trim().replace(/'/g,'"'),L.parseDirective(ve[se],"arg_directive");break;case 46:L.parseDirective("}%%","close_directive","state");break}},"anonymous"),table:[{3:1,4:t,5:r,6:4,7:n,36:6,50:i},{1:[3]},{3:8,4:t,5:r,6:4,7:n,36:6,50:i},{3:9,4:t,5:r,6:4,7:n,36:6,50:i},{3:10,4:t,5:r,6:4,7:n,36:6,50:i},e([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],s,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:l,6:28,9:14,10:16,11:18,14:u,15:f,17:h,20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},{38:39,39:[1,40],53:R},e([39,53],[2,44]),e(x,[2,6]),{6:28,10:42,11:18,14:u,15:f,17:h,20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,8]),e(x,[2,9]),e(x,[2,10],{12:[1,43],13:[1,44]}),e(x,[2,14]),{16:[1,45]},e(x,[2,16],{18:[1,46]}),{21:[1,47]},e(x,[2,20]),e(x,[2,21]),e(x,[2,22]),e(x,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},e(x,[2,26]),e(x,[2,27]),{32:[1,52]},{34:[1,53]},e(x,[2,30]),e(N,[2,39]),e(N,[2,40]),e(x,[2,33]),e(x,[2,34]),e(x,[2,35]),e(x,[2,36]),e(m,[2,31]),{40:54,52:[1,55]},e(m,[2,46]),e(x,[2,7]),e(x,[2,11]),{11:56,22:g,47:k},e(x,[2,15]),e(v,s,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},e(x,[2,28]),e(x,[2,29]),{38:61,53:R},{53:[2,45]},e(x,[2,12],{12:[1,62]}),{4:o,5:l,6:28,9:14,10:16,11:18,14:u,15:f,17:h,19:[1,63],20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},e(m,[2,32]),e(x,[2,13]),e(x,[2,17]),e(v,s,{8:67}),e(x,[2,24]),e(x,[2,25]),{4:o,5:l,6:28,9:14,10:16,11:18,14:u,15:f,17:h,19:[1,68],20:p,22:g,23:y,24:E,25:M,26:z,27:P,30:29,31:Q,33:V,35:W,36:6,41:F,42:B,43:S,44:T,47:k,50:i},e(x,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:a(function(Z,O){if(O.recoverable)this.trace(Z);else{var $=new Error(Z);throw $.hash=O,$}},"parseError"),parse:a(function(Z){var O=this,$=[0],L=[],ee=[null],ve=[],ye=this.table,se="",be=0,Y=0,D=2,J=1,q=ve.slice.call(arguments,1),I=Object.create(this.lexer),H={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&(H.yy[te]=this.yy[te]);I.setInput(Z,H.yy),H.yy.lexer=I,H.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var ie=I.yylloc;ve.push(ie);var he=I.options&&I.options.ranges;typeof H.yy.parseError=="function"?this.parseError=H.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function De(){var xe;return xe=L.pop()||I.lex()||J,typeof xe!="number"&&(xe instanceof Array&&(L=xe,xe=L.pop()),xe=O.symbols_[xe]||xe),xe}a(De,"lex");for(var $e,ze,Qe,je,We={},Ce,Te,Je,rt;;){if(ze=$[$.length-1],this.defaultActions[ze]?Qe=this.defaultActions[ze]:(($e===null||typeof $e>"u")&&($e=De()),Qe=ye[ze]&&ye[ze][$e]),typeof Qe>"u"||!Qe.length||!Qe[0]){var ge="";rt=[];for(Ce in ye[ze])this.terminals_[Ce]&&Ce>D&&rt.push("'"+this.terminals_[Ce]+"'");I.showPosition?ge="Parse error on line "+(be+1)+`:
`+I.showPosition()+`
Expecting `+rt.join(", ")+", got '"+(this.terminals_[$e]||$e)+"'":ge="Parse error on line "+(be+1)+": Unexpected "+($e==J?"end of input":"'"+(this.terminals_[$e]||$e)+"'"),this.parseError(ge,{text:I.match,token:this.terminals_[$e]||$e,line:I.yylineno,loc:ie,expected:rt})}if(Qe[0]instanceof Array&&Qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+$e);switch(Qe[0]){case 1:$.push($e),ee.push(I.yytext),ve.push(I.yylloc),$.push(Qe[1]),$e=null,Y=I.yyleng,se=I.yytext,be=I.yylineno,ie=I.yylloc;break;case 2:if(Te=this.productions_[Qe[1]][1],We.$=ee[ee.length-Te],We._$={first_line:ve[ve.length-(Te||1)].first_line,last_line:ve[ve.length-1].last_line,first_column:ve[ve.length-(Te||1)].first_column,last_column:ve[ve.length-1].last_column},he&&(We._$.range=[ve[ve.length-(Te||1)].range[0],ve[ve.length-1].range[1]]),je=this.performAction.apply(We,[se,Y,be,H.yy,Qe[1],ee,ve].concat(q)),typeof je<"u")return je;Te&&($=$.slice(0,-1*Te*2),ee=ee.slice(0,-1*Te),ve=ve.slice(0,-1*Te)),$.push(this.productions_[Qe[1]][0]),ee.push(We.$),ve.push(We._$),Je=ye[$[$.length-2]][$[$.length-1]],$.push(Je);break;case 3:return!0}}return!0},"parse2")},U=function(){var K={EOF:1,parseError:a(function(O,$){if(this.yy.parser)this.yy.parser.parseError(O,$);else throw new Error(O)},"parseError"),setInput:function(Z,O){return this.yy=O||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var O=Z.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},unput:function(Z){var O=Z.length,$=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===L.length?this.yylloc.first_column:0)+L[L.length-$.length].length-$[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Z){this.unput(this.match.slice(Z))},pastInput:function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Z=this.pastInput(),O=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+O+"^"},test_match:function(Z,O){var $,L,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),L=Z[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],$=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var ve in ee)this[ve]=ee[ve];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,O,$,L;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),ve=0;ve<ee.length;ve++)if($=this._input.match(this.rules[ee[ve]]),$&&(!O||$[0].length>O[0].length)){if(O=$,L=ve,this.options.backtrack_lexer){if(Z=this.test_match($,ee[ve]),Z!==!1)return Z;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(Z=this.test_match(O,ee[L]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var O=this.next();return O||this.lex()},"lex"),begin:a(function(O){this.conditionStack.push(O)},"begin"),popState:a(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:a(function(O){this.begin(O)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(O,$,L,ee){switch(L){case 0:return 41;case 1:return 42;case 2:return 43;case 3:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:break;case 10:break;case 11:return 5;case 12:break;case 13:break;case 14:break;case 15:break;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 24:this.popState();break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),23;case 28:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),24;case 29:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),25;case 30:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),23;case 31:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),24;case 32:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),25;case 33:return 41;case 34:return 42;case 35:return 43;case 36:return 44;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:return this.popState(),"ID";case 40:this.popState();break;case 41:return"STATE_DESCR";case 42:return 17;case 43:this.popState();break;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 46:break;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 52:break;case 53:return"NOTE_TEXT";case 54:return this.popState(),"ID";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),$.yytext=$.yytext.substr(2).trim(),29;case 57:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),29;case 58:return 7;case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return $.yytext=$.yytext.trim(),12;case 64:return 13;case 65:return 26;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};return K}();A.lexer=U;function G(){this.yy={}}return a(G,"Parser"),G.prototype=A,A.Parser=G,new G}();GM.parser=GM;var Vjt=a((e,t)=>{var r;return((r=t?.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*stateDiagram/)!==null},"stateDetector"),jjt=a((e,t)=>{var r;return!!(e.match(/^\s*stateDiagram-v2/)!==null||e.match(/^\s*stateDiagram/)&&((r=t?.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"stateDetectorV2"),hM=a(e=>JSON.parse(JSON.stringify(e)),"clone"),KM=[],Gjt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$2"),Kjt=a(e=>{Pe.info("Setting root doc",e),KM=e},"setRootDoc"),$jt=a(()=>KM,"getRootDoc"),EM=a((e,t,r)=>{if(t.stmt==="relation")EM(e,t.state1,!0),EM(e,t.state2,!1);else if(t.stmt==="state"&&t.id==="[*]"&&(t.id=r?e.id+"_start":e.id+"_end",t.start=r),t.doc){let n=[],i=0,s=[];for(i=0;i<t.doc.length;i++)if(t.doc[i].type==="divider"){let o=hM(t.doc[i]);o.doc=hM(s),n.push(o),s=[]}else s.push(t.doc[i]);if(n.length>0&&s.length>0){let o={stmt:"state",id:CDe(),type:"divider",doc:hM(s)};n.push(hM(o)),t.doc=n}t.doc.forEach(o=>EM(t,o,!0))}},"docTranslator"),Xjt=a(()=>(EM({id:"root"},{id:"root",doc:KM},!0),{id:"root",doc:KM}),"getRootDocV2"),Jjt=a(e=>{let t;e.doc?t=e.doc:t=e,Pe.info(t),BOe(!0),Pe.info("Extract",t),t.forEach(r=>{r.stmt==="state"&&$M(r.id,r.type,r.doc,r.description,r.note),r.stmt==="relation"&&ROe(r.state1.id,r.state2.id,r.description)})},"extract"),MOe=a(()=>({relations:[],states:{},documents:{}}),"newDoc"),j5={root:MOe()},qs=j5.root,SM=0,$M=a(function(e,t,r,n,i){typeof qs.states[e]>"u"?qs.states[e]={id:e,descriptions:[],type:t,doc:r,note:i}:(qs.states[e].doc||(qs.states[e].doc=r),qs.states[e].type||(qs.states[e].type=t)),n&&(Pe.info("Adding state ",e,n),typeof n=="string"&&lDe(e,n.trim()),typeof n=="object"&&n.forEach(s=>lDe(e,s.trim()))),i&&(qs.states[e].note=i,qs.states[e].note.text=Gr.sanitizeText(qs.states[e].note.text,ft()))},"addState"),BOe=a(function(e){j5={root:MOe()},qs=j5.root,qs=j5.root,SM=0,LOe=[],e||eu()},"clear$1"),Zjt=a(function(e){return qs.states[e]},"getState"),eGt=a(function(){return qs.states},"getStates"),tGt=a(function(){Pe.info("Documents = ",j5)},"logDocuments"),rGt=a(function(){return qs.relations},"getRelations"),ROe=a(function(e,t,r){let n=e,i=t,s="default",o="default";e==="[*]"&&(SM++,n="start"+SM,s="start"),t==="[*]"&&(i="end"+SM,o="end"),$M(n,s),$M(i,o),qs.relations.push({id1:n,id2:i,title:Gr.sanitizeText(r,ft())})},"addRelation"),lDe=a(function(e,t){let r=qs.states[e],n=t;n[0]===":"&&(n=n.substr(1).trim()),r.descriptions.push(Gr.sanitizeText(n,ft()))},"addDescription"),nGt=a(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),iGt={LINE:0,DOTTED_LINE:1},uDe=0,aGt=a(()=>(uDe++,"divider-id-"+uDe),"getDividerId"),LOe=[],sGt=a(()=>LOe,"getClasses$1"),DOe="TB",oGt=a(()=>DOe,"getDirection"),cGt=a(e=>{DOe=e},"setDirection"),lGt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},uGt=a(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),dd={parseDirective:Gjt,getConfig:()=>ft().state,addState:$M,clear:BOe,getState:Zjt,getStates:eGt,getRelations:rGt,getClasses:sGt,getDirection:oGt,addRelation:ROe,getDividerId:aGt,setDirection:cGt,cleanupLabel:nGt,lineType:iGt,relationType:lGt,logDocuments:tGt,getRootDoc:$jt,setRootDoc:Kjt,getRootDocV2:Xjt,extract:Jjt,trimColon:uGt,getAccTitle:tu,setAccTitle:ol,getAccDescription:nu,setAccDescription:ru},fGt=a(e=>e.append("circle").attr("class","start-state").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit).attr("cy",ft().state.padding+ft().state.sizeUnit),"drawStartState"),hGt=a(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ft().state.textHeight).attr("class","divider").attr("x2",ft().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),dGt=a((e,t)=>{let r=e.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+2*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",n.width+2*ft().state.padding).attr("height",n.height+2*ft().state.padding).attr("rx",ft().state.radius),r},"drawSimpleState"),pGt=a((e,t)=>{let r=a(function(g,y,E){let M=g.append("tspan").attr("x",2*ft().state.padding).text(y);E||M.attr("dy",ft().state.textHeight)},"addTspan2"),i=e.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+1.3*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),s=i.height,o=e.append("text").attr("x",ft().state.padding).attr("y",s+ft().state.padding*.4+ft().state.dividerMargin+ft().state.textHeight).attr("class","state-description"),l=!0,u=!0;t.descriptions.forEach(function(g){l||(r(o,g,u),u=!1),l=!1});let f=e.append("line").attr("x1",ft().state.padding).attr("y1",ft().state.padding+s+ft().state.dividerMargin/2).attr("y2",ft().state.padding+s+ft().state.dividerMargin/2).attr("class","descr-divider"),h=o.node().getBBox(),p=Math.max(h.width,i.width);return f.attr("x2",p+3*ft().state.padding),e.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",p+2*ft().state.padding).attr("height",h.height+s+2*ft().state.padding).attr("rx",ft().state.radius),e},"drawDescrState"),gGt=a((e,t,r)=>{let n=ft().state.padding,i=2*ft().state.padding,s=e.node().getBBox(),o=s.width,l=s.x,u=e.append("text").attr("x",0).attr("y",ft().state.titleShift).attr("font-size",ft().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+i,p=Math.max(h,o);p===o&&(p=p+i);let g,y=e.node().getBBox();t.doc,g=l-n,h>o&&(g=(o-p)/2+n),Math.abs(l-y.x)<n&&h>o&&(g=l-(h-o)/2);let E=1-ft().state.textHeight;return e.insert("rect",":first-child").attr("x",g).attr("y",E).attr("class",r?"alt-composit":"composit").attr("width",p).attr("height",y.height+ft().state.textHeight+ft().state.titleShift+1).attr("rx","0"),u.attr("x",g+n),h<=o&&u.attr("x",l+(p-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",g).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",p).attr("height",ft().state.textHeight*3).attr("rx",ft().state.radius),e.insert("rect",":first-child").attr("x",g).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",p).attr("height",y.height+3+2*ft().state.textHeight).attr("rx",ft().state.radius),e},"addTitleAndBox"),yGt=a(e=>(e.append("circle").attr("class","end-state-outer").attr("r",ft().state.sizeUnit+ft().state.miniPadding).attr("cx",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding).attr("cy",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit+2).attr("cy",ft().state.padding+ft().state.sizeUnit+2)),"drawEndState"),mGt=a((e,t)=>{let r=ft().state.forkWidth,n=ft().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",ft().state.padding).attr("y",ft().state.padding)},"drawForkJoinState"),bGt=a((e,t,r,n)=>{let i=0,s=n.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let o=e.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");let l=o.split(Gr.lineBreakRegex),u=1.25*ft().state.noteMargin;for(let f of l){let h=f.trim();if(h.length>0){let p=s.append("tspan");if(p.text(h),u===0){let g=p.node().getBBox();u+=g.height}i+=u,p.attr("x",t+ft().state.noteMargin),p.attr("y",r+i+1.25*ft().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},"_drawLongText"),vGt=a((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",ft().state.padding),n=t.append("g"),{textWidth:i,textHeight:s}=bGt(e,0,0,n);return r.attr("height",s+2*ft().state.noteMargin),r.attr("width",i+ft().state.noteMargin*2),r},"drawNote"),fDe=a(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&fGt(i),t.type==="end"&&yGt(i),(t.type==="fork"||t.type==="join")&&mGt(i,t),t.type==="note"&&vGt(t.note.text,i),t.type==="divider"&&hGt(i),t.type==="default"&&t.descriptions.length===0&&dGt(i,t),t.type==="default"&&t.descriptions.length>0&&pGt(i,t);let s=i.node().getBBox();return n.width=s.width+2*ft().state.padding,n.height=s.height+2*ft().state.padding,n},"drawState"),hDe=0,_Gt=a(function(e,t,r){let n=a(function(u){switch(u){case dd.relationType.AGGREGATION:return"aggregation";case dd.relationType.EXTENSION:return"extension";case dd.relationType.COMPOSITION:return"composition";case dd.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));let i=t.points,s=z0().x(function(u){return u.x}).y(function(u){return u.y}).curve(jh),o=e.append("path").attr("d",s(i)).attr("id","edge"+hDe).attr("class","transition"),l="";if(ft().state.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),o.attr("marker-end","url("+l+"#"+n(dd.relationType.DEPENDENCY)+"End)"),typeof r.title<"u"){let u=e.append("g").attr("class","stateLabel"),{x:f,y:h}=on.calcLabelPosition(t.points),p=Gr.getRows(r.title),g=0,y=[],E=0,M=0;for(let Q=0;Q<=p.length;Q++){let V=u.append("text").attr("text-anchor","middle").text(p[Q]).attr("x",f).attr("y",h+g),W=V.node().getBBox();E=Math.max(E,W.width),M=Math.min(M,W.x),Pe.info(W.x,f,h+g),g===0&&(g=V.node().getBBox().height,Pe.info("Title height",g,h)),y.push(V)}let z=g*p.length;if(p.length>1){let Q=(p.length-1)*g*.5;y.forEach((V,W)=>V.attr("y",h+W*g-Q)),z=g*p.length}let P=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",f-E/2-ft().state.padding/2).attr("y",h-z/2-ft().state.padding/2-3.5).attr("width",E+ft().state.padding).attr("height",z+ft().state.padding),Pe.info(P)}hDe++},"drawEdge"),yc,v$={},xGt=a(function(){},"setConf$3"),wGt=a(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),AGt=a(function(e,t,r,n){yc=ft().state;let i=ft().securityLevel,s;i==="sandbox"&&(s=Zt("#i"+t));let o=i==="sandbox"?Zt(s.nodes()[0].contentDocument.body):Zt("body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;Pe.debug("Rendering diagram "+e);let u=o.select(`[id='${t}']`);wGt(u),new Ea.default.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});let h=n.db.getRootDoc();NOe(h,u,void 0,!1,o,l,n);let p=yc.padding,g=u.node().getBBox(),y=g.width+p*2,E=g.height+p*2,M=y*1.75;Zl(u,E,M,yc.useMaxWidth),u.attr("viewBox",`${g.x-yc.padding}  ${g.y-yc.padding} `+y+" "+E),Oo(n.db,u,t)},"draw$3"),EGt=a(e=>e?e.length*yc.fontSizeFactor:1,"getLabelWidth"),NOe=a((e,t,r,n,i,s,o)=>{let l=new Ea.default.Graph({compound:!0,multigraph:!0}),u,f=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){f=!1;break}r?l.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:f?1:yc.edgeLengthFactor,nodeSep:f?1:50,isMultiGraph:!0}):l.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:f?1:yc.edgeLengthFactor,nodeSep:f?1:50,ranker:"tight-tree",isMultiGraph:!0}),l.setDefaultEdgeLabel(function(){return{}}),o.db.extract(e);let h=o.db.getStates(),p=o.db.getRelations(),g=Object.keys(h);for(let P=0;P<g.length;P++){let Q=h[g[P]];r&&(Q.parentId=r);let V;if(Q.doc){let W=t.append("g").attr("id",Q.id).attr("class","stateGroup");V=NOe(Q.doc,W,Q.id,!n,i,s,o);{W=gGt(W,Q,n);let F=W.node().getBBox();V.width=F.width,V.height=F.height+yc.padding/2,v$[Q.id]={y:yc.compositTitleSize}}}else V=fDe(t,Q);if(Q.note){let W={descriptions:[],id:Q.id+"-note",note:Q.note,type:"note"},F=fDe(t,W);Q.note.position==="left of"?(l.setNode(V.id+"-note",F),l.setNode(V.id,V)):(l.setNode(V.id,V),l.setNode(V.id+"-note",F)),l.setParent(V.id,V.id+"-group"),l.setParent(V.id+"-note",V.id+"-group")}else l.setNode(V.id,V)}Pe.debug("Count=",l.nodeCount(),l);let y=0;p.forEach(function(P){y++,Pe.debug("Setting edge",P),l.setEdge(P.id1,P.id2,{relation:P,width:EGt(P.title),height:yc.labelHeight*Gr.getRows(P.title).length,labelpos:"c"},"id"+y)}),Tv.default.layout(l),Pe.debug("Graph after layout",l.nodes());let E=t.node();l.nodes().forEach(function(P){typeof P<"u"&&typeof l.node(P)<"u"?(Pe.warn("Node "+P+": "+JSON.stringify(l.node(P))),i.select("#"+E.id+" #"+P).attr("transform","translate("+(l.node(P).x-l.node(P).width/2)+","+(l.node(P).y+(v$[P]?v$[P].y:0)-l.node(P).height/2)+" )"),i.select("#"+E.id+" #"+P).attr("data-x-shift",l.node(P).x-l.node(P).width/2),s.querySelectorAll("#"+E.id+" #"+P+" .divider").forEach(V=>{let W=V.parentElement,F=0,B=0;W&&(W.parentElement&&(F=W.parentElement.getBBox().width),B=parseInt(W.getAttribute("data-x-shift"),10),Number.isNaN(B)&&(B=0)),V.setAttribute("x1",0-B+8),V.setAttribute("x2",F-B-8)})):Pe.debug("No Node "+P+": "+JSON.stringify(l.node(P)))});let M=E.getBBox();l.edges().forEach(function(P){typeof P<"u"&&typeof l.edge(P)<"u"&&(Pe.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(l.edge(P))),_Gt(t,l.edge(P),l.edge(P).relation))}),M=E.getBBox();let z={id:r||"root",label:r||"root",width:0,height:0};return z.width=M.width+2*yc.padding,z.height=M.height+2*yc.padding,Pe.debug("Doc rendered",z,l),z},"renderDoc"),SGt={setConf:xGt,draw:AGt},kGt={},CGt=a(function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)kGt[t[r]]=e[t[r]]},"setConf$2"),zn={},IGt=a(function(e,t){return Pe.trace("Extracting classes"),t.sb.clear(),t.parser.parse(e),t.sb.getClasses()},"getClasses"),kM=a((e,t,r,n)=>{if(r.id!=="root"){let i="rect";r.start===!0&&(i="start"),r.start===!1&&(i="end"),r.type!=="default"&&(i=r.type),zn[r.id]||(zn[r.id]={id:r.id,shape:i,description:Gr.sanitizeText(r.id,ft()),classes:"statediagram-state"}),r.description&&(Array.isArray(zn[r.id].description)?(zn[r.id].shape="rectWithTitle",zn[r.id].description.push(r.description)):zn[r.id].description.length>0?(zn[r.id].shape="rectWithTitle",zn[r.id].description===r.id?zn[r.id].description=[r.description]:zn[r.id].description=[zn[r.id].description,r.description]):(zn[r.id].shape="rect",zn[r.id].description=r.description),zn[r.id].description=Gr.sanitizeTextOrArray(zn[r.id].description,ft())),zn[r.id].description.length===1&&zn[r.id].shape==="rectWithTitle"&&(zn[r.id].shape="rect"),!zn[r.id].type&&r.doc&&(Pe.info("Setting cluster for ",r.id,G$(r)),zn[r.id].type="group",zn[r.id].dir=G$(r),zn[r.id].shape=r.type==="divider"?"divider":"roundedWithTitle",zn[r.id].classes=zn[r.id].classes+" "+(n?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));let s={labelStyle:"",shape:zn[r.id].shape,labelText:zn[r.id].description,classes:zn[r.id].classes,style:"",id:r.id,dir:zn[r.id].dir,domId:"state-"+r.id+"-"+op,type:zn[r.id].type,padding:15};if(r.note){let o={labelStyle:"",shape:"note",labelText:r.note.text,classes:"statediagram-note",style:"",id:r.id+"----note-"+op,domId:"state-"+r.id+"----note-"+op,type:zn[r.id].type,padding:15},l={labelStyle:"",shape:"noteGroup",labelText:r.note.text,classes:zn[r.id].classes,style:"",id:r.id+"----parent",domId:"state-"+r.id+"----parent-"+op,type:"group",padding:0};op++,e.setNode(r.id+"----parent",l),e.setNode(o.id,o),e.setNode(r.id,s),e.setParent(r.id,r.id+"----parent"),e.setParent(o.id,r.id+"----parent");let u=r.id,f=o.id;r.note.position==="left of"&&(u=o.id,f=r.id),e.setEdge(u,f,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else e.setNode(r.id,s)}t&&t.id!=="root"&&(Pe.trace("Setting node ",r.id," to be child of its parent ",t.id),e.setParent(r.id,t.id)),r.doc&&(Pe.trace("Adding nodes children "),TGt(e,r,r.doc,!n))},"setupNode"),op=0,TGt=a((e,t,r,n)=>{Pe.trace("items",r),r.forEach(i=>{if(i.stmt==="state"||i.stmt==="default")kM(e,t,i,n);else if(i.stmt==="relation"){kM(e,t,i.state1,n),kM(e,t,i.state2,n);let s={id:"edge"+op,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:Gr.sanitizeText(i.description,ft()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},o=i.state1.id,l=i.state2.id;e.setEdge(o,l,s,op),op++}})},"setupDoc"),G$=a((e,t)=>{let r=t||"TB";if(e.doc)for(let n=0;n<e.doc.length;n++){let i=e.doc[n];i.stmt==="dir"&&(r=i.value)}return r},"getDir"),MGt=a(function(e,t,r,n){Pe.info("Drawing state diagram (v2)",t),zn={},n.db.getDirection();let{securityLevel:i,state:s}=ft(),o=s.nodeSpacing||50,l=s.rankSpacing||50;Pe.info(n.db.getRootDocV2()),n.db.extract(n.db.getRootDocV2()),Pe.info(n.db.getRootDocV2());let u=new Ea.default.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:G$(n.db.getRootDocV2()),nodesep:o,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});kM(u,void 0,n.db.getRootDocV2(),!0);let f;i==="sandbox"&&(f=Zt("#i"+t));let h=i==="sandbox"?Zt(f.nodes()[0].contentDocument.body):Zt("body"),p=h.select(`[id="${t}"]`),g=h.select("#"+t+" g");gX(g,u,["barb"],"statediagram",t);let y=8,E=p.node().getBBox(),M=E.width+y*2,z=E.height+y*2;p.attr("class","statediagram");let P=p.node().getBBox();Zl(p,z,M,s.useMaxWidth);let Q=`${P.x-y} ${P.y-y} ${M} ${z}`;Pe.debug(`viewBox ${Q}`),p.attr("viewBox",Q);let V=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let W=0;W<V.length;W++){let F=V[W],B=F.getBBox(),S=document.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",B.width),S.setAttribute("height",B.height),F.insertBefore(S,F.firstChild)}Oo(n.db,p,t)},"draw$2"),BGt={setConf:CGt,getClasses:IGt,draw:MGt},K$=function(){var e=a(function(M,z,P,Q){for(P=P||{},Q=M.length;Q--;P[M[Q]]=z);return P},"o"),t=[1,2],r=[1,5],n=[6,9,11,17,18,20,22,23,24,26],i=[1,15],s=[1,16],o=[1,17],l=[1,18],u=[1,19],f=[1,20],h=[1,24],p=[4,6,9,11,17,18,20,22,23,24,26],g={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:a(function(z,P,Q,V,W,F,B){var S=F.length-1;switch(W){case 1:return F[S-1];case 3:this.$=[];break;case 4:F[S-1].push(F[S]),this.$=F[S-1];break;case 5:case 6:this.$=F[S];break;case 7:case 8:this.$=[];break;case 11:V.setDiagramTitle(F[S].substr(6)),this.$=F[S].substr(6);break;case 12:this.$=F[S].trim(),V.setAccTitle(this.$);break;case 13:case 14:this.$=F[S].trim(),V.setAccDescription(this.$);break;case 15:V.addSection(F[S].substr(8)),this.$=F[S].substr(8);break;case 16:V.addTask(F[S-1],F[S]),this.$="task";break;case 18:V.parseDirective("%%{","open_directive");break;case 19:V.parseDirective(F[S],"type_directive");break;case 20:F[S]=F[S].trim().replace(/'/g,'"'),V.parseDirective(F[S],"arg_directive");break;case 21:V.parseDirective("}%%","close_directive","journey");break}},"anonymous"),table:[{3:1,4:t,7:3,12:4,26:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,26:r},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:s,20:o,22:l,23:u,24:f,26:r},{1:[2,2]},{14:22,15:[1,23],29:h},e([15,29],[2,19]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:21,10:25,12:4,17:i,18:s,20:o,22:l,23:u,24:f,26:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),{19:[1,26]},{21:[1,27]},e(n,[2,14]),e(n,[2,15]),{25:[1,28]},e(n,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(n,[2,5]),e(n,[2,12]),e(n,[2,13]),e(n,[2,16]),e(p,[2,9]),{14:32,29:h},{29:[2,20]},{11:[1,33]},e(p,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:a(function(z,P){if(P.recoverable)this.trace(z);else{var Q=new Error(z);throw Q.hash=P,Q}},"parseError"),parse:a(function(z){var P=this,Q=[0],V=[],W=[null],F=[],B=this.table,S="",T=0,k=0,R=2,x=1,N=F.slice.call(arguments,1),m=Object.create(this.lexer),v={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(v.yy[A]=this.yy[A]);m.setInput(z,v.yy),v.yy.lexer=m,v.yy.parser=this,typeof m.yylloc>"u"&&(m.yylloc={});var U=m.yylloc;F.push(U);var G=m.options&&m.options.ranges;typeof v.yy.parseError=="function"?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function K(){var D;return D=V.pop()||m.lex()||x,typeof D!="number"&&(D instanceof Array&&(V=D,D=V.pop()),D=P.symbols_[D]||D),D}a(K,"lex");for(var Z,O,$,L,ee={},ve,ye,se,be;;){if(O=Q[Q.length-1],this.defaultActions[O]?$=this.defaultActions[O]:((Z===null||typeof Z>"u")&&(Z=K()),$=B[O]&&B[O][Z]),typeof $>"u"||!$.length||!$[0]){var Y="";be=[];for(ve in B[O])this.terminals_[ve]&&ve>R&&be.push("'"+this.terminals_[ve]+"'");m.showPosition?Y="Parse error on line "+(T+1)+`:
`+m.showPosition()+`
Expecting `+be.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":Y="Parse error on line "+(T+1)+": Unexpected "+(Z==x?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(Y,{text:m.match,token:this.terminals_[Z]||Z,line:m.yylineno,loc:U,expected:be})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+Z);switch($[0]){case 1:Q.push(Z),W.push(m.yytext),F.push(m.yylloc),Q.push($[1]),Z=null,k=m.yyleng,S=m.yytext,T=m.yylineno,U=m.yylloc;break;case 2:if(ye=this.productions_[$[1]][1],ee.$=W[W.length-ye],ee._$={first_line:F[F.length-(ye||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(ye||1)].first_column,last_column:F[F.length-1].last_column},G&&(ee._$.range=[F[F.length-(ye||1)].range[0],F[F.length-1].range[1]]),L=this.performAction.apply(ee,[S,k,T,v.yy,$[1],W,F].concat(N)),typeof L<"u")return L;ye&&(Q=Q.slice(0,-1*ye*2),W=W.slice(0,-1*ye),F=F.slice(0,-1*ye)),Q.push(this.productions_[$[1]][0]),W.push(ee.$),F.push(ee._$),se=B[Q[Q.length-2]][Q[Q.length-1]],Q.push(se);break;case 3:return!0}}return!0},"parse2")},y=function(){var M={EOF:1,parseError:a(function(P,Q){if(this.yy.parser)this.yy.parser.parseError(P,Q);else throw new Error(P)},"parseError"),setInput:function(z,P){return this.yy=P||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var P=z.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var P=z.length,Q=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Q.length-1&&(this.yylineno-=Q.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Q?(Q.length===V.length?this.yylloc.first_column:0)+V[V.length-Q.length].length-Q[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),P=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+P+"^"},test_match:function(z,P){var Q,V,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),V=z[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],Q=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Q)return Q;if(this._backtrack){for(var F in W)this[F]=W[F];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,P,Q,V;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),F=0;F<W.length;F++)if(Q=this._input.match(this.rules[W[F]]),Q&&(!P||Q[0].length>P[0].length)){if(P=Q,V=F,this.options.backtrack_lexer){if(z=this.test_match(Q,W[F]),z!==!1)return z;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(z=this.test_match(P,W[V]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var P=this.next();return P||this.lex()},"lex"),begin:a(function(P){this.conditionStack.push(P)},"begin"),popState:a(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:a(function(P){this.begin(P)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(P,Q,V,W){switch(V){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return M}();g.lexer=y;function E(){this.yy={}}return a(E,"Parser"),E.prototype=g,g.Parser=E,new E}();K$.parser=K$;var RGt=a(e=>e.match(/^\s*journey/)!==null,"journeyDetector"),Iv="",DX=[],a6=[],bv=[],LGt=a(function(e,t,r){xi.parseDirective(this,e,t,r)},"parseDirective$1"),DGt=a(function(){DX.length=0,a6.length=0,Iv="",bv.length=0,eu()},"clear"),NGt=a(function(e){Iv=e,DX.push(e)},"addSection"),OGt=a(function(){return DX},"getSections"),qGt=a(function(){let e=dDe(),t=100,r=0;for(;!e&&r<t;)e=dDe(),r++;return a6.push(...bv),a6},"getTasks"),PGt=a(function(){let e=[];return a6.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),FGt=a(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let s=i.map(l=>l.trim()),o={section:Iv,type:Iv,people:s,task:e,score:n};bv.push(o)},"addTask"),UGt=a(function(e){let t={section:Iv,type:Iv,description:e,task:e,classes:[]};a6.push(t)},"addTaskOrg"),dDe=a(function(){let e=a(function(r){return bv[r].processed},"compileTask"),t=!0;for(let r=0;r<bv.length;r++)e(r),t=t&&bv[r].processed;return t},"compileTasks"),YGt=a(function(){return PGt()},"getActors"),pDe={parseDirective:LGt,getConfig:()=>ft().journey,clear:DGt,setDiagramTitle:hB,getDiagramTitle:dB,setAccTitle:ol,getAccTitle:tu,setAccDescription:ru,getAccDescription:nu,addSection:NGt,getSections:OGt,getTasks:qGt,addTask:FGt,addTaskOrg:UGt,getActors:YGt},kB=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},"drawRect"),HGt=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(u){let f=Nb().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(s,"smile");function o(u){let f=Nb().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(o,"sad");function l(u){u.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(l,"ambivalent"),t.score>3?s(i):t.score<3?o(i):l(i),n},"drawFace"),OOe=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),typeof r.class<"u"&&r.attr("class",r.class),typeof t.title<"u"&&r.append("title").text(t.title),r},"drawCircle"),qOe=a(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),typeof t.class<"u"&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),zGt=a(function(e,t){function r(i,s,o,l,u){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+l-u)+" "+(i+o-u*1.2)+","+(s+l)+" "+i+","+(s+l)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,qOe(e,t)},"drawLabel"),QGt=a(function(e,t,r){let n=e.append("g"),i=NX();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,kB(n,i),POe(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),gDe=-1,WGt=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");gDe++;let s=300+5*30;i.append("line").attr("id","task"+gDe).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),HGt(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=NX();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,kB(i,o);let l=t.x+14;t.people.forEach(u=>{let f=t.actors[u].color,h={cx:l,cy:t.y,r:7,fill:f,stroke:"#000",title:u,pos:t.actors[u].position};OOe(i,h),l+=10}),POe(r)(t.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),VGt=a(function(e,t){kB(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),jGt=a(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),NX=a(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),POe=function(){function e(i,s,o,l,u,f,h,p){let g=s.append("text").attr("x",o+u/2).attr("y",l+f/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(g,h)}a(e,"byText");function t(i,s,o,l,u,f,h,p,g){let{taskFontSize:y,taskFontFamily:E}=p,M=i.split(/<br\s*\/?>/gi);for(let z=0;z<M.length;z++){let P=z*y-y*(M.length-1)/2,Q=s.append("text").attr("x",o+u/2).attr("y",l).attr("fill",g).style("text-anchor","middle").style("font-size",y).style("font-family",E);Q.append("tspan").attr("x",o+u/2).attr("dy",P).text(M[z]),Q.attr("y",l+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(Q,h)}}a(t,"byTspan");function r(i,s,o,l,u,f,h,p){let g=s.append("switch"),E=g.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",f).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,g,o,l,u,f,h,p),n(E,h)}a(r,"byFo");function n(i,s){for(let o in s)o in s&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),GGt=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),s6={drawRect:kB,drawCircle:OOe,drawSection:QGt,drawText:qOe,drawLabel:zGt,drawTask:WGt,drawBackgroundRect:VGt,getTextObj:jGt,getNoteRect:NX,initGraphics:GGt},KGt=a(function(e){Object.keys(e).forEach(function(r){CB[r]=e[r]})},"setConf$1"),gd={};function $Gt(e){let t=ft().journey,r=60;Object.keys(gd).forEach(n=>{let i=gd[n].color,s={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:gd[n].position};s6.drawCircle(e,s);let o={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};s6.drawText(e,o),r+=20})}a($Gt,"drawActorLegend");var CB=ft().journey,ay=CB.leftMargin,XGt=a(function(e,t,r,n){let i=ft().journey;n.db.clear(),n.parser.parse(e+`
`);let s=ft().securityLevel,o;s==="sandbox"&&(o=Zt("#i"+t));let l=s==="sandbox"?Zt(o.nodes()[0].contentDocument.body):Zt("body");al.init();let u=l.select("#"+t);s6.initGraphics(u);let f=n.db.getTasks(),h=n.db.getDiagramTitle(),p=n.db.getActors();for(let P in gd)delete gd[P];let g=0;p.forEach(P=>{gd[P]={color:i.actorColours[g%i.actorColours.length],position:g},g++}),$Gt(u),al.insert(0,0,ay,Object.keys(gd).length*50),JGt(u,f,0);let y=al.getBounds();h&&u.append("text").text(h).attr("x",ay).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let E=y.stopy-y.starty+2*i.diagramMarginY,M=ay+y.stopx+2*i.diagramMarginX;Zl(u,E,M,i.useMaxWidth),u.append("line").attr("x1",ay).attr("y1",i.height*4).attr("x2",M-ay-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let z=h?70:0;u.attr("viewBox",`${y.startx} -25 ${M} ${E+z}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",E+z+25),Oo(n.db,u,t)},"draw$1"),al={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=ft().journey,s=this,o=0;function l(u){return a(function(h){o++;let p=s.sequenceItems.length-o+1;s.updateVal(h,"starty",t-p*i.boxMargin,Math.min),s.updateVal(h,"stopy",n+p*i.boxMargin,Math.max),s.updateVal(al.data,"startx",e-p*i.boxMargin,Math.min),s.updateVal(al.data,"stopx",r+p*i.boxMargin,Math.max),u!=="activation"&&(s.updateVal(h,"startx",e-p*i.boxMargin,Math.min),s.updateVal(h,"stopx",r+p*i.boxMargin,Math.max),s.updateVal(al.data,"starty",t-p*i.boxMargin,Math.min),s.updateVal(al.data,"stopy",n+p*i.boxMargin,Math.max))},"updateItemBounds")}a(l,"updateFn"),this.sequenceItems.forEach(l())},insert:function(e,t,r,n){let i=Math.min(e,r),s=Math.max(e,r),o=Math.min(t,n),l=Math.max(t,n);this.updateVal(al.data,"startx",i,Math.min),this.updateVal(al.data,"starty",o,Math.min),this.updateVal(al.data,"stopx",s,Math.max),this.updateVal(al.data,"stopy",l,Math.max),this.updateBounds(i,o,s,l)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},_$=CB.sectionFills,yDe=CB.sectionColours,JGt=a(function(e,t,r){let n=ft().journey,i="",s=n.height*2+n.diagramMarginY,o=r+s,l=0,u="#CCC",f="black",h=0;for(let p=0;p<t.length;p++){let g=t[p];if(i!==g.section){u=_$[l%_$.length],h=l%_$.length,f=yDe[l%yDe.length];let E={x:p*n.taskMargin+p*n.width+ay,y:50,text:g.section,fill:u,num:h,colour:f};s6.drawSection(e,E,n),i=g.section,l++}let y=g.people.reduce((E,M)=>(gd[M]&&(E[M]=gd[M]),E),{});g.x=p*n.taskMargin+p*n.width+ay,g.y=o,g.width=n.diagramMarginX,g.height=n.diagramMarginY,g.colour=f,g.fill=u,g.num=h,g.actors=y,s6.drawTask(e,g,n),al.insert(g.x,g.y,g.x+g.width+n.taskMargin,300+5*30)}},"drawTasks"),mDe={setConf:KGt,draw:XGt},bDe={},ZGt=a(function(e){bDe={...bDe,...e}},"setConf"),eKt=a((e,t,r)=>{try{Pe.debug(`Renering svg for syntax error
`);let n=Zt("#"+t),i=n.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+r),n.attr("height",100),n.attr("width",500),n.attr("viewBox","768 0 912 512")}catch(n){Pe.error("Error while rendering info diagram"),Pe.error(gFt(n))}},"draw"),OX={setConf:ZGt,draw:eKt},vDe=!1,p6=a(()=>{vDe||(vDe=!0,ts("error",{db:{clear:()=>{}},styles:NDe,renderer:OX,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),ts("c4",{parser:J5,db:ZDe,renderer:bRe,styles:HDe,init:e=>{bRe.setConf(e.c4)}},bUt),ts("class",{parser:PM,db:dv,renderer:YYt,styles:F5,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,dv.clear()}},dYt),ts("classDiagram",{parser:PM,db:dv,renderer:XHt,styles:F5,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,dv.clear()}},pYt),ts("er",{parser:B$,db:ozt,renderer:bzt,styles:DDe},JHt),ts("gantt",{parser:L$,db:MX,renderer:nVt,styles:ODe},SWt),ts("info",{parser:q$,db:cVt,renderer:uVt,styles:qDe},fVt),ts("pie",{parser:P$,db:_Vt,renderer:wVt,styles:PDe},hVt),ts("requirement",{parser:F$,db:HVt,renderer:XVt,styles:FDe},AVt),ts("sequence",{parser:Y$,db:sDe,renderer:cDe,styles:UDe,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");sDe.setWrap(e.wrap),cDe.setConf(e.sequence)}},JVt),ts("state",{parser:GM,db:dd,renderer:SGt,styles:MM,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,dd.clear()}},Vjt),ts("stateDiagram",{parser:GM,db:dd,renderer:BGt,styles:MM,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,dd.clear()}},jjt),ts("journey",{parser:K$,db:pDe,renderer:mDe,styles:YDe,init:e=>{mDe.setConf(e.journey),pDe.clear()}},RGt),ts("flowchart",{parser:HM,db:hd,renderer:b$,styles:TM,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,EX.setConf(e.flowchart),hd.clear(),hd.setGen("gen-1")}},vzt),ts("flowchart-v2",{parser:HM,db:hd,renderer:b$,styles:TM,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,RDe({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),b$.setConf(e.flowchart),hd.clear(),hd.setGen("gen-2")}},_zt),ts("gitGraph",{parser:S$,db:cUt,renderer:yUt,styles:mUt},zFt))},"addDiagrams"),dp=class{constructor(t,r){R5(this,"type","graph"),R5(this,"parser"),R5(this,"renderer"),R5(this,"db"),R5(this,"detectTypeFailed",!1);var n,i;this.txt=t;let s=ft();this.txt=t;try{this.type=X$(t,s)}catch(l){this.handleError(l,r),this.type="error",this.detectTypeFailed=!0}let o=WDe(this.type);Pe.debug("Type "+this.type),this.db=o.db,(i=(n=this.db).clear)==null||i.call(n),this.renderer=o.renderer,this.parser=o.parser,this.parser.parser.yy=this.db,o.init&&(o.init(s),Pe.debug("Initialized diagram "+this.type,s)),this.txt+=`
`,this.parse(this.txt,r)}parse(t,r){if(this.detectTypeFailed)return!1;try{return t=t+`
`,this.db.clear(),this.parser.parse(t),!0}catch(n){this.handleError(n,r)}return!1}handleError(t,r){if(r)rX(t)?r(t.str,t.hash):r(t);else throw t}getParser(){return this.parser}getType(){return this.type}};a(dp,"Diagram");var qX=a((e,t)=>{let r=X$(e,ft());try{return WDe(r),new dp(e,t)}catch(n){if(!(n instanceof U5))throw Pe.error(n),n;let i=WOt(r);if(!i)throw new Error(`Loader for ${r} not found.`);return i().then(({diagram:s})=>(ts(r,s,void 0,s.injectUtils),new dp(e,t)))}},"getDiagramFromText");function tKt(e,t){return p6(),new dp(e,t).parse(e,t)}a(tKt,"parse$1");async function rKt(e,t){return p6(),(await qX(e,t)).parse(e,t)}a(rKt,"parseAsync$1");var FOe=a(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),IB=a(function(e){let t=e;return t=t.replace(//g,function(){return"&#"}),t=t.replace(//g,function(){return"&"}),t=t.replace(//g,function(){return";"}),t},"decodeEntities"),nKt=a(function(e,t,r,n){var i;p6(),K5(),t=t.replace(/\r\n?/g,`
`);let s=on.detectInit(t);s&&(sy(s),nX(s));let o=ft();Pe.debug(o),t.length>o.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let l=Zt("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),o.securityLevel==="sandbox"){let F=Zt(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");l=Zt(F.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=Zt(n);l.append("div").attr("id","d"+e).attr("style","font-family: "+o.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{let F=document.getElementById(e);F&&F.remove();let B;if(o.securityLevel==="sandbox"?B=document.querySelector("#i"+e):B=document.querySelector("#d"+e),B&&B.remove(),o.securityLevel==="sandbox"){let S=Zt("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");l=Zt(S.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=Zt("body");l.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=FOe(t);let u,f;try{if(u=qX(t),"then"in u)throw new Error("Diagram is a promise")}catch(F){u=new dp("error"),f=F}let h=l.select("#d"+e).node(),p=u.type,g=h.firstChild,y=g.firstChild,E="";if(o.themeCSS!==void 0&&(E+=`
${o.themeCSS}`),o.fontFamily!==void 0&&(E+=`
:root { --mermaid-font-family: ${o.fontFamily}}`),o.altFontFamily!==void 0&&(E+=`
:root { --mermaid-alt-font-family: ${o.altFontFamily}}`),p==="flowchart"||p==="flowchart-v2"||p==="graph"){let F=EX.getClasses(t,u),B=o.htmlLabels||((i=o.flowchart)==null?void 0:i.htmlLabels);for(let S in F)B?(E+=`
.${S} > * { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} span { ${F[S].styles.join(" !important; ")} !important; }`):(E+=`
.${S} path { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} rect { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} polygon { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} ellipse { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} circle { ${F[S].styles.join(" !important; ")} !important; }`,F[S].textStyles&&(E+=`
.${S} tspan { ${F[S].textStyles.join(" !important; ")} !important; }`))}let z=a((F,B)=>Z4(zV(`${F}{${B}}`),QV),"stylis")(`#${e}`,zDe(p,E,o.themeVariables)),P=document.createElement("style");P.innerHTML=`#${e} `+z,g.insertBefore(P,y);try{u.renderer.draw(t,e,IM.version,u)}catch(F){throw OX.draw(t,e,IM.version),F}l.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let Q=l.select("#d"+e).node().innerHTML;if(Pe.debug("cnf.arrowMarkerAbsolute",o.arrowMarkerAbsolute),!ns(o.arrowMarkerAbsolute)&&o.securityLevel!=="sandbox"&&(Q=Q.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),Q=IB(Q),Q=Q.replace(/<br>/g,"<br/>"),o.securityLevel==="sandbox"){let F=l.select("#d"+e+" svg").node(),B="100%",S="100%";F&&(S=F.viewBox.baseVal.height+"px"),Q=`<iframe style="width:${B};height:${S};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+Q+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else o.securityLevel!=="loose"&&(Q=vv.default.sanitize(Q,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(p){case"flowchart":case"flowchart-v2":r(Q,hd.bindFunctions);break;case"gantt":r(Q,MX.bindFunctions);break;case"class":case"classDiagram":r(Q,dv.bindFunctions);break;default:r(Q)}else Pe.debug("CB = undefined!");xOe();let V=o.securityLevel==="sandbox"?"#i"+e:"#d"+e,W=Zt(V).node();if(W&&"remove"in W&&W.remove(),f)throw f;return Q},"render"),iKt=a(async function(e,t,r,n){var i;p6(),K5(),t=t.replace(/\r\n?/g,`
`);let s=on.detectInit(t);s&&(sy(s),nX(s));let o=ft();Pe.debug(o),t.length>o.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let l=Zt("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),o.securityLevel==="sandbox"){let F=Zt(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");l=Zt(F.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=Zt(n);l.append("div").attr("id","d"+e).attr("style","font-family: "+o.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{let F=document.getElementById(e);F&&F.remove();let B;if(o.securityLevel==="sandbox"?B=document.querySelector("#i"+e):B=document.querySelector("#d"+e),B&&B.remove(),o.securityLevel==="sandbox"){let S=Zt("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");l=Zt(S.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=Zt("body");l.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=FOe(t);let u,f;try{u=await qX(t)}catch(F){u=new dp("error"),f=F}let h=l.select("#d"+e).node(),p=u.type,g=h.firstChild,y=g.firstChild,E="";if(o.themeCSS!==void 0&&(E+=`
${o.themeCSS}`),o.fontFamily!==void 0&&(E+=`
:root { --mermaid-font-family: ${o.fontFamily}}`),o.altFontFamily!==void 0&&(E+=`
:root { --mermaid-alt-font-family: ${o.altFontFamily}}`),p==="flowchart"||p==="flowchart-v2"||p==="graph"){let F=EX.getClasses(t,u),B=o.htmlLabels||((i=o.flowchart)==null?void 0:i.htmlLabels);for(let S in F)B?(E+=`
.${S} > * { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} span { ${F[S].styles.join(" !important; ")} !important; }`):(E+=`
.${S} path { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} rect { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} polygon { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} ellipse { ${F[S].styles.join(" !important; ")} !important; }`,E+=`
.${S} circle { ${F[S].styles.join(" !important; ")} !important; }`,F[S].textStyles&&(E+=`
.${S} tspan { ${F[S].textStyles.join(" !important; ")} !important; }`))}let z=a((F,B)=>Z4(zV(`${F}{${B}}`),QV),"stylis")(`#${e}`,zDe(p,E,o.themeVariables)),P=document.createElement("style");P.innerHTML=`#${e} `+z,g.insertBefore(P,y);try{await u.renderer.draw(t,e,IM.version,u)}catch(F){throw OX.draw(t,e,IM.version),F}l.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let Q=l.select("#d"+e).node().innerHTML;if(Pe.debug("cnf.arrowMarkerAbsolute",o.arrowMarkerAbsolute),!ns(o.arrowMarkerAbsolute)&&o.securityLevel!=="sandbox"&&(Q=Q.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),Q=IB(Q),Q=Q.replace(/<br>/g,"<br/>"),o.securityLevel==="sandbox"){let F=l.select("#d"+e+" svg").node(),B="100%",S="100%";F&&(S=F.viewBox.baseVal.height+"px"),Q=`<iframe style="width:${B};height:${S};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+Q+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else o.securityLevel!=="loose"&&(Q=vv.default.sanitize(Q,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(p){case"flowchart":case"flowchart-v2":r(Q,hd.bindFunctions);break;case"gantt":r(Q,MX.bindFunctions);break;case"class":case"classDiagram":r(Q,dv.bindFunctions);break;default:r(Q)}else Pe.debug("CB = undefined!");xOe();let V=o.securityLevel==="sandbox"?"#i"+e:"#d"+e,W=Zt(V).node();if(W&&"remove"in W&&W.remove(),f)throw f;return Q},"renderAsync$1"),ny={},aKt=a(function(e,t,r,n){try{if(t!==void 0)switch(t=t.trim(),r){case"open_directive":ny={};break;case"type_directive":if(!ny)throw new Error("currentDirective is undefined");ny.type=t.toLowerCase();break;case"arg_directive":if(!ny)throw new Error("currentDirective is undefined");ny.args=JSON.parse(t);break;case"close_directive":sKt(e,ny,n),ny=void 0;break}}catch(i){Pe.error(`Error while rendering sequenceDiagram directive: ${t} jison context: ${r}`),Pe.error(i.message)}},"parseDirective"),sKt=a(function(e,t,r){switch(Pe.debug(`Directive type=${t.type} with args:`,t.args),t.type){case"init":case"initialize":{["config"].forEach(n=>{typeof t.args[n]<"u"&&(r==="flowchart-v2"&&(r="flowchart"),t.args[r]=t.args[n],delete t.args[n])}),Pe.debug("sanitize in handleDirective",t.args),sy(t.args),Pe.debug("sanitize in handleDirective (done)",t.args),nX(t.args);break}case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap(t.type==="wrap");break;case"themeCss":Pe.warn("themeCss encountered");break;default:Pe.warn(`Unhandled directive: source: '%%{${t.type}: ${JSON.stringify(t.args?t.args:{})}}%%`,t);break}},"handleDirective");function oKt(e={}){e.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),OFt(e),e?.theme&&e.theme in yd?e.themeVariables=yd[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=yd.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?NFt(e):BDe();$$(t.logLevel),p6()}a(oKt,"initialize$1");var xi=Object.freeze({render:nKt,renderAsync:iKt,parse:tKt,parseAsync:rKt,parseDirective:aKt,initialize:oKt,getConfig:ft,setConfig:RDe,getSiteConfig:BDe,updateSiteConfig:qFt,reset:()=>{K5()},globalReset:()=>{K5(_v)},defaultConfig:_v});$$(ft().logLevel);K5(ft());var cKt=a(async function(e,t,r){try{let n=xi.getConfig();n?.lazyLoadedDiagrams&&n.lazyLoadedDiagrams.length>0?await zOe(e,t,r):YOe(e,t,r)}catch(n){Pe.warn("Syntax Error rendering"),rX(n)&&Pe.warn(n.str),No.parseError&&No.parseError(n)}},"init"),UOe=a((e,t,r)=>{Pe.warn(e),rX(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),YOe=a(function(e,t,r){let n=xi.getConfig();e&&(No.sequenceConfig=e),Pe.debug(`${r?"":"No "}Callback function found`);let i;if(typeof t>"u")i=document.querySelectorAll(".mermaid");else if(typeof t=="string")i=document.querySelectorAll(t);else if(t instanceof HTMLElement)i=[t];else if(t instanceof NodeList)i=t;else throw new Error("Invalid argument nodes for mermaid.init");Pe.debug(`Found ${i.length} diagrams`),typeof e?.startOnLoad<"u"&&(Pe.debug("Start On Load: "+e?.startOnLoad),xi.updateSiteConfig({startOnLoad:e?.startOnLoad}));let s=new on.initIdGenerator(n.deterministicIds,n.deterministicIDSeed),o,l=[];for(let u of Array.from(i)){Pe.info("Rendering diagram: "+u.id);if(u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");let f=`mermaid-${s.next()}`;o=u.innerHTML,o=on.entityDecode(o).trim().replace(/<br\s*\/?>/gi,"<br/>");let h=on.detectInit(o);h&&Pe.debug("Detected early reinit: ",h);try{xi.render(f,o,(p,g)=>{u.innerHTML=p,typeof r<"u"&&r(f),g&&g(u)},u)}catch(p){UOe(p,l,No.parseError)}}if(l.length>0)throw l[0]},"initThrowsErrors"),x$,HOe=a(async e=>{var t;return x$===void 0&&(x$=Promise.allSettled(((t=e?.lazyLoadedDiagrams)!=null?t:[]).map(async r=>{let{id:n,detector:i,loadDiagram:s}=await import(r);ADe(n,i,s)}))),await x$},"registerLazyLoadedDiagrams"),w$,lKt=a(async e=>{var t,r;w$===void 0&&(Pe.debug(`Loading ${(t=e?.lazyLoadedDiagrams)==null?void 0:t.length} external diagrams`),w$=Promise.allSettled(((r=e?.lazyLoadedDiagrams)!=null?r:[]).map(async n=>{let{id:i,detector:s,loadDiagram:o}=await import(n),{diagram:l}=await o();ts(i,l,s,l.injectUtils)}))),await w$},"loadExternalDiagrams"),zOe=a(async function(e,t,r){let n=xi.getConfig(),i=[];for(let h of await HOe(n))h.status=="rejected"&&i.push(h.reason);e&&(No.sequenceConfig=e),Pe.debug(`${r?"":"No "}Callback function found`);let s;if(typeof t>"u")s=document.querySelectorAll(".mermaid");else if(typeof t=="string")s=document.querySelectorAll(t);else if(t instanceof HTMLElement)s=[t];else if(t instanceof NodeList)s=t;else throw new Error("Invalid argument nodes for mermaid.init");Pe.debug(`Found ${s.length} diagrams`),typeof e?.startOnLoad<"u"&&(Pe.debug("Start On Load: "+e?.startOnLoad),xi.updateSiteConfig({startOnLoad:e?.startOnLoad}));let o=new on.initIdGenerator(n.deterministicIds,n.deterministicIDSeed),l,u=[];for(let h of Array.from(s)){Pe.info("Rendering diagram: "+h.id);if(h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");let p=`mermaid-${o.next()}`;l=h.innerHTML,l=on.entityDecode(l).trim().replace(/<br\s*\/?>/gi,"<br/>");let g=on.detectInit(l);g&&Pe.debug("Detected early reinit: ",g);try{await xi.renderAsync(p,l,(y,E)=>{h.innerHTML=y,typeof r<"u"&&r(p),E&&E(h)},h)}catch(y){UOe(y,u,No.parseError)}}let f=[...i,...u];if(f.length>0)throw f[0]},"initThrowsErrorsAsync"),uKt=a(function(e){xi.initialize(e)},"initialize"),fKt=a(async function(e){e.loadExternalDiagramsAtStartup?await lKt(e):await HOe(e),xi.initialize(e)},"initializeAsync"),QOe=a(function(){if(No.startOnLoad){let{startOnLoad:e}=xi.getConfig();e&&No.init()}},"contentLoaded");if(typeof document<"u"){window.addEventListener("load",QOe,!1)}var hKt=a(function(e){No.parseError=e},"setParseErrorHandler"),dKt=a(e=>xi.parse(e,No.parseError),"parse"),XM=[],A$=!1,WOe=a(async()=>{if(!A$){for(A$=!0;XM.length>0;){let e=XM.shift();if(e)try{await e()}catch(t){Pe.error("Error executing queue",t)}}A$=!1}},"executeQueue"),pKt=a(e=>new Promise((t,r)=>{let n=a(()=>new Promise((i,s)=>{xi.parseAsync(e,No.parseError).then(o=>{i(o),t(o)},o=>{Pe.error("Error parsing",o),s(o),r(o)})}),"performCall");XM.push(n),WOe()}),"parseAsync"),gKt=a((e,t,r,n)=>new Promise((i,s)=>{let o=a(()=>new Promise((l,u)=>{xi.renderAsync(e,t,r,n).then(f=>{l(f),i(f)},f=>{Pe.error("Error parsing",f),u(f),s(f)})}),"performCall");XM.push(o),WOe()}),"renderAsync"),No={startOnLoad:!0,diagrams:{},mermaidAPI:xi,parse:dKt,parseAsync:pKt,render:xi.render,renderAsync:gKt,init:cKt,initThrowsErrors:YOe,initThrowsErrorsAsync:zOe,initialize:uKt,initializeAsync:fKt,parseError:void 0,contentLoaded:QOe,setParseErrorHandler:hKt};No.initialize({startOnLoad:!1});mn.add(a(async function(){try{let t=await new Promise(r=>{No.render("aGraph",this.innerText,r)});return this.html([t])}catch(t){return this.html`
      MERMAID SYNTAX ERROR:
      <pre><code>${t.message||t.str}</code></pre>
    `}},"MermaidGraph"));async function yKt(){await Wr.boot().then(console.info("Kernel booted")),await P1.boot().then(console.info("Kernel booted")),w1("main","view",(0,_n.mute)(m7,l=>l?.path)),xq("main","mode-edit",h2),xq("main","mode-show",(0,_n.mute)(h2,l=>!l));let e=Wr.$rant();PX(e,"markdown-render");let t=(0,_n.memo)((0,_n.gate)((0,_n.mute)(e,l=>l.state))),r=(0,_n.memo)((0,_n.mute)(e,l=>l.theme)),n=(0,_n.memo)((0,_n.mute)(e,l=>l.encryption));w1("view-render","state",t),w1("view-render","theme",(0,_n.mute)(r,l=>LS[l])),Il("r-btn-resume",()=>Kc(!0)),w1("view-editor","state",t),x1("markdown-area",(0,_n.mute)(Wr.$rant(),l=>l?.text),l=>Wr.setText(l)),Qde("markdown-area",(0,_n.mute)(t,l=>l!=="draft"));let i=(0,_n.memo)((0,_n.gate)((0,_n.mute)(Wr.$rant(),l=>l.size)));x1("edit-capacity-meter",(0,_n.mute)(i,l=>Math.ceil(l/1024*100))),zx("edit-capacity-bytes",(0,_n.mute)(i,l=>`${l}`.padStart(4,"0"))),Il("edit-back",()=>{pa((0,_n.get)(t)==="draft"?"home":"saved")}),Il("edit-preview",()=>Kc(!(0,_n.get)(h2))),Il("edit-publish",async()=>{if((0,_n.get)(n)===1){let h=await Vx(!1);if(!h)return;await Wr.setSecret(h)}let u=await Wr.commit(),f=await Wr.pickle(u);pa(`show/${f}`),Kc(!1),console.log("Comitted",u.toString("hex"))}),x1("edit-opt-encryption",n,async l=>Wr.setEncryption(parseInt(l))),Il("edit-fork",async()=>{let l=(0,_n.get)(Wr.$current),[u,f]=await Wr.checkout(l,!0);console.log("Forked into",u,f),pa(`edit/${u}`)}),Il("edit-share",b7),Il("edit-options",()=>{ii("edit-opts-dlg").open=!0}),Il("edit-opts-ok",()=>{ii("edit-opts-dlg").open=!1}),x1("edit-opt-theme",r,async l=>Wr.setTheme(parseInt(l)));let s=Wr.config("dark-mode",!0);x1("opt-dark-mode",...s),w1(document.body,"theme",(0,_n.mute)(s[0],l=>l?"dark":"light"));let o=Wr.config("mirror",!1);x1("opt-mirror",...o),w1("main","mirror",o[0]),zx("nfo-build",(0,_n.init)(`production-2.1.0-${"bfd4636f7a0c0c848e5486de5592da53981f03ec".substr(0,8)}`)),zx("nfo-version",(0,_n.init)("2.1.0".replace(/^(\d+).+/,"$1"))),zx("opt-pk",(0,_n.init)(Wr.pk.toString("base64"))),Il("opt-btn-reload",async()=>{await Wr.store.reload(),window.location.reload()}),Il("opt-btn-purge",a(async function(){let u=`You are about to burn your passport and everything with it...
you sure about this?`;!window.confirm(u)||(await Wr.db.clear(),window.location.reload())},"purge")),PX(Wr.$drafts(),"saved-drafts"),Wr.$current(l=>{if(!Xs(l))return;let u=ii("btn-resume-draft");u.href=`#edit/${l}`}),Wde("btn-resume-draft",(0,_n.mute)(Wr.$current,l=>!Xs(l))),PX(Wr.$rants(),"saved-rants"),(0,_n.mute)((0,_n.gate)(m7),async({path:l,id:u,q:f})=>{switch(l){case"r":case"show":{ii("markdown-render")?.reRender();try{await Wr.import(u);let{title:h,excerpt:p}=(0,_n.get)(Wr.$rant());document.head.querySelector("title").text=h,document.head.querySelector('meta[name="description"]').content=p}catch(h){console.error("500",h),window.alert(h),pa("/")}return"onroute imported() // => true|false TODO"}case"e":case"edit":if(u==="new"){let[h]=await Wr.checkout(null);return Kc(!0),pa(`edit/${h}`),"onroute created new"}try{await Wr.checkout(u)}catch(h){console.error("404?",u,h),pa("/")}return`onroute checkout(${u})`;case"pitch":case"home":break;case"saved":return await Wr.checkout(null),"onroute saved checking out(null)";default:return`onroute 404 - route not found (${l}, ${(u||"").substr(0,24)})`}})(console.info),window.addEventListener("beforeunload",async()=>{Wr.isEditing()&&(console.info("Saving Draft beforeunload"),await Wr.saveDraft(),console.info("Draft Saved!"))}),setInterval(async()=>{try{}catch(l){console.error("GC Failed:",l)}},3e3)}a(yKt,"main");await yKt();function PX(e,t,r){if(typeof t=="string"&&(t=ii(t)),!t.isTonicComponent)throw new Error("Expected Tonic Component");e=(0,_n.gate)(e),r&&(e=(0,_n.nfo)(e,r));let n=e(i=>{t.reRender(s=>({...s,n:i}))});t.disconnected=()=>n()}a(PX,"stitch");window.dump=()=>Wr.inspect().catch(console.error.bind(null,"kernel.inspect() error:"));export{PX as stitch};
/*
 * 1k Rant - Private Kernel
 * @author Tony Ivanov
 * @license AGPLv3
 */
/* ------------ NuroSurgeon ------------
 *
 * Minimal functions to stitch neurons to DOM
 * It's pretty much jQuery with recursion :shrug:
 *
 * @author Tony Ivanov <tony@decentlabs.se>
 * @license AGPLv3
 */
/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Wait for document loaded before starting the execution
 */
/*!
 LZ-UTF8 v0.6.3

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2022-07-06 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */
/*! Check if previously processed */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
